var hit=Object.defineProperty;var pit=(e,t,n)=>t in e?hit(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var be=(e,t,n)=>(pit(e,typeof t!="symbol"?t+"":t,n),n);function git(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function PP(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var GTe={exports:{}},IF={},KTe={exports:{}},An={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RP=Symbol.for("react.element"),mit=Symbol.for("react.portal"),yit=Symbol.for("react.fragment"),vit=Symbol.for("react.strict_mode"),bit=Symbol.for("react.profiler"),Oit=Symbol.for("react.provider"),xit=Symbol.for("react.context"),wit=Symbol.for("react.forward_ref"),Sit=Symbol.for("react.suspense"),_it=Symbol.for("react.memo"),Cit=Symbol.for("react.lazy"),ahe=Symbol.iterator;function $it(e){return e===null||typeof e!="object"?null:(e=ahe&&e[ahe]||e["@@iterator"],typeof e=="function"?e:null)}var JTe={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},e2e=Object.assign,t2e={};function R_(e,t,n){this.props=e,this.context=t,this.refs=t2e,this.updater=n||JTe}R_.prototype.isReactComponent={};R_.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};R_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function n2e(){}n2e.prototype=R_.prototype;function GJ(e,t,n){this.props=e,this.context=t,this.refs=t2e,this.updater=n||JTe}var KJ=GJ.prototype=new n2e;KJ.constructor=GJ;e2e(KJ,R_.prototype);KJ.isPureReactComponent=!0;var lhe=Array.isArray,r2e=Object.prototype.hasOwnProperty,JJ={current:null},i2e={key:!0,ref:!0,__self:!0,__source:!0};function o2e(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)r2e.call(t,r)&&!i2e.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:RP,type:e,key:o,ref:s,props:i,_owner:JJ.current}}function Eit(e,t){return{$$typeof:RP,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function eee(e){return typeof e=="object"&&e!==null&&e.$$typeof===RP}function kit(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var che=/\/+/g;function z9(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kit(""+e.key):t.toString(36)}function xM(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case RP:case mit:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+z9(s,0):r,lhe(i)?(n="",e!=null&&(n=e.replace(che,"$&/")+"/"),xM(i,t,n,"",function(c){return c})):i!=null&&(eee(i)&&(i=Eit(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(che,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",lhe(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+z9(o,a);s+=xM(o,t,n,l,i)}else if(l=$it(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+z9(o,a++),s+=xM(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function IA(e,t,n){if(e==null)return e;var r=[],i=0;return xM(e,r,"","",function(o){return t.call(n,o,i++)}),r}function Tit(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var sl={current:null},wM={transition:null},Pit={ReactCurrentDispatcher:sl,ReactCurrentBatchConfig:wM,ReactCurrentOwner:JJ};An.Children={map:IA,forEach:function(e,t,n){IA(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return IA(e,function(){t++}),t},toArray:function(e){return IA(e,function(t){return t})||[]},only:function(e){if(!eee(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};An.Component=R_;An.Fragment=yit;An.Profiler=bit;An.PureComponent=GJ;An.StrictMode=vit;An.Suspense=Sit;An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pit;An.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=e2e({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=JJ.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)r2e.call(t,l)&&!i2e.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:RP,type:e.type,key:i,ref:o,props:r,_owner:s}};An.createContext=function(e){return e={$$typeof:xit,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Oit,_context:e},e.Consumer=e};An.createElement=o2e;An.createFactory=function(e){var t=o2e.bind(null,e);return t.type=e,t};An.createRef=function(){return{current:null}};An.forwardRef=function(e){return{$$typeof:wit,render:e}};An.isValidElement=eee;An.lazy=function(e){return{$$typeof:Cit,_payload:{_status:-1,_result:e},_init:Tit}};An.memo=function(e,t){return{$$typeof:_it,type:e,compare:t===void 0?null:t}};An.startTransition=function(e){var t=wM.transition;wM.transition={};try{e()}finally{wM.transition=t}};An.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};An.useCallback=function(e,t){return sl.current.useCallback(e,t)};An.useContext=function(e){return sl.current.useContext(e)};An.useDebugValue=function(){};An.useDeferredValue=function(e){return sl.current.useDeferredValue(e)};An.useEffect=function(e,t){return sl.current.useEffect(e,t)};An.useId=function(){return sl.current.useId()};An.useImperativeHandle=function(e,t,n){return sl.current.useImperativeHandle(e,t,n)};An.useInsertionEffect=function(e,t){return sl.current.useInsertionEffect(e,t)};An.useLayoutEffect=function(e,t){return sl.current.useLayoutEffect(e,t)};An.useMemo=function(e,t){return sl.current.useMemo(e,t)};An.useReducer=function(e,t,n){return sl.current.useReducer(e,t,n)};An.useRef=function(e){return sl.current.useRef(e)};An.useState=function(e){return sl.current.useState(e)};An.useSyncExternalStore=function(e,t,n){return sl.current.useSyncExternalStore(e,t,n)};An.useTransition=function(){return sl.current.useTransition()};An.version="18.2.0";KTe.exports=An;var O=KTe.exports;const ie=Uu(O),Xw=git({__proto__:null,default:ie},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rit=O,Ait=Symbol.for("react.element"),Dit=Symbol.for("react.fragment"),Nit=Object.prototype.hasOwnProperty,Mit=Rit.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Iit={key:!0,ref:!0,__self:!0,__source:!0};function s2e(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Nit.call(t,r)&&!Iit.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Ait,type:e,key:o,ref:s,props:i,_owner:Mit.current}}IF.Fragment=Dit;IF.jsx=s2e;IF.jsxs=s2e;GTe.exports=IF;var b=GTe.exports,KI={},a2e={exports:{}},Vc={},l2e={exports:{}},c2e={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,Q){var B=V.length;V.push(Q);e:for(;0<B;){var Y=B-1>>>1,U=V[Y];if(0<i(U,Q))V[Y]=Q,V[B]=U,B=Y;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var Q=V[0],B=V.pop();if(B!==Q){V[0]=B;e:for(var Y=0,U=V.length,q=U>>>1;Y<q;){var Z=2*(Y+1)-1,oe=V[Z],ce=Z+1,re=V[ce];if(0>i(oe,B))ce<U&&0>i(re,oe)?(V[Y]=re,V[ce]=B,Y=ce):(V[Y]=oe,V[Z]=B,Y=Z);else if(ce<U&&0>i(re,B))V[Y]=re,V[ce]=B,Y=ce;else break e}}return Q}function i(V,Q){var B=V.sortIndex-Q.sortIndex;return B!==0?B:V.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,f=null,d=3,h=!1,p=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(V){for(var Q=n(c);Q!==null;){if(Q.callback===null)r(c);else if(Q.startTime<=V)r(c),Q.sortIndex=Q.expirationTime,t(l,Q);else break;Q=n(c)}}function w(V){if(g=!1,m(V),!p)if(n(l)!==null)p=!0,L(S);else{var Q=n(c);Q!==null&&W(w,Q.startTime-V)}}function S(V,Q){p=!1,g&&(g=!1,v(E),E=-1),h=!0;var B=d;try{for(m(Q),f=n(l);f!==null&&(!(f.expirationTime>Q)||V&&!I());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,d=f.priorityLevel;var U=Y(f.expirationTime<=Q);Q=e.unstable_now(),typeof U=="function"?f.callback=U:f===n(l)&&r(l),m(Q)}else r(l);f=n(l)}if(f!==null)var q=!0;else{var Z=n(c);Z!==null&&W(w,Z.startTime-Q),q=!1}return q}finally{f=null,d=B,h=!1}}var C=!1,$=null,E=-1,R=5,N=-1;function I(){return!(e.unstable_now()-N<R)}function j(){if($!==null){var V=e.unstable_now();N=V;var Q=!0;try{Q=$(!0,V)}finally{Q?A():(C=!1,$=null)}}else C=!1}var A;if(typeof x=="function")A=function(){x(j)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,D=T.port2;T.port1.onmessage=j,A=function(){D.postMessage(null)}}else A=function(){y(j,0)};function L(V){$=V,C||(C=!0,A())}function W(V,Q){E=y(function(){V(e.unstable_now())},Q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){p||h||(p=!0,L(S))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(V){switch(d){case 1:case 2:case 3:var Q=3;break;default:Q=d}var B=d;d=Q;try{return V()}finally{d=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,Q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var B=d;d=V;try{return Q()}finally{d=B}},e.unstable_scheduleCallback=function(V,Q,B){var Y=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Y+B:Y):B=Y,V){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=B+U,V={id:u++,callback:Q,priorityLevel:V,startTime:B,expirationTime:U,sortIndex:-1},B>Y?(V.sortIndex=B,t(c,V),n(l)===null&&V===n(c)&&(g?(v(E),E=-1):g=!0,W(w,B-Y))):(V.sortIndex=U,t(l,V),p||h||(p=!0,L(S))),V},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(V){var Q=d;return function(){var B=d;d=Q;try{return V.apply(this,arguments)}finally{d=B}}}})(c2e);l2e.exports=c2e;var Lit=l2e.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u2e=O,Mc=Lit;function Ze(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f2e=new Set,iT={};function Lb(e,t){Hw(e,t),Hw(e+"Capture",t)}function Hw(e,t){for(iT[e]=t,e=0;e<t.length;e++)f2e.add(t[e])}var og=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),UU=Object.prototype.hasOwnProperty,jit=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uhe={},fhe={};function Fit(e){return UU.call(fhe,e)?!0:UU.call(uhe,e)?!1:jit.test(e)?fhe[e]=!0:(uhe[e]=!0,!1)}function zit(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Qit(e,t,n,r){if(t===null||typeof t>"u"||zit(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function al(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Ls={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ls[e]=new al(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ls[t]=new al(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ls[e]=new al(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ls[e]=new al(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ls[e]=new al(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ls[e]=new al(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ls[e]=new al(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ls[e]=new al(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ls[e]=new al(e,5,!1,e.toLowerCase(),null,!1,!1)});var tee=/[\-:]([a-z])/g;function nee(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(tee,nee);Ls[t]=new al(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(tee,nee);Ls[t]=new al(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(tee,nee);Ls[t]=new al(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ls[e]=new al(e,1,!1,e.toLowerCase(),null,!1,!1)});Ls.xlinkHref=new al("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ls[e]=new al(e,1,!1,e.toLowerCase(),null,!0,!0)});function ree(e,t,n,r){var i=Ls.hasOwnProperty(t)?Ls[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Qit(t,n,i,r)&&(n=null),r||i===null?Fit(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Eg=u2e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,LA=Symbol.for("react.element"),Ax=Symbol.for("react.portal"),Dx=Symbol.for("react.fragment"),iee=Symbol.for("react.strict_mode"),qU=Symbol.for("react.profiler"),d2e=Symbol.for("react.provider"),h2e=Symbol.for("react.context"),oee=Symbol.for("react.forward_ref"),YU=Symbol.for("react.suspense"),XU=Symbol.for("react.suspense_list"),see=Symbol.for("react.memo"),ym=Symbol.for("react.lazy"),p2e=Symbol.for("react.offscreen"),dhe=Symbol.iterator;function zC(e){return e===null||typeof e!="object"?null:(e=dhe&&e[dhe]||e["@@iterator"],typeof e=="function"?e:null)}var ki=Object.assign,Q9;function iE(e){if(Q9===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Q9=t&&t[1]||""}return`
`+Q9+e}var B9=!1;function W9(e,t){if(!e||B9)return"";B9=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{B9=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?iE(e):""}function Bit(e){switch(e.tag){case 5:return iE(e.type);case 16:return iE("Lazy");case 13:return iE("Suspense");case 19:return iE("SuspenseList");case 0:case 2:case 15:return e=W9(e.type,!1),e;case 11:return e=W9(e.type.render,!1),e;case 1:return e=W9(e.type,!0),e;default:return""}}function HU(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Dx:return"Fragment";case Ax:return"Portal";case qU:return"Profiler";case iee:return"StrictMode";case YU:return"Suspense";case XU:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case h2e:return(e.displayName||"Context")+".Consumer";case d2e:return(e._context.displayName||"Context")+".Provider";case oee:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case see:return t=e.displayName||null,t!==null?t:HU(e.type)||"Memo";case ym:t=e._payload,e=e._init;try{return HU(e(t))}catch{}}return null}function Wit(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return HU(t);case 8:return t===iee?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ly(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function g2e(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Vit(e){var t=g2e(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jA(e){e._valueTracker||(e._valueTracker=Vit(e))}function m2e(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=g2e(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function JI(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ZU(e,t){var n=t.checked;return ki({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function hhe(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ly(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function y2e(e,t){t=t.checked,t!=null&&ree(e,"checked",t,!1)}function GU(e,t){y2e(e,t);var n=Ly(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?KU(e,t.type,n):t.hasOwnProperty("defaultValue")&&KU(e,t.type,Ly(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function phe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function KU(e,t,n){(t!=="number"||JI(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var oE=Array.isArray;function lw(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ly(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function JU(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ze(91));return ki({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ghe(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ze(92));if(oE(n)){if(1<n.length)throw Error(Ze(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ly(n)}}function v2e(e,t){var n=Ly(t.value),r=Ly(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function mhe(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function b2e(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eq(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?b2e(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var FA,O2e=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(FA=FA||document.createElement("div"),FA.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=FA.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function oT(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var GE={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Uit=["Webkit","ms","Moz","O"];Object.keys(GE).forEach(function(e){Uit.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),GE[t]=GE[e]})});function x2e(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||GE.hasOwnProperty(e)&&GE[e]?(""+t).trim():t+"px"}function w2e(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=x2e(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var qit=ki({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tq(e,t){if(t){if(qit[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ze(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ze(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ze(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ze(62))}}function nq(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rq=null;function aee(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var iq=null,cw=null,uw=null;function yhe(e){if(e=NP(e)){if(typeof iq!="function")throw Error(Ze(280));var t=e.stateNode;t&&(t=QF(t),iq(e.stateNode,e.type,t))}}function S2e(e){cw?uw?uw.push(e):uw=[e]:cw=e}function _2e(){if(cw){var e=cw,t=uw;if(uw=cw=null,yhe(e),t)for(e=0;e<t.length;e++)yhe(t[e])}}function C2e(e,t){return e(t)}function $2e(){}var V9=!1;function E2e(e,t,n){if(V9)return e(t,n);V9=!0;try{return C2e(e,t,n)}finally{V9=!1,(cw!==null||uw!==null)&&($2e(),_2e())}}function sT(e,t){var n=e.stateNode;if(n===null)return null;var r=QF(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ze(231,t,typeof n));return n}var oq=!1;if(og)try{var QC={};Object.defineProperty(QC,"passive",{get:function(){oq=!0}}),window.addEventListener("test",QC,QC),window.removeEventListener("test",QC,QC)}catch{oq=!1}function Yit(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var KE=!1,e5=null,t5=!1,sq=null,Xit={onError:function(e){KE=!0,e5=e}};function Hit(e,t,n,r,i,o,s,a,l){KE=!1,e5=null,Yit.apply(Xit,arguments)}function Zit(e,t,n,r,i,o,s,a,l){if(Hit.apply(this,arguments),KE){if(KE){var c=e5;KE=!1,e5=null}else throw Error(Ze(198));t5||(t5=!0,sq=c)}}function jb(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function k2e(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vhe(e){if(jb(e)!==e)throw Error(Ze(188))}function Git(e){var t=e.alternate;if(!t){if(t=jb(e),t===null)throw Error(Ze(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return vhe(i),e;if(o===r)return vhe(i),t;o=o.sibling}throw Error(Ze(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(Ze(189))}}if(n.alternate!==r)throw Error(Ze(190))}if(n.tag!==3)throw Error(Ze(188));return n.stateNode.current===n?e:t}function T2e(e){return e=Git(e),e!==null?P2e(e):null}function P2e(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=P2e(e);if(t!==null)return t;e=e.sibling}return null}var R2e=Mc.unstable_scheduleCallback,bhe=Mc.unstable_cancelCallback,Kit=Mc.unstable_shouldYield,Jit=Mc.unstable_requestPaint,Ki=Mc.unstable_now,eot=Mc.unstable_getCurrentPriorityLevel,lee=Mc.unstable_ImmediatePriority,A2e=Mc.unstable_UserBlockingPriority,n5=Mc.unstable_NormalPriority,tot=Mc.unstable_LowPriority,D2e=Mc.unstable_IdlePriority,LF=null,ih=null;function not(e){if(ih&&typeof ih.onCommitFiberRoot=="function")try{ih.onCommitFiberRoot(LF,e,void 0,(e.current.flags&128)===128)}catch{}}var Rf=Math.clz32?Math.clz32:oot,rot=Math.log,iot=Math.LN2;function oot(e){return e>>>=0,e===0?32:31-(rot(e)/iot|0)|0}var zA=64,QA=4194304;function sE(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function r5(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=sE(a):(o&=s,o!==0&&(r=sE(o)))}else s=n&~i,s!==0?r=sE(s):o!==0&&(r=sE(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Rf(t),i=1<<n,r|=e[n],t&=~i;return r}function sot(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aot(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-Rf(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=sot(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function aq(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function N2e(){var e=zA;return zA<<=1,!(zA&4194240)&&(zA=64),e}function U9(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function AP(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Rf(t),e[t]=n}function lot(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Rf(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function cee(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Rf(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var vr=0;function M2e(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var I2e,uee,L2e,j2e,F2e,lq=!1,BA=[],sy=null,ay=null,ly=null,aT=new Map,lT=new Map,km=[],cot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ohe(e,t){switch(e){case"focusin":case"focusout":sy=null;break;case"dragenter":case"dragleave":ay=null;break;case"mouseover":case"mouseout":ly=null;break;case"pointerover":case"pointerout":aT.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lT.delete(t.pointerId)}}function BC(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=NP(t),t!==null&&uee(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function uot(e,t,n,r,i){switch(t){case"focusin":return sy=BC(sy,e,t,n,r,i),!0;case"dragenter":return ay=BC(ay,e,t,n,r,i),!0;case"mouseover":return ly=BC(ly,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return aT.set(o,BC(aT.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,lT.set(o,BC(lT.get(o)||null,e,t,n,r,i)),!0}return!1}function z2e(e){var t=Uv(e.target);if(t!==null){var n=jb(t);if(n!==null){if(t=n.tag,t===13){if(t=k2e(n),t!==null){e.blockedOn=t,F2e(e.priority,function(){L2e(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function SM(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=cq(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);rq=r,n.target.dispatchEvent(r),rq=null}else return t=NP(n),t!==null&&uee(t),e.blockedOn=n,!1;t.shift()}return!0}function xhe(e,t,n){SM(e)&&n.delete(t)}function fot(){lq=!1,sy!==null&&SM(sy)&&(sy=null),ay!==null&&SM(ay)&&(ay=null),ly!==null&&SM(ly)&&(ly=null),aT.forEach(xhe),lT.forEach(xhe)}function WC(e,t){e.blockedOn===t&&(e.blockedOn=null,lq||(lq=!0,Mc.unstable_scheduleCallback(Mc.unstable_NormalPriority,fot)))}function cT(e){function t(i){return WC(i,e)}if(0<BA.length){WC(BA[0],e);for(var n=1;n<BA.length;n++){var r=BA[n];r.blockedOn===e&&(r.blockedOn=null)}}for(sy!==null&&WC(sy,e),ay!==null&&WC(ay,e),ly!==null&&WC(ly,e),aT.forEach(t),lT.forEach(t),n=0;n<km.length;n++)r=km[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<km.length&&(n=km[0],n.blockedOn===null);)z2e(n),n.blockedOn===null&&km.shift()}var fw=Eg.ReactCurrentBatchConfig,i5=!0;function dot(e,t,n,r){var i=vr,o=fw.transition;fw.transition=null;try{vr=1,fee(e,t,n,r)}finally{vr=i,fw.transition=o}}function hot(e,t,n,r){var i=vr,o=fw.transition;fw.transition=null;try{vr=4,fee(e,t,n,r)}finally{vr=i,fw.transition=o}}function fee(e,t,n,r){if(i5){var i=cq(e,t,n,r);if(i===null)tQ(e,t,r,o5,n),Ohe(e,r);else if(uot(i,e,t,n,r))r.stopPropagation();else if(Ohe(e,r),t&4&&-1<cot.indexOf(e)){for(;i!==null;){var o=NP(i);if(o!==null&&I2e(o),o=cq(e,t,n,r),o===null&&tQ(e,t,r,o5,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else tQ(e,t,r,null,n)}}var o5=null;function cq(e,t,n,r){if(o5=null,e=aee(r),e=Uv(e),e!==null)if(t=jb(e),t===null)e=null;else if(n=t.tag,n===13){if(e=k2e(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return o5=e,null}function Q2e(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eot()){case lee:return 1;case A2e:return 4;case n5:case tot:return 16;case D2e:return 536870912;default:return 16}default:return 16}}var jm=null,dee=null,_M=null;function B2e(){if(_M)return _M;var e,t=dee,n=t.length,r,i="value"in jm?jm.value:jm.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return _M=i.slice(e,1<r?1-r:void 0)}function CM(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function WA(){return!0}function whe(){return!1}function Uc(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?WA:whe,this.isPropagationStopped=whe,this}return ki(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=WA)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=WA)},persist:function(){},isPersistent:WA}),t}var A_={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hee=Uc(A_),DP=ki({},A_,{view:0,detail:0}),pot=Uc(DP),q9,Y9,VC,jF=ki({},DP,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pee,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==VC&&(VC&&e.type==="mousemove"?(q9=e.screenX-VC.screenX,Y9=e.screenY-VC.screenY):Y9=q9=0,VC=e),q9)},movementY:function(e){return"movementY"in e?e.movementY:Y9}}),She=Uc(jF),got=ki({},jF,{dataTransfer:0}),mot=Uc(got),yot=ki({},DP,{relatedTarget:0}),X9=Uc(yot),vot=ki({},A_,{animationName:0,elapsedTime:0,pseudoElement:0}),bot=Uc(vot),Oot=ki({},A_,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xot=Uc(Oot),wot=ki({},A_,{data:0}),_he=Uc(wot),Sot={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_ot={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cot={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $ot(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Cot[e])?!!t[e]:!1}function pee(){return $ot}var Eot=ki({},DP,{key:function(e){if(e.key){var t=Sot[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=CM(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_ot[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pee,charCode:function(e){return e.type==="keypress"?CM(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?CM(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kot=Uc(Eot),Tot=ki({},jF,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Che=Uc(Tot),Pot=ki({},DP,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pee}),Rot=Uc(Pot),Aot=ki({},A_,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dot=Uc(Aot),Not=ki({},jF,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mot=Uc(Not),Iot=[9,13,27,32],gee=og&&"CompositionEvent"in window,JE=null;og&&"documentMode"in document&&(JE=document.documentMode);var Lot=og&&"TextEvent"in window&&!JE,W2e=og&&(!gee||JE&&8<JE&&11>=JE),$he=" ",Ehe=!1;function V2e(e,t){switch(e){case"keyup":return Iot.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function U2e(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nx=!1;function jot(e,t){switch(e){case"compositionend":return U2e(t);case"keypress":return t.which!==32?null:(Ehe=!0,$he);case"textInput":return e=t.data,e===$he&&Ehe?null:e;default:return null}}function Fot(e,t){if(Nx)return e==="compositionend"||!gee&&V2e(e,t)?(e=B2e(),_M=dee=jm=null,Nx=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return W2e&&t.locale!=="ko"?null:t.data;default:return null}}var zot={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function khe(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zot[e.type]:t==="textarea"}function q2e(e,t,n,r){S2e(r),t=s5(t,"onChange"),0<t.length&&(n=new hee("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ek=null,uT=null;function Qot(e){rPe(e,0)}function FF(e){var t=Lx(e);if(m2e(t))return e}function Bot(e,t){if(e==="change")return t}var Y2e=!1;if(og){var H9;if(og){var Z9="oninput"in document;if(!Z9){var The=document.createElement("div");The.setAttribute("oninput","return;"),Z9=typeof The.oninput=="function"}H9=Z9}else H9=!1;Y2e=H9&&(!document.documentMode||9<document.documentMode)}function Phe(){ek&&(ek.detachEvent("onpropertychange",X2e),uT=ek=null)}function X2e(e){if(e.propertyName==="value"&&FF(uT)){var t=[];q2e(t,uT,e,aee(e)),E2e(Qot,t)}}function Wot(e,t,n){e==="focusin"?(Phe(),ek=t,uT=n,ek.attachEvent("onpropertychange",X2e)):e==="focusout"&&Phe()}function Vot(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return FF(uT)}function Uot(e,t){if(e==="click")return FF(t)}function qot(e,t){if(e==="input"||e==="change")return FF(t)}function Yot(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vf=typeof Object.is=="function"?Object.is:Yot;function fT(e,t){if(Vf(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!UU.call(t,i)||!Vf(e[i],t[i]))return!1}return!0}function Rhe(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ahe(e,t){var n=Rhe(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rhe(n)}}function H2e(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?H2e(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Z2e(){for(var e=window,t=JI();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=JI(e.document)}return t}function mee(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Xot(e){var t=Z2e(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&H2e(n.ownerDocument.documentElement,n)){if(r!==null&&mee(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Ahe(n,o);var s=Ahe(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Hot=og&&"documentMode"in document&&11>=document.documentMode,Mx=null,uq=null,tk=null,fq=!1;function Dhe(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fq||Mx==null||Mx!==JI(r)||(r=Mx,"selectionStart"in r&&mee(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),tk&&fT(tk,r)||(tk=r,r=s5(uq,"onSelect"),0<r.length&&(t=new hee("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Mx)))}function VA(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ix={animationend:VA("Animation","AnimationEnd"),animationiteration:VA("Animation","AnimationIteration"),animationstart:VA("Animation","AnimationStart"),transitionend:VA("Transition","TransitionEnd")},G9={},G2e={};og&&(G2e=document.createElement("div").style,"AnimationEvent"in window||(delete Ix.animationend.animation,delete Ix.animationiteration.animation,delete Ix.animationstart.animation),"TransitionEvent"in window||delete Ix.transitionend.transition);function zF(e){if(G9[e])return G9[e];if(!Ix[e])return e;var t=Ix[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in G2e)return G9[e]=t[n];return e}var K2e=zF("animationend"),J2e=zF("animationiteration"),ePe=zF("animationstart"),tPe=zF("transitionend"),nPe=new Map,Nhe="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function x0(e,t){nPe.set(e,t),Lb(t,[e])}for(var K9=0;K9<Nhe.length;K9++){var J9=Nhe[K9],Zot=J9.toLowerCase(),Got=J9[0].toUpperCase()+J9.slice(1);x0(Zot,"on"+Got)}x0(K2e,"onAnimationEnd");x0(J2e,"onAnimationIteration");x0(ePe,"onAnimationStart");x0("dblclick","onDoubleClick");x0("focusin","onFocus");x0("focusout","onBlur");x0(tPe,"onTransitionEnd");Hw("onMouseEnter",["mouseout","mouseover"]);Hw("onMouseLeave",["mouseout","mouseover"]);Hw("onPointerEnter",["pointerout","pointerover"]);Hw("onPointerLeave",["pointerout","pointerover"]);Lb("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Lb("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Lb("onBeforeInput",["compositionend","keypress","textInput","paste"]);Lb("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Lb("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Lb("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var aE="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kot=new Set("cancel close invalid load scroll toggle".split(" ").concat(aE));function Mhe(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Zit(r,t,void 0,e),e.currentTarget=null}function rPe(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Mhe(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Mhe(i,a,c),o=l}}}if(t5)throw e=sq,t5=!1,sq=null,e}function Jr(e,t){var n=t[mq];n===void 0&&(n=t[mq]=new Set);var r=e+"__bubble";n.has(r)||(iPe(t,e,2,!1),n.add(r))}function eQ(e,t,n){var r=0;t&&(r|=4),iPe(n,e,r,t)}var UA="_reactListening"+Math.random().toString(36).slice(2);function dT(e){if(!e[UA]){e[UA]=!0,f2e.forEach(function(n){n!=="selectionchange"&&(Kot.has(n)||eQ(n,!1,e),eQ(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[UA]||(t[UA]=!0,eQ("selectionchange",!1,t))}}function iPe(e,t,n,r){switch(Q2e(t)){case 1:var i=dot;break;case 4:i=hot;break;default:i=fee}n=i.bind(null,t,n,e),i=void 0,!oq||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function tQ(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Uv(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}E2e(function(){var c=o,u=aee(n),f=[];e:{var d=nPe.get(e);if(d!==void 0){var h=hee,p=e;switch(e){case"keypress":if(CM(n)===0)break e;case"keydown":case"keyup":h=kot;break;case"focusin":p="focus",h=X9;break;case"focusout":p="blur",h=X9;break;case"beforeblur":case"afterblur":h=X9;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=She;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=mot;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Rot;break;case K2e:case J2e:case ePe:h=bot;break;case tPe:h=Dot;break;case"scroll":h=pot;break;case"wheel":h=Mot;break;case"copy":case"cut":case"paste":h=xot;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Che}var g=(t&4)!==0,y=!g&&e==="scroll",v=g?d!==null?d+"Capture":null:d;g=[];for(var x=c,m;x!==null;){m=x;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,v!==null&&(w=sT(x,v),w!=null&&g.push(hT(x,w,m)))),y)break;x=x.return}0<g.length&&(d=new h(d,p,null,n,u),f.push({event:d,listeners:g}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&n!==rq&&(p=n.relatedTarget||n.fromElement)&&(Uv(p)||p[sg]))break e;if((h||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=c,p=p?Uv(p):null,p!==null&&(y=jb(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=c),h!==p)){if(g=She,w="onMouseLeave",v="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=Che,w="onPointerLeave",v="onPointerEnter",x="pointer"),y=h==null?d:Lx(h),m=p==null?d:Lx(p),d=new g(w,x+"leave",h,n,u),d.target=y,d.relatedTarget=m,w=null,Uv(u)===c&&(g=new g(v,x+"enter",p,n,u),g.target=m,g.relatedTarget=y,w=g),y=w,h&&p)t:{for(g=h,v=p,x=0,m=g;m;m=CO(m))x++;for(m=0,w=v;w;w=CO(w))m++;for(;0<x-m;)g=CO(g),x--;for(;0<m-x;)v=CO(v),m--;for(;x--;){if(g===v||v!==null&&g===v.alternate)break t;g=CO(g),v=CO(v)}g=null}else g=null;h!==null&&Ihe(f,d,h,g,!1),p!==null&&y!==null&&Ihe(f,y,p,g,!0)}}e:{if(d=c?Lx(c):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var S=Bot;else if(khe(d))if(Y2e)S=qot;else{S=Vot;var C=Wot}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=Uot);if(S&&(S=S(e,c))){q2e(f,S,n,u);break e}C&&C(e,d,c),e==="focusout"&&(C=d._wrapperState)&&C.controlled&&d.type==="number"&&KU(d,"number",d.value)}switch(C=c?Lx(c):window,e){case"focusin":(khe(C)||C.contentEditable==="true")&&(Mx=C,uq=c,tk=null);break;case"focusout":tk=uq=Mx=null;break;case"mousedown":fq=!0;break;case"contextmenu":case"mouseup":case"dragend":fq=!1,Dhe(f,n,u);break;case"selectionchange":if(Hot)break;case"keydown":case"keyup":Dhe(f,n,u)}var $;if(gee)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Nx?V2e(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(W2e&&n.locale!=="ko"&&(Nx||E!=="onCompositionStart"?E==="onCompositionEnd"&&Nx&&($=B2e()):(jm=u,dee="value"in jm?jm.value:jm.textContent,Nx=!0)),C=s5(c,E),0<C.length&&(E=new _he(E,e,null,n,u),f.push({event:E,listeners:C}),$?E.data=$:($=U2e(n),$!==null&&(E.data=$)))),($=Lot?jot(e,n):Fot(e,n))&&(c=s5(c,"onBeforeInput"),0<c.length&&(u=new _he("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=$))}rPe(f,t)})}function hT(e,t,n){return{instance:e,listener:t,currentTarget:n}}function s5(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=sT(e,n),o!=null&&r.unshift(hT(e,o,i)),o=sT(e,t),o!=null&&r.push(hT(e,o,i))),e=e.return}return r}function CO(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ihe(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=sT(n,o),l!=null&&s.unshift(hT(n,l,a))):i||(l=sT(n,o),l!=null&&s.push(hT(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Jot=/\r\n?/g,est=/\u0000|\uFFFD/g;function Lhe(e){return(typeof e=="string"?e:""+e).replace(Jot,`
`).replace(est,"")}function qA(e,t,n){if(t=Lhe(t),Lhe(e)!==t&&n)throw Error(Ze(425))}function a5(){}var dq=null,hq=null;function pq(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gq=typeof setTimeout=="function"?setTimeout:void 0,tst=typeof clearTimeout=="function"?clearTimeout:void 0,jhe=typeof Promise=="function"?Promise:void 0,nst=typeof queueMicrotask=="function"?queueMicrotask:typeof jhe<"u"?function(e){return jhe.resolve(null).then(e).catch(rst)}:gq;function rst(e){setTimeout(function(){throw e})}function nQ(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),cT(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);cT(t)}function cy(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fhe(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var D_=Math.random().toString(36).slice(2),Vd="__reactFiber$"+D_,pT="__reactProps$"+D_,sg="__reactContainer$"+D_,mq="__reactEvents$"+D_,ist="__reactListeners$"+D_,ost="__reactHandles$"+D_;function Uv(e){var t=e[Vd];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sg]||n[Vd]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Fhe(e);e!==null;){if(n=e[Vd])return n;e=Fhe(e)}return t}e=n,n=e.parentNode}return null}function NP(e){return e=e[Vd]||e[sg],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Lx(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ze(33))}function QF(e){return e[pT]||null}var yq=[],jx=-1;function w0(e){return{current:e}}function ci(e){0>jx||(e.current=yq[jx],yq[jx]=null,jx--)}function Ur(e,t){jx++,yq[jx]=e.current,e.current=t}var jy={},wa=w0(jy),kl=w0(!1),A1=jy;function Zw(e,t){var n=e.type.contextTypes;if(!n)return jy;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Tl(e){return e=e.childContextTypes,e!=null}function l5(){ci(kl),ci(wa)}function zhe(e,t,n){if(wa.current!==jy)throw Error(Ze(168));Ur(wa,t),Ur(kl,n)}function oPe(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ze(108,Wit(e)||"Unknown",i));return ki({},n,r)}function c5(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jy,A1=wa.current,Ur(wa,e),Ur(kl,kl.current),!0}function Qhe(e,t,n){var r=e.stateNode;if(!r)throw Error(Ze(169));n?(e=oPe(e,t,A1),r.__reactInternalMemoizedMergedChildContext=e,ci(kl),ci(wa),Ur(wa,e)):ci(kl),Ur(kl,n)}var wp=null,BF=!1,rQ=!1;function sPe(e){wp===null?wp=[e]:wp.push(e)}function sst(e){BF=!0,sPe(e)}function S0(){if(!rQ&&wp!==null){rQ=!0;var e=0,t=vr;try{var n=wp;for(vr=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}wp=null,BF=!1}catch(i){throw wp!==null&&(wp=wp.slice(e+1)),R2e(lee,S0),i}finally{vr=t,rQ=!1}}return null}var Fx=[],zx=0,u5=null,f5=0,ru=[],iu=0,D1=null,Rp=1,Ap="";function vv(e,t){Fx[zx++]=f5,Fx[zx++]=u5,u5=e,f5=t}function aPe(e,t,n){ru[iu++]=Rp,ru[iu++]=Ap,ru[iu++]=D1,D1=e;var r=Rp;e=Ap;var i=32-Rf(r)-1;r&=~(1<<i),n+=1;var o=32-Rf(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Rp=1<<32-Rf(t)+i|n<<i|r,Ap=o+e}else Rp=1<<o|n<<i|r,Ap=e}function yee(e){e.return!==null&&(vv(e,1),aPe(e,1,0))}function vee(e){for(;e===u5;)u5=Fx[--zx],Fx[zx]=null,f5=Fx[--zx],Fx[zx]=null;for(;e===D1;)D1=ru[--iu],ru[iu]=null,Ap=ru[--iu],ru[iu]=null,Rp=ru[--iu],ru[iu]=null}var Rc=null,Sc=null,pi=!1,pf=null;function lPe(e,t){var n=gu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Bhe(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Rc=e,Sc=cy(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Rc=e,Sc=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=D1!==null?{id:Rp,overflow:Ap}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=gu(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Rc=e,Sc=null,!0):!1;default:return!1}}function vq(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bq(e){if(pi){var t=Sc;if(t){var n=t;if(!Bhe(e,t)){if(vq(e))throw Error(Ze(418));t=cy(n.nextSibling);var r=Rc;t&&Bhe(e,t)?lPe(r,n):(e.flags=e.flags&-4097|2,pi=!1,Rc=e)}}else{if(vq(e))throw Error(Ze(418));e.flags=e.flags&-4097|2,pi=!1,Rc=e}}}function Whe(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Rc=e}function YA(e){if(e!==Rc)return!1;if(!pi)return Whe(e),pi=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!pq(e.type,e.memoizedProps)),t&&(t=Sc)){if(vq(e))throw cPe(),Error(Ze(418));for(;t;)lPe(e,t),t=cy(t.nextSibling)}if(Whe(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ze(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Sc=cy(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Sc=null}}else Sc=Rc?cy(e.stateNode.nextSibling):null;return!0}function cPe(){for(var e=Sc;e;)e=cy(e.nextSibling)}function Gw(){Sc=Rc=null,pi=!1}function bee(e){pf===null?pf=[e]:pf.push(e)}var ast=Eg.ReactCurrentBatchConfig;function uf(e,t){if(e&&e.defaultProps){t=ki({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var d5=w0(null),h5=null,Qx=null,Oee=null;function xee(){Oee=Qx=h5=null}function wee(e){var t=d5.current;ci(d5),e._currentValue=t}function Oq(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function dw(e,t){h5=e,Oee=Qx=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(_l=!0),e.firstContext=null)}function Nu(e){var t=e._currentValue;if(Oee!==e)if(e={context:e,memoizedValue:t,next:null},Qx===null){if(h5===null)throw Error(Ze(308));Qx=e,h5.dependencies={lanes:0,firstContext:e}}else Qx=Qx.next=e;return t}var qv=null;function See(e){qv===null?qv=[e]:qv.push(e)}function uPe(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,See(t)):(n.next=i.next,i.next=n),t.interleaved=n,ag(e,r)}function ag(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var vm=!1;function _ee(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fPe(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wp(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function uy(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Vn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ag(e,n)}return i=r.interleaved,i===null?(t.next=t,See(r)):(t.next=i.next,i.next=t),r.interleaved=t,ag(e,n)}function $M(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,cee(e,n)}}function Vhe(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function p5(e,t,n,r){var i=e.updateQueue;vm=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,u=c=l=null,a=o;do{var d=a.lane,h=a.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,g=a;switch(d=t,h=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,d=typeof p=="function"?p.call(h,f,d):p,d==null)break e;f=ki({},f,d);break e;case 2:vm=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=f):u=u.next=h,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);M1|=s,e.lanes=s,e.memoizedState=f}}function Uhe(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ze(191,i));i.call(r)}}}var dPe=new u2e.Component().refs;function xq(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ki({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var WF={isMounted:function(e){return(e=e._reactInternals)?jb(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xa(),i=dy(e),o=Wp(r,i);o.payload=t,n!=null&&(o.callback=n),t=uy(e,o,i),t!==null&&(Af(t,e,i,r),$M(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xa(),i=dy(e),o=Wp(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=uy(e,o,i),t!==null&&(Af(t,e,i,r),$M(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xa(),r=dy(e),i=Wp(n,r);i.tag=2,t!=null&&(i.callback=t),t=uy(e,i,r),t!==null&&(Af(t,e,r,n),$M(t,e,r))}};function qhe(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!fT(n,r)||!fT(i,o):!0}function hPe(e,t,n){var r=!1,i=jy,o=t.contextType;return typeof o=="object"&&o!==null?o=Nu(o):(i=Tl(t)?A1:wa.current,r=t.contextTypes,o=(r=r!=null)?Zw(e,i):jy),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=WF,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Yhe(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&WF.enqueueReplaceState(t,t.state,null)}function wq(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=dPe,_ee(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Nu(o):(o=Tl(t)?A1:wa.current,i.context=Zw(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(xq(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&WF.enqueueReplaceState(i,i.state,null),p5(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function UC(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ze(309));var r=n.stateNode}if(!r)throw Error(Ze(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;a===dPe&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(Ze(284));if(!n._owner)throw Error(Ze(290,e))}return e}function XA(e,t){throw e=Object.prototype.toString.call(t),Error(Ze(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xhe(e){var t=e._init;return t(e._payload)}function pPe(e){function t(v,x){if(e){var m=v.deletions;m===null?(v.deletions=[x],v.flags|=16):m.push(x)}}function n(v,x){if(!e)return null;for(;x!==null;)t(v,x),x=x.sibling;return null}function r(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function i(v,x){return v=hy(v,x),v.index=0,v.sibling=null,v}function o(v,x,m){return v.index=m,e?(m=v.alternate,m!==null?(m=m.index,m<x?(v.flags|=2,x):m):(v.flags|=2,x)):(v.flags|=1048576,x)}function s(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,x,m,w){return x===null||x.tag!==6?(x=uQ(m,v.mode,w),x.return=v,x):(x=i(x,m),x.return=v,x)}function l(v,x,m,w){var S=m.type;return S===Dx?u(v,x,m.props.children,w,m.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ym&&Xhe(S)===x.type)?(w=i(x,m.props),w.ref=UC(v,x,m),w.return=v,w):(w=AM(m.type,m.key,m.props,null,v.mode,w),w.ref=UC(v,x,m),w.return=v,w)}function c(v,x,m,w){return x===null||x.tag!==4||x.stateNode.containerInfo!==m.containerInfo||x.stateNode.implementation!==m.implementation?(x=fQ(m,v.mode,w),x.return=v,x):(x=i(x,m.children||[]),x.return=v,x)}function u(v,x,m,w,S){return x===null||x.tag!==7?(x=u1(m,v.mode,w,S),x.return=v,x):(x=i(x,m),x.return=v,x)}function f(v,x,m){if(typeof x=="string"&&x!==""||typeof x=="number")return x=uQ(""+x,v.mode,m),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case LA:return m=AM(x.type,x.key,x.props,null,v.mode,m),m.ref=UC(v,null,x),m.return=v,m;case Ax:return x=fQ(x,v.mode,m),x.return=v,x;case ym:var w=x._init;return f(v,w(x._payload),m)}if(oE(x)||zC(x))return x=u1(x,v.mode,m,null),x.return=v,x;XA(v,x)}return null}function d(v,x,m,w){var S=x!==null?x.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:a(v,x,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case LA:return m.key===S?l(v,x,m,w):null;case Ax:return m.key===S?c(v,x,m,w):null;case ym:return S=m._init,d(v,x,S(m._payload),w)}if(oE(m)||zC(m))return S!==null?null:u(v,x,m,w,null);XA(v,m)}return null}function h(v,x,m,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(m)||null,a(x,v,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case LA:return v=v.get(w.key===null?m:w.key)||null,l(x,v,w,S);case Ax:return v=v.get(w.key===null?m:w.key)||null,c(x,v,w,S);case ym:var C=w._init;return h(v,x,m,C(w._payload),S)}if(oE(w)||zC(w))return v=v.get(m)||null,u(x,v,w,S,null);XA(x,w)}return null}function p(v,x,m,w){for(var S=null,C=null,$=x,E=x=0,R=null;$!==null&&E<m.length;E++){$.index>E?(R=$,$=null):R=$.sibling;var N=d(v,$,m[E],w);if(N===null){$===null&&($=R);break}e&&$&&N.alternate===null&&t(v,$),x=o(N,x,E),C===null?S=N:C.sibling=N,C=N,$=R}if(E===m.length)return n(v,$),pi&&vv(v,E),S;if($===null){for(;E<m.length;E++)$=f(v,m[E],w),$!==null&&(x=o($,x,E),C===null?S=$:C.sibling=$,C=$);return pi&&vv(v,E),S}for($=r(v,$);E<m.length;E++)R=h($,v,E,m[E],w),R!==null&&(e&&R.alternate!==null&&$.delete(R.key===null?E:R.key),x=o(R,x,E),C===null?S=R:C.sibling=R,C=R);return e&&$.forEach(function(I){return t(v,I)}),pi&&vv(v,E),S}function g(v,x,m,w){var S=zC(m);if(typeof S!="function")throw Error(Ze(150));if(m=S.call(m),m==null)throw Error(Ze(151));for(var C=S=null,$=x,E=x=0,R=null,N=m.next();$!==null&&!N.done;E++,N=m.next()){$.index>E?(R=$,$=null):R=$.sibling;var I=d(v,$,N.value,w);if(I===null){$===null&&($=R);break}e&&$&&I.alternate===null&&t(v,$),x=o(I,x,E),C===null?S=I:C.sibling=I,C=I,$=R}if(N.done)return n(v,$),pi&&vv(v,E),S;if($===null){for(;!N.done;E++,N=m.next())N=f(v,N.value,w),N!==null&&(x=o(N,x,E),C===null?S=N:C.sibling=N,C=N);return pi&&vv(v,E),S}for($=r(v,$);!N.done;E++,N=m.next())N=h($,v,E,N.value,w),N!==null&&(e&&N.alternate!==null&&$.delete(N.key===null?E:N.key),x=o(N,x,E),C===null?S=N:C.sibling=N,C=N);return e&&$.forEach(function(j){return t(v,j)}),pi&&vv(v,E),S}function y(v,x,m,w){if(typeof m=="object"&&m!==null&&m.type===Dx&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case LA:e:{for(var S=m.key,C=x;C!==null;){if(C.key===S){if(S=m.type,S===Dx){if(C.tag===7){n(v,C.sibling),x=i(C,m.props.children),x.return=v,v=x;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ym&&Xhe(S)===C.type){n(v,C.sibling),x=i(C,m.props),x.ref=UC(v,C,m),x.return=v,v=x;break e}n(v,C);break}else t(v,C);C=C.sibling}m.type===Dx?(x=u1(m.props.children,v.mode,w,m.key),x.return=v,v=x):(w=AM(m.type,m.key,m.props,null,v.mode,w),w.ref=UC(v,x,m),w.return=v,v=w)}return s(v);case Ax:e:{for(C=m.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===m.containerInfo&&x.stateNode.implementation===m.implementation){n(v,x.sibling),x=i(x,m.children||[]),x.return=v,v=x;break e}else{n(v,x);break}else t(v,x);x=x.sibling}x=fQ(m,v.mode,w),x.return=v,v=x}return s(v);case ym:return C=m._init,y(v,x,C(m._payload),w)}if(oE(m))return p(v,x,m,w);if(zC(m))return g(v,x,m,w);XA(v,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,x!==null&&x.tag===6?(n(v,x.sibling),x=i(x,m),x.return=v,v=x):(n(v,x),x=uQ(m,v.mode,w),x.return=v,v=x),s(v)):n(v,x)}return y}var Kw=pPe(!0),gPe=pPe(!1),MP={},oh=w0(MP),gT=w0(MP),mT=w0(MP);function Yv(e){if(e===MP)throw Error(Ze(174));return e}function Cee(e,t){switch(Ur(mT,t),Ur(gT,e),Ur(oh,MP),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:eq(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=eq(t,e)}ci(oh),Ur(oh,t)}function Jw(){ci(oh),ci(gT),ci(mT)}function mPe(e){Yv(mT.current);var t=Yv(oh.current),n=eq(t,e.type);t!==n&&(Ur(gT,e),Ur(oh,n))}function $ee(e){gT.current===e&&(ci(oh),ci(gT))}var Ci=w0(0);function g5(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var iQ=[];function Eee(){for(var e=0;e<iQ.length;e++)iQ[e]._workInProgressVersionPrimary=null;iQ.length=0}var EM=Eg.ReactCurrentDispatcher,oQ=Eg.ReactCurrentBatchConfig,N1=0,Ei=null,Po=null,Ko=null,m5=!1,nk=!1,yT=0,lst=0;function Us(){throw Error(Ze(321))}function kee(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Vf(e[n],t[n]))return!1;return!0}function Tee(e,t,n,r,i,o){if(N1=o,Ei=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,EM.current=e===null||e.memoizedState===null?dst:hst,e=n(r,i),nk){o=0;do{if(nk=!1,yT=0,25<=o)throw Error(Ze(301));o+=1,Ko=Po=null,t.updateQueue=null,EM.current=pst,e=n(r,i)}while(nk)}if(EM.current=y5,t=Po!==null&&Po.next!==null,N1=0,Ko=Po=Ei=null,m5=!1,t)throw Error(Ze(300));return e}function Pee(){var e=yT!==0;return yT=0,e}function Nd(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ko===null?Ei.memoizedState=Ko=e:Ko=Ko.next=e,Ko}function Mu(){if(Po===null){var e=Ei.alternate;e=e!==null?e.memoizedState:null}else e=Po.next;var t=Ko===null?Ei.memoizedState:Ko.next;if(t!==null)Ko=t,Po=e;else{if(e===null)throw Error(Ze(310));Po=e,e={memoizedState:Po.memoizedState,baseState:Po.baseState,baseQueue:Po.baseQueue,queue:Po.queue,next:null},Ko===null?Ei.memoizedState=Ko=e:Ko=Ko.next=e}return Ko}function vT(e,t){return typeof t=="function"?t(e):t}function sQ(e){var t=Mu(),n=t.queue;if(n===null)throw Error(Ze(311));n.lastRenderedReducer=e;var r=Po,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((N1&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Ei.lanes|=u,M1|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,Vf(r,t.memoizedState)||(_l=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Ei.lanes|=o,M1|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function aQ(e){var t=Mu(),n=t.queue;if(n===null)throw Error(Ze(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);Vf(o,t.memoizedState)||(_l=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function yPe(){}function vPe(e,t){var n=Ei,r=Mu(),i=t(),o=!Vf(r.memoizedState,i);if(o&&(r.memoizedState=i,_l=!0),r=r.queue,Ree(xPe.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Ko!==null&&Ko.memoizedState.tag&1){if(n.flags|=2048,bT(9,OPe.bind(null,n,r,i,t),void 0,null),ls===null)throw Error(Ze(349));N1&30||bPe(n,t,i)}return i}function bPe(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ei.updateQueue,t===null?(t={lastEffect:null,stores:null},Ei.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function OPe(e,t,n,r){t.value=n,t.getSnapshot=r,wPe(t)&&SPe(e)}function xPe(e,t,n){return n(function(){wPe(t)&&SPe(e)})}function wPe(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vf(e,n)}catch{return!0}}function SPe(e){var t=ag(e,1);t!==null&&Af(t,e,1,-1)}function Hhe(e){var t=Nd();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vT,lastRenderedState:e},t.queue=e,e=e.dispatch=fst.bind(null,Ei,e),[t.memoizedState,e]}function bT(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ei.updateQueue,t===null?(t={lastEffect:null,stores:null},Ei.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function _Pe(){return Mu().memoizedState}function kM(e,t,n,r){var i=Nd();Ei.flags|=e,i.memoizedState=bT(1|t,n,void 0,r===void 0?null:r)}function VF(e,t,n,r){var i=Mu();r=r===void 0?null:r;var o=void 0;if(Po!==null){var s=Po.memoizedState;if(o=s.destroy,r!==null&&kee(r,s.deps)){i.memoizedState=bT(t,n,o,r);return}}Ei.flags|=e,i.memoizedState=bT(1|t,n,o,r)}function Zhe(e,t){return kM(8390656,8,e,t)}function Ree(e,t){return VF(2048,8,e,t)}function CPe(e,t){return VF(4,2,e,t)}function $Pe(e,t){return VF(4,4,e,t)}function EPe(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kPe(e,t,n){return n=n!=null?n.concat([e]):null,VF(4,4,EPe.bind(null,t,e),n)}function Aee(){}function TPe(e,t){var n=Mu();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&kee(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function PPe(e,t){var n=Mu();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&kee(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function RPe(e,t,n){return N1&21?(Vf(n,t)||(n=N2e(),Ei.lanes|=n,M1|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,_l=!0),e.memoizedState=n)}function cst(e,t){var n=vr;vr=n!==0&&4>n?n:4,e(!0);var r=oQ.transition;oQ.transition={};try{e(!1),t()}finally{vr=n,oQ.transition=r}}function APe(){return Mu().memoizedState}function ust(e,t,n){var r=dy(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},DPe(e))NPe(t,n);else if(n=uPe(e,t,n,r),n!==null){var i=Xa();Af(n,e,r,i),MPe(n,t,r)}}function fst(e,t,n){var r=dy(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(DPe(e))NPe(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Vf(a,s)){var l=t.interleaved;l===null?(i.next=i,See(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=uPe(e,t,i,r),n!==null&&(i=Xa(),Af(n,e,r,i),MPe(n,t,r))}}function DPe(e){var t=e.alternate;return e===Ei||t!==null&&t===Ei}function NPe(e,t){nk=m5=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function MPe(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,cee(e,n)}}var y5={readContext:Nu,useCallback:Us,useContext:Us,useEffect:Us,useImperativeHandle:Us,useInsertionEffect:Us,useLayoutEffect:Us,useMemo:Us,useReducer:Us,useRef:Us,useState:Us,useDebugValue:Us,useDeferredValue:Us,useTransition:Us,useMutableSource:Us,useSyncExternalStore:Us,useId:Us,unstable_isNewReconciler:!1},dst={readContext:Nu,useCallback:function(e,t){return Nd().memoizedState=[e,t===void 0?null:t],e},useContext:Nu,useEffect:Zhe,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,kM(4194308,4,EPe.bind(null,t,e),n)},useLayoutEffect:function(e,t){return kM(4194308,4,e,t)},useInsertionEffect:function(e,t){return kM(4,2,e,t)},useMemo:function(e,t){var n=Nd();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Nd();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ust.bind(null,Ei,e),[r.memoizedState,e]},useRef:function(e){var t=Nd();return e={current:e},t.memoizedState=e},useState:Hhe,useDebugValue:Aee,useDeferredValue:function(e){return Nd().memoizedState=e},useTransition:function(){var e=Hhe(!1),t=e[0];return e=cst.bind(null,e[1]),Nd().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ei,i=Nd();if(pi){if(n===void 0)throw Error(Ze(407));n=n()}else{if(n=t(),ls===null)throw Error(Ze(349));N1&30||bPe(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Zhe(xPe.bind(null,r,o,e),[e]),r.flags|=2048,bT(9,OPe.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Nd(),t=ls.identifierPrefix;if(pi){var n=Ap,r=Rp;n=(r&~(1<<32-Rf(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=yT++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=lst++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hst={readContext:Nu,useCallback:TPe,useContext:Nu,useEffect:Ree,useImperativeHandle:kPe,useInsertionEffect:CPe,useLayoutEffect:$Pe,useMemo:PPe,useReducer:sQ,useRef:_Pe,useState:function(){return sQ(vT)},useDebugValue:Aee,useDeferredValue:function(e){var t=Mu();return RPe(t,Po.memoizedState,e)},useTransition:function(){var e=sQ(vT)[0],t=Mu().memoizedState;return[e,t]},useMutableSource:yPe,useSyncExternalStore:vPe,useId:APe,unstable_isNewReconciler:!1},pst={readContext:Nu,useCallback:TPe,useContext:Nu,useEffect:Ree,useImperativeHandle:kPe,useInsertionEffect:CPe,useLayoutEffect:$Pe,useMemo:PPe,useReducer:aQ,useRef:_Pe,useState:function(){return aQ(vT)},useDebugValue:Aee,useDeferredValue:function(e){var t=Mu();return Po===null?t.memoizedState=e:RPe(t,Po.memoizedState,e)},useTransition:function(){var e=aQ(vT)[0],t=Mu().memoizedState;return[e,t]},useMutableSource:yPe,useSyncExternalStore:vPe,useId:APe,unstable_isNewReconciler:!1};function eS(e,t){try{var n="",r=t;do n+=Bit(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function lQ(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Sq(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var gst=typeof WeakMap=="function"?WeakMap:Map;function IPe(e,t,n){n=Wp(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){b5||(b5=!0,Dq=r),Sq(e,t)},n}function LPe(e,t,n){n=Wp(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Sq(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Sq(e,t),typeof r!="function"&&(fy===null?fy=new Set([this]):fy.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Ghe(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new gst;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tst.bind(null,e,t,n),t.then(e,e))}function Khe(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Jhe(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Wp(-1,1),t.tag=2,uy(n,t,1))),n.lanes|=1),e)}var mst=Eg.ReactCurrentOwner,_l=!1;function La(e,t,n,r){t.child=e===null?gPe(t,null,n,r):Kw(t,e.child,n,r)}function epe(e,t,n,r,i){n=n.render;var o=t.ref;return dw(t,i),r=Tee(e,t,n,r,o,i),n=Pee(),e!==null&&!_l?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,lg(e,t,i)):(pi&&n&&yee(t),t.flags|=1,La(e,t,r,i),t.child)}function tpe(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!zee(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,jPe(e,t,o,r,i)):(e=AM(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:fT,n(s,r)&&e.ref===t.ref)return lg(e,t,i)}return t.flags|=1,e=hy(o,r),e.ref=t.ref,e.return=t,t.child=e}function jPe(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(fT(o,r)&&e.ref===t.ref)if(_l=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(_l=!0);else return t.lanes=e.lanes,lg(e,t,i)}return _q(e,t,n,r,i)}function FPe(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ur(Wx,dc),dc|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ur(Wx,dc),dc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ur(Wx,dc),dc|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ur(Wx,dc),dc|=r;return La(e,t,i,n),t.child}function zPe(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _q(e,t,n,r,i){var o=Tl(n)?A1:wa.current;return o=Zw(t,o),dw(t,i),n=Tee(e,t,n,r,o,i),r=Pee(),e!==null&&!_l?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,lg(e,t,i)):(pi&&r&&yee(t),t.flags|=1,La(e,t,n,i),t.child)}function npe(e,t,n,r,i){if(Tl(n)){var o=!0;c5(t)}else o=!1;if(dw(t,i),t.stateNode===null)TM(e,t),hPe(t,n,r),wq(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Nu(c):(c=Tl(n)?A1:wa.current,c=Zw(t,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Yhe(t,s,r,c),vm=!1;var d=t.memoizedState;s.state=d,p5(t,r,s,i),l=t.memoizedState,a!==r||d!==l||kl.current||vm?(typeof u=="function"&&(xq(t,n,u,r),l=t.memoizedState),(a=vm||qhe(t,n,a,r,d,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,fPe(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:uf(t.type,a),s.props=c,f=t.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Nu(l):(l=Tl(n)?A1:wa.current,l=Zw(t,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&Yhe(t,s,r,l),vm=!1,d=t.memoizedState,s.state=d,p5(t,r,s,i);var p=t.memoizedState;a!==f||d!==p||kl.current||vm?(typeof h=="function"&&(xq(t,n,h,r),p=t.memoizedState),(c=vm||qhe(t,n,c,r,d,p,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Cq(e,t,n,r,o,i)}function Cq(e,t,n,r,i,o){zPe(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Qhe(t,n,!1),lg(e,t,o);r=t.stateNode,mst.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Kw(t,e.child,null,o),t.child=Kw(t,null,a,o)):La(e,t,a,o),t.memoizedState=r.state,i&&Qhe(t,n,!0),t.child}function QPe(e){var t=e.stateNode;t.pendingContext?zhe(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zhe(e,t.context,!1),Cee(e,t.containerInfo)}function rpe(e,t,n,r,i){return Gw(),bee(i),t.flags|=256,La(e,t,n,r),t.child}var $q={dehydrated:null,treeContext:null,retryLane:0};function Eq(e){return{baseLanes:e,cachePool:null,transitions:null}}function BPe(e,t,n){var r=t.pendingProps,i=Ci.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ur(Ci,i&1),e===null)return bq(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=YF(s,r,0,null),e=u1(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Eq(n),t.memoizedState=$q,e):Dee(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return yst(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=hy(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=hy(a,o):(o=u1(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?Eq(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=$q,r}return o=e.child,e=o.sibling,r=hy(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Dee(e,t){return t=YF({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function HA(e,t,n,r){return r!==null&&bee(r),Kw(t,e.child,null,n),e=Dee(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yst(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=lQ(Error(Ze(422))),HA(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=YF({mode:"visible",children:r.children},i,0,null),o=u1(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Kw(t,e.child,null,s),t.child.memoizedState=Eq(s),t.memoizedState=$q,o);if(!(t.mode&1))return HA(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(Ze(419)),r=lQ(o,r,void 0),HA(e,t,s,r)}if(a=(s&e.childLanes)!==0,_l||a){if(r=ls,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,ag(e,i),Af(r,e,i,-1))}return Fee(),r=lQ(Error(Ze(421))),HA(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Pst.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Sc=cy(i.nextSibling),Rc=t,pi=!0,pf=null,e!==null&&(ru[iu++]=Rp,ru[iu++]=Ap,ru[iu++]=D1,Rp=e.id,Ap=e.overflow,D1=t),t=Dee(t,r.children),t.flags|=4096,t)}function ipe(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Oq(e.return,t,n)}function cQ(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function WPe(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(La(e,t,r.children,n),r=Ci.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ipe(e,n,t);else if(e.tag===19)ipe(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ur(Ci,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&g5(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),cQ(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&g5(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}cQ(t,!0,n,null,o);break;case"together":cQ(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function TM(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function lg(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),M1|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ze(153));if(t.child!==null){for(e=t.child,n=hy(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hy(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function vst(e,t,n){switch(t.tag){case 3:QPe(t),Gw();break;case 5:mPe(t);break;case 1:Tl(t.type)&&c5(t);break;case 4:Cee(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ur(d5,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ur(Ci,Ci.current&1),t.flags|=128,null):n&t.child.childLanes?BPe(e,t,n):(Ur(Ci,Ci.current&1),e=lg(e,t,n),e!==null?e.sibling:null);Ur(Ci,Ci.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return WPe(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ur(Ci,Ci.current),r)break;return null;case 22:case 23:return t.lanes=0,FPe(e,t,n)}return lg(e,t,n)}var VPe,kq,UPe,qPe;VPe=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kq=function(){};UPe=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Yv(oh.current);var o=null;switch(n){case"input":i=ZU(e,i),r=ZU(e,r),o=[];break;case"select":i=ki({},i,{value:void 0}),r=ki({},r,{value:void 0}),o=[];break;case"textarea":i=JU(e,i),r=JU(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=a5)}tq(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(iT.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(iT.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Jr("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};qPe=function(e,t,n,r){n!==r&&(t.flags|=4)};function qC(e,t){if(!pi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function qs(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bst(e,t,n){var r=t.pendingProps;switch(vee(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qs(t),null;case 1:return Tl(t.type)&&l5(),qs(t),null;case 3:return r=t.stateNode,Jw(),ci(kl),ci(wa),Eee(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(YA(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pf!==null&&(Iq(pf),pf=null))),kq(e,t),qs(t),null;case 5:$ee(t);var i=Yv(mT.current);if(n=t.type,e!==null&&t.stateNode!=null)UPe(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ze(166));return qs(t),null}if(e=Yv(oh.current),YA(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Vd]=t,r[pT]=o,e=(t.mode&1)!==0,n){case"dialog":Jr("cancel",r),Jr("close",r);break;case"iframe":case"object":case"embed":Jr("load",r);break;case"video":case"audio":for(i=0;i<aE.length;i++)Jr(aE[i],r);break;case"source":Jr("error",r);break;case"img":case"image":case"link":Jr("error",r),Jr("load",r);break;case"details":Jr("toggle",r);break;case"input":hhe(r,o),Jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Jr("invalid",r);break;case"textarea":ghe(r,o),Jr("invalid",r)}tq(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&qA(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&qA(r.textContent,a,e),i=["children",""+a]):iT.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Jr("scroll",r)}switch(n){case"input":jA(r),phe(r,o,!0);break;case"textarea":jA(r),mhe(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=a5)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=b2e(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Vd]=t,e[pT]=r,VPe(e,t,!1,!1),t.stateNode=e;e:{switch(s=nq(n,r),n){case"dialog":Jr("cancel",e),Jr("close",e),i=r;break;case"iframe":case"object":case"embed":Jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<aE.length;i++)Jr(aE[i],e);i=r;break;case"source":Jr("error",e),i=r;break;case"img":case"image":case"link":Jr("error",e),Jr("load",e),i=r;break;case"details":Jr("toggle",e),i=r;break;case"input":hhe(e,r),i=ZU(e,r),Jr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=ki({},r,{value:void 0}),Jr("invalid",e);break;case"textarea":ghe(e,r),i=JU(e,r),Jr("invalid",e);break;default:i=r}tq(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?w2e(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&O2e(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&oT(e,l):typeof l=="number"&&oT(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(iT.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Jr("scroll",e):l!=null&&ree(e,o,l,s))}switch(n){case"input":jA(e),phe(e,r,!1);break;case"textarea":jA(e),mhe(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ly(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?lw(e,!!r.multiple,o,!1):r.defaultValue!=null&&lw(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=a5)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qs(t),null;case 6:if(e&&t.stateNode!=null)qPe(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ze(166));if(n=Yv(mT.current),Yv(oh.current),YA(t)){if(r=t.stateNode,n=t.memoizedProps,r[Vd]=t,(o=r.nodeValue!==n)&&(e=Rc,e!==null))switch(e.tag){case 3:qA(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qA(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vd]=t,t.stateNode=r}return qs(t),null;case 13:if(ci(Ci),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pi&&Sc!==null&&t.mode&1&&!(t.flags&128))cPe(),Gw(),t.flags|=98560,o=!1;else if(o=YA(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(Ze(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Ze(317));o[Vd]=t}else Gw(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qs(t),o=!1}else pf!==null&&(Iq(pf),pf=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ci.current&1?jo===0&&(jo=3):Fee())),t.updateQueue!==null&&(t.flags|=4),qs(t),null);case 4:return Jw(),kq(e,t),e===null&&dT(t.stateNode.containerInfo),qs(t),null;case 10:return wee(t.type._context),qs(t),null;case 17:return Tl(t.type)&&l5(),qs(t),null;case 19:if(ci(Ci),o=t.memoizedState,o===null)return qs(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)qC(o,!1);else{if(jo!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=g5(e),s!==null){for(t.flags|=128,qC(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ur(Ci,Ci.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ki()>tS&&(t.flags|=128,r=!0,qC(o,!1),t.lanes=4194304)}else{if(!r)if(e=g5(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),qC(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!pi)return qs(t),null}else 2*Ki()-o.renderingStartTime>tS&&n!==1073741824&&(t.flags|=128,r=!0,qC(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ki(),t.sibling=null,n=Ci.current,Ur(Ci,r?n&1|2:n&1),t):(qs(t),null);case 22:case 23:return jee(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?dc&1073741824&&(qs(t),t.subtreeFlags&6&&(t.flags|=8192)):qs(t),null;case 24:return null;case 25:return null}throw Error(Ze(156,t.tag))}function Ost(e,t){switch(vee(t),t.tag){case 1:return Tl(t.type)&&l5(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jw(),ci(kl),ci(wa),Eee(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return $ee(t),null;case 13:if(ci(Ci),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ze(340));Gw()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ci(Ci),null;case 4:return Jw(),null;case 10:return wee(t.type._context),null;case 22:case 23:return jee(),null;case 24:return null;default:return null}}var ZA=!1,ca=!1,xst=typeof WeakSet=="function"?WeakSet:Set,yt=null;function Bx(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Fi(e,t,r)}else n.current=null}function Tq(e,t,n){try{n()}catch(r){Fi(e,t,r)}}var ope=!1;function wst(e,t){if(dq=i5,e=Z2e(),mee(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,f=e,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===n&&++c===i&&(a=s),d===o&&++u===r&&(l=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(hq={focusedElem:e,selectionRange:n},i5=!1,yt=t;yt!==null;)if(t=yt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,yt=e;else for(;yt!==null;){t=yt;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,y=p.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:uf(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ze(163))}}catch(w){Fi(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,yt=e;break}yt=t.return}return p=ope,ope=!1,p}function rk(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Tq(t,n,o)}i=i.next}while(i!==r)}}function UF(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Pq(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function YPe(e){var t=e.alternate;t!==null&&(e.alternate=null,YPe(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vd],delete t[pT],delete t[mq],delete t[ist],delete t[ost])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function XPe(e){return e.tag===5||e.tag===3||e.tag===4}function spe(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||XPe(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rq(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=a5));else if(r!==4&&(e=e.child,e!==null))for(Rq(e,t,n),e=e.sibling;e!==null;)Rq(e,t,n),e=e.sibling}function Aq(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Aq(e,t,n),e=e.sibling;e!==null;)Aq(e,t,n),e=e.sibling}var bs=null,df=!1;function Zg(e,t,n){for(n=n.child;n!==null;)HPe(e,t,n),n=n.sibling}function HPe(e,t,n){if(ih&&typeof ih.onCommitFiberUnmount=="function")try{ih.onCommitFiberUnmount(LF,n)}catch{}switch(n.tag){case 5:ca||Bx(n,t);case 6:var r=bs,i=df;bs=null,Zg(e,t,n),bs=r,df=i,bs!==null&&(df?(e=bs,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):bs.removeChild(n.stateNode));break;case 18:bs!==null&&(df?(e=bs,n=n.stateNode,e.nodeType===8?nQ(e.parentNode,n):e.nodeType===1&&nQ(e,n),cT(e)):nQ(bs,n.stateNode));break;case 4:r=bs,i=df,bs=n.stateNode.containerInfo,df=!0,Zg(e,t,n),bs=r,df=i;break;case 0:case 11:case 14:case 15:if(!ca&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Tq(n,t,s),i=i.next}while(i!==r)}Zg(e,t,n);break;case 1:if(!ca&&(Bx(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Fi(n,t,a)}Zg(e,t,n);break;case 21:Zg(e,t,n);break;case 22:n.mode&1?(ca=(r=ca)||n.memoizedState!==null,Zg(e,t,n),ca=r):Zg(e,t,n);break;default:Zg(e,t,n)}}function ape(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new xst),t.forEach(function(r){var i=Rst.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function tf(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:bs=a.stateNode,df=!1;break e;case 3:bs=a.stateNode.containerInfo,df=!0;break e;case 4:bs=a.stateNode.containerInfo,df=!0;break e}a=a.return}if(bs===null)throw Error(Ze(160));HPe(o,s,i),bs=null,df=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Fi(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ZPe(t,e),t=t.sibling}function ZPe(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tf(t,e),wd(e),r&4){try{rk(3,e,e.return),UF(3,e)}catch(g){Fi(e,e.return,g)}try{rk(5,e,e.return)}catch(g){Fi(e,e.return,g)}}break;case 1:tf(t,e),wd(e),r&512&&n!==null&&Bx(n,n.return);break;case 5:if(tf(t,e),wd(e),r&512&&n!==null&&Bx(n,n.return),e.flags&32){var i=e.stateNode;try{oT(i,"")}catch(g){Fi(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&y2e(i,o),nq(a,s);var c=nq(a,o);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?w2e(i,f):u==="dangerouslySetInnerHTML"?O2e(i,f):u==="children"?oT(i,f):ree(i,u,f,c)}switch(a){case"input":GU(i,o);break;case"textarea":v2e(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?lw(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?lw(i,!!o.multiple,o.defaultValue,!0):lw(i,!!o.multiple,o.multiple?[]:"",!1))}i[pT]=o}catch(g){Fi(e,e.return,g)}}break;case 6:if(tf(t,e),wd(e),r&4){if(e.stateNode===null)throw Error(Ze(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Fi(e,e.return,g)}}break;case 3:if(tf(t,e),wd(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cT(t.containerInfo)}catch(g){Fi(e,e.return,g)}break;case 4:tf(t,e),wd(e);break;case 13:tf(t,e),wd(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Iee=Ki())),r&4&&ape(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(ca=(c=ca)||u,tf(t,e),ca=c):tf(t,e),wd(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(yt=e,u=e.child;u!==null;){for(f=yt=u;yt!==null;){switch(d=yt,h=d.child,d.tag){case 0:case 11:case 14:case 15:rk(4,d,d.return);break;case 1:Bx(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Fi(r,n,g)}}break;case 5:Bx(d,d.return);break;case 22:if(d.memoizedState!==null){cpe(f);continue}}h!==null?(h.return=d,yt=h):cpe(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=x2e("display",s))}catch(g){Fi(e,e.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Fi(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:tf(t,e),wd(e),r&4&&ape(e);break;case 21:break;default:tf(t,e),wd(e)}}function wd(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(XPe(n)){var r=n;break e}n=n.return}throw Error(Ze(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(oT(i,""),r.flags&=-33);var o=spe(e);Aq(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=spe(e);Rq(e,a,s);break;default:throw Error(Ze(161))}}catch(l){Fi(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sst(e,t,n){yt=e,GPe(e)}function GPe(e,t,n){for(var r=(e.mode&1)!==0;yt!==null;){var i=yt,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ZA;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ca;a=ZA;var c=ca;if(ZA=s,(ca=l)&&!c)for(yt=i;yt!==null;)s=yt,l=s.child,s.tag===22&&s.memoizedState!==null?upe(i):l!==null?(l.return=s,yt=l):upe(i);for(;o!==null;)yt=o,GPe(o),o=o.sibling;yt=i,ZA=a,ca=c}lpe(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,yt=o):lpe(e)}}function lpe(e){for(;yt!==null;){var t=yt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ca||UF(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ca)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:uf(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Uhe(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Uhe(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&cT(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ze(163))}ca||t.flags&512&&Pq(t)}catch(d){Fi(t,t.return,d)}}if(t===e){yt=null;break}if(n=t.sibling,n!==null){n.return=t.return,yt=n;break}yt=t.return}}function cpe(e){for(;yt!==null;){var t=yt;if(t===e){yt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,yt=n;break}yt=t.return}}function upe(e){for(;yt!==null;){var t=yt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{UF(4,t)}catch(l){Fi(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Fi(t,i,l)}}var o=t.return;try{Pq(t)}catch(l){Fi(t,o,l)}break;case 5:var s=t.return;try{Pq(t)}catch(l){Fi(t,s,l)}}}catch(l){Fi(t,t.return,l)}if(t===e){yt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,yt=a;break}yt=t.return}}var _st=Math.ceil,v5=Eg.ReactCurrentDispatcher,Nee=Eg.ReactCurrentOwner,Cu=Eg.ReactCurrentBatchConfig,Vn=0,ls=null,go=null,Ds=0,dc=0,Wx=w0(0),jo=0,OT=null,M1=0,qF=0,Mee=0,ik=null,gl=null,Iee=0,tS=1/0,yp=null,b5=!1,Dq=null,fy=null,GA=!1,Fm=null,O5=0,ok=0,Nq=null,PM=-1,RM=0;function Xa(){return Vn&6?Ki():PM!==-1?PM:PM=Ki()}function dy(e){return e.mode&1?Vn&2&&Ds!==0?Ds&-Ds:ast.transition!==null?(RM===0&&(RM=N2e()),RM):(e=vr,e!==0||(e=window.event,e=e===void 0?16:Q2e(e.type)),e):1}function Af(e,t,n,r){if(50<ok)throw ok=0,Nq=null,Error(Ze(185));AP(e,n,r),(!(Vn&2)||e!==ls)&&(e===ls&&(!(Vn&2)&&(qF|=n),jo===4&&Tm(e,Ds)),Pl(e,r),n===1&&Vn===0&&!(t.mode&1)&&(tS=Ki()+500,BF&&S0()))}function Pl(e,t){var n=e.callbackNode;aot(e,t);var r=r5(e,e===ls?Ds:0);if(r===0)n!==null&&bhe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&bhe(n),t===1)e.tag===0?sst(fpe.bind(null,e)):sPe(fpe.bind(null,e)),nst(function(){!(Vn&6)&&S0()}),n=null;else{switch(M2e(r)){case 1:n=lee;break;case 4:n=A2e;break;case 16:n=n5;break;case 536870912:n=D2e;break;default:n=n5}n=oRe(n,KPe.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function KPe(e,t){if(PM=-1,RM=0,Vn&6)throw Error(Ze(327));var n=e.callbackNode;if(hw()&&e.callbackNode!==n)return null;var r=r5(e,e===ls?Ds:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=x5(e,r);else{t=r;var i=Vn;Vn|=2;var o=eRe();(ls!==e||Ds!==t)&&(yp=null,tS=Ki()+500,c1(e,t));do try{Est();break}catch(a){JPe(e,a)}while(!0);xee(),v5.current=o,Vn=i,go!==null?t=0:(ls=null,Ds=0,t=jo)}if(t!==0){if(t===2&&(i=aq(e),i!==0&&(r=i,t=Mq(e,i))),t===1)throw n=OT,c1(e,0),Tm(e,r),Pl(e,Ki()),n;if(t===6)Tm(e,r);else{if(i=e.current.alternate,!(r&30)&&!Cst(i)&&(t=x5(e,r),t===2&&(o=aq(e),o!==0&&(r=o,t=Mq(e,o))),t===1))throw n=OT,c1(e,0),Tm(e,r),Pl(e,Ki()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ze(345));case 2:bv(e,gl,yp);break;case 3:if(Tm(e,r),(r&130023424)===r&&(t=Iee+500-Ki(),10<t)){if(r5(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Xa(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=gq(bv.bind(null,e,gl,yp),t);break}bv(e,gl,yp);break;case 4:if(Tm(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Rf(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=Ki()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_st(r/1960))-r,10<r){e.timeoutHandle=gq(bv.bind(null,e,gl,yp),r);break}bv(e,gl,yp);break;case 5:bv(e,gl,yp);break;default:throw Error(Ze(329))}}}return Pl(e,Ki()),e.callbackNode===n?KPe.bind(null,e):null}function Mq(e,t){var n=ik;return e.current.memoizedState.isDehydrated&&(c1(e,t).flags|=256),e=x5(e,t),e!==2&&(t=gl,gl=n,t!==null&&Iq(t)),e}function Iq(e){gl===null?gl=e:gl.push.apply(gl,e)}function Cst(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Vf(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Tm(e,t){for(t&=~Mee,t&=~qF,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Rf(t),r=1<<n;e[n]=-1,t&=~r}}function fpe(e){if(Vn&6)throw Error(Ze(327));hw();var t=r5(e,0);if(!(t&1))return Pl(e,Ki()),null;var n=x5(e,t);if(e.tag!==0&&n===2){var r=aq(e);r!==0&&(t=r,n=Mq(e,r))}if(n===1)throw n=OT,c1(e,0),Tm(e,t),Pl(e,Ki()),n;if(n===6)throw Error(Ze(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bv(e,gl,yp),Pl(e,Ki()),null}function Lee(e,t){var n=Vn;Vn|=1;try{return e(t)}finally{Vn=n,Vn===0&&(tS=Ki()+500,BF&&S0())}}function I1(e){Fm!==null&&Fm.tag===0&&!(Vn&6)&&hw();var t=Vn;Vn|=1;var n=Cu.transition,r=vr;try{if(Cu.transition=null,vr=1,e)return e()}finally{vr=r,Cu.transition=n,Vn=t,!(Vn&6)&&S0()}}function jee(){dc=Wx.current,ci(Wx)}function c1(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,tst(n)),go!==null)for(n=go.return;n!==null;){var r=n;switch(vee(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&l5();break;case 3:Jw(),ci(kl),ci(wa),Eee();break;case 5:$ee(r);break;case 4:Jw();break;case 13:ci(Ci);break;case 19:ci(Ci);break;case 10:wee(r.type._context);break;case 22:case 23:jee()}n=n.return}if(ls=e,go=e=hy(e.current,null),Ds=dc=t,jo=0,OT=null,Mee=qF=M1=0,gl=ik=null,qv!==null){for(t=0;t<qv.length;t++)if(n=qv[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}qv=null}return e}function JPe(e,t){do{var n=go;try{if(xee(),EM.current=y5,m5){for(var r=Ei.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}m5=!1}if(N1=0,Ko=Po=Ei=null,nk=!1,yT=0,Nee.current=null,n===null||n.return===null){jo=1,OT=t,go=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Ds,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=Khe(s);if(h!==null){h.flags&=-257,Jhe(h,s,a,o,t),h.mode&1&&Ghe(o,c,t),t=h,l=c;var p=t.updateQueue;if(p===null){var g=new Set;g.add(l),t.updateQueue=g}else p.add(l);break e}else{if(!(t&1)){Ghe(o,c,t),Fee();break e}l=Error(Ze(426))}}else if(pi&&a.mode&1){var y=Khe(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),Jhe(y,s,a,o,t),bee(eS(l,a));break e}}o=l=eS(l,a),jo!==4&&(jo=2),ik===null?ik=[o]:ik.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=IPe(o,l,t);Vhe(o,v);break e;case 1:a=l;var x=o.type,m=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(fy===null||!fy.has(m)))){o.flags|=65536,t&=-t,o.lanes|=t;var w=LPe(o,a,t);Vhe(o,w);break e}}o=o.return}while(o!==null)}nRe(n)}catch(S){t=S,go===n&&n!==null&&(go=n=n.return);continue}break}while(!0)}function eRe(){var e=v5.current;return v5.current=y5,e===null?y5:e}function Fee(){(jo===0||jo===3||jo===2)&&(jo=4),ls===null||!(M1&268435455)&&!(qF&268435455)||Tm(ls,Ds)}function x5(e,t){var n=Vn;Vn|=2;var r=eRe();(ls!==e||Ds!==t)&&(yp=null,c1(e,t));do try{$st();break}catch(i){JPe(e,i)}while(!0);if(xee(),Vn=n,v5.current=r,go!==null)throw Error(Ze(261));return ls=null,Ds=0,jo}function $st(){for(;go!==null;)tRe(go)}function Est(){for(;go!==null&&!Kit();)tRe(go)}function tRe(e){var t=iRe(e.alternate,e,dc);e.memoizedProps=e.pendingProps,t===null?nRe(e):go=t,Nee.current=null}function nRe(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Ost(n,t),n!==null){n.flags&=32767,go=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{jo=6,go=null;return}}else if(n=bst(n,t,dc),n!==null){go=n;return}if(t=t.sibling,t!==null){go=t;return}go=t=e}while(t!==null);jo===0&&(jo=5)}function bv(e,t,n){var r=vr,i=Cu.transition;try{Cu.transition=null,vr=1,kst(e,t,n,r)}finally{Cu.transition=i,vr=r}return null}function kst(e,t,n,r){do hw();while(Fm!==null);if(Vn&6)throw Error(Ze(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ze(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(lot(e,o),e===ls&&(go=ls=null,Ds=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||GA||(GA=!0,oRe(n5,function(){return hw(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Cu.transition,Cu.transition=null;var s=vr;vr=1;var a=Vn;Vn|=4,Nee.current=null,wst(e,n),ZPe(n,e),Xot(hq),i5=!!dq,hq=dq=null,e.current=n,Sst(n),Jit(),Vn=a,vr=s,Cu.transition=o}else e.current=n;if(GA&&(GA=!1,Fm=e,O5=i),o=e.pendingLanes,o===0&&(fy=null),not(n.stateNode),Pl(e,Ki()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(b5)throw b5=!1,e=Dq,Dq=null,e;return O5&1&&e.tag!==0&&hw(),o=e.pendingLanes,o&1?e===Nq?ok++:(ok=0,Nq=e):ok=0,S0(),null}function hw(){if(Fm!==null){var e=M2e(O5),t=Cu.transition,n=vr;try{if(Cu.transition=null,vr=16>e?16:e,Fm===null)var r=!1;else{if(e=Fm,Fm=null,O5=0,Vn&6)throw Error(Ze(331));var i=Vn;for(Vn|=4,yt=e.current;yt!==null;){var o=yt,s=o.child;if(yt.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(yt=c;yt!==null;){var u=yt;switch(u.tag){case 0:case 11:case 15:rk(8,u,o)}var f=u.child;if(f!==null)f.return=u,yt=f;else for(;yt!==null;){u=yt;var d=u.sibling,h=u.return;if(YPe(u),u===c){yt=null;break}if(d!==null){d.return=h,yt=d;break}yt=h}}}var p=o.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}yt=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,yt=s;else e:for(;yt!==null;){if(o=yt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:rk(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,yt=v;break e}yt=o.return}}var x=e.current;for(yt=x;yt!==null;){s=yt;var m=s.child;if(s.subtreeFlags&2064&&m!==null)m.return=s,yt=m;else e:for(s=x;yt!==null;){if(a=yt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:UF(9,a)}}catch(S){Fi(a,a.return,S)}if(a===s){yt=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,yt=w;break e}yt=a.return}}if(Vn=i,S0(),ih&&typeof ih.onPostCommitFiberRoot=="function")try{ih.onPostCommitFiberRoot(LF,e)}catch{}r=!0}return r}finally{vr=n,Cu.transition=t}}return!1}function dpe(e,t,n){t=eS(n,t),t=IPe(e,t,1),e=uy(e,t,1),t=Xa(),e!==null&&(AP(e,1,t),Pl(e,t))}function Fi(e,t,n){if(e.tag===3)dpe(e,e,n);else for(;t!==null;){if(t.tag===3){dpe(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(fy===null||!fy.has(r))){e=eS(n,e),e=LPe(t,e,1),t=uy(t,e,1),e=Xa(),t!==null&&(AP(t,1,e),Pl(t,e));break}}t=t.return}}function Tst(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Xa(),e.pingedLanes|=e.suspendedLanes&n,ls===e&&(Ds&n)===n&&(jo===4||jo===3&&(Ds&130023424)===Ds&&500>Ki()-Iee?c1(e,0):Mee|=n),Pl(e,t)}function rRe(e,t){t===0&&(e.mode&1?(t=QA,QA<<=1,!(QA&130023424)&&(QA=4194304)):t=1);var n=Xa();e=ag(e,t),e!==null&&(AP(e,t,n),Pl(e,n))}function Pst(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),rRe(e,n)}function Rst(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ze(314))}r!==null&&r.delete(t),rRe(e,n)}var iRe;iRe=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||kl.current)_l=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return _l=!1,vst(e,t,n);_l=!!(e.flags&131072)}else _l=!1,pi&&t.flags&1048576&&aPe(t,f5,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;TM(e,t),e=t.pendingProps;var i=Zw(t,wa.current);dw(t,n),i=Tee(null,t,r,e,i,n);var o=Pee();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tl(r)?(o=!0,c5(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_ee(t),i.updater=WF,t.stateNode=i,i._reactInternals=t,wq(t,r,e,n),t=Cq(null,t,r,!0,o,n)):(t.tag=0,pi&&o&&yee(t),La(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(TM(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=Dst(r),e=uf(r,e),i){case 0:t=_q(null,t,r,e,n);break e;case 1:t=npe(null,t,r,e,n);break e;case 11:t=epe(null,t,r,e,n);break e;case 14:t=tpe(null,t,r,uf(r.type,e),n);break e}throw Error(Ze(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:uf(r,i),_q(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:uf(r,i),npe(e,t,r,i,n);case 3:e:{if(QPe(t),e===null)throw Error(Ze(387));r=t.pendingProps,o=t.memoizedState,i=o.element,fPe(e,t),p5(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=eS(Error(Ze(423)),t),t=rpe(e,t,r,n,i);break e}else if(r!==i){i=eS(Error(Ze(424)),t),t=rpe(e,t,r,n,i);break e}else for(Sc=cy(t.stateNode.containerInfo.firstChild),Rc=t,pi=!0,pf=null,n=gPe(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gw(),r===i){t=lg(e,t,n);break e}La(e,t,r,n)}t=t.child}return t;case 5:return mPe(t),e===null&&bq(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,pq(r,i)?s=null:o!==null&&pq(r,o)&&(t.flags|=32),zPe(e,t),La(e,t,s,n),t.child;case 6:return e===null&&bq(t),null;case 13:return BPe(e,t,n);case 4:return Cee(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Kw(t,null,r,n):La(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:uf(r,i),epe(e,t,r,i,n);case 7:return La(e,t,t.pendingProps,n),t.child;case 8:return La(e,t,t.pendingProps.children,n),t.child;case 12:return La(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ur(d5,r._currentValue),r._currentValue=s,o!==null)if(Vf(o.value,s)){if(o.children===i.children&&!kl.current){t=lg(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Wp(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Oq(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(Ze(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Oq(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}La(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,dw(t,n),i=Nu(i),r=r(i),t.flags|=1,La(e,t,r,n),t.child;case 14:return r=t.type,i=uf(r,t.pendingProps),i=uf(r.type,i),tpe(e,t,r,i,n);case 15:return jPe(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:uf(r,i),TM(e,t),t.tag=1,Tl(r)?(e=!0,c5(t)):e=!1,dw(t,n),hPe(t,r,i),wq(t,r,i,n),Cq(null,t,r,!0,e,n);case 19:return WPe(e,t,n);case 22:return FPe(e,t,n)}throw Error(Ze(156,t.tag))};function oRe(e,t){return R2e(e,t)}function Ast(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gu(e,t,n,r){return new Ast(e,t,n,r)}function zee(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dst(e){if(typeof e=="function")return zee(e)?1:0;if(e!=null){if(e=e.$$typeof,e===oee)return 11;if(e===see)return 14}return 2}function hy(e,t){var n=e.alternate;return n===null?(n=gu(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function AM(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")zee(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Dx:return u1(n.children,i,o,t);case iee:s=8,i|=8;break;case qU:return e=gu(12,n,t,i|2),e.elementType=qU,e.lanes=o,e;case YU:return e=gu(13,n,t,i),e.elementType=YU,e.lanes=o,e;case XU:return e=gu(19,n,t,i),e.elementType=XU,e.lanes=o,e;case p2e:return YF(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case d2e:s=10;break e;case h2e:s=9;break e;case oee:s=11;break e;case see:s=14;break e;case ym:s=16,r=null;break e}throw Error(Ze(130,e==null?e:typeof e,""))}return t=gu(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function u1(e,t,n,r){return e=gu(7,e,r,t),e.lanes=n,e}function YF(e,t,n,r){return e=gu(22,e,r,t),e.elementType=p2e,e.lanes=n,e.stateNode={isHidden:!1},e}function uQ(e,t,n){return e=gu(6,e,null,t),e.lanes=n,e}function fQ(e,t,n){return t=gu(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Nst(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=U9(0),this.expirationTimes=U9(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=U9(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Qee(e,t,n,r,i,o,s,a,l){return e=new Nst(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=gu(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_ee(o),e}function Mst(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ax,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function sRe(e){if(!e)return jy;e=e._reactInternals;e:{if(jb(e)!==e||e.tag!==1)throw Error(Ze(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tl(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ze(171))}if(e.tag===1){var n=e.type;if(Tl(n))return oPe(e,n,t)}return t}function aRe(e,t,n,r,i,o,s,a,l){return e=Qee(n,r,!0,e,i,o,s,a,l),e.context=sRe(null),n=e.current,r=Xa(),i=dy(n),o=Wp(r,i),o.callback=t??null,uy(n,o,i),e.current.lanes=i,AP(e,i,r),Pl(e,r),e}function XF(e,t,n,r){var i=t.current,o=Xa(),s=dy(i);return n=sRe(n),t.context===null?t.context=n:t.pendingContext=n,t=Wp(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=uy(i,t,s),e!==null&&(Af(e,i,s,o),$M(e,i,s)),s}function w5(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hpe(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Bee(e,t){hpe(e,t),(e=e.alternate)&&hpe(e,t)}function Ist(){return null}var lRe=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wee(e){this._internalRoot=e}HF.prototype.render=Wee.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ze(409));XF(e,t,null,null)};HF.prototype.unmount=Wee.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;I1(function(){XF(null,e,null,null)}),t[sg]=null}};function HF(e){this._internalRoot=e}HF.prototype.unstable_scheduleHydration=function(e){if(e){var t=j2e();e={blockedOn:null,target:e,priority:t};for(var n=0;n<km.length&&t!==0&&t<km[n].priority;n++);km.splice(n,0,e),n===0&&z2e(e)}};function Vee(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ZF(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ppe(){}function Lst(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=w5(s);o.call(c)}}var s=aRe(t,r,e,0,null,!1,!1,"",ppe);return e._reactRootContainer=s,e[sg]=s.current,dT(e.nodeType===8?e.parentNode:e),I1(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=w5(l);a.call(c)}}var l=Qee(e,0,!1,null,null,!1,!1,"",ppe);return e._reactRootContainer=l,e[sg]=l.current,dT(e.nodeType===8?e.parentNode:e),I1(function(){XF(t,l,n,r)}),l}function GF(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=w5(s);a.call(l)}}XF(t,s,e,i)}else s=Lst(n,t,e,i,r);return w5(s)}I2e=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=sE(t.pendingLanes);n!==0&&(cee(t,n|1),Pl(t,Ki()),!(Vn&6)&&(tS=Ki()+500,S0()))}break;case 13:I1(function(){var r=ag(e,1);if(r!==null){var i=Xa();Af(r,e,1,i)}}),Bee(e,1)}};uee=function(e){if(e.tag===13){var t=ag(e,134217728);if(t!==null){var n=Xa();Af(t,e,134217728,n)}Bee(e,134217728)}};L2e=function(e){if(e.tag===13){var t=dy(e),n=ag(e,t);if(n!==null){var r=Xa();Af(n,e,t,r)}Bee(e,t)}};j2e=function(){return vr};F2e=function(e,t){var n=vr;try{return vr=e,t()}finally{vr=n}};iq=function(e,t,n){switch(t){case"input":if(GU(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=QF(r);if(!i)throw Error(Ze(90));m2e(r),GU(r,i)}}}break;case"textarea":v2e(e,n);break;case"select":t=n.value,t!=null&&lw(e,!!n.multiple,t,!1)}};C2e=Lee;$2e=I1;var jst={usingClientEntryPoint:!1,Events:[NP,Lx,QF,S2e,_2e,Lee]},YC={findFiberByHostInstance:Uv,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Fst={bundleType:YC.bundleType,version:YC.version,rendererPackageName:YC.rendererPackageName,rendererConfig:YC.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Eg.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=T2e(e),e===null?null:e.stateNode},findFiberByHostInstance:YC.findFiberByHostInstance||Ist,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var KA=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!KA.isDisabled&&KA.supportsFiber)try{LF=KA.inject(Fst),ih=KA}catch{}}Vc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jst;Vc.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vee(t))throw Error(Ze(200));return Mst(e,t,null,n)};Vc.createRoot=function(e,t){if(!Vee(e))throw Error(Ze(299));var n=!1,r="",i=lRe;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Qee(e,1,!1,null,null,n,!1,r,i),e[sg]=t.current,dT(e.nodeType===8?e.parentNode:e),new Wee(t)};Vc.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ze(188)):(e=Object.keys(e).join(","),Error(Ze(268,e)));return e=T2e(t),e=e===null?null:e.stateNode,e};Vc.flushSync=function(e){return I1(e)};Vc.hydrate=function(e,t,n){if(!ZF(t))throw Error(Ze(200));return GF(null,e,t,!0,n)};Vc.hydrateRoot=function(e,t,n){if(!Vee(e))throw Error(Ze(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=lRe;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=aRe(t,null,e,1,n??null,i,!1,o,s),e[sg]=t.current,dT(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new HF(t)};Vc.render=function(e,t,n){if(!ZF(t))throw Error(Ze(200));return GF(null,e,t,!1,n)};Vc.unmountComponentAtNode=function(e){if(!ZF(e))throw Error(Ze(40));return e._reactRootContainer?(I1(function(){GF(null,null,e,!1,function(){e._reactRootContainer=null,e[sg]=null})}),!0):!1};Vc.unstable_batchedUpdates=Lee;Vc.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ZF(n))throw Error(Ze(200));if(e==null||e._reactInternals===void 0)throw Error(Ze(38));return GF(e,t,n,!1,r)};Vc.version="18.2.0-next-9e3b772b8-20220608";function cRe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cRe)}catch(e){console.error(e)}}cRe(),a2e.exports=Vc;var Io=a2e.exports;const uRe=Uu(Io);var gpe=Io;KI.createRoot=gpe.createRoot,KI.hydrateRoot=gpe.hydrateRoot;var Eo={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};let zst=0;function Nn(e,t){const n=`atom${++zst}`,r={toString:()=>n};return typeof e=="function"?r.read=e:(r.init=e,r.read=Qst,r.write=Bst),t&&(r.write=t),r}function Qst(e){return e(this)}function Bst(e,t,n){return t(this,typeof n=="function"?n(e(this)):n)}const dQ=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,hQ=e=>"init"in e,pQ=e=>!!e.write,S5=new WeakMap,Wst=(e,t)=>{S5.set(e,t),e.catch(()=>{}).finally(()=>S5.delete(e))},mpe=(e,t)=>{const n=S5.get(e);n&&(S5.delete(e),n(t))},ype=(e,t)=>{e.status="fulfilled",e.value=t},vpe=(e,t)=>{e.status="rejected",e.reason=t},Vst=e=>typeof(e==null?void 0:e.then)=="function",XC=(e,t)=>!!e&&"v"in e&&"v"in t&&Object.is(e.v,t.v),bpe=(e,t)=>!!e&&"e"in e&&"e"in t&&Object.is(e.e,t.e),$O=e=>!!e&&"v"in e&&e.v instanceof Promise,Ust=(e,t)=>"v"in e&&"v"in t&&e.v.orig&&e.v.orig===t.v.orig,JA=e=>{if("e"in e)throw e.e;return e.v},KF=()=>{const e=new WeakMap,t=new WeakMap,n=new Map;let r,i;(Eo?"production":void 0)!=="production"&&(r=new Set,i=new Set);const o=E=>e.get(E),s=(E,R)=>{(Eo?"production":void 0)!=="production"&&Object.freeze(R);const N=o(E);if(e.set(E,R),n.has(E)||n.set(E,N),$O(N)){const I="v"in R?R.v instanceof Promise?R.v:Promise.resolve(R.v):Promise.reject(R.e);N.v!==I&&mpe(N.v,I)}},a=(E,R,N,I)=>{const j=new Map(I?R.d:null);let A=!1;N.forEach((T,D)=>{!T&&dQ(E,D)&&(T=R),T?(j.set(D,T),R.d.get(D)!==T&&(A=!0)):(Eo?"production":void 0)!=="production"&&console.warn("[Bug] atom state not found")}),(A||R.d.size!==j.size)&&(R.d=j)},l=(E,R,N,I)=>{const j=o(E),A={d:(j==null?void 0:j.d)||new Map,v:R};if(N&&a(E,A,N,I),XC(j,A)&&j.d===A.d)return j;if($O(j)&&$O(A)&&Ust(j,A)){if(j.d===A.d)return j;A.v=j.v}return s(E,A),A},c=(E,R,N,I)=>{if(Vst(R)){let j;const A=()=>{const D=o(E);if(!$O(D)||D.v!==T)return;const L=l(E,T,N);t.has(E)&&D.d!==L.d&&S(E,L,D.d)},T=new Promise((D,L)=>{let W=!1;R.then(V=>{W||(W=!0,ype(T,V),D(V),A())},V=>{W||(W=!0,vpe(T,V),L(V),A())}),j=V=>{W||(W=!0,V.then(Q=>ype(T,Q),Q=>vpe(T,Q)),D(V))}});return T.orig=R,T.status="pending",Wst(T,D=>{D&&j(D),I==null||I()}),l(E,T,N,!0)}return l(E,R,N)},u=(E,R,N)=>{const I=o(E),j={d:(I==null?void 0:I.d)||new Map,e:R};return N&&a(E,j,N),bpe(I,j)&&I.d===j.d?I:(s(E,j),j)},f=(E,R)=>{const N=o(E);if(!R&&N&&(t.has(E)||Array.from(N.d).every(([W,V])=>{if(W===E)return!0;const Q=f(W);return Q===V||XC(Q,V)})))return N;const I=new Map;let j=!0;const A=W=>{if(dQ(E,W)){const Q=o(W);if(Q)return I.set(W,Q),JA(Q);if(hQ(W))return I.set(W,void 0),W.init;throw new Error("no atom init")}const V=f(W);return I.set(W,V),JA(V)};let T,D;const L={get signal(){return T||(T=new AbortController),T.signal},get setSelf(){return(Eo?"production":void 0)!=="production"&&!pQ(E)&&console.warn("setSelf function cannot be used with read-only atom"),!D&&pQ(E)&&(D=(...W)=>{if((Eo?"production":void 0)!=="production"&&j&&console.warn("setSelf function cannot be called in sync"),!j)return x(E,...W)}),D}};try{const W=E.read(A,L);return c(E,W,I,()=>T==null?void 0:T.abort())}catch(W){return u(E,W,I)}finally{j=!1}},d=E=>JA(f(E)),h=E=>{let R=t.get(E);return R||(R=m(E)),R},p=(E,R)=>!R.l.size&&(!R.t.size||R.t.size===1&&R.t.has(E)),g=E=>{const R=t.get(E);R&&p(E,R)&&w(E)},y=E=>{const R=T=>{var D;const L=new Set((D=t.get(T))==null?void 0:D.t);return n.forEach((W,V)=>{var Q;(Q=o(V))!=null&&Q.d.has(T)&&L.add(V)}),L},N=new Array,I=new Set,j=T=>{if(!I.has(T)){I.add(T);for(const D of R(T))T!==D&&j(D);N.push(T)}};j(E);const A=new Set([E]);for(let T=N.length-1;T>=0;--T){const D=N[T],L=o(D);if(!L)continue;let W=!1;for(const V of L.d.keys())if(V!==D&&A.has(V)){W=!0;break}if(W){const V=f(D,!0);XC(L,V)||A.add(D)}}},v=(E,...R)=>{let N=!0;const I=T=>JA(f(T)),j=(T,...D)=>{let L;if(dQ(E,T)){if(!hQ(T))throw new Error("atom not writable");const W=o(T),V=c(T,D[0]);XC(W,V)||y(T)}else L=v(T,...D);if(!N){const W=C();(Eo?"production":void 0)!=="production"&&r.forEach(V=>V({type:"async-write",flushed:W}))}return L},A=E.write(I,j,...R);return N=!1,A},x=(E,...R)=>{const N=v(E,...R),I=C();return(Eo?"production":void 0)!=="production"&&r.forEach(j=>j({type:"write",flushed:I})),N},m=(E,R,N)=>{var I;const j=N||[];(I=o(E))==null||I.d.forEach((T,D)=>{const L=t.get(D);L?L.t.add(E):D!==E&&m(D,E,j)}),f(E);const A={t:new Set(R&&[R]),l:new Set};if(t.set(E,A),(Eo?"production":void 0)!=="production"&&i.add(E),pQ(E)&&E.onMount){const{onMount:T}=E;j.push(()=>{const D=T((...L)=>x(E,...L));D&&(A.u=D)})}return N||j.forEach(T=>T()),A},w=E=>{var R;const N=(R=t.get(E))==null?void 0:R.u;N&&N(),t.delete(E),(Eo?"production":void 0)!=="production"&&i.delete(E);const I=o(E);I?($O(I)&&mpe(I.v),I.d.forEach((j,A)=>{if(A!==E){const T=t.get(A);T&&(T.t.delete(E),p(A,T)&&w(A))}})):(Eo?"production":void 0)!=="production"&&console.warn("[Bug] could not find atom state to unmount",E)},S=(E,R,N)=>{const I=new Set(R.d.keys()),j=new Set;N==null||N.forEach((A,T)=>{if(I.has(T)){I.delete(T);return}j.add(T);const D=t.get(T);D&&D.t.delete(E)}),I.forEach(A=>{const T=t.get(A);T?T.t.add(E):t.has(E)&&m(A,E)}),j.forEach(A=>{const T=t.get(A);T&&p(A,T)&&w(A)})},C=()=>{let E;for((Eo?"production":void 0)!=="production"&&(E=new Set);n.size;){const R=Array.from(n);n.clear(),R.forEach(([N,I])=>{const j=o(N);if(j){const A=t.get(N);A&&j.d!==(I==null?void 0:I.d)&&S(N,j,I==null?void 0:I.d),A&&!(!$O(I)&&(XC(I,j)||bpe(I,j)))&&(A.l.forEach(T=>T()),(Eo?"production":void 0)!=="production"&&E.add(N))}else(Eo?"production":void 0)!=="production"&&console.warn("[Bug] no atom state to flush")})}if((Eo?"production":void 0)!=="production")return E},$=(E,R)=>{const N=h(E),I=C(),j=N.l;return j.add(R),(Eo?"production":void 0)!=="production"&&r.forEach(A=>A({type:"sub",flushed:I})),()=>{j.delete(R),g(E),(Eo?"production":void 0)!=="production"&&r.forEach(A=>A({type:"unsub"}))}};return(Eo?"production":void 0)!=="production"?{get:d,set:x,sub:$,dev_subscribe_store:(E,R)=>{if(R!==2)throw new Error("The current StoreListener revision is 2.");return r.add(E),()=>{r.delete(E)}},dev_get_mounted_atoms:()=>i.values(),dev_get_atom_state:E=>e.get(E),dev_get_mounted:E=>t.get(E),dev_restore_atoms:E=>{for(const[N,I]of E)hQ(N)&&(c(N,I),y(N));const R=C();r.forEach(N=>N({type:"restore",flushed:R}))}}:{get:d,set:x,sub:$}};let gQ;(Eo?"production":void 0)!=="production"&&(typeof globalThis.__NUMBER_OF_JOTAI_INSTANCES__=="number"?++globalThis.__NUMBER_OF_JOTAI_INSTANCES__:globalThis.__NUMBER_OF_JOTAI_INSTANCES__=1);const qst=()=>(gQ||((Eo?"production":void 0)!=="production"&&globalThis.__NUMBER_OF_JOTAI_INSTANCES__!==1&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044"),gQ=KF()),gQ);var Yst={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const fRe=O.createContext(void 0),dRe=e=>{const t=O.useContext(fRe);return(e==null?void 0:e.store)||t||qst()},hRe=({children:e,store:t})=>{const n=O.useRef();return!t&&!n.current&&(n.current=KF()),O.createElement(fRe.Provider,{value:t||n.current},e)},Xst=e=>typeof(e==null?void 0:e.then)=="function",Hst=ie.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)});function us(e,t){const n=dRe(t),[[r,i,o],s]=O.useReducer(c=>{const u=n.get(e);return Object.is(c[0],u)&&c[1]===n&&c[2]===e?c:[u,n,e]},void 0,()=>[n.get(e),n,e]);let a=r;(i!==n||o!==e)&&(s(),a=n.get(e));const l=t==null?void 0:t.delay;return O.useEffect(()=>{const c=n.sub(e,()=>{if(typeof l=="number"){setTimeout(s,l);return}s()});return s(),c},[n,e,l]),O.useDebugValue(a),Xst(a)?Hst(a):a}function vh(e,t){const n=dRe(t);return O.useCallback((...i)=>{if((Yst?"production":void 0)!=="production"&&!("write"in e))throw new Error("not writable atom");return n.set(e,...i)},[n,e])}function Fl(e,t){return[us(e,t),vh(e,t)]}const Tn=KF();async function Zst(e,t){return t(Tn.get(e))?Tn.get(e):new Promise(n=>{const r=Tn.sub(e,()=>{const i=Tn.get(e);t(i)&&(r(),n(i))})})}var Yn;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const o={};for(const s of i)o[s]=s;return o},e.getValidEnumValues=i=>{const o=e.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),s={};for(const a of o)s[a]=i[a];return e.objectValues(s)},e.objectValues=i=>e.objectKeys(i).map(function(o){return i[o]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},e.find=(i,o)=>{for(const s of i)if(o(s))return s},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}e.joinValues=r,e.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(Yn||(Yn={}));var Lq;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Lq||(Lq={}));const dt=Yn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Pm=e=>{switch(typeof e){case"undefined":return dt.undefined;case"string":return dt.string;case"number":return isNaN(e)?dt.nan:dt.number;case"boolean":return dt.boolean;case"function":return dt.function;case"bigint":return dt.bigint;case"symbol":return dt.symbol;case"object":return Array.isArray(e)?dt.array:e===null?dt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?dt.promise:typeof Map<"u"&&e instanceof Map?dt.map:typeof Set<"u"&&e instanceof Set?dt.set:typeof Date<"u"&&e instanceof Date?dt.date:dt.object;default:return dt.unknown}},et=Yn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Gst=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class $u extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(o){return o.message},r={_errors:[]},i=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let a=r,l=0;for(;l<s.path.length;){const c=s.path[l];l===s.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(s))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Yn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}$u.create=e=>new $u(e);const xT=(e,t)=>{let n;switch(e.code){case et.invalid_type:e.received===dt.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case et.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Yn.jsonStringifyReplacer)}`;break;case et.unrecognized_keys:n=`Unrecognized key(s) in object: ${Yn.joinValues(e.keys,", ")}`;break;case et.invalid_union:n="Invalid input";break;case et.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Yn.joinValues(e.options)}`;break;case et.invalid_enum_value:n=`Invalid enum value. Expected ${Yn.joinValues(e.options)}, received '${e.received}'`;break;case et.invalid_arguments:n="Invalid function arguments";break;case et.invalid_return_type:n="Invalid function return type";break;case et.invalid_date:n="Invalid date";break;case et.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Yn.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case et.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case et.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case et.custom:n="Invalid input";break;case et.invalid_intersection_types:n="Intersection results could not be merged";break;case et.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case et.not_finite:n="Number must be finite";break;default:n=t.defaultError,Yn.assertNever(e)}return{message:n}};let pRe=xT;function Kst(e){pRe=e}function _5(){return pRe}const C5=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,o=[...n,...i.path||[]],s={...i,path:o};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(s,{data:t,defaultError:a}).message;return{...i,path:o,message:i.message||a}},Jst=[];function gt(e,t){const n=C5({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,_5(),xT].filter(r=>!!r)});e.common.issues.push(n)}class Sa{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return en;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n)r.push({key:await i.key,value:await i.value});return Sa.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return en;o.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[o.value]=s.value)}return{status:t.value,value:r}}}const en=Object.freeze({status:"aborted"}),gRe=e=>({status:"dirty",value:e}),tl=e=>({status:"valid",value:e}),jq=e=>e.status==="aborted",Fq=e=>e.status==="dirty",wT=e=>e.status==="valid",$5=e=>typeof Promise<"u"&&e instanceof Promise;var jt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(jt||(jt={}));class bh{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Ope=(e,t)=>{if(wT(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new $u(e.common.issues);return this._error=n,this._error}}};function an(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(s,a)=>s.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:i}}class pn{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return Pm(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Pm(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Sa,ctx:{common:t.parent.common,data:t.data,parsedType:Pm(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if($5(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Pm(t)},o=this._parseSync({data:t,path:i.path,parent:i});return Ope(i,o)}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Pm(t)},i=this._parse({data:t,path:r.path,parent:r}),o=await($5(i)?i:Promise.resolve(i));return Ope(r,o)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const s=t(i),a=()=>o.addIssue({code:et.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new Uf({schema:this,typeName:Wt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return Vp.create(this,this._def)}nullable(){return F1.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Df.create(this,this._def)}promise(){return rS.create(this,this._def)}or(t){return $T.create([this,t],this._def)}and(t){return ET.create(this,t,this._def)}transform(t){return new Uf({...an(this._def),schema:this,typeName:Wt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new AT({...an(this._def),innerType:this,defaultValue:n,typeName:Wt.ZodDefault})}brand(){return new yRe({typeName:Wt.ZodBranded,type:this,...an(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new P5({...an(this._def),innerType:this,catchValue:n,typeName:Wt.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return IP.create(this,t)}readonly(){return A5.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const eat=/^c[^\s-]{8,}$/i,tat=/^[a-z][a-z0-9]*$/,nat=/^[0-9A-HJKMNP-TV-Z]{26}$/,rat=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,iat=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,oat="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let mQ;const sat=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,aat=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,lat=e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):e.precision===0?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function cat(e,t){return!!((t==="v4"||!t)&&sat.test(e)||(t==="v6"||!t)&&aat.test(e))}class _f extends pn{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==dt.string){const o=this._getOrReturnCtx(t);return gt(o,{code:et.invalid_type,expected:dt.string,received:o.parsedType}),en}const r=new Sa;let i;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(i=this._getOrReturnCtx(t,i),gt(i,{code:et.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")t.data.length>o.value&&(i=this._getOrReturnCtx(t,i),gt(i,{code:et.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const s=t.data.length>o.value,a=t.data.length<o.value;(s||a)&&(i=this._getOrReturnCtx(t,i),s?gt(i,{code:et.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&gt(i,{code:et.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")iat.test(t.data)||(i=this._getOrReturnCtx(t,i),gt(i,{validation:"email",code:et.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")mQ||(mQ=new RegExp(oat,"u")),mQ.test(t.data)||(i=this._getOrReturnCtx(t,i),gt(i,{validation:"emoji",code:et.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")rat.test(t.data)||(i=this._getOrReturnCtx(t,i),gt(i,{validation:"uuid",code:et.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")eat.test(t.data)||(i=this._getOrReturnCtx(t,i),gt(i,{validation:"cuid",code:et.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")tat.test(t.data)||(i=this._getOrReturnCtx(t,i),gt(i,{validation:"cuid2",code:et.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")nat.test(t.data)||(i=this._getOrReturnCtx(t,i),gt(i,{validation:"ulid",code:et.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),gt(i,{validation:"url",code:et.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),gt(i,{validation:"regex",code:et.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(t,i),gt(i,{code:et.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(i=this._getOrReturnCtx(t,i),gt(i,{code:et.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(i=this._getOrReturnCtx(t,i),gt(i,{code:et.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?lat(o).test(t.data)||(i=this._getOrReturnCtx(t,i),gt(i,{code:et.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="ip"?cat(t.data,o.version)||(i=this._getOrReturnCtx(t,i),gt(i,{validation:"ip",code:et.invalid_string,message:o.message}),r.dirty()):Yn.assertNever(o);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:et.invalid_string,...jt.errToObj(r)})}_addCheck(t){return new _f({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...jt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...jt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...jt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...jt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...jt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...jt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...jt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...jt.errToObj(t)})}datetime(t){var n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,...jt.errToObj(t==null?void 0:t.message)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...jt.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...jt.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...jt.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...jt.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...jt.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...jt.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...jt.errToObj(n)})}nonempty(t){return this.min(1,jt.errToObj(t))}trim(){return new _f({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new _f({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new _f({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}_f.create=e=>{var t;return new _f({checks:[],typeName:Wt.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...an(e)})};function uat(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,o=parseInt(e.toFixed(i).replace(".","")),s=parseInt(t.toFixed(i).replace(".",""));return o%s/Math.pow(10,i)}class Fy extends pn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==dt.number){const o=this._getOrReturnCtx(t);return gt(o,{code:et.invalid_type,expected:dt.number,received:o.parsedType}),en}let r;const i=new Sa;for(const o of this._def.checks)o.kind==="int"?Yn.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),gt(r,{code:et.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),gt(r,{code:et.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),gt(r,{code:et.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?uat(t.data,o.value)!==0&&(r=this._getOrReturnCtx(t,r),gt(r,{code:et.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),gt(r,{code:et.not_finite,message:o.message}),i.dirty()):Yn.assertNever(o);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,jt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,jt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,jt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,jt.toString(n))}setLimit(t,n,r,i){return new Fy({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:jt.toString(i)}]})}_addCheck(t){return new Fy({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:jt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:jt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:jt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:jt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:jt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:jt.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:jt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:jt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:jt.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Yn.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Fy.create=e=>new Fy({checks:[],typeName:Wt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...an(e)});class zy extends pn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==dt.bigint){const o=this._getOrReturnCtx(t);return gt(o,{code:et.invalid_type,expected:dt.bigint,received:o.parsedType}),en}let r;const i=new Sa;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),gt(r,{code:et.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),gt(r,{code:et.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),gt(r,{code:et.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):Yn.assertNever(o);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,jt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,jt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,jt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,jt.toString(n))}setLimit(t,n,r,i){return new zy({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:jt.toString(i)}]})}_addCheck(t){return new zy({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:jt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:jt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:jt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:jt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:jt.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}zy.create=e=>{var t;return new zy({checks:[],typeName:Wt.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...an(e)})};class ST extends pn{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==dt.boolean){const r=this._getOrReturnCtx(t);return gt(r,{code:et.invalid_type,expected:dt.boolean,received:r.parsedType}),en}return tl(t.data)}}ST.create=e=>new ST({typeName:Wt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...an(e)});class L1 extends pn{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==dt.date){const o=this._getOrReturnCtx(t);return gt(o,{code:et.invalid_type,expected:dt.date,received:o.parsedType}),en}if(isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return gt(o,{code:et.invalid_date}),en}const r=new Sa;let i;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(i=this._getOrReturnCtx(t,i),gt(i,{code:et.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(i=this._getOrReturnCtx(t,i),gt(i,{code:et.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):Yn.assertNever(o);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new L1({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:jt.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:jt.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}L1.create=e=>new L1({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Wt.ZodDate,...an(e)});class E5 extends pn{_parse(t){if(this._getType(t)!==dt.symbol){const r=this._getOrReturnCtx(t);return gt(r,{code:et.invalid_type,expected:dt.symbol,received:r.parsedType}),en}return tl(t.data)}}E5.create=e=>new E5({typeName:Wt.ZodSymbol,...an(e)});class _T extends pn{_parse(t){if(this._getType(t)!==dt.undefined){const r=this._getOrReturnCtx(t);return gt(r,{code:et.invalid_type,expected:dt.undefined,received:r.parsedType}),en}return tl(t.data)}}_T.create=e=>new _T({typeName:Wt.ZodUndefined,...an(e)});class CT extends pn{_parse(t){if(this._getType(t)!==dt.null){const r=this._getOrReturnCtx(t);return gt(r,{code:et.invalid_type,expected:dt.null,received:r.parsedType}),en}return tl(t.data)}}CT.create=e=>new CT({typeName:Wt.ZodNull,...an(e)});class nS extends pn{constructor(){super(...arguments),this._any=!0}_parse(t){return tl(t.data)}}nS.create=e=>new nS({typeName:Wt.ZodAny,...an(e)});class f1 extends pn{constructor(){super(...arguments),this._unknown=!0}_parse(t){return tl(t.data)}}f1.create=e=>new f1({typeName:Wt.ZodUnknown,...an(e)});class cg extends pn{_parse(t){const n=this._getOrReturnCtx(t);return gt(n,{code:et.invalid_type,expected:dt.never,received:n.parsedType}),en}}cg.create=e=>new cg({typeName:Wt.ZodNever,...an(e)});class k5 extends pn{_parse(t){if(this._getType(t)!==dt.undefined){const r=this._getOrReturnCtx(t);return gt(r,{code:et.invalid_type,expected:dt.void,received:r.parsedType}),en}return tl(t.data)}}k5.create=e=>new k5({typeName:Wt.ZodVoid,...an(e)});class Df extends pn{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==dt.array)return gt(n,{code:et.invalid_type,expected:dt.array,received:n.parsedType}),en;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(s||a)&&(gt(n,{code:s?et.too_big:et.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(gt(n,{code:et.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(gt(n,{code:et.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,a)=>i.type._parseAsync(new bh(n,s,n.path,a)))).then(s=>Sa.mergeArray(r,s));const o=[...n.data].map((s,a)=>i.type._parseSync(new bh(n,s,n.path,a)));return Sa.mergeArray(r,o)}get element(){return this._def.type}min(t,n){return new Df({...this._def,minLength:{value:t,message:jt.toString(n)}})}max(t,n){return new Df({...this._def,maxLength:{value:t,message:jt.toString(n)}})}length(t,n){return new Df({...this._def,exactLength:{value:t,message:jt.toString(n)}})}nonempty(t){return this.min(1,t)}}Df.create=(e,t)=>new Df({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Wt.ZodArray,...an(t)});function bx(e){if(e instanceof _i){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Vp.create(bx(r))}return new _i({...e._def,shape:()=>t})}else return e instanceof Df?new Df({...e._def,type:bx(e.element)}):e instanceof Vp?Vp.create(bx(e.unwrap())):e instanceof F1?F1.create(bx(e.unwrap())):e instanceof Oh?Oh.create(e.items.map(t=>bx(t))):e}class _i extends pn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Yn.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==dt.object){const c=this._getOrReturnCtx(t);return gt(c,{code:et.invalid_type,expected:dt.object,received:c.parsedType}),en}const{status:r,ctx:i}=this._processInputParams(t),{shape:o,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof cg&&this._def.unknownKeys==="strip"))for(const c in i.data)s.includes(c)||a.push(c);const l=[];for(const c of s){const u=o[c],f=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new bh(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof cg){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")a.length>0&&(gt(i,{code:et.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const f=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new bh(i,f,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const f=await u.key;c.push({key:f,value:await u.value,alwaysSet:u.alwaysSet})}return c}).then(c=>Sa.mergeObjectSync(r,c)):Sa.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(t){return jt.errToObj,new _i({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var i,o,s,a;const l=(s=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,n,r).message)!==null&&s!==void 0?s:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=jt.errToObj(t).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new _i({...this._def,unknownKeys:"strip"})}passthrough(){return new _i({...this._def,unknownKeys:"passthrough"})}extend(t){return new _i({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new _i({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Wt.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new _i({...this._def,catchall:t})}pick(t){const n={};return Yn.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new _i({...this._def,shape:()=>n})}omit(t){const n={};return Yn.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new _i({...this._def,shape:()=>n})}deepPartial(){return bx(this)}partial(t){const n={};return Yn.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}),new _i({...this._def,shape:()=>n})}required(t){const n={};return Yn.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof Vp;)o=o._def.innerType;n[r]=o}}),new _i({...this._def,shape:()=>n})}keyof(){return mRe(Yn.objectKeys(this.shape))}}_i.create=(e,t)=>new _i({shape:()=>e,unknownKeys:"strip",catchall:cg.create(),typeName:Wt.ZodObject,...an(t)});_i.strictCreate=(e,t)=>new _i({shape:()=>e,unknownKeys:"strict",catchall:cg.create(),typeName:Wt.ZodObject,...an(t)});_i.lazycreate=(e,t)=>new _i({shape:e,unknownKeys:"strip",catchall:cg.create(),typeName:Wt.ZodObject,...an(t)});class $T extends pn{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(o){for(const a of o)if(a.result.status==="valid")return a.result;for(const a of o)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const s=o.map(a=>new $u(a.ctx.common.issues));return gt(n,{code:et.invalid_union,unionErrors:s}),en}if(n.common.async)return Promise.all(r.map(async o=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let o;const s=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!o&&(o={result:u,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(l=>new $u(l));return gt(n,{code:et.invalid_union,unionErrors:a}),en}}get options(){return this._def.options}}$T.create=(e,t)=>new $T({options:e,typeName:Wt.ZodUnion,...an(t)});const DM=e=>e instanceof TT?DM(e.schema):e instanceof Uf?DM(e.innerType()):e instanceof PT?[e.value]:e instanceof Qy?e.options:e instanceof RT?Object.keys(e.enum):e instanceof AT?DM(e._def.innerType):e instanceof _T?[void 0]:e instanceof CT?[null]:null;class JF extends pn{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==dt.object)return gt(n,{code:et.invalid_type,expected:dt.object,received:n.parsedType}),en;const r=this.discriminator,i=n.data[r],o=this.optionsMap.get(i);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(gt(n,{code:et.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),en)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const i=new Map;for(const o of n){const s=DM(o.shape[t]);if(!s)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of s){if(i.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);i.set(a,o)}}return new JF({typeName:Wt.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...an(r)})}}function zq(e,t){const n=Pm(e),r=Pm(t);if(e===t)return{valid:!0,data:e};if(n===dt.object&&r===dt.object){const i=Yn.objectKeys(t),o=Yn.objectKeys(e).filter(a=>i.indexOf(a)!==-1),s={...e,...t};for(const a of o){const l=zq(e[a],t[a]);if(!l.valid)return{valid:!1};s[a]=l.data}return{valid:!0,data:s}}else if(n===dt.array&&r===dt.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let o=0;o<e.length;o++){const s=e[o],a=t[o],l=zq(s,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===dt.date&&r===dt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class ET extends pn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(o,s)=>{if(jq(o)||jq(s))return en;const a=zq(o.value,s.value);return a.valid?((Fq(o)||Fq(s))&&n.dirty(),{status:n.value,value:a.data}):(gt(r,{code:et.invalid_intersection_types}),en)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ET.create=(e,t,n)=>new ET({left:e,right:t,typeName:Wt.ZodIntersection,...an(n)});class Oh extends pn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==dt.array)return gt(r,{code:et.invalid_type,expected:dt.array,received:r.parsedType}),en;if(r.data.length<this._def.items.length)return gt(r,{code:et.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),en;!this._def.rest&&r.data.length>this._def.items.length&&(gt(r,{code:et.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((s,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new bh(r,s,r.path,a)):null}).filter(s=>!!s);return r.common.async?Promise.all(o).then(s=>Sa.mergeArray(n,s)):Sa.mergeArray(n,o)}get items(){return this._def.items}rest(t){return new Oh({...this._def,rest:t})}}Oh.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Oh({items:e,typeName:Wt.ZodTuple,rest:null,...an(t)})};class kT extends pn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==dt.object)return gt(r,{code:et.invalid_type,expected:dt.object,received:r.parsedType}),en;const i=[],o=this._def.keyType,s=this._def.valueType;for(const a in r.data)i.push({key:o._parse(new bh(r,a,r.path,a)),value:s._parse(new bh(r,r.data[a],r.path,a))});return r.common.async?Sa.mergeObjectAsync(n,i):Sa.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof pn?new kT({keyType:t,valueType:n,typeName:Wt.ZodRecord,...an(r)}):new kT({keyType:_f.create(),valueType:t,typeName:Wt.ZodRecord,...an(n)})}}class T5 extends pn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==dt.map)return gt(r,{code:et.invalid_type,expected:dt.map,received:r.parsedType}),en;const i=this._def.keyType,o=this._def.valueType,s=[...r.data.entries()].map(([a,l],c)=>({key:i._parse(new bh(r,a,r.path,[c,"key"])),value:o._parse(new bh(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of s){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return en;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of s){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return en;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}T5.create=(e,t,n)=>new T5({valueType:t,keyType:e,typeName:Wt.ZodMap,...an(n)});class j1 extends pn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==dt.set)return gt(r,{code:et.invalid_type,expected:dt.set,received:r.parsedType}),en;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(gt(r,{code:et.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(gt(r,{code:et.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function s(l){const c=new Set;for(const u of l){if(u.status==="aborted")return en;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>o._parse(new bh(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>s(l)):s(a)}min(t,n){return new j1({...this._def,minSize:{value:t,message:jt.toString(n)}})}max(t,n){return new j1({...this._def,maxSize:{value:t,message:jt.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}j1.create=(e,t)=>new j1({valueType:e,minSize:null,maxSize:null,typeName:Wt.ZodSet,...an(t)});class pw extends pn{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==dt.function)return gt(n,{code:et.invalid_type,expected:dt.function,received:n.parsedType}),en;function r(a,l){return C5({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,_5(),xT].filter(c=>!!c),issueData:{code:et.invalid_arguments,argumentsError:l}})}function i(a,l){return C5({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,_5(),xT].filter(c=>!!c),issueData:{code:et.invalid_return_type,returnTypeError:l}})}const o={errorMap:n.common.contextualErrorMap},s=n.data;if(this._def.returns instanceof rS){const a=this;return tl(async function(...l){const c=new $u([]),u=await a._def.args.parseAsync(l,o).catch(h=>{throw c.addIssue(r(l,h)),c}),f=await Reflect.apply(s,this,u);return await a._def.returns._def.type.parseAsync(f,o).catch(h=>{throw c.addIssue(i(f,h)),c})})}else{const a=this;return tl(function(...l){const c=a._def.args.safeParse(l,o);if(!c.success)throw new $u([r(l,c.error)]);const u=Reflect.apply(s,this,c.data),f=a._def.returns.safeParse(u,o);if(!f.success)throw new $u([i(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new pw({...this._def,args:Oh.create(t).rest(f1.create())})}returns(t){return new pw({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new pw({args:t||Oh.create([]).rest(f1.create()),returns:n||f1.create(),typeName:Wt.ZodFunction,...an(r)})}}class TT extends pn{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}TT.create=(e,t)=>new TT({getter:e,typeName:Wt.ZodLazy,...an(t)});class PT extends pn{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return gt(n,{received:n.data,code:et.invalid_literal,expected:this._def.value}),en}return{status:"valid",value:t.data}}get value(){return this._def.value}}PT.create=(e,t)=>new PT({value:e,typeName:Wt.ZodLiteral,...an(t)});function mRe(e,t){return new Qy({values:e,typeName:Wt.ZodEnum,...an(t)})}class Qy extends pn{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return gt(n,{expected:Yn.joinValues(r),received:n.parsedType,code:et.invalid_type}),en}if(this._def.values.indexOf(t.data)===-1){const n=this._getOrReturnCtx(t),r=this._def.values;return gt(n,{received:n.data,code:et.invalid_enum_value,options:r}),en}return tl(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t){return Qy.create(t)}exclude(t){return Qy.create(this.options.filter(n=>!t.includes(n)))}}Qy.create=mRe;class RT extends pn{_parse(t){const n=Yn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==dt.string&&r.parsedType!==dt.number){const i=Yn.objectValues(n);return gt(r,{expected:Yn.joinValues(i),received:r.parsedType,code:et.invalid_type}),en}if(n.indexOf(t.data)===-1){const i=Yn.objectValues(n);return gt(r,{received:r.data,code:et.invalid_enum_value,options:i}),en}return tl(t.data)}get enum(){return this._def.values}}RT.create=(e,t)=>new RT({values:e,typeName:Wt.ZodNativeEnum,...an(t)});class rS extends pn{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==dt.promise&&n.common.async===!1)return gt(n,{code:et.invalid_type,expected:dt.promise,received:n.parsedType}),en;const r=n.parsedType===dt.promise?n.data:Promise.resolve(n.data);return tl(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}rS.create=(e,t)=>new rS({type:e,typeName:Wt.ZodPromise,...an(t)});class Uf extends pn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Wt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,o={addIssue:s=>{gt(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const s=i.transform(r.data,o);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(s).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:s,path:r.path,parent:r})}if(i.type==="refinement"){const s=a=>{const l=i.refinement(a,o);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?en:(a.status==="dirty"&&n.dirty(),s(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?en:(a.status==="dirty"&&n.dirty(),s(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!wT(s))return s;const a=i.transform(s.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>wT(s)?Promise.resolve(i.transform(s.value,o)).then(a=>({status:n.value,value:a})):s);Yn.assertNever(i)}}Uf.create=(e,t,n)=>new Uf({schema:e,typeName:Wt.ZodEffects,effect:t,...an(n)});Uf.createWithPreprocess=(e,t,n)=>new Uf({schema:t,effect:{type:"preprocess",transform:e},typeName:Wt.ZodEffects,...an(n)});class Vp extends pn{_parse(t){return this._getType(t)===dt.undefined?tl(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Vp.create=(e,t)=>new Vp({innerType:e,typeName:Wt.ZodOptional,...an(t)});class F1 extends pn{_parse(t){return this._getType(t)===dt.null?tl(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}F1.create=(e,t)=>new F1({innerType:e,typeName:Wt.ZodNullable,...an(t)});class AT extends pn{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===dt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}AT.create=(e,t)=>new AT({innerType:e,typeName:Wt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...an(t)});class P5 extends pn{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return $5(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new $u(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new $u(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}P5.create=(e,t)=>new P5({innerType:e,typeName:Wt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...an(t)});class R5 extends pn{_parse(t){if(this._getType(t)!==dt.nan){const r=this._getOrReturnCtx(t);return gt(r,{code:et.invalid_type,expected:dt.nan,received:r.parsedType}),en}return{status:"valid",value:t.data}}}R5.create=e=>new R5({typeName:Wt.ZodNaN,...an(e)});const fat=Symbol("zod_brand");class yRe extends pn{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class IP extends pn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?en:o.status==="dirty"?(n.dirty(),gRe(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?en:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new IP({in:t,out:n,typeName:Wt.ZodPipeline})}}class A5 extends pn{_parse(t){const n=this._def.innerType._parse(t);return wT(n)&&(n.value=Object.freeze(n.value)),n}}A5.create=(e,t)=>new A5({innerType:e,typeName:Wt.ZodReadonly,...an(t)});const vRe=(e,t={},n)=>e?nS.create().superRefine((r,i)=>{var o,s;if(!e(r)){const a=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t,l=(s=(o=a.fatal)!==null&&o!==void 0?o:n)!==null&&s!==void 0?s:!0,c=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...c,fatal:l})}}):nS.create(),dat={object:_i.lazycreate};var Wt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Wt||(Wt={}));const hat=(e,t={message:`Input not instance of ${e.name}`})=>vRe(n=>n instanceof e,t),bRe=_f.create,ORe=Fy.create,pat=R5.create,gat=zy.create,xRe=ST.create,mat=L1.create,yat=E5.create,vat=_T.create,bat=CT.create,Oat=nS.create,xat=f1.create,wat=cg.create,Sat=k5.create,_at=Df.create,Cat=_i.create,$at=_i.strictCreate,Eat=$T.create,kat=JF.create,Tat=ET.create,Pat=Oh.create,Rat=kT.create,Aat=T5.create,Dat=j1.create,Nat=pw.create,Mat=TT.create,Iat=PT.create,Lat=Qy.create,jat=RT.create,Fat=rS.create,xpe=Uf.create,zat=Vp.create,Qat=F1.create,Bat=Uf.createWithPreprocess,Wat=IP.create,Vat=()=>bRe().optional(),Uat=()=>ORe().optional(),qat=()=>xRe().optional(),Yat={string:e=>_f.create({...e,coerce:!0}),number:e=>Fy.create({...e,coerce:!0}),boolean:e=>ST.create({...e,coerce:!0}),bigint:e=>zy.create({...e,coerce:!0}),date:e=>L1.create({...e,coerce:!0})},Xat=en;var H=Object.freeze({__proto__:null,defaultErrorMap:xT,setErrorMap:Kst,getErrorMap:_5,makeIssue:C5,EMPTY_PATH:Jst,addIssueToContext:gt,ParseStatus:Sa,INVALID:en,DIRTY:gRe,OK:tl,isAborted:jq,isDirty:Fq,isValid:wT,isAsync:$5,get util(){return Yn},get objectUtil(){return Lq},ZodParsedType:dt,getParsedType:Pm,ZodType:pn,ZodString:_f,ZodNumber:Fy,ZodBigInt:zy,ZodBoolean:ST,ZodDate:L1,ZodSymbol:E5,ZodUndefined:_T,ZodNull:CT,ZodAny:nS,ZodUnknown:f1,ZodNever:cg,ZodVoid:k5,ZodArray:Df,ZodObject:_i,ZodUnion:$T,ZodDiscriminatedUnion:JF,ZodIntersection:ET,ZodTuple:Oh,ZodRecord:kT,ZodMap:T5,ZodSet:j1,ZodFunction:pw,ZodLazy:TT,ZodLiteral:PT,ZodEnum:Qy,ZodNativeEnum:RT,ZodPromise:rS,ZodEffects:Uf,ZodTransformer:Uf,ZodOptional:Vp,ZodNullable:F1,ZodDefault:AT,ZodCatch:P5,ZodNaN:R5,BRAND:fat,ZodBranded:yRe,ZodPipeline:IP,ZodReadonly:A5,custom:vRe,Schema:pn,ZodSchema:pn,late:dat,get ZodFirstPartyTypeKind(){return Wt},coerce:Yat,any:Oat,array:_at,bigint:gat,boolean:xRe,date:mat,discriminatedUnion:kat,effect:xpe,enum:Lat,function:Nat,instanceof:hat,intersection:Tat,lazy:Mat,literal:Iat,map:Aat,nan:pat,nativeEnum:jat,never:wat,null:bat,nullable:Qat,number:ORe,object:Cat,oboolean:qat,onumber:Uat,optional:zat,ostring:Vat,pipeline:Wat,preprocess:Bat,promise:Fat,record:Rat,set:Dat,strictObject:$at,string:bRe,symbol:yat,transformer:xpe,tuple:Pat,undefined:vat,union:Eat,unknown:xat,void:Sat,NEVER:Xat,ZodIssueCode:et,quotelessJson:Gst,ZodError:$u});const Ut={debug:(...e)=>{},log:(...e)=>{console.log(...e)},warn:(...e)=>{console.warn(...e)},error:(...e)=>{console.error(...e)}};function Bi(e,t){if(!e)throw new Error(t)}function Hat(){return e4("marimo-version","version")}function Zat(){return e4("marimo-server-token","token")}function Gat(){return e4("marimo-app-config","config")}function Kat(){return e4("marimo-user-config","config")}function Jat(){const e=document.querySelector("marimo-code");Bi(e,"internal-error: marimo-code not tag not found");const t=e.innerHTML;return decodeURIComponent(t).trim()}function e4(e,t){const n=document.querySelector(e);Bi(n!==null&&n instanceof HTMLElement,`internal-error: ${e} tag not found`);const r=n.dataset[t];return Bi(r!==void 0,`internal-error: ${e} tag does not have ${t}`),r}const wRe=H.object({completion:H.object({activate_on_typing:H.boolean(),copilot:H.boolean()}).default({activate_on_typing:!0,copilot:!1}),save:H.object({autosave:H.enum(["off","after_delay"]).default("after_delay"),autosave_delay:H.number().nonnegative().transform(e=>Math.max(e,1e3)).default(1e3),format_on_save:H.boolean().default(!1)}).default({autosave:"after_delay",autosave_delay:1e3,format_on_save:!1}),formatting:H.object({line_length:H.number().nonnegative().default(79).transform(e=>Math.min(e,1e3))}).default({line_length:79}),keymap:H.object({preset:H.enum(["default","vim"]).default("default")}).default({preset:"default"}),runtime:H.object({auto_instantiate:H.boolean()}).default({auto_instantiate:!0}),display:H.object({theme:H.enum(["light","dark","system"]).default("light"),code_editor_font_size:H.number().nonnegative().default(14),cell_output:H.enum(["above","below"]).default("above")}).default({theme:"light",code_editor_font_size:14,cell_output:"above"}),experimental:H.object({layouts:H.boolean().optional()}).passthrough().default({})}).passthrough(),SRe=H.object({width:H.enum(["full","normal"]).default("normal")});function elt(){try{return SRe.parse(JSON.parse(Gat()))}catch(e){throw new Error(`Marimo got an unexpected value in the configuration file: ${e}`)}}function tlt(){try{const e=wRe.parse(JSON.parse(Kat()));for(const[t,n]of Object.entries(e.experimental))n===!0&&Ut.log(` Experimental feature "${t}" is enabled.`);return e}catch(e){throw new Error(`Marimo got an unexpected value in the configuration file: ${e}`)}}const t4=Nn(tlt());function _Re(){return Fl(t4)}function Uee(){return Tn.get(t4)}const nlt=Nn(elt());function CRe(){return Fl(nlt)}const rlt=["light","dark","system"],ilt=Nn(e=>e(t4).display.theme),Qq=Nn(!1);function olt(){if(typeof window>"u")return;const e=window.matchMedia("(prefers-color-scheme: dark)");Tn.set(Qq,e.matches),e.addEventListener("change",t=>{Tn.set(Qq,t.matches)})}olt();const slt=Nn(e=>{const t=e(ilt),n=e(Qq);return t==="system"?n?"dark":"light":t});function _0(){return{theme:us(slt,{store:Tn})}}const $Re=O.memo(({children:e})=>{const{theme:t}=_0();return O.useLayoutEffect(()=>(document.body.classList.add(t,`${t}-theme`),()=>{document.body.classList.remove(t,`${t}-theme`)}),[t]),e});$Re.displayName="ThemeProvider";const alt=({variables:e,children:t})=>b.jsx("div",{className:"contents",style:e,children:t}),ERe=O.createContext(null),yQ={didCatch:!1,error:null};let llt=class extends O.Component{constructor(t){super(t),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=yQ}static getDerivedStateFromError(t){return{didCatch:!0,error:t}}resetErrorBoundary(){const{error:t}=this.state;if(t!==null){for(var n,r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];(n=(r=this.props).onReset)===null||n===void 0||n.call(r,{args:o,reason:"imperative-api"}),this.setState(yQ)}}componentDidCatch(t,n){var r,i;(r=(i=this.props).onError)===null||r===void 0||r.call(i,t,n)}componentDidUpdate(t,n){const{didCatch:r}=this.state,{resetKeys:i}=this.props;if(r&&n.error!==null&&clt(t.resetKeys,i)){var o,s;(o=(s=this.props).onReset)===null||o===void 0||o.call(s,{next:i,prev:t.resetKeys,reason:"keys"}),this.setState(yQ)}}render(){const{children:t,fallbackRender:n,FallbackComponent:r,fallback:i}=this.props,{didCatch:o,error:s}=this.state;let a=t;if(o){const l={error:s,resetErrorBoundary:this.resetErrorBoundary};if(typeof n=="function")a=n(l);else if(r)a=O.createElement(r,l);else if(i===null||O.isValidElement(i))a=i;else throw s}return O.createElement(ERe.Provider,{value:{didCatch:o,error:s,resetErrorBoundary:this.resetErrorBoundary}},a)}};function clt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return e.length!==t.length||e.some((n,r)=>!Object.is(n,t[r]))}function ult(e){if(e==null||typeof e.didCatch!="boolean"||typeof e.resetErrorBoundary!="function")throw new Error("ErrorBoundaryContext not found")}function flt(){const e=O.useContext(ERe);ult(e);const[t,n]=O.useState({error:null,hasError:!1}),r=O.useMemo(()=>({resetBoundary:()=>{e.resetErrorBoundary(),n({error:null,hasError:!1})},showBoundary:i=>n({error:i,hasError:!0})}),[e.resetErrorBoundary]);if(t.hasError)throw t.error;return r}function le(){return le=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(this,arguments)}function dlt(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function n4(...e){return t=>e.forEach(n=>dlt(n,t))}function Xt(...e){return O.useCallback(n4(...e),e)}const qf=O.forwardRef((e,t)=>{const{children:n,...r}=e,i=O.Children.toArray(n),o=i.find(hlt);if(o){const s=o.props.children,a=i.map(l=>l===o?O.Children.count(s)>1?O.Children.only(null):O.isValidElement(s)?s.props.children:null:l);return O.createElement(Bq,le({},r,{ref:t}),O.isValidElement(s)?O.cloneElement(s,void 0,a):null)}return O.createElement(Bq,le({},r,{ref:t}),n)});qf.displayName="Slot";const Bq=O.forwardRef((e,t)=>{const{children:n,...r}=e;return O.isValidElement(n)?O.cloneElement(n,{...plt(r,n.props),ref:t?n4(t,n.ref):n.ref}):O.Children.count(n)>1?O.Children.only(null):null});Bq.displayName="SlotClone";const qee=({children:e})=>O.createElement(O.Fragment,null,e);function hlt(e){return O.isValidElement(e)&&e.type===qee}function plt(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function kRe(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=kRe(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function glt(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=kRe(e))&&(r&&(r+=" "),r+=t);return r}const wpe=e=>typeof e=="boolean"?"".concat(e):e===0?"0":e,Spe=glt,Oo=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Spe(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=t,s=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],f=o==null?void 0:o[c];if(u===null)return null;const d=wpe(u)||wpe(f);return i[c][d]}),a=n&&Object.entries(n).reduce((c,u)=>{let[f,d]=u;return d===void 0||(c[f]=d),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:f,className:d,...h}=u;return Object.entries(h).every(p=>{let[g,y]=p;return Array.isArray(y)?y.includes({...o,...a}[g]):{...o,...a}[g]===y})?[...c,f,d]:c},[]);return Spe(e,s,l,n==null?void 0:n.class,n==null?void 0:n.className)};function TRe(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=TRe(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function N_(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=TRe(e))&&(r&&(r+=" "),r+=t);return r}const Yee="-";function mlt(e){const t=vlt(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;function i(s){const a=s.split(Yee);return a[0]===""&&a.length!==1&&a.shift(),PRe(a,t)||ylt(s)}function o(s,a){const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}return{getClassGroupId:i,getConflictingClassGroupIds:o}}function PRe(e,t){var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?PRe(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(Yee);return(s=t.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId}const _pe=/^\[(.+)\]$/;function ylt(e){if(_pe.test(e)){const t=_pe.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}}function vlt(e){const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Olt(Object.entries(e.classGroups),n).forEach(([o,s])=>{Wq(s,r,o,t)}),r}function Wq(e,t,n,r){e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:Cpe(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(blt(i)){Wq(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{Wq(s,Cpe(t,o),n,r)})})}function Cpe(e,t){let n=e;return t.split(Yee).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function blt(e){return e.isThemeGetter}function Olt(e,t){return t?e.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,a])=>[t+s,a])):o);return[n,i]}):e}function xlt(e){if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;function i(o,s){n.set(o,s),t++,t>e&&(t=0,r=n,n=new Map)}return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}}const RRe="!";function wlt(e){const t=e.separator,n=t.length===1,r=t[0],i=t.length;return function(s){const a=[];let l=0,c=0,u;for(let g=0;g<s.length;g++){let y=s[g];if(l===0){if(y===r&&(n||s.slice(g,g+i)===t)){a.push(s.slice(c,g)),c=g+i;continue}if(y==="/"){u=g;continue}}y==="["?l++:y==="]"&&l--}const f=a.length===0?s:s.substring(c),d=f.startsWith(RRe),h=d?f.substring(1):f,p=u&&u>c?u-c:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}}}function Slt(e){if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t}function _lt(e){return{cache:xlt(e.cacheSize),splitModifiers:wlt(e),...mlt(e)}}const Clt=/\s+/;function $lt(e,t){const{splitModifiers:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,o=new Set;return e.trim().split(Clt).map(s=>{const{modifiers:a,hasImportantModifier:l,baseClassName:c,maybePostfixModifierPosition:u}=n(s);let f=r(u?c.substring(0,u):c),d=!!u;if(!f){if(!u)return{isTailwindClass:!1,originalClassName:s};if(f=r(c),!f)return{isTailwindClass:!1,originalClassName:s};d=!1}const h=Slt(a).join(":");return{isTailwindClass:!0,modifierId:l?h+RRe:h,classGroupId:f,originalClassName:s,hasPostfixModifier:d}}).reverse().filter(s=>{if(!s.isTailwindClass)return!0;const{modifierId:a,classGroupId:l,hasPostfixModifier:c}=s,u=a+l;return o.has(u)?!1:(o.add(u),i(l,c).forEach(f=>o.add(a+f)),!0)}).reverse().map(s=>s.originalClassName).join(" ")}function Elt(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=ARe(t))&&(r&&(r+=" "),r+=n);return r}function ARe(e){if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=ARe(e[r]))&&(n&&(n+=" "),n+=t);return n}function klt(e,...t){let n,r,i,o=s;function s(l){const c=t.reduce((u,f)=>f(u),e());return n=_lt(c),r=n.cache.get,i=n.cache.set,o=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=$lt(l,n);return i(l,u),u}return function(){return o(Elt.apply(null,arguments))}}function Kr(e){const t=n=>n[e]||[];return t.isThemeGetter=!0,t}const DRe=/^\[(?:([a-z-]+):)?(.+)\]$/i,Tlt=/^\d+\/\d+$/,Plt=new Set(["px","full","screen"]),Rlt=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Alt=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Dlt=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Nlt=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Mlt=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function lp(e){return Xv(e)||Plt.has(e)||Tlt.test(e)}function Gg(e){return M_(e,"length",Wlt)}function Xv(e){return!!e&&!Number.isNaN(Number(e))}function eD(e){return M_(e,"number",Xv)}function HC(e){return!!e&&Number.isInteger(Number(e))}function Ilt(e){return e.endsWith("%")&&Xv(e.slice(0,-1))}function un(e){return DRe.test(e)}function Kg(e){return Rlt.test(e)}const Llt=new Set(["length","size","percentage"]);function jlt(e){return M_(e,Llt,NRe)}function Flt(e){return M_(e,"position",NRe)}const zlt=new Set(["image","url"]);function Qlt(e){return M_(e,zlt,Ult)}function Blt(e){return M_(e,"",Vlt)}function ZC(){return!0}function M_(e,t,n){const r=DRe.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1}function Wlt(e){return Alt.test(e)&&!Dlt.test(e)}function NRe(){return!1}function Vlt(e){return Nlt.test(e)}function Ult(e){return Mlt.test(e)}function qlt(){const e=Kr("colors"),t=Kr("spacing"),n=Kr("blur"),r=Kr("brightness"),i=Kr("borderColor"),o=Kr("borderRadius"),s=Kr("borderSpacing"),a=Kr("borderWidth"),l=Kr("contrast"),c=Kr("grayscale"),u=Kr("hueRotate"),f=Kr("invert"),d=Kr("gap"),h=Kr("gradientColorStops"),p=Kr("gradientColorStopPositions"),g=Kr("inset"),y=Kr("margin"),v=Kr("opacity"),x=Kr("padding"),m=Kr("saturate"),w=Kr("scale"),S=Kr("sepia"),C=Kr("skew"),$=Kr("space"),E=Kr("translate"),R=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",un,t],j=()=>[un,t],A=()=>["",lp,Gg],T=()=>["auto",Xv,un],D=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],V=()=>["start","end","center","between","around","evenly","stretch"],Q=()=>["","0",un],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[Xv,eD],U=()=>[Xv,un];return{cacheSize:500,separator:":",theme:{colors:[ZC],spacing:[lp,Gg],blur:["none","",Kg,un],brightness:Y(),borderColor:[e],borderRadius:["none","","full",Kg,un],borderSpacing:j(),borderWidth:A(),contrast:Y(),grayscale:Q(),hueRotate:U(),invert:Q(),gap:j(),gradientColorStops:[e],gradientColorStopPositions:[Ilt,Gg],inset:I(),margin:I(),opacity:Y(),padding:j(),saturate:Y(),scale:Y(),sepia:Q(),skew:U(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",un]}],container:["container"],columns:[{columns:[Kg]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...D(),un]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",HC,un]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",un]}],grow:[{grow:Q()}],shrink:[{shrink:Q()}],order:[{order:["first","last","none",HC,un]}],"grid-cols":[{"grid-cols":[ZC]}],"col-start-end":[{col:["auto",{span:["full",HC,un]},un]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[ZC]}],"row-start-end":[{row:["auto",{span:[HC,un]},un]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",un]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",un]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...V()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...V(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...V(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[$]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[$]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",un,t]}],"min-w":[{"min-w":[un,t,"min","max","fit"]}],"max-w":[{"max-w":[un,t,"none","full","min","max","fit","prose",{screen:[Kg]},Kg]}],h:[{h:[un,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[un,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[un,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[un,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Kg,Gg]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",eD]}],"font-family":[{font:[ZC]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",un]}],"line-clamp":[{"line-clamp":["none",Xv,eD]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",lp,un]}],"list-image":[{"list-image":["none",un]}],"list-style-type":[{list:["none","disc","decimal",un]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",lp,Gg]}],"underline-offset":[{"underline-offset":["auto",lp,un]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",un]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",un]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...D(),Flt]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jlt]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Qlt]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:L()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[lp,un]}],"outline-w":[{outline:[lp,Gg]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:A()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[lp,Gg]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Kg,Blt]}],"shadow-color":[{shadow:[ZC]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":W()}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Kg,un]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[m]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[m]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",un]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",un]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",un]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[HC,un]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",un]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",un]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",un]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[lp,Gg,eD]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const Ylt=klt(qlt);function ve(...e){return Ylt(N_(e))}const Jg="active:shadow-xsSolid",Fb=Oo(ve("disabled:opacity-50 disabled:pointer-events-none","inline-flex mb-1 items-center justify-center rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-2 ring-offset-background"),{variants:{variant:{default:ve("bg-primary text-primary-foreground hover:bg-primary/90 shadow-smSolid border border-primary",Jg),destructive:ve("border shadow-smSolid","bg-[var(--red-9)] hover:bg-[var(--red-10)] dark:bg-[var(--red-6)] dark:hover:bg-[var(--red-7)]","text-[var(--red-1)] dark:text-[var(--red-12)]","border-[var(--red-11)]",Jg),success:ve("border shadow-smSolid","bg-[var(--grass-9)] hover:bg-[var(--grass-10)] dark:bg-[var(--grass-6)] dark:hover:bg-[var(--grass-7)]","text-[var(--grass-1)] dark:text-[var(--grass-12)]","border-[var(--grass-11)]",Jg),warn:ve("border shadow-smSolid","bg-[var(--yellow-9)] hover:bg-[var(--yellow-10)] dark:bg-[var(--yellow-6)] dark:hover:bg-[var(--yellow-7)]","text-[var(--yellow-12)]","border-[var(--yellow-11)]",Jg),action:ve("bg-action text-action-foreground shadow-smSolid","hover:bg-action-hover border border-action",Jg),outline:ve("border border-slate-500 shadow-smSolid","hover:bg-secondary/90 hover:text-secondary-foreground","hover:border-input",Jg),secondary:ve("bg-secondary text-secondary-foreground hover:bg-secondary/60","border border-input shadow-smSolid",Jg),text:ve("opacity-60 hover:opacity-100","active:opacity-100"),ghost:ve("hover:bg-accent hover:text-accent-foreground hover:shadow-smSolid border border-transparent",Jg,"active:text-accent-foreground"),link:"underline-offset-4 hover:underline text-link"},size:{default:"h-10 py-2 px-4",xs:"h-7 px-2 rounded-md text-xs",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-6 w-6"},disabled:{true:"opacity-50 pointer-events-none"}},defaultVariants:{variant:"default",size:"sm"}}),zt=O.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},o)=>{const s=r?qf:"button";return b.jsx(s,{className:ve(Fb({variant:t,size:n,className:e,disabled:i.disabled})),ref:o,...i})});zt.displayName="Button";const Xee=e=>b.jsx(llt,{FallbackComponent:Hlt,children:e.children}),Xlt="flex-1 flex items-center justify-center flex-col space-y-4",Hlt=e=>{var t;return b.jsxs("div",{className:Xlt,children:[b.jsx("h1",{children:"Something went wrong"}),b.jsx("p",{children:(t=e.error)==null?void 0:t.message}),b.jsx(zt,{onClick:e.resetErrorBoundary,variant:"outline",children:"Try again"})]})};/**
* (c) Iconify
*
* For the full copyright and license information, please view the license.txt
* files at https://github.com/iconify/iconify
*
* Licensed under MIT.
*
* @license MIT
* @version 1.0.8
*/const MRe=Object.freeze({left:0,top:0,width:16,height:16}),D5=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),LP=Object.freeze({...MRe,...D5}),Vq=Object.freeze({...LP,body:"",hidden:!1}),Zlt=Object.freeze({width:null,height:null}),IRe=Object.freeze({...Zlt,...D5});function Glt(e,t=0){const n=e.replace(/^-?[0-9.]*/,"");function r(i){for(;i<0;)i+=4;return i%4}if(n===""){const i=parseInt(e);return isNaN(i)?0:r(i)}else if(n!==e){let i=0;switch(n){case"%":i=25;break;case"deg":i=90}if(i){let o=parseFloat(e.slice(0,e.length-n.length));return isNaN(o)?0:(o=o/i,o%1===0?r(o):0)}}return t}const Klt=/[\s,]+/;function Jlt(e,t){t.split(Klt).forEach(n=>{switch(n.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}const LRe={...IRe,preserveAspectRatio:""};function $pe(e){const t={...LRe},n=(r,i)=>e.getAttribute(r)||i;return t.width=n("width",null),t.height=n("height",null),t.rotate=Glt(n("rotate","")),Jlt(t,n("flip","")),t.preserveAspectRatio=n("preserveAspectRatio",n("preserveaspectratio","")),t}function ect(e,t){for(const n in LRe)if(e[n]!==t[n])return!0;return!1}const sk=/^[a-z0-9]+(-[a-z0-9]+)*$/,jP=(e,t,n,r="")=>{const i=e.split(":");if(e.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const a=i.pop(),l=i.pop(),c={provider:i.length>0?i[0]:r,prefix:l,name:a};return t&&!NM(c)?null:c}const o=i[0],s=o.split("-");if(s.length>1){const a={provider:r,prefix:s.shift(),name:s.join("-")};return t&&!NM(a)?null:a}if(n&&r===""){const a={provider:r,prefix:"",name:o};return t&&!NM(a,n)?null:a}return null},NM=(e,t)=>e?!!((e.provider===""||e.provider.match(sk))&&(t&&e.prefix===""||e.prefix.match(sk))&&e.name.match(sk)):!1;function tct(e,t){const n={};!e.hFlip!=!t.hFlip&&(n.hFlip=!0),!e.vFlip!=!t.vFlip&&(n.vFlip=!0);const r=((e.rotate||0)+(t.rotate||0))%4;return r&&(n.rotate=r),n}function Epe(e,t){const n=tct(e,t);for(const r in Vq)r in D5?r in e&&!(r in n)&&(n[r]=D5[r]):r in t?n[r]=t[r]:r in e&&(n[r]=e[r]);return n}function nct(e,t){const n=e.icons,r=e.aliases||Object.create(null),i=Object.create(null);function o(s){if(n[s])return i[s]=[];if(!(s in i)){i[s]=null;const a=r[s]&&r[s].parent,l=a&&o(a);l&&(i[s]=[a].concat(l))}return i[s]}return(t||Object.keys(n).concat(Object.keys(r))).forEach(o),i}function rct(e,t,n){const r=e.icons,i=e.aliases||Object.create(null);let o={};function s(a){o=Epe(r[a]||i[a],o)}return s(t),n.forEach(s),Epe(e,o)}function jRe(e,t){const n=[];if(typeof e!="object"||typeof e.icons!="object")return n;e.not_found instanceof Array&&e.not_found.forEach(i=>{t(i,null),n.push(i)});const r=nct(e);for(const i in r){const o=r[i];o&&(t(i,rct(e,i,o)),n.push(i))}return n}const ict={provider:"",aliases:{},not_found:{},...MRe};function vQ(e,t){for(const n in t)if(n in e&&typeof e[n]!=typeof t[n])return!1;return!0}function FRe(e){if(typeof e!="object"||e===null)return null;const t=e;if(typeof t.prefix!="string"||!e.icons||typeof e.icons!="object"||!vQ(e,ict))return null;const n=t.icons;for(const i in n){const o=n[i];if(!i.match(sk)||typeof o.body!="string"||!vQ(o,Vq))return null}const r=t.aliases||Object.create(null);for(const i in r){const o=r[i],s=o.parent;if(!i.match(sk)||typeof s!="string"||!n[s]&&!r[s]||!vQ(o,Vq))return null}return t}const N5=Object.create(null);function oct(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:new Set}}function By(e,t){const n=N5[e]||(N5[e]=Object.create(null));return n[t]||(n[t]=oct(e,t))}function Hee(e,t){return FRe(t)?jRe(t,(n,r)=>{r?e.icons[n]=r:e.missing.add(n)}):[]}function sct(e,t,n){try{if(typeof n.body=="string")return e.icons[t]={...n},!0}catch{}return!1}function act(e,t){let n=[];return(typeof e=="string"?[e]:Object.keys(N5)).forEach(i=>{(typeof i=="string"&&typeof t=="string"?[t]:Object.keys(N5[i]||{})).forEach(s=>{const a=By(i,s);n=n.concat(Object.keys(a.icons).map(l=>(i!==""?"@"+i+":":"")+s+":"+l))})}),n}let DT=!1;function zRe(e){return typeof e=="boolean"&&(DT=e),DT}function NT(e){const t=typeof e=="string"?jP(e,!0,DT):e;if(t){const n=By(t.provider,t.prefix),r=t.name;return n.icons[r]||(n.missing.has(r)?null:void 0)}}function QRe(e,t){const n=jP(e,!0,DT);if(!n)return!1;const r=By(n.provider,n.prefix);return sct(r,n.name,t)}function kpe(e,t){if(typeof e!="object")return!1;if(typeof t!="string"&&(t=e.provider||""),DT&&!t&&!e.prefix){let i=!1;return FRe(e)&&(e.prefix="",jRe(e,(o,s)=>{s&&QRe(o,s)&&(i=!0)})),i}const n=e.prefix;if(!NM({provider:t,prefix:n,name:"a"}))return!1;const r=By(t,n);return!!Hee(r,e)}function lct(e){return!!NT(e)}function cct(e){const t=NT(e);return t?{...LP,...t}:null}function uct(e){const t={loaded:[],missing:[],pending:[]},n=Object.create(null);e.sort((i,o)=>i.provider!==o.provider?i.provider.localeCompare(o.provider):i.prefix!==o.prefix?i.prefix.localeCompare(o.prefix):i.name.localeCompare(o.name));let r={provider:"",prefix:"",name:""};return e.forEach(i=>{if(r.name===i.name&&r.prefix===i.prefix&&r.provider===i.provider)return;r=i;const o=i.provider,s=i.prefix,a=i.name,l=n[o]||(n[o]=Object.create(null)),c=l[s]||(l[s]=By(o,s));let u;a in c.icons?u=t.loaded:s===""||c.missing.has(a)?u=t.missing:u=t.pending;const f={provider:o,prefix:s,name:a};u.push(f)}),t}function BRe(e,t){e.forEach(n=>{const r=n.loaderCallbacks;r&&(n.loaderCallbacks=r.filter(i=>i.id!==t))})}function fct(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!t.length)return;let n=!1;const r=e.provider,i=e.prefix;t.forEach(o=>{const s=o.icons,a=s.pending.length;s.pending=s.pending.filter(l=>{if(l.prefix!==i)return!0;const c=l.name;if(e.icons[c])s.loaded.push({provider:r,prefix:i,name:c});else if(e.missing.has(c))s.missing.push({provider:r,prefix:i,name:c});else return n=!0,!0;return!1}),s.pending.length!==a&&(n||BRe([e],o.id),o.callback(s.loaded.slice(0),s.missing.slice(0),s.pending.slice(0),o.abort))})}))}let dct=0;function hct(e,t,n){const r=dct++,i=BRe.bind(null,n,r);if(!t.pending.length)return i;const o={id:r,icons:t,callback:e,abort:i};return n.forEach(s=>{(s.loaderCallbacks||(s.loaderCallbacks=[])).push(o)}),i}const Uq=Object.create(null);function Tpe(e,t){Uq[e]=t}function qq(e){return Uq[e]||Uq[""]}function pct(e,t=!0,n=!1){const r=[];return e.forEach(i=>{const o=typeof i=="string"?jP(i,t,n):i;o&&r.push(o)}),r}var gct={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function mct(e,t,n,r){const i=e.resources.length,o=e.random?Math.floor(Math.random()*i):e.index;let s;if(e.random){let C=e.resources.slice(0);for(s=[];C.length>1;){const $=Math.floor(Math.random()*C.length);s.push(C[$]),C=C.slice(0,$).concat(C.slice($+1))}s=s.concat(C)}else s=e.resources.slice(o).concat(e.resources.slice(0,o));const a=Date.now();let l="pending",c=0,u,f=null,d=[],h=[];typeof r=="function"&&h.push(r);function p(){f&&(clearTimeout(f),f=null)}function g(){l==="pending"&&(l="aborted"),p(),d.forEach(C=>{C.status==="pending"&&(C.status="aborted")}),d=[]}function y(C,$){$&&(h=[]),typeof C=="function"&&h.push(C)}function v(){return{startTime:a,payload:t,status:l,queriesSent:c,queriesPending:d.length,subscribe:y,abort:g}}function x(){l="failed",h.forEach(C=>{C(void 0,u)})}function m(){d.forEach(C=>{C.status==="pending"&&(C.status="aborted")}),d=[]}function w(C,$,E){const R=$!=="success";switch(d=d.filter(N=>N!==C),l){case"pending":break;case"failed":if(R||!e.dataAfterTimeout)return;break;default:return}if($==="abort"){u=E,x();return}if(R){u=E,d.length||(s.length?S():x());return}if(p(),m(),!e.random){const N=e.resources.indexOf(C.resource);N!==-1&&N!==e.index&&(e.index=N)}l="completed",h.forEach(N=>{N(E)})}function S(){if(l!=="pending")return;p();const C=s.shift();if(C===void 0){if(d.length){f=setTimeout(()=>{p(),l==="pending"&&(m(),x())},e.timeout);return}x();return}const $={status:"pending",resource:C,callback:(E,R)=>{w($,E,R)}};d.push($),c++,f=setTimeout(S,e.rotate),n(C,t,$.callback)}return setTimeout(S),v}function WRe(e){const t={...gct,...e};let n=[];function r(){n=n.filter(a=>a().status==="pending")}function i(a,l,c){const u=mct(t,a,l,(f,d)=>{r(),c&&c(f,d)});return n.push(u),u}function o(a){return n.find(l=>a(l))||null}return{query:i,find:o,setIndex:a=>{t.index=a},getIndex:()=>t.index,cleanup:r}}function Zee(e){let t;if(typeof e.resources=="string")t=[e.resources];else if(t=e.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const r4=Object.create(null),GC=["https://api.simplesvg.com","https://api.unisvg.com"],MM=[];for(;GC.length>0;)GC.length===1||Math.random()>.5?MM.push(GC.shift()):MM.push(GC.pop());r4[""]=Zee({resources:["https://api.iconify.design"].concat(MM)});function Ppe(e,t){const n=Zee(t);return n===null?!1:(r4[e]=n,!0)}function i4(e){return r4[e]}function yct(){return Object.keys(r4)}function Rpe(){}const bQ=Object.create(null);function vct(e){if(!bQ[e]){const t=i4(e);if(!t)return;const n=WRe(t),r={config:t,redundancy:n};bQ[e]=r}return bQ[e]}function VRe(e,t,n){let r,i;if(typeof e=="string"){const o=qq(e);if(!o)return n(void 0,424),Rpe;i=o.send;const s=vct(e);s&&(r=s.redundancy)}else{const o=Zee(e);if(o){r=WRe(o);const s=e.resources?e.resources[0]:"",a=qq(s);a&&(i=a.send)}}return!r||!i?(n(void 0,424),Rpe):r.query(t,i,n)().abort}const Ape="iconify2",MT="iconify",URe=MT+"-count",Dpe=MT+"-version",qRe=36e5,bct=168;function Yq(e,t){try{return e.getItem(t)}catch{}}function Gee(e,t,n){try{return e.setItem(t,n),!0}catch{}}function Npe(e,t){try{e.removeItem(t)}catch{}}function Xq(e,t){return Gee(e,URe,t.toString())}function Hq(e){return parseInt(Yq(e,URe))||0}const d1={local:!0,session:!0},YRe={local:new Set,session:new Set};let Kee=!1;function Oct(e){Kee=e}let tD=typeof window>"u"?{}:window;function XRe(e){const t=e+"Storage";try{if(tD&&tD[t]&&typeof tD[t].length=="number")return tD[t]}catch{}d1[e]=!1}function HRe(e,t){const n=XRe(e);if(!n)return;const r=Yq(n,Dpe);if(r!==Ape){if(r){const a=Hq(n);for(let l=0;l<a;l++)Npe(n,MT+l.toString())}Gee(n,Dpe,Ape),Xq(n,0);return}const i=Math.floor(Date.now()/qRe)-bct,o=a=>{const l=MT+a.toString(),c=Yq(n,l);if(typeof c=="string"){try{const u=JSON.parse(c);if(typeof u=="object"&&typeof u.cached=="number"&&u.cached>i&&typeof u.provider=="string"&&typeof u.data=="object"&&typeof u.data.prefix=="string"&&t(u,a))return!0}catch{}Npe(n,l)}};let s=Hq(n);for(let a=s-1;a>=0;a--)o(a)||(a===s-1?(s--,Xq(n,s)):YRe[e].add(a))}function ZRe(){if(!Kee){Oct(!0);for(const e in d1)HRe(e,t=>{const n=t.data,r=t.provider,i=n.prefix,o=By(r,i);if(!Hee(o,n).length)return!1;const s=n.lastModified||-1;return o.lastModifiedCached=o.lastModifiedCached?Math.min(o.lastModifiedCached,s):s,!0})}}function xct(e,t){const n=e.lastModifiedCached;if(n&&n>=t)return n===t;if(e.lastModifiedCached=t,n)for(const r in d1)HRe(r,i=>{const o=i.data;return i.provider!==e.provider||o.prefix!==e.prefix||o.lastModified===t});return!0}function wct(e,t){Kee||ZRe();function n(r){let i;if(!d1[r]||!(i=XRe(r)))return;const o=YRe[r];let s;if(o.size)o.delete(s=Array.from(o).shift());else if(s=Hq(i),!Xq(i,s+1))return;const a={cached:Math.floor(Date.now()/qRe),provider:e.provider,data:t};return Gee(i,MT+s.toString(),JSON.stringify(a))}t.lastModified&&!xct(e,t.lastModified)||Object.keys(t.icons).length&&(t.not_found&&(t=Object.assign({},t),delete t.not_found),n("local")||n("session"))}function Mpe(){}function Sct(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,fct(e)}))}function _ct(e,t){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(t).sort():e.iconsToLoad=t,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:n,prefix:r}=e,i=e.iconsToLoad;delete e.iconsToLoad;let o;if(!i||!(o=qq(n)))return;o.prepare(n,r,i).forEach(a=>{VRe(n,a,l=>{if(typeof l!="object")a.icons.forEach(c=>{e.missing.add(c)});else try{const c=Hee(e,l);if(!c.length)return;const u=e.pendingIcons;u&&c.forEach(f=>{u.delete(f)}),wct(e,l)}catch(c){console.error(c)}Sct(e)})})}))}const Jee=(e,t)=>{const n=pct(e,!0,zRe()),r=uct(n);if(!r.pending.length){let l=!0;return t&&setTimeout(()=>{l&&t(r.loaded,r.missing,r.pending,Mpe)}),()=>{l=!1}}const i=Object.create(null),o=[];let s,a;return r.pending.forEach(l=>{const{provider:c,prefix:u}=l;if(u===a&&c===s)return;s=c,a=u,o.push(By(c,u));const f=i[c]||(i[c]=Object.create(null));f[u]||(f[u]=[])}),r.pending.forEach(l=>{const{provider:c,prefix:u,name:f}=l,d=By(c,u),h=d.pendingIcons||(d.pendingIcons=new Set);h.has(f)||(h.add(f),i[c][u].push(f))}),o.forEach(l=>{const{provider:c,prefix:u}=l;i[c][u].length&&_ct(l,i[c][u])}),t?hct(t,r,o):Mpe},Cct=e=>new Promise((t,n)=>{const r=typeof e=="string"?jP(e,!0):e;if(!r){n(e);return}Jee([r||e],i=>{if(i.length&&r){const o=NT(r);if(o){t({...LP,...o});return}}n(e)})});function $ct(e){try{const t=typeof e=="string"?JSON.parse(e):e;if(typeof t.body=="string")return{...t}}catch{}}function Ect(e,t){const n=typeof e=="string"?jP(e,!0,!0):null;if(!n){const o=$ct(e);return{value:e,data:o}}const r=NT(n);if(r!==void 0||!n.prefix)return{value:e,name:n,data:r};const i=Jee([n],()=>t(e,n,NT(n)));return{value:e,name:n,loading:i}}function OQ(e){return e.hasAttribute("inline")}let GRe=!1;try{GRe=navigator.vendor.indexOf("Apple")===0}catch{}function kct(e,t){switch(t){case"svg":case"bg":case"mask":return t}return t!=="style"&&(GRe||e.indexOf("<a")===-1)?"svg":e.indexOf("currentColor")===-1?"bg":"mask"}const Tct=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Pct=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Zq(e,t,n){if(t===1)return e;if(n=n||100,typeof e=="number")return Math.ceil(e*t*n)/n;if(typeof e!="string")return e;const r=e.split(Tct);if(r===null||!r.length)return e;const i=[];let o=r.shift(),s=Pct.test(o);for(;;){if(s){const a=parseFloat(o);isNaN(a)?i.push(o):i.push(Math.ceil(a*t*n)/n)}else i.push(o);if(o=r.shift(),o===void 0)return i.join("");s=!s}}const Rct=e=>e==="unset"||e==="undefined"||e==="none";function KRe(e,t){const n={...LP,...e},r={...IRe,...t},i={left:n.left,top:n.top,width:n.width,height:n.height};let o=n.body;[n,r].forEach(p=>{const g=[],y=p.hFlip,v=p.vFlip;let x=p.rotate;y?v?x+=2:(g.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),g.push("scale(-1 1)"),i.top=i.left=0):v&&(g.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),g.push("scale(1 -1)"),i.top=i.left=0);let m;switch(x<0&&(x-=Math.floor(x/4)*4),x=x%4,x){case 1:m=i.height/2+i.top,g.unshift("rotate(90 "+m.toString()+" "+m.toString()+")");break;case 2:g.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:m=i.width/2+i.left,g.unshift("rotate(-90 "+m.toString()+" "+m.toString()+")");break}x%2===1&&(i.left!==i.top&&(m=i.left,i.left=i.top,i.top=m),i.width!==i.height&&(m=i.width,i.width=i.height,i.height=m)),g.length&&(o='<g transform="'+g.join(" ")+'">'+o+"</g>")});const s=r.width,a=r.height,l=i.width,c=i.height;let u,f;s===null?(f=a===null?"1em":a==="auto"?c:a,u=Zq(f,l/c)):(u=s==="auto"?l:s,f=a===null?Zq(u,c/l):a==="auto"?c:a);const d={},h=(p,g)=>{Rct(g)||(d[p]=g.toString())};return h("width",u),h("height",f),d.viewBox=i.left.toString()+" "+i.top.toString()+" "+l.toString()+" "+c.toString(),{attributes:d,body:o}}const Act=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let M5=Act();function Dct(e){M5=e}function Nct(){return M5}function Mct(e,t){const n=i4(e);if(!n)return 0;let r;if(!n.maxURL)r=0;else{let i=0;n.resources.forEach(s=>{i=Math.max(i,s.length)});const o=t+".json?icons=";r=n.maxURL-i-n.path.length-o.length}return r}function Ict(e){return e===404}const Lct=(e,t,n)=>{const r=[],i=Mct(e,t),o="icons";let s={type:o,provider:e,prefix:t,icons:[]},a=0;return n.forEach((l,c)=>{a+=l.length+1,a>=i&&c>0&&(r.push(s),s={type:o,provider:e,prefix:t,icons:[]},a=l.length),s.icons.push(l)}),r.push(s),r};function jct(e){if(typeof e=="string"){const t=i4(e);if(t)return t.path}return"/"}const Fct=(e,t,n)=>{if(!M5){n("abort",424);return}let r=jct(t.provider);switch(t.type){case"icons":{const o=t.prefix,a=t.icons.join(","),l=new URLSearchParams({icons:a});r+=o+".json?"+l.toString();break}case"custom":{const o=t.uri;r+=o.slice(0,1)==="/"?o.slice(1):o;break}default:n("abort",400);return}let i=503;M5(e+r).then(o=>{const s=o.status;if(s!==200){setTimeout(()=>{n(Ict(s)?"abort":"next",s)});return}return i=501,o.json()}).then(o=>{if(typeof o!="object"||o===null){setTimeout(()=>{o===404?n("abort",o):n("next",i)});return}setTimeout(()=>{n("success",o)})}).catch(()=>{n("next",i)})},zct={prepare:Lct,send:Fct};function Ipe(e,t){switch(e){case"local":case"session":d1[e]=t;break;case"all":for(const n in d1)d1[n]=t;break}}const xQ="data-style";let JRe="";function Qct(e){JRe=e}function Lpe(e,t){let n=Array.from(e.childNodes).find(r=>r.hasAttribute&&r.hasAttribute(xQ));n||(n=document.createElement("style"),n.setAttribute(xQ,xQ),e.appendChild(n)),n.textContent=":host{display:inline-block;vertical-align:"+(t?"-0.125em":"0")+"}span,svg{display:block}"+JRe}function eAe(){Tpe("",zct),zRe(!0);let e;try{e=window}catch{}if(e){if(ZRe(),e.IconifyPreload!==void 0){const n=e.IconifyPreload,r="Invalid IconifyPreload syntax.";typeof n=="object"&&n!==null&&(n instanceof Array?n:[n]).forEach(i=>{try{(typeof i!="object"||i===null||i instanceof Array||typeof i.icons!="object"||typeof i.prefix!="string"||!kpe(i))&&console.error(r)}catch{console.error(r)}})}if(e.IconifyProviders!==void 0){const n=e.IconifyProviders;if(typeof n=="object"&&n!==null)for(const r in n){const i="IconifyProviders["+r+"] is invalid.";try{const o=n[r];if(typeof o!="object"||!o||o.resources===void 0)continue;Ppe(r,o)||console.error(i)}catch{console.error(i)}}}}return{enableCache:n=>Ipe(n,!0),disableCache:n=>Ipe(n,!1),iconExists:lct,getIcon:cct,listIcons:act,addIcon:QRe,addCollection:kpe,calculateSize:Zq,buildIcon:KRe,loadIcons:Jee,loadIcon:Cct,addAPIProvider:Ppe,appendCustomStyle:Qct,_api:{getAPIConfig:i4,setAPIModule:Tpe,sendAPIQuery:VRe,setFetch:Dct,getFetch:Nct,listAPIProviders:yct}}}function tAe(e,t){let n=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in t)n+=" "+r+'="'+t[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}function Bct(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function Wct(e){return"data:image/svg+xml,"+Bct(e)}function Vct(e){return'url("'+Wct(e)+'")'}const Gq={"background-color":"currentColor"},nAe={"background-color":"transparent"},jpe={image:"var(--svg)",repeat:"no-repeat",size:"100% 100%"},Fpe={"-webkit-mask":Gq,mask:Gq,background:nAe};for(const e in Fpe){const t=Fpe[e];for(const n in jpe)t[e+"-"+n]=jpe[n]}function zpe(e){return e?e+(e.match(/^[-0-9.]+$/)?"px":""):"inherit"}function Uct(e,t,n){const r=document.createElement("span");let i=e.body;i.indexOf("<a")!==-1&&(i+="<!-- "+Date.now()+" -->");const o=e.attributes,s=tAe(i,{...o,width:t.width+"",height:t.height+""}),a=Vct(s),l=r.style,c={"--svg":a,width:zpe(o.width),height:zpe(o.height),...n?Gq:nAe};for(const u in c)l.setProperty(u,c[u]);return r}let ak;function qct(){try{ak=window.trustedTypes.createPolicy("iconify",{createHTML:e=>e})}catch{ak=null}}function Yct(e){return ak===void 0&&qct(),ak?ak.createHTML(e):e}function Xct(e){const t=document.createElement("span"),n=e.attributes;let r="";n.width||(r="width: inherit;"),n.height||(r+="height: inherit;"),r&&(n.style=r);const i=tAe(e.body,n);return t.innerHTML=Yct(i),t.firstChild}function Qpe(e,t){const n=t.icon.data,r=t.customisations,i=KRe(n,r);r.preserveAspectRatio&&(i.attributes.preserveAspectRatio=r.preserveAspectRatio);const o=t.renderedMode;let s;switch(o){case"svg":s=Xct(i);break;default:s=Uct(i,{...LP,...n},o==="mask")}const a=Array.from(e.childNodes).find(l=>{const c=l.tagName&&l.tagName.toUpperCase();return c==="SPAN"||c==="SVG"});a?s.tagName==="SPAN"&&a.tagName===s.tagName?a.setAttribute("style",s.getAttribute("style")):e.replaceChild(s,a):e.appendChild(s)}function Bpe(e,t,n){const r=n&&(n.rendered?n:n.lastRender);return{rendered:!1,inline:t,icon:e,lastRender:r}}function Hct(e="iconify-icon"){let t,n;try{t=window.customElements,n=window.HTMLElement}catch{return}if(!t||!n)return;const r=t.get(e);if(r)return r;const i=["icon","mode","inline","width","height","rotate","flip"],o=class extends n{constructor(){super();be(this,"_shadowRoot");be(this,"_state");be(this,"_checkQueued",!1);const l=this._shadowRoot=this.attachShadow({mode:"open"}),c=OQ(this);Lpe(l,c),this._state=Bpe({value:""},c),this._queueCheck()}static get observedAttributes(){return i.slice(0)}attributeChangedCallback(l){if(l==="inline"){const c=OQ(this),u=this._state;c!==u.inline&&(u.inline=c,Lpe(this._shadowRoot,c))}else this._queueCheck()}get icon(){const l=this.getAttribute("icon");if(l&&l.slice(0,1)==="{")try{return JSON.parse(l)}catch{}return l}set icon(l){typeof l=="object"&&(l=JSON.stringify(l)),this.setAttribute("icon",l)}get inline(){return OQ(this)}set inline(l){l?this.setAttribute("inline","true"):this.removeAttribute("inline")}restartAnimation(){const l=this._state;if(l.rendered){const c=this._shadowRoot;if(l.renderedMode==="svg")try{c.lastChild.setCurrentTime(0);return}catch{}Qpe(c,l)}}get status(){const l=this._state;return l.rendered?"rendered":l.icon.data===null?"failed":"loading"}_queueCheck(){this._checkQueued||(this._checkQueued=!0,setTimeout(()=>{this._check()}))}_check(){if(!this._checkQueued)return;this._checkQueued=!1;const l=this._state,c=this.getAttribute("icon");if(c!==l.icon.value){this._iconChanged(c);return}if(!l.rendered)return;const u=this.getAttribute("mode"),f=$pe(this);(l.attrMode!==u||ect(l.customisations,f))&&this._renderIcon(l.icon,f,u)}_iconChanged(l){const c=Ect(l,(u,f,d)=>{const h=this._state;if(h.rendered||this.getAttribute("icon")!==u)return;const p={value:u,name:f,data:d};p.data?this._gotIconData(p):h.icon=p});c.data?this._gotIconData(c):this._state=Bpe(c,this._state.inline,this._state)}_gotIconData(l){this._checkQueued=!1,this._renderIcon(l,$pe(this),this.getAttribute("mode"))}_renderIcon(l,c,u){const f=kct(l.data.body,u),d=this._state.inline;Qpe(this._shadowRoot,this._state={rendered:!0,icon:l,inline:d,customisations:c,attrMode:u,renderedMode:f})}};i.forEach(a=>{a in o.prototype||Object.defineProperty(o.prototype,a,{get:function(){return this.getAttribute(a)},set:function(l){l!==null?this.setAttribute(a,l):this.removeAttribute(a)}})});const s=eAe();for(const a in s)o[a]=o.prototype[a]=s[a];return t.define(e,o),o}Hct()||eAe();const z1="marimo-value-input",Kq="marimo-value-update",Jq="marimo-value-ready";function rAe(e,t){return new CustomEvent(z1,{bubbles:!0,composed:!0,detail:{value:e,element:t}})}function iAe(e,t){if(!(window!=null&&window.customElements)){Ut.warn("Custom elements not supported");return}if(window.customElements.get(e)){Ut.warn(`Custom element ${e} already defined`);return}window.customElements.define(e,t)}function Zct(e,t){if(e==null)throw t?new Error(t):new Error(`Expected value but got ${e}`)}function ete(e,t){if(typeof window>"u")return;const n=`__marimo__${t}`;window[n]&&Ut.warn(`Overwriting existing debug object ${n}`),window[n]=e}const tT=class tT{constructor(){be(this,"entries");ete(tT.INSTANCE,"UIElementRegistry"),this.entries=new Map}has(t){return this.entries.has(t)}set(t,n){if(this.entries.has(t))throw new Error(`UIElement ${t} already registered`);this.entries.set(t,{objectId:t,value:n,elements:new Set})}registerInstance(t,n){const r=this.entries.get(t);r===void 0?this.entries.set(t,{objectId:t,value:aAe(n),elements:new Set([n])}):r.elements.add(n)}removeInstance(t,n){const r=this.entries.get(t);r!==void 0&&r.elements.has(n)&&r.elements.delete(n)}removeElementsByCell(t){[...this.entries.keys()].filter(r=>r.startsWith(`${t}-`)).forEach(r=>{this.entries.delete(r)})}lookupValue(t){const n=this.entries.get(t);return n===void 0?void 0:n.value}broadcastValueUpdate(t,n,r){const i=this.entries.get(n);i!==void 0&&(i.value=r,i.elements.forEach(o=>{o!==t&&o.dispatchEvent(new CustomEvent(Kq,{bubbles:!1,composed:!0,detail:{value:r,element:o}}))}),document.dispatchEvent(new CustomEvent(Jq,{bubbles:!0,composed:!0,detail:{objectId:n}})))}};be(tT,"INSTANCE",new tT);let eY=tT;const Nf=eY.INSTANCE;function oAe(e){try{return JSON.parse(e)}catch{}const t="";if(e==null||e==="")return{};try{return e=e??"",e=e.replaceAll(new RegExp(`(?<=\\s|^|\\[|,|:)(NaN|-Infinity|Infinity)(?=(?:[^"'\\\\]*(\\\\.|'([^'\\\\]*\\\\.)*[^'\\\\]*'|"([^"\\\\]*\\\\.)*[^"\\\\]*"))*[^"']*$)`,"g"),`"${t}$1${t}"`),JSON.parse(e,(n,r)=>typeof r!="string"?r:r===`${t}NaN${t}`?Number.NaN:r===`${t}Infinity${t}`?Number.POSITIVE_INFINITY:r===`${t}-Infinity${t}`?Number.NEGATIVE_INFINITY:r)}catch{return{}}}const wn={mapValues(e,t){return e&&wn.fromEntries(wn.entries(e).map(([n,r])=>[n,t(r,n)]))},fromEntries(e){return Object.fromEntries(e)},entries(e){return Object.entries(e)},keys(e){return Object.keys(e)},keyBy(e,t){const n={};for(const r of e){const i=t(r);i!==void 0&&(n[i]=r)}return n},groupBy(e,t,n){const r={};for(const i of e){const o=t(i);if(o===void 0)continue;const s=n(i);o in r?r[o].push(s):r[o]=[s]}return r},filter(e,t){const n={};for(const[r,i]of wn.entries(e))t(i,r)&&(n[r]=e[r]);return n}},sAe="abcdefghijklmnopqrstuvwxyz",Gct=sAe.toUpperCase(),Wpe=sAe+Gct,nD={create(){let e="";for(let t=0;t<4;t++)e+=Wpe[Math.floor(Math.random()*Wpe.length)];return e}},Yf={create(e){return Bi(e!=null,"cellId is required"),`cell-${e}`},parse(e){return e.slice(5)},findElement(e){return e.closest('div[id^="cell-"]')}},h1={parse(e){return e.getAttribute("object-id")},parseOrThrow(e){const t=h1.parse(e);return Bi(t,"<marimo-ui-element/> missing object-id attribute"),t}};function o4(e){return oAe(e??"")}function wQ(e){return wn.mapValues(e.dataset,t=>typeof t=="string"?o4(t):t)}function aAe(e){const t=e.parentElement?h1.parse(e.parentElement):void 0;return t&&Nf.has(t)?Nf.lookupValue(t):o4(e.dataset.initialValue)}function lAe(){const e=document.querySelector("marimo-filename");Zct(e,"marimo-filename tag not found");const t=e.innerHTML;return t.length===0?null:t}const Kct=Oo("relative w-full rounded-lg border p-4 [&>svg]:absolute [&>svg]:text-foreground [&>svg]:left-4 [&>svg]:top-4 [&>svg+div]:translate-y-[-3px] [&:has(svg)]:pl-11",{variants:{variant:{default:"bg-background text-foreground",destructive:"text-destructive border-destructive/50 dark:border-destructive [&>svg]:text-destructive text-destructive"}},defaultVariants:{variant:"default"}}),FP=O.forwardRef(({className:e,variant:t,...n},r)=>b.jsx("div",{ref:r,role:"alert",className:ve(Kct({variant:t}),e),...n}));FP.displayName="Alert";const zP=O.forwardRef(({className:e,children:t,...n},r)=>b.jsx("h5",{ref:r,className:ve("mb-1 font-medium leading-none tracking-tight",e),...n,children:t}));zP.displayName="AlertTitle";const Jct=O.forwardRef(({className:e,...t},n)=>b.jsx("div",{ref:n,className:ve("text-sm [&_p]:leading-relaxed",e),...t}));Jct.displayName="AlertDescription";function eut(e,t){const n=O.createContext(t);function r(o){const{children:s,...a}=o,l=O.useMemo(()=>a,Object.values(a));return O.createElement(n.Provider,{value:l},s)}function i(o){const s=O.useContext(n);if(s)return s;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return r.displayName=e+"Provider",[r,i]}function ro(e,t=[]){let n=[];function r(o,s){const a=O.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:d,children:h,...p}=f,g=(d==null?void 0:d[e][l])||a,y=O.useMemo(()=>p,Object.values(p));return O.createElement(g.Provider,{value:y},h)}function u(f,d){const h=(d==null?void 0:d[e][l])||a,p=O.useContext(h);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const i=()=>{const o=n.map(s=>O.createContext(s));return function(a){const l=(a==null?void 0:a[e])||o;return O.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return i.scopeName=e,[r,tut(i,...t)]}function tut(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return O.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}function I_(e){const t=e+"CollectionProvider",[n,r]=ro(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=h=>{const{scope:p,children:g}=h,y=ie.useRef(null),v=ie.useRef(new Map).current;return ie.createElement(i,{scope:p,itemMap:v,collectionRef:y},g)},a=e+"CollectionSlot",l=ie.forwardRef((h,p)=>{const{scope:g,children:y}=h,v=o(a,g),x=Xt(p,v.collectionRef);return ie.createElement(qf,{ref:x},y)}),c=e+"CollectionItemSlot",u="data-radix-collection-item",f=ie.forwardRef((h,p)=>{const{scope:g,children:y,...v}=h,x=ie.useRef(null),m=Xt(p,x),w=o(c,g);return ie.useEffect(()=>(w.itemMap.set(x,{ref:x,...v}),()=>void w.itemMap.delete(x))),ie.createElement(qf,{[u]:"",ref:m},y)});function d(h){const p=o(e+"CollectionConsumer",h);return ie.useCallback(()=>{const y=p.collectionRef.current;if(!y)return[];const v=Array.from(y.querySelectorAll(`[${u}]`));return Array.from(p.itemMap.values()).sort((w,S)=>v.indexOf(w.ref.current)-v.indexOf(S.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:s,Slot:l,ItemSlot:f},d,r]}function qe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function _a(e){const t=O.useRef(e);return O.useEffect(()=>{t.current=e}),O.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function Vo({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=nut({defaultProp:t,onChange:n}),o=e!==void 0,s=o?e:r,a=_a(n),l=O.useCallback(c=>{if(o){const f=typeof c=="function"?c(e):c;f!==e&&a(f)}else i(c)},[o,e,i,a]);return[s,l]}function nut({defaultProp:e,onChange:t}){const n=O.useState(e),[r]=n,i=O.useRef(r),o=_a(t);return O.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}const rut=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ot=rut.reduce((e,t)=>{const n=O.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?qf:t;return O.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),O.createElement(a,le({},s,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function tte(e,t){e&&Io.flushSync(()=>e.dispatchEvent(t))}const Ca=globalThis!=null&&globalThis.document?O.useLayoutEffect:()=>{};function iut(e,t){return O.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const zs=e=>{const{present:t,children:n}=e,r=out(t),i=typeof n=="function"?n({present:r.isPresent}):O.Children.only(n),o=Xt(r.ref,i.ref);return typeof n=="function"||r.isPresent?O.cloneElement(i,{ref:o}):null};zs.displayName="Presence";function out(e){const[t,n]=O.useState(),r=O.useRef({}),i=O.useRef(e),o=O.useRef("none"),s=e?"mounted":"unmounted",[a,l]=iut(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return O.useEffect(()=>{const c=rD(r.current);o.current=a==="mounted"?c:"none"},[a]),Ca(()=>{const c=r.current,u=i.current;if(u!==e){const d=o.current,h=rD(c);e?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),Ca(()=>{if(t){const c=f=>{const h=rD(r.current).includes(f.animationName);f.target===t&&h&&Io.flushSync(()=>l("ANIMATION_END"))},u=f=>{f.target===t&&(o.current=rD(r.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",c),t.addEventListener("animationend",c),()=>{t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",c),t.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:O.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function rD(e){return(e==null?void 0:e.animationName)||"none"}const sut=Xw.useId||(()=>{});let aut=0;function Rl(e){const[t,n]=O.useState(sut());return Ca(()=>{e||n(r=>r??String(aut++))},[e]),e||(t?`radix-${t}`:"")}const cAe="Collapsible",[lut,uAe]=ro(cAe),[cut,nte]=lut(cAe),uut=O.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:o,onOpenChange:s,...a}=e,[l=!1,c]=Vo({prop:r,defaultProp:i,onChange:s});return O.createElement(cut,{scope:n,disabled:o,contentId:Rl(),open:l,onOpenToggle:O.useCallback(()=>c(u=>!u),[c])},O.createElement(Ot.div,le({"data-state":rte(l),"data-disabled":o?"":void 0},a,{ref:t})))}),fut="CollapsibleTrigger",dut=O.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=nte(fut,n);return O.createElement(Ot.button,le({type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":rte(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled},r,{ref:t,onClick:qe(e.onClick,i.onOpenToggle)}))}),fAe="CollapsibleContent",hut=O.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=nte(fAe,e.__scopeCollapsible);return O.createElement(zs,{present:n||i.open},({present:o})=>O.createElement(put,le({},r,{ref:t,present:o})))}),put=O.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...o}=e,s=nte(fAe,n),[a,l]=O.useState(r),c=O.useRef(null),u=Xt(t,c),f=O.useRef(0),d=f.current,h=O.useRef(0),p=h.current,g=s.open||a,y=O.useRef(g),v=O.useRef();return O.useEffect(()=>{const x=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(x)},[]),Ca(()=>{const x=c.current;if(x){v.current=v.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const m=x.getBoundingClientRect();f.current=m.height,h.current=m.width,y.current||(x.style.transitionDuration=v.current.transitionDuration,x.style.animationName=v.current.animationName),l(r)}},[s.open,r]),O.createElement(Ot.div,le({"data-state":rte(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!g},o,{ref:u,style:{"--radix-collapsible-content-height":d?`${d}px`:void 0,"--radix-collapsible-content-width":p?`${p}px`:void 0,...e.style}}),g&&i)});function rte(e){return e?"open":"closed"}const gut=uut,mut=dut,yut=hut,vut=O.createContext(void 0);function zb(e){const t=O.useContext(vut);return e||t||"ltr"}const C0="Accordion",but=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[ite,Out,xut]=I_(C0),[s4,iQn]=ro(C0,[xut,uAe]),ote=uAe(),ste=ie.forwardRef((e,t)=>{const{type:n,...r}=e,i=r,o=r;return ie.createElement(ite.Provider,{scope:e.__scopeAccordion},n==="multiple"?ie.createElement(Cut,le({},o,{ref:t})):ie.createElement(_ut,le({},i,{ref:t})))});ste.propTypes={type(e){const t=e.value||e.defaultValue;return e.type&&!["single","multiple"].includes(e.type)?new Error("Invalid prop `type` supplied to `Accordion`. Expected one of `single | multiple`."):e.type==="multiple"&&typeof t=="string"?new Error("Invalid prop `type` supplied to `Accordion`. Expected `single` when `defaultValue` or `value` is type `string`."):e.type==="single"&&Array.isArray(t)?new Error("Invalid prop `type` supplied to `Accordion`. Expected `multiple` when `defaultValue` or `value` is type `string[]`."):null}};const[dAe,wut]=s4(C0),[hAe,Sut]=s4(C0,{collapsible:!1}),_ut=ie.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:o=!1,...s}=e,[a,l]=Vo({prop:n,defaultProp:r,onChange:i});return ie.createElement(dAe,{scope:e.__scopeAccordion,value:a?[a]:[],onItemOpen:l,onItemClose:ie.useCallback(()=>o&&l(""),[o,l])},ie.createElement(hAe,{scope:e.__scopeAccordion,collapsible:o},ie.createElement(pAe,le({},s,{ref:t}))))}),Cut=ie.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...o}=e,[s=[],a]=Vo({prop:n,defaultProp:r,onChange:i}),l=ie.useCallback(u=>a((f=[])=>[...f,u]),[a]),c=ie.useCallback(u=>a((f=[])=>f.filter(d=>d!==u)),[a]);return ie.createElement(dAe,{scope:e.__scopeAccordion,value:s,onItemOpen:l,onItemClose:c},ie.createElement(hAe,{scope:e.__scopeAccordion,collapsible:!0},ie.createElement(pAe,le({},o,{ref:t}))))}),[$ut,a4]=s4(C0),pAe=ie.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:o="vertical",...s}=e,a=ie.useRef(null),l=Xt(a,t),c=Out(n),f=zb(i)==="ltr",d=qe(e.onKeyDown,h=>{var p;if(!but.includes(h.key))return;const g=h.target,y=c().filter(R=>{var N;return!((N=R.ref.current)!==null&&N!==void 0&&N.disabled)}),v=y.findIndex(R=>R.ref.current===g),x=y.length;if(v===-1)return;h.preventDefault();let m=v;const w=0,S=x-1,C=()=>{m=v+1,m>S&&(m=w)},$=()=>{m=v-1,m<w&&(m=S)};switch(h.key){case"Home":m=w;break;case"End":m=S;break;case"ArrowRight":o==="horizontal"&&(f?C():$());break;case"ArrowDown":o==="vertical"&&C();break;case"ArrowLeft":o==="horizontal"&&(f?$():C());break;case"ArrowUp":o==="vertical"&&$();break}const E=m%x;(p=y[E].ref.current)===null||p===void 0||p.focus()});return ie.createElement($ut,{scope:n,disabled:r,direction:i,orientation:o},ie.createElement(ite.Slot,{scope:n},ie.createElement(Ot.div,le({},s,{"data-orientation":o,ref:l,onKeyDown:r?void 0:d}))))}),tY="AccordionItem",[Eut,ate]=s4(tY),gAe=ie.forwardRef((e,t)=>{const{__scopeAccordion:n,value:r,...i}=e,o=a4(tY,n),s=wut(tY,n),a=ote(n),l=Rl(),c=r&&s.value.includes(r)||!1,u=o.disabled||e.disabled;return ie.createElement(Eut,{scope:n,open:c,disabled:u,triggerId:l},ie.createElement(gut,le({"data-orientation":o.orientation,"data-state":vAe(c)},a,i,{ref:t,disabled:u,open:c,onOpenChange:f=>{f?s.onItemOpen(r):s.onItemClose(r)}})))}),kut="AccordionHeader",Tut=ie.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,i=a4(C0,n),o=ate(kut,n);return ie.createElement(Ot.h3,le({"data-orientation":i.orientation,"data-state":vAe(o.open),"data-disabled":o.disabled?"":void 0},r,{ref:t}))}),Vpe="AccordionTrigger",mAe=ie.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,i=a4(C0,n),o=ate(Vpe,n),s=Sut(Vpe,n),a=ote(n);return ie.createElement(ite.ItemSlot,{scope:n},ie.createElement(mut,le({"aria-disabled":o.open&&!s.collapsible||void 0,"data-orientation":i.orientation,id:o.triggerId},a,r,{ref:t})))}),Put="AccordionContent",yAe=ie.forwardRef((e,t)=>{const{__scopeAccordion:n,...r}=e,i=a4(C0,n),o=ate(Put,n),s=ote(n);return ie.createElement(yut,le({role:"region","aria-labelledby":o.triggerId,"data-orientation":i.orientation},s,r,{ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}}))});function vAe(e){return e?"open":"closed"}const Rut=ste,Aut=gAe,Dut=Tut,bAe=mAe,OAe=yAe,Nut={black:"#000",white:"#fff"},IT=Nut,Mut={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},EO=Mut,Iut={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},kO=Iut,Lut={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},TO=Lut,jut={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},PO=jut,Fut={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},RO=Fut,zut={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},KC=zut,Qut={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},But=Qut;function Pv(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function xAe(e){if(!Pv(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=xAe(e[n])}),t}function Up(e,t,n={clone:!0}){const r=n.clone?le({},e):e;return Pv(e)&&Pv(t)&&Object.keys(t).forEach(i=>{i!=="__proto__"&&(Pv(t[i])&&i in e&&Pv(e[i])?r[i]=Up(e[i],t[i],n):n.clone?r[i]=Pv(t[i])?xAe(t[i]):t[i]:r[i]=t[i])}),r}var wAe={exports:{}},Wut="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Vut=Wut,Uut=Vut;function SAe(){}function _Ae(){}_Ae.resetWarningCache=SAe;var qut=function(){function e(r,i,o,s,a,l){if(l!==Uut){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:_Ae,resetWarningCache:SAe};return n.PropTypes=n,n};wAe.exports=qut();var kg=wAe.exports;const gr=Uu(kg);function Q1(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function Mf(e){if(typeof e!="string")throw new Error(Q1(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Yut(e,t=166){let n;function r(...i){const o=()=>{e.apply(this,i)};clearTimeout(n),n=setTimeout(o,t)}return r.clear=()=>{clearTimeout(n)},r}function Xut(e){return e&&e.ownerDocument||document}function Upe(e){return Xut(e).defaultView||window}function Hut(e,t){typeof e=="function"?e(t):e&&(e.current=t)}const Zut=typeof window<"u"?O.useLayoutEffect:O.useEffect,lte=Zut;function CAe(...e){return O.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{Hut(n,t)})},e)}function $Ae(e,t){const n=le({},t);return Object.keys(e).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=le({},e[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=e[r]||{},o=t[r];n[r]={},!o||!Object.keys(o)?n[r]=i:!i||!Object.keys(i)?n[r]=o:(n[r]=le({},o),Object.keys(i).forEach(s=>{n[r][s]=$Ae(i[s],o[s])}))}else n[r]===void 0&&(n[r]=e[r])}),n}function cte(e,t,n=void 0){const r={};return Object.keys(e).forEach(i=>{r[i]=e[i].reduce((o,s)=>{if(s){const a=t(s);a!==""&&o.push(a),n&&n[s]&&o.push(n[s])}return o},[]).join(" ")}),r}const qpe=e=>e,Gut=()=>{let e=qpe;return{configure(t){e=t},generate(t){return e(t)},reset(){e=qpe}}},Kut=Gut(),EAe=Kut,Jut={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function l4(e,t,n="Mui"){const r=Jut[t];return r?`${n}-${r}`:`${EAe.generate(e)}-${t}`}function ute(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=l4(e,i,n)}),r}const iS="$$material";function ka(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function kAe(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var eft=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,tft=kAe(function(e){return eft.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function nft(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function rft(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var ift=function(){function e(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(rft(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=nft(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},e}(),Gs="-ms-",I5="-moz-",rr="-webkit-",TAe="comm",fte="rule",dte="decl",oft="@import",PAe="@keyframes",sft="@layer",aft=Math.abs,c4=String.fromCharCode,lft=Object.assign;function cft(e,t){return ws(e,0)^45?(((t<<2^ws(e,0))<<2^ws(e,1))<<2^ws(e,2))<<2^ws(e,3):0}function RAe(e){return e.trim()}function uft(e,t){return(e=t.exec(e))?e[0]:e}function ir(e,t,n){return e.replace(t,n)}function nY(e,t){return e.indexOf(t)}function ws(e,t){return e.charCodeAt(t)|0}function LT(e,t,n){return e.slice(t,n)}function Fd(e){return e.length}function hte(e){return e.length}function iD(e,t){return t.push(e),e}function fft(e,t){return e.map(t).join("")}var u4=1,oS=1,AAe=0,zl=0,po=0,L_="";function f4(e,t,n,r,i,o,s){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:u4,column:oS,length:s,return:""}}function JC(e,t){return lft(f4("",null,null,"",null,null,0),e,{length:-e.length},t)}function dft(){return po}function hft(){return po=zl>0?ws(L_,--zl):0,oS--,po===10&&(oS=1,u4--),po}function Ac(){return po=zl<AAe?ws(L_,zl++):0,oS++,po===10&&(oS=1,u4++),po}function sh(){return ws(L_,zl)}function IM(){return zl}function QP(e,t){return LT(L_,e,t)}function jT(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function DAe(e){return u4=oS=1,AAe=Fd(L_=e),zl=0,[]}function NAe(e){return L_="",e}function LM(e){return RAe(QP(zl-1,rY(e===91?e+2:e===40?e+1:e)))}function pft(e){for(;(po=sh())&&po<33;)Ac();return jT(e)>2||jT(po)>3?"":" "}function gft(e,t){for(;--t&&Ac()&&!(po<48||po>102||po>57&&po<65||po>70&&po<97););return QP(e,IM()+(t<6&&sh()==32&&Ac()==32))}function rY(e){for(;Ac();)switch(po){case e:return zl;case 34:case 39:e!==34&&e!==39&&rY(po);break;case 40:e===41&&rY(e);break;case 92:Ac();break}return zl}function mft(e,t){for(;Ac()&&e+po!==57;)if(e+po===84&&sh()===47)break;return"/*"+QP(t,zl-1)+"*"+c4(e===47?e:Ac())}function yft(e){for(;!jT(sh());)Ac();return QP(e,zl)}function vft(e){return NAe(jM("",null,null,null,[""],e=DAe(e),0,[0],e))}function jM(e,t,n,r,i,o,s,a,l){for(var c=0,u=0,f=s,d=0,h=0,p=0,g=1,y=1,v=1,x=0,m="",w=i,S=o,C=r,$=m;y;)switch(p=x,x=Ac()){case 40:if(p!=108&&ws($,f-1)==58){nY($+=ir(LM(x),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:$+=LM(x);break;case 9:case 10:case 13:case 32:$+=pft(p);break;case 92:$+=gft(IM()-1,7);continue;case 47:switch(sh()){case 42:case 47:iD(bft(mft(Ac(),IM()),t,n),l);break;default:$+="/"}break;case 123*g:a[c++]=Fd($)*v;case 125*g:case 59:case 0:switch(x){case 0:case 125:y=0;case 59+u:v==-1&&($=ir($,/\f/g,"")),h>0&&Fd($)-f&&iD(h>32?Xpe($+";",r,n,f-1):Xpe(ir($," ","")+";",r,n,f-2),l);break;case 59:$+=";";default:if(iD(C=Ype($,t,n,c,u,i,a,m,w=[],S=[],f),o),x===123)if(u===0)jM($,t,C,C,w,o,f,a,S);else switch(d===99&&ws($,3)===110?100:d){case 100:case 108:case 109:case 115:jM(e,C,C,r&&iD(Ype(e,C,C,0,0,i,a,m,i,w=[],f),S),i,S,f,a,r?w:S);break;default:jM($,C,C,C,[""],S,0,a,S)}}c=u=h=0,g=v=1,m=$="",f=s;break;case 58:f=1+Fd($),h=p;default:if(g<1){if(x==123)--g;else if(x==125&&g++==0&&hft()==125)continue}switch($+=c4(x),x*g){case 38:v=u>0?1:($+="\f",-1);break;case 44:a[c++]=(Fd($)-1)*v,v=1;break;case 64:sh()===45&&($+=LM(Ac())),d=sh(),u=f=Fd(m=$+=yft(IM())),x++;break;case 45:p===45&&Fd($)==2&&(g=0)}}return o}function Ype(e,t,n,r,i,o,s,a,l,c,u){for(var f=i-1,d=i===0?o:[""],h=hte(d),p=0,g=0,y=0;p<r;++p)for(var v=0,x=LT(e,f+1,f=aft(g=s[p])),m=e;v<h;++v)(m=RAe(g>0?d[v]+" "+x:ir(x,/&\f/g,d[v])))&&(l[y++]=m);return f4(e,t,n,i===0?fte:a,l,c,u)}function bft(e,t,n){return f4(e,t,n,TAe,c4(dft()),LT(e,2,-2),0)}function Xpe(e,t,n,r){return f4(e,t,n,dte,LT(e,0,r),LT(e,r+1,-1),r)}function gw(e,t){for(var n="",r=hte(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function Oft(e,t,n,r){switch(e.type){case sft:if(e.children.length)break;case oft:case dte:return e.return=e.return||e.value;case TAe:return"";case PAe:return e.return=e.value+"{"+gw(e.children,r)+"}";case fte:e.value=e.props.join(",")}return Fd(n=gw(e.children,r))?e.return=e.value+"{"+n+"}":""}function xft(e){var t=hte(e);return function(n,r,i,o){for(var s="",a=0;a<t;a++)s+=e[a](n,r,i,o)||"";return s}}function wft(e){return function(t){t.root||(t=t.return)&&e(t)}}var Sft=function(t,n,r){for(var i=0,o=0;i=o,o=sh(),i===38&&o===12&&(n[r]=1),!jT(o);)Ac();return QP(t,zl)},_ft=function(t,n){var r=-1,i=44;do switch(jT(i)){case 0:i===38&&sh()===12&&(n[r]=1),t[r]+=Sft(zl-1,n,r);break;case 2:t[r]+=LM(i);break;case 4:if(i===44){t[++r]=sh()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=c4(i)}while(i=Ac());return t},Cft=function(t,n){return NAe(_ft(DAe(t),n))},Hpe=new WeakMap,$ft=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!Hpe.get(r))&&!i){Hpe.set(t,!0);for(var o=[],s=Cft(n,o),a=r.props,l=0,c=0;l<s.length;l++)for(var u=0;u<a.length;u++,c++)t.props[c]=o[l]?s[l].replace(/&\f/g,a[u]):a[u]+" "+s[l]}}},Eft=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function MAe(e,t){switch(cft(e,t)){case 5103:return rr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return rr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return rr+e+I5+e+Gs+e+e;case 6828:case 4268:return rr+e+Gs+e+e;case 6165:return rr+e+Gs+"flex-"+e+e;case 5187:return rr+e+ir(e,/(\w+).+(:[^]+)/,rr+"box-$1$2"+Gs+"flex-$1$2")+e;case 5443:return rr+e+Gs+"flex-item-"+ir(e,/flex-|-self/,"")+e;case 4675:return rr+e+Gs+"flex-line-pack"+ir(e,/align-content|flex-|-self/,"")+e;case 5548:return rr+e+Gs+ir(e,"shrink","negative")+e;case 5292:return rr+e+Gs+ir(e,"basis","preferred-size")+e;case 6060:return rr+"box-"+ir(e,"-grow","")+rr+e+Gs+ir(e,"grow","positive")+e;case 4554:return rr+ir(e,/([^-])(transform)/g,"$1"+rr+"$2")+e;case 6187:return ir(ir(ir(e,/(zoom-|grab)/,rr+"$1"),/(image-set)/,rr+"$1"),e,"")+e;case 5495:case 3959:return ir(e,/(image-set\([^]*)/,rr+"$1$`$1");case 4968:return ir(ir(e,/(.+:)(flex-)?(.*)/,rr+"box-pack:$3"+Gs+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+rr+e+e;case 4095:case 3583:case 4068:case 2532:return ir(e,/(.+)-inline(.+)/,rr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Fd(e)-1-t>6)switch(ws(e,t+1)){case 109:if(ws(e,t+4)!==45)break;case 102:return ir(e,/(.+:)(.+)-([^]+)/,"$1"+rr+"$2-$3$1"+I5+(ws(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~nY(e,"stretch")?MAe(ir(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(ws(e,t+1)!==115)break;case 6444:switch(ws(e,Fd(e)-3-(~nY(e,"!important")&&10))){case 107:return ir(e,":",":"+rr)+e;case 101:return ir(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+rr+(ws(e,14)===45?"inline-":"")+"box$3$1"+rr+"$2$3$1"+Gs+"$2box$3")+e}break;case 5936:switch(ws(e,t+11)){case 114:return rr+e+Gs+ir(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return rr+e+Gs+ir(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return rr+e+Gs+ir(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return rr+e+Gs+e+e}return e}var kft=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case dte:t.return=MAe(t.value,t.length);break;case PAe:return gw([JC(t,{value:ir(t.value,"@","@"+rr)})],i);case fte:if(t.length)return fft(t.props,function(o){switch(uft(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return gw([JC(t,{props:[ir(o,/:(read-\w+)/,":"+I5+"$1")]})],i);case"::placeholder":return gw([JC(t,{props:[ir(o,/:(plac\w+)/,":"+rr+"input-$1")]}),JC(t,{props:[ir(o,/:(plac\w+)/,":"+I5+"$1")]}),JC(t,{props:[ir(o,/:(plac\w+)/,Gs+"input-$1")]})],i)}return""})}},Tft=[kft],iY=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var y=g.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=t.stylisPlugins||Tft,o={},s,a=[];s=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var y=g.getAttribute("data-emotion").split(" "),v=1;v<y.length;v++)o[y[v]]=!0;a.push(g)});var l,c=[$ft,Eft];{var u,f=[Oft,wft(function(g){u.insert(g)})],d=xft(c.concat(i,f)),h=function(y){return gw(vft(y),d)};l=function(y,v,x,m){u=x,h(y?y+"{"+v.styles+"}":v.styles),m&&(p.inserted[v.name]=!0)}}var p={key:n,sheet:new ift({key:n,container:s,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:l};return p.sheet.hydrate(a),p},IAe={exports:{}},Or={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ds=typeof Symbol=="function"&&Symbol.for,pte=ds?Symbol.for("react.element"):60103,gte=ds?Symbol.for("react.portal"):60106,d4=ds?Symbol.for("react.fragment"):60107,h4=ds?Symbol.for("react.strict_mode"):60108,p4=ds?Symbol.for("react.profiler"):60114,g4=ds?Symbol.for("react.provider"):60109,m4=ds?Symbol.for("react.context"):60110,mte=ds?Symbol.for("react.async_mode"):60111,y4=ds?Symbol.for("react.concurrent_mode"):60111,v4=ds?Symbol.for("react.forward_ref"):60112,b4=ds?Symbol.for("react.suspense"):60113,Pft=ds?Symbol.for("react.suspense_list"):60120,O4=ds?Symbol.for("react.memo"):60115,x4=ds?Symbol.for("react.lazy"):60116,Rft=ds?Symbol.for("react.block"):60121,Aft=ds?Symbol.for("react.fundamental"):60117,Dft=ds?Symbol.for("react.responder"):60118,Nft=ds?Symbol.for("react.scope"):60119;function qc(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case pte:switch(e=e.type,e){case mte:case y4:case d4:case p4:case h4:case b4:return e;default:switch(e=e&&e.$$typeof,e){case m4:case v4:case x4:case O4:case g4:return e;default:return t}}case gte:return t}}}function LAe(e){return qc(e)===y4}Or.AsyncMode=mte;Or.ConcurrentMode=y4;Or.ContextConsumer=m4;Or.ContextProvider=g4;Or.Element=pte;Or.ForwardRef=v4;Or.Fragment=d4;Or.Lazy=x4;Or.Memo=O4;Or.Portal=gte;Or.Profiler=p4;Or.StrictMode=h4;Or.Suspense=b4;Or.isAsyncMode=function(e){return LAe(e)||qc(e)===mte};Or.isConcurrentMode=LAe;Or.isContextConsumer=function(e){return qc(e)===m4};Or.isContextProvider=function(e){return qc(e)===g4};Or.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===pte};Or.isForwardRef=function(e){return qc(e)===v4};Or.isFragment=function(e){return qc(e)===d4};Or.isLazy=function(e){return qc(e)===x4};Or.isMemo=function(e){return qc(e)===O4};Or.isPortal=function(e){return qc(e)===gte};Or.isProfiler=function(e){return qc(e)===p4};Or.isStrictMode=function(e){return qc(e)===h4};Or.isSuspense=function(e){return qc(e)===b4};Or.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===d4||e===y4||e===p4||e===h4||e===b4||e===Pft||typeof e=="object"&&e!==null&&(e.$$typeof===x4||e.$$typeof===O4||e.$$typeof===g4||e.$$typeof===m4||e.$$typeof===v4||e.$$typeof===Aft||e.$$typeof===Dft||e.$$typeof===Nft||e.$$typeof===Rft)};Or.typeOf=qc;IAe.exports=Or;var Mft=IAe.exports,jAe=Mft,Ift={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Lft={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},FAe={};FAe[jAe.ForwardRef]=Ift;FAe[jAe.Memo]=Lft;var jft=!0;function Fft(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):r+=i+" "}),r}var zAe=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||jft===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},QAe=function(t,n,r){zAe(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var o=n;do t.insert(n===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function zft(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Qft={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Bft=/[A-Z]|^ms/g,Wft=/_EMO_([^_]+?)_([^]*?)_EMO_/g,BAe=function(t){return t.charCodeAt(1)===45},Zpe=function(t){return t!=null&&typeof t!="boolean"},SQ=kAe(function(e){return BAe(e)?e:e.replace(Bft,"-$&").toLowerCase()}),Gpe=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(Wft,function(r,i,o){return zd={name:i,styles:o,next:zd},i})}return Qft[t]!==1&&!BAe(t)&&typeof n=="number"&&n!==0?n+"px":n};function FT(e,t,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return zd={name:n.name,styles:n.styles,next:zd},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)zd={name:r.name,styles:r.styles,next:zd},r=r.next;var i=n.styles+";";return i}return Vft(e,t,n)}case"function":{if(e!==void 0){var o=zd,s=n(e);return zd=o,FT(e,t,s)}break}}if(t==null)return n;var a=t[n];return a!==void 0?a:n}function Vft(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=FT(e,t,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object")t!=null&&t[s]!==void 0?r+=o+"{"+t[s]+"}":Zpe(s)&&(r+=SQ(o)+":"+Gpe(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(t==null||t[s[0]]===void 0))for(var a=0;a<s.length;a++)Zpe(s[a])&&(r+=SQ(o)+":"+Gpe(o,s[a])+";");else{var l=FT(e,t,s);switch(o){case"animation":case"animationName":{r+=SQ(o)+":"+l+";";break}default:r+=o+"{"+l+"}"}}}return r}var Kpe=/label:\s*([^\s;\n{]+)\s*(;|$)/g,zd,WAe=function(t,n,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";zd=void 0;var s=t[0];s==null||s.raw===void 0?(i=!1,o+=FT(r,n,s)):o+=s[0];for(var a=1;a<t.length;a++)o+=FT(r,n,t[a]),i&&(o+=s[a]);Kpe.lastIndex=0;for(var l="",c;(c=Kpe.exec(o))!==null;)l+="-"+c[1];var u=zft(o)+l;return{name:u,styles:o,next:zd}},Uft=function(t){return t()},VAe=Xw.useInsertionEffect?Xw.useInsertionEffect:!1,qft=VAe||Uft,Jpe=VAe||O.useLayoutEffect,UAe=O.createContext(typeof HTMLElement<"u"?iY({key:"css"}):null),Yft=UAe.Provider,qAe=function(t){return O.forwardRef(function(n,r){var i=O.useContext(UAe);return t(n,i,r)})},w4=O.createContext({}),Xft=qAe(function(e,t){var n=e.styles,r=WAe([n],void 0,O.useContext(w4)),i=O.useRef();return Jpe(function(){var o=t.key+"-global",s=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return t.sheet.tags.length&&(s.before=t.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[t]),Jpe(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&QAe(t,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}t.insert("",r,s,!1)},[t,r.name]),null}),Hft=tft,Zft=function(t){return t!=="theme"},ege=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?Hft:Zft},tge=function(t,n,r){var i;if(n){var o=n.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(s){return t.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},Gft=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return zAe(n,r,i),qft(function(){return QAe(n,r,i)}),null},Kft=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,o,s;n!==void 0&&(o=n.label,s=n.target);var a=tge(t,n,r),l=a||ege(i),c=!l("as");return function(){var u=arguments,f=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&f.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)f.push.apply(f,u);else{f.push(u[0][0]);for(var d=u.length,h=1;h<d;h++)f.push(u[h],u[0][h])}var p=qAe(function(g,y,v){var x=c&&g.as||i,m="",w=[],S=g;if(g.theme==null){S={};for(var C in g)S[C]=g[C];S.theme=O.useContext(w4)}typeof g.className=="string"?m=Fft(y.registered,w,g.className):g.className!=null&&(m=g.className+" ");var $=WAe(f.concat(w),y.registered,S);m+=y.key+"-"+$.name,s!==void 0&&(m+=" "+s);var E=c&&a===void 0?ege(x):l,R={};for(var N in g)c&&N==="as"||E(N)&&(R[N]=g[N]);return R.className=m,R.ref=v,O.createElement(O.Fragment,null,O.createElement(Gft,{cache:y,serialized:$,isStringTag:typeof x=="string"}),O.createElement(x,R))});return p.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=t.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=f,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return"."+s}}),p.withComponent=function(g,y){return e(g,le({},n,y,{shouldForwardProp:tge(p,y,!0)})).apply(void 0,f)},p}},Jft=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],oY=Kft.bind();Jft.forEach(function(e){oY[e]=oY(e)});function edt(e){return e==null||Object.keys(e).length===0}function tdt(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(edt(i)?n:i):t;return b.jsx(Xft,{styles:r})}/**
 * @mui/styled-engine v5.13.2
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function YAe(e,t){return oY(e,t)}const ndt=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},rdt=["values","unit","step"],idt=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>le({},n,{[r.key]:r.val}),{})};function odt(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=ka(e,rdt),o=idt(t),s=Object.keys(o);function a(d){return`@media (min-width:${typeof t[d]=="number"?t[d]:d}${n})`}function l(d){return`@media (max-width:${(typeof t[d]=="number"?t[d]:d)-r/100}${n})`}function c(d,h){const p=s.indexOf(h);return`@media (min-width:${typeof t[d]=="number"?t[d]:d}${n}) and (max-width:${(p!==-1&&typeof t[s[p]]=="number"?t[s[p]]:h)-r/100}${n})`}function u(d){return s.indexOf(d)+1<s.length?c(d,s[s.indexOf(d)+1]):a(d)}function f(d){const h=s.indexOf(d);return h===0?a(s[1]):h===s.length-1?l(s[h]):c(d,s[s.indexOf(d)+1]).replace("@media","@media not all and")}return le({keys:s,values:o,up:a,down:l,between:c,only:u,not:f,unit:n},i)}const sdt={borderRadius:4},adt=sdt;function lk(e,t){return t?Up(e,t,{clone:!1}):e}const yte={xs:0,sm:600,md:900,lg:1200,xl:1536},nge={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${yte[e]}px)`};function ug(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const o=r.breakpoints||nge;return t.reduce((s,a,l)=>(s[o.up(o.keys[l])]=n(t[l]),s),{})}if(typeof t=="object"){const o=r.breakpoints||nge;return Object.keys(t).reduce((s,a)=>{if(Object.keys(o.values||yte).indexOf(a)!==-1){const l=o.up(a);s[l]=n(t[a],a)}else{const l=a;s[l]=t[l]}return s},{})}return n(t)}function ldt(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((r,i)=>{const o=e.up(i);return r[o]={},r},{}))||{}}function cdt(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function S4(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function L5(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=S4(e,n)||r,t&&(i=t(i,r,e)),i}function pr(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,o=s=>{if(s[t]==null)return null;const a=s[t],l=s.theme,c=S4(l,r)||{};return ug(s,a,f=>{let d=L5(c,i,f);return f===d&&typeof f=="string"&&(d=L5(c,i,`${t}${f==="default"?"":Mf(f)}`,f)),n===!1?d:{[n]:d}})};return o.propTypes={},o.filterProps=[t],o}function udt(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const fdt={m:"margin",p:"padding"},ddt={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},rge={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},hdt=udt(e=>{if(e.length>2)if(rge[e])e=rge[e];else return[e];const[t,n]=e.split(""),r=fdt[t],i=ddt[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),vte=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],bte=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...vte,...bte];function BP(e,t,n,r){var i;const o=(i=S4(e,t,!1))!=null?i:n;return typeof o=="number"?s=>typeof s=="string"?s:o*s:Array.isArray(o)?s=>typeof s=="string"?s:o[s]:typeof o=="function"?o:()=>{}}function XAe(e){return BP(e,"spacing",8)}function WP(e,t){if(typeof t=="string"||t==null)return t;const n=Math.abs(t),r=e(n);return t>=0?r:typeof r=="number"?-r:`-${r}`}function pdt(e,t){return n=>e.reduce((r,i)=>(r[i]=WP(t,n),r),{})}function gdt(e,t,n,r){if(t.indexOf(n)===-1)return null;const i=hdt(n),o=pdt(i,r),s=e[n];return ug(e,s,o)}function HAe(e,t){const n=XAe(e.theme);return Object.keys(e).map(r=>gdt(e,t,r,n)).reduce(lk,{})}function Ni(e){return HAe(e,vte)}Ni.propTypes={};Ni.filterProps=vte;function Mi(e){return HAe(e,bte)}Mi.propTypes={};Mi.filterProps=bte;function mdt(e=8){if(e.mui)return e;const t=XAe({spacing:e}),n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=t(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function _4(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>t[o]?lk(i,t[o](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Ud(e){return typeof e!="number"?e:`${e}px solid`}const ydt=pr({prop:"border",themeKey:"borders",transform:Ud}),vdt=pr({prop:"borderTop",themeKey:"borders",transform:Ud}),bdt=pr({prop:"borderRight",themeKey:"borders",transform:Ud}),Odt=pr({prop:"borderBottom",themeKey:"borders",transform:Ud}),xdt=pr({prop:"borderLeft",themeKey:"borders",transform:Ud}),wdt=pr({prop:"borderColor",themeKey:"palette"}),Sdt=pr({prop:"borderTopColor",themeKey:"palette"}),_dt=pr({prop:"borderRightColor",themeKey:"palette"}),Cdt=pr({prop:"borderBottomColor",themeKey:"palette"}),$dt=pr({prop:"borderLeftColor",themeKey:"palette"}),C4=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=BP(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:WP(t,r)});return ug(e,e.borderRadius,n)}return null};C4.propTypes={};C4.filterProps=["borderRadius"];_4(ydt,vdt,bdt,Odt,xdt,wdt,Sdt,_dt,Cdt,$dt,C4);const $4=e=>{if(e.gap!==void 0&&e.gap!==null){const t=BP(e.theme,"spacing",8),n=r=>({gap:WP(t,r)});return ug(e,e.gap,n)}return null};$4.propTypes={};$4.filterProps=["gap"];const E4=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=BP(e.theme,"spacing",8),n=r=>({columnGap:WP(t,r)});return ug(e,e.columnGap,n)}return null};E4.propTypes={};E4.filterProps=["columnGap"];const k4=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=BP(e.theme,"spacing",8),n=r=>({rowGap:WP(t,r)});return ug(e,e.rowGap,n)}return null};k4.propTypes={};k4.filterProps=["rowGap"];const Edt=pr({prop:"gridColumn"}),kdt=pr({prop:"gridRow"}),Tdt=pr({prop:"gridAutoFlow"}),Pdt=pr({prop:"gridAutoColumns"}),Rdt=pr({prop:"gridAutoRows"}),Adt=pr({prop:"gridTemplateColumns"}),Ddt=pr({prop:"gridTemplateRows"}),Ndt=pr({prop:"gridTemplateAreas"}),Mdt=pr({prop:"gridArea"});_4($4,E4,k4,Edt,kdt,Tdt,Pdt,Rdt,Adt,Ddt,Ndt,Mdt);function mw(e,t){return t==="grey"?t:e}const Idt=pr({prop:"color",themeKey:"palette",transform:mw}),Ldt=pr({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:mw}),jdt=pr({prop:"backgroundColor",themeKey:"palette",transform:mw});_4(Idt,Ldt,jdt);function Oc(e){return e<=1&&e!==0?`${e*100}%`:e}const Fdt=pr({prop:"width",transform:Oc}),Ote=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var r,i,o;return{maxWidth:((r=e.theme)==null||(i=r.breakpoints)==null||(o=i.values)==null?void 0:o[n])||yte[n]||Oc(n)}};return ug(e,e.maxWidth,t)}return null};Ote.filterProps=["maxWidth"];const zdt=pr({prop:"minWidth",transform:Oc}),Qdt=pr({prop:"height",transform:Oc}),Bdt=pr({prop:"maxHeight",transform:Oc}),Wdt=pr({prop:"minHeight",transform:Oc});pr({prop:"size",cssProperty:"width",transform:Oc});pr({prop:"size",cssProperty:"height",transform:Oc});const Vdt=pr({prop:"boxSizing"});_4(Fdt,Ote,zdt,Qdt,Bdt,Wdt,Vdt);const Udt={border:{themeKey:"borders",transform:Ud},borderTop:{themeKey:"borders",transform:Ud},borderRight:{themeKey:"borders",transform:Ud},borderBottom:{themeKey:"borders",transform:Ud},borderLeft:{themeKey:"borders",transform:Ud},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:C4},color:{themeKey:"palette",transform:mw},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:mw},backgroundColor:{themeKey:"palette",transform:mw},p:{style:Mi},pt:{style:Mi},pr:{style:Mi},pb:{style:Mi},pl:{style:Mi},px:{style:Mi},py:{style:Mi},padding:{style:Mi},paddingTop:{style:Mi},paddingRight:{style:Mi},paddingBottom:{style:Mi},paddingLeft:{style:Mi},paddingX:{style:Mi},paddingY:{style:Mi},paddingInline:{style:Mi},paddingInlineStart:{style:Mi},paddingInlineEnd:{style:Mi},paddingBlock:{style:Mi},paddingBlockStart:{style:Mi},paddingBlockEnd:{style:Mi},m:{style:Ni},mt:{style:Ni},mr:{style:Ni},mb:{style:Ni},ml:{style:Ni},mx:{style:Ni},my:{style:Ni},margin:{style:Ni},marginTop:{style:Ni},marginRight:{style:Ni},marginBottom:{style:Ni},marginLeft:{style:Ni},marginX:{style:Ni},marginY:{style:Ni},marginInline:{style:Ni},marginInlineStart:{style:Ni},marginInlineEnd:{style:Ni},marginBlock:{style:Ni},marginBlockStart:{style:Ni},marginBlockEnd:{style:Ni},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:$4},rowGap:{style:k4},columnGap:{style:E4},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Oc},maxWidth:{style:Ote},minWidth:{transform:Oc},height:{transform:Oc},maxHeight:{transform:Oc},minHeight:{transform:Oc},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},T4=Udt;function qdt(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function Ydt(e,t){return typeof e=="function"?e(t):e}function Xdt(){function e(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:u,style:f}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const d=S4(i,c)||{};return f?f(s):ug(s,r,p=>{let g=L5(d,u,p);return p===g&&typeof p=="string"&&(g=L5(d,u,`${n}${p==="default"?"":Mf(p)}`,p)),l===!1?g:{[l]:g}})}function t(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const s=(r=o.unstable_sxConfig)!=null?r:T4;function a(l){let c=l;if(typeof l=="function")c=l(o);else if(typeof l!="object")return l;if(!c)return null;const u=ldt(o.breakpoints),f=Object.keys(u);let d=u;return Object.keys(c).forEach(h=>{const p=Ydt(c[h],o);if(p!=null)if(typeof p=="object")if(s[h])d=lk(d,e(h,p,o,s));else{const g=ug({theme:o},p,y=>({[h]:y}));qdt(g,p)?d[h]=t({sx:p,theme:o}):d=lk(d,g)}else d=lk(d,e(h,p,o,s))}),cdt(f,d)}return Array.isArray(i)?i.map(a):a(i)}return t}const ZAe=Xdt();ZAe.filterProps=["sx"];const P4=ZAe,Hdt=["breakpoints","palette","spacing","shape"];function xte(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:o={}}=e,s=ka(e,Hdt),a=odt(n),l=mdt(i);let c=Up({breakpoints:a,direction:"ltr",components:{},palette:le({mode:"light"},r),spacing:l,shape:le({},adt,o)},s);return c=t.reduce((u,f)=>Up(u,f),c),c.unstable_sxConfig=le({},T4,s==null?void 0:s.unstable_sxConfig),c.unstable_sx=function(f){return P4({sx:f,theme:this})},c}function Zdt(e){return Object.keys(e).length===0}function GAe(e=null){const t=O.useContext(w4);return!t||Zdt(t)?e:t}const Gdt=xte();function wte(e=Gdt){return GAe(e)}function Kdt({styles:e,themeId:t,defaultTheme:n={}}){const r=wte(n),i=typeof e=="function"?e(t&&r[t]||r):e;return b.jsx(tdt,{styles:i})}const Jdt=["sx"],eht=e=>{var t,n;const r={systemProps:{},otherProps:{}},i=(t=e==null||(n=e.theme)==null?void 0:n.unstable_sxConfig)!=null?t:T4;return Object.keys(e).forEach(o=>{i[o]?r.systemProps[o]=e[o]:r.otherProps[o]=e[o]}),r};function tht(e){const{sx:t}=e,n=ka(e,Jdt),{systemProps:r,otherProps:i}=eht(n);let o;return Array.isArray(t)?o=[r,...t]:typeof t=="function"?o=(...s)=>{const a=t(...s);return Pv(a)?le({},r,a):r}:o=le({},r,t),le({},i,{sx:o})}function KAe(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=KAe(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function B1(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=KAe(e))&&(r&&(r+=" "),r+=t);return r}const nht=Object.freeze(Object.defineProperty({__proto__:null,clsx:B1,default:B1},Symbol.toStringTag,{value:"Module"})),rht=["className","component"];function iht(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=e,o=YAe("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(P4);return O.forwardRef(function(l,c){const u=wte(n),f=tht(l),{className:d,component:h="div"}=f,p=ka(f,rht);return b.jsx(o,le({as:h,ref:c,className:B1(d,i?i(r):r),theme:t&&u[t]||u},p))})}const oht=["variant"];function ige(e){return e.length===0}function JAe(e){const{variant:t}=e,n=ka(e,oht);let r=t||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=ige(r)?e[i]:Mf(e[i]):r+=`${ige(r)?i:Mf(i)}${Mf(e[i].toString())}`}),r}const sht=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function aht(e){return Object.keys(e).length===0}function lht(e){return typeof e=="string"&&e.charCodeAt(0)>96}const cht=(e,t)=>t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null,uht=(e,t)=>{let n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);const r={};return n.forEach(i=>{const o=JAe(i.props);r[o]=i.style}),r},fht=(e,t,n,r)=>{var i,o;const{ownerState:s={}}=e,a=[],l=n==null||(i=n.components)==null||(o=i[r])==null?void 0:o.variants;return l&&l.forEach(c=>{let u=!0;Object.keys(c.props).forEach(f=>{s[f]!==c.props[f]&&e[f]!==c.props[f]&&(u=!1)}),u&&a.push(t[JAe(c.props)])}),a};function FM(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const dht=xte();function e$({defaultTheme:e,theme:t,themeId:n}){return aht(t)?e:t[n]||t}function hht(e={}){const{themeId:t,defaultTheme:n=dht,rootShouldForwardProp:r=FM,slotShouldForwardProp:i=FM}=e,o=s=>P4(le({},s,{theme:e$(le({},s,{defaultTheme:n,themeId:t}))}));return o.__mui_systemSx=!0,(s,a={})=>{ndt(s,w=>w.filter(S=>!(S!=null&&S.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:f,overridesResolver:d}=a,h=ka(a,sht),p=u!==void 0?u:c&&c!=="Root"||!1,g=f||!1;let y,v=FM;c==="Root"?v=r:c?v=i:lht(s)&&(v=void 0);const x=YAe(s,le({shouldForwardProp:v,label:y},h)),m=(w,...S)=>{const C=S?S.map(N=>typeof N=="function"&&N.__emotion_real!==N?I=>N(le({},I,{theme:e$(le({},I,{defaultTheme:n,themeId:t}))})):N):[];let $=w;l&&d&&C.push(N=>{const I=e$(le({},N,{defaultTheme:n,themeId:t})),j=cht(l,I);if(j){const A={};return Object.entries(j).forEach(([T,D])=>{A[T]=typeof D=="function"?D(le({},N,{theme:I})):D}),d(N,A)}return null}),l&&!p&&C.push(N=>{const I=e$(le({},N,{defaultTheme:n,themeId:t}));return fht(N,uht(l,I),I,l)}),g||C.push(o);const E=C.length-S.length;if(Array.isArray(w)&&E>0){const N=new Array(E).fill("");$=[...w,...N],$.raw=[...w.raw,...N]}else typeof w=="function"&&w.__emotion_real!==w&&($=N=>w(le({},N,{theme:e$(le({},N,{defaultTheme:n,themeId:t}))})));const R=x($,...C);return s.muiName&&(R.muiName=s.muiName),R};return x.withConfig&&(m.withConfig=x.withConfig),m}}function pht(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:$Ae(t.components[n].defaultProps,r)}function ght({props:e,name:t,defaultTheme:n,themeId:r}){let i=wte(n);return r&&(i=i[r]||i),pht({theme:i,name:t,props:e})}function Ste(e,t=0,n=1){return Math.min(Math.max(t,e),n)}function mht(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function W1(e){if(e.type)return e;if(e.charAt(0)==="#")return W1(mht(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Q1(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Q1(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}function R4(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function yht(e){e=W1(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,o=r*Math.min(i,1-i),s=(c,u=(c+n/30)%12)=>i-o*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return e.type==="hsla"&&(a+="a",l.push(t[3])),R4({type:a,values:l})}function oge(e){e=W1(e);let t=e.type==="hsl"||e.type==="hsla"?W1(yht(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function vht(e,t){const n=oge(e),r=oge(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function sge(e,t){return e=W1(e),t=Ste(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,R4(e)}function bht(e,t){if(e=W1(e),t=Ste(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return R4(e)}function Oht(e,t){if(e=W1(e),t=Ste(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return R4(e)}const xht=O.createContext(null),eDe=xht;function tDe(){return O.useContext(eDe)}const wht=typeof Symbol=="function"&&Symbol.for,Sht=wht?Symbol.for("mui.nested"):"__THEME_NESTED__";function _ht(e,t){return typeof t=="function"?t(e):{...e,...t}}function Cht(e){const{children:t,theme:n}=e,r=tDe(),i=O.useMemo(()=>{const o=r===null?n:_ht(r,n);return o!=null&&(o[Sht]=r!==null),o},[n,r]);return b.jsx(eDe.Provider,{value:i,children:t})}const age={};function lge(e,t,n,r=!1){return O.useMemo(()=>{const i=e&&t[e]||t;if(typeof n=="function"){const o=n(i),s=e?le({},t,{[e]:o}):o;return r?()=>s:s}return e?le({},t,{[e]:n}):le({},t,n)},[e,t,n,r])}function $ht(e){const{children:t,theme:n,themeId:r}=e,i=GAe(age),o=tDe()||age,s=lge(r,i,n),a=lge(r,o,n,!0);return b.jsx(Cht,{theme:a,children:b.jsx(w4.Provider,{value:s,children:t})})}function Eht(e,t){return le({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const kht=["mode","contrastThreshold","tonalOffset"],cge={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:IT.white,default:IT.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},_Q={text:{primary:IT.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:IT.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function uge(e,t,n,r){const i=r.light||r,o=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=Oht(e.main,i):t==="dark"&&(e.dark=bht(e.main,o)))}function Tht(e="light"){return e==="dark"?{main:TO[200],light:TO[50],dark:TO[400]}:{main:TO[700],light:TO[400],dark:TO[800]}}function Pht(e="light"){return e==="dark"?{main:kO[200],light:kO[50],dark:kO[400]}:{main:kO[500],light:kO[300],dark:kO[700]}}function Rht(e="light"){return e==="dark"?{main:EO[500],light:EO[300],dark:EO[700]}:{main:EO[700],light:EO[400],dark:EO[800]}}function Aht(e="light"){return e==="dark"?{main:PO[400],light:PO[300],dark:PO[700]}:{main:PO[700],light:PO[500],dark:PO[900]}}function Dht(e="light"){return e==="dark"?{main:RO[400],light:RO[300],dark:RO[700]}:{main:RO[800],light:RO[500],dark:RO[900]}}function Nht(e="light"){return e==="dark"?{main:KC[400],light:KC[300],dark:KC[700]}:{main:"#ed6c02",light:KC[500],dark:KC[900]}}function Mht(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=ka(e,kht),o=e.primary||Tht(t),s=e.secondary||Pht(t),a=e.error||Rht(t),l=e.info||Aht(t),c=e.success||Dht(t),u=e.warning||Nht(t);function f(g){return vht(g,_Q.text.primary)>=n?_Q.text.primary:cge.text.primary}const d=({color:g,name:y,mainShade:v=500,lightShade:x=300,darkShade:m=700})=>{if(g=le({},g),!g.main&&g[v]&&(g.main=g[v]),!g.hasOwnProperty("main"))throw new Error(Q1(11,y?` (${y})`:"",v));if(typeof g.main!="string")throw new Error(Q1(12,y?` (${y})`:"",JSON.stringify(g.main)));return uge(g,"light",x,r),uge(g,"dark",m,r),g.contrastText||(g.contrastText=f(g.main)),g},h={dark:_Q,light:cge};return Up(le({common:le({},IT),mode:t,primary:d({color:o,name:"primary"}),secondary:d({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:d({color:a,name:"error"}),warning:d({color:u,name:"warning"}),info:d({color:l,name:"info"}),success:d({color:c,name:"success"}),grey:But,contrastThreshold:n,getContrastText:f,augmentColor:d,tonalOffset:r},h[t]),i)}const Iht=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Lht(e){return Math.round(e*1e5)/1e5}const fge={textTransform:"uppercase"},dge='"Roboto", "Helvetica", "Arial", sans-serif';function jht(e,t){const n=typeof t=="function"?t(e):t,{fontFamily:r=dge,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:f}=n,d=ka(n,Iht),h=i/14,p=f||(v=>`${v/c*h}rem`),g=(v,x,m,w,S)=>le({fontFamily:r,fontWeight:v,fontSize:p(x),lineHeight:m},r===dge?{letterSpacing:`${Lht(w/x)}em`}:{},S,u),y={h1:g(o,96,1.167,-1.5),h2:g(o,60,1.2,-.5),h3:g(s,48,1.167,0),h4:g(s,34,1.235,.25),h5:g(s,24,1.334,0),h6:g(a,20,1.6,.15),subtitle1:g(s,16,1.75,.15),subtitle2:g(a,14,1.57,.1),body1:g(s,16,1.5,.15),body2:g(s,14,1.43,.15),button:g(a,14,1.75,.4,fge),caption:g(s,12,1.66,.4),overline:g(s,12,2.66,1,fge),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Up(le({htmlFontSize:c,pxToRem:p,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l},y),d,{clone:!1})}const Fht=.2,zht=.14,Qht=.12;function di(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Fht})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${zht})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Qht})`].join(",")}const Bht=["none",di(0,2,1,-1,0,1,1,0,0,1,3,0),di(0,3,1,-2,0,2,2,0,0,1,5,0),di(0,3,3,-2,0,3,4,0,0,1,8,0),di(0,2,4,-1,0,4,5,0,0,1,10,0),di(0,3,5,-1,0,5,8,0,0,1,14,0),di(0,3,5,-1,0,6,10,0,0,1,18,0),di(0,4,5,-2,0,7,10,1,0,2,16,1),di(0,5,5,-3,0,8,10,1,0,3,14,2),di(0,5,6,-3,0,9,12,1,0,3,16,2),di(0,6,6,-3,0,10,14,1,0,4,18,3),di(0,6,7,-4,0,11,15,1,0,4,20,3),di(0,7,8,-4,0,12,17,2,0,5,22,4),di(0,7,8,-4,0,13,19,2,0,5,24,4),di(0,7,9,-4,0,14,21,2,0,5,26,4),di(0,8,9,-5,0,15,22,2,0,6,28,5),di(0,8,10,-5,0,16,24,2,0,6,30,5),di(0,8,11,-5,0,17,26,2,0,6,32,5),di(0,9,11,-5,0,18,28,2,0,7,34,6),di(0,9,12,-6,0,19,29,2,0,7,36,6),di(0,10,13,-6,0,20,31,3,0,8,38,7),di(0,10,13,-6,0,21,33,3,0,8,40,7),di(0,10,14,-6,0,22,35,3,0,8,42,7),di(0,11,14,-7,0,23,36,3,0,9,44,8),di(0,11,15,-7,0,24,38,3,0,9,46,8)],Wht=Bht,Vht=["duration","easing","delay"],Uht={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},qht={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function hge(e){return`${Math.round(e)}ms`}function Yht(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function Xht(e){const t=le({},Uht,e.easing),n=le({},qht,e.duration);return le({getAutoHeightDuration:Yht,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=t.easeInOut,delay:l=0}=o;return ka(o,Vht),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof s=="string"?s:hge(s)} ${a} ${typeof l=="string"?l:hge(l)}`).join(",")}},e,{easing:t,duration:n})}const Hht={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Zht=Hht,Ght=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function _te(e={},...t){const{mixins:n={},palette:r={},transitions:i={},typography:o={}}=e,s=ka(e,Ght);if(e.vars)throw new Error(Q1(18));const a=Mht(r),l=xte(e);let c=Up(l,{mixins:Eht(l.breakpoints,n),palette:a,shadows:Wht.slice(),typography:jht(a,o),transitions:Xht(i),zIndex:le({},Zht)});return c=Up(c,s),c=t.reduce((u,f)=>Up(u,f),c),c.unstable_sxConfig=le({},T4,s==null?void 0:s.unstable_sxConfig),c.unstable_sx=function(f){return P4({sx:f,theme:this})},c}const Kht=_te(),Cte=Kht;function $te({props:e,name:t}){return ght({props:e,name:t,defaultTheme:Cte,themeId:iS})}const Jht=e=>FM(e)&&e!=="classes",ept=hht({themeId:iS,defaultTheme:Cte,rootShouldForwardProp:Jht}),A4=ept,tpt=["theme"];function npt(e){let{theme:t}=e,n=ka(e,tpt);const r=t[iS];return b.jsx($ht,le({},n,{themeId:r?iS:void 0,theme:r||t}))}const rpt=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)},pge=rpt;function gge(e){return typeof e=="string"}function Ete(e){const{children:t,defer:n=!1,fallback:r=null}=e,[i,o]=O.useState(!1);return lte(()=>{n||o(!0)},[n]),O.useEffect(()=>{n&&o(!0)},[n]),b.jsx(O.Fragment,{children:i?t:r})}const ipt=["onChange","maxRows","minRows","style","value"];function oD(e){return parseInt(e,10)||0}const opt={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function mge(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflow}const spt=O.forwardRef(function(t,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a}=t,l=ka(t,ipt),{current:c}=O.useRef(a!=null),u=O.useRef(null),f=CAe(n,u),d=O.useRef(null),h=O.useRef(0),[p,g]=O.useState({outerHeightStyle:0}),y=O.useCallback(()=>{const S=u.current,$=Upe(S).getComputedStyle(S);if($.width==="0px")return{outerHeightStyle:0};const E=d.current;E.style.width=$.width,E.value=S.value||t.placeholder||"x",E.value.slice(-1)===`
`&&(E.value+=" ");const R=$.boxSizing,N=oD($.paddingBottom)+oD($.paddingTop),I=oD($.borderBottomWidth)+oD($.borderTopWidth),j=E.scrollHeight;E.value="x";const A=E.scrollHeight;let T=j;o&&(T=Math.max(Number(o)*A,T)),i&&(T=Math.min(Number(i)*A,T)),T=Math.max(T,A);const D=T+(R==="border-box"?N+I:0),L=Math.abs(T-j)<=1;return{outerHeightStyle:D,overflow:L}},[i,o,t.placeholder]),v=(S,C)=>{const{outerHeightStyle:$,overflow:E}=C;return h.current<20&&($>0&&Math.abs((S.outerHeightStyle||0)-$)>1||S.overflow!==E)?(h.current+=1,{overflow:E,outerHeightStyle:$}):S},x=O.useCallback(()=>{const S=y();mge(S)||g(C=>v(C,S))},[y]),m=()=>{const S=y();mge(S)||Io.flushSync(()=>{g(C=>v(C,S))})};O.useEffect(()=>{const S=Yut(()=>{h.current=0,u.current&&m()});let C;const $=u.current,E=Upe($);return E.addEventListener("resize",S),typeof ResizeObserver<"u"&&(C=new ResizeObserver(S),C.observe($)),()=>{S.clear(),E.removeEventListener("resize",S),C&&C.disconnect()}}),lte(()=>{x()}),O.useEffect(()=>{h.current=0},[a]);const w=S=>{h.current=0,c||x(),r&&r(S)};return b.jsxs(O.Fragment,{children:[b.jsx("textarea",le({value:a,onChange:w,ref:f,rows:o,style:le({height:p.outerHeightStyle,overflow:p.overflow?"hidden":void 0},s)},l)),b.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:d,tabIndex:-1,style:le({},opt.shadow,s,{padding:0})})]})}),apt=spt;function lpt(e){return l4("MuiSvgIcon",e)}ute("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const cpt=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],upt=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${Mf(t)}`,`fontSize${Mf(n)}`]};return cte(i,lpt,r)},fpt=A4("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${Mf(n.color)}`],t[`fontSize${Mf(n.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var n,r,i,o,s,a,l,c,u,f,d,h,p,g,y,v,x;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=e.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=e.transitions)==null||(o=i.duration)==null?void 0:o.shorter}),fontSize:{inherit:"inherit",small:((s=e.typography)==null||(a=s.pxToRem)==null?void 0:a.call(s,20))||"1.25rem",medium:((l=e.typography)==null||(c=l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem",large:((u=e.typography)==null||(f=u.pxToRem)==null?void 0:f.call(u,35))||"2.1875rem"}[t.fontSize],color:(d=(h=(e.vars||e).palette)==null||(p=h[t.color])==null?void 0:p.main)!=null?d:{action:(g=(e.vars||e).palette)==null||(y=g.action)==null?void 0:y.active,disabled:(v=(e.vars||e).palette)==null||(x=v.action)==null?void 0:x.disabled,inherit:void 0}[t.color]}}),nDe=O.forwardRef(function(t,n){const r=$te({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:f,viewBox:d="0 0 24 24"}=r,h=ka(r,cpt),p=O.isValidElement(i)&&i.type==="svg",g=le({},r,{color:s,component:a,fontSize:l,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:d,hasSvgAsChild:p}),y={};u||(y.viewBox=d);const v=upt(g);return b.jsxs(fpt,le({as:a,className:B1(v.root,o),focusable:"false",color:c,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n},y,h,p&&i.props,{ownerState:g,children:[p?i.props.children:i,f?b.jsx("title",{children:f}):null]}))});nDe.muiName="SvgIcon";const dpt=nDe;function sY(e,t){return sY=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sY(e,t)}function hpt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,sY(e,t)}function yge(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ppt(e){return l4("MuiPaper",e)}ute("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const gpt=["className","component","elevation","square","variant"],mpt=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,o={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return cte(o,ppt,i)},ypt=A4("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(({theme:e,ownerState:t})=>{var n;return le({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&le({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${sge("#fff",pge(t.elevation))}, ${sge("#fff",pge(t.elevation))})`},e.vars&&{backgroundImage:(n=e.vars.overlays)==null?void 0:n[t.elevation]}))}),vpt=O.forwardRef(function(t,n){const r=$te({props:t,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:l="elevation"}=r,c=ka(r,gpt),u=le({},r,{component:o,elevation:s,square:a,variant:l}),f=mpt(u);return b.jsx(ypt,le({as:o,ownerState:u,className:B1(f.root,i),ref:n},c))}),bpt=vpt;function Opt({props:e,states:t,muiFormControl:n}){return t.reduce((r,i)=>(r[i]=e[i],n&&typeof e[i]>"u"&&(r[i]=n[i]),r),{})}const xpt=O.createContext(void 0),rDe=xpt;function wpt(){return O.useContext(rDe)}function Spt(e){return b.jsx(Kdt,le({},e,{defaultTheme:Cte,themeId:iS}))}function vge(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function _pt(e,t=!1){return e&&(vge(e.value)&&e.value!==""||t&&vge(e.defaultValue)&&e.defaultValue!=="")}function Cpt(e){return l4("MuiInputBase",e)}const $pt=ute("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),aY=$pt,Ept=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],kpt=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${Mf(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},Tpt=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},Ppt=e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:u,readOnly:f,size:d,startAdornment:h,type:p}=e,g={root:["root",`color${Mf(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",d==="small"&&"sizeSmall",u&&"multiline",h&&"adornedStart",o&&"adornedEnd",c&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled",p==="search"&&"inputTypeSearch",u&&"inputMultiline",d==="small"&&"inputSizeSmall",c&&"inputHiddenLabel",h&&"inputAdornedStart",o&&"inputAdornedEnd",f&&"readOnly"]};return cte(g,Cpt,t)},Rpt=A4("div",{name:"MuiInputBase",slot:"Root",overridesResolver:kpt})(({theme:e,ownerState:t})=>le({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${aY.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&le({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),Apt=A4("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Tpt})(({theme:e,ownerState:t})=>{const n=e.palette.mode==="light",r=le({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),i={opacity:"0 !important"},o=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return le({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${aY.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${aY.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),Dpt=b.jsx(Spt,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Npt=O.forwardRef(function(t,n){var r;const i=$te({props:t,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:s,autoFocus:a,className:l,components:c={},componentsProps:u={},defaultValue:f,disabled:d,disableInjectingGlobalStyles:h,endAdornment:p,fullWidth:g=!1,id:y,inputComponent:v="input",inputProps:x={},inputRef:m,maxRows:w,minRows:S,multiline:C=!1,name:$,onBlur:E,onChange:R,onClick:N,onFocus:I,onKeyDown:j,onKeyUp:A,placeholder:T,readOnly:D,renderSuffix:L,rows:W,slotProps:V={},slots:Q={},startAdornment:B,type:Y="text",value:U}=i,q=ka(i,Ept),Z=x.value!=null?x.value:U,{current:oe}=O.useRef(Z!=null),ce=O.useRef(),re=O.useCallback(pt=>{},[]),fe=CAe(ce,m,x.ref,re),[ae,ue]=O.useState(!1),me=wpt(),ne=Opt({props:i,muiFormControl:me,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ne.focused=me?me.focused:ae,O.useEffect(()=>{!me&&d&&ae&&(ue(!1),E&&E())},[me,d,ae,E]);const Le=me&&me.onFilled,_e=me&&me.onEmpty,ke=O.useCallback(pt=>{_pt(pt)?Le&&Le():_e&&_e()},[Le,_e]);lte(()=>{oe&&ke({value:Z})},[Z,ke,oe]);const ze=pt=>{if(ne.disabled){pt.stopPropagation();return}I&&I(pt),x.onFocus&&x.onFocus(pt),me&&me.onFocus?me.onFocus(pt):ue(!0)},Je=pt=>{E&&E(pt),x.onBlur&&x.onBlur(pt),me&&me.onBlur?me.onBlur(pt):ue(!1)},Be=(pt,...Mt)=>{if(!oe){const on=pt.target||ce.current;if(on==null)throw new Error(Q1(1));ke({value:on.value})}x.onChange&&x.onChange(pt,...Mt),R&&R(pt,...Mt)};O.useEffect(()=>{ke(ce.current)},[]);const K=pt=>{ce.current&&pt.currentTarget===pt.target&&ce.current.focus(),N&&!ne.disabled&&N(pt)};let ge=v,Oe=x;C&&ge==="input"&&(W?Oe=le({type:void 0,minRows:W,maxRows:W},Oe):Oe=le({type:void 0,maxRows:w,minRows:S},Oe),ge=apt);const Ve=pt=>{ke(pt.animationName==="mui-auto-fill-cancel"?ce.current:{value:"x"})};O.useEffect(()=>{me&&me.setAdornedStart(!!B)},[me,B]);const Fe=le({},i,{color:ne.color||"primary",disabled:ne.disabled,endAdornment:p,error:ne.error,focused:ne.focused,formControl:me,fullWidth:g,hiddenLabel:ne.hiddenLabel,multiline:C,size:ne.size,startAdornment:B,type:Y}),ye=Ppt(Fe),Ne=Q.root||c.Root||Rpt,ft=V.root||u.root||{},ht=Q.input||c.Input||Apt;return Oe=le({},Oe,(r=V.input)!=null?r:u.input),b.jsxs(O.Fragment,{children:[!h&&Dpt,b.jsxs(Ne,le({},ft,!gge(Ne)&&{ownerState:le({},Fe,ft.ownerState)},{ref:n,onClick:K},q,{className:B1(ye.root,ft.className,l,D&&"MuiInputBase-readOnly"),children:[B,b.jsx(rDe.Provider,{value:null,children:b.jsx(ht,le({ownerState:Fe,"aria-invalid":ne.error,"aria-describedby":o,autoComplete:s,autoFocus:a,defaultValue:f,disabled:ne.disabled,id:y,onAnimationStart:Ve,name:$,placeholder:T,readOnly:D,required:ne.required,rows:W,value:Z,onKeyDown:j,onKeyUp:A,type:Y},Oe,!gge(ht)&&{as:ge,ownerState:le({},Fe,Oe.ownerState)},{ref:fe,className:B1(ye.input,Oe.className,D&&"MuiInputBase-readOnly"),onBlur:Je,onChange:Be,onFocus:ze}))}),p,L?L(le({},ne,{startAdornment:B})):null]}))]})}),Mpt=Npt,Ipt=_te(),Lpt=iht({themeId:iS,defaultTheme:Ipt,defaultClassName:"MuiBox-root",generateClassName:EAe.generate}),eo=Lpt;var jpt={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const bge=e=>{let t;const n=new Set,r=(u,f)=>{const d=typeof u=="function"?u(t):u;if(!Object.is(d,t)){const h=t;t=f??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(p=>p(t,h))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(jpt?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,i,l);return l},kte=e=>e?bge(e):bge;var iDe={exports:{}},oDe={},sDe={exports:{}},aDe={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sS=O;function Fpt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zpt=typeof Object.is=="function"?Object.is:Fpt,Qpt=sS.useState,Bpt=sS.useEffect,Wpt=sS.useLayoutEffect,Vpt=sS.useDebugValue;function Upt(e,t){var n=t(),r=Qpt({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return Wpt(function(){i.value=n,i.getSnapshot=t,CQ(i)&&o({inst:i})},[e,n,t]),Bpt(function(){return CQ(i)&&o({inst:i}),e(function(){CQ(i)&&o({inst:i})})},[e]),Vpt(n),n}function CQ(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!zpt(e,n)}catch{return!0}}function qpt(e,t){return t()}var Ypt=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?qpt:Upt;aDe.useSyncExternalStore=sS.useSyncExternalStore!==void 0?sS.useSyncExternalStore:Ypt;sDe.exports=aDe;var lDe=sDe.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D4=O,Xpt=lDe;function Hpt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zpt=typeof Object.is=="function"?Object.is:Hpt,Gpt=Xpt.useSyncExternalStore,Kpt=D4.useRef,Jpt=D4.useEffect,egt=D4.useMemo,tgt=D4.useDebugValue;oDe.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=Kpt(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=egt(function(){function l(h){if(!c){if(c=!0,u=h,h=r(h),i!==void 0&&s.hasValue){var p=s.value;if(i(p,h))return f=p}return f=h}if(p=f,Zpt(u,h))return p;var g=r(h);return i!==void 0&&i(p,g)?p:(u=h,f=g)}var c=!1,u,f,d=n===void 0?null:n;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,n,r,i]);var a=Gpt(e,o[0],o[1]);return Jpt(function(){s.hasValue=!0,s.value=a},[a]),tgt(a),a};iDe.exports=oDe;var ngt=iDe.exports;const cDe=Uu(ngt);var uDe={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:rgt}=ie,{useSyncExternalStoreWithSelector:igt}=cDe;let Oge=!1;const ogt=e=>e;function Tte(e,t=ogt,n){(uDe?"production":void 0)!=="production"&&n&&!Oge&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Oge=!0);const r=igt(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return rgt(r),r}const xge=e=>{(uDe?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?kte(e):e,n=(r,i)=>Tte(t,r,i);return Object.assign(n,t),n},sgt=e=>e?xge(e):xge;var agt=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(i){e.addRange(i)}),t&&t.focus()}},lgt=agt,wge={"text/plain":"Text","text/html":"Url",default:"Text"},cgt="Copy to clipboard: #{key}, Enter";function ugt(e){var t=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function fgt(e,t){var n,r,i,o,s,a,l=!1;t||(t={}),n=t.debug||!1;try{i=lgt(),o=document.createRange(),s=document.getSelection(),a=document.createElement("span"),a.textContent=e,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(u){if(u.stopPropagation(),t.format)if(u.preventDefault(),typeof u.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var f=wge[t.format]||wge.default;window.clipboardData.setData(f,e)}else u.clipboardData.clearData(),u.clipboardData.setData(t.format,e);t.onCopy&&(u.preventDefault(),t.onCopy(u.clipboardData))}),document.body.appendChild(a),o.selectNodeContents(a),s.addRange(o);var c=document.execCommand("copy");if(!c)throw new Error("copy command was unsuccessful");l=!0}catch(u){n&&console.error("unable to copy using execCommand: ",u),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),l=!0}catch(f){n&&console.error("unable to copy using clipboardData: ",f),n&&console.error("falling back to prompt"),r=ugt("message"in t?t.message:cgt),window.prompt(r,e)}}finally{s&&(typeof s.removeRange=="function"?s.removeRange(o):s.removeAllRanges()),a&&document.body.removeChild(a),i()}return l}var dgt=fgt;const hgt=Uu(dgt);function fDe(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=fDe(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function pgt(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=fDe(e))&&(r&&(r+=" "),r+=t);return r}const j5={scheme:"Light Theme",author:"mac gainor (https://github.com/mac-s-g)",base00:"rgba(0, 0, 0, 0)",base01:"rgb(245, 245, 245)",base02:"rgb(235, 235, 235)",base03:"#93a1a1",base04:"rgba(0, 0, 0, 0.3)",base05:"#586e75",base06:"#073642",base07:"#002b36",base08:"#d33682",base09:"#cb4b16",base0A:"#ffd500",base0B:"#859900",base0C:"#6c71c4",base0D:"#586e75",base0E:"#2aa198",base0F:"#268bd2"},lY={scheme:"Dark Theme",author:"Chris Kempson (http://chriskempson.com)",base00:"#181818",base01:"#282828",base02:"#383838",base03:"#585858",base04:"#b8b8b8",base05:"#d8d8d8",base06:"#e8e8e8",base07:"#f8f8f8",base08:"#ab4642",base09:"#dc9656",base0A:"#f7ca88",base0B:"#a1b56c",base0C:"#86c1b9",base0D:"#7cafc2",base0E:"#ba8baf",base0F:"#a16946"},dDe=()=>null;dDe.when=()=>!1;const ggt=e=>{var t,n,r,i,o,s,a,l,c,u,f,d,h,p,g,y,v,x,m,w,S,C;return sgt()(($,E)=>({rootName:(t=e.rootName)!==null&&t!==void 0?t:"root",indentWidth:(n=e.indentWidth)!==null&&n!==void 0?n:3,keyRenderer:(r=e.keyRenderer)!==null&&r!==void 0?r:dDe,enableAdd:(i=e.enableAdd)!==null&&i!==void 0?i:!1,enableDelete:(o=e.enableDelete)!==null&&o!==void 0?o:!1,enableClipboard:(s=e.enableClipboard)!==null&&s!==void 0?s:!0,editable:(a=e.editable)!==null&&a!==void 0?a:!1,onChange:(l=e.onChange)!==null&&l!==void 0?l:()=>{},onCopy:(c=e.onCopy)!==null&&c!==void 0?c:void 0,onSelect:(u=e.onSelect)!==null&&u!==void 0?u:void 0,onAdd:(f=e.onAdd)!==null&&f!==void 0?f:void 0,onDelete:(d=e.onDelete)!==null&&d!==void 0?d:void 0,defaultInspectDepth:(h=e.defaultInspectDepth)!==null&&h!==void 0?h:5,defaultInspectControl:(p=e.defaultInspectControl)!==null&&p!==void 0?p:void 0,maxDisplayLength:(g=e.maxDisplayLength)!==null&&g!==void 0?g:30,groupArraysAfterLength:(y=e.groupArraysAfterLength)!==null&&y!==void 0?y:100,collapseStringsAfterLength:e.collapseStringsAfterLength===!1?Number.MAX_VALUE:(v=e.collapseStringsAfterLength)!==null&&v!==void 0?v:50,objectSortKeys:(x=e.objectSortKeys)!==null&&x!==void 0?x:!1,quotesOnKeys:(m=e.quotesOnKeys)!==null&&m!==void 0?m:!0,displayDataTypes:(w=e.displayDataTypes)!==null&&w!==void 0?w:!0,displaySize:(S=e.displaySize)!==null&&S!==void 0?S:!0,highlightUpdates:(C=e.highlightUpdates)!==null&&C!==void 0?C:!1,inspectCache:{},hoverPath:null,colorspace:j5,value:e.value,prevValue:void 0,getInspectCache:(R,N)=>{const I=N!==void 0?R.join(".")+"[".concat(N,"]nt"):R.join(".");return E().inspectCache[I]},setInspectCache:(R,N,I)=>{const j=I!==void 0?R.join(".")+"[".concat(I,"]nt"):R.join(".");$(A=>({inspectCache:{...A.inspectCache,[j]:typeof N=="function"?N(A.inspectCache[j]):N}}))},setHover:(R,N)=>{$({hoverPath:R?{path:R,nestedIndex:N}:null})}}))},VP=O.createContext(void 0);VP.Provider;const Jt=(e,t)=>{const n=O.useContext(VP);return Tte(n,e,t)},N4=()=>Jt(e=>e.colorspace.base07),mgt=Object.prototype.constructor.toString();function ygt(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===mgt}const vgt=(e,t,n)=>{if(e===null||n===null||typeof e!="object"||typeof n!="object")return!1;if(Object.is(e,n)&&t.length!==0)return"";const r=[],i=[...t];let o=e;for(;o!==n||i.length!==0;){if(typeof o!="object"||o===null)return!1;if(Object.is(o,n))return r.reduce((a,l,c)=>typeof l=="number"?a+"[".concat(l,"]"):a+"".concat(c===0?"":".").concat(l),"");const s=i.shift();r.push(s),o=o[s]}return!1};function UP(e){return e===null?0:Array.isArray(e)?e.length:e instanceof Map||e instanceof Set?e.size:e instanceof Date?1:typeof e=="object"?Object.keys(e).length:typeof e=="string"?e.length:1}function Sge(e,t){const n=[];let r=0;for(;r<e.length;)n.push(e.slice(r,r+t)),r+=t;return n}function bgt(e,t){const n=[];function r(i,o){if(typeof o=="bigint")return o.toString();if(o instanceof Map){if("toJSON"in o&&typeof o.toJSON=="function")return o.toJSON();if(o.size===0)return{};if(n.includes(o))return"[Circular]";n.push(o);const s=Array.from(o.entries());return s.every(a=>{let[l]=a;return typeof l=="string"||typeof l=="number"})?Object.fromEntries(s):{}}if(o instanceof Set)return"toJSON"in o&&typeof o.toJSON=="function"?o.toJSON():n.includes(o)?"[Circular]":(n.push(o),Array.from(o.values()));if(typeof o=="object"&&o!==null&&Object.keys(o).length){const s=n.length;if(s){for(let a=s-1;a>=0&&n[a][i]!==o;--a)n.pop();if(n.includes(o))return"[Circular]"}n.push(o)}return o}return JSON.stringify(e,r,t)}async function cY(e){if("clipboard"in navigator)try{await navigator.clipboard.writeText(e)}catch{}hgt(e)}function Ogt(){let{timeout:e=2e3}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const[t,n]=O.useState(!1),r=O.useRef(null),i=O.useCallback(l=>{const c=r.current;c&&window.clearTimeout(c),r.current=window.setTimeout(()=>n(!1),e),n(l)},[e]),o=Jt(l=>l.onCopy),s=O.useCallback(async(l,c)=>{if(typeof o=="function")try{await o(l,c,cY),i(!0)}catch(u){console.error("error when copy ".concat(l.length===0?"src":"src[".concat(l.join(".")),"]"),u)}else try{const u=bgt(typeof c=="function"?c.toString():c,"  ");await cY(u),i(!0)}catch(u){console.error("error when copy ".concat(l.length===0?"src":"src[".concat(l.join(".")),"]"),u)}},[i,o]),a=O.useCallback(()=>{n(!1),r.current&&clearTimeout(r.current)},[]);return{copy:s,reset:a,copied:t}}function Pte(e,t){const n=Jt(r=>r.value);return O.useMemo(()=>vgt(n,e,t),[e,t,n])}function xgt(e,t,n){const r=e.length,i=Pte(e,t),o=Jt(d=>d.getInspectCache),s=Jt(d=>d.setInspectCache),a=Jt(d=>d.defaultInspectDepth),l=Jt(d=>d.defaultInspectControl);O.useEffect(()=>{if(o(e,n)!==void 0)return;if(n!==void 0){s(e,!1,n);return}const h=i?!1:typeof l=="function"?l(e,t):r<a;s(e,h)},[a,l,r,o,i,n,e,t,s]);const[c,u]=O.useState(()=>{const d=o(e,n);return d!==void 0?d:n!==void 0||i?!1:typeof l=="function"?l(e,t):r<a}),f=O.useCallback(d=>{u(h=>{const p=typeof d=="boolean"?d:d(h);return s(e,p,n),p})},[n,e,s]);return[c,f]}const py=e=>b.jsx(eo,{component:"div",...e,sx:{display:"inline-block",...e.sx}}),hDe=e=>{let{dataType:t,enable:n=!0}=e;return n?b.jsx(py,{className:"data-type-label",sx:{mx:.5,fontSize:"0.7rem",opacity:.8,userSelect:"none"},children:t}):null};function Tg(e){let{is:t,serialize:n,deserialize:r,type:i,colorKey:o,displayTypeLabel:s=!0,Renderer:a}=e;const l=O.memo(a),c=f=>{const d=Jt(g=>g.displayDataTypes),h=Jt(g=>g.colorspace[o]),p=Jt(g=>g.onSelect);return b.jsxs(py,{onClick:()=>{var g;return(g=p)===null||g===void 0?void 0:g(f.path,f.value)},sx:{color:h},children:[s&&d&&b.jsx(hDe,{dataType:i}),b.jsx(py,{className:"".concat(i,"-value"),children:b.jsx(l,{path:f.path,inspect:f.inspect,setInspect:f.setInspect,value:f.value,prevValue:f.prevValue})})]})};if(c.displayName="easy-".concat(i,"-type"),!n||!r)return{is:t,Component:c};const u=f=>{let{value:d,setValue:h,abortEditing:p,commitEditing:g}=f;const y=Jt(m=>m.colorspace[o]),v=O.useCallback(m=>{m.key==="Enter"&&(m.preventDefault(),g(d)),m.key==="Escape"&&(m.preventDefault(),p())},[p,g,d]),x=O.useCallback(m=>{h(m.target.value)},[h]);return b.jsx(Mpt,{autoFocus:!0,value:d,onChange:x,onKeyDown:v,size:"small",multiline:!0,sx:{color:y,padding:.5,borderStyle:"solid",borderColor:"black",borderWidth:1,fontSize:"0.8rem",fontFamily:"monospace",display:"inline-flex"}})};return u.displayName="easy-".concat(i,"-type-editor"),{is:t,serialize:n,deserialize:r,Component:c,Editor:u}}const wgt=Tg({is:e=>typeof e=="boolean",type:"bool",colorKey:"base0E",serialize:e=>e.toString(),deserialize:e=>{if(e==="true")return!0;if(e==="false")return!1;throw new Error("Invalid boolean value")},Renderer:e=>{let{value:t}=e;return b.jsx(b.Fragment,{children:t?"true":"false"})}}),Sgt={weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"},_gt=Tg({is:e=>e instanceof Date,type:"date",colorKey:"base0D",Renderer:e=>{let{value:t}=e;return b.jsx(b.Fragment,{children:t.toLocaleTimeString("en-us",Sgt)})}}),Cgt=e=>{const t=e.toString();let n=!0;const r=t.indexOf(")"),i=t.indexOf("=>");return i!==-1&&i>r&&(n=!1),n?t.substring(t.indexOf("{",r)+1,t.lastIndexOf("}")):t.substring(t.indexOf("=>")+2)},$gt=e=>{const t=e.toString();return t.indexOf("function")!==-1?t.substring(8,t.indexOf("{")).trim():t.substring(0,t.indexOf("=>")+2).trim()},Egt="{",kgt="}",Tgt=e=>b.jsxs(Ete,{children:[b.jsx(hDe,{dataType:"function"}),b.jsxs(eo,{component:"span",className:"data-function-start",sx:{letterSpacing:.5},children:[$gt(e.value)," ",Egt]})]}),Pgt=()=>b.jsx(Ete,{children:b.jsx(eo,{component:"span",className:"data-function-end",children:kgt})}),Rgt=e=>{const t=Jt(n=>n.colorspace.base05);return b.jsx(Ete,{children:b.jsx(eo,{className:"data-function",sx:{display:e.inspect?"block":"inline-block",pl:e.inspect?2:0,color:t},children:e.inspect?Cgt(e.value):b.jsx(eo,{component:"span",className:"data-function-body",onClick:()=>e.setInspect(!0),sx:{"&:hover":{cursor:"pointer"},padding:.5},children:""})})})},Agt={is:e=>typeof e=="function",Component:Rgt,PreComponent:Tgt,PostComponent:Pgt},Dgt=Tg({is:e=>e===null,type:"null",colorKey:"base08",displayTypeLabel:!1,Renderer:()=>{const e=Jt(t=>t.colorspace.base02);return b.jsx(eo,{sx:{fontSize:"0.8rem",backgroundColor:e,fontWeight:"bold",borderRadius:"3px",padding:"0.5px 2px"},children:"NULL"})}}),pDe=e=>e%1===0,Ngt=Tg({is:e=>typeof e=="number"&&isNaN(e),type:"NaN",colorKey:"base08",displayTypeLabel:!1,serialize:()=>"NaN",deserialize:e=>parseFloat(e),Renderer:()=>{const e=Jt(t=>t.colorspace.base02);return b.jsx(eo,{sx:{backgroundColor:e,fontSize:"0.8rem",fontWeight:"bold",borderRadius:"3px",padding:"0.5px 2px"},children:"NaN"})}}),Mgt=Tg({is:e=>typeof e=="number"&&!pDe(e)&&!isNaN(e),type:"float",colorKey:"base0B",serialize:e=>e.toString(),deserialize:e=>parseFloat(e),Renderer:e=>{let{value:t}=e;return b.jsx(b.Fragment,{children:t})}}),Igt=Tg({is:e=>typeof e=="number"&&pDe(e),type:"int",colorKey:"base0F",serialize:e=>e.toString(),deserialize:e=>parseFloat(e),Renderer:e=>{let{value:t}=e;return b.jsx(b.Fragment,{children:t})}}),Lgt=Tg({is:e=>typeof e=="bigint",type:"bigint",colorKey:"base0F",serialize:e=>e.toString(),deserialize:e=>BigInt(e.replace(/\D/g,"")),Renderer:e=>{let{value:t}=e;return b.jsx(b.Fragment,{children:"".concat(t,"n")})}}),Pg=e=>{let{d:t,...n}=e;return b.jsx(dpt,{...n,children:b.jsx("path",{d:t})})},jgt="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V5h14zm-8-2h2v-4h4v-2h-4V7h-2v4H7v2h4z",Fgt="M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z",zgt="M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z",Qgt="M 12 2 C 10.615 1.998 9.214625 2.2867656 7.890625 2.8847656 L 8.9003906 4.6328125 C 9.9043906 4.2098125 10.957 3.998 12 4 C 15.080783 4 17.738521 5.7633175 19.074219 8.3222656 L 17.125 9 L 21.25 11 L 22.875 7 L 20.998047 7.6523438 C 19.377701 4.3110398 15.95585 2 12 2 z M 6.5097656 4.4882812 L 2.2324219 5.0820312 L 3.734375 6.3808594 C 1.6515335 9.4550558 1.3615962 13.574578 3.3398438 17 C 4.0308437 18.201 4.9801562 19.268234 6.1601562 20.115234 L 7.1699219 18.367188 C 6.3019219 17.710187 5.5922656 16.904 5.0722656 16 C 3.5320014 13.332354 3.729203 10.148679 5.2773438 7.7128906 L 6.8398438 9.0625 L 6.5097656 4.4882812 z M 19.929688 13 C 19.794687 14.08 19.450734 15.098 18.927734 16 C 17.386985 18.668487 14.531361 20.090637 11.646484 19.966797 L 12.035156 17.9375 L 8.2402344 20.511719 L 10.892578 23.917969 L 11.265625 21.966797 C 14.968963 22.233766 18.681899 20.426323 20.660156 17 C 21.355156 15.801 21.805219 14.445 21.949219 13 L 19.929688 13 z",Bgt="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z",Wgt="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z",Vgt="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z",Ugt="M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z",qgt="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5l-1-1h-5l-1 1H5v2h14V4z",Ygt=e=>b.jsx(Pg,{d:jgt,...e}),_ge=e=>b.jsx(Pg,{d:Fgt,...e}),Xgt=e=>b.jsx(Pg,{d:zgt,...e}),Hgt=e=>b.jsx(Pg,{d:Qgt,...e}),Zgt=e=>b.jsx(Pg,{d:Bgt,...e}),Ggt=e=>b.jsx(Pg,{d:Wgt,...e}),Kgt=e=>b.jsx(Pg,{d:Vgt,...e}),Jgt=e=>b.jsx(Pg,{d:Ugt,...e}),emt=e=>b.jsx(Pg,{d:qgt,...e}),tmt="{",nmt="[",rmt="}",imt="]";function gDe(e){const t=UP(e);let n="";return(e instanceof Map||e instanceof Set)&&(n=e[Symbol.toStringTag]),Object.prototype.hasOwnProperty.call(e,Symbol.toStringTag)&&(n=e[Symbol.toStringTag]),"".concat(t," Items").concat(n?" (".concat(n,")"):"")}const omt=e=>{const t=Jt(c=>c.colorspace.base04),n=N4(),r=O.useMemo(()=>Array.isArray(e.value),[e.value]),i=O.useMemo(()=>UP(e.value)===0,[e.value]),o=O.useMemo(()=>gDe(e.value),[e.value]),s=Jt(c=>c.displaySize),a=O.useMemo(()=>typeof s=="function"?s(e.path,e.value):s,[s,e.path,e.value]),l=Pte(e.path,e.value);return b.jsxs(eo,{component:"span",className:"data-object-start",sx:{letterSpacing:.5},children:[r?nmt:tmt,a&&e.inspect&&!i&&b.jsx(eo,{component:"span",sx:{pl:.5,fontStyle:"italic",color:t,userSelect:"none"},children:o}),l&&!e.inspect&&b.jsxs(b.Fragment,{children:[b.jsx(Hgt,{sx:{fontSize:12,color:n,mx:.5}}),l]})]})},smt=e=>{const t=Jt(l=>l.colorspace.base04),n=N4(),r=O.useMemo(()=>Array.isArray(e.value),[e.value]),i=O.useMemo(()=>UP(e.value)===0,[e.value]),o=O.useMemo(()=>gDe(e.value),[e.value]),s=Jt(l=>l.displaySize),a=O.useMemo(()=>typeof s=="function"?s(e.path,e.value):s,[s,e.path,e.value]);return b.jsxs(eo,{component:"span",className:"data-object-end",sx:{lineHeight:1.5,color:n,letterSpacing:.5,opacity:.8},children:[r?imt:rmt,a&&(i||!e.inspect)?b.jsx(eo,{component:"span",sx:{pl:.5,fontStyle:"italic",color:t,userSelect:"none"},children:o}):null]})};function amt(e){var t;return typeof((t=e)===null||t===void 0?void 0:t[Symbol.iterator])=="function"}const lmt=e=>{const t=N4(),n=Jt(h=>h.colorspace.base02),r=Jt(h=>h.groupArraysAfterLength),i=Pte(e.path,e.value),[o,s]=O.useState(Jt(h=>h.maxDisplayLength)),a=Jt(h=>h.objectSortKeys),l=O.useMemo(()=>{if(!e.inspect)return null;const h=e.value;if(amt(h)&&!Array.isArray(h)){const v=[];if(h instanceof Map)h.forEach((x,m)=>{const w=m.toString(),S=[...e.path,w];v.push(b.jsx(Ox,{path:S,value:x,prevValue:e.prevValue instanceof Map?e.prevValue.get(m):void 0,editable:!1},w))});else{const x=h[Symbol.iterator]();let m=x.next(),w=0;for(;!m.done;)v.push(b.jsx(Ox,{path:[...e.path,"iterator:".concat(w)],value:m.value,nestedIndex:w,editable:!1},w)),w++,m=x.next()}return v}if(Array.isArray(h)){if(h.length<=r){const m=h.slice(0,o).map((w,S)=>{const C=e.nestedIndex?e.nestedIndex*r+S:S,$=[...e.path,C];return b.jsx(Ox,{path:$,value:w,prevValue:Array.isArray(e.prevValue)?e.prevValue[C]:void 0},C)});if(h.length>o){const w=h.length-o;m.push(b.jsxs(py,{sx:{cursor:"pointer",lineHeight:1.5,color:t,letterSpacing:.5,opacity:.8,userSelect:"none"},onClick:()=>s(S=>S*2),children:["hidden ",w," items"]},"last"))}return m}const v=Sge(h,r),x=Array.isArray(e.prevValue)?Sge(e.prevValue,r):void 0;return v.map((m,w)=>{var S;return b.jsx(Ox,{path:e.path,value:m,nestedIndex:w,prevValue:(S=x)===null||S===void 0?void 0:S[w]},w)})}let g=Object.entries(h);a&&(g=a===!0?g.sort((v,x)=>{let[m]=v,[w]=x;return m.localeCompare(w)}):g.sort((v,x)=>{let[m]=v,[w]=x;return a(m,w)}));const y=g.slice(0,o).map(v=>{let[x,m]=v;var w;const S=[...e.path,x];return b.jsx(Ox,{path:S,value:m,prevValue:(w=e.prevValue)===null||w===void 0?void 0:w[x]},x)});if(g.length>o){const v=g.length-o;y.push(b.jsxs(py,{sx:{cursor:"pointer",lineHeight:1.5,color:t,letterSpacing:.5,opacity:.8,userSelect:"none"},onClick:()=>s(x=>x*2),children:["hidden ",v," items"]},"last"))}return y},[e.inspect,e.value,e.prevValue,e.path,e.nestedIndex,r,o,t,a]),c=e.inspect?.6:0,u=Jt(h=>h.indentWidth),f=e.inspect?u-c:u;return O.useMemo(()=>UP(e.value)===0,[e.value])?null:b.jsx(eo,{className:"data-object",sx:{display:e.inspect?"block":"inline-block",pl:e.inspect?f-.6:0,marginLeft:c,color:t,borderLeft:e.inspect?"1px solid ".concat(n):"none"},children:e.inspect?l:!i&&b.jsx(eo,{component:"span",className:"data-object-body",onClick:()=>e.setInspect(!0),sx:{"&:hover":{cursor:"pointer"},padding:.5,userSelect:"none"},children:""})})},cmt={is:e=>typeof e=="object",Component:lmt,PreComponent:omt,PostComponent:smt},umt=Tg({is:e=>typeof e=="string",type:"string",colorKey:"base09",serialize:e=>e,deserialize:e=>e,Renderer:e=>{const[t,n]=O.useState(!1),r=Jt(s=>s.collapseStringsAfterLength),i=t?e.value:e.value.slice(0,r),o=e.value.length>r;return b.jsxs(eo,{component:"span",sx:{overflowWrap:"anywhere",cursor:o?"pointer":"inherit"},onClick:()=>{var s;((s=window.getSelection())===null||s===void 0?void 0:s.type)!=="Range"&&o&&n(a=>!a)},children:['"',i,o&&!t&&b.jsx(eo,{component:"span",sx:{padding:.5},children:""}),'"']})}}),fmt=Tg({is:e=>e===void 0,type:"undefined",colorKey:"base05",displayTypeLabel:!1,Renderer:()=>{const e=Jt(t=>t.colorspace.base02);return b.jsx(eo,{sx:{fontSize:"0.7rem",backgroundColor:e,borderRadius:"3px",padding:"0.5px 2px"},children:"undefined"})}}),dmt=()=>kte()(e=>({registry:[],registerTypes:t=>{e(n=>({registry:typeof t=="function"?t(n.registry):t}))}})),Rte=O.createContext(void 0);Rte.Provider;const mDe=(e,t)=>{const n=O.useContext(Rte);return Tte(n,e,t)};function hmt(e,t,n){let r;for(const i of n)i.is(e,t)&&(r=i);if(r===void 0){if(typeof e=="object")return cmt;throw new Error("No type matched for value: ".concat(e))}return r}function pmt(e,t){const n=mDe(r=>r.registry);return O.useMemo(()=>hmt(e,t,n),[e,t,n])}function Sd(e){function t(n,r){var i,o;return Object.is(n.value,r.value)&&n.inspect&&r.inspect&&((i=n.path)===null||i===void 0?void 0:i.join("."))===((o=r.path)===null||o===void 0?void 0:o.join("."))}return e.Component=O.memo(e.Component,t),e.Editor&&(e.Editor=O.memo(e.Editor,function(r,i){return Object.is(r.value,i.value)})),e.PreComponent&&(e.PreComponent=O.memo(e.PreComponent,t)),e.PostComponent&&(e.PostComponent=O.memo(e.PostComponent,t)),e}const sD=[Sd(wgt),Sd(_gt),Sd(Dgt),Sd(fmt),Sd(umt),Sd(Agt),Sd(Ngt),Sd(Igt),Sd(Mgt),Sd(Lgt)],AO=e=>b.jsx(eo,{component:"span",...e,sx:{cursor:"pointer",paddingLeft:"0.7rem",...e.sx}}),Ox=e=>{const{value:t,prevValue:n,path:r,nestedIndex:i}=e,{Component:o,PreComponent:s,PostComponent:a,Editor:l,serialize:c,deserialize:u}=pmt(t,r);var f;const d=(f=e.editable)!==null&&f!==void 0?f:void 0,h=Jt(K=>K.editable),p=O.useMemo(()=>h===!1||d===!1?!1:typeof h=="function"?!!h(r,t):h,[r,d,h,t]),[g,y]=O.useState(""),v=r.length,x=r[v-1],m=Jt(K=>K.hoverPath),w=O.useMemo(()=>m&&r.every((K,ge)=>K===m.path[ge]&&i===m.nestedIndex),[m,r,i]),S=Jt(K=>K.setHover),C=Jt(K=>K.value),[$,E]=xgt(r,t,i),[R,N]=O.useState(!1),I=Jt(K=>K.onChange),j=N4(),A=Jt(K=>K.colorspace.base0C),T=Jt(K=>K.colorspace.base0A),D=Jt(K=>K.quotesOnKeys),L=Jt(K=>K.rootName),W=C===t,V=Number.isInteger(Number(x)),Q=Jt(K=>K.enableAdd),B=Jt(K=>K.onAdd),Y=O.useMemo(()=>!B||i!==void 0||Q===!1||d===!1?!1:typeof Q=="function"?!!Q(r,t):!!(Array.isArray(t)||ygt(t)),[B,i,r,Q,d,t]),U=Jt(K=>K.enableDelete),q=Jt(K=>K.onDelete),Z=O.useMemo(()=>!q||i!==void 0||W||U===!1||d===!1?!1:typeof U=="function"?!!U(r,t):U,[q,i,W,r,U,d,t]),oe=Jt(K=>K.enableClipboard),{copy:ce,copied:re}=Ogt(),fe=Jt(K=>K.highlightUpdates),ae=O.useMemo(()=>!fe||n===void 0?!1:typeof t!=typeof n?!0:typeof t=="number"?isNaN(t)&&isNaN(n)?!1:t!==n:Array.isArray(t)!==Array.isArray(n)?!0:typeof t=="object"||typeof t=="function"?!1:t!==n,[fe,n,t]),ue=O.useRef();O.useEffect(()=>{ue.current&&ae&&"animate"in ue.current&&ue.current.animate([{backgroundColor:T},{backgroundColor:""}],{duration:1e3,easing:"ease-in"})},[T,ae,n,t]);const me=O.useCallback(K=>{K.preventDefault(),c&&y(c(t)),N(!0)},[c,t]),ne=O.useCallback(()=>{N(!1),y("")},[N,y]),Le=O.useCallback(K=>{if(N(!1),!!u)try{I(r,t,u(K))}catch{}},[N,u,I,r,t]),_e=O.useMemo(()=>R?b.jsxs(b.Fragment,{children:[b.jsx(AO,{children:b.jsx(Zgt,{sx:{fontSize:".8rem"},onClick:ne})}),b.jsx(AO,{children:b.jsx(_ge,{sx:{fontSize:".8rem"},onClick:()=>Le(g)})})]}):b.jsxs(b.Fragment,{children:[oe&&b.jsx(AO,{onClick:K=>{K.preventDefault();try{ce(r,t,cY)}catch(ge){console.error(ge)}},children:re?b.jsx(_ge,{sx:{fontSize:".8rem"}}):b.jsx(Ggt,{sx:{fontSize:".8rem"}})}),l&&p&&c&&u&&b.jsx(AO,{onClick:me,children:b.jsx(Kgt,{sx:{fontSize:".8rem"}})}),Y&&b.jsx(AO,{onClick:K=>{var ge;K.preventDefault(),(ge=B)===null||ge===void 0||ge(r)},children:b.jsx(Ygt,{sx:{fontSize:".8rem"}})}),Z&&b.jsx(AO,{onClick:K=>{var ge;K.preventDefault(),(ge=q)===null||ge===void 0||ge(r,t)},children:b.jsx(emt,{sx:{fontSize:".9rem"}})})]}),[l,c,u,re,ce,p,R,oe,Y,Z,g,r,t,B,q,me,ne,Le]),ke=O.useMemo(()=>UP(t)===0,[t]),ze=!ke&&!!(s&&a),Je=Jt(K=>K.keyRenderer),Be=O.useMemo(()=>({path:r,inspect:$,setInspect:E,value:t,prevValue:n,nestedIndex:i}),[$,r,E,t,n,i]);return b.jsxs(eo,{className:"data-key-pair","data-testid":"data-key-pair"+r.join("."),sx:{userSelect:"text"},onMouseEnter:O.useCallback(()=>S(r,i),[S,r,i]),children:[b.jsxs(py,{component:"span",className:"data-key",sx:{lineHeight:1.5,color:j,letterSpacing:.5,opacity:.8},onClick:O.useCallback(K=>{K.isDefaultPrevented()||ke||E(ge=>!ge)},[ke,E]),children:[ze?$?b.jsx(Jgt,{sx:{fontSize:".8rem","&:hover":{cursor:"pointer"}}}):b.jsx(Xgt,{sx:{fontSize:".8rem","&:hover":{cursor:"pointer"}}}):null,b.jsx(eo,{ref:ue,component:"span",children:W?L!==!1?D?b.jsxs(b.Fragment,{children:['"',L,'"']}):b.jsx(b.Fragment,{children:L}):null:Je.when(Be)?b.jsx(Je,{...Be}):i===void 0&&(V?b.jsx(eo,{component:"span",style:{color:A},children:x}):D?b.jsxs(b.Fragment,{children:['"',x,'"']}):b.jsx(b.Fragment,{children:x}))}),W?L!==!1&&b.jsx(py,{sx:{mr:.5},children:":"}):i===void 0&&b.jsx(py,{sx:{mr:.5},children:":"}),s&&b.jsx(s,{...Be}),w&&ze&&$&&_e]}),R&&p?l&&b.jsx(l,{value:g,setValue:y,abortEditing:ne,commitEditing:Le}):o?b.jsx(o,{...Be}):b.jsx(eo,{component:"span",className:"data-value-fallback",children:"fallback: ".concat(t)}),a&&b.jsx(a,{...Be}),w&&ze&&!$&&_e,w&&!ze&&_e,!w&&R&&_e]})},Cge="(prefers-color-scheme: dark)";function gmt(){const[e,t]=O.useState(!1);return O.useEffect(()=>{const n=i=>t(i.matches);t(window.matchMedia(Cge).matches);const r=window.matchMedia(Cge);return r.addEventListener("change",n),()=>r.removeEventListener("change",n)},[]),e}function ms(e,t){const{setState:n}=O.useContext(VP);O.useEffect(()=>{t!==void 0&&n({[e]:t})},[e,t,n])}const mmt=e=>{const{setState:t}=O.useContext(VP);O.useEffect(()=>{t(u=>({prevValue:u.value,value:e.value}))},[e.value,t]),ms("rootName",e.rootName),ms("indentWidth",e.indentWidth),ms("keyRenderer",e.keyRenderer),ms("enableAdd",e.enableAdd),ms("enableDelete",e.enableDelete),ms("enableClipboard",e.enableClipboard),ms("editable",e.editable),ms("onChange",e.onChange),ms("onCopy",e.onCopy),ms("onSelect",e.onSelect),ms("onAdd",e.onAdd),ms("onDelete",e.onDelete),ms("maxDisplayLength",e.maxDisplayLength),ms("groupArraysAfterLength",e.groupArraysAfterLength),ms("displayDataTypes",e.displayDataTypes),ms("displaySize",e.displaySize),ms("highlightUpdates",e.highlightUpdates),O.useEffect(()=>{e.theme==="light"?t({colorspace:j5}):e.theme==="dark"?t({colorspace:lY}):typeof e.theme=="object"&&t({colorspace:e.theme})},[t,e.theme]);const n=O.useMemo(()=>typeof e.theme=="object"?"json-viewer-theme-custom":e.theme==="dark"?"json-viewer-theme-dark":"json-viewer-theme-light",[e.theme]),r=O.useRef(!0),i=mDe(u=>u.registerTypes);if(r.current){const u=e.valueTypes?[...sD,...e.valueTypes]:[...sD];i(u),r.current=!1}O.useEffect(()=>{const u=e.valueTypes?[...sD,...e.valueTypes]:[...sD];i(u)},[e.valueTypes,i]);const o=Jt(u=>u.value),s=Jt(u=>u.prevValue),a=O.useMemo(()=>[],[]),l=Jt(u=>u.setHover),c=O.useCallback(()=>l(null),[l]);return b.jsx(bpt,{elevation:0,className:pgt(n,e.className),style:e.style,sx:{fontFamily:"monospace",userSelect:"none",contentVisibility:"auto",...e.sx},onMouseLeave:c,children:b.jsx(Ox,{value:o,prevValue:s,path:a})})},ymt=function(t){const n=gmt();var r;const i=O.useMemo(()=>t.theme==="auto"?n?"light":"dark":(r=t.theme)!==null&&r!==void 0?r:"light",[n,t.theme]),o=O.useMemo(()=>{const c=typeof i=="object"?i.base00:i==="dark"?lY.base00:j5.base00,u=typeof i=="object"?i.base07:i==="dark"?lY.base07:j5.base07;return _te({components:{MuiPaper:{styleOverrides:{root:{backgroundColor:c,color:u}}}},palette:{mode:i==="dark"?"dark":"light",background:{default:c}}})},[i]),s={...t,theme:i},a=O.useMemo(()=>ggt(t),[]),l=O.useMemo(()=>dmt(),[]);return b.jsx(npt,{theme:o,children:b.jsx(Rte.Provider,{value:l,children:b.jsx(VP.Provider,{value:a,children:b.jsx(mmt,{...s})})})})},uY={};function vmt(e){return e in uY?uY[e]:null}function bmt(e,t){uY[e]=t}var Ate={},Dte={},Nte={};Object.defineProperty(Nte,"__esModule",{value:!0});var $ge="html",Ege="head",aD="body",Omt=/<([a-zA-Z]+[0-9]?)/,kge=/<head[^]*>/i,Tge=/<body[^]*>/i,F5=function(e,t){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},fY=function(e,t){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},Pge=typeof window=="object"&&window.DOMParser;if(typeof Pge=="function"){var xmt=new Pge,wmt="text/html";fY=function(e,t){return t&&(e="<".concat(t,">").concat(e,"</").concat(t,">")),xmt.parseFromString(e,wmt)},F5=fY}if(typeof document=="object"&&document.implementation){var lD=document.implementation.createHTMLDocument();F5=function(e,t){if(t){var n=lD.documentElement.querySelector(t);return n&&(n.innerHTML=e),lD}return lD.documentElement.innerHTML=e,lD}}var cD=typeof document=="object"&&document.createElement("template"),dY;cD&&cD.content&&(dY=function(e){return cD.innerHTML=e,cD.content.childNodes});function Smt(e){var t,n,r=e.match(Omt),i=r&&r[1]?r[1].toLowerCase():"";switch(i){case $ge:{var o=fY(e);if(!kge.test(e)){var s=o.querySelector(Ege);(t=s==null?void 0:s.parentNode)===null||t===void 0||t.removeChild(s)}if(!Tge.test(e)){var s=o.querySelector(aD);(n=s==null?void 0:s.parentNode)===null||n===void 0||n.removeChild(s)}return o.querySelectorAll($ge)}case Ege:case aD:{var a=F5(e).querySelectorAll(i);return Tge.test(e)&&kge.test(e)?a[0].parentNode.childNodes:a}default:{if(dY)return dY(e);var s=F5(e,aD).querySelector(aD);return s.childNodes}}}Nte.default=Smt;var aS={},Mte={},Ite={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var t;(function(r){r.Root="root",r.Text="text",r.Directive="directive",r.Comment="comment",r.Script="script",r.Style="style",r.Tag="tag",r.CDATA="cdata",r.Doctype="doctype"})(t=e.ElementType||(e.ElementType={}));function n(r){return r.type===t.Tag||r.type===t.Script||r.type===t.Style}e.isTag=n,e.Root=t.Root,e.Text=t.Text,e.Directive=t.Directive,e.Comment=t.Comment,e.Script=t.Script,e.Style=t.Style,e.Tag=t.Tag,e.CDATA=t.CDATA,e.Doctype=t.Doctype})(Ite);var $n={},$0=ct&&ct.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ck=ct&&ct.__assign||function(){return ck=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ck.apply(this,arguments)};Object.defineProperty($n,"__esModule",{value:!0});$n.cloneNode=$n.hasChildren=$n.isDocument=$n.isDirective=$n.isComment=$n.isText=$n.isCDATA=$n.isTag=$n.Element=$n.Document=$n.CDATA=$n.NodeWithChildren=$n.ProcessingInstruction=$n.Comment=$n.Text=$n.DataNode=$n.Node=void 0;var Al=Ite,Lte=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(t){return t===void 0&&(t=!1),jte(this,t)},e}();$n.Node=Lte;var M4=function(e){$0(t,e);function t(n){var r=e.call(this)||this;return r.data=n,r}return Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(n){this.data=n},enumerable:!1,configurable:!0}),t}(Lte);$n.DataNode=M4;var yDe=function(e){$0(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Al.ElementType.Text,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(M4);$n.Text=yDe;var vDe=function(e){$0(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Al.ElementType.Comment,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(M4);$n.Comment=vDe;var bDe=function(e){$0(t,e);function t(n,r){var i=e.call(this,r)||this;return i.name=n,i.type=Al.ElementType.Directive,i}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(M4);$n.ProcessingInstruction=bDe;var I4=function(e){$0(t,e);function t(n){var r=e.call(this)||this;return r.children=n,r}return Object.defineProperty(t.prototype,"firstChild",{get:function(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(n){this.children=n},enumerable:!1,configurable:!0}),t}(Lte);$n.NodeWithChildren=I4;var ODe=function(e){$0(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Al.ElementType.CDATA,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(I4);$n.CDATA=ODe;var xDe=function(e){$0(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Al.ElementType.Root,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(I4);$n.Document=xDe;var wDe=function(e){$0(t,e);function t(n,r,i,o){i===void 0&&(i=[]),o===void 0&&(o=n==="script"?Al.ElementType.Script:n==="style"?Al.ElementType.Style:Al.ElementType.Tag);var s=e.call(this,i)||this;return s.name=n,s.attribs=r,s.type=o,s}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(n){this.name=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var n=this;return Object.keys(this.attribs).map(function(r){var i,o;return{name:r,value:n.attribs[r],namespace:(i=n["x-attribsNamespace"])===null||i===void 0?void 0:i[r],prefix:(o=n["x-attribsPrefix"])===null||o===void 0?void 0:o[r]}})},enumerable:!1,configurable:!0}),t}(I4);$n.Element=wDe;function SDe(e){return(0,Al.isTag)(e)}$n.isTag=SDe;function _De(e){return e.type===Al.ElementType.CDATA}$n.isCDATA=_De;function CDe(e){return e.type===Al.ElementType.Text}$n.isText=CDe;function $De(e){return e.type===Al.ElementType.Comment}$n.isComment=$De;function EDe(e){return e.type===Al.ElementType.Directive}$n.isDirective=EDe;function kDe(e){return e.type===Al.ElementType.Root}$n.isDocument=kDe;function _mt(e){return Object.prototype.hasOwnProperty.call(e,"children")}$n.hasChildren=_mt;function jte(e,t){t===void 0&&(t=!1);var n;if(CDe(e))n=new yDe(e.data);else if($De(e))n=new vDe(e.data);else if(SDe(e)){var r=t?$Q(e.children):[],i=new wDe(e.name,ck({},e.attribs),r);r.forEach(function(l){return l.parent=i}),e.namespace!=null&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]=ck({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]=ck({},e["x-attribsPrefix"])),n=i}else if(_De(e)){var r=t?$Q(e.children):[],o=new ODe(r);r.forEach(function(c){return c.parent=o}),n=o}else if(kDe(e)){var r=t?$Q(e.children):[],s=new xDe(r);r.forEach(function(c){return c.parent=s}),e["x-mode"]&&(s["x-mode"]=e["x-mode"]),n=s}else if(EDe(e)){var a=new bDe(e.name,e.data);e["x-name"]!=null&&(a["x-name"]=e["x-name"],a["x-publicId"]=e["x-publicId"],a["x-systemId"]=e["x-systemId"]),n=a}else throw new Error("Not implemented yet: ".concat(e.type));return n.startIndex=e.startIndex,n.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(n.sourceCodeLocation=e.sourceCodeLocation),n}$n.cloneNode=jte;function $Q(e){for(var t=e.map(function(r){return jte(r,!0)}),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}(function(e){var t=ct&&ct.__createBinding||(Object.create?function(a,l,c,u){u===void 0&&(u=c);var f=Object.getOwnPropertyDescriptor(l,c);(!f||("get"in f?!l.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return l[c]}}),Object.defineProperty(a,u,f)}:function(a,l,c,u){u===void 0&&(u=c),a[u]=l[c]}),n=ct&&ct.__exportStar||function(a,l){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&t(l,a,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var r=Ite,i=$n;n($n,e);var o={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},s=function(){function a(l,c,u){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof c=="function"&&(u=c,c=o),typeof l=="object"&&(c=l,l=void 0),this.callback=l??null,this.options=c??o,this.elementCB=u??null}return a.prototype.onparserinit=function(l){this.parser=l},a.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},a.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},a.prototype.onerror=function(l){this.handleCallback(l)},a.prototype.onclosetag=function(){this.lastNode=null;var l=this.tagStack.pop();this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(l)},a.prototype.onopentag=function(l,c){var u=this.options.xmlMode?r.ElementType.Tag:void 0,f=new i.Element(l,c,void 0,u);this.addNode(f),this.tagStack.push(f)},a.prototype.ontext=function(l){var c=this.lastNode;if(c&&c.type===r.ElementType.Text)c.data+=l,this.options.withEndIndices&&(c.endIndex=this.parser.endIndex);else{var u=new i.Text(l);this.addNode(u),this.lastNode=u}},a.prototype.oncomment=function(l){if(this.lastNode&&this.lastNode.type===r.ElementType.Comment){this.lastNode.data+=l;return}var c=new i.Comment(l);this.addNode(c),this.lastNode=c},a.prototype.oncommentend=function(){this.lastNode=null},a.prototype.oncdatastart=function(){var l=new i.Text(""),c=new i.CDATA([l]);this.addNode(c),l.parent=c,this.lastNode=l},a.prototype.oncdataend=function(){this.lastNode=null},a.prototype.onprocessinginstruction=function(l,c){var u=new i.ProcessingInstruction(l,c);this.addNode(u)},a.prototype.handleCallback=function(l){if(typeof this.callback=="function")this.callback(l,this.dom);else if(l)throw l},a.prototype.addNode=function(l){var c=this.tagStack[this.tagStack.length-1],u=c.children[c.children.length-1];this.options.withStartIndices&&(l.startIndex=this.parser.startIndex),this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),c.children.push(l),u&&(l.prev=u,u.next=l),l.parent=c,this.lastNode=null},a}();e.DomHandler=s,e.default=s})(Mte);var TDe={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES=void 0,e.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES.reduce(function(t,n){return t[n.toLowerCase()]=n,t},{})})(TDe);Object.defineProperty(aS,"__esModule",{value:!0});aS.formatDOM=aS.formatAttributes=void 0;var uD=Mte,Cmt=TDe;function $mt(e){return Cmt.CASE_SENSITIVE_TAG_NAMES_MAP[e]}function PDe(e){for(var t={},n=0,r=e.length;n<r;n++){var i=e[n];t[i.name]=i.value}return t}aS.formatAttributes=PDe;function Emt(e){e=e.toLowerCase();var t=$mt(e);return t||e}function RDe(e,t,n){t===void 0&&(t=null);for(var r=[],i,o=0,s=e.length;o<s;o++){var a=e[o];switch(a.nodeType){case 1:{var l=Emt(a.nodeName);i=new uD.Element(l,PDe(a.attributes)),i.children=RDe(l==="template"?a.content.childNodes:a.childNodes,i);break}case 3:i=new uD.Text(a.nodeValue);break;case 8:i=new uD.Comment(a.nodeValue);break;default:continue}var c=r[o-1]||null;c&&(c.next=i),i.parent=t,i.prev=c,i.next=null,r.push(i)}return n&&(i=new uD.ProcessingInstruction(n.substring(0,n.indexOf(" ")).toLowerCase(),n),i.next=r[0]||null,i.parent=t,r.unshift(i),r[1]&&(r[1].prev=r[0])),r}aS.formatDOM=RDe;var kmt=ct&&ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dte,"__esModule",{value:!0});var Tmt=kmt(Nte),Pmt=aS,Rmt=/<(![a-zA-Z\s]+)>/;function Amt(e){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];var t=e.match(Rmt),n=t?t[1]:void 0;return(0,Pmt.formatDOM)((0,Tmt.default)(e),null,n)}Dte.default=Amt;var L4={},ld={},j4={},Dmt=0;j4.SAME=Dmt;var Nmt=1;j4.CAMELCASE=Nmt;j4.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1};const ADe=0,E0=1,F4=2,z4=3,Fte=4,DDe=5,NDe=6;function Mmt(e){return js.hasOwnProperty(e)?js[e]:null}function ll(e,t,n,r,i,o,s){this.acceptsBooleans=t===F4||t===z4||t===Fte,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}const js={},Imt=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];Imt.forEach(e=>{js[e]=new ll(e,ADe,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([e,t])=>{js[e]=new ll(e,E0,!1,t,null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(e=>{js[e]=new ll(e,F4,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(e=>{js[e]=new ll(e,F4,!1,e,null,!1,!1)});["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(e=>{js[e]=new ll(e,z4,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(e=>{js[e]=new ll(e,z4,!0,e,null,!1,!1)});["capture","download"].forEach(e=>{js[e]=new ll(e,Fte,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(e=>{js[e]=new ll(e,NDe,!1,e,null,!1,!1)});["rowSpan","start"].forEach(e=>{js[e]=new ll(e,DDe,!1,e.toLowerCase(),null,!1,!1)});const zte=/[\-\:]([a-z])/g,Qte=e=>e[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(e=>{const t=e.replace(zte,Qte);js[t]=new ll(t,E0,!1,e,null,!1,!1)});["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(e=>{const t=e.replace(zte,Qte);js[t]=new ll(t,E0,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(e=>{const t=e.replace(zte,Qte);js[t]=new ll(t,E0,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(e=>{js[e]=new ll(e,E0,!1,e.toLowerCase(),null,!1,!1)});const Lmt="xlinkHref";js[Lmt]=new ll("xlinkHref",E0,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(e=>{js[e]=new ll(e,E0,!1,e.toLowerCase(),null,!0,!0)});const{CAMELCASE:jmt,SAME:Fmt,possibleStandardNames:Rge}=j4,zmt=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Qmt=zmt+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Bmt=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+Qmt+"]*$")),Wmt=Object.keys(Rge).reduce((e,t)=>{const n=Rge[t];return n===Fmt?e[t]=t:n===jmt?e[t.toLowerCase()]=t:e[t]=n,e},{});ld.BOOLEAN=z4;ld.BOOLEANISH_STRING=F4;ld.NUMERIC=DDe;ld.OVERLOADED_BOOLEAN=Fte;ld.POSITIVE_NUMERIC=NDe;ld.RESERVED=ADe;ld.STRING=E0;ld.getPropertyInfo=Mmt;ld.isCustomAttribute=Bmt;ld.possibleStandardNames=Wmt;var Bte={},Wte={},Vte={},Age=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Vmt=/\n/g,Umt=/^\s*/,qmt=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Ymt=/^:\s*/,Xmt=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Hmt=/^[;\s]*/,Zmt=/^\s+|\s+$/g,Gmt=`
`,Dge="/",Nge="*",Rv="",Kmt="comment",Jmt="declaration",eyt=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var g=p.match(Vmt);g&&(n+=g.length);var y=p.lastIndexOf(Gmt);r=~y?p.length-y:r+p.length}function o(){var p={line:n,column:r};return function(g){return g.position=new s(p),c(),g}}function s(p){this.start=p,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function a(p){var g=new Error(t.source+":"+n+":"+r+": "+p);if(g.reason=p,g.filename=t.source,g.line=n,g.column=r,g.source=e,!t.silent)throw g}function l(p){var g=p.exec(e);if(g){var y=g[0];return i(y),e=e.slice(y.length),g}}function c(){l(Umt)}function u(p){var g;for(p=p||[];g=f();)g!==!1&&p.push(g);return p}function f(){var p=o();if(!(Dge!=e.charAt(0)||Nge!=e.charAt(1))){for(var g=2;Rv!=e.charAt(g)&&(Nge!=e.charAt(g)||Dge!=e.charAt(g+1));)++g;if(g+=2,Rv===e.charAt(g-1))return a("End of comment missing");var y=e.slice(2,g-2);return r+=2,i(y),e=e.slice(g),r+=2,p({type:Kmt,comment:y})}}function d(){var p=o(),g=l(qmt);if(g){if(f(),!l(Ymt))return a("property missing ':'");var y=l(Xmt),v=p({type:Jmt,property:Mge(g[0].replace(Age,Rv)),value:y?Mge(y[0].replace(Age,Rv)):Rv});return l(Hmt),v}}function h(){var p=[];u(p);for(var g;g=d();)g!==!1&&(p.push(g),u(p));return p}return c(),h()};function Mge(e){return e?e.replace(Zmt,Rv):Rv}var tyt=ct&&ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vte,"__esModule",{value:!0});var nyt=tyt(eyt);function ryt(e,t){var n=null;if(!e||typeof e!="string")return n;var r=(0,nyt.default)(e),i=typeof t=="function";return r.forEach(function(o){if(o.type==="declaration"){var s=o.property,a=o.value;i?t(s,a,o):a&&(n=n||{},n[s]=a)}}),n}Vte.default=ryt;var Q4={};Object.defineProperty(Q4,"__esModule",{value:!0});Q4.camelCase=void 0;var iyt=/^--[a-zA-Z0-9-]+$/,oyt=/-([a-z])/g,syt=/^[^-]+$/,ayt=/^-(webkit|moz|ms|o|khtml)-/,lyt=/^-(ms)-/,cyt=function(e){return!e||syt.test(e)||iyt.test(e)},uyt=function(e,t){return t.toUpperCase()},Ige=function(e,t){return"".concat(t,"-")},fyt=function(e,t){return t===void 0&&(t={}),cyt(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(lyt,Ige):e=e.replace(ayt,Ige),e.replace(oyt,uyt))};Q4.camelCase=fyt;var dyt=ct&&ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wte,"__esModule",{value:!0});var hyt=dyt(Vte),pyt=Q4;function gyt(e,t){var n={};return!e||typeof e!="string"||(0,hyt.default)(e,function(r,i){r&&i&&(n[(0,pyt.camelCase)(r,t)]=i)}),n}Wte.default=gyt;(function(e){var t=ct&&ct.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.returnFirstArg=e.canTextBeChildOfNode=e.ELEMENTS_WITH_NO_TEXT_CHILDREN=e.PRESERVE_CUSTOM_ATTRIBUTES=e.setStyleProp=e.isCustomComponent=void 0;var n=O,r=t(Wte),i=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function o(u,f){return u.includes("-")?!i.has(u):!!(f&&typeof f.is=="string")}e.isCustomComponent=o;var s={reactCompat:!0};function a(u,f){if(typeof u=="string"){if(!u.trim()){f.style={};return}try{f.style=(0,r.default)(u,s)}catch{f.style={}}}}e.setStyleProp=a,e.PRESERVE_CUSTOM_ATTRIBUTES=Number(n.version.split(".")[0])>=16,e.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);var l=function(u){return!e.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(u.name)};e.canTextBeChildOfNode=l;var c=function(u){return u};e.returnFirstArg=c})(Bte);Object.defineProperty(L4,"__esModule",{value:!0});var lE=ld,Lge=Bte,myt=["checked","value"],yyt=["input","select","textarea"],vyt={reset:!0,submit:!0};function byt(e,t){e===void 0&&(e={});var n={},r=!!(e.type&&vyt[e.type]);for(var i in e){var o=e[i];if((0,lE.isCustomAttribute)(i)){n[i]=o;continue}var s=i.toLowerCase(),a=jge(s);if(a){var l=(0,lE.getPropertyInfo)(a);switch(myt.includes(a)&&yyt.includes(t)&&!r&&(a=jge("default"+s)),n[a]=o,l&&l.type){case lE.BOOLEAN:n[a]=!0;break;case lE.OVERLOADED_BOOLEAN:o===""&&(n[a]=!0);break}continue}Lge.PRESERVE_CUSTOM_ATTRIBUTES&&(n[i]=o)}return(0,Lge.setStyleProp)(e.style,n),n}L4.default=byt;function jge(e){return lE.possibleStandardNames[e]}var Ute={},Oyt=ct&&ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ute,"__esModule",{value:!0});var EQ=O,xyt=Oyt(L4),uk=Bte,wyt={cloneElement:EQ.cloneElement,createElement:EQ.createElement,isValidElement:EQ.isValidElement};function MDe(e,t){for(var n=[],r=typeof(t==null?void 0:t.replace)=="function",i=(t==null?void 0:t.transform)||uk.returnFirstArg,o=(t==null?void 0:t.library)||wyt,s=o.cloneElement,a=o.createElement,l=o.isValidElement,c=e.length,u=0;u<c;u++){var f=e[u];if(r){var d=t.replace(f,u);if(l(d)){c>1&&(d=s(d,{key:d.key||u})),n.push(i(d,f,u));continue}}if(f.type==="text"){var h=!f.data.trim().length;if(h&&f.parent&&!(0,uk.canTextBeChildOfNode)(f.parent)||t!=null&&t.trim&&h)continue;n.push(i(f.data,f,u));continue}var p=f,g={};Syt(p)?((0,uk.setStyleProp)(p.attribs.style,p.attribs),g=p.attribs):p.attribs&&(g=(0,xyt.default)(p.attribs,p.name));var y=void 0;switch(f.type){case"script":case"style":f.children[0]&&(g.dangerouslySetInnerHTML={__html:f.children[0].data});break;case"tag":f.name==="textarea"&&f.children[0]?g.defaultValue=f.children[0].data:f.children&&f.children.length&&(y=MDe(f.children,t));break;default:continue}c>1&&(g.key=u),n.push(i(a(f.name,g,y),f,u))}return n.length===1?n[0]:n}Ute.default=MDe;function Syt(e){return uk.PRESERVE_CUSTOM_ATTRIBUTES&&e.type==="tag"&&(0,uk.isCustomComponent)(e.name,e.attribs)}(function(e){var t=ct&&ct.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(e,"__esModule",{value:!0}),e.htmlToDOM=e.domToReact=e.attributesToProps=e.Text=e.ProcessingInstruction=e.Element=e.Comment=void 0;var n=t(Dte);e.htmlToDOM=n.default;var r=t(L4);e.attributesToProps=r.default;var i=t(Ute);e.domToReact=i.default;var o=Mte;Object.defineProperty(e,"Comment",{enumerable:!0,get:function(){return o.Comment}}),Object.defineProperty(e,"Element",{enumerable:!0,get:function(){return o.Element}}),Object.defineProperty(e,"ProcessingInstruction",{enumerable:!0,get:function(){return o.ProcessingInstruction}}),Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return o.Text}});var s={lowerCaseAttributeNames:!1};function a(l,c){if(typeof l!="string")throw new TypeError("First argument must be a string");return l?(0,i.default)((0,n.default)(l,(c==null?void 0:c.htmlparser2)||s),c):[]}e.default=a})(Ate);const Fge=Uu(Ate),_yt=Fge.default||Fge,Ha=({html:e})=>_yt(e,{replace:t=>{if(t instanceof Ate.Element&&t.attribs&&t.name==="iframe"){const n=document.createElement("iframe");return Object.entries(t.attribs).forEach(([r,i])=>{n.setAttribute(r,i)}),b.jsx("div",{dangerouslySetInnerHTML:{__html:n.outerHTML}})}return t}}),B4=O.memo(({html:e,inline:t=!1,className:n})=>{const r=O.useRef(null);return O.useLayoutEffect(()=>{const i=r.current;if(!i){Ut.error("Output is not initialized");return}async function o(s){const a=Array.from(s.querySelectorAll("script"));for(const l of a)if(l.src!=null&&l.src!==""){let c=vmt(l.src);if(c===null){const u=document.createElement("script");u.src=l.src,u.type=l.type,c={element:u,loaded:!1},bmt(l.src,c)}if(!(c!=null&&c.loaded)){const u=c.element;await new Promise(f=>{document.head.append(u),u.addEventListener("load",f),u.addEventListener("error",f)}),c.loaded=!0}}else{const u=`"use strict"; return (async () => {${l.innerText}})()`;try{await new Function(u)()}catch(f){Ut.error("Failed to execute script ",l),Ut.error(f)}}}o(i)},[e,r]),e?b.jsx("div",{className:ve(n,{"inline-flex":t,block:!t}),ref:r,children:Ha({html:e})}):null});B4.displayName="HtmlOutput";const IDe=({src:e,alt:t="",width:n,height:r,className:i})=>b.jsx("span",{className:i,children:b.jsx("img",{src:e,alt:t,width:n,height:r})});var kQ=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},Rr;(function(e){e[e.EOS=0]="EOS",e[e.Text=1]="Text",e[e.Incomplete=2]="Incomplete",e[e.ESC=3]="ESC",e[e.Unknown=4]="Unknown",e[e.SGR=5]="SGR",e[e.OSCURL=6]="OSCURL"})(Rr||(Rr={}));class LDe{constructor(){this.VERSION="6.0.2",this.setup_palettes(),this._use_classes=!1,this.bold=!1,this.faint=!1,this.italic=!1,this.underline=!1,this.fg=this.bg=null,this._buffer="",this._url_allowlist={http:1,https:1},this._escape_html=!0,this.boldStyle="font-weight:bold",this.faintStyle="opacity:0.7",this.italicStyle="font-style:italic",this.underlineStyle="text-decoration:underline"}set use_classes(t){this._use_classes=t}get use_classes(){return this._use_classes}set url_allowlist(t){this._url_allowlist=t}get url_allowlist(){return this._url_allowlist}set escape_html(t){this._escape_html=t}get escape_html(){return this._escape_html}set boldStyle(t){this._boldStyle=t}get boldStyle(){return this._boldStyle}set faintStyle(t){this._faintStyle=t}get faintStyle(){return this._faintStyle}set italicStyle(t){this._italicStyle=t}get italicStyle(){return this._italicStyle}set underlineStyle(t){this._underlineStyle=t}get underlineStyle(){return this._underlineStyle}setup_palettes(){this.ansi_colors=[[{rgb:[0,0,0],class_name:"ansi-black"},{rgb:[187,0,0],class_name:"ansi-red"},{rgb:[0,187,0],class_name:"ansi-green"},{rgb:[187,187,0],class_name:"ansi-yellow"},{rgb:[0,0,187],class_name:"ansi-blue"},{rgb:[187,0,187],class_name:"ansi-magenta"},{rgb:[0,187,187],class_name:"ansi-cyan"},{rgb:[255,255,255],class_name:"ansi-white"}],[{rgb:[85,85,85],class_name:"ansi-bright-black"},{rgb:[255,85,85],class_name:"ansi-bright-red"},{rgb:[0,255,0],class_name:"ansi-bright-green"},{rgb:[255,255,85],class_name:"ansi-bright-yellow"},{rgb:[85,85,255],class_name:"ansi-bright-blue"},{rgb:[255,85,255],class_name:"ansi-bright-magenta"},{rgb:[85,255,255],class_name:"ansi-bright-cyan"},{rgb:[255,255,255],class_name:"ansi-bright-white"}]],this.palette_256=[],this.ansi_colors.forEach(r=>{r.forEach(i=>{this.palette_256.push(i)})});let t=[0,95,135,175,215,255];for(let r=0;r<6;++r)for(let i=0;i<6;++i)for(let o=0;o<6;++o){let s={rgb:[t[r],t[i],t[o]],class_name:"truecolor"};this.palette_256.push(s)}let n=8;for(let r=0;r<24;++r,n+=10){let i={rgb:[n,n,n],class_name:"truecolor"};this.palette_256.push(i)}}escape_txt_for_html(t){return this._escape_html?t.replace(/[&<>"']/gm,n=>{if(n==="&")return"&amp;";if(n==="<")return"&lt;";if(n===">")return"&gt;";if(n==='"')return"&quot;";if(n==="'")return"&#x27;"}):t}append_buffer(t){var n=this._buffer+t;this._buffer=n}get_next_packet(){var t={kind:Rr.EOS,text:"",url:""},n=this._buffer.length;if(n==0)return t;var r=this._buffer.indexOf("\x1B");if(r==-1)return t.kind=Rr.Text,t.text=this._buffer,this._buffer="",t;if(r>0)return t.kind=Rr.Text,t.text=this._buffer.slice(0,r),this._buffer=this._buffer.slice(r),t;if(r==0){if(n<3)return t.kind=Rr.Incomplete,t;var i=this._buffer.charAt(1);if(i!="["&&i!="]"&&i!="(")return t.kind=Rr.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;if(i=="["){this._csi_regex||(this._csi_regex=zge(Qge||(Qge=kQ([`
                        ^                           # beginning of line
                                                    #
                                                    # First attempt
                        (?:                         # legal sequence
                          \x1B[                      # CSI
                          ([<-?]?)              # private-mode char
                          ([d;]*)                    # any digits or semicolons
                          ([ -/]?               # an intermediate modifier
                          [@-~])                # the command
                        )
                        |                           # alternate (second attempt)
                        (?:                         # illegal sequence
                          \x1B[                      # CSI
                          [ -~]*                # anything legal
                          ([\0-:])              # anything illegal
                        )
                    `],[`
                        ^                           # beginning of line
                                                    #
                                                    # First attempt
                        (?:                         # legal sequence
                          \\x1b\\[                      # CSI
                          ([\\x3c-\\x3f]?)              # private-mode char
                          ([\\d;]*)                    # any digits or semicolons
                          ([\\x20-\\x2f]?               # an intermediate modifier
                          [\\x40-\\x7e])                # the command
                        )
                        |                           # alternate (second attempt)
                        (?:                         # illegal sequence
                          \\x1b\\[                      # CSI
                          [\\x20-\\x7e]*                # anything legal
                          ([\\x00-\\x1f:])              # anything illegal
                        )
                    `]))));let s=this._buffer.match(this._csi_regex);if(s===null)return t.kind=Rr.Incomplete,t;if(s[4])return t.kind=Rr.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;s[1]!=""||s[3]!="m"?t.kind=Rr.Unknown:t.kind=Rr.SGR,t.text=s[2];var o=s[0].length;return this._buffer=this._buffer.slice(o),t}else if(i=="]"){if(n<4)return t.kind=Rr.Incomplete,t;if(this._buffer.charAt(2)!="8"||this._buffer.charAt(3)!=";")return t.kind=Rr.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;this._osc_st||(this._osc_st=Cyt(Bge||(Bge=kQ([`
                        (?:                         # legal sequence
                          (\x1B\\)                    # ESC                           |                           # alternate
                          (\x07)                      # BEL (what xterm did)
                        )
                        |                           # alternate (second attempt)
                        (                           # illegal sequence
                          [\0-]                 # anything illegal
                          |                           # alternate
                          [\b-]                 # anything illegal
                          |                           # alternate
                          [-]                 # anything illegal
                        )
                    `],[`
                        (?:                         # legal sequence
                          (\\x1b\\\\)                    # ESC \\
                          |                           # alternate
                          (\\x07)                      # BEL (what xterm did)
                        )
                        |                           # alternate (second attempt)
                        (                           # illegal sequence
                          [\\x00-\\x06]                 # anything illegal
                          |                           # alternate
                          [\\x08-\\x1a]                 # anything illegal
                          |                           # alternate
                          [\\x1c-\\x1f]                 # anything illegal
                        )
                    `])))),this._osc_st.lastIndex=0;{let l=this._osc_st.exec(this._buffer);if(l===null)return t.kind=Rr.Incomplete,t;if(l[3])return t.kind=Rr.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t}{let l=this._osc_st.exec(this._buffer);if(l===null)return t.kind=Rr.Incomplete,t;if(l[3])return t.kind=Rr.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t}this._osc_regex||(this._osc_regex=zge(Wge||(Wge=kQ([`
                        ^                           # beginning of line
                                                    #
                        \x1B]8;                    # OSC Hyperlink
                        [ -:<-~]*       # params (excluding ;)
                        ;                           # end of params
                        ([!-~]{0,512})        # URL capture
                        (?:                         # ST
                          (?:\x1B\\)                  # ESC                           |                           # alternate
                          (?:\x07)                    # BEL (what xterm did)
                        )
                        ([ -~]+)              # TEXT capture
                        \x1B]8;;                   # OSC Hyperlink End
                        (?:                         # ST
                          (?:\x1B\\)                  # ESC                           |                           # alternate
                          (?:\x07)                    # BEL (what xterm did)
                        )
                    `],[`
                        ^                           # beginning of line
                                                    #
                        \\x1b\\]8;                    # OSC Hyperlink
                        [\\x20-\\x3a\\x3c-\\x7e]*       # params (excluding ;)
                        ;                           # end of params
                        ([\\x21-\\x7e]{0,512})        # URL capture
                        (?:                         # ST
                          (?:\\x1b\\\\)                  # ESC \\
                          |                           # alternate
                          (?:\\x07)                    # BEL (what xterm did)
                        )
                        ([\\x20-\\x7e]+)              # TEXT capture
                        \\x1b\\]8;;                   # OSC Hyperlink End
                        (?:                         # ST
                          (?:\\x1b\\\\)                  # ESC \\
                          |                           # alternate
                          (?:\\x07)                    # BEL (what xterm did)
                        )
                    `]))));let s=this._buffer.match(this._osc_regex);if(s===null)return t.kind=Rr.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;t.kind=Rr.OSCURL,t.url=s[1],t.text=s[2];var o=s[0].length;return this._buffer=this._buffer.slice(o),t}else if(i=="(")return t.kind=Rr.Unknown,this._buffer=this._buffer.slice(3),t}}ansi_to_html(t){this.append_buffer(t);for(var n=[];;){var r=this.get_next_packet();if(r.kind==Rr.EOS||r.kind==Rr.Incomplete)break;r.kind==Rr.ESC||r.kind==Rr.Unknown||(r.kind==Rr.Text?n.push(this.transform_to_html(this.with_state(r))):r.kind==Rr.SGR?this.process_ansi(r):r.kind==Rr.OSCURL&&n.push(this.process_hyperlink(r)))}return n.join("")}with_state(t){return{bold:this.bold,faint:this.faint,italic:this.italic,underline:this.underline,fg:this.fg,bg:this.bg,text:t.text}}process_ansi(t){let n=t.text.split(";");for(;n.length>0;){let r=n.shift(),i=parseInt(r,10);if(isNaN(i)||i===0)this.fg=null,this.bg=null,this.bold=!1,this.faint=!1,this.italic=!1,this.underline=!1;else if(i===1)this.bold=!0;else if(i===2)this.faint=!0;else if(i===3)this.italic=!0;else if(i===4)this.underline=!0;else if(i===21)this.bold=!1;else if(i===22)this.faint=!1,this.bold=!1;else if(i===23)this.italic=!1;else if(i===24)this.underline=!1;else if(i===39)this.fg=null;else if(i===49)this.bg=null;else if(i>=30&&i<38)this.fg=this.ansi_colors[0][i-30];else if(i>=40&&i<48)this.bg=this.ansi_colors[0][i-40];else if(i>=90&&i<98)this.fg=this.ansi_colors[1][i-90];else if(i>=100&&i<108)this.bg=this.ansi_colors[1][i-100];else if((i===38||i===48)&&n.length>0){let o=i===38,s=n.shift();if(s==="5"&&n.length>0){let a=parseInt(n.shift(),10);a>=0&&a<=255&&(o?this.fg=this.palette_256[a]:this.bg=this.palette_256[a])}if(s==="2"&&n.length>2){let a=parseInt(n.shift(),10),l=parseInt(n.shift(),10),c=parseInt(n.shift(),10);if(a>=0&&a<=255&&l>=0&&l<=255&&c>=0&&c<=255){let u={rgb:[a,l,c],class_name:"truecolor"};o?this.fg=u:this.bg=u}}}}}transform_to_html(t){let n=t.text;if(n.length===0||(n=this.escape_txt_for_html(n),!t.bold&&!t.italic&&!t.underline&&t.fg===null&&t.bg===null))return n;let r=[],i=[],o=t.fg,s=t.bg;t.bold&&r.push(this._boldStyle),t.faint&&r.push(this._faintStyle),t.italic&&r.push(this._italicStyle),t.underline&&r.push(this._underlineStyle),this._use_classes?(o&&(o.class_name!=="truecolor"?i.push(`${o.class_name}-fg`):r.push(`color:rgb(${o.rgb.join(",")})`)),s&&(s.class_name!=="truecolor"?i.push(`${s.class_name}-bg`):r.push(`background-color:rgb(${s.rgb.join(",")})`))):(o&&r.push(`color:rgb(${o.rgb.join(",")})`),s&&r.push(`background-color:rgb(${s.rgb})`));let a="",l="";return i.length&&(a=` class="${i.join(" ")}"`),r.length&&(l=` style="${r.join(";")}"`),`<span${l}${a}>${n}</span>`}process_hyperlink(t){let n=t.url.split(":");return n.length<1||!this._url_allowlist[n[0]]?"":`<a href="${this.escape_txt_for_html(t.url)}">${this.escape_txt_for_html(t.text)}</a>`}}function zge(e,...t){let n=e.raw[0],r=/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,i=n.replace(r,"");return new RegExp(i)}function Cyt(e,...t){let n=e.raw[0],r=/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,i=n.replace(r,"");return new RegExp(i,"g")}var Qge,Bge,Wge;const $yt=new LDe,qte=({text:e,channel:t})=>{const n=t==="stdout",r=i=>b.jsx("span",{dangerouslySetInnerHTML:{__html:$yt.ansi_to_html(i)}});return b.jsx("span",{className:ve("whitespace-pre",t==="output"&&"font-prose",t),children:n?r(e):e})},jDe=({src:e,className:t})=>b.jsx("iframe",{className:t,src:e});function Rg(e){return Ut.warn(`Unexpected object: ${JSON.stringify(e)}`),e}const W4=O.memo(({data:e,format:t="auto",name:n=!1,className:r})=>{const{theme:i}=_0();switch(t==="auto"&&(t=Eyt(e)),t){case"tree":return b.jsx(ymt,{className:"marimo-json-output",rootName:n,theme:i,value:e,style:{backgroundColor:"transparent"},valueTypes:Tyt,groupArraysAfterLength:1e6,enableClipboard:!1});case"raw":return b.jsx("pre",{className:r,children:JSON.stringify(e,null,2)});default:return Rg(t),b.jsx("pre",{className:r,children:JSON.stringify(e,null,2)})}});W4.displayName="JsonOutput";function Eyt(e){return typeof e=="object"&&e!==null?"tree":"raw"}const kyt={"image/":e=>b.jsx(IDe,{src:e}),"video/":e=>b.jsx(jDe,{src:e}),"text/html":e=>b.jsx(B4,{html:e,inline:!0}),"text/plain":e=>b.jsx(qte,{text:e})},Tyt=Object.entries(kyt).map(([e,t])=>({is:n=>typeof n=="string"&&n.startsWith(e),Component:n=>Ryt(n.value,t)}));function Pyt(e){const t=e.indexOf(":");if(t===-1)throw new Error("Invalid leaf");return e.slice(t+1)}function Ryt(e,t){try{return t(Pyt(e))}catch{return b.jsx(qte,{text:"Invalid leaf: {leaf}"})}}const FDe=({container:e,children:t})=>{const n=O.useMemo(()=>{if(!e)return iY({key:"mo",prepend:!0});let r=e.querySelector("style");return r||(r=document.createElement("style"),e.append(r)),iY({key:"mo",prepend:!0,container:r})},[e]);return b.jsx(Yft,{value:n,children:t})},Ayt=({error:e,badData:t,shadowRoot:n})=>e instanceof $u?b.jsxs(FP,{variant:"destructive",children:[b.jsx(zP,{children:"Bad Data"}),b.jsx("div",{className:"text-md",children:b.jsx("ul",{children:e.issues.map(r=>{const i=r.path.join(".");return b.jsxs("li",{children:[b.jsx("span",{className:"font-bold",children:i}),": ",r.message]},i)})})}),b.jsx(ste,{type:"single",collapsible:!0,children:b.jsxs(gAe,{value:"item-1",className:"text-muted-foreground border-muted-foreground-20",children:[b.jsx(mAe,{className:"py-2 text-[0.84375rem]",children:"View Data:"}),b.jsx(yAe,{className:"text-[0.84375rem]",children:b.jsx(FDe,{container:n,children:b.jsx(W4,{data:t})})})]})})]}):b.jsx("div",{children:e.message});function Dyt(e,t,n){return b.jsx(Ayt,{error:e,badData:t,shadowRoot:n})}var Yte={exports:{}};Yte.exports;(function(e){var t=function(){var n=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",o={};function s(l,c){if(!o[l]){o[l]={};for(var u=0;u<l.length;u++)o[l][l.charAt(u)]=u}return o[l][c]}var a={compressToBase64:function(l){if(l==null)return"";var c=a._compress(l,6,function(u){return r.charAt(u)});switch(c.length%4){default:case 0:return c;case 1:return c+"===";case 2:return c+"==";case 3:return c+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:a._decompress(l.length,32,function(c){return s(r,l.charAt(c))})},compressToUTF16:function(l){return l==null?"":a._compress(l,15,function(c){return n(c+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:a._decompress(l.length,16384,function(c){return l.charCodeAt(c)-32})},compressToUint8Array:function(l){for(var c=a.compress(l),u=new Uint8Array(c.length*2),f=0,d=c.length;f<d;f++){var h=c.charCodeAt(f);u[f*2]=h>>>8,u[f*2+1]=h%256}return u},decompressFromUint8Array:function(l){if(l==null)return a.decompress(l);for(var c=new Array(l.length/2),u=0,f=c.length;u<f;u++)c[u]=l[u*2]*256+l[u*2+1];var d=[];return c.forEach(function(h){d.push(n(h))}),a.decompress(d.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":a._compress(l,6,function(c){return i.charAt(c)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),a._decompress(l.length,32,function(c){return s(i,l.charAt(c))}))},compress:function(l){return a._compress(l,16,function(c){return n(c)})},_compress:function(l,c,u){if(l==null)return"";var f,d,h={},p={},g="",y="",v="",x=2,m=3,w=2,S=[],C=0,$=0,E;for(E=0;E<l.length;E+=1)if(g=l.charAt(E),Object.prototype.hasOwnProperty.call(h,g)||(h[g]=m++,p[g]=!0),y=v+g,Object.prototype.hasOwnProperty.call(h,y))v=y;else{if(Object.prototype.hasOwnProperty.call(p,v)){if(v.charCodeAt(0)<256){for(f=0;f<w;f++)C=C<<1,$==c-1?($=0,S.push(u(C)),C=0):$++;for(d=v.charCodeAt(0),f=0;f<8;f++)C=C<<1|d&1,$==c-1?($=0,S.push(u(C)),C=0):$++,d=d>>1}else{for(d=1,f=0;f<w;f++)C=C<<1|d,$==c-1?($=0,S.push(u(C)),C=0):$++,d=0;for(d=v.charCodeAt(0),f=0;f<16;f++)C=C<<1|d&1,$==c-1?($=0,S.push(u(C)),C=0):$++,d=d>>1}x--,x==0&&(x=Math.pow(2,w),w++),delete p[v]}else for(d=h[v],f=0;f<w;f++)C=C<<1|d&1,$==c-1?($=0,S.push(u(C)),C=0):$++,d=d>>1;x--,x==0&&(x=Math.pow(2,w),w++),h[y]=m++,v=String(g)}if(v!==""){if(Object.prototype.hasOwnProperty.call(p,v)){if(v.charCodeAt(0)<256){for(f=0;f<w;f++)C=C<<1,$==c-1?($=0,S.push(u(C)),C=0):$++;for(d=v.charCodeAt(0),f=0;f<8;f++)C=C<<1|d&1,$==c-1?($=0,S.push(u(C)),C=0):$++,d=d>>1}else{for(d=1,f=0;f<w;f++)C=C<<1|d,$==c-1?($=0,S.push(u(C)),C=0):$++,d=0;for(d=v.charCodeAt(0),f=0;f<16;f++)C=C<<1|d&1,$==c-1?($=0,S.push(u(C)),C=0):$++,d=d>>1}x--,x==0&&(x=Math.pow(2,w),w++),delete p[v]}else for(d=h[v],f=0;f<w;f++)C=C<<1|d&1,$==c-1?($=0,S.push(u(C)),C=0):$++,d=d>>1;x--,x==0&&(x=Math.pow(2,w),w++)}for(d=2,f=0;f<w;f++)C=C<<1|d&1,$==c-1?($=0,S.push(u(C)),C=0):$++,d=d>>1;for(;;)if(C=C<<1,$==c-1){S.push(u(C));break}else $++;return S.join("")},decompress:function(l){return l==null?"":l==""?null:a._decompress(l.length,32768,function(c){return l.charCodeAt(c)})},_decompress:function(l,c,u){var f=[],d=4,h=4,p=3,g="",y=[],v,x,m,w,S,C,$,E={val:u(0),position:c,index:1};for(v=0;v<3;v+=1)f[v]=v;for(m=0,S=Math.pow(2,2),C=1;C!=S;)w=E.val&E.position,E.position>>=1,E.position==0&&(E.position=c,E.val=u(E.index++)),m|=(w>0?1:0)*C,C<<=1;switch(m){case 0:for(m=0,S=Math.pow(2,8),C=1;C!=S;)w=E.val&E.position,E.position>>=1,E.position==0&&(E.position=c,E.val=u(E.index++)),m|=(w>0?1:0)*C,C<<=1;$=n(m);break;case 1:for(m=0,S=Math.pow(2,16),C=1;C!=S;)w=E.val&E.position,E.position>>=1,E.position==0&&(E.position=c,E.val=u(E.index++)),m|=(w>0?1:0)*C,C<<=1;$=n(m);break;case 2:return""}for(f[3]=$,x=$,y.push($);;){if(E.index>l)return"";for(m=0,S=Math.pow(2,p),C=1;C!=S;)w=E.val&E.position,E.position>>=1,E.position==0&&(E.position=c,E.val=u(E.index++)),m|=(w>0?1:0)*C,C<<=1;switch($=m){case 0:for(m=0,S=Math.pow(2,8),C=1;C!=S;)w=E.val&E.position,E.position>>=1,E.position==0&&(E.position=c,E.val=u(E.index++)),m|=(w>0?1:0)*C,C<<=1;f[h++]=n(m),$=h-1,d--;break;case 1:for(m=0,S=Math.pow(2,16),C=1;C!=S;)w=E.val&E.position,E.position>>=1,E.position==0&&(E.position=c,E.val=u(E.index++)),m|=(w>0?1:0)*C,C<<=1;f[h++]=n(m),$=h-1,d--;break;case 2:return y.join("")}if(d==0&&(d=Math.pow(2,p),p++),f[$])g=f[$];else if($===h)g=x+x.charAt(0);else return null;y.push(g),f[h++]=x+g.charAt(0),d--,x=g,d==0&&(d=Math.pow(2,p),p++)}}};return a}();e!=null?e.exports=t:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return t})})(Yte);var hY=Yte.exports;const Vge="marimo:file",Nyt={saveFile(e){localStorage.setItem(Vge,e)},readFile(){return localStorage.getItem(Vge)}},TQ="code",Myt={saveFile(e){const t=new URL(location.href),n=hY.compressToEncodedURIComponent(e);t.searchParams.set(TQ,n),history.replaceState(null,"",t.toString())},readFile(){const e=new URL(location.href);if(!e.searchParams.has(TQ))return null;const t=e.searchParams.get(TQ);return t?hY.decompressFromEncodedURIComponent(t):null}},Iyt={saveFile(e){},readFile(){const e=document.baseURI;return fetch(`${e}files/wasm-intro.py`).then(t=>t.text()).catch(()=>null)}},Lyt={saveFile(e){},readFile(){return["import marimo","app = marimo.App()","","@app.cell","def __():","  import marimo as mo","  x = 1 + 1","  x","  return mo,x","",'if __name__ == "__main__":',"  app.run()"].join(`
`)}};class jyt{constructor(t){this.stores=t}saveFile(t){this.stores.forEach(n=>n.saveFile(t))}readFile(){for(const t of this.stores){const n=t.readFile();if(n)return n}return null}}const Uge=new jyt([Myt,Nyt,Iyt,Lyt]);function zT(){return document.querySelector("marimo-wasm")!==null}class zDe{constructor(){be(this,"promise");be(this,"resolve");be(this,"reject");this.promise=new Promise((t,n)=>{this.reject=n,this.resolve=t})}}function Xte(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replaceAll(/[xy]/g,function(e){const t=Math.trunc(Math.random()*16);return(e==="x"?t:t&3|8).toString(16)})}const Fyt={create(){return Xte()}};class Hte{constructor(t,n,r={}){be(this,"requests",new Map);this.operation=t,this.makeRequest=n,this.opts=r}async request(t){if(this.opts.resolveExistingRequests){const i=this.opts.resolveExistingRequests();this.requests.forEach(o=>o.resolve(i)),this.requests.clear()}const n=Fyt.create(),r=new zDe;return this.requests.set(n,r),await this.makeRequest(n,t).catch(i=>{r.reject(i),this.requests.delete(n)}),r.promise}resolve(t,n){const r=this.requests.get(t);r!==void 0&&(r.resolve(n),this.requests.delete(t))}reject(t,n){const r=this.requests.get(t);r!==void 0&&(r.reject(n),this.requests.delete(t))}}const QDe="dmFyIFM9T2JqZWN0LmRlZmluZVByb3BlcnR5O3ZhciBGPShzLHIsYSk9PnIgaW4gcz9TKHMscix7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6YX0pOnNbcl09YTt2YXIgcD0ocyxyLGEpPT4oRihzLHR5cGVvZiByIT0ic3ltYm9sIj9yKyIiOnIsYSksYSk7KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NvbnN0IHM9Im5vdGVib29rLnB5Ijthc3luYyBmdW5jdGlvbiByKGUsbyl7Y29uc3QgdD0iL21hcmltbyI7cmV0dXJuIGF3YWl0IGUuRlMubWtkaXIodCksYXdhaXQgZS5GUy5tb3VudChlLkZTLmZpbGVzeXN0ZW1zLklEQkZTLHtyb290OiIuIn0sdCksZS5ydW5QeXRob24oYAogIGltcG9ydCBvcwogIG9zLmNoZGlyKCcvbWFyaW1vJykKICBgKSxhd2FpdCBlLkZTLmFuYWx5emVQYXRoKHMpLmV4aXN0c3x8YXdhaXQgZS5GUy53cml0ZUZpbGUocyxvLHtlbmNvZGluZzoidXRmOCJ9KSxvfHwiIn1jb25zdCBhPXtkZWJ1ZzooLi4uZSk9Pnt9LGxvZzooLi4uZSk9Pntjb25zb2xlLmxvZyguLi5lKX0sd2FybjooLi4uZSk9Pntjb25zb2xlLndhcm4oLi4uZSl9LGVycm9yOiguLi5lKT0+e2NvbnNvbGUuZXJyb3IoLi4uZSl9fTthc3luYyBmdW5jdGlvbiB5KCl7aWYoIWxvYWRQeW9kaWRlKXRocm93IG5ldyBFcnJvcigibG9hZFB5b2RpZGUgaXMgbm90IGRlZmluZWQiKTtjb25zdCBlPWF3YWl0IGxvYWRQeW9kaWRlKCk7YXdhaXQgZS5sb2FkUGFja2FnZSgibWljcm9waXAiKTtjb25zdCBvPSJtYXJpbW8gPj0gMC4yLjUiO3JldHVybiBhd2FpdCBlLnJ1blB5dGhvbkFzeW5jKGAKICAgIGltcG9ydCBtaWNyb3BpcAoKICAgIG1pY3JvcGlwLmFkZF9tb2NrX3BhY2thZ2UoIm11bHRpcHJvY2Vzc2luZyIsICIqIiwgbW9kdWxlcz17CiAgICAgICAgIm11bHRpcHJvY2Vzc2luZyI6IE5vbmUsCiAgICAgICAgIm11bHRpcHJvY2Vzc2luZy5jb25uZWN0aW9uIjogTm9uZSwKICAgICAgICAibXVsdGlwcm9jZXNzaW5nLmNvbnRleHQiOiBOb25lLAogICAgICAgICJtdWx0aXByb2Nlc3NpbmcubWFuYWdlcnMiOiBOb25lLAogICAgICAgICJtdWx0aXByb2Nlc3NpbmcucG9vbCI6IE5vbmUsCiAgICAgICAgIm11bHRpcHJvY2Vzc2luZy5zaGFyZWRjdHlwZXMiOiBOb25lLAogICAgICAgICJtdWx0aXByb2Nlc3Npbmcuc2hhcmVkX21lbW9yeSI6IE5vbmUsCiAgICAgICAgIm11bHRpcHJvY2Vzc2luZy5zcGF3biI6IE5vbmUsCiAgICB9KQoKICAgIGF3YWl0IG1pY3JvcGlwLmluc3RhbGwoCiAgICAgIFsKICAgICAgICAjIFN1YnNldCBvZiBtYXJpbW8gcmVxdWlyZW1lbnRzCiAgICAgICAgIiR7b30iLAogICAgICAgICJtYXJrZG93biIsCiAgICAgICAgImplZGkiLAogICAgICAgICJkb2N1dGlscyIsCiAgICAgICAgInB5bWRvd24tZXh0ZW5zaW9ucyIsCiAgICAgICAgInB5Z21lbnRzIiwKICAgICAgXSwKICAgICAgZGVwcz1GYWxzZQogICAgKTsKICBgKSxlfWFzeW5jIGZ1bmN0aW9uIGYoZSxvKXtyZXR1cm4gYXdhaXQgcihlLG8pLGF3YWl0IGUubG9hZFBhY2thZ2VzRnJvbUltcG9ydHMobyx7bWVzc2FnZUNhbGxiYWNrOmEubG9nLGVycm9yQ2FsbGJhY2s6YS5lcnJvcn0pLGF3YWl0IGUucnVuUHl0aG9uQXN5bmMoYAogICAgICBwcmludCgiW3B5XSBTdGFydGluZyBtYXJpbW8uLi4iKQogICAgICBpbXBvcnQgYXN5bmNpbwogICAgICBmcm9tIG1hcmltby5fcHlvZGlkZS5weW9kaWRlX3Nlc3Npb24gaW1wb3J0IGNyZWF0ZV9zZXNzaW9uLCBpbnN0YW50aWF0ZQoKICAgICAgc2Vzc2lvbiwgYnJpZGdlID0gY3JlYXRlX3Nlc3Npb24oZmlsZW5hbWU9IiR7c30iKQogICAgICBpbnN0YW50aWF0ZShzZXNzaW9uKQogICAgICBhc3luY2lvLmNyZWF0ZV90YXNrKHNlc3Npb24uc3RhcnQoKSkKCiAgICAgIGJyaWRnZWApfWZ1bmN0aW9uIHcoZSxvKXtpZighZSl0aHJvdyBuZXcgRXJyb3Iobyl9Y2xhc3MgaHtjb25zdHJ1Y3Rvcigpe3AodGhpcywicHJvbWlzZSIpO3AodGhpcywicmVzb2x2ZSIpO3AodGhpcywicmVqZWN0Iik7dGhpcy5wcm9taXNlPW5ldyBQcm9taXNlKChvLHQpPT57dGhpcy5yZWplY3Q9dCx0aGlzLnJlc29sdmU9b30pfX1hc3luYyBmdW5jdGlvbiBrKCl7YXdhaXQgaW1wb3J0KCJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvcHlvZGlkZS92MC4yNS4wL2Z1bGwvcHlvZGlkZS5qcyIpLHNlbGYucHlvZGlkZT1hd2FpdCB5KCl9Y29uc3QgUD1rKCksZD1uZXcgaDtsZXQgZz0hMTtmdW5jdGlvbiBiKGUpe2d8fChnPSEwLGYoc2VsZi5weW9kaWRlLGUpLnRoZW4obz0+e2QucmVzb2x2ZShvKSxuKHt0eXBlOiJpbml0aWFsaXplZCJ9KX0pKX1hc3luYyBmdW5jdGlvbiB1KCl7cmV0dXJuIGQucHJvbWlzZX1zZWxmLm9ubWVzc2FnZT1hc3luYyBlPT57aWYoYXdhaXQgUCxlLmRhdGEudHlwZT09PSJzZXQtY29kZSIpe2IoZS5kYXRhLmNvZGUpO3JldHVybn1pZihlLmRhdGEudHlwZT09PSJzdGFydC1tZXNzYWdlcyIpe2Zvcig7Oyl7Y29uc3QgbT1hd2FpdCB1KCk7Zm9yIGF3YWl0KGNvbnN0IGwgb2YgbSluKHt0eXBlOiJtZXNzYWdlIixtZXNzYWdlOmx9KX1yZXR1cm59Y29uc3R7aWQ6byxmdW5jdGlvbk5hbWU6dCxwYXlsb2FkOmN9PWUuZGF0YTt0cnl7aWYodD09PSJsb2FkX3BhY2thZ2VzIil7dyh0eXBlb2YgYz09InN0cmluZyIsIkV4cGVjdGVkIGEgc3RyaW5nIHBheWxvYWQgZm9yIGxvYWRfcGFja2FnZXMiKSxhd2FpdCBzZWxmLnB5b2RpZGUubG9hZFBhY2thZ2VzRnJvbUltcG9ydHMoYyx7bWVzc2FnZUNhbGxiYWNrOmNvbnNvbGUubG9nLGVycm9yQ2FsbGJhY2s6Y29uc29sZS5lcnJvcn0pLG4oe3R5cGU6InJlc3BvbnNlIixyZXNwb25zZTpudWxsLGlkOm99KTtyZXR1cm59Y29uc3QgaT1hd2FpdCB1KCksbT1jPT1udWxsP251bGw6dHlwZW9mIGM9PSJzdHJpbmciP2M6SlNPTi5zdHJpbmdpZnkoYyksbD1tPT1udWxsP2F3YWl0IGlbdF0oKTphd2FpdCBpW3RdKG0pO24oe3R5cGU6InJlc3BvbnNlIixyZXNwb25zZTp0eXBlb2YgbD09InN0cmluZyI/SlNPTi5wYXJzZShsKTpsLGlkOm99KX1jYXRjaChpKXtjb25zb2xlLmVycm9yKCJFcnJvciBpbiB3b3JrZXIiLGkpLGkgaW5zdGFuY2VvZiBFcnJvcj9uKHt0eXBlOiJlcnJvciIsZXJyb3I6aS5tZXNzYWdlLGlkOm99KTpuKHt0eXBlOiJlcnJvciIsZXJyb3I6U3RyaW5nKGkpLGlkOm99KX19O2Z1bmN0aW9uIG4oZSl7c2VsZi5wb3N0TWVzc2FnZShlKX1uKHt0eXBlOiJyZWFkeSJ9KX0pKCk7Cg==",qge=typeof window<"u"&&window.Blob&&new Blob([atob(QDe)],{type:"text/javascript;charset=utf-8"});function zyt(e){let t;try{if(t=qge&&(window.URL||window.webkitURL).createObjectURL(qge),!t)throw"";const n=new Worker(t,{name:e==null?void 0:e.name});return n.addEventListener("error",()=>{(window.URL||window.webkitURL).revokeObjectURL(t)}),n}catch{return new Worker("data:application/javascript;base64,"+QDe,{name:e==null?void 0:e.name})}finally{t&&(window.URL||window.webkitURL).revokeObjectURL(t)}}const MF=class MF{constructor(){be(this,"worker");be(this,"messageConsumer");be(this,"fetcher",new Hte("bridge",async(t,n)=>{this.postMessage({type:"call-function",id:t,functionName:n.functionName,payload:n.payload})}));be(this,"initialized",new zDe);be(this,"setCode",async()=>{const t=await Uge.readFile();this.postMessage({type:"set-code",code:t||""})});be(this,"handleWorkerMessage",async t=>{var n;t.data.type==="ready"&&await this.setCode(),t.data.type==="initialized"&&this.initialized.resolve(),t.data.type==="message"&&((n=this.messageConsumer)==null||n.call(this,t.data.message)),t.data.type==="error"&&(Ut.error(t.data.error),this.fetcher.reject(t.data.id,new Error(t.data.error))),t.data.type==="response"&&this.fetcher.resolve(t.data.id,t.data.response)});be(this,"postMessage",t=>{this.worker.postMessage(t)});be(this,"consumeMessages",t=>{this.messageConsumer=t,this.postMessage({type:"start-messages"})});be(this,"sendRename",async t=>(t===null||await this.fetcher.request({functionName:"rename_file",payload:t}),null));be(this,"sendSave",async t=>{await this.fetcher.request({functionName:"save",payload:t});const n=await this.readCode();return n.contents&&Uge.saveFile(n.contents),null});be(this,"sendStdin",async t=>(await this.fetcher.request({functionName:"put_input",payload:t.text}),null));be(this,"sendRun",async(t,n)=>(await this.fetcher.request({functionName:"load_packages",payload:n.join(`
`)}),await this.putControlRequest({execution_requests:t.map((r,i)=>({cell_id:r,code:n[i]}))}),null));be(this,"sendInterrupt",async()=>(await this.fetcher.request({functionName:"interrupt",payload:void 0}),null));be(this,"sendShutdown",async()=>(window.close(),null));be(this,"sendFormat",async t=>(await this.fetcher.request({functionName:"format",payload:t})).codes);be(this,"sendDeleteCell",async t=>(await this.putControlRequest({cell_id:t}),null));be(this,"sendCodeCompletionRequest",async t=>(await this.fetcher.request({functionName:"code_complete",payload:t}),null));be(this,"saveUserConfig",t=>{throw new Error("Method not implemented.")});be(this,"saveAppConfig",async t=>(await this.fetcher.request({functionName:"save_app_config",payload:t}),null));be(this,"saveCellConfig",async t=>(await this.putControlRequest({configs:t.configs}),null));be(this,"sendRestart",async()=>(window.location.reload(),null));be(this,"readCode",async()=>await this.fetcher.request({functionName:"read_code",payload:void 0}));be(this,"openFile",t=>{throw new Error("Method not implemented.")});be(this,"sendListFiles",async t=>await this.fetcher.request({functionName:"list_files",payload:t}));be(this,"sendComponentValues",async t=>(await this.putControlRequest({ids_and_values:t.map(n=>[n.objectId,n.value])}),null));be(this,"sendInstantiate",async t=>null);be(this,"sendFunctionRequest",async t=>(await this.putControlRequest({function_call:t}),null));be(this,"putControlRequest",async t=>{await this.fetcher.request({functionName:"put_control_request",payload:t})});zT()&&(this.worker=new zyt,this.worker.onmessage=this.handleWorkerMessage)}};be(MF,"INSTANCE",new MF);let QT=MF;class Qyt{constructor(t){be(this,"CONNECTING",WebSocket.CONNECTING);be(this,"OPEN",WebSocket.OPEN);be(this,"CLOSING",WebSocket.CLOSING);be(this,"CLOSED",WebSocket.CLOSED);be(this,"binaryType","blob");be(this,"bufferedAmount",0);be(this,"extensions","");be(this,"protocol","");be(this,"url","");be(this,"onclose",null);be(this,"onerror",null);be(this,"onmessage",null);be(this,"onopen",null);be(this,"openSubscriptions",new Set);be(this,"closeSubscriptions",new Set);be(this,"messageSubscriptions",new Set);be(this,"errorSubscriptions",new Set);be(this,"readyState",WebSocket.OPEN);be(this,"retryCount",0);be(this,"shouldReconnect",!1);this.bridge=t}consumeMessages(){this.bridge.consumeMessages(t=>{this.messageSubscriptions.forEach(n=>{n({data:t})})})}addEventListener(t,n,r){switch(t){case"open":this.openSubscriptions.add(n),n();break;case"close":this.closeSubscriptions.add(n);break;case"message":this.messageSubscriptions.add(n),this.consumeMessages();break;case"error":this.errorSubscriptions.add(n);break}}removeEventListener(t,n,r){switch(t){case"open":this.openSubscriptions.delete(n);break;case"close":this.closeSubscriptions.delete(n);break;case"message":this.messageSubscriptions.delete(n);break;case"error":this.errorSubscriptions.delete(n);break}}dispatchEvent(t){throw new Error("Method not implemented.")}reconnect(t,n){throw new Error("Method not implemented.")}send(t){throw new Error("Method not implemented.")}close(){}}function Byt(){return Bi(window.__MARIMO_STATIC__!==void 0,"Not a static notebook"),window.__MARIMO_STATIC__.notebookState}function xh(){return(window==null?void 0:window.__MARIMO_STATIC__)!==void 0}function Wyt(){return Bi(window.__MARIMO_STATIC__!==void 0,"Not a static notebook"),window.__MARIMO_STATIC__.assetUrl}function BDe(){return Bi(window.__MARIMO_STATIC__!==void 0,"Not a static notebook"),window.__MARIMO_STATIC__.files}function V4(e){let t,n=!1;return function(...r){return n||(n=!0,t=e.apply(this,r)),t}}const Vyt=Xte();function WDe(){return Vyt}function Uyt(){const e=document.cookie.match("\\b_xsrf=([^;]*)\\b");return e?e[1]:""}const qyt=V4(()=>Zat()),$o={post(e,t){const r=`${document.baseURI}api`+e;return fetch(r,{method:"POST",headers:{"Content-Type":"application/json","X-Xsrftoken":Uyt(),"Marimo-Session-Id":WDe(),"Marimo-Server-Token":qyt()},body:JSON.stringify(t)}).then(i=>{var o;if(i.ok)return(o=i.headers.get("Content-Type"))!=null&&o.startsWith("application/json")?i.json():null;throw new Error(i.statusText)}).catch(i=>{throw Ut.error(`Error requesting ${r}`,i),i})}},Yyt=1,Xyt=1e4;let PQ=0;function Hyt(){return PQ=(PQ+1)%Number.MAX_VALUE,PQ.toString()}const RQ=new Map,Yge=e=>{if(RQ.has(e))return;const t=setTimeout(()=>{RQ.delete(e),fk({type:"REMOVE_TOAST",toastId:e})},Xyt);RQ.set(e,t)},Zyt=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Yyt)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Yge(n):e.toasts.forEach(r=>{Yge(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},pY=new Set;let zM={toasts:[]};function fk(e){zM=Zyt(zM,e),pY.forEach(t=>{t(zM)})}function Yr({...e}){const t=Hyt(),n=i=>fk({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>fk({type:"DISMISS_TOAST",toastId:t});return fk({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function Gyt(){const[e,t]=O.useState(zM);return O.useEffect(()=>(pY.add(t),()=>{pY.delete(t)}),[e]),{...e,dismiss:n=>fk({type:"DISMISS_TOAST",toastId:n})}}function Kyt(){const e=()=>{throw new Error("Unreachable. Expected to be in run mode")};return{sendComponentValues:async t=>(Yr({title:"Static notebook",description:"This notebook is not connected to a kernel. Any interactive elements will not work."}),Ut.log("Updating UI elements is not supported in static mode"),null),sendInstantiate:async t=>(Ut.log("Viewing as static notebook"),null),sendFunctionRequest:async t=>(Yr({title:"Static notebook",description:"This notebook is not connected to a kernel. Any interactive elements will not work."}),Ut.log("Function requests are not supported in static mode"),null),sendRestart:e,sendRun:e,sendRename:e,sendSave:e,sendInterrupt:e,sendShutdown:e,sendFormat:e,sendDeleteCell:e,sendCodeCompletionRequest:e,saveUserConfig:e,saveAppConfig:e,saveCellConfig:e,sendStdin:e,readCode:e,openFile:e,sendListFiles:e}}function Jyt(){return{sendComponentValues:e=>{const t=[],n=[];for(const r of e)t.push(r.objectId),n.push(r.value);return $o.post("/kernel/set_ui_element_value",{objectIds:t,values:n})},sendRestart:()=>$o.post("/kernel/restart_session",{}),sendRename:e=>$o.post("/kernel/rename",{filename:e}),sendSave:e=>(Bi(e.cellIds.length===e.codes.length,"cell ids and codes must be the same length"),Bi(e.codes.length===e.names.length,"cell ids and names must be the same length"),Bi(e.codes.length===e.configs.length,"cell ids and configs must be the same length"),$o.post("/kernel/save",e)),sendFormat:e=>$o.post("/kernel/format",e).then(t=>t.codes),sendInterrupt:()=>$o.post("/kernel/interrupt",{}),sendShutdown:()=>$o.post("/kernel/shutdown",{}),sendRun:(e,t)=>(Bi(e.length===t.length,"must be the same length"),$o.post("/kernel/run",{cellIds:e,codes:t})),sendInstantiate:e=>(Bi(e.objectIds.length===e.values.length,"must be the same length"),$o.post("/kernel/instantiate",e)),sendDeleteCell:e=>$o.post("/kernel/delete",{cellId:e}),sendCodeCompletionRequest:e=>$o.post("/kernel/code_autocomplete",e),saveUserConfig:e=>$o.post("/kernel/save_user_config",e),saveAppConfig:e=>$o.post("/kernel/save_app_config",e),saveCellConfig:e=>$o.post("/kernel/set_cell_config",e),sendFunctionRequest:e=>$o.post("/kernel/function_call",e),sendStdin:e=>$o.post("/kernel/stdin",e),readCode:()=>$o.post("/kernel/read_code",{}),openFile:e=>$o.post("/kernel/open",e),sendListFiles:e=>$o.post("/files/list_files",e)}}const{sendComponentValues:e0t,sendRename:t0t,sendRestart:VDe,sendSave:n0t,sendStdin:r0t,sendFormat:i0t,sendInterrupt:gY,sendShutdown:o0t,sendRun:UDe,sendInstantiate:s0t,sendDeleteCell:a0t,sendCodeCompletionRequest:l0t,saveUserConfig:c0t,saveAppConfig:u0t,saveCellConfig:V1,sendFunctionRequest:f0t,readCode:mY,openFile:d0t,sendListFiles:yY}=zT()?QT.INSTANCE:xh()?Kyt():Jyt(),nT=class nT{constructor(t,n){be(this,"runningCount");be(this,"componentsToUpdate");be(this,"handleReadyEvent",t=>{const n=t.detail.objectId;this.uiElementRegistry.has(n)&&(this.componentsToUpdate.add(n),this.running()||this.flushUpdates())});this.uiElementRegistry=t,this.opts=n,this.runningCount=0,this.componentsToUpdate=new Set,ete(nT.INSTANCE,"RuntimeState")}start(){document.addEventListener(Jq,this.handleReadyEvent)}stop(){document.removeEventListener(Jq,this.handleReadyEvent)}registerRunStart(){this.runningCount+=1}registerRunEnd(){this.runningCount=Math.max(this.runningCount-1,0)}running(){return this.runningCount>0&&!xh()}flushUpdates(){if(this.componentsToUpdate.size>0){this.registerRunStart();const t=new Set(this.componentsToUpdate);this.opts.sendComponentValues(Array.from(this.componentsToUpdate.values(),n=>({objectId:n,value:this.uiElementRegistry.lookupValue(n)})).filter(n=>n.value!==void 0)).catch(()=>{this.registerRunEnd(),t.forEach(n=>this.componentsToUpdate.add(n))}),this.componentsToUpdate.clear()}}};be(nT,"INSTANCE",new nT(Nf,{sendComponentValues:e0t}));let Va=nT;const qDe=new Hte("function-call-result",async(e,t)=>{Va.INSTANCE.registerRunStart(),await f0t({functionCallId:e,...t}).catch(n=>{throw Va.INSTANCE.registerRunEnd(),n})}),h0t=typeof window<"u"?ie.useInsertionEffect||ie.useLayoutEffect:()=>{};function Zn(e){const t=ie.useRef(p0t);h0t(()=>{t.current=e},[e]);const n=ie.useRef(null);return n.current||(n.current=function(){return t.current.apply(this,arguments)}),n.current}function p0t(){throw new Error("INVALID_USEEVENT_INVOCATION: the callback from useEvent cannot be invoked before the component has mounted.")}const If={NOOP:()=>{},THROW:()=>{throw new Error("Should not be called")},asUpdater:e=>typeof e=="function"?e:()=>e};function g0t({hostElement:e,plugin:t,children:n,getInitialValue:r},i){const[o,s]=O.useState(n),[a,l]=O.useState(r()),{theme:c}=_0(),[u,f]=O.useState(()=>t.validator.safeParse(wQ(e)));O.useImperativeHandle(i,()=>({reset:()=>{l(r()),f(t.validator.safeParse(wQ(e)))},setChildren:p=>{s(p)}})),O.useEffect(()=>{const p=y=>{y.detail.element===e&&l(y.detail.value)},g=new MutationObserver(y=>{y.some(x=>{var m;return x.type==="attributes"&&((m=x.attributeName)==null?void 0:m.startsWith("data-"))})&&f(t.validator.safeParse(wQ(e)))});return e.addEventListener(Kq,p),g.observe(e,{attributes:!0}),()=>{e.removeEventListener(Kq,p),g.disconnect()}},[e,t.validator]);const d=Zn(p=>{l(g=>{const v=If.asUpdater(p)(g);return e.dispatchEvent(rAe(v,e)),v})}),h=O.useMemo(()=>{if(!t.functions)return{};const p={};for(const[g,y]of wn.entries(t.functions)){const{input:v,output:x}=y;p[g]=async(...m)=>{Bi(m.length<=1,`Plugin functions only supports a single argument. Called ${g}`);const w=Zte(e);Bi(w,"Object ID should exist");const S=await qDe.request({args:v.parse(m[0]),functionName:g,namespace:w});if(S.status.code!=="ok")throw Ut.error(S.status),new Error(S.status.message);return x.parse(S.return_value)}}return p},[t.functions,e]);return u.success?b.jsx("div",{className:`contents ${c}`,children:b.jsx(O.Suspense,{fallback:b.jsx("div",{}),children:t.render({setValue:d,value:a,data:u.data,children:o,host:e,functions:h})})}):Dyt(u.error,wn.mapValues(e.dataset,p=>typeof p=="string"?o4(p):p),e.shadowRoot)}const m0t=ie.forwardRef(g0t),AQ=new Map,YDe="__custom_marimo_element__";function Xge(e){const t=class extends HTMLElement{constructor(){super();be(this,"observer");be(this,"root");be(this,"mounted",!1);be(this,"pluginRef",O.createRef());be(this,"__type__",YDe);this.attachShadow({mode:"open"}),this.copyStyles(),this.observer=new MutationObserver(()=>{var r;(r=this.pluginRef.current)==null||r.setChildren(this.getChildren())})}connectedCallback(){this.mounted||(Bi(this.shadowRoot,"Shadow root should exist"),this.root&&this.root.unmount(),this.root=KI.createRoot(this.shadowRoot),this.mountReactComponent()),this.observer.observe(this,{attributes:!0,childList:!0,subtree:!0,characterData:!0})}disconnectedCallback(){var r;this.observer.disconnect(),(r=this.root)==null||r.unmount(),this.mounted&&(this.mounted=!1)}reset(){this.dispatchEvent(rAe(o4(this.dataset.initialValue),this)),this.rerender()}rerender(){var r;(r=this.pluginRef.current)==null||r.reset()}getChildren(){return Ha({html:this.innerHTML})}async mountReactComponent(){this.mounted=!0,Bi(this.root,"Root must be defined"),this.root.render(b.jsx(m0t,{hostElement:this,plugin:e,ref:this.pluginRef,getInitialValue:()=>aAe(this),children:this.getChildren()}))}async copyStyles(){const r=this.shadowRoot;if(Bi(r,"Shadow root should exist"),!this.isAdoptedStyleSheetsSupported()){this.copyStylesFallback();return}const i=Array.from(document.styleSheets).filter(o=>o.ownerNode instanceof HTMLElement&&o.ownerNode.dataset.viteDevId?!0:Hge(o));for(const o of i){const s=o.href??(o.ownerNode instanceof HTMLElement?o.ownerNode.dataset.viteDevId:void 0);if(s&&!AQ.has(s)){const a=new CSSStyleSheet;a.replaceSync(Array.from(o.cssRules).map(l=>l.cssText.includes("@import")?"":l.cssText).join(`
`)),AQ.set(s,a)}}r.adoptedStyleSheets=[...AQ.values()]}copyStylesFallback(){const r=this.shadowRoot;Bi(r,"Shadow root should exist"),Ut.warn("adoptedStyleSheets not supported, copying stylesheets in a less performance way. Please consider upgrading your browser.");const i=Array.from(document.styleSheets).flatMap(o=>{if(!Hge(o))return[];const s=document.createElement("style");return s.textContent=Array.from(o.cssRules).map(a=>a.cssText).join(`
`),[s]});r.append(...i)}isAdoptedStyleSheetsSupported(){return"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype}};iAe(e.tagName,t)}function Hge(e){return e.href?xh()?e.href.startsWith(Wyt()):e.href.startsWith("https://cdn.jsdelivr.net/npm/@marimo-team/")?!0:e.href.startsWith(window.location.origin):!1}function Zge(e){return!e||!(e instanceof HTMLElement)?!1:"__type__"in e&&e.__type__===YDe}const z5="MARIMO-UI-ELEMENT";function y0t(){class e extends HTMLElement{constructor(){super(...arguments);be(this,"initialized",!1);be(this,"inputListener",If.NOOP)}init(){if(this.initialized)return;const r=h1.parseOrThrow(this);this.inputListener=o=>{r!==null&&o.detail.element===this.firstElementChild&&Nf.broadcastValueUpdate(i,r,o.detail.value)};const i=this.firstElementChild;if(r===null){Ut.error("[marimo-ui-element] missing object-id attribute");return}else if(i===null){Ut.error("[marimo-ui-element] has no child");return}else if(!(i instanceof HTMLElement)){Ut.error("[marimo-ui-element] first child must be instance of HTMLElement");return}this.initialized=!0}connectedCallback(){if(this.init(),this.initialized){const r=h1.parseOrThrow(this),i=this.firstElementChild;Nf.registerInstance(r,i),document.addEventListener(z1,this.inputListener)}}disconnectedCallback(){if(this.initialized){document.removeEventListener(z1,this.inputListener);const r=h1.parseOrThrow(this);Nf.removeInstance(r,this.firstElementChild)}}reset(){const r=this.firstElementChild;Zge(r)?r.reset():Ut.error("[marimo-ui-element] first child must have a reset method")}static get observedAttributes(){return["random-id"]}attributeChangedCallback(r,i,o){if(this.initialized&&r==="random-id"&&i!==o){this.disconnectedCallback();const a=this.firstElementChild;Zge(a)?a.rerender():Ut.error("[marimo-ui-element] first child must have a rerender method"),this.initialized=!1,this.connectedCallback()}}}iAe(z5.toLowerCase(),e)}function Zte(e){if(!e)return null;if(e.nodeName===z5)return h1.parseOrThrow(e);const t=e.parentElement;return(t==null?void 0:t.nodeName)===z5?h1.parseOrThrow(t):null}function v0t(e){return e.tagName===z5}const XDe=H.enum(["neutral","success","warn","danger","info","alert"]).default("neutral");function b0t(e,t=globalThis==null?void 0:globalThis.document){const n=_a(e);O.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r),()=>t.removeEventListener("keydown",r)},[n,t])}const vY="dismissableLayer.update",O0t="dismissableLayer.pointerDownOutside",x0t="dismissableLayer.focusOutside";let Gge;const HDe=O.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),j_=O.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:a,onDismiss:l,...c}=e,u=O.useContext(HDe),[f,d]=O.useState(null),h=(n=f==null?void 0:f.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,p]=O.useState({}),g=Xt(t,E=>d(E)),y=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(v),m=f?y.indexOf(f):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=m>=x,C=S0t(E=>{const R=E.target,N=[...u.branches].some(I=>I.contains(R));!S||N||(o==null||o(E),a==null||a(E),E.defaultPrevented||l==null||l())},h),$=_0t(E=>{const R=E.target;[...u.branches].some(I=>I.contains(R))||(s==null||s(E),a==null||a(E),E.defaultPrevented||l==null||l())},h);return b0t(E=>{m===u.layers.size-1&&(i==null||i(E),!E.defaultPrevented&&l&&(E.preventDefault(),l()))},h),O.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Gge=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),Kge(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Gge)}},[f,h,r,u]),O.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),Kge())},[f,u]),O.useEffect(()=>{const E=()=>p({});return document.addEventListener(vY,E),()=>document.removeEventListener(vY,E)},[]),O.createElement(Ot.div,le({},c,{ref:g,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:qe(e.onFocusCapture,$.onFocusCapture),onBlurCapture:qe(e.onBlurCapture,$.onBlurCapture),onPointerDownCapture:qe(e.onPointerDownCapture,C.onPointerDownCapture)}))}),w0t=O.forwardRef((e,t)=>{const n=O.useContext(HDe),r=O.useRef(null),i=Xt(t,r);return O.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),O.createElement(Ot.div,le({},e,{ref:i}))});function S0t(e,t=globalThis==null?void 0:globalThis.document){const n=_a(e),r=O.useRef(!1),i=O.useRef(()=>{});return O.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let c=function(){ZDe(O0t,n,l,{discrete:!0})};const l={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function _0t(e,t=globalThis==null?void 0:globalThis.document){const n=_a(e),r=O.useRef(!1);return O.useEffect(()=>{const i=o=>{o.target&&!r.current&&ZDe(x0t,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Kge(){const e=new CustomEvent(vY);document.dispatchEvent(e)}function ZDe(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?tte(i,o):i.dispatchEvent(o)}const C0t=j_,$0t=w0t;function F_(e){return e.split("-")[1]}function Gte(e){return e==="y"?"height":"width"}function qp(e){return e.split("-")[0]}function Qb(e){return["top","bottom"].includes(qp(e))?"x":"y"}function Jge(e,t,n){let{reference:r,floating:i}=e;const o=r.x+r.width/2-i.width/2,s=r.y+r.height/2-i.height/2,a=Qb(t),l=Gte(a),c=r[l]/2-i[l]/2,u=a==="x";let f;switch(qp(t)){case"top":f={x:o,y:r.y-i.height};break;case"bottom":f={x:o,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:s};break;case"left":f={x:r.x-i.width,y:s};break;default:f={x:r.x,y:r.y}}switch(F_(t)){case"start":f[a]-=c*(n&&u?-1:1);break;case"end":f[a]+=c*(n&&u?-1:1)}return f}const E0t=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:f}=Jge(c,r,l),d=r,h={},p=0;for(let g=0;g<a.length;g++){const{name:y,fn:v}=a[g],{x,y:m,data:w,reset:S}=await v({x:u,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:c,platform:s,elements:{reference:e,floating:t}});u=x??u,f=m??f,h={...h,[y]:{...h[y],...w}},S&&p<=50&&(p++,typeof S=="object"&&(S.placement&&(d=S.placement),S.rects&&(c=S.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:u,y:f}=Jge(c,d,l)),g=-1)}return{x:u,y:f,placement:d,strategy:i,middlewareData:h}};function GDe(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function Q5(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function BT(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=t,p=GDe(h),g=a[d?f==="floating"?"reference":"floating":f],y=Q5(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(g)))==null||n?g:g.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),v=f==="floating"?{...s.floating,x:r,y:i}:s.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),m=await(o.isElement==null?void 0:o.isElement(x))&&await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1},w=Q5(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({rect:v,offsetParent:x,strategy:l}):v);return{top:(y.top-w.top+p.top)/m.y,bottom:(w.bottom-y.bottom+p.bottom)/m.y,left:(y.left-w.left+p.left)/m.x,right:(w.right-y.right+p.right)/m.x}}const bY=Math.min,Ov=Math.max;function OY(e,t,n){return Ov(e,bY(t,n))}const eme=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:r=0}=e||{},{x:i,y:o,placement:s,rects:a,platform:l,elements:c}=t;if(n==null)return{};const u=GDe(r),f={x:i,y:o},d=Qb(s),h=Gte(d),p=await l.getDimensions(n),g=d==="y",y=g?"top":"left",v=g?"bottom":"right",x=g?"clientHeight":"clientWidth",m=a.reference[h]+a.reference[d]-f[d]-a.floating[h],w=f[d]-a.reference[d],S=await(l.getOffsetParent==null?void 0:l.getOffsetParent(n));let C=S?S[x]:0;C&&await(l.isElement==null?void 0:l.isElement(S))||(C=c.floating[x]||a.floating[h]);const $=m/2-w/2,E=u[y],R=C-p[h]-u[v],N=C/2-p[h]/2+$,I=OY(E,N,R),j=F_(s)!=null&&N!=I&&a.reference[h]/2-(N<E?u[y]:u[v])-p[h]/2<0;return{[d]:f[d]-(j?N<E?E-N:R-N:0),data:{[d]:I,centerOffset:N-I}}}}),KDe=["top","right","bottom","left"];KDe.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);const k0t={left:"right",right:"left",bottom:"top",top:"bottom"};function B5(e){return e.replace(/left|right|bottom|top/g,t=>k0t[t])}function T0t(e,t,n){n===void 0&&(n=!1);const r=F_(e),i=Qb(e),o=Gte(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=B5(s)),{main:s,cross:B5(s)}}const P0t={start:"end",end:"start"};function DQ(e){return e.replace(/start|end/g,t=>P0t[t])}const R0t=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:i,rects:o,initialPlacement:s,platform:a,elements:l}=t,{mainAxis:c=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:p=!0,...g}=e,y=qp(r),v=qp(s)===s,x=await(a.isRTL==null?void 0:a.isRTL(l.floating)),m=f||(v||!p?[B5(s)]:function(I){const j=B5(I);return[DQ(I),j,DQ(j)]}(s));f||h==="none"||m.push(...function(I,j,A,T){const D=F_(I);let L=function(W,V,Q){const B=["left","right"],Y=["right","left"],U=["top","bottom"],q=["bottom","top"];switch(W){case"top":case"bottom":return Q?V?Y:B:V?B:Y;case"left":case"right":return V?U:q;default:return[]}}(qp(I),A==="start",T);return D&&(L=L.map(W=>W+"-"+D),j&&(L=L.concat(L.map(DQ)))),L}(s,p,h,x));const w=[s,...m],S=await BT(t,g),C=[];let $=((n=i.flip)==null?void 0:n.overflows)||[];if(c&&C.push(S[y]),u){const{main:I,cross:j}=T0t(r,o,x);C.push(S[I],S[j])}if($=[...$,{placement:r,overflows:C}],!C.every(I=>I<=0)){var E,R;const I=(((E=i.flip)==null?void 0:E.index)||0)+1,j=w[I];if(j)return{data:{index:I,overflows:$},reset:{placement:j}};let A=(R=$.filter(T=>T.overflows[0]<=0).sort((T,D)=>T.overflows[1]-D.overflows[1])[0])==null?void 0:R.placement;if(!A)switch(d){case"bestFit":{var N;const T=(N=$.map(D=>[D.placement,D.overflows.filter(L=>L>0).reduce((L,W)=>L+W,0)]).sort((D,L)=>D[1]-L[1])[0])==null?void 0:N[0];T&&(A=T);break}case"initialPlacement":A=s}if(r!==A)return{reset:{placement:A}}}return{}}}};function tme(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function nme(e){return KDe.some(t=>e[t]>=0)}const A0t=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{strategy:n="referenceHidden",...r}=e,{rects:i}=t;switch(n){case"referenceHidden":{const o=tme(await BT(t,{...r,elementContext:"reference"}),i.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:nme(o)}}}case"escaped":{const o=tme(await BT(t,{...r,altBoundary:!0}),i.floating);return{data:{escapedOffsets:o,escaped:nme(o)}}}default:return{}}}}},D0t=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,i=await async function(o,s){const{placement:a,platform:l,elements:c}=o,u=await(l.isRTL==null?void 0:l.isRTL(c.floating)),f=qp(a),d=F_(a),h=Qb(a)==="x",p=["left","top"].includes(f)?-1:1,g=u&&h?-1:1,y=typeof s=="function"?s(o):s;let{mainAxis:v,crossAxis:x,alignmentAxis:m}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...y};return d&&typeof m=="number"&&(x=d==="end"?-1*m:m),h?{x:x*g,y:v*p}:{x:v*p,y:x*g}}(t,e);return{x:n+i.x,y:r+i.y,data:i}}}};function JDe(e){return e==="x"?"y":"x"}const N0t=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:y=>{let{x:v,y:x}=y;return{x:v,y:x}}},...l}=e,c={x:n,y:r},u=await BT(t,l),f=Qb(qp(i)),d=JDe(f);let h=c[f],p=c[d];if(o){const y=f==="y"?"bottom":"right";h=OY(h+u[f==="y"?"top":"left"],h,h-u[y])}if(s){const y=d==="y"?"bottom":"right";p=OY(p+u[d==="y"?"top":"left"],p,p-u[y])}const g=a.fn({...t,[f]:h,[d]:p});return{...g,data:{x:g.x-n,y:g.y-r}}}}},M0t=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=e,u={x:n,y:r},f=Qb(i),d=JDe(f);let h=u[f],p=u[d];const g=typeof a=="function"?a(t):a,y=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const m=f==="y"?"height":"width",w=o.reference[f]-o.floating[m]+y.mainAxis,S=o.reference[f]+o.reference[m]-y.mainAxis;h<w?h=w:h>S&&(h=S)}if(c){var v,x;const m=f==="y"?"width":"height",w=["top","left"].includes(qp(i)),S=o.reference[d]-o.floating[m]+(w&&((v=s.offset)==null?void 0:v[d])||0)+(w?0:y.crossAxis),C=o.reference[d]+o.reference[m]+(w?0:((x=s.offset)==null?void 0:x[d])||0)-(w?y.crossAxis:0);p<S?p=S:p>C&&(p=C)}return{[f]:h,[d]:p}}}},I0t=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:o}=t,{apply:s=()=>{},...a}=e,l=await BT(t,a),c=qp(n),u=F_(n),f=Qb(n)==="x",{width:d,height:h}=r.floating;let p,g;c==="top"||c==="bottom"?(p=c,g=u===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(g=c,p=u==="end"?"top":"bottom");const y=h-l[p],v=d-l[g],x=!t.middlewareData.shift;let m=y,w=v;if(f){const C=d-l.left-l.right;w=u||x?bY(v,C):C}else{const C=h-l.top-l.bottom;m=u||x?bY(y,C):C}if(x&&!u){const C=Ov(l.left,0),$=Ov(l.right,0),E=Ov(l.top,0),R=Ov(l.bottom,0);f?w=d-2*(C!==0||$!==0?C+$:Ov(l.left,l.right)):m=h-2*(E!==0||R!==0?E+R:Ov(l.top,l.bottom))}await s({...t,availableWidth:w,availableHeight:m});const S=await i.getDimensions(o.floating);return d!==S.width||h!==S.height?{reset:{rects:!0}}:{}}}};function Eu(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Lf(e){return Eu(e).getComputedStyle(e)}function eNe(e){return e instanceof Eu(e).Node}function Wy(e){return eNe(e)?(e.nodeName||"").toLowerCase():""}function Xf(e){return e instanceof Eu(e).HTMLElement}function _c(e){return e instanceof Eu(e).Element}function rme(e){return typeof ShadowRoot>"u"?!1:e instanceof Eu(e).ShadowRoot||e instanceof ShadowRoot}function WT(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Lf(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function L0t(e){return["table","td","th"].includes(Wy(e))}function xY(e){const t=Kte(),n=Lf(e);return n.transform!=="none"||n.perspective!=="none"||!t&&!!n.backdropFilter&&n.backdropFilter!=="none"||!t&&!!n.filter&&n.filter!=="none"||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Kte(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function U4(e){return["html","body","#document"].includes(Wy(e))}const ime=Math.min,dk=Math.max,W5=Math.round;function tNe(e){const t=Lf(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Xf(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=W5(n)!==o||W5(r)!==s;return a&&(n=o,r=s),{width:n,height:r,fallback:a}}function nNe(e){return _c(e)?e:e.contextElement}const rNe={x:1,y:1};function yw(e){const t=nNe(e);if(!Xf(t))return rNe;const n=t.getBoundingClientRect(),{width:r,height:i,fallback:o}=tNe(t);let s=(o?W5(n.width):n.width)/r,a=(o?W5(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}const ome={x:0,y:0};function iNe(e,t,n){var r,i;if(t===void 0&&(t=!0),!Kte())return ome;const o=e?Eu(e):window;return!n||t&&n!==o?ome:{x:((r=o.visualViewport)==null?void 0:r.offsetLeft)||0,y:((i=o.visualViewport)==null?void 0:i.offsetTop)||0}}function U1(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=nNe(e);let s=rNe;t&&(r?_c(r)&&(s=yw(r)):s=yw(e));const a=iNe(o,n,r);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,f=i.height/s.y;if(o){const d=Eu(o),h=r&&_c(r)?Eu(r):r;let p=d.frameElement;for(;p&&r&&h!==d;){const g=yw(p),y=p.getBoundingClientRect(),v=getComputedStyle(p);y.x+=(p.clientLeft+parseFloat(v.paddingLeft))*g.x,y.y+=(p.clientTop+parseFloat(v.paddingTop))*g.y,l*=g.x,c*=g.y,u*=g.x,f*=g.y,l+=y.x,c+=y.y,p=Eu(p).frameElement}}return Q5({width:u,height:f,x:l,y:c})}function gy(e){return((eNe(e)?e.ownerDocument:e.document)||window.document).documentElement}function q4(e){return _c(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function oNe(e){return U1(gy(e)).left+q4(e).scrollLeft}function lS(e){if(Wy(e)==="html")return e;const t=e.assignedSlot||e.parentNode||rme(e)&&e.host||gy(e);return rme(t)?t.host:t}function sNe(e){const t=lS(e);return U4(t)?t.ownerDocument.body:Xf(t)&&WT(t)?t:sNe(t)}function hk(e,t){var n;t===void 0&&(t=[]);const r=sNe(e),i=r===((n=e.ownerDocument)==null?void 0:n.body),o=Eu(r);return i?t.concat(o,o.visualViewport||[],WT(r)?r:[]):t.concat(r,hk(r))}function sme(e,t,n){let r;if(t==="viewport")r=function(i,o){const s=Eu(i),a=gy(i),l=s.visualViewport;let c=a.clientWidth,u=a.clientHeight,f=0,d=0;if(l){c=l.width,u=l.height;const h=Kte();(!h||h&&o==="fixed")&&(f=l.offsetLeft,d=l.offsetTop)}return{width:c,height:u,x:f,y:d}}(e,n);else if(t==="document")r=function(i){const o=gy(i),s=q4(i),a=i.ownerDocument.body,l=dk(o.scrollWidth,o.clientWidth,a.scrollWidth,a.clientWidth),c=dk(o.scrollHeight,o.clientHeight,a.scrollHeight,a.clientHeight);let u=-s.scrollLeft+oNe(i);const f=-s.scrollTop;return Lf(a).direction==="rtl"&&(u+=dk(o.clientWidth,a.clientWidth)-l),{width:l,height:c,x:u,y:f}}(gy(e));else if(_c(t))r=function(i,o){const s=U1(i,!0,o==="fixed"),a=s.top+i.clientTop,l=s.left+i.clientLeft,c=Xf(i)?yw(i):{x:1,y:1};return{width:i.clientWidth*c.x,height:i.clientHeight*c.y,x:l*c.x,y:a*c.y}}(t,n);else{const i=iNe(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return Q5(r)}function aNe(e,t){const n=lS(e);return!(n===t||!_c(n)||U4(n))&&(Lf(n).position==="fixed"||aNe(n,t))}function ame(e,t){return Xf(e)&&Lf(e).position!=="fixed"?t?t(e):e.offsetParent:null}function lme(e,t){const n=Eu(e);if(!Xf(e))return n;let r=ame(e,t);for(;r&&L0t(r)&&Lf(r).position==="static";)r=ame(r,t);return r&&(Wy(r)==="html"||Wy(r)==="body"&&Lf(r).position==="static"&&!xY(r))?n:r||function(i){let o=lS(i);for(;Xf(o)&&!U4(o);){if(xY(o))return o;o=lS(o)}return null}(e)||n}function j0t(e,t,n){const r=Xf(t),i=gy(t),o=n==="fixed",s=U1(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l={x:0,y:0};if(r||!r&&!o)if((Wy(t)!=="body"||WT(i))&&(a=q4(t)),Xf(t)){const c=U1(t,!0,o,t);l.x=c.x+t.clientLeft,l.y=c.y+t.clientTop}else i&&(l.x=oNe(i));return{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}const F0t={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=n==="clippingAncestors"?function(c,u){const f=u.get(c);if(f)return f;let d=hk(c).filter(y=>_c(y)&&Wy(y)!=="body"),h=null;const p=Lf(c).position==="fixed";let g=p?lS(c):c;for(;_c(g)&&!U4(g);){const y=Lf(g),v=xY(g);v||y.position!=="fixed"||(h=null),(p?!v&&!h:!v&&y.position==="static"&&h&&["absolute","fixed"].includes(h.position)||WT(g)&&!v&&aNe(c,g))?d=d.filter(x=>x!==g):h=y,g=lS(g)}return u.set(c,d),d}(t,this._c):[].concat(n),s=[...o,r],a=s[0],l=s.reduce((c,u)=>{const f=sme(t,u,i);return c.top=dk(f.top,c.top),c.right=ime(f.right,c.right),c.bottom=ime(f.bottom,c.bottom),c.left=dk(f.left,c.left),c},sme(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const i=Xf(n),o=gy(n);if(n===o)return t;let s={scrollLeft:0,scrollTop:0},a={x:1,y:1};const l={x:0,y:0};if((i||!i&&r!=="fixed")&&((Wy(n)!=="body"||WT(o))&&(s=q4(n)),Xf(n))){const c=U1(n);a=yw(n),l.x=c.x+n.clientLeft,l.y=c.y+n.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-s.scrollLeft*a.x+l.x,y:t.y*a.y-s.scrollTop*a.y+l.y}},isElement:_c,getDimensions:function(e){return tNe(e)},getOffsetParent:lme,getDocumentElement:gy,getScale:yw,async getElementRects(e){let{reference:t,floating:n,strategy:r}=e;const i=this.getOffsetParent||lme,o=this.getDimensions;return{reference:j0t(t,await i(n),r),floating:{x:0,y:0,...await o(n)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>Lf(e).direction==="rtl"};function z0t(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=!0,animationFrame:a=!1}=r,l=i||o?[..._c(e)?hk(e):e.contextElement?hk(e.contextElement):[],...hk(t)]:[];l.forEach(d=>{const h=!_c(d)&&d.toString().includes("V");!i||a&&!h||d.addEventListener("scroll",n,{passive:!0}),o&&d.addEventListener("resize",n)});let c,u=null;s&&(u=new ResizeObserver(()=>{n()}),_c(e)&&!a&&u.observe(e),_c(e)||!e.contextElement||a||u.observe(e.contextElement),u.observe(t));let f=a?U1(e):null;return a&&function d(){const h=U1(e);!f||h.x===f.x&&h.y===f.y&&h.width===f.width&&h.height===f.height||n(),f=h,c=requestAnimationFrame(d)}(),n(),()=>{var d;l.forEach(h=>{i&&h.removeEventListener("scroll",n),o&&h.removeEventListener("resize",n)}),(d=u)==null||d.disconnect(),u=null,a&&cancelAnimationFrame(c)}}const Q0t=(e,t,n)=>{const r=new Map,i={platform:F0t,...n},o={...i.platform,_c:r};return E0t(e,t,{...i,platform:o})},B0t=e=>{const{element:t,padding:n}=e;function r(i){return{}.hasOwnProperty.call(i,"current")}return{name:"arrow",options:e,fn(i){return t&&r(t)?t.current!=null?eme({element:t.current,padding:n}).fn(i):{}:t?eme({element:t,padding:n}).fn(i):{}}}};var QM=typeof document<"u"?O.useLayoutEffect:O.useEffect;function V5(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!V5(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!V5(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function lNe(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function cme(e,t){const n=lNe(e);return Math.round(t*n)/n}function ume(e){const t=O.useRef(e);return QM(()=>{t.current=e}),t}function W0t(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,f]=O.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[d,h]=O.useState(r);V5(d,r)||h(r);const[p,g]=O.useState(null),[y,v]=O.useState(null),x=O.useCallback(L=>{L!=C.current&&(C.current=L,g(L))},[g]),m=O.useCallback(L=>{L!==$.current&&($.current=L,v(L))},[v]),w=o||p,S=s||y,C=O.useRef(null),$=O.useRef(null),E=O.useRef(u),R=ume(l),N=ume(i),I=O.useCallback(()=>{if(!C.current||!$.current)return;const L={placement:t,strategy:n,middleware:d};N.current&&(L.platform=N.current),Q0t(C.current,$.current,L).then(W=>{const V={...W,isPositioned:!0};j.current&&!V5(E.current,V)&&(E.current=V,Io.flushSync(()=>{f(V)}))})},[d,t,n,N]);QM(()=>{c===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(L=>({...L,isPositioned:!1})))},[c]);const j=O.useRef(!1);QM(()=>(j.current=!0,()=>{j.current=!1}),[]),QM(()=>{if(w&&(C.current=w),S&&($.current=S),w&&S){if(R.current)return R.current(w,S,I);I()}},[w,S,I,R]);const A=O.useMemo(()=>({reference:C,floating:$,setReference:x,setFloating:m}),[x,m]),T=O.useMemo(()=>({reference:w,floating:S}),[w,S]),D=O.useMemo(()=>{const L={position:n,left:0,top:0};if(!T.floating)return L;const W=cme(T.floating,u.x),V=cme(T.floating,u.y);return a?{...L,transform:"translate("+W+"px, "+V+"px)",...lNe(T.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:V}},[n,a,T.floating,u.x,u.y]);return O.useMemo(()=>({...u,update:I,refs:A,elements:T,floatingStyles:D}),[u,I,A,T,D])}function qP(e){const[t,n]=O.useState(void 0);return Ca(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=e.offsetWidth,a=e.offsetHeight;n({width:s,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}const cNe="Popper",[uNe,k0]=ro(cNe),[V0t,fNe]=uNe(cNe),U0t=e=>{const{__scopePopper:t,children:n}=e,[r,i]=O.useState(null);return O.createElement(V0t,{scope:t,anchor:r,onAnchorChange:i},n)},q0t="PopperAnchor",Y0t=O.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=fNe(q0t,n),s=O.useRef(null),a=Xt(t,s);return O.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:O.createElement(Ot.div,le({},i,{ref:a}))}),dNe="PopperContent",[X0t,oQn]=uNe(dNe),H0t=O.forwardRef((e,t)=>{var n,r,i,o,s,a,l,c;const{__scopePopper:u,side:f="bottom",sideOffset:d=0,align:h="center",alignOffset:p=0,arrowPadding:g=0,avoidCollisions:y=!0,collisionBoundary:v=[],collisionPadding:x=0,sticky:m="partial",hideWhenDetached:w=!1,updatePositionStrategy:S="optimized",onPlaced:C,...$}=e,E=fNe(dNe,u),[R,N]=O.useState(null),I=Xt(t,ke=>N(ke)),[j,A]=O.useState(null),T=qP(j),D=(n=T==null?void 0:T.width)!==null&&n!==void 0?n:0,L=(r=T==null?void 0:T.height)!==null&&r!==void 0?r:0,W=f+(h!=="center"?"-"+h:""),V=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},Q=Array.isArray(v)?v:[v],B=Q.length>0,Y={padding:V,boundary:Q.filter(Z0t),altBoundary:B},{refs:U,floatingStyles:q,placement:Z,isPositioned:oe,middlewareData:ce}=W0t({strategy:"fixed",placement:W,whileElementsMounted:(...ke)=>z0t(...ke,{animationFrame:S==="always"}),elements:{reference:E.anchor},middleware:[D0t({mainAxis:d+L,alignmentAxis:p}),y&&N0t({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?M0t():void 0,...Y}),y&&R0t({...Y}),I0t({...Y,apply:({elements:ke,rects:ze,availableWidth:Je,availableHeight:Be})=>{const{width:K,height:ge}=ze.reference,Oe=ke.floating.style;Oe.setProperty("--radix-popper-available-width",`${Je}px`),Oe.setProperty("--radix-popper-available-height",`${Be}px`),Oe.setProperty("--radix-popper-anchor-width",`${K}px`),Oe.setProperty("--radix-popper-anchor-height",`${ge}px`)}}),j&&B0t({element:j,padding:g}),G0t({arrowWidth:D,arrowHeight:L}),w&&A0t({strategy:"referenceHidden",...Y})]}),[re,fe]=hNe(Z),ae=_a(C);Ca(()=>{oe&&(ae==null||ae())},[oe,ae]);const ue=(i=ce.arrow)===null||i===void 0?void 0:i.x,me=(o=ce.arrow)===null||o===void 0?void 0:o.y,ne=((s=ce.arrow)===null||s===void 0?void 0:s.centerOffset)!==0,[Le,_e]=O.useState();return Ca(()=>{R&&_e(window.getComputedStyle(R).zIndex)},[R]),O.createElement("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:oe?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Le,"--radix-popper-transform-origin":[(a=ce.transformOrigin)===null||a===void 0?void 0:a.x,(l=ce.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:e.dir},O.createElement(X0t,{scope:u,placedSide:re,onArrowChange:A,arrowX:ue,arrowY:me,shouldHideArrow:ne},O.createElement(Ot.div,le({"data-side":re,"data-align":fe},$,{ref:I,style:{...$.style,animation:oe?void 0:"none",opacity:(c=ce.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))});function Z0t(e){return e!==null}const G0t=e=>({name:"transformOrigin",options:e,fn(t){var n,r,i,o,s;const{placement:a,rects:l,middlewareData:c}=t,f=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,d=f?0:e.arrowWidth,h=f?0:e.arrowHeight,[p,g]=hNe(a),y={start:"0%",center:"50%",end:"100%"}[g],v=((r=(i=c.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+d/2,x=((o=(s=c.arrow)===null||s===void 0?void 0:s.y)!==null&&o!==void 0?o:0)+h/2;let m="",w="";return p==="bottom"?(m=f?y:`${v}px`,w=`${-h}px`):p==="top"?(m=f?y:`${v}px`,w=`${l.floating.height+h}px`):p==="right"?(m=`${-h}px`,w=f?y:`${x}px`):p==="left"&&(m=`${l.floating.width+h}px`,w=f?y:`${x}px`),{data:{x:m,y:w}}}});function hNe(e){const[t,n="center"]=e.split("-");return[t,n]}const Y4=U0t,X4=Y0t,H4=H0t,z_=O.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=e;return r?uRe.createPortal(O.createElement(Ot.div,le({},i,{ref:t})),r):null}),Z4=O.forwardRef((e,t)=>O.createElement(Ot.span,le({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),K0t=Z4,[G4,sQn]=ro("Tooltip",[k0]),Jte=k0(),J0t="TooltipProvider",evt=700,wY="tooltip.open",[tvt,ene]=G4(J0t),nvt=e=>{const{__scopeTooltip:t,delayDuration:n=evt,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=e,[s,a]=O.useState(!0),l=O.useRef(!1),c=O.useRef(0);return O.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),O.createElement(tvt,{scope:t,isOpenDelayed:s,delayDuration:n,onOpen:O.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:O.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:O.useCallback(u=>{l.current=u},[]),disableHoverableContent:i},o)},tne="Tooltip",[rvt,YP]=G4(tne),ivt=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i=!1,onOpenChange:o,disableHoverableContent:s,delayDuration:a}=e,l=ene(tne,e.__scopeTooltip),c=Jte(t),[u,f]=O.useState(null),d=Rl(),h=O.useRef(0),p=s??l.disableHoverableContent,g=a??l.delayDuration,y=O.useRef(!1),[v=!1,x]=Vo({prop:r,defaultProp:i,onChange:$=>{$?(l.onOpen(),document.dispatchEvent(new CustomEvent(wY))):l.onClose(),o==null||o($)}}),m=O.useMemo(()=>v?y.current?"delayed-open":"instant-open":"closed",[v]),w=O.useCallback(()=>{window.clearTimeout(h.current),y.current=!1,x(!0)},[x]),S=O.useCallback(()=>{window.clearTimeout(h.current),x(!1)},[x]),C=O.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{y.current=!0,x(!0)},g)},[g,x]);return O.useEffect(()=>()=>window.clearTimeout(h.current),[]),O.createElement(Y4,c,O.createElement(rvt,{scope:t,contentId:d,open:v,stateAttribute:m,trigger:u,onTriggerChange:f,onTriggerEnter:O.useCallback(()=>{l.isOpenDelayed?C():w()},[l.isOpenDelayed,C,w]),onTriggerLeave:O.useCallback(()=>{p?S():window.clearTimeout(h.current)},[S,p]),onOpen:w,onClose:S,disableHoverableContent:p},n))},fme="TooltipTrigger",ovt=O.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=YP(fme,n),o=ene(fme,n),s=Jte(n),a=O.useRef(null),l=Xt(t,a,i.onTriggerChange),c=O.useRef(!1),u=O.useRef(!1),f=O.useCallback(()=>c.current=!1,[]);return O.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),O.createElement(X4,le({asChild:!0},s),O.createElement(Ot.button,le({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:l,onPointerMove:qe(e.onPointerMove,d=>{d.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:qe(e.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:qe(e.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:qe(e.onFocus,()=>{c.current||i.onOpen()}),onBlur:qe(e.onBlur,i.onClose),onClick:qe(e.onClick,i.onClose)})))}),pNe="TooltipPortal",[svt,avt]=G4(pNe,{forceMount:void 0}),gNe=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:i}=e,o=YP(pNe,t);return O.createElement(svt,{scope:t,forceMount:n},O.createElement(zs,{present:n||o.open},O.createElement(z_,{asChild:!0,container:i},r)))},VT="TooltipContent",lvt=O.forwardRef((e,t)=>{const n=avt(VT,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=e,s=YP(VT,e.__scopeTooltip);return O.createElement(zs,{present:r||s.open},s.disableHoverableContent?O.createElement(mNe,le({side:i},o,{ref:t})):O.createElement(cvt,le({side:i},o,{ref:t})))}),cvt=O.forwardRef((e,t)=>{const n=YP(VT,e.__scopeTooltip),r=ene(VT,e.__scopeTooltip),i=O.useRef(null),o=Xt(t,i),[s,a]=O.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:f}=r,d=O.useCallback(()=>{a(null),f(!1)},[f]),h=O.useCallback((p,g)=>{const y=p.currentTarget,v={x:p.clientX,y:p.clientY},x=fvt(v,y.getBoundingClientRect()),m=dvt(v,x),w=hvt(g.getBoundingClientRect()),S=gvt([...m,...w]);a(S),f(!0)},[f]);return O.useEffect(()=>()=>d(),[d]),O.useEffect(()=>{if(l&&u){const p=y=>h(y,u),g=y=>h(y,l);return l.addEventListener("pointerleave",p),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",p),u.removeEventListener("pointerleave",g)}}},[l,u,h,d]),O.useEffect(()=>{if(s){const p=g=>{const y=g.target,v={x:g.clientX,y:g.clientY},x=(l==null?void 0:l.contains(y))||(u==null?void 0:u.contains(y)),m=!pvt(v,s);x?d():m&&(d(),c())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[l,u,s,c,d]),O.createElement(mNe,le({},e,{ref:o}))}),[uvt,aQn]=G4(tne,{isInside:!1}),mNe=O.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:s,...a}=e,l=YP(VT,n),c=Jte(n),{onClose:u}=l;return O.useEffect(()=>(document.addEventListener(wY,u),()=>document.removeEventListener(wY,u)),[u]),O.useEffect(()=>{if(l.trigger){const f=d=>{const h=d.target;h!=null&&h.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),O.createElement(j_,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:f=>f.preventDefault(),onDismiss:u},O.createElement(H4,le({"data-state":l.stateAttribute},c,a,{ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),O.createElement(qee,null,r),O.createElement(uvt,{scope:n,isInside:!0},O.createElement(K0t,{id:l.contentId,role:"tooltip"},i||r))))});function fvt(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function dvt(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function hvt(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function pvt(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const a=t[o].x,l=t[o].y,c=t[s].x,u=t[s].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function gvt(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),mvt(t)}function mvt(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const o=t[t.length-1],s=t[t.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const o=n[n.length-1],s=n[n.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}const yvt=nvt,vvt=ivt,bvt=ovt,yNe=lvt,Q_=yvt,nne=vvt,rne=bvt,UT=O.forwardRef(({className:e,sideOffset:t=4,...n},r)=>b.jsx(yNe,{ref:r,sideOffset:t,className:ve("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-xs data-[side=bottom]:slide-in-from-top-1 data-[side=left]:slide-in-from-right-1 data-[side=right]:slide-in-from-left-1 data-[side=top]:slide-in-from-bottom-1",e),...n}));UT.displayName=yNe.displayName;const tn=({content:e,children:t,usePortal:n=!0,side:r,...i})=>b.jsxs(nne,{disableHoverableContent:!0,...i,children:[b.jsx(rne,{asChild:!0,children:t}),n?b.jsx(gNe,{children:b.jsx(UT,{side:r,children:e})}):b.jsx(UT,{side:r,children:e})]});class Ovt{constructor(){be(this,"tagName","marimo-button");be(this,"validator",H.object({label:H.string(),kind:XDe,disabled:H.boolean().default(!1),fullWidth:H.boolean().default(!1),tooltip:H.string().optional()}))}render(t){const{data:{disabled:n,kind:r,label:i,fullWidth:o,tooltip:s}}=t,a=b.jsx(zt,{variant:xvt(r),disabled:n,size:"xs",className:ve({"w-full":o}),onClick:()=>{n||t.setValue(l=>l+1)},type:"submit",children:Ha({html:i})});return s?b.jsx(Q_,{children:b.jsx(tn,{content:s,children:a})}):a}}function xvt(e){switch(e){case"neutral":return"secondary";case"danger":return"destructive";case"warn":return"warn";case"success":return"success"}}function XP(e){const t=O.useRef({value:e,previous:e});return O.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const vNe="Checkbox",[wvt,lQn]=ro(vNe),[Svt,_vt]=wvt(vNe),Cvt=O.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:l="on",onCheckedChange:c,...u}=e,[f,d]=O.useState(null),h=Xt(t,m=>d(m)),p=O.useRef(!1),g=f?!!f.closest("form"):!0,[y=!1,v]=Vo({prop:i,defaultProp:o,onChange:c}),x=O.useRef(y);return O.useEffect(()=>{const m=f==null?void 0:f.form;if(m){const w=()=>v(x.current);return m.addEventListener("reset",w),()=>m.removeEventListener("reset",w)}},[f,v]),O.createElement(Svt,{scope:n,state:y,disabled:a},O.createElement(Ot.button,le({type:"button",role:"checkbox","aria-checked":p1(y)?"mixed":y,"aria-required":s,"data-state":bNe(y),"data-disabled":a?"":void 0,disabled:a,value:l},u,{ref:h,onKeyDown:qe(e.onKeyDown,m=>{m.key==="Enter"&&m.preventDefault()}),onClick:qe(e.onClick,m=>{v(w=>p1(w)?!0:!w),g&&(p.current=m.isPropagationStopped(),p.current||m.stopPropagation())})})),g&&O.createElement(kvt,{control:f,bubbles:!p.current,name:r,value:l,checked:y,required:s,disabled:a,style:{transform:"translateX(-100%)"}}))}),$vt="CheckboxIndicator",Evt=O.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,o=_vt($vt,n);return O.createElement(zs,{present:r||p1(o.state)||o.state===!0},O.createElement(Ot.span,le({"data-state":bNe(o.state),"data-disabled":o.disabled?"":void 0},i,{ref:t,style:{pointerEvents:"none",...e.style}})))}),kvt=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,o=O.useRef(null),s=XP(n),a=qP(t);return O.useEffect(()=>{const l=o.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(s!==n&&f){const d=new Event("click",{bubbles:r});l.indeterminate=p1(n),f.call(l,p1(n)?!1:n),l.dispatchEvent(d)}},[s,n,r]),O.createElement("input",le({type:"checkbox","aria-hidden":!0,defaultChecked:p1(n)?!1:n},i,{tabIndex:-1,ref:o,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function p1(e){return e==="indeterminate"}function bNe(e){return p1(e)?"indeterminate":e?"checked":"unchecked"}const ONe=Cvt,Tvt=Evt;/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pvt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rvt=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),We=(e,t)=>{const n=O.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...c},u)=>O.createElement("svg",{ref:u,...Pvt,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${Rvt(e)}`,a].join(" "),...c},[...t.map(([f,d])=>O.createElement(f,d)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xNe=We("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wNe=We("AlignEndVertical",[["rect",{width:"16",height:"6",x:"2",y:"4",rx:"2",key:"10wcwx"}],["rect",{width:"9",height:"6",x:"9",y:"14",rx:"2",key:"4p5bwg"}],["path",{d:"M22 22V2",key:"12ipfv"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Avt=We("AlignHorizontalSpaceAround",[["rect",{width:"6",height:"10",x:"9",y:"7",rx:"2",key:"yn7j0q"}],["path",{d:"M4 22V2",key:"tsjzd3"}],["path",{d:"M20 22V2",key:"1bnhr8"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SNe=We("AlignStartVertical",[["rect",{width:"9",height:"6",x:"6",y:"14",rx:"2",key:"lpm2y7"}],["rect",{width:"16",height:"6",x:"6",y:"4",rx:"2",key:"rdj6ps"}],["path",{d:"M2 2v20",key:"1ivd8o"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dvt=We("ArrowDown01",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["rect",{x:"15",y:"4",width:"4",height:"6",ry:"2",key:"1bwicg"}],["path",{d:"M17 20v-6h-2",key:"1qp1so"}],["path",{d:"M15 20h4",key:"1j968p"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nvt=We("ArrowDown10",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M17 10V4h-2",key:"zcsr5x"}],["path",{d:"M15 10h4",key:"id2lce"}],["rect",{x:"15",y:"14",width:"4",height:"6",ry:"2",key:"33xykx"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mvt=We("ArrowDownNarrowWide",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h4",key:"6d7r33"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h10",key:"1438ji"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ivt=We("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lvt=We("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jvt=We("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fvt=We("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zvt=We("AtSign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=We("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qvt=We("BarChartBig",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["rect",{width:"4",height:"7",x:"7",y:"10",rx:"1",key:"14u6mf"}],["rect",{width:"4",height:"12",x:"15",y:"5",rx:"1",key:"b3pek6"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bvt=We("Binary",[["rect",{x:"14",y:"14",width:"4",height:"6",rx:"2",key:"p02svl"}],["rect",{x:"6",y:"4",width:"4",height:"6",rx:"2",key:"xm4xkj"}],["path",{d:"M6 20h4",key:"1i6q5t"}],["path",{d:"M14 10h4",key:"ru81e7"}],["path",{d:"M6 14h2v6",key:"16z9wg"}],["path",{d:"M14 4h2v6",key:"1idq9u"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ine=We("BookMarked",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}],["polyline",{points:"10 2 10 10 13 7 16 10 16 2",key:"13o6vz"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wvt=We("Braces",[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Ne=We("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CNe=We("CaseSensitive",[["path",{d:"m3 15 4-8 4 8",key:"1vwr6u"}],["path",{d:"M4 13h6",key:"1r9ots"}],["circle",{cx:"18",cy:"12",r:"3",key:"1kchzo"}],["path",{d:"M21 9v6",key:"anns31"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=We("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=We("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vvt=We("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const one=We("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SY=We("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uvt=We("ChevronsDownUp",[["path",{d:"m7 20 5-5 5 5",key:"13a0gw"}],["path",{d:"m7 4 5 5 5-5",key:"1kwcof"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qvt=We("ChevronsDown",[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yvt=We("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xvt=We("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=We("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hvt=We("ChevronsUp",[["path",{d:"m17 11-5-5-5 5",key:"e8nh98"}],["path",{d:"m17 18-5-5-5 5",key:"2avn1x"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=We("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zvt=We("ClipboardCopy",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gvt=We("ClipboardPaste",[["path",{d:"M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z",key:"1pp7kr"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10",key:"2ik1ml"}],["path",{d:"m17 10 4 4-4 4",key:"vp2hj1"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sne=We("Code2",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kvt=We("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jvt=We("Combine",[["rect",{width:"8",height:"8",x:"2",y:"2",rx:"2",key:"z1hh3n"}],["path",{d:"M14 2c1.1 0 2 .9 2 2v4c0 1.1-.9 2-2 2",key:"83orz6"}],["path",{d:"M20 2c1.1 0 2 .9 2 2v4c0 1.1-.9 2-2 2",key:"k86dmt"}],["path",{d:"M10 18H5c-1.7 0-3-1.3-3-3v-1",key:"6vokjl"}],["polyline",{points:"7 21 10 18 7 15",key:"1k02g0"}],["rect",{width:"8",height:"8",x:"14",y:"14",rx:"2",key:"1fa9i4"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1t=We("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=We("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1t=We("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Ne=We("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1t=We("EqualSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M7 14h10",key:"1mhdw3"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1t=We("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ENe=We("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dme=We("FileCode",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1t=We("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ane=We("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1t=We("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1t=We("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1t=We("FolderDown",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"m15 13-3 3-3-3",key:"6j2sf0"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1t=We("FolderTree",[["path",{d:"M20 10a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-2.5a1 1 0 0 1-.8-.4l-.9-1.2A1 1 0 0 0 15 3h-2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"hod4my"}],["path",{d:"M20 21a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1h-2.9a1 1 0 0 1-.88-.55l-.42-.85a1 1 0 0 0-.92-.6H13a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1Z",key:"w4yl2u"}],["path",{d:"M3 5a2 2 0 0 0 2 2h3",key:"f2jnh7"}],["path",{d:"M3 3v13a2 2 0 0 0 2 2h3",key:"k8epm1"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1t=We("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=We("FunctionSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M9 17c2 0 2.8-1 2.8-2.8V10c0-2 1-3.3 3.2-3",key:"m1af9g"}],["path",{d:"M9 11.2h5.7",key:"3zgcl2"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1t=We("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1t=We("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1t=We("GripHorizontal",[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1t=We("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1t=We("Group",[["path",{d:"M3 7V5c0-1.1.9-2 2-2h2",key:"adw53z"}],["path",{d:"M17 3h2c1.1 0 2 .9 2 2v2",key:"an4l38"}],["path",{d:"M21 17v2c0 1.1-.9 2-2 2h-2",key:"144t0e"}],["path",{d:"M7 21H5c-1.1 0-2-.9-2-2v-2",key:"rtnfgi"}],["rect",{width:"7",height:"5",x:"7",y:"7",rx:"1",key:"1eyiv7"}],["rect",{width:"7",height:"5",x:"10",y:"12",rx:"1",key:"1qlmkx"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1t=We("HardDriveDownload",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 18h.01",key:"h775k"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1t=We("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1t=We("Hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=We("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1t=We("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1t=We("LayoutTemplate",[["rect",{width:"18",height:"7",x:"3",y:"3",rx:"1",key:"f1a2em"}],["rect",{width:"9",height:"7",x:"3",y:"14",rx:"1",key:"jqznyg"}],["rect",{width:"5",height:"7",x:"16",y:"14",rx:"1",key:"q5h2i8"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1t=We("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1t=We("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1t=We("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=We("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kNe=We("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1t=We("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1t=We("MessageCircleQuestion",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1t=We("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1t=We("MousePointerSquareDashed",[["path",{d:"M5 3a2 2 0 0 0-2 2",key:"y57alp"}],["path",{d:"M19 3a2 2 0 0 1 2 2",key:"18rm91"}],["path",{d:"m12 12 4 10 1.7-4.3L22 16Z",key:"64ilsv"}],["path",{d:"M5 21a2 2 0 0 1-2-2",key:"sbafld"}],["path",{d:"M9 3h1",key:"1yesri"}],["path",{d:"M9 21h2",key:"1qve2z"}],["path",{d:"M14 3h1",key:"1ec4yj"}],["path",{d:"M3 9v1",key:"1r0deq"}],["path",{d:"M21 9v2",key:"p14lih"}],["path",{d:"M3 14v1",key:"vnatye"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1t=We("MousePointerSquare",[["path",{d:"M21 11V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h6",key:"14rsvq"}],["path",{d:"m12 12 4 10 1.7-4.3L22 16Z",key:"64ilsv"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1t=We("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1t=We("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12v0c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"bpx1uq"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11v0c-.11.7-.72 1.22-1.43 1.22H17",key:"1pd0s7"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98v0C9.52 4.9 9 5.52 9 6.23V7",key:"zq5xbz"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1t=We("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1t=We("PlaySquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m9 8 6 4-6 4Z",key:"f1r3lt"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=We("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hme=We("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lne=We("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1t=We("PowerSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 7v5",key:"ma6bk"}],["path",{d:"M8 9a5.14 5.14 0 0 0 4 8 4.95 4.95 0 0 0 4-8",key:"15eubv"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1t=We("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=We("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1t=We("Regex",[["path",{d:"M17 3v10",key:"15fgeh"}],["path",{d:"m12.67 5.5 8.66 5",key:"1gpheq"}],["path",{d:"m12.67 10.5 8.66-5",key:"1dkfa6"}],["path",{d:"M9 17a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-2z",key:"swwfx4"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1t=We("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TNe=We("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1t=We("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PNe=We("ScrollText",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M15 12h-5",key:"r7krc0"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1t=We("Scroll",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1t=We("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1t=We("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pme=We("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1t=We("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RNe=We("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=We("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1t=We("TextCursorInput",[["path",{d:"M5 4h1a3 3 0 0 1 3 3 3 3 0 0 1 3-3h1",key:"18xjzo"}],["path",{d:"M13 20h-1a3 3 0 0 1-3-3 3 3 0 0 1-3 3H5",key:"fj48gi"}],["path",{d:"M5 16H4a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2h1",key:"1n9rhb"}],["path",{d:"M13 8h7a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-7",key:"13ksps"}],["path",{d:"M9 7v10",key:"1vc8ob"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ANe=We("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=We("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gme=We("Triangle",[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1t=We("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1t=We("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11",key:"llx8ln"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1t=We("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1t=We("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1t=We("WholeWord",[["circle",{cx:"7",cy:"12",r:"3",key:"12clwm"}],["path",{d:"M10 9v6",key:"17i7lo"}],["circle",{cx:"17",cy:"12",r:"3",key:"gl7c2s"}],["path",{d:"M14 7v8",key:"dl84cr"}],["path",{d:"M22 17v1c0 .5-.5 1-1 1H3c-.5 0-1-.5-1-1v-1",key:"lt2kga"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DNe=We("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NNe=We("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=We("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MNe=We("ZapOff",[["polyline",{points:"12.41 6.75 13 2 10.57 4.92",key:"122m05"}],["polyline",{points:"18.57 12.91 21 10 15.66 10",key:"16r43o"}],["polyline",{points:"8 8 3 14 12 14 11 22 16 16",key:"tmh4bc"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.321.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const INe=We("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Dp=O.forwardRef(({className:e,...t},n)=>b.jsx(ONe,{ref:n,className:ve("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:b.jsx(Tvt,{className:ve("flex items-center justify-center text-current max-h-[14px] overflow-hidden"),children:b.jsx(Bb,{className:"h-4 w-4"})})}));Dp.displayName=ONe.displayName;const Y1t=O.forwardRef((e,t)=>O.createElement(Ot.label,le({},e,{ref:t,onMouseDown:n=>{var r;(r=e.onMouseDown)===null||r===void 0||r.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault()}}))),LNe=Y1t,X1t=Oo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ua=O.forwardRef(({className:e,...t},n)=>b.jsx(LNe,{ref:n,className:ve(X1t(),e),...t}));Ua.displayName=LNe.displayName;const Hl=({label:e,children:t,align:n="left",className:r,labelClassName:i,fullWidth:o,id:s})=>{if(o&&(n="top"),!e)return n==="top"?t:b.jsx("div",{className:ve("inline-flex",r),children:t});const a=b.jsx(Ua,{htmlFor:s,className:ve("font-prose",i),children:Ha({html:e})});return b.jsxs("div",{className:ve("mo-label inline-flex","pt-0 pb-0 pl-0",n==="top"&&"flex-col items-start gap-y-2",n==="left"&&"flex-row items-center gap-x-1.5 pr-2",n==="right"&&"flex-row-reverse items-center gap-x-1.5 pr-2",o&&"block space-y-2",r),children:[a,t]})};class H1t{constructor(){be(this,"tagName","marimo-checkbox");be(this,"validator",H.object({initialValue:H.boolean(),label:H.string().nullable()}))}render(t){return b.jsx(Z1t,{...t})}}const Z1t=({value:e,setValue:t,data:n})=>{const r=o=>{o!=="indeterminate"&&t(o)},i=O.useId();return b.jsx(Hl,{label:n.label,align:"right",id:i,children:b.jsx(Dp,{checked:e,onCheckedChange:r,id:i})})};var G1t=typeof global=="object"&&global&&global.Object===Object&&global;const jNe=G1t;var K1t=typeof self=="object"&&self&&self.Object===Object&&self,J1t=jNe||K1t||Function("return this")();const zh=J1t;var ebt=zh.Symbol;const wh=ebt;var FNe=Object.prototype,tbt=FNe.hasOwnProperty,nbt=FNe.toString,t$=wh?wh.toStringTag:void 0;function rbt(e){var t=tbt.call(e,t$),n=e[t$];try{e[t$]=void 0;var r=!0}catch{}var i=nbt.call(e);return r&&(t?e[t$]=n:delete e[t$]),i}var ibt=Object.prototype,obt=ibt.toString;function sbt(e){return obt.call(e)}var abt="[object Null]",lbt="[object Undefined]",mme=wh?wh.toStringTag:void 0;function B_(e){return e==null?e===void 0?lbt:abt:mme&&mme in Object(e)?rbt(e):sbt(e)}function cS(e){return e!=null&&typeof e=="object"}var cbt="[object Symbol]";function uS(e){return typeof e=="symbol"||cS(e)&&B_(e)==cbt}function WM(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var ubt=Array.isArray;const Hf=ubt;var fbt=1/0,yme=wh?wh.prototype:void 0,vme=yme?yme.toString:void 0;function zNe(e){if(typeof e=="string")return e;if(Hf(e))return WM(e,zNe)+"";if(uS(e))return vme?vme.call(e):"";var t=e+"";return t=="0"&&1/e==-fbt?"-0":t}var dbt=/\s/;function hbt(e){for(var t=e.length;t--&&dbt.test(e.charAt(t)););return t}var pbt=/^\s+/;function gbt(e){return e&&e.slice(0,hbt(e)+1).replace(pbt,"")}function q1(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var bme=NaN,mbt=/^[-+]0x[0-9a-f]+$/i,ybt=/^0b[01]+$/i,vbt=/^0o[0-7]+$/i,bbt=parseInt;function CY(e){if(typeof e=="number")return e;if(uS(e))return bme;if(q1(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=q1(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=gbt(e);var n=ybt.test(e);return n||vbt.test(e)?bbt(e.slice(2),n?2:8):mbt.test(e)?bme:+e}var Ome=1/0,Obt=17976931348623157e292;function xbt(e){if(!e)return e===0?e:0;if(e=CY(e),e===Ome||e===-Ome){var t=e<0?-1:1;return t*Obt}return e===e?e:0}function wbt(e){var t=xbt(e),n=t%1;return t===t?n?t-n:t:0}function n6(e){return e}var Sbt="[object AsyncFunction]",_bt="[object Function]",Cbt="[object GeneratorFunction]",$bt="[object Proxy]";function QNe(e){if(!q1(e))return!1;var t=B_(e);return t==_bt||t==Cbt||t==Sbt||t==$bt}var Ebt=zh["__core-js_shared__"];const NQ=Ebt;var xme=function(){var e=/[^.]+$/.exec(NQ&&NQ.keys&&NQ.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function kbt(e){return!!xme&&xme in e}var Tbt=Function.prototype,Pbt=Tbt.toString;function Wb(e){if(e!=null){try{return Pbt.call(e)}catch{}try{return e+""}catch{}}return""}var Rbt=/[\\^$.*+?()[\]{}|]/g,Abt=/^\[object .+?Constructor\]$/,Dbt=Function.prototype,Nbt=Object.prototype,Mbt=Dbt.toString,Ibt=Nbt.hasOwnProperty,Lbt=RegExp("^"+Mbt.call(Ibt).replace(Rbt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function jbt(e){if(!q1(e)||kbt(e))return!1;var t=QNe(e)?Lbt:Abt;return t.test(Wb(e))}function Fbt(e,t){return e==null?void 0:e[t]}function Vb(e,t){var n=Fbt(e,t);return jbt(n)?n:void 0}var zbt=Vb(zh,"WeakMap");const $Y=zbt;function Qbt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Bbt(){}var Wbt=800,Vbt=16,Ubt=Date.now;function qbt(e){var t=0,n=0;return function(){var r=Ubt(),i=Vbt-(r-n);if(n=r,i>0){if(++t>=Wbt)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Ybt(e){return function(){return e}}var Xbt=function(){try{var e=Vb(Object,"defineProperty");return e({},"",{}),e}catch{}}();const wme=Xbt;var Hbt=wme?function(e,t){return wme(e,"toString",{configurable:!0,enumerable:!1,value:Ybt(t),writable:!0})}:n6;const Zbt=Hbt;var Gbt=qbt(Zbt);const Kbt=Gbt;function Jbt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function eOt(e){return e!==e}function tOt(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function nOt(e,t,n){return t===t?tOt(e,t,n):Jbt(e,eOt,n)}function rOt(e,t){var n=e==null?0:e.length;return!!n&&nOt(e,t,0)>-1}var iOt=9007199254740991,oOt=/^(?:0|[1-9]\d*)$/;function cne(e,t){var n=typeof e;return t=t??iOt,!!t&&(n=="number"||n!="symbol"&&oOt.test(e))&&e>-1&&e%1==0&&e<t}function une(e,t){return e===t||e!==e&&t!==t}var Sme=Math.max;function sOt(e,t,n){return t=Sme(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Sme(r.length-t,0),s=Array(o);++i<o;)s[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(s),Qbt(e,this,a)}}function aOt(e,t){return Kbt(sOt(e,t,n6),e+"")}var lOt=9007199254740991;function fne(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=lOt}function r6(e){return e!=null&&fne(e.length)&&!QNe(e)}function _me(e,t,n){if(!q1(n))return!1;var r=typeof t;return(r=="number"?r6(n)&&cne(t,n.length):r=="string"&&t in n)?une(n[t],e):!1}var cOt=Object.prototype;function uOt(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||cOt;return e===n}function fOt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var dOt="[object Arguments]";function Cme(e){return cS(e)&&B_(e)==dOt}var BNe=Object.prototype,hOt=BNe.hasOwnProperty,pOt=BNe.propertyIsEnumerable,gOt=Cme(function(){return arguments}())?Cme:function(e){return cS(e)&&hOt.call(e,"callee")&&!pOt.call(e,"callee")};const dne=gOt;function mOt(){return!1}var WNe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$me=WNe&&typeof module=="object"&&module&&!module.nodeType&&module,yOt=$me&&$me.exports===WNe,Eme=yOt?zh.Buffer:void 0,vOt=Eme?Eme.isBuffer:void 0,bOt=vOt||mOt;const EY=bOt;var OOt="[object Arguments]",xOt="[object Array]",wOt="[object Boolean]",SOt="[object Date]",_Ot="[object Error]",COt="[object Function]",$Ot="[object Map]",EOt="[object Number]",kOt="[object Object]",TOt="[object RegExp]",POt="[object Set]",ROt="[object String]",AOt="[object WeakMap]",DOt="[object ArrayBuffer]",NOt="[object DataView]",MOt="[object Float32Array]",IOt="[object Float64Array]",LOt="[object Int8Array]",jOt="[object Int16Array]",FOt="[object Int32Array]",zOt="[object Uint8Array]",QOt="[object Uint8ClampedArray]",BOt="[object Uint16Array]",WOt="[object Uint32Array]",ei={};ei[MOt]=ei[IOt]=ei[LOt]=ei[jOt]=ei[FOt]=ei[zOt]=ei[QOt]=ei[BOt]=ei[WOt]=!0;ei[OOt]=ei[xOt]=ei[DOt]=ei[wOt]=ei[NOt]=ei[SOt]=ei[_Ot]=ei[COt]=ei[$Ot]=ei[EOt]=ei[kOt]=ei[TOt]=ei[POt]=ei[ROt]=ei[AOt]=!1;function VOt(e){return cS(e)&&fne(e.length)&&!!ei[B_(e)]}function VNe(e){return function(t){return e(t)}}var UNe=typeof exports=="object"&&exports&&!exports.nodeType&&exports,pk=UNe&&typeof module=="object"&&module&&!module.nodeType&&module,UOt=pk&&pk.exports===UNe,MQ=UOt&&jNe.process,qOt=function(){try{var e=pk&&pk.require&&pk.require("util").types;return e||MQ&&MQ.binding&&MQ.binding("util")}catch{}}();const kme=qOt;var Tme=kme&&kme.isTypedArray,YOt=Tme?VNe(Tme):VOt;const qNe=YOt;var XOt=Object.prototype,HOt=XOt.hasOwnProperty;function ZOt(e,t){var n=Hf(e),r=!n&&dne(e),i=!n&&!r&&EY(e),o=!n&&!r&&!i&&qNe(e),s=n||r||i||o,a=s?fOt(e.length,String):[],l=a.length;for(var c in e)(t||HOt.call(e,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||cne(c,l)))&&a.push(c);return a}function GOt(e,t){return function(n){return e(t(n))}}var KOt=GOt(Object.keys,Object);const JOt=KOt;var ext=Object.prototype,txt=ext.hasOwnProperty;function nxt(e){if(!uOt(e))return JOt(e);var t=[];for(var n in Object(e))txt.call(e,n)&&n!="constructor"&&t.push(n);return t}function hne(e){return r6(e)?ZOt(e):nxt(e)}var rxt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ixt=/^\w*$/;function pne(e,t){if(Hf(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||uS(e)?!0:ixt.test(e)||!rxt.test(e)||t!=null&&e in Object(t)}var oxt=Vb(Object,"create");const XT=oxt;function sxt(){this.__data__=XT?XT(null):{},this.size=0}function axt(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var lxt="__lodash_hash_undefined__",cxt=Object.prototype,uxt=cxt.hasOwnProperty;function fxt(e){var t=this.__data__;if(XT){var n=t[e];return n===lxt?void 0:n}return uxt.call(t,e)?t[e]:void 0}var dxt=Object.prototype,hxt=dxt.hasOwnProperty;function pxt(e){var t=this.__data__;return XT?t[e]!==void 0:hxt.call(t,e)}var gxt="__lodash_hash_undefined__";function mxt(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=XT&&t===void 0?gxt:t,this}function Y1(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Y1.prototype.clear=sxt;Y1.prototype.delete=axt;Y1.prototype.get=fxt;Y1.prototype.has=pxt;Y1.prototype.set=mxt;function yxt(){this.__data__=[],this.size=0}function i6(e,t){for(var n=e.length;n--;)if(une(e[n][0],t))return n;return-1}var vxt=Array.prototype,bxt=vxt.splice;function Oxt(e){var t=this.__data__,n=i6(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():bxt.call(t,n,1),--this.size,!0}function xxt(e){var t=this.__data__,n=i6(t,e);return n<0?void 0:t[n][1]}function wxt(e){return i6(this.__data__,e)>-1}function Sxt(e,t){var n=this.__data__,r=i6(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Ag(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ag.prototype.clear=yxt;Ag.prototype.delete=Oxt;Ag.prototype.get=xxt;Ag.prototype.has=wxt;Ag.prototype.set=Sxt;var _xt=Vb(zh,"Map");const HT=_xt;function Cxt(){this.size=0,this.__data__={hash:new Y1,map:new(HT||Ag),string:new Y1}}function $xt(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function o6(e,t){var n=e.__data__;return $xt(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Ext(e){var t=o6(this,e).delete(e);return this.size-=t?1:0,t}function kxt(e){return o6(this,e).get(e)}function Txt(e){return o6(this,e).has(e)}function Pxt(e,t){var n=o6(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function Dg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Dg.prototype.clear=Cxt;Dg.prototype.delete=Ext;Dg.prototype.get=kxt;Dg.prototype.has=Txt;Dg.prototype.set=Pxt;var Rxt="Expected a function";function gne(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Rxt);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(gne.Cache||Dg),n}gne.Cache=Dg;var Axt=500;function Dxt(e){var t=gne(e,function(r){return n.size===Axt&&n.clear(),r}),n=t.cache;return t}var Nxt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mxt=/\\(\\)?/g,Ixt=Dxt(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Nxt,function(n,r,i,o){t.push(i?o.replace(Mxt,"$1"):r||n)}),t});const Lxt=Ixt;function s6(e){return e==null?"":zNe(e)}function YNe(e,t){return Hf(e)?e:pne(e,t)?[e]:Lxt(s6(e))}var jxt=1/0;function a6(e){if(typeof e=="string"||uS(e))return e;var t=e+"";return t=="0"&&1/e==-jxt?"-0":t}function mne(e,t){t=YNe(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[a6(t[n++])];return n&&n==r?e:void 0}function XNe(e,t,n){var r=e==null?void 0:mne(e,t);return r===void 0?n:r}function HNe(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Pme=wh?wh.isConcatSpreadable:void 0;function Fxt(e){return Hf(e)||dne(e)||!!(Pme&&e&&e[Pme])}function ZNe(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=Fxt),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?ZNe(a,t-1,n,r,i):HNe(i,a):r||(i[i.length]=a)}return i}var zxt="Expected a function";function Qxt(e,t){var n;if(typeof t!="function")throw new TypeError(zxt);return e=wbt(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}function Bxt(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}function Wxt(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:Bxt(e,t,n)}var Vxt="\\ud800-\\udfff",Uxt="\\u0300-\\u036f",qxt="\\ufe20-\\ufe2f",Yxt="\\u20d0-\\u20ff",Xxt=Uxt+qxt+Yxt,Hxt="\\ufe0e\\ufe0f",Zxt="\\u200d",Gxt=RegExp("["+Zxt+Vxt+Xxt+Hxt+"]");function GNe(e){return Gxt.test(e)}function Kxt(e){return e.split("")}var KNe="\\ud800-\\udfff",Jxt="\\u0300-\\u036f",ewt="\\ufe20-\\ufe2f",twt="\\u20d0-\\u20ff",nwt=Jxt+ewt+twt,rwt="\\ufe0e\\ufe0f",iwt="["+KNe+"]",kY="["+nwt+"]",TY="\\ud83c[\\udffb-\\udfff]",owt="(?:"+kY+"|"+TY+")",JNe="[^"+KNe+"]",eMe="(?:\\ud83c[\\udde6-\\uddff]){2}",tMe="[\\ud800-\\udbff][\\udc00-\\udfff]",swt="\\u200d",nMe=owt+"?",rMe="["+rwt+"]?",awt="(?:"+swt+"(?:"+[JNe,eMe,tMe].join("|")+")"+rMe+nMe+")*",lwt=rMe+nMe+awt,cwt="(?:"+[JNe+kY+"?",kY,eMe,tMe,iwt].join("|")+")",uwt=RegExp(TY+"(?="+TY+")|"+cwt+lwt,"g");function fwt(e){return e.match(uwt)||[]}function dwt(e){return GNe(e)?fwt(e):Kxt(e)}function hwt(e){return function(t){t=s6(t);var n=GNe(t)?dwt(t):void 0,r=n?n[0]:t.charAt(0),i=n?Wxt(n,1).join(""):t.slice(1);return r[e]()+i}}var pwt=hwt("toUpperCase");const gwt=pwt;function mwt(e,t,n,r){var i=-1,o=e==null?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function ywt(e){return function(t){return e==null?void 0:e[t]}}var vwt={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},bwt=ywt(vwt);const Owt=bwt;var xwt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wwt="\\u0300-\\u036f",Swt="\\ufe20-\\ufe2f",_wt="\\u20d0-\\u20ff",Cwt=wwt+Swt+_wt,$wt="["+Cwt+"]",Ewt=RegExp($wt,"g");function kwt(e){return e=s6(e),e&&e.replace(xwt,Owt).replace(Ewt,"")}var Twt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function Pwt(e){return e.match(Twt)||[]}var Rwt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Awt(e){return Rwt.test(e)}var iMe="\\ud800-\\udfff",Dwt="\\u0300-\\u036f",Nwt="\\ufe20-\\ufe2f",Mwt="\\u20d0-\\u20ff",Iwt=Dwt+Nwt+Mwt,oMe="\\u2700-\\u27bf",sMe="a-z\\xdf-\\xf6\\xf8-\\xff",Lwt="\\xac\\xb1\\xd7\\xf7",jwt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Fwt="\\u2000-\\u206f",zwt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",aMe="A-Z\\xc0-\\xd6\\xd8-\\xde",Qwt="\\ufe0e\\ufe0f",lMe=Lwt+jwt+Fwt+zwt,cMe="[']",Rme="["+lMe+"]",Bwt="["+Iwt+"]",uMe="\\d+",Wwt="["+oMe+"]",fMe="["+sMe+"]",dMe="[^"+iMe+lMe+uMe+oMe+sMe+aMe+"]",Vwt="\\ud83c[\\udffb-\\udfff]",Uwt="(?:"+Bwt+"|"+Vwt+")",qwt="[^"+iMe+"]",hMe="(?:\\ud83c[\\udde6-\\uddff]){2}",pMe="[\\ud800-\\udbff][\\udc00-\\udfff]",xx="["+aMe+"]",Ywt="\\u200d",Ame="(?:"+fMe+"|"+dMe+")",Xwt="(?:"+xx+"|"+dMe+")",Dme="(?:"+cMe+"(?:d|ll|m|re|s|t|ve))?",Nme="(?:"+cMe+"(?:D|LL|M|RE|S|T|VE))?",gMe=Uwt+"?",mMe="["+Qwt+"]?",Hwt="(?:"+Ywt+"(?:"+[qwt,hMe,pMe].join("|")+")"+mMe+gMe+")*",Zwt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Gwt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Kwt=mMe+gMe+Hwt,Jwt="(?:"+[Wwt,hMe,pMe].join("|")+")"+Kwt,eSt=RegExp([xx+"?"+fMe+"+"+Dme+"(?="+[Rme,xx,"$"].join("|")+")",Xwt+"+"+Nme+"(?="+[Rme,xx+Ame,"$"].join("|")+")",xx+"?"+Ame+"+"+Dme,xx+"+"+Nme,Gwt,Zwt,uMe,Jwt].join("|"),"g");function tSt(e){return e.match(eSt)||[]}function nSt(e,t,n){return e=s6(e),t=n?void 0:t,t===void 0?Awt(e)?tSt(e):Pwt(e):e.match(t)||[]}var rSt="[']",iSt=RegExp(rSt,"g");function oSt(e){return function(t){return mwt(nSt(kwt(t).replace(iSt,"")),e,"")}}function sSt(){this.__data__=new Ag,this.size=0}function aSt(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function lSt(e){return this.__data__.get(e)}function cSt(e){return this.__data__.has(e)}var uSt=200;function fSt(e,t){var n=this.__data__;if(n instanceof Ag){var r=n.__data__;if(!HT||r.length<uSt-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Dg(r)}return n.set(e,t),this.size=n.size,this}function Yp(e){var t=this.__data__=new Ag(e);this.size=t.size}Yp.prototype.clear=sSt;Yp.prototype.delete=aSt;Yp.prototype.get=lSt;Yp.prototype.has=cSt;Yp.prototype.set=fSt;function dSt(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function hSt(){return[]}var pSt=Object.prototype,gSt=pSt.propertyIsEnumerable,Mme=Object.getOwnPropertySymbols,mSt=Mme?function(e){return e==null?[]:(e=Object(e),dSt(Mme(e),function(t){return gSt.call(e,t)}))}:hSt;const ySt=mSt;function vSt(e,t,n){var r=t(e);return Hf(e)?r:HNe(r,n(e))}function Ime(e){return vSt(e,hne,ySt)}var bSt=Vb(zh,"DataView");const PY=bSt;var OSt=Vb(zh,"Promise");const RY=OSt;var xSt=Vb(zh,"Set");const vw=xSt;var Lme="[object Map]",wSt="[object Object]",jme="[object Promise]",Fme="[object Set]",zme="[object WeakMap]",Qme="[object DataView]",SSt=Wb(PY),_St=Wb(HT),CSt=Wb(RY),$St=Wb(vw),ESt=Wb($Y),xv=B_;(PY&&xv(new PY(new ArrayBuffer(1)))!=Qme||HT&&xv(new HT)!=Lme||RY&&xv(RY.resolve())!=jme||vw&&xv(new vw)!=Fme||$Y&&xv(new $Y)!=zme)&&(xv=function(e){var t=B_(e),n=t==wSt?e.constructor:void 0,r=n?Wb(n):"";if(r)switch(r){case SSt:return Qme;case _St:return Lme;case CSt:return jme;case $St:return Fme;case ESt:return zme}return t});const Bme=xv;var kSt=zh.Uint8Array;const Wme=kSt;var TSt="__lodash_hash_undefined__";function PSt(e){return this.__data__.set(e,TSt),this}function RSt(e){return this.__data__.has(e)}function ZT(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Dg;++t<n;)this.add(e[t])}ZT.prototype.add=ZT.prototype.push=PSt;ZT.prototype.has=RSt;function ASt(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function yMe(e,t){return e.has(t)}var DSt=1,NSt=2;function vMe(e,t,n,r,i,o){var s=n&DSt,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var f=-1,d=!0,h=n&NSt?new ZT:void 0;for(o.set(e,t),o.set(t,e);++f<a;){var p=e[f],g=t[f];if(r)var y=s?r(g,p,f,t,e,o):r(p,g,f,e,t,o);if(y!==void 0){if(y)continue;d=!1;break}if(h){if(!ASt(t,function(v,x){if(!yMe(h,x)&&(p===v||i(p,v,n,r,o)))return h.push(x)})){d=!1;break}}else if(!(p===g||i(p,g,n,r,o))){d=!1;break}}return o.delete(e),o.delete(t),d}function MSt(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function yne(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var ISt=1,LSt=2,jSt="[object Boolean]",FSt="[object Date]",zSt="[object Error]",QSt="[object Map]",BSt="[object Number]",WSt="[object RegExp]",VSt="[object Set]",USt="[object String]",qSt="[object Symbol]",YSt="[object ArrayBuffer]",XSt="[object DataView]",Vme=wh?wh.prototype:void 0,IQ=Vme?Vme.valueOf:void 0;function HSt(e,t,n,r,i,o,s){switch(n){case XSt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case YSt:return!(e.byteLength!=t.byteLength||!o(new Wme(e),new Wme(t)));case jSt:case FSt:case BSt:return une(+e,+t);case zSt:return e.name==t.name&&e.message==t.message;case WSt:case USt:return e==t+"";case QSt:var a=MSt;case VSt:var l=r&ISt;if(a||(a=yne),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;r|=LSt,s.set(e,t);var u=vMe(a(e),a(t),r,i,o,s);return s.delete(e),u;case qSt:if(IQ)return IQ.call(e)==IQ.call(t)}return!1}var ZSt=1,GSt=Object.prototype,KSt=GSt.hasOwnProperty;function JSt(e,t,n,r,i,o){var s=n&ZSt,a=Ime(e),l=a.length,c=Ime(t),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var d=a[f];if(!(s?d in t:KSt.call(t,d)))return!1}var h=o.get(e),p=o.get(t);if(h&&p)return h==t&&p==e;var g=!0;o.set(e,t),o.set(t,e);for(var y=s;++f<l;){d=a[f];var v=e[d],x=t[d];if(r)var m=s?r(x,v,d,t,e,o):r(v,x,d,e,t,o);if(!(m===void 0?v===x||i(v,x,n,r,o):m)){g=!1;break}y||(y=d=="constructor")}if(g&&!y){var w=e.constructor,S=t.constructor;w!=S&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof S=="function"&&S instanceof S)&&(g=!1)}return o.delete(e),o.delete(t),g}var e_t=1,Ume="[object Arguments]",qme="[object Array]",dD="[object Object]",t_t=Object.prototype,Yme=t_t.hasOwnProperty;function n_t(e,t,n,r,i,o){var s=Hf(e),a=Hf(t),l=s?qme:Bme(e),c=a?qme:Bme(t);l=l==Ume?dD:l,c=c==Ume?dD:c;var u=l==dD,f=c==dD,d=l==c;if(d&&EY(e)){if(!EY(t))return!1;s=!0,u=!1}if(d&&!u)return o||(o=new Yp),s||qNe(e)?vMe(e,t,n,r,i,o):HSt(e,t,l,n,r,i,o);if(!(n&e_t)){var h=u&&Yme.call(e,"__wrapped__"),p=f&&Yme.call(t,"__wrapped__");if(h||p){var g=h?e.value():e,y=p?t.value():t;return o||(o=new Yp),i(g,y,n,r,o)}}return d?(o||(o=new Yp),JSt(e,t,n,r,i,o)):!1}function vne(e,t,n,r,i){return e===t?!0:e==null||t==null||!cS(e)&&!cS(t)?e!==e&&t!==t:n_t(e,t,n,r,vne,i)}var r_t=1,i_t=2;function o_t(e,t,n,r){var i=n.length,o=i,s=!r;if(e==null)return!o;for(e=Object(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){a=n[i];var l=a[0],c=e[l],u=a[1];if(s&&a[2]){if(c===void 0&&!(l in e))return!1}else{var f=new Yp;if(r)var d=r(c,u,l,e,t,f);if(!(d===void 0?vne(u,c,r_t|i_t,r,f):d))return!1}}return!0}function bMe(e){return e===e&&!q1(e)}function s_t(e){for(var t=hne(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,bMe(i)]}return t}function OMe(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function a_t(e){var t=s_t(e);return t.length==1&&t[0][2]?OMe(t[0][0],t[0][1]):function(n){return n===e||o_t(n,e,t)}}function l_t(e,t){return e!=null&&t in Object(e)}function c_t(e,t,n){t=YNe(t,e);for(var r=-1,i=t.length,o=!1;++r<i;){var s=a6(t[r]);if(!(o=e!=null&&n(e,s)))break;e=e[s]}return o||++r!=i?o:(i=e==null?0:e.length,!!i&&fne(i)&&cne(s,i)&&(Hf(e)||dne(e)))}function u_t(e,t){return e!=null&&c_t(e,t,l_t)}var f_t=1,d_t=2;function h_t(e,t){return pne(e)&&bMe(t)?OMe(a6(e),t):function(n){var r=XNe(n,e);return r===void 0&&r===t?u_t(n,e):vne(t,r,f_t|d_t)}}function p_t(e){return function(t){return t==null?void 0:t[e]}}function g_t(e){return function(t){return mne(t,e)}}function m_t(e){return pne(e)?p_t(a6(e)):g_t(e)}function y_t(e){return typeof e=="function"?e:e==null?n6:typeof e=="object"?Hf(e)?h_t(e[0],e[1]):a_t(e):m_t(e)}function v_t(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var l=s[e?a:++i];if(n(o[l],l,o)===!1)break}return t}}var b_t=v_t();const O_t=b_t;function x_t(e,t){return e&&O_t(e,t,hne)}function w_t(e,t){return function(n,r){if(n==null)return n;if(!r6(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=Object(n);(t?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}var S_t=w_t(x_t);const __t=S_t;var C_t=function(){return zh.Date.now()};const LQ=C_t;var $_t="Expected a function",E_t=Math.max,k_t=Math.min;function bne(e,t,n){var r,i,o,s,a,l,c=0,u=!1,f=!1,d=!0;if(typeof e!="function")throw new TypeError($_t);t=CY(t)||0,q1(n)&&(u=!!n.leading,f="maxWait"in n,o=f?E_t(CY(n.maxWait)||0,t):o,d="trailing"in n?!!n.trailing:d);function h(C){var $=r,E=i;return r=i=void 0,c=C,s=e.apply(E,$),s}function p(C){return c=C,a=setTimeout(v,t),u?h(C):s}function g(C){var $=C-l,E=C-c,R=t-$;return f?k_t(R,o-E):R}function y(C){var $=C-l,E=C-c;return l===void 0||$>=t||$<0||f&&E>=o}function v(){var C=LQ();if(y(C))return x(C);a=setTimeout(v,g(C))}function x(C){return a=void 0,d&&r?h(C):(r=i=void 0,s)}function m(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function w(){return a===void 0?s:x(LQ())}function S(){var C=LQ(),$=y(C);if(r=arguments,i=this,l=C,$){if(a===void 0)return p(l);if(f)return clearTimeout(a),a=setTimeout(v,t),h(l)}return a===void 0&&(a=setTimeout(v,t)),s}return S.cancel=m,S.flush=w,S}function T_t(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function P_t(e,t){var n=-1,r=r6(e)?Array(e.length):[];return __t(e,function(i,o,s){r[++n]=t(i,o,s)}),r}function R_t(e){return Qxt(2,e)}function A_t(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function D_t(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,o=uS(e),s=t!==void 0,a=t===null,l=t===t,c=uS(t);if(!a&&!c&&!o&&e>t||o&&s&&l&&!a&&!c||r&&s&&l||!n&&l||!i)return 1;if(!r&&!o&&!c&&e<t||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!l)return-1}return 0}function N_t(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;++r<s;){var l=D_t(i[r],o[r]);if(l){if(r>=a)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return e.index-t.index}function M_t(e,t,n){t.length?t=WM(t,function(o){return Hf(o)?function(s){return mne(s,o.length===1?o[0]:o)}:o}):t=[n6];var r=-1;t=WM(t,VNe(y_t));var i=P_t(e,function(o,s,a){var l=WM(t,function(c){return c(o)});return{criteria:l,index:++r,value:o}});return A_t(i,function(o,s){return N_t(o,s,n)})}var I_t=aOt(function(e,t){if(e==null)return[];var n=t.length;return n>1&&_me(e,t[0],t[1])?t=[]:n>2&&_me(t[0],t[1],t[2])&&(t=[t[0]]),M_t(e,ZNe(t,1),[])});const jQ=I_t;var L_t=oSt(function(e,t,n){return e+(n?" ":"")+gwt(t)});const l6=L_t;var j_t=1/0,F_t=vw&&1/yne(new vw([,-0]))[1]==j_t?function(e){return new vw(e)}:Bbt;const z_t=F_t;var Q_t=200;function B_t(e,t,n){var r=-1,i=rOt,o=e.length,s=!0,a=[],l=a;if(n)s=!1,i=T_t;else if(o>=Q_t){var c=t?null:z_t(e);if(c)return yne(c);s=!1,i=yMe,l=new ZT}else l=t?[]:a;e:for(;++r<o;){var u=e[r],f=t?t(u):u;if(u=n||u!==0?u:0,s&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;t&&l.push(f),a.push(u)}else i(l,f,n)||(l!==a&&l.push(f),a.push(u))}return a}function W_t(e){return e&&e.length?B_t(e):[]}function V_t(e,t){const[n,r]=O.useState(e);return O.useEffect(()=>{const i=setTimeout(()=>r(e),t);return()=>{clearTimeout(i)}},[e,t]),n}function One(e){const{initialValue:t,onChange:n,delay:r,disabled:i}=e,[o,s]=O.useState(t),a=V_t(o,r||200),l=Zn(n);return O.useEffect(()=>{s(t)},[t]),O.useEffect(()=>{i||l(a)},[a,i,l]),i?{value:o,debouncedValue:o,onChange:n}:{value:o,debouncedValue:a,onChange:c=>{s(c)}}}function U_t(e,t){const n=Zn(e);return O.useMemo(()=>bne(n,t),[n,t])}const fg={stopPropagation:e=>t=>{t.stopPropagation(),e&&e(t)},onEnter:e=>t=>{t.key==="Enter"&&e&&e(t)}},Ns=O.forwardRef(({className:e,type:t,endAdornment:n,...r},i)=>{const o=r.icon;return t==="hidden"?b.jsx("input",{type:"hidden",ref:i,...r}):b.jsxs("div",{className:"relative",children:[o&&b.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-[6px] pointer-events-none text-muted-foreground h-6",children:o}),b.jsx("input",{type:t,className:ve("shadow-xsSolid hover:shadow-smSolid disabled:shadow-xsSolid focus-visible:shadow-mdSolid","flex h-6 w-full mb-1 rounded-sm border border-input bg-background px-1.5 py-1 text-sm font-code ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:border-primary disabled:cursor-not-allowed disabled:opacity-50",o&&"pl-7",n&&"pr-10",e),ref:i,onClick:fg.stopPropagation(),...r}),n&&b.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-[6px] pointer-events-none text-muted-foreground h-6",children:n})]})});Ns.displayName="Input";const xne=O.forwardRef(({className:e,onValueChange:t,...n},r)=>{const{value:i,onChange:o}=One({initialValue:n.value,delay:200,onChange:t});return b.jsx(Ns,{ref:r,className:e,...n,onChange:s=>o(s.target.value),value:i})});xne.displayName="DebouncedInput";const xMe=O.forwardRef(({className:e,onValueChange:t,...n},r)=>{const{value:i,onChange:o}=One({initialValue:n.value,delay:200,onChange:t});return b.jsx(Ns,{ref:r,type:"number",className:e,...n,onChange:s=>o(s.target.valueAsNumber),value:i})});xMe.displayName="DebouncedNumberInput";class q_t{constructor(){be(this,"tagName","marimo-date-picker");be(this,"validator",H.object({initialValue:H.string(),label:H.string().nullable(),start:H.string(),stop:H.string(),step:H.string().optional(),fullWidth:H.boolean().default(!1)}))}render(t){return b.jsx(Y_t,{...t.data,value:t.value,setValue:t.setValue})}}const Y_t=e=>{const t=O.useRef(null),n=()=>{const i=t.current;if(i!=null&&i.valueAsDate){let o=i.valueAsDate;const s=new Date(e.start);o=o<s?s:o;const a=new Date(e.stop);o=o>a?a:o;const l=o.toISOString(),c=l.slice(0,l.indexOf("T"));e.setValue(c)}},r=O.useId();return b.jsx(Hl,{label:e.label,id:r,fullWidth:e.fullWidth,children:b.jsx(Ns,{ref:t,type:"date",className:ve({"w-full":e.fullWidth}),min:e.start,max:e.stop,value:e.value,onInput:n,id:r})})};class X_t{constructor(){be(this,"tagName","marimo-dict");be(this,"validator",H.object({label:H.string().nullable(),elementIds:H.record(H.string(),H.string())}))}render(t){return b.jsx(H_t,{...t.data,value:t.value,setValue:t.setValue,children:t.children})}}const H_t=({elementIds:e,setValue:t,children:n})=>(O.useEffect(()=>{const r=i=>{const o=i.detail.element;if(o===null||!(o instanceof Node))return;const s=Zte(o);if(s===null)return;const a=e[s];a!==void 0&&t(l=>{const c=l?{...l}:{};return c[a]=i.detail.value,c})};return document.addEventListener(z1,r),()=>{document.removeEventListener(z1,r)}},[e,t]),n),wMe=Oo("flex h-6 w-fit mb-1 items-center justify-between rounded-sm bg-background px-2 text-sm font-prose ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 cursor-pointer",{variants:{variant:{default:"shadow-xsSolid border border-input hover:shadow-smSolid focus:border-primary focus:shadow-mdSolid disabled:hover:shadow-xsSolid",ghost:"opacity-70 hover:opacity-100 focus:opacity-100"}},defaultVariants:{variant:"default"}}),g1=O.forwardRef(({className:e,children:t,...n},r)=>b.jsx("select",{ref:r,onClick:fg.stopPropagation(),className:ve(wMe({}),e),...n,children:t}));g1.displayName="NativeSelect";class Z_t{constructor(){be(this,"tagName","marimo-dropdown");be(this,"validator",H.object({initialValue:H.array(H.string()),label:H.string().nullable(),options:H.array(H.string()),allowSelectNone:H.boolean(),fullWidth:H.boolean().default(!1)}))}render(t){return b.jsx(G_t,{...t.data,value:t.value,setValue:t.setValue})}}const FQ="--",G_t=e=>{const{label:t,options:n,value:r,setValue:i,allowSelectNone:o,fullWidth:s}=e,a=O.useId(),l=o?FQ:n[0],c=r.length===0?l:r[0];return b.jsx(Hl,{label:t,id:a,fullWidth:s,children:b.jsxs(g1,{onChange:u=>{const f=u.target.value;i(f===FQ?[]:[f])},className:ve({"w-full":s}),value:c,id:a,children:[o?b.jsx("option",{value:FQ,selected:r.length===0,children:"--"}):null,n.map(u=>b.jsx("option",{value:u,selected:r.includes(u),children:u},u))]})})};var ua=function(){return ua=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},ua.apply(this,arguments)};function wne(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function W_(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function V_(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Xme(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function q5(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var K_t=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function ZP(e,t){var n=J_t(e);if(typeof n.path!="string"){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof r=="string"&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function J_t(e){var t=e.name,n=t&&t.lastIndexOf(".")!==-1;if(n&&!e.type){var r=t.split(".").pop().toLowerCase(),i=K_t.get(r);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}var eCt=[".DS_Store","Thumbs.db"];function tCt(e){return W_(this,void 0,void 0,function(){return V_(this,function(t){return Y5(e)&&nCt(e.dataTransfer)?[2,sCt(e.dataTransfer,e.type)]:rCt(e)?[2,iCt(e)]:Array.isArray(e)&&e.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,oCt(e)]:[2,[]]})})}function nCt(e){return Y5(e)}function rCt(e){return Y5(e)&&Y5(e.target)}function Y5(e){return typeof e=="object"&&e!==null}function iCt(e){return AY(e.target.files).map(function(t){return ZP(t)})}function oCt(e){return W_(this,void 0,void 0,function(){var t;return V_(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(r){return r.getFile()}))];case 1:return t=n.sent(),[2,t.map(function(r){return ZP(r)})]}})})}function sCt(e,t){return W_(this,void 0,void 0,function(){var n,r;return V_(this,function(i){switch(i.label){case 0:return e.items?(n=AY(e.items).filter(function(o){return o.kind==="file"}),t!=="drop"?[2,n]:[4,Promise.all(n.map(aCt))]):[3,2];case 1:return r=i.sent(),[2,Hme(SMe(r))];case 2:return[2,Hme(AY(e.files).map(function(o){return ZP(o)}))]}})})}function Hme(e){return e.filter(function(t){return eCt.indexOf(t.name)===-1})}function AY(e){if(e===null)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function aCt(e){if(typeof e.webkitGetAsEntry!="function")return Zme(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?_Me(t):Zme(e)}function SMe(e){return e.reduce(function(t,n){return q5(q5([],Xme(t),!1),Xme(Array.isArray(n)?SMe(n):[n]),!1)},[])}function Zme(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=ZP(t);return Promise.resolve(n)}function lCt(e){return W_(this,void 0,void 0,function(){return V_(this,function(t){return[2,e.isDirectory?_Me(e):cCt(e)]})})}function _Me(e){var t=e.createReader();return new Promise(function(n,r){var i=[];function o(){var s=this;t.readEntries(function(a){return W_(s,void 0,void 0,function(){var l,c,u;return V_(this,function(f){switch(f.label){case 0:if(a.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=f.sent(),n(l),[3,4];case 3:return c=f.sent(),r(c),[3,4];case 4:return[3,6];case 5:u=Promise.all(a.map(lCt)),i.push(u),o(),f.label=6;case 6:return[2]}})})},function(a){r(a)})}o()})}function cCt(e){return W_(this,void 0,void 0,function(){return V_(this,function(t){return[2,new Promise(function(n,r){e.file(function(i){var o=ZP(i,e.fullPath);n(o)},function(i){r(i)})})]})})}var uCt=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=(e.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return n.some(function(s){var a=s.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?o===a.replace(/\/.*$/,""):i===a})}return!0};function Gme(e){return hCt(e)||dCt(e)||$Me(e)||fCt()}function fCt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dCt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hCt(e){if(Array.isArray(e))return DY(e)}function Kme(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jme(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kme(Object(n),!0).forEach(function(r){CMe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kme(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CMe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GT(e,t){return mCt(e)||gCt(e,t)||$Me(e,t)||pCt()}function pCt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Me(e,t){if(e){if(typeof e=="string")return DY(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DY(e,t)}}function DY(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gCt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function mCt(e){if(Array.isArray(e))return e}var yCt="file-invalid-type",vCt="file-too-large",bCt="file-too-small",OCt="too-many-files",xCt=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var n=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:yCt,message:"File type must be ".concat(n)}},eye=function(t){return{code:vCt,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},tye=function(t){return{code:bCt,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},wCt={code:OCt,message:"Too many files"};function EMe(e,t){var n=e.type==="application/x-moz-file"||uCt(e,t);return[n,n?null:xCt(t)]}function kMe(e,t,n){if(Av(e.size))if(Av(t)&&Av(n)){if(e.size>n)return[!1,eye(n)];if(e.size<t)return[!1,tye(t)]}else{if(Av(t)&&e.size<t)return[!1,tye(t)];if(Av(n)&&e.size>n)return[!1,eye(n)]}return[!0,null]}function Av(e){return e!=null}function SCt(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,o=e.multiple,s=e.maxFiles,a=e.validator;return!o&&t.length>1||o&&s>=1&&t.length>s?!1:t.every(function(l){var c=EMe(l,n),u=GT(c,1),f=u[0],d=kMe(l,r,i),h=GT(d,1),p=h[0],g=a?a(l):null;return f&&p&&!g})}function X5(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function hD(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function nye(e){e.preventDefault()}function _Ct(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function CCt(e){return e.indexOf("Edge/")!==-1}function $Ct(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return _Ct(e)||CCt(e)}function _d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return t.some(function(a){return!X5(r)&&a&&a.apply(void 0,[r].concat(o)),X5(r)})}}function ECt(){return"showOpenFilePicker"in window}function kCt(e){if(Av(e)){var t=Object.entries(e).filter(function(n){var r=GT(n,2),i=r[0],o=r[1],s=!0;return TMe(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(o)||!o.every(PMe))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(n,r){var i=GT(r,2),o=i[0],s=i[1];return Jme(Jme({},n),{},CMe({},o,s))},{});return[{description:"Files",accept:t}]}return e}function TCt(e){if(Av(e))return Object.entries(e).reduce(function(t,n){var r=GT(n,2),i=r[0],o=r[1];return[].concat(Gme(t),[i],Gme(o))},[]).filter(function(t){return TMe(t)||PMe(t)}).join(",")}function PCt(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function RCt(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function TMe(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function PMe(e){return/^.*\.[\w]+$/.test(e)}var ACt=["children"],DCt=["open"],NCt=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],MCt=["refKey","onChange","onClick"];function ICt(e){return FCt(e)||jCt(e)||RMe(e)||LCt()}function LCt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jCt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FCt(e){if(Array.isArray(e))return NY(e)}function zQ(e,t){return BCt(e)||QCt(e,t)||RMe(e,t)||zCt()}function zCt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RMe(e,t){if(e){if(typeof e=="string")return NY(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NY(e,t)}}function NY(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function QCt(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function BCt(e){if(Array.isArray(e))return e}function rye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rye(Object(n),!0).forEach(function(r){MY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rye(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MY(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H5(e,t){if(e==null)return{};var n=WCt(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function WCt(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Sne=O.forwardRef(function(e,t){var n=e.children,r=H5(e,ACt),i=DMe(r),o=i.open,s=H5(i,DCt);return O.useImperativeHandle(t,function(){return{open:o}},[o]),ie.createElement(O.Fragment,null,n(xi(xi({},s),{},{open:o})))});Sne.displayName="Dropzone";var AMe={disabled:!1,getFilesFromEvent:tCt,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Sne.defaultProps=AMe;Sne.propTypes={children:gr.func,accept:gr.objectOf(gr.arrayOf(gr.string)),multiple:gr.bool,preventDropOnDocument:gr.bool,noClick:gr.bool,noKeyboard:gr.bool,noDrag:gr.bool,noDragEventsBubbling:gr.bool,minSize:gr.number,maxSize:gr.number,maxFiles:gr.number,disabled:gr.bool,getFilesFromEvent:gr.func,onFileDialogCancel:gr.func,onFileDialogOpen:gr.func,useFsAccessApi:gr.bool,autoFocus:gr.bool,onDragEnter:gr.func,onDragLeave:gr.func,onDragOver:gr.func,onDrop:gr.func,onDropAccepted:gr.func,onDropRejected:gr.func,onError:gr.func,validator:gr.func};var IY={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function DMe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=xi(xi({},AMe),e),n=t.accept,r=t.disabled,i=t.getFilesFromEvent,o=t.maxSize,s=t.minSize,a=t.multiple,l=t.maxFiles,c=t.onDragEnter,u=t.onDragLeave,f=t.onDragOver,d=t.onDrop,h=t.onDropAccepted,p=t.onDropRejected,g=t.onFileDialogCancel,y=t.onFileDialogOpen,v=t.useFsAccessApi,x=t.autoFocus,m=t.preventDropOnDocument,w=t.noClick,S=t.noKeyboard,C=t.noDrag,$=t.noDragEventsBubbling,E=t.onError,R=t.validator,N=O.useMemo(function(){return TCt(n)},[n]),I=O.useMemo(function(){return kCt(n)},[n]),j=O.useMemo(function(){return typeof y=="function"?y:iye},[y]),A=O.useMemo(function(){return typeof g=="function"?g:iye},[g]),T=O.useRef(null),D=O.useRef(null),L=O.useReducer(VCt,IY),W=zQ(L,2),V=W[0],Q=W[1],B=V.isFocused,Y=V.isFileDialogActive,U=O.useRef(typeof window<"u"&&window.isSecureContext&&v&&ECt()),q=function(){!U.current&&Y&&setTimeout(function(){if(D.current){var Ne=D.current.files;Ne.length||(Q({type:"closeDialog"}),A())}},300)};O.useEffect(function(){return window.addEventListener("focus",q,!1),function(){window.removeEventListener("focus",q,!1)}},[D,Y,A,U]);var Z=O.useRef([]),oe=function(Ne){T.current&&T.current.contains(Ne.target)||(Ne.preventDefault(),Z.current=[])};O.useEffect(function(){return m&&(document.addEventListener("dragover",nye,!1),document.addEventListener("drop",oe,!1)),function(){m&&(document.removeEventListener("dragover",nye),document.removeEventListener("drop",oe))}},[T,m]),O.useEffect(function(){return!r&&x&&T.current&&T.current.focus(),function(){}},[T,x,r]);var ce=O.useCallback(function(ye){E?E(ye):console.error(ye)},[E]),re=O.useCallback(function(ye){ye.preventDefault(),ye.persist(),ge(ye),Z.current=[].concat(ICt(Z.current),[ye.target]),hD(ye)&&Promise.resolve(i(ye)).then(function(Ne){if(!(X5(ye)&&!$)){var ft=Ne.length,ht=ft>0&&SCt({files:Ne,accept:N,minSize:s,maxSize:o,multiple:a,maxFiles:l,validator:R}),pt=ft>0&&!ht;Q({isDragAccept:ht,isDragReject:pt,isDragActive:!0,type:"setDraggedFiles"}),c&&c(ye)}}).catch(function(Ne){return ce(Ne)})},[i,c,ce,$,N,s,o,a,l,R]),fe=O.useCallback(function(ye){ye.preventDefault(),ye.persist(),ge(ye);var Ne=hD(ye);if(Ne&&ye.dataTransfer)try{ye.dataTransfer.dropEffect="copy"}catch{}return Ne&&f&&f(ye),!1},[f,$]),ae=O.useCallback(function(ye){ye.preventDefault(),ye.persist(),ge(ye);var Ne=Z.current.filter(function(ht){return T.current&&T.current.contains(ht)}),ft=Ne.indexOf(ye.target);ft!==-1&&Ne.splice(ft,1),Z.current=Ne,!(Ne.length>0)&&(Q({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),hD(ye)&&u&&u(ye))},[T,u,$]),ue=O.useCallback(function(ye,Ne){var ft=[],ht=[];ye.forEach(function(pt){var Mt=EMe(pt,N),on=zQ(Mt,2),At=on[0],Hr=on[1],bi=kMe(pt,s,o),Zr=zQ(bi,2),Ir=Zr[0],Qt=Zr[1],ar=R?R(pt):null;if(At&&Ir&&!ar)ft.push(pt);else{var _n=[Hr,Qt];ar&&(_n=_n.concat(ar)),ht.push({file:pt,errors:_n.filter(function(wr){return wr})})}}),(!a&&ft.length>1||a&&l>=1&&ft.length>l)&&(ft.forEach(function(pt){ht.push({file:pt,errors:[wCt]})}),ft.splice(0)),Q({acceptedFiles:ft,fileRejections:ht,type:"setFiles"}),d&&d(ft,ht,Ne),ht.length>0&&p&&p(ht,Ne),ft.length>0&&h&&h(ft,Ne)},[Q,a,N,s,o,l,d,h,p,R]),me=O.useCallback(function(ye){ye.preventDefault(),ye.persist(),ge(ye),Z.current=[],hD(ye)&&Promise.resolve(i(ye)).then(function(Ne){X5(ye)&&!$||ue(Ne,ye)}).catch(function(Ne){return ce(Ne)}),Q({type:"reset"})},[i,ue,ce,$]),ne=O.useCallback(function(){if(U.current){Q({type:"openDialog"}),j();var ye={multiple:a,types:I};window.showOpenFilePicker(ye).then(function(Ne){return i(Ne)}).then(function(Ne){ue(Ne,null),Q({type:"closeDialog"})}).catch(function(Ne){PCt(Ne)?(A(Ne),Q({type:"closeDialog"})):RCt(Ne)?(U.current=!1,D.current?(D.current.value=null,D.current.click()):ce(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ce(Ne)});return}D.current&&(Q({type:"openDialog"}),j(),D.current.value=null,D.current.click())},[Q,j,A,v,ue,ce,I,a]),Le=O.useCallback(function(ye){!T.current||!T.current.isEqualNode(ye.target)||(ye.key===" "||ye.key==="Enter"||ye.keyCode===32||ye.keyCode===13)&&(ye.preventDefault(),ne())},[T,ne]),_e=O.useCallback(function(){Q({type:"focus"})},[]),ke=O.useCallback(function(){Q({type:"blur"})},[]),ze=O.useCallback(function(){w||($Ct()?setTimeout(ne,0):ne())},[w,ne]),Je=function(Ne){return r?null:Ne},Be=function(Ne){return S?null:Je(Ne)},K=function(Ne){return C?null:Je(Ne)},ge=function(Ne){$&&Ne.stopPropagation()},Oe=O.useMemo(function(){return function(){var ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ne=ye.refKey,ft=Ne===void 0?"ref":Ne,ht=ye.role,pt=ye.onKeyDown,Mt=ye.onFocus,on=ye.onBlur,At=ye.onClick,Hr=ye.onDragEnter,bi=ye.onDragOver,Zr=ye.onDragLeave,Ir=ye.onDrop,Qt=H5(ye,NCt);return xi(xi(MY({onKeyDown:Be(_d(pt,Le)),onFocus:Be(_d(Mt,_e)),onBlur:Be(_d(on,ke)),onClick:Je(_d(At,ze)),onDragEnter:K(_d(Hr,re)),onDragOver:K(_d(bi,fe)),onDragLeave:K(_d(Zr,ae)),onDrop:K(_d(Ir,me)),role:typeof ht=="string"&&ht!==""?ht:"presentation"},ft,T),!r&&!S?{tabIndex:0}:{}),Qt)}},[T,Le,_e,ke,ze,re,fe,ae,me,S,C,r]),Ve=O.useCallback(function(ye){ye.stopPropagation()},[]),Fe=O.useMemo(function(){return function(){var ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ne=ye.refKey,ft=Ne===void 0?"ref":Ne,ht=ye.onChange,pt=ye.onClick,Mt=H5(ye,MCt),on=MY({accept:N,multiple:a,type:"file",style:{display:"none"},onChange:Je(_d(ht,me)),onClick:Je(_d(pt,Ve)),tabIndex:-1},ft,D);return xi(xi({},on),Mt)}},[D,n,a,me,r]);return xi(xi({},V),{},{isFocused:B&&!r,getRootProps:Oe,getInputProps:Fe,rootRef:T,inputRef:D,open:Je(ne)})}function VCt(e,t){switch(t.type){case"focus":return xi(xi({},e),{},{isFocused:!0});case"blur":return xi(xi({},e),{},{isFocused:!1});case"openDialog":return xi(xi({},IY),{},{isFileDialogActive:!0});case"closeDialog":return xi(xi({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return xi(xi({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return xi(xi({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return xi({},IY);default:return e}}function iye(){}function NMe(e){return new Promise(t=>{const n=new FileReader;n.readAsDataURL(e),n.onload=r=>{var i;if((i=r.target)!=null&&i.result){const o=r.target.result,s=o.slice(o.indexOf(",")+1);t(s)}}})}function UCt(e){return Promise.all(e.map(t=>NMe(t).then(n=>[t.name,n])))}class qCt{constructor(){be(this,"tagName","marimo-file");be(this,"validator",H.object({filetypes:H.array(H.string()),multiple:H.boolean(),kind:H.enum(["button","area"]),label:H.string().nullable()}))}render(t){return b.jsx(HCt,{label:t.data.label,filetypes:t.data.filetypes,multiple:t.data.multiple,kind:t.data.kind,value:t.value,setValue:t.setValue})}}function YCt(e){const t={},n=(r,i)=>{Object.hasOwnProperty.call(t,r)?t[r].push(i):t[r]=[i]};return e.forEach(r=>{switch(r){case".png":case".jpg":case".jpeg":case".gif":case".avif":case".bmp":case".ico":case".svg":case".tiff":case".webp":n("image/*",r);break;case".avi":case".mp4":case".mpeg":case".ogg":case".webm":n("video/*",r);break;case".pdf":n("application/pdf",r);break;case".csv":n("text/csv",r);break;default:n("text/plain",r)}}),t}const XCt=1e8,HCt=e=>{const t=YCt(e.filetypes),{setValue:n,kind:r,multiple:i,value:o}=e,{getRootProps:s,getInputProps:a,isFocused:l,isDragAccept:c,isDragReject:u}=DMe({accept:t,multiple:i,maxSize:XCt,onError:p=>{console.error(p),Yr({title:"File upload failed",description:p.message,variant:"danger"})},onDropRejected:p=>{Yr({title:"File upload failed",description:b.jsx("div",{className:"flex flex-col gap-1",children:p.map(g=>b.jsxs("div",{children:[g.file.name," (",g.errors.map(y=>y.message).join(", "),")"]},g.file.name))}),variant:"danger"})},onDrop:p=>{UCt(p).then(g=>{n(g)}).catch(g=>{console.error(g),Yr({title:"File upload failed",description:"Failed to convert file to base64.",variant:"danger"})})}});if(r==="button"){const p=e.label??"Upload";return b.jsxs(b.Fragment,{children:[b.jsxs("button",{...s({}),className:Fb({variant:"secondary",size:"xs"}),children:[Ha({html:p}),b.jsx(U1t,{size:14,className:"ml-2"})]}),b.jsx("input",{...a({}),type:"file"})]})}const f=o.map(([p,g])=>b.jsx("li",{children:p},p)),d=f.length>0,h=e.label??"Drag and drop files here, or click to open file browser";return b.jsxs("section",{children:[b.jsxs("div",{className:ve("mt-3 mb-2 w-full flex flex-col items-center justify-center ","px-6 py-6 sm:px-8 sm:py-8 md:py-10 md:px-16","border rounded-sm","text-sm text-muted-foreground","shadow-smSolid","hover:bg-muted/60","hover:cursor-pointer","active:shadow-xsSolid","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:border-accent",!l&&"bg-muted border-input/60",l&&"bg-muted/60 border-accent/40",c&&"bg-muted/60 border-accent/40 shadow-xsSolid",u&&"bg-muted/60 border-destructive/60 shadow-xsSolid"),...s(),children:[b.jsx("input",{...a()}),d?b.jsxs("span",{children:["To re-upload: ",Ha({html:h})]}):b.jsx("span",{className:"mt-0",children:Ha({html:h})})]}),b.jsx("aside",{children:d?b.jsxs("span",{className:"markdown",children:[b.jsx("strong",{children:"Uploaded files"}),b.jsx("ul",{style:{margin:0},children:f})]}):null})]})};function c6(e){return{withData(t){return{withFunctions(n){return{renderer(r){return{tagName:e,validator:t,functions:n,render:r}}}},renderer(n){return{tagName:e,validator:t,render:n}}}}}}const Z5={input(e){return{output(t){return{input:e,output:t}}}}};function MMe(e){if(typeof e=="string")return e;if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch{return String(e)}}const QQ="focusScope.autoFocusOnMount",BQ="focusScope.autoFocusOnUnmount",oye={bubbles:!1,cancelable:!0},u6=O.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=e,[a,l]=O.useState(null),c=_a(i),u=_a(o),f=O.useRef(null),d=Xt(t,g=>l(g)),h=O.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;O.useEffect(()=>{if(r){let g=function(m){if(h.paused||!a)return;const w=m.target;a.contains(w)?f.current=w:fm(f.current,{select:!0})},y=function(m){if(h.paused||!a)return;const w=m.relatedTarget;w!==null&&(a.contains(w)||fm(f.current,{select:!0}))},v=function(m){if(document.activeElement===document.body)for(const S of m)S.removedNodes.length>0&&fm(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",y);const x=new MutationObserver(v);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y),x.disconnect()}}},[r,a,h.paused]),O.useEffect(()=>{if(a){aye.add(h);const g=document.activeElement;if(!a.contains(g)){const v=new CustomEvent(QQ,oye);a.addEventListener(QQ,c),a.dispatchEvent(v),v.defaultPrevented||(ZCt(t$t(IMe(a)),{select:!0}),document.activeElement===g&&fm(a))}return()=>{a.removeEventListener(QQ,c),setTimeout(()=>{const v=new CustomEvent(BQ,oye);a.addEventListener(BQ,u),a.dispatchEvent(v),v.defaultPrevented||fm(g??document.body,{select:!0}),a.removeEventListener(BQ,u),aye.remove(h)},0)}}},[a,c,u,h]);const p=O.useCallback(g=>{if(!n&&!r||h.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(y&&v){const x=g.currentTarget,[m,w]=GCt(x);m&&w?!g.shiftKey&&v===w?(g.preventDefault(),n&&fm(m,{select:!0})):g.shiftKey&&v===m&&(g.preventDefault(),n&&fm(w,{select:!0})):v===x&&g.preventDefault()}},[n,r,h.paused]);return O.createElement(Ot.div,le({tabIndex:-1},s,{ref:d,onKeyDown:p}))});function ZCt(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(fm(r,{select:t}),document.activeElement!==n)return}function GCt(e){const t=IMe(e),n=sye(t,e),r=sye(t.reverse(),e);return[n,r]}function IMe(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function sye(e,t){for(const n of e)if(!KCt(n,{upTo:t}))return n}function KCt(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function JCt(e){return e instanceof HTMLInputElement&&"select"in e}function fm(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&JCt(e)&&t&&e.select()}}const aye=e$t();function e$t(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=lye(e,t),e.unshift(t)},remove(t){var n;e=lye(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function lye(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function t$t(e){return e.filter(t=>t.tagName!=="A")}let WQ=0;function f6(){O.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:cye()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:cye()),WQ++,()=>{WQ===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),WQ--}},[])}function cye(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var gk="right-scroll-bar-position",mk="width-before-scroll-bar",n$t="with-scroll-bars-hidden",r$t="--removed-body-scroll-bar-size";function i$t(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function o$t(e,t){var n=O.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}function LMe(e,t){return o$t(t||null,function(n){return e.forEach(function(r){return i$t(r,n)})})}function s$t(e){return e}function a$t(e,t){t===void 0&&(t=s$t);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var s=t(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var u=s;s=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return i}function jMe(e){e===void 0&&(e={});var t=a$t(null);return t.options=ua({async:!0,ssr:!1},e),t}var FMe=function(e){var t=e.sideCar,n=wne(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return O.createElement(r,ua({},n))};FMe.isSideCarExport=!0;function zMe(e,t){return e.useMedium(t),FMe}var QMe=jMe(),VQ=function(){},d6=O.forwardRef(function(e,t){var n=O.useRef(null),r=O.useState({onScrollCapture:VQ,onWheelCapture:VQ,onTouchMoveCapture:VQ}),i=r[0],o=r[1],s=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,f=e.shards,d=e.sideCar,h=e.noIsolation,p=e.inert,g=e.allowPinchZoom,y=e.as,v=y===void 0?"div":y,x=wne(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),m=d,w=LMe([n,t]),S=ua(ua({},x),i);return O.createElement(O.Fragment,null,u&&O.createElement(m,{sideCar:QMe,removeScrollBar:c,shards:f,noIsolation:h,inert:p,setCallbacks:o,allowPinchZoom:!!g,lockRef:n}),s?O.cloneElement(O.Children.only(a),ua(ua({},S),{ref:w})):O.createElement(v,ua({},S,{className:l,ref:w}),a))});d6.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};d6.classNames={fullWidth:mk,zeroRight:gk};var uye,l$t=function(){if(uye)return uye;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function c$t(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=l$t();return t&&e.setAttribute("nonce",t),e}function u$t(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function f$t(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var d$t=function(){var e=0,t=null;return{add:function(n){e==0&&(t=c$t())&&(u$t(t,n),f$t(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},h$t=function(){var e=d$t();return function(t,n){O.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},_ne=function(){var e=h$t(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},p$t={left:0,top:0,right:0,gap:0},UQ=function(e){return parseInt(e||"",10)||0},g$t=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[UQ(n),UQ(r),UQ(i)]},m$t=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return p$t;var t=g$t(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},y$t=_ne(),v$t=function(e,t,n,r){var i=e.left,o=e.top,s=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(n$t,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(gk,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(mk,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(gk," .").concat(gk,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(mk," .").concat(mk,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body {
    `).concat(r$t,": ").concat(a,`px;
  }
`)},BMe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r,o=O.useMemo(function(){return m$t(i)},[i]);return O.createElement(y$t,{styles:v$t(o,!t,i,n?"":"!important")})},LY=!1;if(typeof window<"u")try{var pD=Object.defineProperty({},"passive",{get:function(){return LY=!0,!0}});window.addEventListener("test",pD,pD),window.removeEventListener("test",pD,pD)}catch{LY=!1}var DO=LY?{passive:!1}:!1,b$t=function(e){return e.tagName==="TEXTAREA"},WMe=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!b$t(e)&&n[t]==="visible")},O$t=function(e){return WMe(e,"overflowY")},x$t=function(e){return WMe(e,"overflowX")},fye=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=VMe(e,n);if(r){var i=UMe(e,n),o=i[1],s=i[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},w$t=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},S$t=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},VMe=function(e,t){return e==="v"?O$t(t):x$t(t)},UMe=function(e,t){return e==="v"?w$t(t):S$t(t)},_$t=function(e,t){return e==="h"&&t==="rtl"?-1:1},C$t=function(e,t,n,r,i){var o=_$t(e,window.getComputedStyle(t).direction),s=o*r,a=n.target,l=t.contains(a),c=!1,u=s>0,f=0,d=0;do{var h=UMe(e,a),p=h[0],g=h[1],y=h[2],v=g-y-o*p;(p||v)&&VMe(e,a)&&(f+=v,d+=p),a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&(i&&f===0||!i&&s>f)||!u&&(i&&d===0||!i&&-s>d))&&(c=!0),c},gD=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},dye=function(e){return[e.deltaX,e.deltaY]},hye=function(e){return e&&"current"in e?e.current:e},$$t=function(e,t){return e[0]===t[0]&&e[1]===t[1]},E$t=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},k$t=0,NO=[];function T$t(e){var t=O.useRef([]),n=O.useRef([0,0]),r=O.useRef(),i=O.useState(k$t++)[0],o=O.useState(function(){return _ne()})[0],s=O.useRef(e);O.useEffect(function(){s.current=e},[e]),O.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=q5([e.lockRef.current],(e.shards||[]).map(hye),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=O.useCallback(function(g,y){if("touches"in g&&g.touches.length===2)return!s.current.allowPinchZoom;var v=gD(g),x=n.current,m="deltaX"in g?g.deltaX:x[0]-v[0],w="deltaY"in g?g.deltaY:x[1]-v[1],S,C=g.target,$=Math.abs(m)>Math.abs(w)?"h":"v";if("touches"in g&&$==="h"&&C.type==="range")return!1;var E=fye($,C);if(!E)return!0;if(E?S=$:(S=$==="v"?"h":"v",E=fye($,C)),!E)return!1;if(!r.current&&"changedTouches"in g&&(m||w)&&(r.current=S),!S)return!0;var R=r.current||S;return C$t(R,y,g,R==="h"?m:w,!0)},[]),l=O.useCallback(function(g){var y=g;if(!(!NO.length||NO[NO.length-1]!==o)){var v="deltaY"in y?dye(y):gD(y),x=t.current.filter(function(S){return S.name===y.type&&S.target===y.target&&$$t(S.delta,v)})[0];if(x&&x.should){y.cancelable&&y.preventDefault();return}if(!x){var m=(s.current.shards||[]).map(hye).filter(Boolean).filter(function(S){return S.contains(y.target)}),w=m.length>0?a(y,m[0]):!s.current.noIsolation;w&&y.cancelable&&y.preventDefault()}}},[]),c=O.useCallback(function(g,y,v,x){var m={name:g,delta:y,target:v,should:x};t.current.push(m),setTimeout(function(){t.current=t.current.filter(function(w){return w!==m})},1)},[]),u=O.useCallback(function(g){n.current=gD(g),r.current=void 0},[]),f=O.useCallback(function(g){c(g.type,dye(g),g.target,a(g,e.lockRef.current))},[]),d=O.useCallback(function(g){c(g.type,gD(g),g.target,a(g,e.lockRef.current))},[]);O.useEffect(function(){return NO.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:d}),document.addEventListener("wheel",l,DO),document.addEventListener("touchmove",l,DO),document.addEventListener("touchstart",u,DO),function(){NO=NO.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,DO),document.removeEventListener("touchmove",l,DO),document.removeEventListener("touchstart",u,DO)}},[]);var h=e.removeScrollBar,p=e.inert;return O.createElement(O.Fragment,null,p?O.createElement(o,{styles:E$t(i)}):null,h?O.createElement(BMe,{gapMode:"margin"}):null)}const P$t=zMe(QMe,T$t);var qMe=O.forwardRef(function(e,t){return O.createElement(d6,ua({},e,{ref:t,sideCar:P$t}))});qMe.classNames=d6.classNames;const h6=qMe;var R$t=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},MO=new WeakMap,mD=new WeakMap,yD={},qQ=0,GP=function(e,t,n){t===void 0&&(t=R$t(e)),n===void 0&&(n="data-aria-hidden");var r=Array.isArray(e)?e:[e];yD[n]||(yD[n]=new WeakMap);var i=yD[n],o=[],s=new Set,a=function(c){!c||s.has(c)||(s.add(c),a(c.parentNode))};r.forEach(a);var l=function(c){!c||r.indexOf(c)>=0||Array.prototype.forEach.call(c.children,function(u){if(s.has(u))l(u);else{var f=u.getAttribute("aria-hidden"),d=f!==null&&f!=="false",h=(MO.get(u)||0)+1,p=(i.get(u)||0)+1;MO.set(u,h),i.set(u,p),o.push(u),h===1&&d&&mD.set(u,!0),p===1&&u.setAttribute(n,"true"),d||u.setAttribute("aria-hidden","true")}})};return l(t),s.clear(),qQ++,function(){o.forEach(function(c){var u=MO.get(c)-1,f=i.get(c)-1;MO.set(c,u),i.set(c,f),u||(mD.has(c)||c.removeAttribute("aria-hidden"),mD.delete(c)),f||c.removeAttribute(n)}),qQ--,qQ||(MO=new WeakMap,MO=new WeakMap,mD=new WeakMap,yD={})}};const YMe="Dialog",[XMe,HMe]=ro(YMe),[A$t,cd]=XMe(YMe),D$t=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=e,a=O.useRef(null),l=O.useRef(null),[c=!1,u]=Vo({prop:r,defaultProp:i,onChange:o});return O.createElement(A$t,{scope:t,triggerRef:a,contentRef:l,contentId:Rl(),titleId:Rl(),descriptionId:Rl(),open:c,onOpenChange:u,onOpenToggle:O.useCallback(()=>u(f=>!f),[u]),modal:s},n)},N$t="DialogTrigger",M$t=O.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=cd(N$t,n),o=Xt(t,i.triggerRef);return O.createElement(Ot.button,le({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Cne(i.open)},r,{ref:o,onClick:qe(e.onClick,i.onOpenToggle)}))}),ZMe="DialogPortal",[I$t,GMe]=XMe(ZMe,{forceMount:void 0}),L$t=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=cd(ZMe,t);return O.createElement(I$t,{scope:t,forceMount:n},O.Children.map(r,s=>O.createElement(zs,{present:n||o.open},O.createElement(z_,{asChild:!0,container:i},s))))},jY="DialogOverlay",j$t=O.forwardRef((e,t)=>{const n=GMe(jY,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=cd(jY,e.__scopeDialog);return o.modal?O.createElement(zs,{present:r||o.open},O.createElement(F$t,le({},i,{ref:t}))):null}),F$t=O.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=cd(jY,n);return O.createElement(h6,{as:qf,allowPinchZoom:!0,shards:[i.contentRef]},O.createElement(Ot.div,le({"data-state":Cne(i.open)},r,{ref:t,style:{pointerEvents:"auto",...r.style}})))}),fS="DialogContent",z$t=O.forwardRef((e,t)=>{const n=GMe(fS,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=cd(fS,e.__scopeDialog);return O.createElement(zs,{present:r||o.open},o.modal?O.createElement(Q$t,le({},i,{ref:t})):O.createElement(B$t,le({},i,{ref:t})))}),Q$t=O.forwardRef((e,t)=>{const n=cd(fS,e.__scopeDialog),r=O.useRef(null),i=Xt(t,n.contentRef,r);return O.useEffect(()=>{const o=r.current;if(o)return GP(o)},[]),O.createElement(KMe,le({},e,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qe(e.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:qe(e.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:qe(e.onFocusOutside,o=>o.preventDefault())}))}),B$t=O.forwardRef((e,t)=>{const n=cd(fS,e.__scopeDialog),r=O.useRef(!1),i=O.useRef(!1);return O.createElement(KMe,le({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s;if((s=e.onCloseAutoFocus)===null||s===void 0||s.call(e,o),!o.defaultPrevented){var a;r.current||(a=n.triggerRef.current)===null||a===void 0||a.focus(),o.preventDefault()}r.current=!1,i.current=!1},onInteractOutside:o=>{var s,a;(s=e.onInteractOutside)===null||s===void 0||s.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;((a=n.triggerRef.current)===null||a===void 0?void 0:a.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),KMe=O.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=e,a=cd(fS,n),l=O.useRef(null),c=Xt(t,l);return f6(),O.createElement(O.Fragment,null,O.createElement(u6,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o},O.createElement(j_,le({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Cne(a.open)},s,{ref:c,onDismiss:()=>a.onOpenChange(!1)}))),!1)}),JMe="DialogTitle",W$t=O.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=cd(JMe,n);return O.createElement(Ot.h2,le({id:i.titleId},r,{ref:t}))}),V$t="DialogDescription",U$t=O.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=cd(V$t,n);return O.createElement(Ot.p,le({id:i.descriptionId},r,{ref:t}))}),q$t="DialogClose",Y$t=O.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=cd(q$t,n);return O.createElement(Ot.button,le({type:"button"},r,{ref:t,onClick:qe(e.onClick,()=>i.onOpenChange(!1))}))});function Cne(e){return e?"open":"closed"}const X$t="DialogTitleWarning",[H$t,cQn]=eut(X$t,{contentName:fS,titleName:JMe,docsSlug:"dialog"}),eIe=D$t,Z$t=M$t,$ne=L$t,Ene=j$t,kne=z$t,Tne=W$t,Pne=U$t,Rne=Y$t,G$t="AlertDialog",[K$t,uQn]=ro(G$t,[HMe]),T0=HMe(),J$t=e=>{const{__scopeAlertDialog:t,...n}=e,r=T0(t);return O.createElement(eIe,le({},r,n,{modal:!0}))},eEt=e=>{const{__scopeAlertDialog:t,...n}=e,r=T0(t);return O.createElement($ne,le({},r,n))},tEt=O.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=T0(n);return O.createElement(Ene,le({},i,r,{ref:t}))}),tIe="AlertDialogContent",[nEt,rEt]=K$t(tIe),iEt=O.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,o=T0(n),s=O.useRef(null),a=Xt(t,s),l=O.useRef(null);return O.createElement(H$t,{contentName:tIe,titleName:oEt,docsSlug:"alert-dialog"},O.createElement(nEt,{scope:n,cancelRef:l},O.createElement(kne,le({role:"alertdialog"},o,i,{ref:a,onOpenAutoFocus:qe(i.onOpenAutoFocus,c=>{var u;c.preventDefault(),(u=l.current)===null||u===void 0||u.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault()}),O.createElement(qee,null,r),!1)))}),oEt="AlertDialogTitle",sEt=O.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=T0(n);return O.createElement(Tne,le({},i,r,{ref:t}))}),aEt=O.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=T0(n);return O.createElement(Pne,le({},i,r,{ref:t}))}),lEt=O.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=T0(n);return O.createElement(Rne,le({},i,r,{ref:t}))}),cEt="AlertDialogCancel",uEt=O.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=rEt(cEt,n),o=T0(n),s=Xt(t,i);return O.createElement(Rne,le({},o,r,{ref:s}))}),fEt=J$t,nIe=eEt,rIe=tEt,iIe=iEt,Ane=lEt,oIe=uEt,sIe=sEt,aIe=aEt;function lIe(){const[e,t]=O.useState(null);return{onOpenAutoFocus:()=>{t(document.activeElement)},onCloseAutoFocus:i=>{e instanceof HTMLElement&&e.focus(),i.preventDefault()}}}const FY=fEt,cIe=({children:e,...t})=>b.jsx(nIe,{...t,children:b.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center sm:items-start sm:top-[15%]",children:e})});cIe.displayName=nIe.displayName;const uIe=O.forwardRef(({className:e,children:t,...n},r)=>b.jsx(rIe,{className:ve("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm transition-opacity animate-in fade-in",e),...n,ref:r}));uIe.displayName=rIe.displayName;const G5=O.forwardRef(({className:e,...t},n)=>{const r=lIe();return b.jsxs(cIe,{children:[b.jsx(uIe,{}),b.jsx(iIe,{ref:n,className:ve("fixed z-50 grid w-full max-w-2xl scale-100 gap-4 border bg-background p-6 opacity-100 shadow-sm animate-in fade-in-90 slide-in-from-bottom-10 sm:rounded-lg sm:zoom-in-90 sm:slide-in-from-bottom-0 md:w-full",e),...r,...t})]})});G5.displayName=iIe.displayName;const p6=({className:e,...t})=>b.jsx("div",{className:ve("flex flex-col space-y-2 text-center sm:text-left",e),...t});p6.displayName="AlertDialogHeader";const K5=({className:e,...t})=>b.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});K5.displayName="AlertDialogFooter";const g6=O.forwardRef(({className:e,...t},n)=>b.jsx(sIe,{ref:n,className:ve("text-lg font-semibold",e),...t}));g6.displayName=sIe.displayName;const Dne=O.forwardRef(({className:e,...t},n)=>b.jsx(aIe,{ref:n,className:ve("text-muted-foreground",e),...t}));Dne.displayName=aIe.displayName;const m6=O.forwardRef(({className:e,...t},n)=>b.jsx(Ane,{ref:n,className:ve(Fb(),e),...t}));m6.displayName=Ane.displayName;const Nne=O.forwardRef(({className:e,...t},n)=>b.jsx(Ane,{ref:n,className:ve(Fb({variant:"destructive"}),e),...t}));Nne.displayName="AlertDialogDestructiveAction";const fIe=O.forwardRef(({className:e,...t},n)=>b.jsx(oIe,{ref:n,className:ve(Fb({variant:"secondary"}),"mt-2 sm:mt-0",e),...t}));fIe.displayName=oIe.displayName;const dIe=({error:e,className:t})=>{const[n,r]=O.useState(!1);if(!e)return null;const i=MMe(e);return b.jsxs(b.Fragment,{children:[b.jsx(y6,{className:t,clickable:!0,onClick:()=>r(!0),children:b.jsx("span",{className:"line-clamp-4",children:i})}),b.jsx(FY,{open:n,onOpenChange:r,children:b.jsxs(G5,{className:"max-w-[80%]",children:[b.jsx(p6,{children:b.jsx(g6,{className:"text-error",children:"Error"})}),b.jsx("div",{className:"text-error text-sm p-2 font-mono",children:i}),b.jsx(K5,{children:b.jsx(m6,{autoFocus:!0,onClick:()=>r(!1),children:"Ok"})})]})})]})},dEt=Oo("text-sm p-2 border whitespace-pre-wrap",{variants:{kind:{danger:"text-error border-[var(--red-6)] bg-[var(--red-2)]",info:"text-primary border-[var(--blue-6)] bg-[var(--blue-2)]",warn:"text-warning border-[var(--yellow-6)] bg-[var(--yellow-2)]"},clickable:{true:"cursor-pointer"}},compoundVariants:[{clickable:!0,kind:"danger",className:"hover:bg-[var(--red-3)]"},{clickable:!0,kind:"info",className:"hover:bg-[var(--blue-3)]"},{clickable:!0,kind:"warn",className:"hover:bg-[var(--yellow-3)]"}],defaultVariants:{kind:"info"}}),y6=({kind:e,clickable:t,className:n,children:r,...i})=>b.jsx("div",{className:ve(dEt({kind:e,clickable:t}),n),...i,children:r}),hEt=c6("marimo-form").withData(H.object({label:H.string().nullable(),elementId:H.string(),bordered:H.boolean().default(!0),loading:H.boolean().default(!1),submitButtonLabel:H.string().default("Submit"),submitButtonTooltip:H.string().optional(),submitButtonDisabled:H.boolean().default(!1),clearOnSubmit:H.boolean().default(!1),showClearButton:H.boolean().default(!1),clearButtonLabel:H.string().default("Clear"),clearButtonTooltip:H.string().optional(),shouldValidate:H.boolean().optional()})).withFunctions({validate:Z5.input(H.object({value:H.unknown()})).output(H.string().nullish())}).renderer(({data:e,functions:t,...n})=>b.jsx(Q_,{children:b.jsx(gEt,{...e,...n,...t})})),pEt=({children:e,currentValue:t,newValue:n,setValue:r,label:i,bordered:o,loading:s,submitButtonLabel:a,submitButtonTooltip:l,submitButtonDisabled:c,clearOnSubmit:u,showClearButton:f,clearButtonLabel:d,clearButtonTooltip:h,validate:p,shouldValidate:g})=>{const y=O.useRef(null),v=n===t,x=v?"secondary":"action",[m,w]=O.useState(null),S=()=>{y.current&&zY(y.current)};return b.jsx("form",{className:"contents",ref:y,onSubmit:async C=>{if(C.preventDefault(),g){const $=await p({value:n}).catch(E=>{w(E.message??"Error validating")});if($!=null){w($);return}}w(null),r(n),u&&S()},children:b.jsxs("div",{className:ve("flex flex-col gap-4 rounded-lg py-4 px-8",{"bg-[var(--gray-1)] shadow-md border border-input":o,"bg-[var(--amber-1)] border-[var(--amber-7)]":!v&&o}),onKeyDown:C=>{C.key==="Enter"&&(C.ctrlKey||C.metaKey)&&(C.preventDefault(),C.stopPropagation(),r(n))},children:[i===null?null:b.jsx("div",{className:"text-center",children:Ha({html:i})}),m!=null&&b.jsx(y6,{kind:"danger",className:"rounded",children:m??"Invalid input"}),b.jsx("div",{children:e}),b.jsxs("div",{className:"flex justify-end gap-2 font-code",children:[f&&pye(b.jsx(zt,{variant:"text",onClick:C=>{C.preventDefault(),S()},children:d}),h),pye(b.jsxs(zt,{variant:x,disabled:c||s,type:"submit",children:[s&&b.jsx(qT,{className:"h-4 w-4 mr-2 animate-spin"}),a]}),l)]})]})})},gEt=({elementId:e,value:t,setValue:n,children:r,validate:i,...o})=>{const[s,a]=O.useState(Nf.lookupValue(e));return O.useEffect(()=>{a(Nf.lookupValue(e))},[e]),O.useEffect(()=>{const l=c=>{const u=c.detail.element;if(u===null||!(u instanceof Node))return;Zte(u)===e&&a(c.detail.value)};return document.addEventListener(z1,l),()=>{document.removeEventListener(z1,l)}},[e,n]),b.jsx(pEt,{currentValue:t,newValue:s,setValue:n,validate:i,...o,children:r})};function pye(e,t){return t?b.jsx(tn,{content:t,children:e}):e}function zY(e){e instanceof HTMLElement&&(e.shadowRoot&&[...e.shadowRoot.children].forEach(zY),[...e.children].forEach(zY),v0t(e)&&e.reset())}var gye=1,mEt=.9,yEt=.8,vEt=.17,YQ=.1,XQ=.999,bEt=.9999,OEt=.99,xEt=/[\\\/_+.#"@\[\(\{&]/,wEt=/[\\\/_+.#"@\[\(\{&]/g,SEt=/[\s-]/,hIe=/[\s-]/g;function QY(e,t,n,r,i,o,s){if(o===t.length)return i===e.length?gye:OEt;var a=`${i},${o}`;if(s[a]!==void 0)return s[a];for(var l=r.charAt(o),c=n.indexOf(l,i),u=0,f,d,h,p;c>=0;)f=QY(e,t,n,r,c+1,o+1,s),f>u&&(c===i?f*=gye:xEt.test(e.charAt(c-1))?(f*=yEt,h=e.slice(i,c-1).match(wEt),h&&i>0&&(f*=Math.pow(XQ,h.length))):SEt.test(e.charAt(c-1))?(f*=mEt,p=e.slice(i,c-1).match(hIe),p&&i>0&&(f*=Math.pow(XQ,p.length))):(f*=vEt,i>0&&(f*=Math.pow(XQ,c-i))),e.charAt(c)!==t.charAt(o)&&(f*=bEt)),(f<YQ&&n.charAt(c-1)===r.charAt(o+1)||r.charAt(o+1)===r.charAt(o)&&n.charAt(c-1)!==r.charAt(o))&&(d=QY(e,t,n,r,c+1,o+2,s),d*YQ>f&&(f=d*YQ)),f>u&&(u=f),c=n.indexOf(l,c+1);return s[a]=u,u}function mye(e){return e.toLowerCase().replace(hIe," ")}function _Et(e,t){return QY(e,t,mye(e),mye(t),0,0,{})}function bw(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function CEt(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function pIe(...e){return t=>e.forEach(n=>CEt(n,t))}function KP(...e){return O.useCallback(pIe(...e),e)}function $Et(e,t=[]){let n=[];function r(o,s){const a=O.createContext(s),l=n.length;n=[...n,s];function c(f){const{scope:d,children:h,...p}=f,g=(d==null?void 0:d[e][l])||a,y=O.useMemo(()=>p,Object.values(p));return O.createElement(g.Provider,{value:y},h)}function u(f,d){const h=(d==null?void 0:d[e][l])||a,p=O.useContext(h);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${f}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const i=()=>{const o=n.map(s=>O.createContext(s));return function(a){const l=(a==null?void 0:a[e])||o;return O.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return i.scopeName=e,[r,EEt(i,...t)]}function EEt(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(o)[`__scope${c}`];return{...a,...f}},{});return O.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}const BY=globalThis!=null&&globalThis.document?O.useLayoutEffect:()=>{},kEt=Xw.useId||(()=>{});let TEt=0;function HQ(e){const[t,n]=O.useState(kEt());return BY(()=>{e||n(r=>r??String(TEt++))},[e]),e||(t?`radix-${t}`:"")}function X1(e){const t=O.useRef(e);return O.useEffect(()=>{t.current=e}),O.useMemo(()=>(...n)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...n)},[])}function PEt({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=REt({defaultProp:t,onChange:n}),o=e!==void 0,s=o?e:r,a=X1(n),l=O.useCallback(c=>{if(o){const f=typeof c=="function"?c(e):c;f!==e&&a(f)}else i(c)},[o,e,i,a]);return[s,l]}function REt({defaultProp:e,onChange:t}){const n=O.useState(e),[r]=n,i=O.useRef(r),o=X1(t);return O.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}const Mne=O.forwardRef((e,t)=>{const{children:n,...r}=e,i=O.Children.toArray(n),o=i.find(DEt);if(o){const s=o.props.children,a=i.map(l=>l===o?O.Children.count(s)>1?O.Children.only(null):O.isValidElement(s)?s.props.children:null:l);return O.createElement(WY,le({},r,{ref:t}),O.isValidElement(s)?O.cloneElement(s,void 0,a):null)}return O.createElement(WY,le({},r,{ref:t}),n)});Mne.displayName="Slot";const WY=O.forwardRef((e,t)=>{const{children:n,...r}=e;return O.isValidElement(n)?O.cloneElement(n,{...NEt(r,n.props),ref:pIe(t,n.ref)}):O.Children.count(n)>1?O.Children.only(null):null});WY.displayName="SlotClone";const AEt=({children:e})=>O.createElement(O.Fragment,null,e);function DEt(e){return O.isValidElement(e)&&e.type===AEt}function NEt(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?n[r]=(...a)=>{o==null||o(...a),i==null||i(...a)}:r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}const MEt=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"],v6=MEt.reduce((e,t)=>{const n=O.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?Mne:t;return O.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),O.createElement(a,le({},s,{ref:i}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function IEt(e,t){e&&Io.flushSync(()=>e.dispatchEvent(t))}function LEt(e){const t=X1(e);O.useEffect(()=>{const n=r=>{r.key==="Escape"&&t(r)};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)},[t])}const VY="dismissableLayer.update",jEt="dismissableLayer.pointerDownOutside",FEt="dismissableLayer.focusOutside";let yye;const zEt=O.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),QEt=O.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=e,c=O.useContext(zEt),[u,f]=O.useState(null),[,d]=O.useState({}),h=KP(t,C=>f(C)),p=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=p.indexOf(g),v=u?p.indexOf(u):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,m=v>=y,w=BEt(C=>{const $=C.target,E=[...c.branches].some(R=>R.contains($));!m||E||(i==null||i(C),s==null||s(C),C.defaultPrevented||a==null||a())}),S=WEt(C=>{const $=C.target;[...c.branches].some(R=>R.contains($))||(o==null||o(C),s==null||s(C),C.defaultPrevented||a==null||a())});return LEt(C=>{v===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))}),O.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(yye=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),vye(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(document.body.style.pointerEvents=yye)}},[u,n,c]),O.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),vye())},[u,c]),O.useEffect(()=>{const C=()=>d({});return document.addEventListener(VY,C),()=>document.removeEventListener(VY,C)},[]),O.createElement(v6.div,le({},l,{ref:h,style:{pointerEvents:x?m?"auto":"none":void 0,...e.style},onFocusCapture:bw(e.onFocusCapture,S.onFocusCapture),onBlurCapture:bw(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:bw(e.onPointerDownCapture,w.onPointerDownCapture)}))});function BEt(e){const t=X1(e),n=O.useRef(!1),r=O.useRef(()=>{});return O.useEffect(()=>{const i=s=>{if(s.target&&!n.current){let l=function(){gIe(jEt,t,a,{discrete:!0})};const a={originalEvent:s};s.pointerType==="touch"?(document.removeEventListener("click",r.current),r.current=l,document.addEventListener("click",r.current,{once:!0})):l()}n.current=!1},o=window.setTimeout(()=>{document.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),document.removeEventListener("pointerdown",i),document.removeEventListener("click",r.current)}},[t]),{onPointerDownCapture:()=>n.current=!0}}function WEt(e){const t=X1(e),n=O.useRef(!1);return O.useEffect(()=>{const r=i=>{i.target&&!n.current&&gIe(FEt,t,{originalEvent:i},{discrete:!1})};return document.addEventListener("focusin",r),()=>document.removeEventListener("focusin",r)},[t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function vye(){const e=new CustomEvent(VY);document.dispatchEvent(e)}function gIe(e,t,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?IEt(i,o):i.dispatchEvent(o)}const ZQ="focusScope.autoFocusOnMount",GQ="focusScope.autoFocusOnUnmount",bye={bubbles:!1,cancelable:!0},VEt=O.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=e,[a,l]=O.useState(null),c=X1(i),u=X1(o),f=O.useRef(null),d=KP(t,g=>l(g)),h=O.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;O.useEffect(()=>{if(r){let g=function(v){if(h.paused||!a)return;const x=v.target;a.contains(x)?f.current=x:wv(f.current,{select:!0})},y=function(v){h.paused||!a||a.contains(v.relatedTarget)||wv(f.current,{select:!0})};return document.addEventListener("focusin",g),document.addEventListener("focusout",y),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",y)}}},[r,a,h.paused]),O.useEffect(()=>{if(a){xye.add(h);const g=document.activeElement;if(!a.contains(g)){const v=new CustomEvent(ZQ,bye);a.addEventListener(ZQ,c),a.dispatchEvent(v),v.defaultPrevented||(UEt(ZEt(mIe(a)),{select:!0}),document.activeElement===g&&wv(a))}return()=>{a.removeEventListener(ZQ,c),setTimeout(()=>{const v=new CustomEvent(GQ,bye);a.addEventListener(GQ,u),a.dispatchEvent(v),v.defaultPrevented||wv(g??document.body,{select:!0}),a.removeEventListener(GQ,u),xye.remove(h)},0)}}},[a,c,u,h]);const p=O.useCallback(g=>{if(!n&&!r||h.paused)return;const y=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(y&&v){const x=g.currentTarget,[m,w]=qEt(x);m&&w?!g.shiftKey&&v===w?(g.preventDefault(),n&&wv(m,{select:!0})):g.shiftKey&&v===m&&(g.preventDefault(),n&&wv(w,{select:!0})):v===x&&g.preventDefault()}},[n,r,h.paused]);return O.createElement(v6.div,le({tabIndex:-1},s,{ref:d,onKeyDown:p}))});function UEt(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(wv(r,{select:t}),document.activeElement!==n)return}function qEt(e){const t=mIe(e),n=Oye(t,e),r=Oye(t.reverse(),e);return[n,r]}function mIe(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Oye(e,t){for(const n of e)if(!YEt(n,{upTo:t}))return n}function YEt(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function XEt(e){return e instanceof HTMLInputElement&&"select"in e}function wv(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&XEt(e)&&t&&e.select()}}const xye=HEt();function HEt(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=wye(e,t),e.unshift(t)},remove(t){var n;e=wye(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function wye(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function ZEt(e){return e.filter(t=>t.tagName!=="A")}const GEt=O.forwardRef((e,t)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...i}=e;return r?uRe.createPortal(O.createElement(v6.div,le({},i,{ref:t})),r):null});function KEt(e,t){return O.useReducer((n,r)=>{const i=t[n][r];return i??n},e)}const b6=e=>{const{present:t,children:n}=e,r=JEt(t),i=typeof n=="function"?n({present:r.isPresent}):O.Children.only(n),o=KP(r.ref,i.ref);return typeof n=="function"||r.isPresent?O.cloneElement(i,{ref:o}):null};b6.displayName="Presence";function JEt(e){const[t,n]=O.useState(),r=O.useRef({}),i=O.useRef(e),o=O.useRef("none"),s=e?"mounted":"unmounted",[a,l]=KEt(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return O.useEffect(()=>{const c=vD(r.current);o.current=a==="mounted"?c:"none"},[a]),BY(()=>{const c=r.current,u=i.current;if(u!==e){const d=o.current,h=vD(c);e?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),BY(()=>{if(t){const c=f=>{const h=vD(r.current).includes(f.animationName);f.target===t&&h&&Io.flushSync(()=>l("ANIMATION_END"))},u=f=>{f.target===t&&(o.current=vD(r.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",c),t.addEventListener("animationend",c),()=>{t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",c),t.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:O.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function vD(e){return(e==null?void 0:e.animationName)||"none"}let KQ=0;function ekt(){O.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:Sye()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:Sye()),KQ++,()=>{KQ===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),KQ--}},[])}function Sye(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var yIe=jMe(),JQ=function(){},O6=O.forwardRef(function(e,t){var n=O.useRef(null),r=O.useState({onScrollCapture:JQ,onWheelCapture:JQ,onTouchMoveCapture:JQ}),i=r[0],o=r[1],s=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,f=e.shards,d=e.sideCar,h=e.noIsolation,p=e.inert,g=e.allowPinchZoom,y=e.as,v=y===void 0?"div":y,x=wne(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),m=d,w=LMe([n,t]),S=ua(ua({},x),i);return O.createElement(O.Fragment,null,u&&O.createElement(m,{sideCar:yIe,removeScrollBar:c,shards:f,noIsolation:h,inert:p,setCallbacks:o,allowPinchZoom:!!g,lockRef:n}),s?O.cloneElement(O.Children.only(a),ua(ua({},S),{ref:w})):O.createElement(v,ua({},S,{className:l,ref:w}),a))});O6.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};O6.classNames={fullWidth:mk,zeroRight:gk};var UY=!1;if(typeof window<"u")try{var bD=Object.defineProperty({},"passive",{get:function(){return UY=!0,!0}});window.addEventListener("test",bD,bD),window.removeEventListener("test",bD,bD)}catch{UY=!1}var IO=UY?{passive:!1}:!1,tkt=function(e){var t=window.getComputedStyle(e);return t.overflowY!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowY==="visible")},nkt=function(e){var t=window.getComputedStyle(e);return t.overflowX!=="hidden"&&!(t.overflowY===t.overflowX&&t.overflowX==="visible")},_ye=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=vIe(e,n);if(r){var i=bIe(e,n),o=i[1],s=i[2];if(o>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},rkt=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},ikt=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},vIe=function(e,t){return e==="v"?tkt(t):nkt(t)},bIe=function(e,t){return e==="v"?rkt(t):ikt(t)},okt=function(e,t){return e==="h"&&t==="rtl"?-1:1},skt=function(e,t,n,r,i){var o=okt(e,window.getComputedStyle(t).direction),s=o*r,a=n.target,l=t.contains(a),c=!1,u=s>0,f=0,d=0;do{var h=bIe(e,a),p=h[0],g=h[1],y=h[2],v=g-y-o*p;(p||v)&&vIe(e,a)&&(f+=v,d+=p),a=a.parentNode}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(u&&(i&&f===0||!i&&s>f)||!u&&(i&&d===0||!i&&-s>d))&&(c=!0),c},OD=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Cye=function(e){return[e.deltaX,e.deltaY]},$ye=function(e){return e&&"current"in e?e.current:e},akt=function(e,t){return e[0]===t[0]&&e[1]===t[1]},lkt=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ckt=0,LO=[];function ukt(e){var t=O.useRef([]),n=O.useRef([0,0]),r=O.useRef(),i=O.useState(ckt++)[0],o=O.useState(function(){return _ne()})[0],s=O.useRef(e);O.useEffect(function(){s.current=e},[e]),O.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=q5([e.lockRef.current],(e.shards||[]).map($ye),!0).filter(Boolean);return g.forEach(function(y){return y.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var a=O.useCallback(function(g,y){if("touches"in g&&g.touches.length===2)return!s.current.allowPinchZoom;var v=OD(g),x=n.current,m="deltaX"in g?g.deltaX:x[0]-v[0],w="deltaY"in g?g.deltaY:x[1]-v[1],S,C=g.target,$=Math.abs(m)>Math.abs(w)?"h":"v";if("touches"in g&&$==="h"&&C.type==="range")return!1;var E=_ye($,C);if(!E)return!0;if(E?S=$:(S=$==="v"?"h":"v",E=_ye($,C)),!E)return!1;if(!r.current&&"changedTouches"in g&&(m||w)&&(r.current=S),!S)return!0;var R=r.current||S;return skt(R,y,g,R==="h"?m:w,!0)},[]),l=O.useCallback(function(g){var y=g;if(!(!LO.length||LO[LO.length-1]!==o)){var v="deltaY"in y?Cye(y):OD(y),x=t.current.filter(function(S){return S.name===y.type&&S.target===y.target&&akt(S.delta,v)})[0];if(x&&x.should){y.preventDefault();return}if(!x){var m=(s.current.shards||[]).map($ye).filter(Boolean).filter(function(S){return S.contains(y.target)}),w=m.length>0?a(y,m[0]):!s.current.noIsolation;w&&y.preventDefault()}}},[]),c=O.useCallback(function(g,y,v,x){var m={name:g,delta:y,target:v,should:x};t.current.push(m),setTimeout(function(){t.current=t.current.filter(function(w){return w!==m})},1)},[]),u=O.useCallback(function(g){n.current=OD(g),r.current=void 0},[]),f=O.useCallback(function(g){c(g.type,Cye(g),g.target,a(g,e.lockRef.current))},[]),d=O.useCallback(function(g){c(g.type,OD(g),g.target,a(g,e.lockRef.current))},[]);O.useEffect(function(){return LO.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:d}),document.addEventListener("wheel",l,IO),document.addEventListener("touchmove",l,IO),document.addEventListener("touchstart",u,IO),function(){LO=LO.filter(function(g){return g!==o}),document.removeEventListener("wheel",l,IO),document.removeEventListener("touchmove",l,IO),document.removeEventListener("touchstart",u,IO)}},[]);var h=e.removeScrollBar,p=e.inert;return O.createElement(O.Fragment,null,p?O.createElement(o,{styles:lkt(i)}):null,h?O.createElement(BMe,{gapMode:"margin"}):null)}const fkt=zMe(yIe,ukt);var OIe=O.forwardRef(function(e,t){return O.createElement(O6,ua({},e,{ref:t,sideCar:fkt}))});OIe.classNames=O6.classNames;const dkt=OIe,xIe="Dialog",[wIe,fQn]=$Et(xIe),[hkt,Ub]=wIe(xIe),pkt=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=e,a=O.useRef(null),l=O.useRef(null),[c=!1,u]=PEt({prop:r,defaultProp:i,onChange:o});return O.createElement(hkt,{scope:t,triggerRef:a,contentRef:l,contentId:HQ(),titleId:HQ(),descriptionId:HQ(),open:c,onOpenChange:u,onOpenToggle:O.useCallback(()=>u(f=>!f),[u]),modal:s},n)},SIe="DialogPortal",[gkt,_Ie]=wIe(SIe,{forceMount:void 0}),mkt=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,o=Ub(SIe,t);return O.createElement(gkt,{scope:t,forceMount:n},O.Children.map(r,s=>O.createElement(b6,{present:n||o.open},O.createElement(GEt,{asChild:!0,container:i},s))))},qY="DialogOverlay",ykt=O.forwardRef((e,t)=>{const n=_Ie(qY,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=Ub(qY,e.__scopeDialog);return o.modal?O.createElement(b6,{present:r||o.open},O.createElement(vkt,le({},i,{ref:t}))):null}),vkt=O.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ub(qY,n);return O.createElement(dkt,{as:Mne,allowPinchZoom:!0,shards:[i.contentRef]},O.createElement(v6.div,le({"data-state":$Ie(i.open)},r,{ref:t,style:{pointerEvents:"auto",...r.style}})))}),KT="DialogContent",bkt=O.forwardRef((e,t)=>{const n=_Ie(KT,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,o=Ub(KT,e.__scopeDialog);return O.createElement(b6,{present:r||o.open},o.modal?O.createElement(Okt,le({},i,{ref:t})):O.createElement(xkt,le({},i,{ref:t})))}),Okt=O.forwardRef((e,t)=>{const n=Ub(KT,e.__scopeDialog),r=O.useRef(null),i=KP(t,n.contentRef,r);return O.useEffect(()=>{const o=r.current;if(o)return GP(o)},[]),O.createElement(CIe,le({},e,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:bw(e.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:bw(e.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:bw(e.onFocusOutside,o=>o.preventDefault())}))}),xkt=O.forwardRef((e,t)=>{const n=Ub(KT,e.__scopeDialog),r=O.useRef(!1);return O.createElement(CIe,le({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o;if((o=e.onCloseAutoFocus)===null||o===void 0||o.call(e,i),!i.defaultPrevented){var s;r.current||(s=n.triggerRef.current)===null||s===void 0||s.focus(),i.preventDefault()}r.current=!1},onInteractOutside:i=>{var o,s;(o=e.onInteractOutside)===null||o===void 0||o.call(e,i),i.defaultPrevented||(r.current=!0);const a=i.target;((s=n.triggerRef.current)===null||s===void 0?void 0:s.contains(a))&&i.preventDefault()}}))}),CIe=O.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=e,a=Ub(KT,n),l=O.useRef(null),c=KP(t,l);return ekt(),O.createElement(O.Fragment,null,O.createElement(VEt,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o},O.createElement(QEt,le({role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":$Ie(a.open)},s,{ref:c,onDismiss:()=>a.onOpenChange(!1)}))),!1)});function $Ie(e){return e?"open":"closed"}const wkt=pkt,Skt=mkt,_kt=ykt,Ckt=bkt;var $kt='[cmdk-list-sizer=""]',n$='[cmdk-group=""]',eB='[cmdk-group-items=""]',Ekt='[cmdk-group-heading=""]',Ine='[cmdk-item=""]',Eye=`${Ine}:not([aria-disabled="true"])`,YY="cmdk-item-select",vp="data-value",kkt=(e,t)=>_Et(e,t),EIe=O.createContext(void 0),JP=()=>O.useContext(EIe),kIe=O.createContext(void 0),Lne=()=>O.useContext(kIe),TIe=O.createContext(void 0),PIe=O.forwardRef((e,t)=>{let n=O.useRef(null),r=wx(()=>{var B,Y,U;return{search:"",value:(U=(Y=e.value)!=null?Y:(B=e.defaultValue)==null?void 0:B.toLowerCase())!=null?U:"",filtered:{count:0,items:new Map,groups:new Set}}}),i=wx(()=>new Set),o=wx(()=>new Map),s=wx(()=>new Map),a=wx(()=>new Set),l=RIe(e),{label:c,children:u,value:f,onValueChange:d,filter:h,shouldFilter:p,vimBindings:g=!0,...y}=e,v=O.useId(),x=O.useId(),m=O.useId(),w=Fkt();U_(()=>{if(f!==void 0){let B=f.trim().toLowerCase();r.current.value=B,w(6,I),S.emit()}},[f]);let S=O.useMemo(()=>({subscribe:B=>(a.current.add(B),()=>a.current.delete(B)),snapshot:()=>r.current,setState:(B,Y,U)=>{var q,Z,oe;if(!Object.is(r.current[B],Y)){if(r.current[B]=Y,B==="search")N(),E(),w(1,R);else if(B==="value")if(((q=l.current)==null?void 0:q.value)!==void 0){let ce=Y??"";(oe=(Z=l.current).onValueChange)==null||oe.call(Z,ce);return}else U||w(5,I);S.emit()}},emit:()=>{a.current.forEach(B=>B())}}),[]),C=O.useMemo(()=>({value:(B,Y)=>{Y!==s.current.get(B)&&(s.current.set(B,Y),r.current.filtered.items.set(B,$(Y)),w(2,()=>{E(),S.emit()}))},item:(B,Y)=>(i.current.add(B),Y&&(o.current.has(Y)?o.current.get(Y).add(B):o.current.set(Y,new Set([B]))),w(3,()=>{N(),E(),r.current.value||R(),S.emit()}),()=>{s.current.delete(B),i.current.delete(B),r.current.filtered.items.delete(B);let U=j();w(4,()=>{N(),(U==null?void 0:U.getAttribute("id"))===B&&R(),S.emit()})}),group:B=>(o.current.has(B)||o.current.set(B,new Set),()=>{s.current.delete(B),o.current.delete(B)}),filter:()=>l.current.shouldFilter,label:c||e["aria-label"],commandRef:n,listId:v,inputId:m,labelId:x}),[]);function $(B){var Y,U;let q=(U=(Y=l.current)==null?void 0:Y.filter)!=null?U:kkt;return B?q(B,r.current.search):0}function E(){if(!n.current||!r.current.search||l.current.shouldFilter===!1)return;let B=r.current.filtered.items,Y=[];r.current.filtered.groups.forEach(q=>{let Z=o.current.get(q),oe=0;Z.forEach(ce=>{let re=B.get(ce);oe=Math.max(re,oe)}),Y.push([q,oe])});let U=n.current.querySelector($kt);A().sort((q,Z)=>{var oe,ce;let re=q.getAttribute(vp),fe=Z.getAttribute(vp);return((oe=B.get(fe))!=null?oe:0)-((ce=B.get(re))!=null?ce:0)}).forEach(q=>{let Z=q.closest(eB);Z?Z.appendChild(q.parentElement===Z?q:q.closest(`${eB} > *`)):U.appendChild(q.parentElement===U?q:q.closest(`${eB} > *`))}),Y.sort((q,Z)=>Z[1]-q[1]).forEach(q=>{let Z=n.current.querySelector(`${n$}[${vp}="${q[0]}"]`);Z==null||Z.parentElement.appendChild(Z)})}function R(){let B=A().find(U=>!U.ariaDisabled),Y=B==null?void 0:B.getAttribute(vp);S.setState("value",Y||void 0)}function N(){if(!r.current.search||l.current.shouldFilter===!1){r.current.filtered.count=i.current.size;return}r.current.filtered.groups=new Set;let B=0;for(let Y of i.current){let U=s.current.get(Y),q=$(U);r.current.filtered.items.set(Y,q),q>0&&B++}for(let[Y,U]of o.current)for(let q of U)if(r.current.filtered.items.get(q)>0){r.current.filtered.groups.add(Y);break}r.current.filtered.count=B}function I(){var B,Y,U;let q=j();q&&(((B=q.parentElement)==null?void 0:B.firstChild)===q&&((U=(Y=q.closest(n$))==null?void 0:Y.querySelector(Ekt))==null||U.scrollIntoView({block:"nearest"})),q.scrollIntoView({block:"nearest"}))}function j(){var B;return(B=n.current)==null?void 0:B.querySelector(`${Ine}[aria-selected="true"]`)}function A(){return Array.from(n.current.querySelectorAll(Eye))}function T(B){let Y=A()[B];Y&&S.setState("value",Y.getAttribute(vp))}function D(B){var Y;let U=j(),q=A(),Z=q.findIndex(ce=>ce===U),oe=q[Z+B];(Y=l.current)!=null&&Y.loop&&(oe=Z+B<0?q[q.length-1]:Z+B===q.length?q[0]:q[Z+B]),oe&&S.setState("value",oe.getAttribute(vp))}function L(B){let Y=j(),U=Y==null?void 0:Y.closest(n$),q;for(;U&&!q;)U=B>0?Lkt(U,n$):jkt(U,n$),q=U==null?void 0:U.querySelector(Eye);q?S.setState("value",q.getAttribute(vp)):D(B)}let W=()=>T(A().length-1),V=B=>{B.preventDefault(),B.metaKey?W():B.altKey?L(1):D(1)},Q=B=>{B.preventDefault(),B.metaKey?T(0):B.altKey?L(-1):D(-1)};return O.createElement("div",{ref:eR([n,t]),...y,"cmdk-root":"",onKeyDown:B=>{var Y;if((Y=y.onKeyDown)==null||Y.call(y,B),!B.defaultPrevented)switch(B.key){case"n":case"j":{g&&B.ctrlKey&&V(B);break}case"ArrowDown":{V(B);break}case"p":case"k":{g&&B.ctrlKey&&Q(B);break}case"ArrowUp":{Q(B);break}case"Home":{B.preventDefault(),T(0);break}case"End":{B.preventDefault(),W();break}case"Enter":if(!B.nativeEvent.isComposing){B.preventDefault();let U=j();if(U){let q=new Event(YY);U.dispatchEvent(q)}}}}},O.createElement("label",{"cmdk-label":"",htmlFor:C.inputId,id:C.labelId,style:zkt},c),O.createElement(kIe.Provider,{value:S},O.createElement(EIe.Provider,{value:C},u)))}),Tkt=O.forwardRef((e,t)=>{var n,r;let i=O.useId(),o=O.useRef(null),s=O.useContext(TIe),a=JP(),l=RIe(e),c=(r=(n=l.current)==null?void 0:n.forceMount)!=null?r:s==null?void 0:s.forceMount;U_(()=>a.item(i,s==null?void 0:s.id),[]);let u=AIe(i,o,[e.value,e.children,o]),f=Lne(),d=H1(S=>S.value&&S.value===u.current),h=H1(S=>c||a.filter()===!1?!0:S.search?S.filtered.items.get(i)>0:!0);O.useEffect(()=>{let S=o.current;if(!(!S||e.disabled))return S.addEventListener(YY,p),()=>S.removeEventListener(YY,p)},[h,e.onSelect,e.disabled]);function p(){var S,C;g(),(C=(S=l.current).onSelect)==null||C.call(S,u.current)}function g(){f.setState("value",u.current,!0)}if(!h)return null;let{disabled:y,value:v,onSelect:x,forceMount:m,...w}=e;return O.createElement("div",{ref:eR([o,t]),...w,id:i,"cmdk-item":"",role:"option","aria-disabled":y||void 0,"aria-selected":d||void 0,"data-disabled":y||void 0,"data-selected":d||void 0,onPointerMove:y?void 0:g,onClick:y?void 0:p},e.children)}),Pkt=O.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:i,...o}=e,s=O.useId(),a=O.useRef(null),l=O.useRef(null),c=O.useId(),u=JP(),f=H1(p=>i||u.filter()===!1?!0:p.search?p.filtered.groups.has(s):!0);U_(()=>u.group(s),[]),AIe(s,a,[e.value,e.heading,l]);let d=O.useMemo(()=>({id:s,forceMount:i}),[i]),h=O.createElement(TIe.Provider,{value:d},r);return O.createElement("div",{ref:eR([a,t]),...o,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},n&&O.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},n),O.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?c:void 0},h))}),Rkt=O.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,i=O.useRef(null),o=H1(s=>!s.search);return!n&&!o?null:O.createElement("div",{ref:eR([i,t]),...r,"cmdk-separator":"",role:"separator"})}),Akt=O.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,i=e.value!=null,o=Lne(),s=H1(u=>u.search),a=H1(u=>u.value),l=JP(),c=O.useMemo(()=>{var u;let f=(u=l.commandRef.current)==null?void 0:u.querySelector(`${Ine}[${vp}="${a}"]`);return f==null?void 0:f.getAttribute("id")},[a,l.commandRef]);return O.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),O.createElement("input",{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":c,id:l.inputId,type:"text",value:i?e.value:s,onChange:u=>{i||o.setState("search",u.target.value),n==null||n(u.target.value)}})}),Dkt=O.forwardRef((e,t)=>{let{children:n,...r}=e,i=O.useRef(null),o=O.useRef(null),s=JP();return O.useEffect(()=>{if(o.current&&i.current){let a=o.current,l=i.current,c,u=new ResizeObserver(()=>{c=requestAnimationFrame(()=>{let f=a.offsetHeight;l.style.setProperty("--cmdk-list-height",f.toFixed(1)+"px")})});return u.observe(a),()=>{cancelAnimationFrame(c),u.unobserve(a)}}},[]),O.createElement("div",{ref:eR([i,t]),...r,"cmdk-list":"",role:"listbox","aria-label":"Suggestions",id:s.listId,"aria-labelledby":s.inputId},O.createElement("div",{ref:o,"cmdk-list-sizer":""},n))}),Nkt=O.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:o,container:s,...a}=e;return O.createElement(wkt,{open:n,onOpenChange:r},O.createElement(Skt,{container:s},O.createElement(_kt,{"cmdk-overlay":"",className:i}),O.createElement(Ckt,{"aria-label":e.label,"cmdk-dialog":"",className:o},O.createElement(PIe,{ref:t,...a}))))}),Mkt=O.forwardRef((e,t)=>{let n=O.useRef(!0),r=H1(i=>i.filtered.count===0);return O.useEffect(()=>{n.current=!1},[]),n.current||!r?null:O.createElement("div",{ref:t,...e,"cmdk-empty":"",role:"presentation"})}),Ikt=O.forwardRef((e,t)=>{let{progress:n,children:r,...i}=e;return O.createElement("div",{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Loading..."},O.createElement("div",{"aria-hidden":!0},r))}),Zl=Object.assign(PIe,{List:Dkt,Item:Tkt,Input:Akt,Group:Pkt,Separator:Rkt,Dialog:Nkt,Empty:Mkt,Loading:Ikt});function Lkt(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function jkt(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function RIe(e){let t=O.useRef(e);return U_(()=>{t.current=e}),t}var U_=typeof window>"u"?O.useEffect:O.useLayoutEffect;function wx(e){let t=O.useRef();return t.current===void 0&&(t.current=e()),t}function eR(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function H1(e){let t=Lne(),n=()=>e(t.snapshot());return O.useSyncExternalStore(t.subscribe,n,n)}function AIe(e,t,n){let r=O.useRef(),i=JP();return U_(()=>{var o;let s=(()=>{var a;for(let l of n){if(typeof l=="string")return l.trim().toLowerCase();if(typeof l=="object"&&"current"in l)return l.current?(a=l.current.textContent)==null?void 0:a.trim().toLowerCase():r.current}})();i.value(e,s),(o=t.current)==null||o.setAttribute(vp,s),r.current=s}),r}var Fkt=()=>{let[e,t]=O.useState(),n=wx(()=>new Map);return U_(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,i)=>{n.current.set(r,i),t({})}},zkt={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const x6=eIe,DIe=Z$t,jne=({className:e,children:t,...n})=>b.jsx($ne,{...n,children:b.jsx("div",{className:ve("fixed inset-0 z-50 flex items-start justify-center sm:items-start sm:top-[15%]",e),children:t})});jne.displayName=$ne.displayName;const Fne=O.forwardRef(({className:e,...t},n)=>b.jsx(Ene,{ref:n,className:ve("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm transition-all duration-100 data-[state=closed]:animate-out data-[state=closed]:fade-out data-[state=open]:fade-in",e),...t}));Fne.displayName=Ene.displayName;const P0=O.forwardRef(({className:e,children:t,usePortal:n=!0,...r},i)=>{const o=lIe(),s=b.jsxs(kne,{ref:i,className:ve("fixed z-50 grid w-full gap-4 rounded-b-lg border bg-background p-6 shadow-sm animate-in data-[state=open]:fade-in-90 data-[state=open]:slide-in-from-bottom-10 sm:max-w-lg sm:rounded-lg sm:zoom-in-90 data-[state=open]:sm:slide-in-from-bottom-0",e),...o,...r,children:[t,b.jsxs(Rne,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[b.jsx(Fh,{className:"h-4 w-4"}),b.jsx("span",{className:"sr-only",children:"Close"})]})]});return n?b.jsxs(jne,{children:[b.jsx(Fne,{}),s]}):s});P0.displayName=kne.displayName;const w6=({className:e,...t})=>b.jsx("div",{className:ve("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});w6.displayName="DialogHeader";const tR=({className:e,...t})=>b.jsx("div",{className:ve("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});tR.displayName="DialogFooter";const qb=O.forwardRef(({className:e,...t},n)=>b.jsx(Tne,{ref:n,className:ve("text-lg font-semibold leading-none tracking-tight",e),...t}));qb.displayName=Tne.displayName;const dS=O.forwardRef(({className:e,...t},n)=>b.jsx(Pne,{ref:n,className:ve("text-sm text-muted-foreground",e),...t}));dS.displayName=Pne.displayName;const S6=Oo("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md",{variants:{subcontent:{true:"shadow-lg"}}}),NIe=Oo("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",{variants:{inset:{true:"pl-8"}}}),MIe=Oo("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",{variants:{}}),hS=Oo("absolute left-2 flex h-3.5 w-3.5 items-center justify-center",{variants:{}}),IIe=Oo("px-2 py-1.5 text-sm font-semibold",{variants:{inset:{true:"pl-8"}}}),zne=Oo("menu-item relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50",{variants:{inset:{true:"pl-8"},variant:{default:"focus:bg-accent focus:text-accent-foreground aria-selected:bg-accent aria-selected:text-accent-foreground",danger:"focus:bg-[var(--red-5)] focus:text-[var(--red-12)] aria-selected:bg-[var(--red-5)] aria-selected:text-[var(--red-12)]"}},defaultVariants:{variant:"default"}}),Qne=Oo("-mx-1 h-px bg-border",{variants:{}}),Bne=({className:e,...t})=>b.jsx("span",{className:ve("ml-auto text-xs tracking-widest opacity-60",e),...t});Bne.displayName="MenuShortcut";const _6=O.forwardRef(({className:e,...t},n)=>b.jsx(Zl,{ref:n,className:ve("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));_6.displayName=Zl.displayName;const Qkt=({children:e,...t})=>b.jsx(x6,{...t,children:b.jsx(P0,{className:"overflow-hidden p-0 shadow-2xl",usePortal:!0,children:b.jsx(_6,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:e})})}),C6=O.forwardRef(({className:e,rootClassName:t,...n},r)=>b.jsxs("div",{className:ve("flex items-center border-b px-3",t),"cmdk-input-wrapper":"",children:[b.jsx(j1t,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),b.jsx(Zl.Input,{ref:r,className:ve("placeholder:text-foreground-muted flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none disabled:cursor-not-allowed disabled:opacity-50",e),...n})]}));C6.displayName=Zl.Input.displayName;const Wne=O.forwardRef(({className:e,...t},n)=>b.jsx(Zl.List,{ref:n,className:ve("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));Wne.displayName=Zl.List.displayName;const $6=O.forwardRef((e,t)=>b.jsx(Zl.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));$6.displayName=Zl.Empty.displayName;const J5=O.forwardRef(({className:e,...t},n)=>b.jsx(Zl.Group,{ref:n,className:ve("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));J5.displayName=Zl.Group.displayName;const Vne=O.forwardRef(({className:e,...t},n)=>b.jsx(Zl.Separator,{ref:n,className:Qne({className:e}),...t}));Vne.displayName=Zl.Separator.displayName;const JT=O.forwardRef(({className:e,variant:t,inset:n,...r},i)=>b.jsx(Zl.Item,{ref:i,className:zne({className:e,variant:t,inset:n}),...r}));JT.displayName=Zl.Item.displayName;const Bkt=Bne,LIe="Popover",[jIe,dQn]=ro(LIe,[k0]),Une=k0(),[Wkt,q_]=jIe(LIe),Vkt=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!1}=e,a=Une(t),l=O.useRef(null),[c,u]=O.useState(!1),[f=!1,d]=Vo({prop:r,defaultProp:i,onChange:o});return O.createElement(Y4,a,O.createElement(Wkt,{scope:t,contentId:Rl(),triggerRef:l,open:f,onOpenChange:d,onOpenToggle:O.useCallback(()=>d(h=>!h),[d]),hasCustomAnchor:c,onCustomAnchorAdd:O.useCallback(()=>u(!0),[]),onCustomAnchorRemove:O.useCallback(()=>u(!1),[]),modal:s},n))},Ukt="PopoverTrigger",qkt=O.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=q_(Ukt,n),o=Une(n),s=Xt(t,i.triggerRef),a=O.createElement(Ot.button,le({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":QIe(i.open)},r,{ref:s,onClick:qe(e.onClick,i.onOpenToggle)}));return i.hasCustomAnchor?a:O.createElement(X4,le({asChild:!0},o),a)}),FIe="PopoverPortal",[Ykt,Xkt]=jIe(FIe,{forceMount:void 0}),Hkt=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,o=q_(FIe,t);return O.createElement(Ykt,{scope:t,forceMount:n},O.createElement(zs,{present:n||o.open},O.createElement(z_,{asChild:!0,container:i},r)))},e2="PopoverContent",Zkt=O.forwardRef((e,t)=>{const n=Xkt(e2,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,o=q_(e2,e.__scopePopover);return O.createElement(zs,{present:r||o.open},o.modal?O.createElement(Gkt,le({},i,{ref:t})):O.createElement(Kkt,le({},i,{ref:t})))}),Gkt=O.forwardRef((e,t)=>{const n=q_(e2,e.__scopePopover),r=O.useRef(null),i=Xt(t,r),o=O.useRef(!1);return O.useEffect(()=>{const s=r.current;if(s)return GP(s)},[]),O.createElement(h6,{as:qf,allowPinchZoom:!0},O.createElement(zIe,le({},e,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qe(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),o.current||(a=n.triggerRef.current)===null||a===void 0||a.focus()}),onPointerDownOutside:qe(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;o.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:qe(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})))}),Kkt=O.forwardRef((e,t)=>{const n=q_(e2,e.__scopePopover),r=O.useRef(!1),i=O.useRef(!1);return O.createElement(zIe,le({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s;if((s=e.onCloseAutoFocus)===null||s===void 0||s.call(e,o),!o.defaultPrevented){var a;r.current||(a=n.triggerRef.current)===null||a===void 0||a.focus(),o.preventDefault()}r.current=!1,i.current=!1},onInteractOutside:o=>{var s,a;(s=e.onInteractOutside)===null||s===void 0||s.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;((a=n.triggerRef.current)===null||a===void 0?void 0:a.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}}))}),zIe=O.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...f}=e,d=q_(e2,n),h=Une(n);return f6(),O.createElement(u6,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o},O.createElement(j_,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:u,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>d.onOpenChange(!1)},O.createElement(H4,le({"data-state":QIe(d.open),role:"dialog",id:d.contentId},h,f,{ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))});function QIe(e){return e?"open":"closed"}const Jkt=Vkt,eTt=qkt,tTt=Hkt,BIe=Zkt,qne=Jkt,Yne=eTt,E6=O.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>b.jsx(tTt,{children:b.jsx(BIe,{ref:i,align:t,sideOffset:n,className:ve("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none animate-in data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));E6.displayName=BIe.displayName;const nTt=Oo("inline-flex items-center border rounded-full px-2 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"bg-primary hover:bg-primary/60 border-transparent text-primary-foreground",defaultOutline:"bg-[var(--blue-2)] border-[var(--blue-8)] text-[var(--blue-11)]",secondary:"bg-secondary hover:bg-secondary/80 border-transparent text-secondary-foreground",destructive:"bg-[var(--red-2)] border-[var(--red-6)] text-[var(--red-9)] hover:bg-[var(--red-3)]",success:"bg-[var(--grass-2)] border-[var(--grass-5)] text-[var(--grass-9)] hover:bg-[var(--grass-3)]",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),Xne=({className:e,variant:t,...n})=>b.jsx("div",{className:ve(nTt({variant:t}),e),...n}),WIe=O.createContext({isSelected:()=>!1,onSelect:If.NOOP}),nR=({children:e,displayValue:t,className:n,placeholder:r,value:i,defaultValue:o,onValueChange:s,multiple:a=!1,shouldFilter:l=!0,filterFn:c,open:u,defaultOpen:f,onOpenChange:d,inputPlaceholder:h="Search...",search:p,onSearchChange:g,emptyState:y="Nothing found.",chips:v=!1,chipsClassName:x,keepPopoverOpenOnSelect:m})=>{const[w=!1,S]=Vo({prop:u,defaultProp:f,onChange:d}),[C,$]=Vo({prop:i,defaultProp:o,onChange:I=>{s==null||s(I)}}),E=I=>Array.isArray(C)?C.includes(I):C===I,R=I=>{let j=I;if(a)if(Array.isArray(C))if(C.includes(j)){const T=C.filter(D=>D!==I);j=T.length>0?T:[]}else j=[...C,j];else j=[j];else C===I&&(j=null);$(j),(m??a)||S(!1)},N=()=>a&&v&&r?r:C?Array.isArray(C)?C.length===0?r??"--":C.length===1&&t!==void 0?t(C[0]):`${C.length} selected`:t!==void 0?t(C):r??"--":r??"--";return b.jsxs("div",{className:ve("relative"),children:[b.jsxs(qne,{open:w,onOpenChange:S,children:[b.jsx(Yne,{asChild:!0,children:b.jsxs("div",{className:ve("flex h-6 w-fit mb-1 shadow-xsSolid items-center justify-between rounded-sm border border-input bg-transparent px-2 text-sm font-prose ring-offset-background placeholder:text-muted-foreground hover:shadow-smSolid focus:outline-none focus:ring-1 focus:ring-ring focus:border-primary focus:shadow-mdSolid disabled:cursor-not-allowed disabled:opacity-50",n),"aria-expanded":w,children:[N()," ",b.jsx(Vy,{className:"ml-3 w-4 h-4 opacity-50"})]})}),b.jsx(E6,{className:"w-full min-w-[var(--radix-popover-trigger-width)] p-0",align:"start",children:b.jsxs(_6,{filter:c,shouldFilter:l,children:[b.jsx(C6,{placeholder:h,rootClassName:"px-1 h-8",autoFocus:!0,value:p,onValueChange:g}),b.jsxs(Wne,{className:"max-h-60 py-.5",children:[b.jsx($6,{children:y}),b.jsx(WIe.Provider,{value:{isSelected:E,onSelect:R},children:e})]})]})})]}),a&&v&&b.jsx("div",{className:ve("flex flex-col gap-1 items-start",x),children:Array.isArray(C)&&C.map(I=>I?b.jsxs(Xne,{variant:"secondary",children:[(t==null?void 0:t(I))??String(I),b.jsx(NNe,{onClick:()=>{R(I)},className:"w-3 h-3 opacity-50 hover:opacity-100 ml-1 cursor-pointer"})]},String(I)):null)})]})},Y_=ie.forwardRef(({children:e,className:t,value:n,onSelect:r},i)=>{const o=typeof n=="object"&&"value"in n?n.value:String(n),s=O.useContext(WIe);return b.jsxs(JT,{ref:i,className:ve("pl-6 m-1 py-1",t),role:"option",value:o,onSelect:()=>{s.onSelect(n),r==null||r(n)},children:[s.isSelected(n)&&b.jsx(Bb,{className:"absolute left-1 h-4 w-4"}),e]})});Y_.displayName="ComboboxItem";class rTt{constructor(){be(this,"tagName","marimo-multiselect");be(this,"validator",H.object({initialValue:H.array(H.string()),label:H.string().nullable(),options:H.array(H.string()),fullWidth:H.boolean().default(!1)}))}render(t){return b.jsx(iTt,{...t.data,value:t.value,setValue:t.setValue})}}const iTt=e=>{const t=O.useId();return b.jsx(Hl,{label:e.label,id:t,fullWidth:e.fullWidth,children:b.jsx(nR,{displayValue:n=>n,placeholder:"Select...",multiple:!0,filterFn:oTt,className:ve({"w-full":e.fullWidth}),value:e.value,onValueChange:n=>e.setValue(n||[]),children:e.options.map(n=>b.jsx(Y_,{value:n,children:n},n))})})};function oTt(e,t){return t.split(/\s+/).every(i=>e.toLowerCase().includes(i.toLowerCase()))?1:0}class sTt{constructor(){be(this,"tagName","marimo-number");be(this,"validator",H.object({initialValue:H.number(),label:H.string().nullable(),start:H.number(),stop:H.number(),step:H.number().optional(),debounce:H.boolean().default(!1),fullWidth:H.boolean().default(!1)}))}render(t){return b.jsx(aTt,{...t.data,value:t.value,setValue:t.setValue})}}const aTt=e=>{const t=O.useRef(null),n=O.useId(),{value:r,onChange:i}=One({initialValue:e.value,delay:200,disabled:!e.debounce,onChange:e.setValue});return b.jsx(Hl,{label:e.label,id:n,fullWidth:e.fullWidth,children:b.jsx(Ns,{className:ve("min-w-[3em]",e.fullWidth&&"w-full"),ref:t,type:"number",min:e.start,max:e.stop,step:e.step,value:r,onWheel:o=>{o.currentTarget.blur(),o.preventDefault()},onChange:o=>{i(o.target.valueAsNumber)},id:n})})},tB="rovingFocusGroup.onEntryFocus",lTt={bubbles:!1,cancelable:!0},Hne="RovingFocusGroup",[XY,VIe,cTt]=I_(Hne),[uTt,X_]=ro(Hne,[cTt]),[fTt,dTt]=uTt(Hne),hTt=O.forwardRef((e,t)=>O.createElement(XY.Provider,{scope:e.__scopeRovingFocusGroup},O.createElement(XY.Slot,{scope:e.__scopeRovingFocusGroup},O.createElement(pTt,le({},e,{ref:t}))))),pTt=O.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,...u}=e,f=O.useRef(null),d=Xt(t,f),h=zb(o),[p=null,g]=Vo({prop:s,defaultProp:a,onChange:l}),[y,v]=O.useState(!1),x=_a(c),m=VIe(n),w=O.useRef(!1),[S,C]=O.useState(0);return O.useEffect(()=>{const $=f.current;if($)return $.addEventListener(tB,x),()=>$.removeEventListener(tB,x)},[x]),O.createElement(fTt,{scope:n,orientation:r,dir:h,loop:i,currentTabStopId:p,onItemFocus:O.useCallback($=>g($),[g]),onItemShiftTab:O.useCallback(()=>v(!0),[]),onFocusableItemAdd:O.useCallback(()=>C($=>$+1),[]),onFocusableItemRemove:O.useCallback(()=>C($=>$-1),[])},O.createElement(Ot.div,le({tabIndex:y||S===0?-1:0,"data-orientation":r},u,{ref:d,style:{outline:"none",...e.style},onMouseDown:qe(e.onMouseDown,()=>{w.current=!0}),onFocus:qe(e.onFocus,$=>{const E=!w.current;if($.target===$.currentTarget&&E&&!y){const R=new CustomEvent(tB,lTt);if($.currentTarget.dispatchEvent(R),!R.defaultPrevented){const N=m().filter(D=>D.focusable),I=N.find(D=>D.active),j=N.find(D=>D.id===p),T=[I,j,...N].filter(Boolean).map(D=>D.ref.current);UIe(T)}}w.current=!1}),onBlur:qe(e.onBlur,()=>v(!1))})))}),gTt="RovingFocusGroupItem",mTt=O.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,...s}=e,a=Rl(),l=o||a,c=dTt(gTt,n),u=c.currentTabStopId===l,f=VIe(n),{onFocusableItemAdd:d,onFocusableItemRemove:h}=c;return O.useEffect(()=>{if(r)return d(),()=>h()},[r,d,h]),O.createElement(XY.ItemSlot,{scope:n,id:l,focusable:r,active:i},O.createElement(Ot.span,le({tabIndex:u?0:-1,"data-orientation":c.orientation},s,{ref:t,onMouseDown:qe(e.onMouseDown,p=>{r?c.onItemFocus(l):p.preventDefault()}),onFocus:qe(e.onFocus,()=>c.onItemFocus(l)),onKeyDown:qe(e.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){c.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const g=bTt(p,c.orientation,c.dir);if(g!==void 0){p.preventDefault();let v=f().filter(x=>x.focusable).map(x=>x.ref.current);if(g==="last")v.reverse();else if(g==="prev"||g==="next"){g==="prev"&&v.reverse();const x=v.indexOf(p.currentTarget);v=c.loop?OTt(v,x+1):v.slice(x+1)}setTimeout(()=>UIe(v))}})})))}),yTt={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function vTt(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function bTt(e,t,n){const r=vTt(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return yTt[r]}function UIe(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function OTt(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const Zne=hTt,Gne=mTt,qIe="Radio",[xTt,YIe]=ro(qIe),[wTt,STt]=xTt(qIe),_Tt=O.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:o,disabled:s,value:a="on",onCheck:l,...c}=e,[u,f]=O.useState(null),d=Xt(t,g=>f(g)),h=O.useRef(!1),p=u?!!u.closest("form"):!0;return O.createElement(wTt,{scope:n,checked:i,disabled:s},O.createElement(Ot.button,le({type:"button",role:"radio","aria-checked":i,"data-state":XIe(i),"data-disabled":s?"":void 0,disabled:s,value:a},c,{ref:d,onClick:qe(e.onClick,g=>{i||l==null||l(),p&&(h.current=g.isPropagationStopped(),h.current||g.stopPropagation())})})),p&&O.createElement(ETt,{control:u,bubbles:!h.current,name:r,value:a,checked:i,required:o,disabled:s,style:{transform:"translateX(-100%)"}}))}),CTt="RadioIndicator",$Tt=O.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...i}=e,o=STt(CTt,n);return O.createElement(zs,{present:r||o.checked},O.createElement(Ot.span,le({"data-state":XIe(o.checked),"data-disabled":o.disabled?"":void 0},i,{ref:t})))}),ETt=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,o=O.useRef(null),s=XP(n),a=qP(t);return O.useEffect(()=>{const l=o.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(s!==n&&f){const d=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(d)}},[s,n,r]),O.createElement("input",le({type:"radio","aria-hidden":!0,defaultChecked:n},i,{tabIndex:-1,ref:o,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function XIe(e){return e?"checked":"unchecked"}const kTt=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],HIe="RadioGroup",[TTt,hQn]=ro(HIe,[X_,YIe]),ZIe=X_(),GIe=YIe(),[PTt,RTt]=TTt(HIe),ATt=O.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:o,required:s=!1,disabled:a=!1,orientation:l,dir:c,loop:u=!0,onValueChange:f,...d}=e,h=ZIe(n),p=zb(c),[g,y]=Vo({prop:o,defaultProp:i,onChange:f});return O.createElement(PTt,{scope:n,name:r,required:s,disabled:a,value:g,onValueChange:y},O.createElement(Zne,le({asChild:!0},h,{orientation:l,dir:p,loop:u}),O.createElement(Ot.div,le({role:"radiogroup","aria-required":s,"aria-orientation":l,"data-disabled":a?"":void 0,dir:p},d,{ref:t}))))}),DTt="RadioGroupItem",NTt=O.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...i}=e,o=RTt(DTt,n),s=o.disabled||r,a=ZIe(n),l=GIe(n),c=O.useRef(null),u=Xt(t,c),f=o.value===i.value,d=O.useRef(!1);return O.useEffect(()=>{const h=g=>{kTt.includes(g.key)&&(d.current=!0)},p=()=>d.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",p),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",p)}},[]),O.createElement(Gne,le({asChild:!0},a,{focusable:!s,active:f}),O.createElement(_Tt,le({disabled:s,required:o.required,checked:f},l,i,{name:o.name,ref:u,onCheck:()=>o.onValueChange(i.value),onKeyDown:qe(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:qe(i.onFocus,()=>{var h;d.current&&((h=c.current)===null||h===void 0||h.click())})})))}),MTt=O.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,i=GIe(n);return O.createElement($Tt,le({},i,r,{ref:t}))}),KIe=ATt,JIe=NTt,ITt=MTt,Kne=O.forwardRef(({className:e,...t},n)=>b.jsx(KIe,{className:ve("grid gap-2",e),...t,ref:n}));Kne.displayName=KIe.displayName;const Jne=O.forwardRef(({className:e,children:t,...n},r)=>b.jsx(JIe,{ref:r,className:ve("h-[16px] w-[16px] transition-shadow data-[state=unchecked]:shadow-xsSolid rounded-full border border-input text-primary ring-offset-background focus:outline-none focus:shadow-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:border-primary data-[state=checked]:shadow-none",e),...n,children:b.jsx(ITt,{className:"flex items-center justify-center",children:b.jsx(U5,{className:"h-[10px] w-[10px] fill-primary text-current"})})}));Jne.displayName=JIe.displayName;class LTt{constructor(){be(this,"tagName","marimo-radio");be(this,"validator",H.object({initialValue:H.string().nullable(),inline:H.boolean().default(!1),label:H.string().nullable(),options:H.array(H.string())}))}render(t){return b.jsx(jTt,{...t.data,value:t.value,setValue:t.setValue})}}const jTt=e=>{const t=O.useId();return b.jsx(Hl,{label:e.label,id:t,align:e.inline?"left":"top",children:b.jsx(Kne,{value:e.value??"",onValueChange:e.setValue,className:ve(e.inline&&"grid-flow-col gap-4"),"aria-label":"Radio Group",children:e.options.map((n,r)=>b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsx(Jne,{value:n,id:`${t}-${r.toString()}`}),b.jsx(Ua,{htmlFor:`${t}-${r.toString()}`,className:N_("text-md",n===e.value?"font-semibold":""),children:n})]},r))})})};function e3(e,[t,n]){return Math.min(n,Math.max(t,e))}const e5e=["PageUp","PageDown"],t5e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],n5e={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},rR="Slider",[HY,FTt,zTt]=I_(rR),[r5e,pQn]=ro(rR,[zTt]),[QTt,k6]=r5e(rR),BTt=O.forwardRef((e,t)=>{const{name:n,min:r=0,max:i=100,step:o=1,orientation:s="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:u,onValueChange:f=()=>{},onValueCommit:d=()=>{},inverted:h=!1,...p}=e,[g,y]=O.useState(null),v=Xt(t,T=>y(T)),x=O.useRef(new Set),m=O.useRef(0),w=s==="horizontal",S=g?!!g.closest("form"):!0,C=w?WTt:VTt,[$=[],E]=Vo({prop:u,defaultProp:c,onChange:T=>{var D;(D=[...x.current][m.current])===null||D===void 0||D.focus(),f(T)}}),R=O.useRef($);function N(T){const D=JTt($,T);A(T,D)}function I(T){A(T,m.current)}function j(){const T=R.current[m.current];$[m.current]!==T&&d($)}function A(T,D,{commit:L}={commit:!1}){const W=r2t(o),V=i2t(Math.round((T-r)/o)*o+r,W),Q=e3(V,[r,i]);E((B=[])=>{const Y=GTt(B,Q,D);if(n2t(Y,l*o)){m.current=Y.indexOf(Q);const U=String(Y)!==String(B);return U&&L&&d(Y),U?Y:B}else return B})}return O.createElement(QTt,{scope:e.__scopeSlider,disabled:a,min:r,max:i,valueIndexToChangeRef:m,thumbs:x.current,values:$,orientation:s},O.createElement(HY.Provider,{scope:e.__scopeSlider},O.createElement(HY.Slot,{scope:e.__scopeSlider},O.createElement(C,le({"aria-disabled":a,"data-disabled":a?"":void 0},p,{ref:v,onPointerDown:qe(p.onPointerDown,()=>{a||(R.current=$)}),min:r,max:i,inverted:h,onSlideStart:a?void 0:N,onSlideMove:a?void 0:I,onSlideEnd:a?void 0:j,onHomeKeyDown:()=>!a&&A(r,0,{commit:!0}),onEndKeyDown:()=>!a&&A(i,$.length-1,{commit:!0}),onStepKeyDown:({event:T,direction:D})=>{if(!a){const V=e5e.includes(T.key)||T.shiftKey&&t5e.includes(T.key)?10:1,Q=m.current,B=$[Q],Y=o*V*D;A(B+Y,Q,{commit:!0})}}})))),S&&$.map((T,D)=>O.createElement(ZTt,{key:D,name:n?n+($.length>1?"[]":""):void 0,value:T})))}),[i5e,o5e]=r5e(rR,{startEdge:"left",endEdge:"right",size:"width",direction:1}),WTt=O.forwardRef((e,t)=>{const{min:n,max:r,dir:i,inverted:o,onSlideStart:s,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...u}=e,[f,d]=O.useState(null),h=Xt(t,m=>d(m)),p=O.useRef(),g=zb(i),y=g==="ltr",v=y&&!o||!y&&o;function x(m){const w=p.current||f.getBoundingClientRect(),S=[0,w.width],$=ere(S,v?[n,r]:[r,n]);return p.current=w,$(m-w.left)}return O.createElement(i5e,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width"},O.createElement(s5e,le({dir:g,"data-orientation":"horizontal"},u,{ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:m=>{const w=x(m.clientX);s==null||s(w)},onSlideMove:m=>{const w=x(m.clientX);a==null||a(w)},onSlideEnd:()=>{p.current=void 0,l==null||l()},onStepKeyDown:m=>{const S=n5e[v?"from-left":"from-right"].includes(m.key);c==null||c({event:m,direction:S?-1:1})}})))}),VTt=O.forwardRef((e,t)=>{const{min:n,max:r,inverted:i,onSlideStart:o,onSlideMove:s,onSlideEnd:a,onStepKeyDown:l,...c}=e,u=O.useRef(null),f=Xt(t,u),d=O.useRef(),h=!i;function p(g){const y=d.current||u.current.getBoundingClientRect(),v=[0,y.height],m=ere(v,h?[r,n]:[n,r]);return d.current=y,m(g-y.top)}return O.createElement(i5e,{scope:e.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1},O.createElement(s5e,le({"data-orientation":"vertical"},c,{ref:f,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const y=p(g.clientY);o==null||o(y)},onSlideMove:g=>{const y=p(g.clientY);s==null||s(y)},onSlideEnd:()=>{d.current=void 0,a==null||a()},onStepKeyDown:g=>{const v=n5e[h?"from-bottom":"from-top"].includes(g.key);l==null||l({event:g,direction:v?-1:1})}})))}),s5e=O.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:o,onHomeKeyDown:s,onEndKeyDown:a,onStepKeyDown:l,...c}=e,u=k6(rR,n);return O.createElement(Ot.span,le({},c,{ref:t,onKeyDown:qe(e.onKeyDown,f=>{f.key==="Home"?(s(f),f.preventDefault()):f.key==="End"?(a(f),f.preventDefault()):e5e.concat(t5e).includes(f.key)&&(l(f),f.preventDefault())}),onPointerDown:qe(e.onPointerDown,f=>{const d=f.target;d.setPointerCapture(f.pointerId),f.preventDefault(),u.thumbs.has(d)?d.focus():r(f)}),onPointerMove:qe(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&i(f)}),onPointerUp:qe(e.onPointerUp,f=>{const d=f.target;d.hasPointerCapture(f.pointerId)&&(d.releasePointerCapture(f.pointerId),o(f))})}))}),UTt="SliderTrack",qTt=O.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=k6(UTt,n);return O.createElement(Ot.span,le({"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation},r,{ref:t}))}),kye="SliderRange",YTt=O.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=k6(kye,n),o=o5e(kye,n),s=O.useRef(null),a=Xt(t,s),l=i.values.length,c=i.values.map(d=>a5e(d,i.min,i.max)),u=l>1?Math.min(...c):0,f=100-Math.max(...c);return O.createElement(Ot.span,le({"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0},r,{ref:a,style:{...e.style,[o.startEdge]:u+"%",[o.endEdge]:f+"%"}}))}),Tye="SliderThumb",XTt=O.forwardRef((e,t)=>{const n=FTt(e.__scopeSlider),[r,i]=O.useState(null),o=Xt(t,a=>i(a)),s=O.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return O.createElement(HTt,le({},e,{ref:o,index:s}))}),HTt=O.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,...i}=e,o=k6(Tye,n),s=o5e(Tye,n),[a,l]=O.useState(null),c=Xt(t,y=>l(y)),u=qP(a),f=o.values[r],d=f===void 0?0:a5e(f,o.min,o.max),h=KTt(r,o.values.length),p=u==null?void 0:u[s.size],g=p?e2t(p,d,s.direction):0;return O.useEffect(()=>{if(a)return o.thumbs.add(a),()=>{o.thumbs.delete(a)}},[a,o.thumbs]),O.createElement("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[s.startEdge]:`calc(${d}% + ${g}px)`}},O.createElement(HY.ItemSlot,{scope:e.__scopeSlider},O.createElement(Ot.span,le({role:"slider","aria-label":e["aria-label"]||h,"aria-valuemin":o.min,"aria-valuenow":f,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0},i,{ref:c,style:f===void 0?{display:"none"}:e.style,onFocus:qe(e.onFocus,()=>{o.valueIndexToChangeRef.current=r})}))))}),ZTt=e=>{const{value:t,...n}=e,r=O.useRef(null),i=XP(t);return O.useEffect(()=>{const o=r.current,s=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(s,"value").set;if(i!==t&&l){const c=new Event("input",{bubbles:!0});l.call(o,t),o.dispatchEvent(c)}},[i,t]),O.createElement("input",le({style:{display:"none"}},n,{ref:r,defaultValue:t}))};function GTt(e=[],t,n){const r=[...e];return r[n]=t,r.sort((i,o)=>i-o)}function a5e(e,t,n){const o=100/(n-t)*(e-t);return e3(o,[0,100])}function KTt(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function JTt(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),r=Math.min(...n);return n.indexOf(r)}function e2t(e,t,n){const r=e/2,o=ere([0,50],[0,r]);return(r-o(t)*n)*n}function t2t(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function n2t(e,t){if(t>0){const n=t2t(e);return Math.min(...n)>=t}return!0}function ere(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function r2t(e){return(String(e).split(".")[1]||"").length}function i2t(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}const l5e=BTt,o2t=qTt,s2t=YTt,a2t=XTt;function l2t(e){const[t,n]=O.useState(e);return[t,{setTrue:O.useCallback(r=>{var i;(i=r==null?void 0:r.stopPropagation)==null||i.call(r),n(!0)},[]),setFalse:O.useCallback(r=>{var i;(i=r==null?void 0:r.stopPropagation)==null||i.call(r),n(!1)},[]),toggle:O.useCallback(r=>{var i;(i=r==null?void 0:r.stopPropagation)==null||i.call(r),n(o=>!o)},[])}]}const c5e=O.forwardRef(({className:e,...t},n)=>{const[r,i]=l2t(!1);return b.jsxs(l5e,{ref:n,className:ve("relative flex w-full touch-none select-none items-center hover:cursor-pointer",e),...t,children:[b.jsx(o2t,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-slate-200 dark:bg-accent/60",children:b.jsx(s2t,{className:"absolute h-full bg-blue-500 dark:bg-primary"})}),b.jsx(Q_,{children:b.jsxs(nne,{delayDuration:0,open:r,children:[b.jsx(rne,{asChild:!0,children:b.jsx(a2t,{className:"block h-4 w-4 rounded-full shadow-xsSolid border border-blue-500 dark:border-primary dark:bg-accent bg-white hover:bg-blue-300 focus:bg-blue-300 transition-colors focus-visible:outline-none disabled:pointer-events-none disabled:opacity-50",onFocus:i.setTrue,onBlur:i.setFalse,onMouseEnter:i.setTrue,onMouseLeave:i.setFalse})}),b.jsx(gNe,{children:t.value!=null&&t.value.length===1&&b.jsx(UT,{children:t.value[0]},t.value[0])})]})})]})});c5e.displayName=l5e.displayName;class c2t{constructor(){be(this,"tagName","marimo-slider");be(this,"validator",H.object({initialValue:H.number(),label:H.string().nullable(),start:H.number(),stop:H.number(),step:H.number().optional(),debounce:H.boolean().default(!1)}))}render(t){return b.jsx(u2t,{...t.data,value:t.value,setValue:t.setValue})}}const u2t=({label:e,setValue:t,value:n,start:r,stop:i,step:o,debounce:s})=>{const a=O.useId(),[l,c]=O.useState(n);return O.useEffect(()=>{c(n)},[n]),b.jsx(Hl,{label:e,id:a,children:b.jsx(c5e,{id:a,className:"relative flex items-center select-none w-36",value:[l],min:r,max:i,step:o,onValueChange:([u])=>{c(u),s||t(u)},onValueCommit:([u])=>{s&&t(u)}})})},u5e="Switch",[f2t,gQn]=ro(u5e),[d2t,h2t]=f2t(u5e),p2t=O.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:l="on",onCheckedChange:c,...u}=e,[f,d]=O.useState(null),h=Xt(t,x=>d(x)),p=O.useRef(!1),g=f?!!f.closest("form"):!0,[y=!1,v]=Vo({prop:i,defaultProp:o,onChange:c});return O.createElement(d2t,{scope:n,checked:y,disabled:a},O.createElement(Ot.button,le({type:"button",role:"switch","aria-checked":y,"aria-required":s,"data-state":f5e(y),"data-disabled":a?"":void 0,disabled:a,value:l},u,{ref:h,onClick:qe(e.onClick,x=>{v(m=>!m),g&&(p.current=x.isPropagationStopped(),p.current||x.stopPropagation())})})),g&&O.createElement(y2t,{control:f,bubbles:!p.current,name:r,value:l,checked:y,required:s,disabled:a,style:{transform:"translateX(-100%)"}}))}),g2t="SwitchThumb",m2t=O.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=h2t(g2t,n);return O.createElement(Ot.span,le({"data-state":f5e(i.checked),"data-disabled":i.disabled?"":void 0},r,{ref:t}))}),y2t=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,o=O.useRef(null),s=XP(n),a=qP(t);return O.useEffect(()=>{const l=o.current,c=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(c,"checked").set;if(s!==n&&f){const d=new Event("click",{bubbles:r});f.call(l,n),l.dispatchEvent(d)}},[s,n,r]),O.createElement("input",le({type:"checkbox","aria-hidden":!0,defaultChecked:n},i,{tabIndex:-1,ref:o,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function f5e(e){return e?"checked":"unchecked"}const d5e=p2t,v2t=m2t,b2t=Oo("peer inline-flex shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",{variants:{size:{default:"h-[1.5rem] w-[2.75rem] mb-1",sm:"h-[1.125rem] w-[2.125rem]"}},defaultVariants:{size:"default"}}),O2t=Oo("pointer-events-none block rounded-full bg-background shadow-xs ring-0 transition-transform",{variants:{size:{default:"h-5 w-5 data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0",sm:"h-3.5 w-3.5 data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0"}},defaultVariants:{size:"default"}}),Uy=O.forwardRef(({className:e,size:t,...n},r)=>b.jsx(d5e,{className:ve(b2t({size:t}),e),...n,ref:r,children:b.jsx(v2t,{className:ve(O2t({size:t}))})}));Uy.displayName=d5e.displayName;class x2t{constructor(){be(this,"tagName","marimo-switch");be(this,"validator",H.object({initialValue:H.boolean(),label:H.string().nullable()}))}render(t){return b.jsx(w2t,{...t})}}const w2t=({value:e,setValue:t,data:n})=>{const r=O.useId();return b.jsx(Hl,{label:n.label,align:"right",id:r,labelClassName:"ml-1",children:b.jsx(Uy,{checked:e,onCheckedChange:t,id:r,className:"data-[state=unchecked]:hover:bg-input/80 mb-0"})})};class S2t{constructor(){be(this,"tagName","marimo-text");be(this,"validator",H.object({initialValue:H.string(),placeholder:H.string(),label:H.string().nullable(),kind:H.enum(["text","password","email","url"]).default("text"),maxLength:H.number().optional(),minLength:H.number().optional(),fullWidth:H.boolean().default(!1),disabled:H.boolean().optional()}))}render(t){return b.jsx(_2t,{...t.data,value:t.value,setValue:t.setValue})}}const _2t=e=>{const[t,n]=O.useState(e.value),r=t??e.value,i=C2t(e.kind,r),o={text:null,password:b.jsx(kNe,{size:16}),email:b.jsx(zvt,{size:16}),url:b.jsx(u1t,{size:16})},s=e.maxLength?b.jsxs("span",{className:"text-muted-foreground text-xs font-medium",children:[e.value.length,"/",e.maxLength]}):null;return b.jsx(Hl,{label:e.label,fullWidth:e.fullWidth,children:b.jsx(Ns,{type:e.kind,icon:o[e.kind],placeholder:e.placeholder,maxLength:e.maxLength,minLength:e.minLength,required:e.minLength!=null&&e.minLength>0,disabled:e.disabled,className:ve({"border-destructive":!i,"w-full":e.fullWidth}),endAdornment:s,value:e.value,onInput:a=>e.setValue(a.currentTarget.value),onBlur:a=>n(a.currentTarget.value)})})};function C2t(e,t){if(!t)return!0;switch(e){case"email":return H.string().email().safeParse(t).success;case"url":return H.string().url().safeParse(t).success;default:return!0}}const T6=O.forwardRef(({className:e,bottomAdornment:t,...n},r)=>b.jsxs("div",{className:"relative",children:[b.jsx("textarea",{className:ve("shadow-xsSolid hover:shadow-smSolid disabled:shadow-xsSolid focus-visible:shadow-mdSolid","flex w-full mb-1 rounded-sm border border-input bg-background px-3 py-2 text-sm font-code ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:border-accent disabled:cursor-not-allowed disabled:opacity-50 min-h-[1.5rem]",e),onClick:fg.stopPropagation(),ref:r,...n}),t&&b.jsx("div",{className:"absolute right-0 bottom-1 flex items-center pr-[6px] pointer-events-none text-muted-foreground h-6",children:t})]}));T6.displayName="Textarea";class $2t{constructor(){be(this,"tagName","marimo-text-area");be(this,"validator",H.object({initialValue:H.string(),placeholder:H.string(),label:H.string().nullable(),maxLength:H.number().optional(),minLength:H.number().optional(),disabled:H.boolean().optional(),rows:H.number().default(4),fullWidth:H.boolean().default(!1)}))}render(t){return b.jsx(E2t,{...t.data,value:t.value,setValue:t.setValue})}}const E2t=e=>{const t=e.maxLength?b.jsxs("span",{className:"text-muted-foreground text-xs font-medium",children:[e.value.length,"/",e.maxLength]}):null;return b.jsx(Hl,{label:e.label,align:"top",fullWidth:e.fullWidth,children:b.jsx(T6,{className:ve("font-code",{"w-full":e.fullWidth}),rows:e.rows,cols:33,maxLength:e.maxLength,minLength:e.minLength,required:e.minLength!=null&&e.minLength>0,disabled:e.disabled,bottomAdornment:t,value:e.value,onInput:n=>e.setValue(n.target.value),placeholder:e.placeholder})})};/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function zm(e,t){return typeof e=="function"?e(t):e}function Ic(e,t){return n=>{t.setState(r=>({...r,[e]:zm(n,r[e])}))}}function t3(e){return e instanceof Function}function k2t(e){return Array.isArray(e)&&e.every(t=>typeof t=="number")}function T2t(e,t){const n=[],r=i=>{i.forEach(o=>{n.push(o);const s=t(o);s!=null&&s.length&&r(s)})};return r(e),n}function Zt(e,t,n){let r=[],i;return()=>{let o;n.key&&n.debug&&(o=Date.now());const s=e();if(!(s.length!==r.length||s.some((c,u)=>r[u]!==c)))return i;r=s;let l;if(n.key&&n.debug&&(l=Date.now()),i=t(...s),n==null||n.onChange==null||n.onChange(i),n.key&&n.debug&&n!=null&&n.debug()){const c=Math.round((Date.now()-o)*100)/100,u=Math.round((Date.now()-l)*100)/100,f=u/16,d=(h,p)=>{for(h=String(h);h.length<p;)h=" "+h;return h};console.info(`%c ${d(u,5)} /${d(c,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*f,120))}deg 100% 31%);`,n==null?void 0:n.key)}return i}}function P2t(e,t,n,r){var i,o;const a={...e._getDefaultColumnDef(),...t},l=a.accessorKey;let c=(i=(o=a.id)!=null?o:l?l.replace(".","_"):void 0)!=null?i:typeof a.header=="string"?a.header:void 0,u;if(a.accessorFn?u=a.accessorFn:l&&(l.includes(".")?u=d=>{let h=d;for(const g of l.split(".")){var p;h=(p=h)==null?void 0:p[g]}return h}:u=d=>d[a.accessorKey]),!c)throw new Error;let f={id:`${String(c)}`,accessorFn:u,parent:r,depth:n,columnDef:a,columns:[],getFlatColumns:Zt(()=>[!0],()=>{var d;return[f,...(d=f.columns)==null?void 0:d.flatMap(h=>h.getFlatColumns())]},{key:"column.getFlatColumns",debug:()=>{var d;return(d=e.options.debugAll)!=null?d:e.options.debugColumns}}),getLeafColumns:Zt(()=>[e._getOrderColumnsFn()],d=>{var h;if((h=f.columns)!=null&&h.length){let p=f.columns.flatMap(g=>g.getLeafColumns());return d(p)}return[f]},{key:"column.getLeafColumns",debug:()=>{var d;return(d=e.options.debugAll)!=null?d:e.options.debugColumns}})};for(const d of e._features)d.createColumn==null||d.createColumn(f,e);return f}function Pye(e,t,n){var r;let o={id:(r=n.id)!=null?r:t.id,column:t,index:n.index,isPlaceholder:!!n.isPlaceholder,placeholderId:n.placeholderId,depth:n.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const s=[],a=l=>{l.subHeaders&&l.subHeaders.length&&l.subHeaders.map(a),s.push(l)};return a(o),s},getContext:()=>({table:e,header:o,column:t})};return e._features.forEach(s=>{s.createHeader==null||s.createHeader(o,e)}),o}const R2t={createTable:e=>{e.getHeaderGroups=Zt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>{var o,s;const a=(o=r==null?void 0:r.map(f=>n.find(d=>d.id===f)).filter(Boolean))!=null?o:[],l=(s=i==null?void 0:i.map(f=>n.find(d=>d.id===f)).filter(Boolean))!=null?s:[],c=n.filter(f=>!(r!=null&&r.includes(f.id))&&!(i!=null&&i.includes(f.id)));return xD(t,[...a,...c,...l],e)},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getCenterHeaderGroups=Zt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r,i)=>(n=n.filter(o=>!(r!=null&&r.includes(o.id))&&!(i!=null&&i.includes(o.id))),xD(t,n,e,"center")),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getLeftHeaderGroups=Zt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(t,n,r)=>{var i;const o=(i=r==null?void 0:r.map(s=>n.find(a=>a.id===s)).filter(Boolean))!=null?i:[];return xD(t,o,e,"left")},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getRightHeaderGroups=Zt(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(t,n,r)=>{var i;const o=(i=r==null?void 0:r.map(s=>n.find(a=>a.id===s)).filter(Boolean))!=null?i:[];return xD(t,o,e,"right")},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getFooterGroups=Zt(()=>[e.getHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getLeftFooterGroups=Zt(()=>[e.getLeftHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getCenterFooterGroups=Zt(()=>[e.getCenterHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getRightFooterGroups=Zt(()=>[e.getRightHeaderGroups()],t=>[...t].reverse(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getFlatHeaders=Zt(()=>[e.getHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getLeftFlatHeaders=Zt(()=>[e.getLeftHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getCenterFlatHeaders=Zt(()=>[e.getCenterHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getRightFlatHeaders=Zt(()=>[e.getRightHeaderGroups()],t=>t.map(n=>n.headers).flat(),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getCenterLeafHeaders=Zt(()=>[e.getCenterFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getLeftLeafHeaders=Zt(()=>[e.getLeftFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getRightLeafHeaders=Zt(()=>[e.getRightFlatHeaders()],t=>t.filter(n=>{var r;return!((r=n.subHeaders)!=null&&r.length)}),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}}),e.getLeafHeaders=Zt(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(t,n,r)=>{var i,o,s,a,l,c;return[...(i=(o=t[0])==null?void 0:o.headers)!=null?i:[],...(s=(a=n[0])==null?void 0:a.headers)!=null?s:[],...(l=(c=r[0])==null?void 0:c.headers)!=null?l:[]].map(u=>u.getLeafHeaders()).flat()},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugHeaders}})}};function xD(e,t,n,r){var i,o;let s=0;const a=function(d,h){h===void 0&&(h=1),s=Math.max(s,h),d.filter(p=>p.getIsVisible()).forEach(p=>{var g;(g=p.columns)!=null&&g.length&&a(p.columns,h+1)},0)};a(e);let l=[];const c=(d,h)=>{const p={depth:h,id:[r,`${h}`].filter(Boolean).join("_"),headers:[]},g=[];d.forEach(y=>{const v=[...g].reverse()[0],x=y.column.depth===p.depth;let m,w=!1;if(x&&y.column.parent?m=y.column.parent:(m=y.column,w=!0),v&&(v==null?void 0:v.column)===m)v.subHeaders.push(y);else{const S=Pye(n,m,{id:[r,h,m.id,y==null?void 0:y.id].filter(Boolean).join("_"),isPlaceholder:w,placeholderId:w?`${g.filter(C=>C.column===m).length}`:void 0,depth:h,index:g.length});S.subHeaders.push(y),g.push(S)}p.headers.push(y),y.headerGroup=p}),l.push(p),h>0&&c(g,h-1)},u=t.map((d,h)=>Pye(n,d,{depth:s,index:h}));c(u,s-1),l.reverse();const f=d=>d.filter(p=>p.column.getIsVisible()).map(p=>{let g=0,y=0,v=[0];p.subHeaders&&p.subHeaders.length?(v=[],f(p.subHeaders).forEach(m=>{let{colSpan:w,rowSpan:S}=m;g+=w,v.push(S)})):g=1;const x=Math.min(...v);return y=y+x,p.colSpan=g,p.rowSpan=y,{colSpan:g,rowSpan:y}});return f((i=(o=l[0])==null?void 0:o.headers)!=null?i:[]),l}const wD={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},nB=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),A2t={getDefaultColumnDef:()=>wD,getInitialState:e=>({columnSizing:{},columnSizingInfo:nB(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:Ic("columnSizing",e),onColumnSizingInfoChange:Ic("columnSizingInfo",e)}),createColumn:(e,t)=>{e.getSize=()=>{var n,r,i;const o=t.getState().columnSizing[e.id];return Math.min(Math.max((n=e.columnDef.minSize)!=null?n:wD.minSize,(r=o??e.columnDef.size)!=null?r:wD.size),(i=e.columnDef.maxSize)!=null?i:wD.maxSize)},e.getStart=n=>{const r=n?n==="left"?t.getLeftVisibleLeafColumns():t.getRightVisibleLeafColumns():t.getVisibleLeafColumns(),i=r.findIndex(o=>o.id===e.id);if(i>0){const o=r[i-1];return o.getStart(n)+o.getSize()}return 0},e.resetSize=()=>{t.setColumnSizing(n=>{let{[e.id]:r,...i}=n;return i})},e.getCanResize=()=>{var n,r;return((n=e.columnDef.enableResizing)!=null?n:!0)&&((r=t.options.enableColumnResizing)!=null?r:!0)},e.getIsResizing=()=>t.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,t)=>{e.getSize=()=>{let n=0;const r=i=>{if(i.subHeaders.length)i.subHeaders.forEach(r);else{var o;n+=(o=i.column.getSize())!=null?o:0}};return r(e),n},e.getStart=()=>{if(e.index>0){const n=e.headerGroup.headers[e.index-1];return n.getStart()+n.getSize()}return 0},e.getResizeHandler=n=>{const r=t.getColumn(e.column.id),i=r==null?void 0:r.getCanResize();return o=>{if(!r||!i||(o.persist==null||o.persist(),rB(o)&&o.touches&&o.touches.length>1))return;const s=e.getSize(),a=e?e.getLeafHeaders().map(v=>[v.column.id,v.column.getSize()]):[[r.id,r.getSize()]],l=rB(o)?Math.round(o.touches[0].clientX):o.clientX,c={},u=(v,x)=>{typeof x=="number"&&(t.setColumnSizingInfo(m=>{var w,S;const C=t.options.columnResizeDirection==="rtl"?-1:1,$=(x-((w=m==null?void 0:m.startOffset)!=null?w:0))*C,E=Math.max($/((S=m==null?void 0:m.startSize)!=null?S:0),-.999999);return m.columnSizingStart.forEach(R=>{let[N,I]=R;c[N]=Math.round(Math.max(I+I*E,0)*100)/100}),{...m,deltaOffset:$,deltaPercentage:E}}),(t.options.columnResizeMode==="onChange"||v==="end")&&t.setColumnSizing(m=>({...m,...c})))},f=v=>u("move",v),d=v=>{u("end",v),t.setColumnSizingInfo(x=>({...x,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},h=n||typeof document<"u"?document:null,p={moveHandler:v=>f(v.clientX),upHandler:v=>{h==null||h.removeEventListener("mousemove",p.moveHandler),h==null||h.removeEventListener("mouseup",p.upHandler),d(v.clientX)}},g={moveHandler:v=>(v.cancelable&&(v.preventDefault(),v.stopPropagation()),f(v.touches[0].clientX),!1),upHandler:v=>{var x;h==null||h.removeEventListener("touchmove",g.moveHandler),h==null||h.removeEventListener("touchend",g.upHandler),v.cancelable&&(v.preventDefault(),v.stopPropagation()),d((x=v.touches[0])==null?void 0:x.clientX)}},y=D2t()?{passive:!1}:!1;rB(o)?(h==null||h.addEventListener("touchmove",g.moveHandler,y),h==null||h.addEventListener("touchend",g.upHandler,y)):(h==null||h.addEventListener("mousemove",p.moveHandler,y),h==null||h.addEventListener("mouseup",p.upHandler,y)),t.setColumnSizingInfo(v=>({...v,startOffset:l,startSize:s,deltaOffset:0,deltaPercentage:0,columnSizingStart:a,isResizingColumn:r.id}))}}},createTable:e=>{e.setColumnSizing=t=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(t),e.setColumnSizingInfo=t=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(t),e.resetColumnSizing=t=>{var n;e.setColumnSizing(t?{}:(n=e.initialState.columnSizing)!=null?n:{})},e.resetHeaderSizeInfo=t=>{var n;e.setColumnSizingInfo(t?nB():(n=e.initialState.columnSizingInfo)!=null?n:nB())},e.getTotalSize=()=>{var t,n;return(t=(n=e.getHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getLeftTotalSize=()=>{var t,n;return(t=(n=e.getLeftHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getCenterTotalSize=()=>{var t,n;return(t=(n=e.getCenterHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0},e.getRightTotalSize=()=>{var t,n;return(t=(n=e.getRightHeaderGroups()[0])==null?void 0:n.headers.reduce((r,i)=>r+i.getSize(),0))!=null?t:0}}};let SD=null;function D2t(){if(typeof SD=="boolean")return SD;let e=!1;try{const t={get passive(){return e=!0,!1}},n=()=>{};window.addEventListener("test",n,t),window.removeEventListener("test",n)}catch{e=!1}return SD=e,SD}function rB(e){return e.type==="touchstart"}const N2t={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:Ic("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let t=!1,n=!1;e._autoResetExpanded=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetExpanded)!=null?r:!e.options.manualExpanding){if(n)return;n=!0,e._queue(()=>{e.resetExpanded(),n=!1})}},e.setExpanded=r=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(r),e.toggleAllRowsExpanded=r=>{r??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=r=>{var i,o;e.setExpanded(r?{}:(i=(o=e.initialState)==null?void 0:o.expanded)!=null?i:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(r=>r.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>r=>{r.persist==null||r.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const r=e.getState().expanded;return r===!0||Object.values(r).some(Boolean)},e.getIsAllRowsExpanded=()=>{const r=e.getState().expanded;return typeof r=="boolean"?r===!0:!(!Object.keys(r).length||e.getRowModel().flatRows.some(i=>!i.getIsExpanded()))},e.getExpandedDepth=()=>{let r=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(o=>{const s=o.split(".");r=Math.max(r,s.length)}),r},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,t)=>{e.toggleExpanded=n=>{t.setExpanded(r=>{var i;const o=r===!0?!0:!!(r!=null&&r[e.id]);let s={};if(r===!0?Object.keys(t.getRowModel().rowsById).forEach(a=>{s[a]=!0}):s=r,n=(i=n)!=null?i:!o,!o&&n)return{...s,[e.id]:!0};if(o&&!n){const{[e.id]:a,...l}=s;return l}return r})},e.getIsExpanded=()=>{var n;const r=t.getState().expanded;return!!((n=t.options.getIsRowExpanded==null?void 0:t.options.getIsRowExpanded(e))!=null?n:r===!0||r!=null&&r[e.id])},e.getCanExpand=()=>{var n,r,i;return(n=t.options.getRowCanExpand==null?void 0:t.options.getRowCanExpand(e))!=null?n:((r=t.options.enableExpanding)!=null?r:!0)&&!!((i=e.subRows)!=null&&i.length)},e.getIsAllParentsExpanded=()=>{let n=!0,r=e;for(;n&&r.parentId;)r=t.getRow(r.parentId,!0),n=r.getIsExpanded();return n},e.getToggleExpandedHandler=()=>{const n=e.getCanExpand();return()=>{n&&e.toggleExpanded()}}}},h5e=(e,t,n)=>{var r;const i=n.toLowerCase();return!!(!((r=e.getValue(t))==null||(r=r.toString())==null||(r=r.toLowerCase())==null)&&r.includes(i))};h5e.autoRemove=e=>jf(e);const p5e=(e,t,n)=>{var r;return!!(!((r=e.getValue(t))==null||(r=r.toString())==null)&&r.includes(n))};p5e.autoRemove=e=>jf(e);const g5e=(e,t,n)=>{var r;return((r=e.getValue(t))==null||(r=r.toString())==null?void 0:r.toLowerCase())===(n==null?void 0:n.toLowerCase())};g5e.autoRemove=e=>jf(e);const m5e=(e,t,n)=>{var r;return(r=e.getValue(t))==null?void 0:r.includes(n)};m5e.autoRemove=e=>jf(e)||!(e!=null&&e.length);const y5e=(e,t,n)=>!n.some(r=>{var i;return!((i=e.getValue(t))!=null&&i.includes(r))});y5e.autoRemove=e=>jf(e)||!(e!=null&&e.length);const v5e=(e,t,n)=>n.some(r=>{var i;return(i=e.getValue(t))==null?void 0:i.includes(r)});v5e.autoRemove=e=>jf(e)||!(e!=null&&e.length);const b5e=(e,t,n)=>e.getValue(t)===n;b5e.autoRemove=e=>jf(e);const O5e=(e,t,n)=>e.getValue(t)==n;O5e.autoRemove=e=>jf(e);const tre=(e,t,n)=>{let[r,i]=n;const o=e.getValue(t);return o>=r&&o<=i};tre.resolveFilterValue=e=>{let[t,n]=e,r=typeof t!="number"?parseFloat(t):t,i=typeof n!="number"?parseFloat(n):n,o=t===null||Number.isNaN(r)?-1/0:r,s=n===null||Number.isNaN(i)?1/0:i;if(o>s){const a=o;o=s,s=a}return[o,s]};tre.autoRemove=e=>jf(e)||jf(e[0])&&jf(e[1]);const cp={includesString:h5e,includesStringSensitive:p5e,equalsString:g5e,arrIncludes:m5e,arrIncludesAll:y5e,arrIncludesSome:v5e,equals:b5e,weakEquals:O5e,inNumberRange:tre};function jf(e){return e==null||e===""}const M2t={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],globalFilter:void 0,...e}),getDefaultOptions:e=>({onColumnFiltersChange:Ic("columnFilters",e),onGlobalFilterChange:Ic("globalFilter",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100,globalFilterFn:"auto",getColumnCanGlobalFilter:t=>{var n;const r=(n=e.getCoreRowModel().flatRows[0])==null||(n=n._getAllCellsByColumnId()[t.id])==null?void 0:n.getValue();return typeof r=="string"||typeof r=="number"}}),createColumn:(e,t)=>{e.getAutoFilterFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);return typeof r=="string"?cp.includesString:typeof r=="number"?cp.inNumberRange:typeof r=="boolean"||r!==null&&typeof r=="object"?cp.equals:Array.isArray(r)?cp.arrIncludes:cp.weakEquals},e.getFilterFn=()=>{var n,r;return t3(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(n=(r=t.options.filterFns)==null?void 0:r[e.columnDef.filterFn])!=null?n:cp[e.columnDef.filterFn]},e.getCanFilter=()=>{var n,r,i;return((n=e.columnDef.enableColumnFilter)!=null?n:!0)&&((r=t.options.enableColumnFilters)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&!!e.accessorFn},e.getCanGlobalFilter=()=>{var n,r,i,o;return((n=e.columnDef.enableGlobalFilter)!=null?n:!0)&&((r=t.options.enableGlobalFilter)!=null?r:!0)&&((i=t.options.enableFilters)!=null?i:!0)&&((o=t.options.getColumnCanGlobalFilter==null?void 0:t.options.getColumnCanGlobalFilter(e))!=null?o:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var n;return(n=t.getState().columnFilters)==null||(n=n.find(r=>r.id===e.id))==null?void 0:n.value},e.getFilterIndex=()=>{var n,r;return(n=(r=t.getState().columnFilters)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.setFilterValue=n=>{t.setColumnFilters(r=>{const i=e.getFilterFn(),o=r==null?void 0:r.find(u=>u.id===e.id),s=zm(n,o?o.value:void 0);if(Rye(i,s,e)){var a;return(a=r==null?void 0:r.filter(u=>u.id!==e.id))!=null?a:[]}const l={id:e.id,value:s};if(o){var c;return(c=r==null?void 0:r.map(u=>u.id===e.id?l:u))!=null?c:[]}return r!=null&&r.length?[...r,l]:[l]})},e._getFacetedRowModel=t.options.getFacetedRowModel&&t.options.getFacetedRowModel(t,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():t.getPreFilteredRowModel(),e._getFacetedUniqueValues=t.options.getFacetedUniqueValues&&t.options.getFacetedUniqueValues(t,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=t.options.getFacetedMinMaxValues&&t.options.getFacetedMinMaxValues(t,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}},createRow:(e,t)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.getGlobalAutoFilterFn=()=>cp.includesString,e.getGlobalFilterFn=()=>{var t,n;const{globalFilterFn:r}=e.options;return t3(r)?r:r==="auto"?e.getGlobalAutoFilterFn():(t=(n=e.options.filterFns)==null?void 0:n[r])!=null?t:cp[r]},e.setColumnFilters=t=>{const n=e.getAllLeafColumns(),r=i=>{var o;return(o=zm(t,i))==null?void 0:o.filter(s=>{const a=n.find(l=>l.id===s.id);if(a){const l=a.getFilterFn();if(Rye(l,s.value,a))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(r)},e.setGlobalFilter=t=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(t)},e.resetGlobalFilter=t=>{e.setGlobalFilter(t?void 0:e.initialState.globalFilter)},e.resetColumnFilters=t=>{var n,r;e.setColumnFilters(t?[]:(n=(r=e.initialState)==null?void 0:r.columnFilters)!=null?n:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel()),e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}};function Rye(e,t,n){return(e&&e.autoRemove?e.autoRemove(t,n):!1)||typeof t>"u"||typeof t=="string"&&!t}const I2t=(e,t,n)=>n.reduce((r,i)=>{const o=i.getValue(e);return r+(typeof o=="number"?o:0)},0),L2t=(e,t,n)=>{let r;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r>o||r===void 0&&o>=o)&&(r=o)}),r},j2t=(e,t,n)=>{let r;return n.forEach(i=>{const o=i.getValue(e);o!=null&&(r<o||r===void 0&&o>=o)&&(r=o)}),r},F2t=(e,t,n)=>{let r,i;return n.forEach(o=>{const s=o.getValue(e);s!=null&&(r===void 0?s>=s&&(r=i=s):(r>s&&(r=s),i<s&&(i=s)))}),[r,i]},z2t=(e,t)=>{let n=0,r=0;if(t.forEach(i=>{let o=i.getValue(e);o!=null&&(o=+o)>=o&&(++n,r+=o)}),n)return r/n},Q2t=(e,t)=>{if(!t.length)return;const n=t.map(o=>o.getValue(e));if(!k2t(n))return;if(n.length===1)return n[0];const r=Math.floor(n.length/2),i=n.sort((o,s)=>o-s);return n.length%2!==0?i[r]:(i[r-1]+i[r])/2},B2t=(e,t)=>Array.from(new Set(t.map(n=>n.getValue(e))).values()),W2t=(e,t)=>new Set(t.map(n=>n.getValue(e))).size,V2t=(e,t)=>t.length,iB={sum:I2t,min:L2t,max:j2t,extent:F2t,mean:z2t,median:Q2t,unique:B2t,uniqueCount:W2t,count:V2t},U2t={getDefaultColumnDef:()=>({aggregatedCell:e=>{var t,n;return(t=(n=e.getValue())==null||n.toString==null?void 0:n.toString())!=null?t:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:Ic("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,t)=>{e.toggleGrouping=()=>{t.setGrouping(n=>n!=null&&n.includes(e.id)?n.filter(r=>r!==e.id):[...n??[],e.id])},e.getCanGroup=()=>{var n,r,i,o;return(n=(r=(i=(o=e.columnDef.enableGrouping)!=null?o:!0)!=null?i:t.options.enableGrouping)!=null?r:!0)!=null?n:!!e.accessorFn},e.getIsGrouped=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.includes(e.id)},e.getGroupedIndex=()=>{var n;return(n=t.getState().grouping)==null?void 0:n.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const n=e.getCanGroup();return()=>{n&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const n=t.getCoreRowModel().flatRows[0],r=n==null?void 0:n.getValue(e.id);if(typeof r=="number")return iB.sum;if(Object.prototype.toString.call(r)==="[object Date]")return iB.extent},e.getAggregationFn=()=>{var n,r;if(!e)throw new Error;return t3(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(n=(r=t.options.aggregationFns)==null?void 0:r[e.columnDef.aggregationFn])!=null?n:iB[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=t=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(t),e.resetGrouping=t=>{var n,r;e.setGrouping(t?[]:(n=(r=e.initialState)==null?void 0:r.grouping)!=null?n:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,t)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=n=>{if(e._groupingValuesCache.hasOwnProperty(n))return e._groupingValuesCache[n];const r=t.getColumn(n);return r!=null&&r.columnDef.getGroupingValue?(e._groupingValuesCache[n]=r.columnDef.getGroupingValue(e.original),e._groupingValuesCache[n]):e.getValue(n)},e._groupingValuesCache={}},createCell:(e,t,n,r)=>{e.getIsGrouped=()=>t.getIsGrouped()&&t.id===n.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&t.getIsGrouped(),e.getIsAggregated=()=>{var i;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((i=n.subRows)!=null&&i.length)}}};function q2t(e,t,n){if(!(t!=null&&t.length)||!n)return e;const r=e.filter(o=>!t.includes(o.id));return n==="remove"?r:[...t.map(o=>e.find(s=>s.id===o)).filter(Boolean),...r]}const Y2t={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:Ic("columnOrder",e)}),createTable:e=>{e.setColumnOrder=t=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(t),e.resetColumnOrder=t=>{var n;e.setColumnOrder(t?[]:(n=e.initialState.columnOrder)!=null?n:[])},e._getOrderColumnsFn=Zt(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(t,n,r)=>i=>{let o=[];if(!(t!=null&&t.length))o=i;else{const s=[...t],a=[...i];for(;a.length&&s.length;){const l=s.shift(),c=a.findIndex(u=>u.id===l);c>-1&&o.push(a.splice(c,1)[0])}o=[...o,...a]}return q2t(o,n,r)},{key:!1})}},ZY=0,GY=10,oB=()=>({pageIndex:ZY,pageSize:GY}),X2t={getInitialState:e=>({...e,pagination:{...oB(),...e==null?void 0:e.pagination}}),getDefaultOptions:e=>({onPaginationChange:Ic("pagination",e)}),createTable:e=>{let t=!1,n=!1;e._autoResetPageIndex=()=>{var r,i;if(!t){e._queue(()=>{t=!0});return}if((r=(i=e.options.autoResetAll)!=null?i:e.options.autoResetPageIndex)!=null?r:!e.options.manualPagination){if(n)return;n=!0,e._queue(()=>{e.resetPageIndex(),n=!1})}},e.setPagination=r=>{const i=o=>zm(r,o);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(i)},e.resetPagination=r=>{var i;e.setPagination(r?oB():(i=e.initialState.pagination)!=null?i:oB())},e.setPageIndex=r=>{e.setPagination(i=>{let o=zm(r,i.pageIndex);const s=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return o=Math.max(0,Math.min(o,s)),{...i,pageIndex:o}})},e.resetPageIndex=r=>{var i,o;e.setPageIndex(r?ZY:(i=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageIndex)!=null?i:ZY)},e.resetPageSize=r=>{var i,o;e.setPageSize(r?GY:(i=(o=e.initialState)==null||(o=o.pagination)==null?void 0:o.pageSize)!=null?i:GY)},e.setPageSize=r=>{e.setPagination(i=>{const o=Math.max(1,zm(r,i.pageSize)),s=i.pageSize*i.pageIndex,a=Math.floor(s/o);return{...i,pageIndex:a,pageSize:o}})},e.setPageCount=r=>e.setPagination(i=>{var o;let s=zm(r,(o=e.options.pageCount)!=null?o:-1);return typeof s=="number"&&(s=Math.max(-1,s)),{...i,pageCount:s}}),e.getPageOptions=Zt(()=>[e.getPageCount()],r=>{let i=[];return r&&r>0&&(i=[...new Array(r)].fill(null).map((o,s)=>s)),i},{key:!1,debug:()=>{var r;return(r=e.options.debugAll)!=null?r:e.options.debugTable}}),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:r}=e.getState().pagination,i=e.getPageCount();return i===-1?!0:i===0?!1:r<i-1},e.previousPage=()=>e.setPageIndex(r=>r-1),e.nextPage=()=>e.setPageIndex(r=>r+1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var r;return(r=e.options.pageCount)!=null?r:Math.ceil(e.getPrePaginationRowModel().rows.length/e.getState().pagination.pageSize)}}},sB=()=>({left:[],right:[]}),aB=()=>({top:[],bottom:[]}),H2t={getInitialState:e=>({columnPinning:sB(),rowPinning:aB(),...e}),getDefaultOptions:e=>({onColumnPinningChange:Ic("columnPinning",e),onRowPinningChange:Ic("rowPinning",e)}),createColumn:(e,t)=>{e.pin=n=>{const r=e.getLeafColumns().map(i=>i.id).filter(Boolean);t.setColumnPinning(i=>{var o,s;if(n==="right"){var a,l;return{left:((a=i==null?void 0:i.left)!=null?a:[]).filter(f=>!(r!=null&&r.includes(f))),right:[...((l=i==null?void 0:i.right)!=null?l:[]).filter(f=>!(r!=null&&r.includes(f))),...r]}}if(n==="left"){var c,u;return{left:[...((c=i==null?void 0:i.left)!=null?c:[]).filter(f=>!(r!=null&&r.includes(f))),...r],right:((u=i==null?void 0:i.right)!=null?u:[]).filter(f=>!(r!=null&&r.includes(f)))}}return{left:((o=i==null?void 0:i.left)!=null?o:[]).filter(f=>!(r!=null&&r.includes(f))),right:((s=i==null?void 0:i.right)!=null?s:[]).filter(f=>!(r!=null&&r.includes(f)))}})},e.getCanPin=()=>e.getLeafColumns().some(r=>{var i,o,s;return((i=r.columnDef.enablePinning)!=null?i:!0)&&((o=(s=t.options.enableColumnPinning)!=null?s:t.options.enablePinning)!=null?o:!0)}),e.getIsPinned=()=>{const n=e.getLeafColumns().map(a=>a.id),{left:r,right:i}=t.getState().columnPinning,o=n.some(a=>r==null?void 0:r.includes(a)),s=n.some(a=>i==null?void 0:i.includes(a));return o?"left":s?"right":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();return i?(n=(r=t.getState().columnPinning)==null||(r=r[i])==null?void 0:r.indexOf(e.id))!=null?n:-1:0}},createRow:(e,t)=>{e.pin=(n,r,i)=>{const o=r?e.getLeafRows().map(l=>{let{id:c}=l;return c}):[],s=i?e.getParentRows().map(l=>{let{id:c}=l;return c}):[],a=new Set([...s,e.id,...o]);t.setRowPinning(l=>{var c,u;if(n==="bottom"){var f,d;return{top:((f=l==null?void 0:l.top)!=null?f:[]).filter(g=>!(a!=null&&a.has(g))),bottom:[...((d=l==null?void 0:l.bottom)!=null?d:[]).filter(g=>!(a!=null&&a.has(g))),...Array.from(a)]}}if(n==="top"){var h,p;return{top:[...((h=l==null?void 0:l.top)!=null?h:[]).filter(g=>!(a!=null&&a.has(g))),...Array.from(a)],bottom:((p=l==null?void 0:l.bottom)!=null?p:[]).filter(g=>!(a!=null&&a.has(g)))}}return{top:((c=l==null?void 0:l.top)!=null?c:[]).filter(g=>!(a!=null&&a.has(g))),bottom:((u=l==null?void 0:l.bottom)!=null?u:[]).filter(g=>!(a!=null&&a.has(g)))}})},e.getCanPin=()=>{var n;const{enableRowPinning:r,enablePinning:i}=t.options;return typeof r=="function"?r(e):(n=r??i)!=null?n:!0},e.getIsPinned=()=>{const n=[e.id],{top:r,bottom:i}=t.getState().rowPinning,o=n.some(a=>r==null?void 0:r.includes(a)),s=n.some(a=>i==null?void 0:i.includes(a));return o?"top":s?"bottom":!1},e.getPinnedIndex=()=>{var n,r;const i=e.getIsPinned();if(!i)return-1;const o=(n=t._getPinnedRows(i))==null?void 0:n.map(s=>{let{id:a}=s;return a});return(r=o==null?void 0:o.indexOf(e.id))!=null?r:-1},e.getCenterVisibleCells=Zt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,t.getState().columnPinning.right],(n,r,i)=>{const o=[...r??[],...i??[]];return n.filter(s=>!o.includes(s.column.id))},{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}}),e.getLeftVisibleCells=Zt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.left,,],(n,r)=>(r??[]).map(o=>n.find(s=>s.column.id===o)).filter(Boolean).map(o=>({...o,position:"left"})),{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}}),e.getRightVisibleCells=Zt(()=>[e._getAllVisibleCells(),t.getState().columnPinning.right],(n,r)=>(r??[]).map(o=>n.find(s=>s.column.id===o)).filter(Boolean).map(o=>({...o,position:"right"})),{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}})},createTable:e=>{e.setColumnPinning=t=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(t),e.resetColumnPinning=t=>{var n,r;return e.setColumnPinning(t?sB():(n=(r=e.initialState)==null?void 0:r.columnPinning)!=null?n:sB())},e.getIsSomeColumnsPinned=t=>{var n;const r=e.getState().columnPinning;if(!t){var i,o;return!!((i=r.left)!=null&&i.length||(o=r.right)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e.getLeftLeafColumns=Zt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugColumns}}),e.getRightLeafColumns=Zt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(t,n)=>(n??[]).map(r=>t.find(i=>i.id===r)).filter(Boolean),{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugColumns}}),e.getCenterLeafColumns=Zt(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(t,n,r)=>{const i=[...n??[],...r??[]];return t.filter(o=>!i.includes(o.id))},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugColumns}}),e.setRowPinning=t=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(t),e.resetRowPinning=t=>{var n,r;return e.setRowPinning(t?aB():(n=(r=e.initialState)==null?void 0:r.rowPinning)!=null?n:aB())},e.getIsSomeRowsPinned=t=>{var n;const r=e.getState().rowPinning;if(!t){var i,o;return!!((i=r.top)!=null&&i.length||(o=r.bottom)!=null&&o.length)}return!!((n=r[t])!=null&&n.length)},e._getPinnedRows=t=>Zt(()=>[e.getRowModel().rows,e.getState().rowPinning[t]],(n,r)=>{var i;return((i=e.options.keepPinnedRows)==null||i?(r??[]).map(s=>{const a=e.getRow(s,!0);return a.getIsAllParentsExpanded()?a:null}):(r??[]).map(s=>n.find(a=>a.id===s))).filter(Boolean).map(s=>({...s,position:t}))},{key:!1,debug:()=>{var n;return(n=e.options.debugAll)!=null?n:e.options.debugRows}})(),e.getTopRows=()=>e._getPinnedRows("top"),e.getBottomRows=()=>e._getPinnedRows("bottom"),e.getCenterRows=Zt(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(t,n,r)=>{const i=new Set([...n??[],...r??[]]);return t.filter(o=>!i.has(o.id))},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugRows}})}},Z2t={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:Ic("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=t=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(t),e.resetRowSelection=t=>{var n;return e.setRowSelection(t?{}:(n=e.initialState.rowSelection)!=null?n:{})},e.toggleAllRowsSelected=t=>{e.setRowSelection(n=>{t=typeof t<"u"?t:!e.getIsAllRowsSelected();const r={...n},i=e.getPreGroupedRowModel().flatRows;return t?i.forEach(o=>{o.getCanSelect()&&(r[o.id]=!0)}):i.forEach(o=>{delete r[o.id]}),r})},e.toggleAllPageRowsSelected=t=>e.setRowSelection(n=>{const r=typeof t<"u"?t:!e.getIsAllPageRowsSelected(),i={...n};return e.getRowModel().rows.forEach(o=>{KY(i,o.id,r,!0,e)}),i}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=Zt(()=>[e.getState().rowSelection,e.getCoreRowModel()],(t,n)=>Object.keys(t).length?lB(e,n):{rows:[],flatRows:[],rowsById:{}},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable}}),e.getFilteredSelectedRowModel=Zt(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(t,n)=>Object.keys(t).length?lB(e,n):{rows:[],flatRows:[],rowsById:{}},{key:"getFilteredSelectedRowModel",debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable}}),e.getGroupedSelectedRowModel=Zt(()=>[e.getState().rowSelection,e.getSortedRowModel()],(t,n)=>Object.keys(t).length?lB(e,n):{rows:[],flatRows:[],rowsById:{}},{key:"getGroupedSelectedRowModel",debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable}}),e.getIsAllRowsSelected=()=>{const t=e.getFilteredRowModel().flatRows,{rowSelection:n}=e.getState();let r=!!(t.length&&Object.keys(n).length);return r&&t.some(i=>i.getCanSelect()&&!n[i.id])&&(r=!1),r},e.getIsAllPageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows.filter(i=>i.getCanSelect()),{rowSelection:n}=e.getState();let r=!!t.length;return r&&t.some(i=>!n[i.id])&&(r=!1),r},e.getIsSomeRowsSelected=()=>{var t;const n=Object.keys((t=e.getState().rowSelection)!=null?t:{}).length;return n>0&&n<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const t=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:t.filter(n=>n.getCanSelect()).some(n=>n.getIsSelected()||n.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>t=>{e.toggleAllRowsSelected(t.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>t=>{e.toggleAllPageRowsSelected(t.target.checked)}},createRow:(e,t)=>{e.toggleSelected=(n,r)=>{const i=e.getIsSelected();t.setRowSelection(o=>{var s;if(n=typeof n<"u"?n:!i,e.getCanSelect()&&i===n)return o;const a={...o};return KY(a,e.id,n,(s=r==null?void 0:r.selectChildren)!=null?s:!0,t),a})},e.getIsSelected=()=>{const{rowSelection:n}=t.getState();return nre(e,n)},e.getIsSomeSelected=()=>{const{rowSelection:n}=t.getState();return JY(e,n)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:n}=t.getState();return JY(e,n)==="all"},e.getCanSelect=()=>{var n;return typeof t.options.enableRowSelection=="function"?t.options.enableRowSelection(e):(n=t.options.enableRowSelection)!=null?n:!0},e.getCanSelectSubRows=()=>{var n;return typeof t.options.enableSubRowSelection=="function"?t.options.enableSubRowSelection(e):(n=t.options.enableSubRowSelection)!=null?n:!0},e.getCanMultiSelect=()=>{var n;return typeof t.options.enableMultiRowSelection=="function"?t.options.enableMultiRowSelection(e):(n=t.options.enableMultiRowSelection)!=null?n:!0},e.getToggleSelectedHandler=()=>{const n=e.getCanSelect();return r=>{var i;n&&e.toggleSelected((i=r.target)==null?void 0:i.checked)}}}},KY=(e,t,n,r,i)=>{var o;const s=i.getRow(t,!0);n?(s.getCanMultiSelect()||Object.keys(e).forEach(a=>delete e[a]),s.getCanSelect()&&(e[t]=!0)):delete e[t],r&&(o=s.subRows)!=null&&o.length&&s.getCanSelectSubRows()&&s.subRows.forEach(a=>KY(e,a.id,n,r,i))};function lB(e,t){const n=e.getState().rowSelection,r=[],i={},o=function(s,a){return s.map(l=>{var c;const u=nre(l,n);if(u&&(r.push(l),i[l.id]=l),(c=l.subRows)!=null&&c.length&&(l={...l,subRows:o(l.subRows)}),u)return l}).filter(Boolean)};return{rows:o(t.rows),flatRows:r,rowsById:i}}function nre(e,t){var n;return(n=t[e.id])!=null?n:!1}function JY(e,t,n){var r;if(!((r=e.subRows)!=null&&r.length))return!1;let i=!0,o=!1;return e.subRows.forEach(s=>{if(!(o&&!i)&&(s.getCanSelect()&&(nre(s,t)?o=!0:i=!1),s.subRows&&s.subRows.length)){const a=JY(s,t);a==="all"?o=!0:(a==="some"&&(o=!0),i=!1)}}),i?"all":o?"some":!1}const eX=/([0-9]+)/gm,G2t=(e,t,n)=>x5e(qy(e.getValue(n)).toLowerCase(),qy(t.getValue(n)).toLowerCase()),K2t=(e,t,n)=>x5e(qy(e.getValue(n)),qy(t.getValue(n))),J2t=(e,t,n)=>rre(qy(e.getValue(n)).toLowerCase(),qy(t.getValue(n)).toLowerCase()),ePt=(e,t,n)=>rre(qy(e.getValue(n)),qy(t.getValue(n))),tPt=(e,t,n)=>{const r=e.getValue(n),i=t.getValue(n);return r>i?1:r<i?-1:0},nPt=(e,t,n)=>rre(e.getValue(n),t.getValue(n));function rre(e,t){return e===t?0:e>t?1:-1}function qy(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function x5e(e,t){const n=e.split(eX).filter(Boolean),r=t.split(eX).filter(Boolean);for(;n.length&&r.length;){const i=n.shift(),o=r.shift(),s=parseInt(i,10),a=parseInt(o,10),l=[s,a].sort();if(isNaN(l[0])){if(i>o)return 1;if(o>i)return-1;continue}if(isNaN(l[1]))return isNaN(s)?-1:1;if(s>a)return 1;if(a>s)return-1}return n.length-r.length}const Dv={alphanumeric:G2t,alphanumericCaseSensitive:K2t,text:J2t,textCaseSensitive:ePt,datetime:tPt,basic:nPt},rPt={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:Ic("sorting",e),isMultiSortEvent:t=>t.shiftKey}),createColumn:(e,t)=>{e.getAutoSortingFn=()=>{const n=t.getFilteredRowModel().flatRows.slice(10);let r=!1;for(const i of n){const o=i==null?void 0:i.getValue(e.id);if(Object.prototype.toString.call(o)==="[object Date]")return Dv.datetime;if(typeof o=="string"&&(r=!0,o.split(eX).length>1))return Dv.alphanumeric}return r?Dv.text:Dv.basic},e.getAutoSortDir=()=>{const n=t.getFilteredRowModel().flatRows[0];return typeof(n==null?void 0:n.getValue(e.id))=="string"?"asc":"desc"},e.getSortingFn=()=>{var n,r;if(!e)throw new Error;return t3(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(n=(r=t.options.sortingFns)==null?void 0:r[e.columnDef.sortingFn])!=null?n:Dv[e.columnDef.sortingFn]},e.toggleSorting=(n,r)=>{const i=e.getNextSortingOrder(),o=typeof n<"u"&&n!==null;t.setSorting(s=>{const a=s==null?void 0:s.find(h=>h.id===e.id),l=s==null?void 0:s.findIndex(h=>h.id===e.id);let c=[],u,f=o?n:i==="desc";if(s!=null&&s.length&&e.getCanMultiSort()&&r?a?u="toggle":u="add":s!=null&&s.length&&l!==s.length-1?u="replace":a?u="toggle":u="replace",u==="toggle"&&(o||i||(u="remove")),u==="add"){var d;c=[...s,{id:e.id,desc:f}],c.splice(0,c.length-((d=t.options.maxMultiSortColCount)!=null?d:Number.MAX_SAFE_INTEGER))}else u==="toggle"?c=s.map(h=>h.id===e.id?{...h,desc:f}:h):u==="remove"?c=s.filter(h=>h.id!==e.id):c=[{id:e.id,desc:f}];return c})},e.getFirstSortDir=()=>{var n,r;return((n=(r=e.columnDef.sortDescFirst)!=null?r:t.options.sortDescFirst)!=null?n:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=n=>{var r,i;const o=e.getFirstSortDir(),s=e.getIsSorted();return s?s!==o&&((r=t.options.enableSortingRemoval)==null||r)&&(!(n&&(i=t.options.enableMultiRemove)!=null)||i)?!1:s==="desc"?"asc":"desc":o},e.getCanSort=()=>{var n,r;return((n=e.columnDef.enableSorting)!=null?n:!0)&&((r=t.options.enableSorting)!=null?r:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var n,r;return(n=(r=e.columnDef.enableMultiSort)!=null?r:t.options.enableMultiSort)!=null?n:!!e.accessorFn},e.getIsSorted=()=>{var n;const r=(n=t.getState().sorting)==null?void 0:n.find(i=>i.id===e.id);return r?r.desc?"desc":"asc":!1},e.getSortIndex=()=>{var n,r;return(n=(r=t.getState().sorting)==null?void 0:r.findIndex(i=>i.id===e.id))!=null?n:-1},e.clearSorting=()=>{t.setSorting(n=>n!=null&&n.length?n.filter(r=>r.id!==e.id):[])},e.getToggleSortingHandler=()=>{const n=e.getCanSort();return r=>{n&&(r.persist==null||r.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?t.options.isMultiSortEvent==null?void 0:t.options.isMultiSortEvent(r):!1))}}},createTable:e=>{e.setSorting=t=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(t),e.resetSorting=t=>{var n,r;e.setSorting(t?[]:(n=(r=e.initialState)==null?void 0:r.sorting)!=null?n:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},iPt={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:Ic("columnVisibility",e)}),createColumn:(e,t)=>{e.toggleVisibility=n=>{e.getCanHide()&&t.setColumnVisibility(r=>({...r,[e.id]:n??!e.getIsVisible()}))},e.getIsVisible=()=>{var n,r;return(n=(r=t.getState().columnVisibility)==null?void 0:r[e.id])!=null?n:!0},e.getCanHide=()=>{var n,r;return((n=e.columnDef.enableHiding)!=null?n:!0)&&((r=t.options.enableHiding)!=null?r:!0)},e.getToggleVisibilityHandler=()=>n=>{e.toggleVisibility==null||e.toggleVisibility(n.target.checked)}},createRow:(e,t)=>{e._getAllVisibleCells=Zt(()=>[e.getAllCells(),t.getState().columnVisibility],n=>n.filter(r=>r.column.getIsVisible()),{key:"row._getAllVisibleCells",debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}}),e.getVisibleCells=Zt(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(n,r,i)=>[...n,...r,...i],{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugRows}})},createTable:e=>{const t=(n,r)=>Zt(()=>[r(),r().filter(i=>i.getIsVisible()).map(i=>i.id).join("_")],i=>i.filter(o=>o.getIsVisible==null?void 0:o.getIsVisible()),{key:n,debug:()=>{var i;return(i=e.options.debugAll)!=null?i:e.options.debugColumns}});e.getVisibleFlatColumns=t("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=t("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=t("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=t("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=t("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=n=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(n),e.resetColumnVisibility=n=>{var r;e.setColumnVisibility(n?{}:(r=e.initialState.columnVisibility)!=null?r:{})},e.toggleAllColumnsVisible=n=>{var r;n=(r=n)!=null?r:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((i,o)=>({...i,[o.id]:n||!(o.getCanHide!=null&&o.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(n=>!(n.getIsVisible!=null&&n.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(n=>n.getIsVisible==null?void 0:n.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>n=>{var r;e.toggleAllColumnsVisible((r=n.target)==null?void 0:r.checked)}}},Aye=[R2t,iPt,Y2t,H2t,M2t,rPt,U2t,N2t,X2t,Z2t,A2t];function oPt(e){var t;(e.debugAll||e.debugTable)&&console.info("Creating Table Instance...");let n={_features:Aye};const r=n._features.reduce((u,f)=>Object.assign(u,f.getDefaultOptions==null?void 0:f.getDefaultOptions(n)),{}),i=u=>n.options.mergeOptions?n.options.mergeOptions(r,u):{...r,...u};let s={...{},...(t=e.initialState)!=null?t:{}};n._features.forEach(u=>{var f;s=(f=u.getInitialState==null?void 0:u.getInitialState(s))!=null?f:s});const a=[];let l=!1;const c={_features:Aye,options:{...r,...e},initialState:s,_queue:u=>{a.push(u),l||(l=!0,Promise.resolve().then(()=>{for(;a.length;)a.shift()();l=!1}).catch(f=>setTimeout(()=>{throw f})))},reset:()=>{n.setState(n.initialState)},setOptions:u=>{const f=zm(u,n.options);n.options=i(f)},getState:()=>n.options.state,setState:u=>{n.options.onStateChange==null||n.options.onStateChange(u)},_getRowId:(u,f,d)=>{var h;return(h=n.options.getRowId==null?void 0:n.options.getRowId(u,f,d))!=null?h:`${d?[d.id,f].join("."):f}`},getCoreRowModel:()=>(n._getCoreRowModel||(n._getCoreRowModel=n.options.getCoreRowModel(n)),n._getCoreRowModel()),getRowModel:()=>n.getPaginationRowModel(),getRow:(u,f)=>{let d=(f?n.getPrePaginationRowModel():n.getRowModel()).rowsById[u];if(!d&&(d=n.getCoreRowModel().rowsById[u],!d))throw new Error;return d},_getDefaultColumnDef:Zt(()=>[n.options.defaultColumn],u=>{var f;return u=(f=u)!=null?f:{},{header:d=>{const h=d.header.column.columnDef;return h.accessorKey?h.accessorKey:h.accessorFn?h.id:null},cell:d=>{var h,p;return(h=(p=d.renderValue())==null||p.toString==null?void 0:p.toString())!=null?h:null},...n._features.reduce((d,h)=>Object.assign(d,h.getDefaultColumnDef==null?void 0:h.getDefaultColumnDef()),{}),...u}},{debug:()=>{var u;return(u=n.options.debugAll)!=null?u:n.options.debugColumns},key:!1}),_getColumnDefs:()=>n.options.columns,getAllColumns:Zt(()=>[n._getColumnDefs()],u=>{const f=function(d,h,p){return p===void 0&&(p=0),d.map(g=>{const y=P2t(n,g,p,h),v=g;return y.columns=v.columns?f(v.columns,y,p+1):[],y})};return f(u)},{key:!1,debug:()=>{var u;return(u=n.options.debugAll)!=null?u:n.options.debugColumns}}),getAllFlatColumns:Zt(()=>[n.getAllColumns()],u=>u.flatMap(f=>f.getFlatColumns()),{key:!1,debug:()=>{var u;return(u=n.options.debugAll)!=null?u:n.options.debugColumns}}),_getAllFlatColumnsById:Zt(()=>[n.getAllFlatColumns()],u=>u.reduce((f,d)=>(f[d.id]=d,f),{}),{key:!1,debug:()=>{var u;return(u=n.options.debugAll)!=null?u:n.options.debugColumns}}),getAllLeafColumns:Zt(()=>[n.getAllColumns(),n._getOrderColumnsFn()],(u,f)=>{let d=u.flatMap(h=>h.getLeafColumns());return f(d)},{key:!1,debug:()=>{var u;return(u=n.options.debugAll)!=null?u:n.options.debugColumns}}),getColumn:u=>n._getAllFlatColumnsById()[u]};Object.assign(n,c);for(let u=0;u<n._features.length;u++){const f=n._features[u];f==null||f.createTable==null||f.createTable(n)}return n}function sPt(e,t,n,r){const i=()=>{var s;return(s=o.getValue())!=null?s:e.options.renderFallbackValue},o={id:`${t.id}_${n.id}`,row:t,column:n,getValue:()=>t.getValue(r),renderValue:i,getContext:Zt(()=>[e,n,t,o],(s,a,l,c)=>({table:s,column:a,row:l,cell:c,getValue:c.getValue,renderValue:c.renderValue}),{key:!1,debug:()=>e.options.debugAll})};return e._features.forEach(s=>{s.createCell==null||s.createCell(o,n,t,e)},{}),o}const aPt=(e,t,n,r,i,o,s)=>{let a={id:t,index:r,original:n,depth:i,parentId:s,_valuesCache:{},_uniqueValuesCache:{},getValue:l=>{if(a._valuesCache.hasOwnProperty(l))return a._valuesCache[l];const c=e.getColumn(l);if(c!=null&&c.accessorFn)return a._valuesCache[l]=c.accessorFn(a.original,r),a._valuesCache[l]},getUniqueValues:l=>{if(a._uniqueValuesCache.hasOwnProperty(l))return a._uniqueValuesCache[l];const c=e.getColumn(l);if(c!=null&&c.accessorFn)return c.columnDef.getUniqueValues?(a._uniqueValuesCache[l]=c.columnDef.getUniqueValues(a.original,r),a._uniqueValuesCache[l]):(a._uniqueValuesCache[l]=[a.getValue(l)],a._uniqueValuesCache[l])},renderValue:l=>{var c;return(c=a.getValue(l))!=null?c:e.options.renderFallbackValue},subRows:o??[],getLeafRows:()=>T2t(a.subRows,l=>l.subRows),getParentRow:()=>a.parentId?e.getRow(a.parentId,!0):void 0,getParentRows:()=>{let l=[],c=a;for(;;){const u=c.getParentRow();if(!u)break;l.push(u),c=u}return l.reverse()},getAllCells:Zt(()=>[e.getAllLeafColumns()],l=>l.map(c=>sPt(e,a,c,c.id)),{key:!1,debug:()=>{var l;return(l=e.options.debugAll)!=null?l:e.options.debugRows}}),_getAllCellsByColumnId:Zt(()=>[a.getAllCells()],l=>l.reduce((c,u)=>(c[u.column.id]=u,c),{}),{key:"row.getAllCellsByColumnId",debug:()=>{var l;return(l=e.options.debugAll)!=null?l:e.options.debugRows}})};for(let l=0;l<e._features.length;l++){const c=e._features[l];c==null||c.createRow==null||c.createRow(a,e)}return a};function w5e(){return e=>Zt(()=>[e.options.data],t=>{const n={rows:[],flatRows:[],rowsById:{}},r=function(i,o,s){o===void 0&&(o=0);const a=[];for(let c=0;c<i.length;c++){const u=aPt(e,e._getRowId(i[c],c,s),i[c],c,o,void 0,s==null?void 0:s.id);if(n.flatRows.push(u),n.rowsById[u.id]=u,a.push(u),e.options.getSubRows){var l;u.originalSubRows=e.options.getSubRows(i[c],c),(l=u.originalSubRows)!=null&&l.length&&(u.subRows=r(u.originalSubRows,o+1,u))}}return a};return n.rows=r(t),n},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}})}function S5e(){return e=>Zt(()=>[e.getState().sorting,e.getPreSortedRowModel()],(t,n)=>{if(!n.rows.length||!(t!=null&&t.length))return n;const r=e.getState().sorting,i=[],o=r.filter(l=>{var c;return(c=e.getColumn(l.id))==null?void 0:c.getCanSort()}),s={};o.forEach(l=>{const c=e.getColumn(l.id);c&&(s[l.id]={sortUndefined:c.columnDef.sortUndefined,invertSorting:c.columnDef.invertSorting,sortingFn:c.getSortingFn()})});const a=l=>{const c=l.map(u=>({...u}));return c.sort((u,f)=>{for(let h=0;h<o.length;h+=1){var d;const p=o[h],g=s[p.id],y=(d=p==null?void 0:p.desc)!=null?d:!1;let v=0;if(g.sortUndefined){const x=u.getValue(p.id),m=f.getValue(p.id),w=x===void 0,S=m===void 0;(w||S)&&(v=w&&S?0:w?g.sortUndefined:-g.sortUndefined)}if(v===0&&(v=g.sortingFn(u,f,p.id)),v!==0)return y&&(v*=-1),g.invertSorting&&(v*=-1),v}return u.index-f.index}),c.forEach(u=>{var f;i.push(u),(f=u.subRows)!=null&&f.length&&(u.subRows=a(u.subRows))}),c};return{rows:a(n.rows),flatRows:i,rowsById:n.rowsById}},{key:!1,debug:()=>{var t;return(t=e.options.debugAll)!=null?t:e.options.debugTable},onChange:()=>{e._autoResetPageIndex()}})}function lPt(e){const t=[],n=r=>{var i;t.push(r),(i=r.subRows)!=null&&i.length&&r.getIsExpanded()&&r.subRows.forEach(n)};return e.rows.forEach(n),{rows:t,flatRows:e.flatRows,rowsById:e.rowsById}}function cPt(e){return t=>Zt(()=>[t.getState().pagination,t.getPrePaginationRowModel(),t.options.paginateExpandedRows?void 0:t.getState().expanded],(n,r)=>{if(!r.rows.length)return r;const{pageSize:i,pageIndex:o}=n;let{rows:s,flatRows:a,rowsById:l}=r;const c=i*o,u=c+i;s=s.slice(c,u);let f;t.options.paginateExpandedRows?f={rows:s,flatRows:a,rowsById:l}:f=lPt({rows:s,flatRows:a,rowsById:l}),f.flatRows=[];const d=h=>{f.flatRows.push(h),h.subRows.length&&h.subRows.forEach(d)};return f.rows.forEach(d),f},{key:!1,debug:()=>{var n;return(n=t.options.debugAll)!=null?n:t.options.debugTable}})}/**
   * react-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function n3(e,t){return e?uPt(e)?O.createElement(e,t):e:null}function uPt(e){return fPt(e)||typeof e=="function"||dPt(e)}function fPt(e){return typeof e=="function"&&(()=>{const t=Object.getPrototypeOf(e);return t.prototype&&t.prototype.isReactComponent})()}function dPt(e){return typeof e=="object"&&typeof e.$$typeof=="symbol"&&["react.memo","react.forward_ref"].includes(e.$$typeof.description)}function _5e(e){const t={state:{},onStateChange:()=>{},renderFallbackValue:null,...e},[n]=O.useState(()=>({current:oPt(t)})),[r,i]=O.useState(()=>n.current.initialState);return n.current.setOptions(o=>({...o,...e,state:{...r,...e.state},onStateChange:s=>{i(s),e.onStateChange==null||e.onStateChange(s)}})),n.current}const ire=O.forwardRef(({className:e,...t},n)=>b.jsx("div",{className:"w-full overflow-auto flex-1",children:b.jsx("table",{ref:n,className:ve("w-full caption-bottom text-sm",e),...t})}));ire.displayName="Table";const ore=O.forwardRef(({className:e,...t},n)=>b.jsx("thead",{ref:n,className:ve("[&_tr]:border-b",e),...t}));ore.displayName="TableHeader";const sre=O.forwardRef(({className:e,...t},n)=>b.jsx("tbody",{ref:n,className:ve("[&_tr:last-child]:border-0",e),...t}));sre.displayName="TableBody";const hPt=O.forwardRef(({className:e,...t},n)=>b.jsx("tfoot",{ref:n,className:ve("bg-primary font-medium text-primary-foreground",e),...t}));hPt.displayName="TableFooter";const Ow=O.forwardRef(({className:e,...t},n)=>b.jsx("tr",{ref:n,className:ve("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ow.displayName="TableRow";const are=O.forwardRef(({className:e,...t},n)=>b.jsx("th",{ref:n,className:ve("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));are.displayName="TableHead";const r3=O.forwardRef(({className:e,...t},n)=>b.jsx("td",{ref:n,className:ve("p-2 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));r3.displayName="TableCell";const pPt=O.forwardRef(({className:e,...t},n)=>b.jsx("caption",{ref:n,className:ve("mt-4 text-sm text-muted-foreground",e),...t}));pPt.displayName="TableCaption";const gPt=({table:e})=>{const t=()=>{const i=e.getSelectedRowModel().rows.length,o=e.getIsAllRowsSelected(),s=e.getIsAllPageRowsSelected(),a=e.getFilteredRowModel().rows.length;return s&&!o?b.jsxs("span",{children:[i," selected",b.jsxs(zt,{size:"xs",variant:"link",onClick:()=>e.toggleAllRowsSelected(!0),children:["Select all ",a]})]}):i?b.jsxs("span",{children:[i," selected",b.jsx(zt,{size:"xs",variant:"link",onClick:()=>e.toggleAllRowsSelected(!1),children:"Clear selection"})]}):`${a} items`},n=Math.min(e.getState().pagination.pageIndex+1,e.getPageCount()),r=e.getPageCount();return b.jsxs("div",{className:"flex flex-1 items-center justify-between px-2",children:[b.jsx("div",{className:"text-sm text-muted-foreground",children:t()}),b.jsxs("div",{className:"flex items-center space-x-2",children:[b.jsxs(zt,{size:"xs",variant:"outline",className:"hidden h-6 w-6 p-0 lg:flex",onClick:()=>e.setPageIndex(0),disabled:!e.getCanPreviousPage(),children:[b.jsx("span",{className:"sr-only",children:"Go to first page"}),b.jsx(Yvt,{className:"h-4 w-4"})]}),b.jsxs(zt,{size:"xs",variant:"outline",className:"h-6 w-6 p-0",onClick:()=>e.previousPage(),disabled:!e.getCanPreviousPage(),children:[b.jsx("span",{className:"sr-only",children:"Go to previous page"}),b.jsx(Vvt,{className:"h-4 w-4"})]}),b.jsxs("div",{className:"flex items-center justify-center text-xs font-medium gap-1",children:[b.jsx("span",{children:"Page"}),b.jsx("select",{className:"cursor-pointer border rounded",value:n,onChange:i=>e.setPageIndex(Number(i.target.value)-1),children:Array.from({length:r},(i,o)=>b.jsx("option",{value:o+1,children:o+1},o))}),b.jsxs("span",{className:"flex-shrink-0",children:["of ",mPt(r)]})]}),b.jsxs(zt,{size:"xs",variant:"outline",className:"h-6 w-6 p-0",onClick:()=>e.nextPage(),disabled:!e.getCanNextPage(),children:[b.jsx("span",{className:"sr-only",children:"Go to next page"}),b.jsx(one,{className:"h-4 w-4"})]}),b.jsxs(zt,{size:"xs",variant:"outline",className:"hidden h-6 w-6 p-0 lg:flex",onClick:()=>e.setPageIndex(e.getPageCount()-1),disabled:!e.getCanNextPage(),children:[b.jsx("span",{className:"sr-only",children:"Go to last page"}),b.jsx(Xvt,{className:"h-4 w-4"})]})]})]})};function mPt(e){return new Intl.NumberFormat().format(e)}const tX=["Enter"," "],yPt=["ArrowDown","PageUp","Home"],C5e=["ArrowUp","PageDown","End"],vPt=[...yPt,...C5e],bPt={ltr:[...tX,"ArrowRight"],rtl:[...tX,"ArrowLeft"]},OPt={ltr:["ArrowLeft"],rtl:["ArrowRight"]},P6="Menu",[t2,xPt,wPt]=I_(P6),[Yb,R6]=ro(P6,[wPt,k0,X_]),lre=k0(),$5e=X_(),[SPt,Xb]=Yb(P6),[_Pt,iR]=Yb(P6),CPt=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:o,modal:s=!0}=e,a=lre(t),[l,c]=O.useState(null),u=O.useRef(!1),f=_a(o),d=zb(i);return O.useEffect(()=>{const h=()=>{u.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>u.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),O.createElement(Y4,a,O.createElement(SPt,{scope:t,open:n,onOpenChange:f,content:l,onContentChange:c},O.createElement(_Pt,{scope:t,onClose:O.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:d,modal:s},r)))},E5e=O.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=lre(n);return O.createElement(X4,le({},i,r,{ref:t}))}),k5e="MenuPortal",[$Pt,T5e]=Yb(k5e,{forceMount:void 0}),EPt=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,o=Xb(k5e,t);return O.createElement($Pt,{scope:t,forceMount:n},O.createElement(zs,{present:n||o.open},O.createElement(z_,{asChild:!0,container:i},r)))},Ff="MenuContent",[kPt,cre]=Yb(Ff),TPt=O.forwardRef((e,t)=>{const n=T5e(Ff,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=Xb(Ff,e.__scopeMenu),s=iR(Ff,e.__scopeMenu);return O.createElement(t2.Provider,{scope:e.__scopeMenu},O.createElement(zs,{present:r||o.open},O.createElement(t2.Slot,{scope:e.__scopeMenu},s.modal?O.createElement(PPt,le({},i,{ref:t})):O.createElement(RPt,le({},i,{ref:t})))))}),PPt=O.forwardRef((e,t)=>{const n=Xb(Ff,e.__scopeMenu),r=O.useRef(null),i=Xt(t,r);return O.useEffect(()=>{const o=r.current;if(o)return GP(o)},[]),O.createElement(ure,le({},e,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:qe(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),RPt=O.forwardRef((e,t)=>{const n=Xb(Ff,e.__scopeMenu);return O.createElement(ure,le({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),ure=O.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:d,onDismiss:h,disableOutsideScroll:p,...g}=e,y=Xb(Ff,n),v=iR(Ff,n),x=lre(n),m=$5e(n),w=xPt(n),[S,C]=O.useState(null),$=O.useRef(null),E=Xt(t,$,y.onContentChange),R=O.useRef(0),N=O.useRef(""),I=O.useRef(0),j=O.useRef(null),A=O.useRef("right"),T=O.useRef(0),D=p?h6:O.Fragment,L=p?{as:qf,allowPinchZoom:!0}:void 0,W=Q=>{var B,Y;const U=N.current+Q,q=w().filter(ae=>!ae.disabled),Z=document.activeElement,oe=(B=q.find(ae=>ae.ref.current===Z))===null||B===void 0?void 0:B.textValue,ce=q.map(ae=>ae.textValue),re=XPt(ce,U,oe),fe=(Y=q.find(ae=>ae.textValue===re))===null||Y===void 0?void 0:Y.ref.current;(function ae(ue){N.current=ue,window.clearTimeout(R.current),ue!==""&&(R.current=window.setTimeout(()=>ae(""),1e3))})(U),fe&&setTimeout(()=>fe.focus())};O.useEffect(()=>()=>window.clearTimeout(R.current),[]),f6();const V=O.useCallback(Q=>{var B,Y;return A.current===((B=j.current)===null||B===void 0?void 0:B.side)&&ZPt(Q,(Y=j.current)===null||Y===void 0?void 0:Y.area)},[]);return O.createElement(kPt,{scope:n,searchRef:N,onItemEnter:O.useCallback(Q=>{V(Q)&&Q.preventDefault()},[V]),onItemLeave:O.useCallback(Q=>{var B;V(Q)||((B=$.current)===null||B===void 0||B.focus(),C(null))},[V]),onTriggerLeave:O.useCallback(Q=>{V(Q)&&Q.preventDefault()},[V]),pointerGraceTimerRef:I,onPointerGraceIntentChange:O.useCallback(Q=>{j.current=Q},[])},O.createElement(D,L,O.createElement(u6,{asChild:!0,trapped:i,onMountAutoFocus:qe(o,Q=>{var B;Q.preventDefault(),(B=$.current)===null||B===void 0||B.focus()}),onUnmountAutoFocus:s},O.createElement(j_,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:d,onDismiss:h},O.createElement(Zne,le({asChild:!0},m,{dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:C,onEntryFocus:qe(l,Q=>{v.isUsingKeyboardRef.current||Q.preventDefault()})}),O.createElement(H4,le({role:"menu","aria-orientation":"vertical","data-state":N5e(y.open),"data-radix-menu-content":"",dir:v.dir},x,g,{ref:E,style:{outline:"none",...g.style},onKeyDown:qe(g.onKeyDown,Q=>{const Y=Q.target.closest("[data-radix-menu-content]")===Q.currentTarget,U=Q.ctrlKey||Q.altKey||Q.metaKey,q=Q.key.length===1;Y&&(Q.key==="Tab"&&Q.preventDefault(),!U&&q&&W(Q.key));const Z=$.current;if(Q.target!==Z||!vPt.includes(Q.key))return;Q.preventDefault();const ce=w().filter(re=>!re.disabled).map(re=>re.ref.current);C5e.includes(Q.key)&&ce.reverse(),qPt(ce)}),onBlur:qe(e.onBlur,Q=>{Q.currentTarget.contains(Q.target)||(window.clearTimeout(R.current),N.current="")}),onPointerMove:qe(e.onPointerMove,n2(Q=>{const B=Q.target,Y=T.current!==Q.clientX;if(Q.currentTarget.contains(B)&&Y){const U=Q.clientX>T.current?"right":"left";A.current=U,T.current=Q.clientX}}))})))))))}),APt=O.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return O.createElement(Ot.div,le({role:"group"},r,{ref:t}))}),DPt=O.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return O.createElement(Ot.div,le({},r,{ref:t}))}),nX="MenuItem",Dye="menu.itemSelect",fre=O.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,o=O.useRef(null),s=iR(nX,e.__scopeMenu),a=cre(nX,e.__scopeMenu),l=Xt(t,o),c=O.useRef(!1),u=()=>{const f=o.current;if(!n&&f){const d=new CustomEvent(Dye,{bubbles:!0,cancelable:!0});f.addEventListener(Dye,h=>r==null?void 0:r(h),{once:!0}),tte(f,d),d.defaultPrevented?c.current=!1:s.onClose()}};return O.createElement(P5e,le({},i,{ref:l,disabled:n,onClick:qe(e.onClick,u),onPointerDown:f=>{var d;(d=e.onPointerDown)===null||d===void 0||d.call(e,f),c.current=!0},onPointerUp:qe(e.onPointerUp,f=>{var d;c.current||(d=f.currentTarget)===null||d===void 0||d.click()}),onKeyDown:qe(e.onKeyDown,f=>{const d=a.searchRef.current!=="";n||d&&f.key===" "||tX.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})}))}),P5e=O.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=e,s=cre(nX,n),a=$5e(n),l=O.useRef(null),c=Xt(t,l),[u,f]=O.useState(!1),[d,h]=O.useState("");return O.useEffect(()=>{const p=l.current;if(p){var g;h(((g=p.textContent)!==null&&g!==void 0?g:"").trim())}},[o.children]),O.createElement(t2.ItemSlot,{scope:n,disabled:r,textValue:i??d},O.createElement(Gne,le({asChild:!0},a,{focusable:!r}),O.createElement(Ot.div,le({role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},o,{ref:c,onPointerMove:qe(e.onPointerMove,n2(p=>{r?s.onItemLeave(p):(s.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus())})),onPointerLeave:qe(e.onPointerLeave,n2(p=>s.onItemLeave(p))),onFocus:qe(e.onFocus,()=>f(!0)),onBlur:qe(e.onBlur,()=>f(!1))}))))}),NPt=O.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return O.createElement(A5e,{scope:e.__scopeMenu,checked:n},O.createElement(fre,le({role:"menuitemcheckbox","aria-checked":i3(n)?"mixed":n},i,{ref:t,"data-state":dre(n),onSelect:qe(i.onSelect,()=>r==null?void 0:r(i3(n)?!0:!n),{checkForDefaultPrevented:!1})})))}),MPt="MenuRadioGroup",[mQn,IPt]=Yb(MPt,{value:void 0,onValueChange:()=>{}}),LPt="MenuRadioItem",jPt=O.forwardRef((e,t)=>{const{value:n,...r}=e,i=IPt(LPt,e.__scopeMenu),o=n===i.value;return O.createElement(A5e,{scope:e.__scopeMenu,checked:o},O.createElement(fre,le({role:"menuitemradio","aria-checked":o},r,{ref:t,"data-state":dre(o),onSelect:qe(r.onSelect,()=>{var s;return(s=i.onValueChange)===null||s===void 0?void 0:s.call(i,n)},{checkForDefaultPrevented:!1})})))}),R5e="MenuItemIndicator",[A5e,FPt]=Yb(R5e,{checked:!1}),zPt=O.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,o=FPt(R5e,n);return O.createElement(zs,{present:r||i3(o.checked)||o.checked===!0},O.createElement(Ot.span,le({},i,{ref:t,"data-state":dre(o.checked)})))}),QPt=O.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return O.createElement(Ot.div,le({role:"separator","aria-orientation":"horizontal"},r,{ref:t}))}),BPt="MenuSub",[yQn,D5e]=Yb(BPt),_D="MenuSubTrigger",WPt=O.forwardRef((e,t)=>{const n=Xb(_D,e.__scopeMenu),r=iR(_D,e.__scopeMenu),i=D5e(_D,e.__scopeMenu),o=cre(_D,e.__scopeMenu),s=O.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=o,c={__scopeMenu:e.__scopeMenu},u=O.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return O.useEffect(()=>u,[u]),O.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),O.createElement(E5e,le({asChild:!0},c),O.createElement(P5e,le({id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":N5e(n.open)},e,{ref:n4(t,i.onTriggerChange),onClick:f=>{var d;(d=e.onClick)===null||d===void 0||d.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:qe(e.onPointerMove,n2(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!s.current&&(o.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:qe(e.onPointerLeave,n2(f=>{var d;u();const h=(d=n.content)===null||d===void 0?void 0:d.getBoundingClientRect();if(h){var p;const g=(p=n.content)===null||p===void 0?void 0:p.dataset.side,y=g==="right",v=y?-5:5,x=h[y?"left":"right"],m=h[y?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x,y:h.top},{x:m,y:h.top},{x:m,y:h.bottom},{x,y:h.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:qe(e.onKeyDown,f=>{const d=o.searchRef.current!=="";if(!(e.disabled||d&&f.key===" ")&&bPt[r.dir].includes(f.key)){var h;n.onOpenChange(!0),(h=n.content)===null||h===void 0||h.focus(),f.preventDefault()}})})))}),VPt="MenuSubContent",UPt=O.forwardRef((e,t)=>{const n=T5e(Ff,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,o=Xb(Ff,e.__scopeMenu),s=iR(Ff,e.__scopeMenu),a=D5e(VPt,e.__scopeMenu),l=O.useRef(null),c=Xt(t,l);return O.createElement(t2.Provider,{scope:e.__scopeMenu},O.createElement(zs,{present:r||o.open},O.createElement(t2.Slot,{scope:e.__scopeMenu},O.createElement(ure,le({id:a.contentId,"aria-labelledby":a.triggerId},i,{ref:c,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;s.isUsingKeyboardRef.current&&((f=l.current)===null||f===void 0||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:qe(e.onFocusOutside,u=>{u.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:qe(e.onEscapeKeyDown,u=>{s.onClose(),u.preventDefault()}),onKeyDown:qe(e.onKeyDown,u=>{const f=u.currentTarget.contains(u.target),d=OPt[s.dir].includes(u.key);if(f&&d){var h;o.onOpenChange(!1),(h=a.trigger)===null||h===void 0||h.focus(),u.preventDefault()}})})))))});function N5e(e){return e?"open":"closed"}function i3(e){return e==="indeterminate"}function dre(e){return i3(e)?"indeterminate":e?"checked":"unchecked"}function qPt(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function YPt(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function XPt(e,t,n){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let s=YPt(e,Math.max(o,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function HPt(e,t){const{x:n,y:r}=e;let i=!1;for(let o=0,s=t.length-1;o<t.length;s=o++){const a=t[o].x,l=t[o].y,c=t[s].x,u=t[s].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function ZPt(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return HPt(n,t)}function n2(e){return t=>t.pointerType==="mouse"?e(t):void 0}const M5e=CPt,I5e=E5e,L5e=EPt,j5e=TPt,GPt=APt,F5e=DPt,z5e=fre,Q5e=NPt,B5e=jPt,W5e=zPt,V5e=QPt,U5e=WPt,q5e=UPt,Y5e="DropdownMenu",[KPt,vQn]=ro(Y5e,[R6]),Yc=R6(),[JPt,X5e]=KPt(Y5e),eRt=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:s,modal:a=!0}=e,l=Yc(t),c=O.useRef(null),[u=!1,f]=Vo({prop:i,defaultProp:o,onChange:s});return O.createElement(JPt,{scope:t,triggerId:Rl(),triggerRef:c,contentId:Rl(),open:u,onOpenChange:f,onOpenToggle:O.useCallback(()=>f(d=>!d),[f]),modal:a},O.createElement(M5e,le({},l,{open:u,onOpenChange:f,dir:r,modal:a}),n))},tRt="DropdownMenuTrigger",nRt=O.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,o=X5e(tRt,n),s=Yc(n);return O.createElement(I5e,le({asChild:!0},s),O.createElement(Ot.button,le({type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},i,{ref:n4(t,o.triggerRef),onPointerDown:qe(e.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:qe(e.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})))}),rRt=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Yc(t);return O.createElement(L5e,le({},r,n))},iRt="DropdownMenuContent",oRt=O.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=X5e(iRt,n),o=Yc(n),s=O.useRef(!1);return O.createElement(j5e,le({id:i.contentId,"aria-labelledby":i.triggerId},o,r,{ref:t,onCloseAutoFocus:qe(e.onCloseAutoFocus,a=>{var l;s.current||(l=i.triggerRef.current)===null||l===void 0||l.focus(),s.current=!1,a.preventDefault()}),onInteractOutside:qe(e.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(s.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),sRt=O.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Yc(n);return O.createElement(GPt,le({},i,r,{ref:t}))}),aRt=O.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Yc(n);return O.createElement(F5e,le({},i,r,{ref:t}))}),lRt=O.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Yc(n);return O.createElement(z5e,le({},i,r,{ref:t}))}),cRt=O.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Yc(n);return O.createElement(Q5e,le({},i,r,{ref:t}))}),uRt=O.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Yc(n);return O.createElement(B5e,le({},i,r,{ref:t}))}),fRt=O.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Yc(n);return O.createElement(W5e,le({},i,r,{ref:t}))}),dRt=O.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Yc(n);return O.createElement(V5e,le({},i,r,{ref:t}))}),hRt=O.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Yc(n);return O.createElement(U5e,le({},i,r,{ref:t}))}),pRt=O.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=Yc(n);return O.createElement(q5e,le({},i,r,{ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),gRt=eRt,mRt=nRt,yRt=rRt,H5e=oRt,vRt=sRt,Z5e=aRt,G5e=lRt,K5e=cRt,J5e=uRt,e3e=fRt,t3e=dRt,n3e=hRt,r3e=pRt,pS=gRt,gS=mRt,bRt=vRt,ORt=ie.forwardRef(({className:e,inset:t,children:n,...r},i)=>b.jsxs(n3e,{ref:i,className:NIe({className:e,inset:t}),...r,children:[n,b.jsx(one,{className:"ml-auto h-4 w-4"})]}));ORt.displayName=n3e.displayName;const xRt=ie.forwardRef(({className:e,...t},n)=>b.jsx(r3e,{ref:n,className:ve(S6({subcontent:!0}),"animate-in data-[side=bottom]:slide-in-from-top-1 data-[side=left]:slide-in-from-right-1 data-[side=right]:slide-in-from-left-1 data-[side=top]:slide-in-from-bottom-1",e),...t}));xRt.displayName=r3e.displayName;const Z1=ie.forwardRef(({className:e,sideOffset:t=4,...n},r)=>b.jsx(yRt,{children:b.jsx(H5e,{ref:r,sideOffset:t,className:ve(S6(),"animate-in data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));Z1.displayName=H5e.displayName;const ah=ie.forwardRef(({className:e,inset:t,variant:n,...r},i)=>b.jsx(G5e,{ref:i,className:zne({className:e,inset:t,variant:n}),...r}));ah.displayName=G5e.displayName;const wRt=ie.forwardRef(({className:e,children:t,checked:n,...r},i)=>b.jsxs(K5e,{ref:i,className:MIe({className:e}),checked:n,...r,children:[b.jsx("span",{className:hS(),children:b.jsx(e3e,{children:b.jsx(Bb,{className:"h-4 w-4"})})}),t]}));wRt.displayName=K5e.displayName;const SRt=ie.forwardRef(({className:e,children:t,...n},r)=>b.jsxs(J5e,{ref:r,className:MIe({className:e}),...n,children:[b.jsx("span",{className:hS(),children:b.jsx(e3e,{children:b.jsx(U5,{className:"h-2 w-2 fill-current"})})}),t]}));SRt.displayName=J5e.displayName;const i3e=ie.forwardRef(({className:e,inset:t,...n},r)=>b.jsx(Z5e,{ref:r,className:IIe({className:e,inset:t}),...n}));i3e.displayName=Z5e.displayName;const hre=ie.forwardRef(({className:e,...t},n)=>b.jsx(t3e,{ref:n,className:ve("mb-1",Qne({className:e})),...t}));hre.displayName=t3e.displayName;const _Rt=Bne;function CRt(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),t&&(r.href=t),i.href=e,i.href}const $Rt=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function Xp(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}function o3(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function ERt(e){const t=o3(e,"border-left-width"),n=o3(e,"border-right-width");return e.clientWidth+t+n}function kRt(e){const t=o3(e,"border-top-width"),n=o3(e,"border-bottom-width");return e.clientHeight+t+n}function o3e(e,t={}){const n=t.width||ERt(e),r=t.height||kRt(e);return{width:n,height:r}}function TRt(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const rc=16384;function PRt(e){(e.width>rc||e.height>rc)&&(e.width>rc&&e.height>rc?e.width>e.height?(e.height*=rc/e.width,e.width=rc):(e.width*=rc/e.height,e.height=rc):e.width>rc?(e.height*=rc/e.width,e.width=rc):(e.width*=rc/e.height,e.height=rc))}function s3(e){return new Promise((t,n)=>{const r=new Image;r.decode=()=>t(r),r.onload=()=>t(r),r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function RRt(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function ARt(e,t,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),o=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${t}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${t} ${n}`),o.setAttribute("width","100%"),o.setAttribute("height","100%"),o.setAttribute("x","0"),o.setAttribute("y","0"),o.setAttribute("externalResourcesRequired","true"),i.appendChild(o),o.appendChild(e),RRt(i)}const Dl=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||Dl(n,t)};function DRt(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function NRt(e){return Xp(e).map(t=>{const n=e.getPropertyValue(t),r=e.getPropertyPriority(t);return`${t}: ${n}${r?" !important":""};`}).join(" ")}function MRt(e,t,n){const r=`.${e}:${t}`,i=n.cssText?DRt(n):NRt(n);return document.createTextNode(`${r}{${i}}`)}function Nye(e,t,n){const r=window.getComputedStyle(e,n),i=r.getPropertyValue("content");if(i===""||i==="none")return;const o=$Rt();try{t.className=`${t.className} ${o}`}catch{return}const s=document.createElement("style");s.appendChild(MRt(o,n,r)),t.appendChild(s)}function IRt(e,t){Nye(e,t,":before"),Nye(e,t,":after")}const Mye="application/font-woff",Iye="image/jpeg",LRt={woff:Mye,woff2:Mye,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:Iye,jpeg:Iye,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function jRt(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function pre(e){const t=jRt(e).toLowerCase();return LRt[t]||""}function FRt(e){return e.split(/,/)[1]}function rX(e){return e.search(/^(data:)/)!==-1}function s3e(e,t){return`data:${t};base64,${e}`}async function a3e(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((o,s)=>{const a=new FileReader;a.onerror=s,a.onloadend=()=>{try{o(n({res:r,result:a.result}))}catch(l){s(l)}},a.readAsDataURL(i)})}const cB={};function zRt(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function gre(e,t,n){const r=zRt(e,t,n.includeQueryParams);if(cB[r]!=null)return cB[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let i;try{const o=await a3e(e,n.fetchRequestInit,({res:s,result:a})=>(t||(t=s.headers.get("Content-Type")||""),FRt(a)));i=s3e(o,t)}catch(o){i=n.imagePlaceholder||"";let s=`Failed to fetch resource: ${e}`;o&&(s=typeof o=="string"?o:o.message),s&&console.warn(s)}return cB[r]=i,i}async function QRt(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):s3(t)}async function BRt(e,t){if(e.currentSrc){const o=document.createElement("canvas"),s=o.getContext("2d");o.width=e.clientWidth,o.height=e.clientHeight,s==null||s.drawImage(e,0,0,o.width,o.height);const a=o.toDataURL();return s3(a)}const n=e.poster,r=pre(n),i=await gre(n,r,t);return s3(i)}async function WRt(e){var t;try{if(!((t=e==null?void 0:e.contentDocument)===null||t===void 0)&&t.body)return await A6(e.contentDocument.body,{},!0)}catch{}return e.cloneNode(!1)}async function VRt(e,t){return Dl(e,HTMLCanvasElement)?QRt(e):Dl(e,HTMLVideoElement)?BRt(e,t):Dl(e,HTMLIFrameElement)?WRt(e):e.cloneNode(!1)}const URt=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT";async function qRt(e,t,n){var r,i;let o=[];return URt(e)&&e.assignedNodes?o=Xp(e.assignedNodes()):Dl(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?o=Xp(e.contentDocument.body.childNodes):o=Xp(((i=e.shadowRoot)!==null&&i!==void 0?i:e).childNodes),o.length===0||Dl(e,HTMLVideoElement)||await o.reduce((s,a)=>s.then(()=>A6(a,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function YRt(e,t){const n=t.style;if(!n)return;const r=window.getComputedStyle(e);r.cssText?(n.cssText=r.cssText,n.transformOrigin=r.transformOrigin):Xp(r).forEach(i=>{let o=r.getPropertyValue(i);i==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),Dl(e,HTMLIFrameElement)&&i==="display"&&o==="inline"&&(o="block"),i==="d"&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),n.setProperty(i,o,r.getPropertyPriority(i))})}function XRt(e,t){Dl(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),Dl(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function HRt(e,t){if(Dl(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(i=>e.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function ZRt(e,t){return Dl(t,Element)&&(YRt(e,t),IRt(e,t),XRt(e,t),HRt(e,t)),t}async function GRt(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let o=0;o<n.length;o++){const a=n[o].getAttribute("xlink:href");if(a){const l=e.querySelector(a),c=document.querySelector(a);!l&&c&&!r[a]&&(r[a]=await A6(c,t,!0))}}const i=Object.values(r);if(i.length){const o="http://www.w3.org/1999/xhtml",s=document.createElementNS(o,"svg");s.setAttribute("xmlns",o),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const a=document.createElementNS(o,"defs");s.appendChild(a);for(let l=0;l<i.length;l++)a.appendChild(i[l]);e.appendChild(s)}return e}async function A6(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>VRt(r,t)).then(r=>qRt(e,r,t)).then(r=>ZRt(e,r)).then(r=>GRt(r,t))}const l3e=/url\((['"]?)([^'"]+?)\1\)/g,KRt=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,JRt=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function eAt(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function tAt(e){const t=[];return e.replace(l3e,(n,r,i)=>(t.push(i),n)),t.filter(n=>!rX(n))}async function nAt(e,t,n,r,i){try{const o=n?CRt(t,n):t,s=pre(t);let a;if(i){const l=await i(o);a=s3e(l,s)}else a=await gre(o,s,r);return e.replace(eAt(t),`$1${a}$3`)}catch{}return e}function rAt(e,{preferredFontFormat:t}){return t?e.replace(JRt,n=>{for(;;){const[r,,i]=KRt.exec(n)||[];if(!i)return"";if(i===t)return`src: ${r};`}}):e}function c3e(e){return e.search(l3e)!==-1}async function u3e(e,t,n){if(!c3e(e))return e;const r=rAt(e,n);return tAt(r).reduce((o,s)=>o.then(a=>nAt(a,s,t,n)),Promise.resolve(r))}async function CD(e,t,n){var r;const i=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(i){const o=await u3e(i,null,n);return t.style.setProperty(e,o,t.style.getPropertyPriority(e)),!0}return!1}async function iAt(e,t){await CD("background",e,t)||await CD("background-image",e,t),await CD("mask",e,t)||await CD("mask-image",e,t)}async function oAt(e,t){const n=Dl(e,HTMLImageElement);if(!(n&&!rX(e.src))&&!(Dl(e,SVGImageElement)&&!rX(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,i=await gre(r,pre(r),t);await new Promise((o,s)=>{e.onload=o,e.onerror=s;const a=e;a.decode&&(a.decode=o),a.loading==="lazy"&&(a.loading="eager"),n?(e.srcset="",e.src=i):e.href.baseVal=i})}async function sAt(e,t){const r=Xp(e.childNodes).map(i=>f3e(i,t));await Promise.all(r).then(()=>e)}async function f3e(e,t){Dl(e,Element)&&(await iAt(e,t),await oAt(e,t),await sAt(e,t))}function aAt(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),e}const Lye={};async function jye(e){let t=Lye[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},Lye[e]=t,t}async function Fye(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,o=(n.match(/url\([^)]+\)/g)||[]).map(async s=>{let a=s.replace(r,"$1");return a.startsWith("https://")||(a=new URL(a,e.url).href),a3e(a,t.fetchRequestInit,({result:l})=>(n=n.replace(s,`url(${l})`),[s,l]))});return Promise.all(o).then(()=>n)}function zye(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=i.exec(r);if(l===null)break;t.push(l[0])}r=r.replace(i,"");const o=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",a=new RegExp(s,"gi");for(;;){let l=o.exec(r);if(l===null){if(l=a.exec(r),l===null)break;o.lastIndex=a.lastIndex}else a.lastIndex=o.lastIndex;t.push(l[0])}return t}async function lAt(e,t){const n=[],r=[];return e.forEach(i=>{if("cssRules"in i)try{Xp(i.cssRules||[]).forEach((o,s)=>{if(o.type===CSSRule.IMPORT_RULE){let a=s+1;const l=o.href,c=jye(l).then(u=>Fye(u,t)).then(u=>zye(u).forEach(f=>{try{i.insertRule(f,f.startsWith("@import")?a+=1:i.cssRules.length)}catch(d){console.error("Error inserting rule from remote css",{rule:f,error:d})}})).catch(u=>{console.error("Error loading remote css",u.toString())});r.push(c)}})}catch(o){const s=e.find(a=>a.href==null)||document.styleSheets[0];i.href!=null&&r.push(jye(i.href).then(a=>Fye(a,t)).then(a=>zye(a).forEach(l=>{s.insertRule(l,i.cssRules.length)})).catch(a=>{console.error("Error loading remote stylesheet",a)})),console.error("Error inlining remote css file",o)}}),Promise.all(r).then(()=>(e.forEach(i=>{if("cssRules"in i)try{Xp(i.cssRules||[]).forEach(o=>{n.push(o)})}catch(o){console.error(`Error while reading CSS rules from ${i.href}`,o)}}),n))}function cAt(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>c3e(t.style.getPropertyValue("src")))}async function uAt(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Xp(e.ownerDocument.styleSheets),r=await lAt(n,t);return cAt(r)}async function fAt(e,t){const n=await uAt(e,t);return(await Promise.all(n.map(i=>{const o=i.parentStyleSheet?i.parentStyleSheet.href:null;return u3e(i.cssText,o,t)}))).join(`
`)}async function dAt(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await fAt(e,t);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function hAt(e,t={}){const{width:n,height:r}=o3e(e,t),i=await A6(e,t,!0);return await dAt(i,t),await f3e(i,t),aAt(i,t),await ARt(i,n,r)}async function pAt(e,t={}){const{width:n,height:r}=o3e(e,t),i=await hAt(e,t),o=await s3(i),s=document.createElement("canvas"),a=s.getContext("2d"),l=t.pixelRatio||TRt(),c=t.canvasWidth||n,u=t.canvasHeight||r;return s.width=c*l,s.height=u*l,t.skipAutoScale||PRt(s),s.style.width=`${c}`,s.style.height=`${u}`,t.backgroundColor&&(a.fillStyle=t.backgroundColor,a.fillRect(0,0,s.width,s.height)),a.drawImage(o,0,0,s.width,s.height),s}async function gAt(e,t={}){return(await pAt(e,t)).toDataURL()}async function d3e(e,t){const n=document.getElementById("App"),r=(n==null?void 0:n.scrollTop)??0;document.body.classList.add("printing");try{const i=await gAt(e);mre(i,t.endsWith(".png")?t:`${t}.png`)}catch{Yr({title:"Error",description:"Failed to export as PNG.",variant:"danger"})}finally{document.body.classList.remove("printing"),requestAnimationFrame(()=>{n==null||n.scrollTo(0,r)})}}function mre(e,t){const n=document.createElement("a");n.href=e,n.download=t,n.click(),n.remove()}function yre(e,t){const n=URL.createObjectURL(e);mre(n,t)}const mAt=[{label:"CSV",format:"csv"},{label:"JSON",format:"json"}],yAt=e=>{const t=b.jsxs(zt,{size:"xs",variant:"link",children:["Download ",b.jsx(Vy,{className:"w-3 h-3 ml-1"})]});return b.jsxs(pS,{modal:!1,children:[b.jsx(gS,{asChild:!0,children:t}),b.jsx(Z1,{side:"bottom",className:"no-print",children:mAt.map(n=>b.jsx(ah,{onSelect:async()=>{const r=await e.downloadAs({format:n.format}).catch(i=>{Yr({title:"Failed to download",description:"message"in i?i.message:String(i)})});r&&mre(r,"download")},children:n.label},n.label))})]})},vAt=({className:e,columns:t,data:n,rowSelection:r,pageSize:i=10,downloadAs:o,pagination:s=!1,onRowSelectionChange:a})=>{var h;const[l,c]=ie.useState([]),[u,f]=ie.useState({pageSize:i,pageIndex:0}),d=_5e({data:n,columns:t,getCoreRowModel:w5e(),onPaginationChange:f,getPaginationRowModel:s?cPt():void 0,onSortingChange:c,getSortedRowModel:S5e(),onRowSelectionChange:a,state:{sorting:l,pagination:s?{...u,pageSize:i}:{pageIndex:0,pageSize:n.length},rowSelection:r}});return b.jsxs("div",{className:"flex flex-col space-y-2",children:[b.jsx("div",{className:ve(e||"rounded-md border"),children:b.jsxs(ire,{children:[b.jsx(ore,{children:d.getHeaderGroups().map(p=>b.jsx(Ow,{children:p.headers.map(g=>b.jsx(are,{children:g.isPlaceholder?null:n3(g.column.columnDef.header,g.getContext())},g.id))},p.id))}),b.jsx(sre,{children:(h=d.getRowModel().rows)!=null&&h.length?d.getRowModel().rows.map(p=>b.jsx(Ow,{"data-state":p.getIsSelected()&&"selected",children:p.getVisibleCells().map(g=>b.jsx(r3,{children:n3(g.column.columnDef.cell,g.getContext())},g.id))},p.id)):b.jsx(Ow,{children:b.jsx(r3,{colSpan:t.length,className:"h-24 text-center",children:"No results."})})})]})}),b.jsxs("div",{className:"flex align-items justify-between",children:[s?b.jsx(gPt,{table:d}):b.jsx("div",{}),o&&b.jsx(yAt,{downloadAs:o})]})]})},yk=({column:e,header:t,className:n})=>{if(!e.getCanSort())return b.jsx("div",{className:ve(n),children:t});const r=e.getSortingFn(),i=r===Dv.basic?Dvt:Mvt,o=r===Dv.basic?Nvt:Ivt;return b.jsxs("div",{className:ve("group flex items-center space-x-2",n),children:[b.jsx("span",{className:"flex-1",children:t}),b.jsxs(pS,{modal:!1,children:[b.jsx(gS,{asChild:!0,children:b.jsx(zt,{variant:"ghost",size:"xs",className:ve("ml-3 h-5 data-[state=open]:bg-accent m-0 p-1",!e.getIsSorted()&&"invisible group-hover:visible data-[state=open]:visible"),children:e.getIsSorted()==="desc"?b.jsx(o,{className:"h-3 w-3"}):e.getIsSorted()==="asc"?b.jsx(i,{className:"h-3 w-3"}):b.jsx(_Y,{className:"h-3 w-3"})})}),b.jsxs(Z1,{align:"start",children:[b.jsxs(ah,{onClick:()=>e.toggleSorting(!1),children:[b.jsx(i,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Asc"]}),b.jsxs(ah,{onClick:()=>e.toggleSorting(!0),children:[b.jsx(o,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Desc"]}),e.getIsSorted()&&b.jsxs(b.Fragment,{children:[b.jsx(hre,{}),b.jsxs(ah,{onClick:()=>e.clearSorting(),children:[b.jsx(_Y,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Clear"]})]})]})]})]})},h3e=Rut,vre=O.forwardRef(({className:e,...t},n)=>b.jsx(Aut,{ref:n,className:ve("border-b",e),...t}));vre.displayName="AccordionItem";const bre=O.forwardRef(({className:e,children:t,...n},r)=>b.jsx(Dut,{className:"flex",children:b.jsxs(bAe,{ref:r,className:ve("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,b.jsx(Vy,{className:"h-4 w-4 transition-transform duration-200"})]})}));bre.displayName=bAe.displayName;const Ore=O.forwardRef(({className:e,children:t,...n},r)=>b.jsx(OAe,{ref:r,className:ve("overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",e),...n,children:b.jsx("div",{className:"pb-4 pt-0",children:t})}));Ore.displayName=OAe.displayName;const G1="__",bAt=new Set(["__*","marimo","app","False","None","True","__peg_parser__","and","as","assert","async","await","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","nonlocal","not","or","pass","raise","return","try","while","with","yield","None"]);function uB(e){return e=e.trim(),e?(/^\d/.test(e)&&(e=`_${e}`),e.replaceAll(/\W/g,"_").toLowerCase()):G1}function OAt(e,t){const n=new Set(t);let r=e;const i=s=>!n.has(s)&&!bAt.has(s);if(i(e))return e;let o=1;for(;!i(r);)r=`${e}_${o}`,o++;return r}function p3e(e,t){return e!==G1?e:`cell-${t}`}function cE({id:e,name:t=G1,code:n="",lastCodeRun:r=null,edited:i=!1,config:o={},serializedEditorState:s=null}){return{id:e,config:o,name:t,code:n,edited:i,lastCodeRun:r,serializedEditorState:s}}function r$(){return{outline:null,output:null,consoleOutputs:[],status:"idle",interrupted:!1,errored:!1,stopped:!1,runElapsedTimeMs:null,runStartTimestamp:null,debuggerActive:!1}}function fB({cellId:e,cell:t,config:n,codeFocus:r}){var o;if(!t)return;const i=document.getElementById(Yf.create(e));if(!i){Ut.warn("scrollCellIntoView: element not found");return}if(n.hide_code)i.focus();else{const s=(o=t.current)==null?void 0:o.editorView;if(!s)return;if(s.focus(),r==="top")s.dispatch({selection:{anchor:0,head:0}});else if(r==="bottom"){const a=s.state.doc.line(s.state.doc.lines);s.dispatch({selection:{anchor:a.from,head:a.from}})}}i.scrollIntoView({behavior:"smooth",block:"center"})}function Qye(){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}function xAt(){window.scrollTo({top:0,behavior:"smooth"})}function wAt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return O.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const D6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function H_(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function xre(e){return"nodeType"in e}function Gl(e){var t,n;return e?H_(e)?e:xre(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function wre(e){const{Document:t}=Gl(e);return e instanceof t}function oR(e){return H_(e)?!1:e instanceof Gl(e).HTMLElement}function g3e(e){return e instanceof Gl(e).SVGElement}function Z_(e){return e?H_(e)?e.document:xre(e)?wre(e)?e:oR(e)||g3e(e)?e.ownerDocument:document:document:document}const Zf=D6?O.useLayoutEffect:O.useEffect;function Sre(e){const t=O.useRef(e);return Zf(()=>{t.current=e}),O.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function SAt(){const e=O.useRef(null),t=O.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=O.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function r2(e,t){t===void 0&&(t=[e]);const n=O.useRef(e);return Zf(()=>{n.current!==e&&(n.current=e)},t),n}function sR(e,t){const n=O.useRef();return O.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function a3(e){const t=Sre(e),n=O.useRef(null),r=O.useCallback(i=>{i!==n.current&&(t==null||t(i,n.current)),n.current=i},[]);return[n,r]}function iX(e){const t=O.useRef();return O.useEffect(()=>{t.current=e},[e]),t.current}let dB={};function aR(e,t){return O.useMemo(()=>{if(t)return t;const n=dB[e]==null?0:dB[e]+1;return dB[e]=n,e+"-"+n},[e,t])}function m3e(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((o,s)=>{const a=Object.entries(s);for(const[l,c]of a){const u=o[l];u!=null&&(o[l]=u+e*c)}return o},{...t})}}const xw=m3e(1),i2=m3e(-1);function _At(e){return"clientX"in e&&"clientY"in e}function _re(e){if(!e)return!1;const{KeyboardEvent:t}=Gl(e.target);return t&&e instanceof t}function CAt(e){if(!e)return!1;const{TouchEvent:t}=Gl(e.target);return t&&e instanceof t}function oX(e){if(CAt(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return _At(e)?{x:e.clientX,y:e.clientY}:null}const o2=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[o2.Translate.toString(e),o2.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),Bye="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function $At(e){return e.matches(Bye)?e:e.querySelector(Bye)}const EAt={display:"none"};function kAt(e){let{id:t,value:n}=e;return ie.createElement("div",{id:t,style:EAt},n)}function TAt(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ie.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function PAt(){const[e,t]=O.useState("");return{announce:O.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const y3e=O.createContext(null);function RAt(e){const t=O.useContext(y3e);O.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function AAt(){const[e]=O.useState(()=>new Set),t=O.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[O.useCallback(r=>{let{type:i,event:o}=r;e.forEach(s=>{var a;return(a=s[i])==null?void 0:a.call(s,o)})},[e]),t]}const DAt={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},NAt={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function MAt(e){let{announcements:t=NAt,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=DAt}=e;const{announce:o,announcement:s}=PAt(),a=aR("DndLiveRegion"),[l,c]=O.useState(!1);if(O.useEffect(()=>{c(!0)},[]),RAt(O.useMemo(()=>({onDragStart(f){let{active:d}=f;o(t.onDragStart({active:d}))},onDragMove(f){let{active:d,over:h}=f;t.onDragMove&&o(t.onDragMove({active:d,over:h}))},onDragOver(f){let{active:d,over:h}=f;o(t.onDragOver({active:d,over:h}))},onDragEnd(f){let{active:d,over:h}=f;o(t.onDragEnd({active:d,over:h}))},onDragCancel(f){let{active:d,over:h}=f;o(t.onDragCancel({active:d,over:h}))}}),[o,t])),!l)return null;const u=ie.createElement(ie.Fragment,null,ie.createElement(kAt,{id:r,value:i.draggable}),ie.createElement(TAt,{id:a,announcement:s}));return n?Io.createPortal(u,n):u}var Ro;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Ro||(Ro={}));function l3(){}function Wye(e,t){return O.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function IAt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return O.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Gf=Object.freeze({x:0,y:0});function v3e(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function b3e(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function LAt(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Vye(e){let{left:t,top:n,height:r,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+r},{x:t+i,y:n+r}]}function O3e(e,t){if(!e||e.length===0)return null;const[n]=e;return t?n[t]:n}function Uye(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const jAt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=Uye(t,t.left,t.top),o=[];for(const s of r){const{id:a}=s,l=n.get(a);if(l){const c=v3e(Uye(l),i);o.push({id:a,data:{droppableContainer:s,value:c}})}}return o.sort(b3e)},FAt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=Vye(t),o=[];for(const s of r){const{id:a}=s,l=n.get(a);if(l){const c=Vye(l),u=i.reduce((d,h,p)=>d+v3e(c[p],h),0),f=Number((u/4).toFixed(4));o.push({id:a,data:{droppableContainer:s,value:f}})}}return o.sort(b3e)};function zAt(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),s=i-r,a=o-n;if(r<i&&n<o){const l=t.width*t.height,c=e.width*e.height,u=s*a,f=u/(l+c-u);return Number(f.toFixed(4))}return 0}const QAt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const o of r){const{id:s}=o,a=n.get(s);if(a){const l=zAt(a,t);l>0&&i.push({id:s,data:{droppableContainer:o,value:l}})}}return i.sort(LAt)};function BAt(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function x3e(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Gf}function WAt(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.reduce((s,a)=>({...s,top:s.top+e*a.y,bottom:s.bottom+e*a.y,left:s.left+e*a.x,right:s.right+e*a.x}),{...n})}}const VAt=WAt(1);function UAt(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function qAt(e,t,n){const r=UAt(t);if(!r)return e;const{scaleX:i,scaleY:o,x:s,y:a}=r,l=e.left-s-(1-i)*parseFloat(n),c=e.top-a-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),u=i?e.width/i:e.width,f=o?e.height/o:e.height;return{width:u,height:f,top:c,right:l+u,bottom:c+f,left:l}}const YAt={ignoreTransform:!1};function G_(e,t){t===void 0&&(t=YAt);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:c,transformOrigin:u}=Gl(e).getComputedStyle(e);c&&(n=qAt(n,c,u))}const{top:r,left:i,width:o,height:s,bottom:a,right:l}=n;return{top:r,left:i,width:o,height:s,bottom:a,right:l}}function qye(e){return G_(e,{ignoreTransform:!0})}function XAt(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function HAt(e,t){return t===void 0&&(t=Gl(e).getComputedStyle(e)),t.position==="fixed"}function ZAt(e,t){t===void 0&&(t=Gl(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const o=t[i];return typeof o=="string"?n.test(o):!1})}function N6(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(wre(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!oR(i)||g3e(i)||n.includes(i))return n;const o=Gl(e).getComputedStyle(i);return i!==e&&ZAt(i,o)&&n.push(i),HAt(i,o)?n:r(i.parentNode)}return e?r(e):n}function w3e(e){const[t]=N6(e,1);return t??null}function hB(e){return!D6||!e?null:H_(e)?e:xre(e)?wre(e)||e===Z_(e).scrollingElement?window:oR(e)?e:null:null}function S3e(e){return H_(e)?e.scrollX:e.scrollLeft}function _3e(e){return H_(e)?e.scrollY:e.scrollTop}function sX(e){return{x:S3e(e),y:_3e(e)}}var Jo;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Jo||(Jo={}));function C3e(e){return!D6||!e?!1:e===document.scrollingElement}function $3e(e){const t={x:0,y:0},n=C3e(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,s=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:i,isLeft:o,isBottom:s,isRight:a,maxScroll:r,minScroll:t}}const GAt={x:.2,y:.2};function KAt(e,t,n,r,i){let{top:o,left:s,right:a,bottom:l}=n;r===void 0&&(r=10),i===void 0&&(i=GAt);const{isTop:c,isBottom:u,isLeft:f,isRight:d}=$3e(e),h={x:0,y:0},p={x:0,y:0},g={height:t.height*i.y,width:t.width*i.x};return!c&&o<=t.top+g.height?(h.y=Jo.Backward,p.y=r*Math.abs((t.top+g.height-o)/g.height)):!u&&l>=t.bottom-g.height&&(h.y=Jo.Forward,p.y=r*Math.abs((t.bottom-g.height-l)/g.height)),!d&&a>=t.right-g.width?(h.x=Jo.Forward,p.x=r*Math.abs((t.right-g.width-a)/g.width)):!f&&s<=t.left+g.width&&(h.x=Jo.Backward,p.x=r*Math.abs((t.left+g.width-s)/g.width)),{direction:h,speed:p}}function JAt(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:s}=window;return{top:0,left:0,right:o,bottom:s,width:o,height:s}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function E3e(e){return e.reduce((t,n)=>xw(t,sX(n)),Gf)}function eDt(e){return e.reduce((t,n)=>t+S3e(n),0)}function tDt(e){return e.reduce((t,n)=>t+_3e(n),0)}function nDt(e,t){if(t===void 0&&(t=G_),!e)return;const{top:n,left:r,bottom:i,right:o}=t(e);w3e(e)&&(i<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const rDt=[["x",["left","right"],eDt],["y",["top","bottom"],tDt]];class Cre{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=N6(n),i=E3e(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,s,a]of rDt)for(const l of s)Object.defineProperty(this,l,{get:()=>{const c=a(r),u=i[o]-c;return this.rect[l]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class vk{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function iDt(e){const{EventTarget:t}=Gl(e);return e instanceof t?e:Z_(e)}function pB(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var tu;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(tu||(tu={}));function Yye(e){e.preventDefault()}function oDt(e){e.stopPropagation()}var Fn;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(Fn||(Fn={}));const k3e={start:[Fn.Space,Fn.Enter],cancel:[Fn.Esc],end:[Fn.Space,Fn.Enter]},sDt=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Fn.Right:return{...n,x:n.x+25};case Fn.Left:return{...n,x:n.x-25};case Fn.Down:return{...n,y:n.y+25};case Fn.Up:return{...n,y:n.y-25}}};class $re{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new vk(Z_(n)),this.windowListeners=new vk(Gl(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(tu.Resize,this.handleCancel),this.windowListeners.add(tu.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(tu.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&nDt(r),n(Gf)}handleKeyDown(t){if(_re(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:o=k3e,coordinateGetter:s=sDt,scrollBehavior:a="smooth"}=i,{code:l}=t;if(o.end.includes(l)){this.handleEnd(t);return}if(o.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:c}=r.current,u=c?{x:c.left,y:c.top}:Gf;this.referenceCoordinates||(this.referenceCoordinates=u);const f=s(t,{active:n,context:r.current,currentCoordinates:u});if(f){const d=i2(f,u),h={x:0,y:0},{scrollableAncestors:p}=r.current;for(const g of p){const y=t.code,{isTop:v,isRight:x,isLeft:m,isBottom:w,maxScroll:S,minScroll:C}=$3e(g),$=JAt(g),E={x:Math.min(y===Fn.Right?$.right-$.width/2:$.right,Math.max(y===Fn.Right?$.left:$.left+$.width/2,f.x)),y:Math.min(y===Fn.Down?$.bottom-$.height/2:$.bottom,Math.max(y===Fn.Down?$.top:$.top+$.height/2,f.y))},R=y===Fn.Right&&!x||y===Fn.Left&&!m,N=y===Fn.Down&&!w||y===Fn.Up&&!v;if(R&&E.x!==f.x){const I=g.scrollLeft+d.x,j=y===Fn.Right&&I<=S.x||y===Fn.Left&&I>=C.x;if(j&&!d.y){g.scrollTo({left:I,behavior:a});return}j?h.x=g.scrollLeft-I:h.x=y===Fn.Right?g.scrollLeft-S.x:g.scrollLeft-C.x,h.x&&g.scrollBy({left:-h.x,behavior:a});break}else if(N&&E.y!==f.y){const I=g.scrollTop+d.y,j=y===Fn.Down&&I<=S.y||y===Fn.Up&&I>=C.y;if(j&&!d.x){g.scrollTo({top:I,behavior:a});return}j?h.y=g.scrollTop-I:h.y=y===Fn.Down?g.scrollTop-S.y:g.scrollTop-C.y,h.y&&g.scrollBy({top:-h.y,behavior:a});break}}this.handleMove(t,xw(i2(f,this.referenceCoordinates),h))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}$re.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=k3e,onActivation:i}=t,{active:o}=n;const{code:s}=e.nativeEvent;if(r.start.includes(s)){const a=o.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),i==null||i({event:e.nativeEvent}),!0)}return!1}}];function Xye(e){return!!(e&&"distance"in e)}function Hye(e){return!!(e&&"delay"in e)}class Ere{constructor(t,n,r){var i;r===void 0&&(r=iDt(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:o}=t,{target:s}=o;this.props=t,this.events=n,this.document=Z_(s),this.documentListeners=new vk(this.document),this.listeners=new vk(r),this.windowListeners=new vk(Gl(s)),this.initialCoordinates=(i=oX(o))!=null?i:Gf,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(tu.Resize,this.handleCancel),this.windowListeners.add(tu.DragStart,Yye),this.windowListeners.add(tu.VisibilityChange,this.handleCancel),this.windowListeners.add(tu.ContextMenu,Yye),this.documentListeners.add(tu.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Hye(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}if(Xye(n))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(tu.Click,oDt,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(tu.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:o}=this,{onMove:s,options:{activationConstraint:a}}=o;if(!i)return;const l=(n=oX(t))!=null?n:Gf,c=i2(i,l);if(!r&&a){if(Xye(a)){if(a.tolerance!=null&&pB(c,a.tolerance))return this.handleCancel();if(pB(c,a.distance))return this.handleStart()}return Hye(a)&&pB(c,a.tolerance)?this.handleCancel():void 0}t.cancelable&&t.preventDefault(),s(l)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===Fn.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const aDt={move:{name:"pointermove"},end:{name:"pointerup"}};class kre extends Ere{constructor(t){const{event:n}=t,r=Z_(n.target);super(t,aDt,r)}}kre.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const lDt={move:{name:"mousemove"},end:{name:"mouseup"}};var aX;(function(e){e[e.RightClick=2]="RightClick"})(aX||(aX={}));class cDt extends Ere{constructor(t){super(t,lDt,Z_(t.event.target))}}cDt.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===aX.RightClick?!1:(r==null||r({event:n}),!0)}}];const gB={move:{name:"touchmove"},end:{name:"touchend"}};class uDt extends Ere{constructor(t){super(t,gB)}static setup(){return window.addEventListener(gB.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(gB.move.name,t)};function t(){}}}uDt.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r==null||r({event:n}),!0)}}];var bk;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(bk||(bk={}));var c3;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(c3||(c3={}));function fDt(e){let{acceleration:t,activator:n=bk.Pointer,canScroll:r,draggingRect:i,enabled:o,interval:s=5,order:a=c3.TreeOrder,pointerCoordinates:l,scrollableAncestors:c,scrollableAncestorRects:u,delta:f,threshold:d}=e;const h=hDt({delta:f,disabled:!o}),[p,g]=SAt(),y=O.useRef({x:0,y:0}),v=O.useRef({x:0,y:0}),x=O.useMemo(()=>{switch(n){case bk.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case bk.DraggableRect:return i}},[n,i,l]),m=O.useRef(null),w=O.useCallback(()=>{const C=m.current;if(!C)return;const $=y.current.x*v.current.x,E=y.current.y*v.current.y;C.scrollBy($,E)},[]),S=O.useMemo(()=>a===c3.TreeOrder?[...c].reverse():c,[a,c]);O.useEffect(()=>{if(!o||!c.length||!x){g();return}for(const C of S){if((r==null?void 0:r(C))===!1)continue;const $=c.indexOf(C),E=u[$];if(!E)continue;const{direction:R,speed:N}=KAt(C,E,x,t,d);for(const I of["x","y"])h[I][R[I]]||(N[I]=0,R[I]=0);if(N.x>0||N.y>0){g(),m.current=C,p(w,s),y.current=N,v.current=R;return}}y.current={x:0,y:0},v.current={x:0,y:0},g()},[t,w,r,g,o,s,JSON.stringify(x),JSON.stringify(h),p,c,S,u,JSON.stringify(d)])}const dDt={x:{[Jo.Backward]:!1,[Jo.Forward]:!1},y:{[Jo.Backward]:!1,[Jo.Forward]:!1}};function hDt(e){let{delta:t,disabled:n}=e;const r=iX(t);return sR(i=>{if(n||!r||!i)return dDt;const o={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Jo.Backward]:i.x[Jo.Backward]||o.x===-1,[Jo.Forward]:i.x[Jo.Forward]||o.x===1},y:{[Jo.Backward]:i.y[Jo.Backward]||o.y===-1,[Jo.Forward]:i.y[Jo.Forward]||o.y===1}}},[n,t,r])}function pDt(e,t){const n=t!==null?e.get(t):void 0,r=n?n.node.current:null;return sR(i=>{var o;return t===null?null:(o=r??i)!=null?o:null},[r,t])}function gDt(e,t){return O.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,o=i.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,r)}));return[...n,...o]},[]),[e,t])}var s2;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(s2||(s2={}));var lX;(function(e){e.Optimized="optimized"})(lX||(lX={}));const Zye=new Map;function mDt(e,t){let{dragging:n,dependencies:r,config:i}=t;const[o,s]=O.useState(null),{frequency:a,measure:l,strategy:c}=i,u=O.useRef(e),f=y(),d=r2(f),h=O.useCallback(function(v){v===void 0&&(v=[]),!d.current&&s(x=>x===null?v:x.concat(v.filter(m=>!x.includes(m))))},[d]),p=O.useRef(null),g=sR(v=>{if(f&&!n)return Zye;if(!v||v===Zye||u.current!==e||o!=null){const x=new Map;for(let m of e){if(!m)continue;if(o&&o.length>0&&!o.includes(m.id)&&m.rect.current){x.set(m.id,m.rect.current);continue}const w=m.node.current,S=w?new Cre(l(w),w):null;m.rect.current=S,S&&x.set(m.id,S)}return x}return v},[e,o,n,f,l]);return O.useEffect(()=>{u.current=e},[e]),O.useEffect(()=>{f||h()},[n,f]),O.useEffect(()=>{o&&o.length>0&&s(null)},[JSON.stringify(o)]),O.useEffect(()=>{f||typeof a!="number"||p.current!==null||(p.current=setTimeout(()=>{h(),p.current=null},a))},[a,f,h,...r]),{droppableRects:g,measureDroppableContainers:h,measuringScheduled:o!=null};function y(){switch(c){case s2.Always:return!1;case s2.BeforeDragging:return n;default:return!n}}}function T3e(e,t){return sR(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function yDt(e,t){return T3e(e,t)}function vDt(e){let{callback:t,disabled:n}=e;const r=Sre(t),i=O.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return O.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function M6(e){let{callback:t,disabled:n}=e;const r=Sre(t),i=O.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return O.useEffect(()=>()=>i==null?void 0:i.disconnect(),[i]),i}function bDt(e){return new Cre(G_(e),e)}function Gye(e,t,n){t===void 0&&(t=bDt);const[r,i]=O.useReducer(a,null),o=vDt({callback(l){if(e)for(const c of l){const{type:u,target:f}=c;if(u==="childList"&&f instanceof HTMLElement&&f.contains(e)){i();break}}}}),s=M6({callback:i});return Zf(()=>{i(),e?(s==null||s.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),o==null||o.disconnect())},[e]),r;function a(l){if(!e)return null;if(e.isConnected===!1){var c;return(c=l??n)!=null?c:null}const u=t(e);return JSON.stringify(l)===JSON.stringify(u)?l:u}}function ODt(e){const t=T3e(e);return x3e(e,t)}const Kye=[];function xDt(e){const t=O.useRef(e),n=sR(r=>e?r&&r!==Kye&&e&&t.current&&e.parentNode===t.current.parentNode?r:N6(e):Kye,[e]);return O.useEffect(()=>{t.current=e},[e]),n}function wDt(e){const[t,n]=O.useState(null),r=O.useRef(e),i=O.useCallback(o=>{const s=hB(o.target);s&&n(a=>a?(a.set(s,sX(s)),new Map(a)):null)},[]);return O.useEffect(()=>{const o=r.current;if(e!==o){s(o);const a=e.map(l=>{const c=hB(l);return c?(c.addEventListener("scroll",i,{passive:!0}),[c,sX(c)]):null}).filter(l=>l!=null);n(a.length?new Map(a):null),r.current=e}return()=>{s(e),s(o)};function s(a){a.forEach(l=>{const c=hB(l);c==null||c.removeEventListener("scroll",i)})}},[i,e]),O.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,s)=>xw(o,s),Gf):E3e(e):Gf,[e,t])}function Jye(e,t){t===void 0&&(t=[]);const n=O.useRef(null);return O.useEffect(()=>{n.current=null},t),O.useEffect(()=>{const r=e!==Gf;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?i2(e,n.current):Gf}function SDt(e){O.useEffect(()=>{if(!D6)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function _Dt(e,t){return O.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:o}=r;return n[i]=s=>{o(s,t)},n},{}),[e,t])}function P3e(e){return O.useMemo(()=>e?XAt(e):null,[e])}const mB=[];function CDt(e,t){t===void 0&&(t=G_);const[n]=e,r=P3e(n?Gl(n):null),[i,o]=O.useReducer(a,mB),s=M6({callback:o});return e.length>0&&i===mB&&o(),Zf(()=>{e.length?e.forEach(l=>s==null?void 0:s.observe(l)):(s==null||s.disconnect(),o())},[e]),i;function a(){return e.length?e.map(l=>C3e(l)?r:new Cre(t(l),l)):mB}}function $Dt(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return oR(t)?t:e}function EDt(e){let{measure:t}=e;const[n,r]=O.useState(null),i=O.useCallback(c=>{for(const{target:u}of c)if(oR(u)){r(f=>{const d=t(u);return f?{...f,width:d.width,height:d.height}:d});break}},[t]),o=M6({callback:i}),s=O.useCallback(c=>{const u=$Dt(c);o==null||o.disconnect(),u&&(o==null||o.observe(u)),r(u?t(u):null)},[t,o]),[a,l]=a3(s);return O.useMemo(()=>({nodeRef:a,rect:n,setRef:l}),[n,a,l])}const kDt=[{sensor:kre,options:{}},{sensor:$re,options:{}}],TDt={current:{}},VM={draggable:{measure:qye},droppable:{measure:qye,strategy:s2.WhileDragging,frequency:lX.Optimized},dragOverlay:{measure:G_}};class Ok extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const PDt={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ok,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:l3},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:VM,measureDroppableContainers:l3,windowRect:null,measuringScheduled:!1},RDt={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:l3,draggableNodes:new Map,over:null,measureDroppableContainers:l3},I6=O.createContext(RDt),R3e=O.createContext(PDt);function ADt(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ok}}}function DDt(e,t){switch(t.type){case Ro.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Ro.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case Ro.DragEnd:case Ro.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ro.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new Ok(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case Ro.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const s=new Ok(e.droppable.containers);return s.set(n,{...o,disabled:i}),{...e,droppable:{...e.droppable,containers:s}}}case Ro.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new Ok(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function NDt(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=O.useContext(I6),o=iX(r),s=iX(n==null?void 0:n.id);return O.useEffect(()=>{if(!t&&!r&&o&&s!=null){if(!_re(o)||document.activeElement===o.target)return;const a=i.get(s);if(!a)return;const{activatorNode:l,node:c}=a;if(!l.current&&!c.current)return;requestAnimationFrame(()=>{for(const u of[l.current,c.current]){if(!u)continue;const f=$At(u);if(f){f.focus();break}}})}},[r,t,i,s,o]),null}function MDt(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,o)=>o({transform:i,...r}),n):n}function IDt(e){return O.useMemo(()=>({draggable:{...VM.draggable,...e==null?void 0:e.draggable},droppable:{...VM.droppable,...e==null?void 0:e.droppable},dragOverlay:{...VM.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function LDt(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const o=O.useRef(!1),{x:s,y:a}=typeof i=="boolean"?{x:i,y:i}:i;Zf(()=>{if(!s&&!a||!t){o.current=!1;return}if(o.current||!r)return;const c=t==null?void 0:t.node.current;if(!c||c.isConnected===!1)return;const u=n(c),f=x3e(u,r);if(s||(f.x=0),a||(f.y=0),o.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const d=w3e(c);d&&d.scrollBy({top:f.y,left:f.x})}},[t,s,a,r,n])}const A3e=O.createContext({...Gf,scaleX:1,scaleY:1});var bm;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(bm||(bm={}));const jDt=O.memo(function(t){var n,r,i,o;let{id:s,accessibility:a,autoScroll:l=!0,children:c,sensors:u=kDt,collisionDetection:f=QAt,measuring:d,modifiers:h,...p}=t;const g=O.useReducer(DDt,void 0,ADt),[y,v]=g,[x,m]=AAt(),[w,S]=O.useState(bm.Uninitialized),C=w===bm.Initialized,{draggable:{active:$,nodes:E,translate:R},droppable:{containers:N}}=y,I=$?E.get($):null,j=O.useRef({initial:null,translated:null}),A=O.useMemo(()=>{var Dn;return $!=null?{id:$,data:(Dn=I==null?void 0:I.data)!=null?Dn:TDt,rect:j}:null},[$,I]),T=O.useRef(null),[D,L]=O.useState(null),[W,V]=O.useState(null),Q=r2(p,Object.values(p)),B=aR("DndDescribedBy",s),Y=O.useMemo(()=>N.getEnabled(),[N]),U=IDt(d),{droppableRects:q,measureDroppableContainers:Z,measuringScheduled:oe}=mDt(Y,{dragging:C,dependencies:[R.x,R.y],config:U.droppable}),ce=pDt(E,$),re=O.useMemo(()=>W?oX(W):null,[W]),fe=wo(),ae=yDt(ce,U.draggable.measure);LDt({activeNode:$?E.get($):null,config:fe.layoutShiftCompensation,initialRect:ae,measure:U.draggable.measure});const ue=Gye(ce,U.draggable.measure,ae),me=Gye(ce?ce.parentElement:null),ne=O.useRef({activatorEvent:null,active:null,activeNode:ce,collisionRect:null,collisions:null,droppableRects:q,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:N,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Le=N.getNodeFor((n=ne.current.over)==null?void 0:n.id),_e=EDt({measure:U.dragOverlay.measure}),ke=(r=_e.nodeRef.current)!=null?r:ce,ze=C?(i=_e.rect)!=null?i:ue:null,Je=!!(_e.nodeRef.current&&_e.rect),Be=ODt(Je?null:ue),K=P3e(ke?Gl(ke):null),ge=xDt(C?Le??ce:null),Oe=CDt(ge),Ve=MDt(h,{transform:{x:R.x-Be.x,y:R.y-Be.y,scaleX:1,scaleY:1},activatorEvent:W,active:A,activeNodeRect:ue,containerNodeRect:me,draggingNodeRect:ze,over:ne.current.over,overlayNodeRect:_e.rect,scrollableAncestors:ge,scrollableAncestorRects:Oe,windowRect:K}),Fe=re?xw(re,R):null,ye=wDt(ge),Ne=Jye(ye),ft=Jye(ye,[ue]),ht=xw(Ve,Ne),pt=ze?VAt(ze,Ve):null,Mt=A&&pt?f({active:A,collisionRect:pt,droppableRects:q,droppableContainers:Y,pointerCoordinates:Fe}):null,on=O3e(Mt,"id"),[At,Hr]=O.useState(null),bi=Je?Ve:xw(Ve,ft),Zr=BAt(bi,(o=At==null?void 0:At.rect)!=null?o:null,ue),Ir=O.useCallback((Dn,Kt)=>{let{sensor:ui,options:io}=Kt;if(T.current==null)return;const Xi=E.get(T.current);if(!Xi)return;const Oi=Dn.nativeEvent,oo=new ui({active:T.current,activeNode:Xi,event:Oi,options:io,context:ne,onStart(fi){const Pa=T.current;if(Pa==null)return;const ul=E.get(Pa);if(!ul)return;const{onDragStart:Ri}=Q.current,Ws={active:{id:Pa,data:ul.data,rect:j}};Io.unstable_batchedUpdates(()=>{Ri==null||Ri(Ws),S(bm.Initializing),v({type:Ro.DragStart,initialCoordinates:fi,active:Pa}),x({type:"onDragStart",event:Ws})})},onMove(fi){v({type:Ro.DragMove,coordinates:fi})},onEnd:so(Ro.DragEnd),onCancel:so(Ro.DragCancel)});Io.unstable_batchedUpdates(()=>{L(oo),V(Dn.nativeEvent)});function so(fi){return async function(){const{active:ul,collisions:Ri,over:Ws,scrollAdjustedTranslate:te}=ne.current;let dn=null;if(ul&&te){const{cancelDrop:qn}=Q.current;dn={activatorEvent:Oi,active:ul,collisions:Ri,delta:te,over:Ws},fi===Ro.DragEnd&&typeof qn=="function"&&await Promise.resolve(qn(dn))&&(fi=Ro.DragCancel)}T.current=null,Io.unstable_batchedUpdates(()=>{v({type:fi}),S(bm.Uninitialized),Hr(null),L(null),V(null);const qn=fi===Ro.DragEnd?"onDragEnd":"onDragCancel";if(dn){const Dt=Q.current[qn];Dt==null||Dt(dn),x({type:qn,event:dn})}})}}},[E]),Qt=O.useCallback((Dn,Kt)=>(ui,io)=>{const Xi=ui.nativeEvent,Oi=E.get(io);if(T.current!==null||!Oi||Xi.dndKit||Xi.defaultPrevented)return;const oo={active:Oi};Dn(ui,Kt.options,oo)===!0&&(Xi.dndKit={capturedBy:Kt.sensor},T.current=io,Ir(ui,Kt))},[E,Ir]),ar=gDt(u,Qt);SDt(u),Zf(()=>{ue&&w===bm.Initializing&&S(bm.Initialized)},[ue,w]),O.useEffect(()=>{const{onDragMove:Dn}=Q.current,{active:Kt,activatorEvent:ui,collisions:io,over:Xi}=ne.current;if(!Kt||!ui)return;const Oi={active:Kt,activatorEvent:ui,collisions:io,delta:{x:ht.x,y:ht.y},over:Xi};Io.unstable_batchedUpdates(()=>{Dn==null||Dn(Oi),x({type:"onDragMove",event:Oi})})},[ht.x,ht.y]),O.useEffect(()=>{const{active:Dn,activatorEvent:Kt,collisions:ui,droppableContainers:io,scrollAdjustedTranslate:Xi}=ne.current;if(!Dn||T.current==null||!Kt||!Xi)return;const{onDragOver:Oi}=Q.current,oo=io.get(on),so=oo&&oo.rect.current?{id:oo.id,rect:oo.rect.current,data:oo.data,disabled:oo.disabled}:null,fi={active:Dn,activatorEvent:Kt,collisions:ui,delta:{x:Xi.x,y:Xi.y},over:so};Io.unstable_batchedUpdates(()=>{Hr(so),Oi==null||Oi(fi),x({type:"onDragOver",event:fi})})},[on]),Zf(()=>{ne.current={activatorEvent:W,active:A,activeNode:ce,collisionRect:pt,collisions:Mt,droppableRects:q,draggableNodes:E,draggingNode:ke,draggingNodeRect:ze,droppableContainers:N,over:At,scrollableAncestors:ge,scrollAdjustedTranslate:ht},j.current={initial:ze,translated:pt}},[A,ce,Mt,pt,E,ke,ze,q,N,At,ge,ht]),fDt({...fe,delta:R,draggingRect:pt,pointerCoordinates:Fe,scrollableAncestors:ge,scrollableAncestorRects:Oe});const _n=O.useMemo(()=>({active:A,activeNode:ce,activeNodeRect:ue,activatorEvent:W,collisions:Mt,containerNodeRect:me,dragOverlay:_e,draggableNodes:E,droppableContainers:N,droppableRects:q,over:At,measureDroppableContainers:Z,scrollableAncestors:ge,scrollableAncestorRects:Oe,measuringConfiguration:U,measuringScheduled:oe,windowRect:K}),[A,ce,ue,W,Mt,me,_e,E,N,q,At,Z,ge,Oe,U,oe,K]),wr=O.useMemo(()=>({activatorEvent:W,activators:ar,active:A,activeNodeRect:ue,ariaDescribedById:{draggable:B},dispatch:v,draggableNodes:E,over:At,measureDroppableContainers:Z}),[W,ar,A,ue,v,B,E,At,Z]);return ie.createElement(y3e.Provider,{value:m},ie.createElement(I6.Provider,{value:wr},ie.createElement(R3e.Provider,{value:_n},ie.createElement(A3e.Provider,{value:Zr},c)),ie.createElement(NDt,{disabled:(a==null?void 0:a.restoreFocus)===!1})),ie.createElement(MAt,{...a,hiddenTextDescribedById:B}));function wo(){const Dn=(D==null?void 0:D.autoScrollEnabled)===!1,Kt=typeof l=="object"?l.enabled===!1:l===!1,ui=C&&!Dn&&!Kt;return typeof l=="object"?{...l,enabled:ui}:{enabled:ui}}}),FDt=O.createContext(null),e0e="button",zDt="Droppable";function QDt(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const o=aR(zDt),{activators:s,activatorEvent:a,active:l,activeNodeRect:c,ariaDescribedById:u,draggableNodes:f,over:d}=O.useContext(I6),{role:h=e0e,roleDescription:p="draggable",tabIndex:g=0}=i??{},y=(l==null?void 0:l.id)===t,v=O.useContext(y?A3e:FDt),[x,m]=a3(),[w,S]=a3(),C=_Dt(s,t),$=r2(n);Zf(()=>(f.set(t,{id:t,key:o,node:x,activatorNode:w,data:$}),()=>{const R=f.get(t);R&&R.key===o&&f.delete(t)}),[f,t]);const E=O.useMemo(()=>({role:h,tabIndex:g,"aria-disabled":r,"aria-pressed":y&&h===e0e?!0:void 0,"aria-roledescription":p,"aria-describedby":u.draggable}),[r,h,g,y,p,u.draggable]);return{active:l,activatorEvent:a,activeNodeRect:c,attributes:E,isDragging:y,listeners:r?void 0:C,node:x,over:d,setNodeRef:m,setActivatorNodeRef:S,transform:v}}function BDt(){return O.useContext(R3e)}const WDt="Droppable",VDt={timeout:25};function UDt(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const o=aR(WDt),{active:s,dispatch:a,over:l,measureDroppableContainers:c}=O.useContext(I6),u=O.useRef({disabled:n}),f=O.useRef(!1),d=O.useRef(null),h=O.useRef(null),{disabled:p,updateMeasurementsFor:g,timeout:y}={...VDt,...i},v=r2(g??r),x=O.useCallback(()=>{if(!f.current){f.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{c(Array.isArray(v.current)?v.current:[v.current]),h.current=null},y)},[y]),m=M6({callback:x,disabled:p||!s}),w=O.useCallback((E,R)=>{m&&(R&&(m.unobserve(R),f.current=!1),E&&m.observe(E))},[m]),[S,C]=a3(w),$=r2(t);return O.useEffect(()=>{!m||!S.current||(m.disconnect(),f.current=!1,m.observe(S.current))},[S,m]),Zf(()=>(a({type:Ro.RegisterDroppable,element:{id:r,key:o,disabled:n,node:S,rect:d,data:$}}),()=>a({type:Ro.UnregisterDroppable,key:o,id:r})),[r]),O.useEffect(()=>{n!==u.current.disabled&&(a({type:Ro.SetDroppableDisabled,id:r,key:o,disabled:n}),u.current.disabled=n)},[r,o,n,a]),{active:s,rect:d,isOver:(l==null?void 0:l.id)===r,node:S,over:l,setNodeRef:C}}function Nv(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function qDt(e,t){return e.reduce((n,r,i)=>{const o=t.get(r);return o&&(n[i]=o),n},Array(e.length))}function $D(e){return e!==null&&e>=0}function YDt(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function XDt(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const D3e=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const o=Nv(t,r,n),s=t[i],a=o[i];return!a||!s?null:{x:a.left-s.left,y:a.top-s.top,scaleX:a.width/s.width,scaleY:a.height/s.height}},ED={scaleX:1,scaleY:1},HDt=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:o,overIndex:s}=e;const a=(t=o[n])!=null?t:r;if(!a)return null;if(i===n){const c=o[s];return c?{x:0,y:n<s?c.top+c.height-(a.top+a.height):c.top-a.top,...ED}:null}const l=ZDt(o,i,n);return i>n&&i<=s?{x:0,y:-a.height-l,...ED}:i<n&&i>=s?{x:0,y:a.height+l,...ED}:{x:0,y:0,...ED}};function ZDt(e,t,n){const r=e[t],i=e[t-1],o=e[t+1];return r?n<t?i?r.top-(i.top+i.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const N3e="Sortable",M3e=ie.createContext({activeIndex:-1,containerId:N3e,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:D3e,disabled:{draggable:!1,droppable:!1}});function GDt(e){let{children:t,id:n,items:r,strategy:i=D3e,disabled:o=!1}=e;const{active:s,dragOverlay:a,droppableRects:l,over:c,measureDroppableContainers:u}=BDt(),f=aR(N3e,n),d=a.rect!==null,h=O.useMemo(()=>r.map(C=>typeof C=="object"&&"id"in C?C.id:C),[r]),p=s!=null,g=s?h.indexOf(s.id):-1,y=c?h.indexOf(c.id):-1,v=O.useRef(h),x=!YDt(h,v.current),m=y!==-1&&g===-1||x,w=XDt(o);Zf(()=>{x&&p&&u(h)},[x,h,p,u]),O.useEffect(()=>{v.current=h},[h]);const S=O.useMemo(()=>({activeIndex:g,containerId:f,disabled:w,disableTransforms:m,items:h,overIndex:y,useDragOverlay:d,sortedRects:qDt(h,l),strategy:i}),[g,f,w.draggable,w.droppable,m,h,y,l,d,i]);return ie.createElement(M3e.Provider,{value:S},t)}const KDt=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return Nv(n,r,i).indexOf(t)},JDt=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:o,newIndex:s,previousItems:a,previousContainerId:l,transition:c}=e;return!c||!r||a!==o&&i===s?!1:n?!0:s!==i&&t===l},eNt={duration:200,easing:"ease"},I3e="transform",tNt=o2.Transition.toString({property:I3e,duration:0,easing:"linear"}),nNt={roleDescription:"sortable"};function rNt(e){let{disabled:t,index:n,node:r,rect:i}=e;const[o,s]=O.useState(null),a=O.useRef(n);return Zf(()=>{if(!t&&n!==a.current&&r.current){const l=i.current;if(l){const c=G_(r.current,{ignoreTransform:!0}),u={x:l.left-c.left,y:l.top-c.top,scaleX:l.width/c.width,scaleY:l.height/c.height};(u.x||u.y)&&s(u)}}n!==a.current&&(a.current=n)},[t,n,r,i]),O.useEffect(()=>{o&&s(null)},[o]),o}function iNt(e){let{animateLayoutChanges:t=JDt,attributes:n,disabled:r,data:i,getNewIndex:o=KDt,id:s,strategy:a,resizeObserverConfig:l,transition:c=eNt}=e;const{items:u,containerId:f,activeIndex:d,disabled:h,disableTransforms:p,sortedRects:g,overIndex:y,useDragOverlay:v,strategy:x}=O.useContext(M3e),m=oNt(r,h),w=u.indexOf(s),S=O.useMemo(()=>({sortable:{containerId:f,index:w,items:u},...i}),[f,i,w,u]),C=O.useMemo(()=>u.slice(u.indexOf(s)),[u,s]),{rect:$,node:E,isOver:R,setNodeRef:N}=UDt({id:s,data:S,disabled:m.droppable,resizeObserverConfig:{updateMeasurementsFor:C,...l}}),{active:I,activatorEvent:j,activeNodeRect:A,attributes:T,setNodeRef:D,listeners:L,isDragging:W,over:V,setActivatorNodeRef:Q,transform:B}=QDt({id:s,data:S,attributes:{...nNt,...n},disabled:m.draggable}),Y=wAt(N,D),U=!!I,q=U&&!p&&$D(d)&&$D(y),Z=!v&&W,oe=Z&&q?B:null,re=q?oe??(a??x)({rects:g,activeNodeRect:A,activeIndex:d,overIndex:y,index:w}):null,fe=$D(d)&&$D(y)?o({id:s,items:u,activeIndex:d,overIndex:y}):w,ae=I==null?void 0:I.id,ue=O.useRef({activeId:ae,items:u,newIndex:fe,containerId:f}),me=u!==ue.current.items,ne=t({active:I,containerId:f,isDragging:W,isSorting:U,id:s,index:w,items:u,newIndex:ue.current.newIndex,previousItems:ue.current.items,previousContainerId:ue.current.containerId,transition:c,wasDragging:ue.current.activeId!=null}),Le=rNt({disabled:!ne,index:w,node:E,rect:$});return O.useEffect(()=>{U&&ue.current.newIndex!==fe&&(ue.current.newIndex=fe),f!==ue.current.containerId&&(ue.current.containerId=f),u!==ue.current.items&&(ue.current.items=u)},[U,fe,f,u]),O.useEffect(()=>{if(ae===ue.current.activeId)return;if(ae&&!ue.current.activeId){ue.current.activeId=ae;return}const ke=setTimeout(()=>{ue.current.activeId=ae},50);return()=>clearTimeout(ke)},[ae]),{active:I,activeIndex:d,attributes:T,data:S,rect:$,index:w,newIndex:fe,items:u,isOver:R,isSorting:U,isDragging:W,listeners:L,node:E,overIndex:y,over:V,setNodeRef:Y,setActivatorNodeRef:Q,setDroppableNodeRef:N,setDraggableNodeRef:D,transform:Le??re,transition:_e()};function _e(){if(Le||me&&ue.current.newIndex===w)return tNt;if(!(Z&&!_re(j)||!c)&&(U||ne))return o2.Transition.toString({...c,property:I3e})}}function oNt(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function u3(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const sNt=[Fn.Down,Fn.Right,Fn.Up,Fn.Left],aNt=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:o,over:s,scrollableAncestors:a}}=t;if(sNt.includes(e.code)){if(e.preventDefault(),!n||!r)return;const l=[];o.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const d=i.get(f.id);if(d)switch(e.code){case Fn.Down:r.top<d.top&&l.push(f);break;case Fn.Up:r.top>d.top&&l.push(f);break;case Fn.Left:r.left>d.left&&l.push(f);break;case Fn.Right:r.left<d.left&&l.push(f);break}});const c=FAt({active:n,collisionRect:r,droppableRects:i,droppableContainers:l,pointerCoordinates:null});let u=O3e(c,"id");if(u===(s==null?void 0:s.id)&&c.length>1&&(u=c[1].id),u!=null){const f=o.get(n.id),d=o.get(u),h=d?i.get(d.id):null,p=d==null?void 0:d.node.current;if(p&&h&&f&&d){const y=N6(p).some((C,$)=>a[$]!==C),v=L3e(f,d),x=lNt(f,d),m=y||!v?{x:0,y:0}:{x:x?r.width-h.width:0,y:x?r.height-h.height:0},w={x:h.left,y:h.top};return m.x&&m.y?w:i2(w,m)}}}};function L3e(e,t){return!u3(e)||!u3(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function lNt(e,t){return!u3(e)||!u3(t)||!L3e(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function cNt(e){let t=e[e.length-1];if(t.mimetype!=="text/plain"||(e.length>=2&&e[e.length-2].mimetype==="text/plain"&&e[e.length-2].channel===t.channel&&t.channel!=="stdin"&&(e.pop(),e[e.length-1].data+=t.data,t=e[e.length-1]),t.mimetype!=="text/plain"))return e;const n=new RegExp(`\r[^
]`,"g");let r=t.data,i=r.search(n);for(;i>-1;){let o=-1;for(let c=i-1;c>=0;c--)if(r.at(c)===`
`){o=c;break}const s=r.slice(i+1),a=r.slice(0,o+1),l=r.slice(o+1,i);r=l.length<=s.length?a+s:a+s+l.slice(s.length),i=r.search(n)}return e[e.length-1].data=r,e}function uNt(e){const t=[],i=new DOMParser().parseFromString(e,"text/html").querySelectorAll("h1, h2, h3");for(const o of Array.from(i)){const s=o.textContent;if(!s)continue;const a=o.id;if(!a)continue;const l=Number.parseInt(o.tagName[1],10);t.push({name:s,id:a,level:l})}return{items:t}}function fNt(e){return{items:e.filter(Boolean).flatMap(t=>t.items)}}function dNt(e){if(e==null||e.mimetype!=="text/html")return null;try{return uNt(e.data)}catch{return Ut.error("Failed to parse outline"),null}}let f3=class UM{constructor(t){this.ms=t}static fromMilliseconds(t){return t==null?null:new UM(t)}static fromSeconds(t){return t==null?null:new UM(t*1e3)}static now(){return new UM(Date.now())}toMilliseconds(){return this.ms}toSeconds(){return this.ms/1e3}};function hNt(e,t){const n={...e};switch(t.status){case"queued":n.interrupted=!1,n.errored=!1,n.runElapsedTimeMs=null,n.debuggerActive=!1;break;case"running":n.interrupted=!1,e.stopped&&(n.output=null),n.status==="queued"&&(n.consoleOutputs=[]),n.stopped=!1,n.runStartTimestamp=t.timestamp;break;case"idle":e.runStartTimestamp&&(n.runElapsedTimeMs=f3.fromSeconds(t.timestamp-e.runStartTimestamp).toMilliseconds(),n.runStartTimestamp=null),n.debuggerActive=!1;break;case null:break;case"stale":break;case"disabled-transitively":break;default:Rg(t.status)}n.output=t.output??n.output,n.status=t.status??n.status;let r=!1;t.output!==null&&t.output.mimetype==="application/vnd.marimo+error"&&(t.output.data.some(l=>l.type==="interruption")?(n.interrupted=!0,r=!0):t.output.data.some(l=>l.type==="ancestor-stopped")?n.stopped=!0:n.errored=!0);let i=e.consoleOutputs;r&&(n.debuggerActive=!1,i=i.map(l=>l.channel==="stdin"?{...l,response:l.response??""}:l)),t.console!==null&&(i=Array.isArray(t.console)?t.console:cNt([...i,t.console])),n.consoleOutputs=i,n.outline=dNt(n.output);const s=[t.console].flat().filter(Boolean).filter(l=>l.channel==="pdb");return s.length>0&&s.some(l=>l.data==="start")&&(n.debuggerActive=!0),n}function pNt(e){const t={...e};return t.interrupted=!1,t.errored=!1,t.runElapsedTimeMs=null,t.debuggerActive=!1,t}function j3e(e,t){const{status:n,output:r,runStartTimestamp:i,interrupted:o}=e;if(o)return!1;if(t)return!0;const s=n==="running"||n==="queued",a=n==="running"&&r!==null&&i!==null&&r.timestamp>i;return s&&!a?!0:n==="stale"}function lR(e,t){return{reducer:(n,r)=>(n=n||e(),r.type in t?t[r.type](n,r.payload):(Ut.error(`Action type ${r.type} is not defined in reducers.`),n)),createActions:n=>{const r={};for(const i in t)r[i]=o=>{n({type:i,payload:o})};return r}}}function gNt(e,t){return[...e.slice(0,t),...e.slice(t+1)]}function t0e(e,t,n){return e.length===0?[n]:[...e.slice(0,t),n,...e.slice(t)]}function yB(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}const n0e={EMPTY:[]},F3e=1024;let mNt=0,mu=class{constructor(t,n){this.from=t,this.to=n}};class Yt{constructor(t={}){this.id=mNt++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof t!="function"&&(t=vo.match(t)),n=>{let r=t(n);return r===void 0?null:[this,r]}}}Yt.closedBy=new Yt({deserialize:e=>e.split(" ")});Yt.openedBy=new Yt({deserialize:e=>e.split(" ")});Yt.group=new Yt({deserialize:e=>e.split(" ")});Yt.isolate=new Yt({deserialize:e=>{if(e&&e!="rtl"&&e!="ltr"&&e!="auto")throw new RangeError("Invalid value for isolate: "+e);return e||"auto"}});Yt.contextHash=new Yt({perNode:!0});Yt.lookAhead=new Yt({perNode:!0});Yt.mounted=new Yt({perNode:!0});class a2{constructor(t,n,r){this.tree=t,this.overlay=n,this.parser=r}static get(t){return t&&t.props&&t.props[Yt.mounted.id]}}const yNt=Object.create(null);class vo{constructor(t,n,r,i=0){this.name=t,this.props=n,this.id=r,this.flags=i}static define(t){let n=t.props&&t.props.length?Object.create(null):yNt,r=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(t.name==null?8:0),i=new vo(t.name||"",n,t.id,r);if(t.props){for(let o of t.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[o[0].id]=o[1]}}return i}prop(t){return this.props[t.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(t){if(typeof t=="string"){if(this.name==t)return!0;let n=this.prop(Yt.group);return n?n.indexOf(t)>-1:!1}return this.id==t}static match(t){let n=Object.create(null);for(let r in t)for(let i of r.split(" "))n[i]=t[r];return r=>{for(let i=r.prop(Yt.group),o=-1;o<(i?i.length:0);o++){let s=n[o<0?r.name:i[o]];if(s)return s}}}}vo.none=new vo("",Object.create(null),0,8);class K_{constructor(t){this.types=t;for(let n=0;n<t.length;n++)if(t[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...t){let n=[];for(let r of this.types){let i=null;for(let o of t){let s=o(r);s&&(i||(i=Object.assign({},r.props)),i[s[0].id]=s[1])}n.push(i?new vo(r.name,i,r.id,r.flags):r)}return new K_(n)}}const kD=new WeakMap,r0e=new WeakMap;var Dr;(function(e){e[e.ExcludeBuffers=1]="ExcludeBuffers",e[e.IncludeAnonymous=2]="IncludeAnonymous",e[e.IgnoreMounts=4]="IgnoreMounts",e[e.IgnoreOverlays=8]="IgnoreOverlays"})(Dr||(Dr={}));let Qn=class cX{constructor(t,n,r,i,o){if(this.type=t,this.children=n,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(let[s,a]of o)this.props[typeof s=="number"?s:s.id]=a}}toString(){let t=a2.get(this);if(t&&!t.overlay)return t.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(t=0){return new d3(this.topNode,t)}cursorAt(t,n=0,r=0){let i=kD.get(this)||this.topNode,o=new d3(i);return o.moveTo(t,n),kD.set(this,o._tree),o}get topNode(){return new Iu(this,0,0,null)}resolve(t,n=0){let r=l2(kD.get(this)||this.topNode,t,n,!1);return kD.set(this,r),r}resolveInner(t,n=0){let r=l2(r0e.get(this)||this.topNode,t,n,!0);return r0e.set(this,r),r}resolveStack(t,n=0){return ONt(this,t,n)}iterate(t){let{enter:n,leave:r,from:i=0,to:o=this.length}=t,s=t.mode||0,a=(s&Dr.IncludeAnonymous)>0;for(let l=this.cursor(s|Dr.IncludeAnonymous);;){let c=!1;if(l.from<=o&&l.to>=i&&(!a&&l.type.isAnonymous||n(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let n in this.props)t.push([+n,this.props[n]]);return t}balance(t={}){return this.children.length<=8?this:Rre(vo.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new cX(this.type,n,r,i,this.propValues),t.makeTree||((n,r,i)=>new cX(vo.none,n,r,i)))}static build(t){return xNt(t)}};Qn.empty=new Qn(vo.none,[],[],0);class Tre{constructor(t,n){this.buffer=t,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Tre(this.buffer,this.index)}}class Yy{constructor(t,n,r){this.buffer=t,this.length=n,this.set=r}get type(){return vo.none}toString(){let t=[];for(let n=0;n<this.buffer.length;)t.push(this.childString(n)),n=this.buffer[n+3];return t.join(",")}childString(t){let n=this.buffer[t],r=this.buffer[t+3],i=this.set.types[n],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),t+=4,r==t)return o;let s=[];for(;t<r;)s.push(this.childString(t)),t=this.buffer[t+3];return o+"("+s.join(",")+")"}findChild(t,n,r,i,o){let{buffer:s}=this,a=-1;for(let l=t;l!=n&&!(z3e(o,i,s[l+1],s[l+2])&&(a=l,r>0));l=s[l+3]);return a}slice(t,n,r){let i=this.buffer,o=new Uint16Array(n-t),s=0;for(let a=t,l=0;a<n;){o[l++]=i[a++],o[l++]=i[a++]-r;let c=o[l++]=i[a++]-r;o[l++]=i[a++]-t,s=Math.max(s,c)}return new Yy(o,s,this.set)}}function z3e(e,t,n,r){switch(e){case-2:return n<t;case-1:return r>=t&&n<t;case 0:return n<t&&r>t;case 1:return n<=t&&r>t;case 2:return r>t;case 4:return!0}}function l2(e,t,n,r){for(var i;e.from==e.to||(n<1?e.from>=t:e.from>t)||(n>-1?e.to<=t:e.to<t);){let s=!r&&e instanceof Iu&&e.index<0?null:e.parent;if(!s)return e;e=s}let o=r?0:Dr.IgnoreOverlays;if(r)for(let s=e,a=s.parent;a;s=a,a=s.parent)s instanceof Iu&&s.index<0&&((i=a.enter(t,n,o))===null||i===void 0?void 0:i.from)!=s.from&&(e=a);for(;;){let s=e.enter(t,n,o);if(!s)return e;e=s}}class Q3e{cursor(t=0){return new d3(this,t)}getChild(t,n=null,r=null){let i=i0e(this,t,n,r);return i.length?i[0]:null}getChildren(t,n=null,r=null){return i0e(this,t,n,r)}resolve(t,n=0){return l2(this,t,n,!1)}resolveInner(t,n=0){return l2(this,t,n,!0)}matchContext(t){return uX(this,t)}enterUnfinishedNodesBefore(t){let n=this.childBefore(t),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}}let Iu=class qM extends Q3e{constructor(t,n,r,i){super(),this._tree=t,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,n,r,i,o=0){for(let s=this;;){for(let{children:a,positions:l}=s._tree,c=n>0?a.length:-1;t!=c;t+=n){let u=a[t],f=l[t]+s.from;if(z3e(i,r,f,f+u.length)){if(u instanceof Yy){if(o&Dr.ExcludeBuffers)continue;let d=u.findChild(0,u.buffer.length,n,r-f,i);if(d>-1)return new Kd(new vNt(s,u,t,f),null,d)}else if(o&Dr.IncludeAnonymous||!u.type.isAnonymous||Pre(u)){let d;if(!(o&Dr.IgnoreMounts)&&(d=a2.get(u))&&!d.overlay)return new qM(d.tree,f,t,s);let h=new qM(u,f,t,s);return o&Dr.IncludeAnonymous||!h.type.isAnonymous?h:h.nextChild(n<0?u.children.length-1:0,n,r,i)}}}if(o&Dr.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?t=s.index+n:t=n<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,n,r=0){let i;if(!(r&Dr.IgnoreOverlays)&&(i=a2.get(this._tree))&&i.overlay){let o=t-this.from;for(let{from:s,to:a}of i.overlay)if((n>0?s<=o:s<o)&&(n<0?a>=o:a>o))return new qM(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,n,r)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function i0e(e,t,n,r){let i=e.cursor(),o=[];if(!i.firstChild())return o;if(n!=null){for(let s=!1;!s;)if(s=i.type.is(n),!i.nextSibling())return o}for(;;){if(r!=null&&i.type.is(r))return o;if(i.type.is(t)&&o.push(i.node),!i.nextSibling())return r==null?o:[]}}function uX(e,t,n=t.length-1){for(let r=e.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(t[n]&&t[n]!=r.name)return!1;n--}}return!0}class vNt{constructor(t,n,r,i){this.parent=t,this.buffer=n,this.index=r,this.start=i}}class Kd extends Q3e{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,n,r){super(),this.context=t,this._parent=n,this.index=r,this.type=t.buffer.set.types[t.buffer.buffer[r]]}child(t,n,r){let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],t,n-this.context.start,r);return o<0?null:new Kd(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,n,r=0){if(r&Dr.ExcludeBuffers)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,t-this.context.start,n);return o<0?null:new Kd(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,n=t.buffer[this.index+3];return n<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new Kd(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new Kd(this.context,this._parent,t.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],n=[],{buffer:r}=this.context,i=this.index+4,o=r.buffer[this.index+3];if(o>i){let s=r.buffer[this.index+1];t.push(r.slice(i,o,s)),n.push(0)}return new Qn(this.type,t,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function B3e(e){if(!e.length)return null;let t=0,n=e[0];for(let o=1;o<e.length;o++){let s=e[o];(s.from>n.from||s.to<n.to)&&(n=s,t=o)}let r=n instanceof Iu&&n.index<0?null:n.parent,i=e.slice();return r?i[t]=r:i.splice(t,1),new bNt(i,n)}class bNt{constructor(t,n){this.heads=t,this.node=n}get next(){return B3e(this.heads)}}function ONt(e,t,n){let r=e.resolveInner(t,n),i=null;for(let o=r instanceof Iu?r:r.context.parent;o;o=o.parent)if(o.index<0){let s=o.parent;(i||(i=[r])).push(s.resolve(t,n)),o=s}else{let s=a2.get(o.tree);if(s&&s.overlay&&s.overlay[0].from<=t&&s.overlay[s.overlay.length-1].to>=t){let a=new Iu(s.tree,s.overlay[0].from+o.from,-1,o);(i||(i=[r])).push(l2(a,t,n,!1))}}return i?B3e(i):r}class d3{get name(){return this.type.name}constructor(t,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof Iu)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let r=t._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return t?(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0):!1}yieldBuf(t,n){this.index=t;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[t]],this.from=r+i.buffer[t+1],this.to=r+i.buffer[t+2],!0}yield(t){return t?t instanceof Iu?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,n,r,this.mode));let{buffer:i}=this.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],t,n-this.buffer.start,r);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,n,r=this.mode){return this.buffer?r&Dr.ExcludeBuffers?!1:this.enterChild(1,t,n):this.yield(this._tree.enter(t,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Dr.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&Dr.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(t<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let n,r,{buffer:i}=this;if(i){if(t>0){if(this.index<i.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let o=n+t,s=t<0?-1:r._tree.children.length;o!=s;o+=t){let a=r._tree.children[o];if(this.mode&Dr.IncludeAnonymous||a instanceof Yy||!a.type.isAnonymous||Pre(a))return!1}return!0}move(t,n){if(n&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,n=0){for(;(this.from==this.to||(n<1?this.from>=t:this.from>t)||(n>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,n););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,n=null,r=0;if(t&&t.context==this.buffer)e:for(let i=this.index,o=this.stack.length;o>=0;){for(let s=t;s;s=s._parent)if(s.index==i){if(i==this.index)return s;n=s,r=o+1;break e}i=this.stack[--o]}for(let i=r;i<this.stack.length;i++)n=new Kd(this.buffer,n,this.stack[i]);return this.bufferNode=new Kd(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||t(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;i&&n&&n(this),i=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,i=!0}}}matchContext(t){if(!this.buffer)return uX(this.node,t);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=t.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return uX(this.node,t,i);let s=r[n.buffer[this.stack[o]]];if(!s.isAnonymous){if(t[i]&&t[i]!=s.name)return!1;i--}}return!0}}function Pre(e){return e.children.some(t=>t instanceof Yy||!t.type.isAnonymous||Pre(t))}function xNt(e){var t;let{buffer:n,nodeSet:r,maxBufferLength:i=F3e,reused:o=[],minRepeatType:s=r.types.length}=e,a=Array.isArray(n)?new Tre(n,n.length):n,l=r.types,c=0,u=0;function f(S,C,$,E,R,N){let{id:I,start:j,end:A,size:T}=a,D=u;for(;T<0;)if(a.next(),T==-1){let B=o[I];$.push(B),E.push(j-S);return}else if(T==-3){c=I;return}else if(T==-4){u=I;return}else throw new RangeError(`Unrecognized record size: ${T}`);let L=l[I],W,V,Q=j-S;if(A-j<=i&&(V=y(a.pos-C,R))){let B=new Uint16Array(V.size-V.skip),Y=a.pos-V.size,U=B.length;for(;a.pos>Y;)U=v(V.start,B,U);W=new Yy(B,A-V.start,r),Q=V.start-S}else{let B=a.pos-T;a.next();let Y=[],U=[],q=I>=s?I:-1,Z=0,oe=A;for(;a.pos>B;)q>=0&&a.id==q&&a.size>=0?(a.end<=oe-i&&(p(Y,U,j,Z,a.end,oe,q,D),Z=Y.length,oe=a.end),a.next()):N>2500?d(j,B,Y,U):f(j,B,Y,U,q,N+1);if(q>=0&&Z>0&&Z<Y.length&&p(Y,U,j,Z,j,oe,q,D),Y.reverse(),U.reverse(),q>-1&&Z>0){let ce=h(L);W=Rre(L,Y,U,0,Y.length,0,A-j,ce,ce)}else W=g(L,Y,U,A-j,D-A)}$.push(W),E.push(Q)}function d(S,C,$,E){let R=[],N=0,I=-1;for(;a.pos>C;){let{id:j,start:A,end:T,size:D}=a;if(D>4)a.next();else{if(I>-1&&A<I)break;I<0&&(I=T-i),R.push(j,A,T),N++,a.next()}}if(N){let j=new Uint16Array(N*4),A=R[R.length-2];for(let T=R.length-3,D=0;T>=0;T-=3)j[D++]=R[T],j[D++]=R[T+1]-A,j[D++]=R[T+2]-A,j[D++]=D;$.push(new Yy(j,R[2]-A,r)),E.push(A-S)}}function h(S){return(C,$,E)=>{let R=0,N=C.length-1,I,j;if(N>=0&&(I=C[N])instanceof Qn){if(!N&&I.type==S&&I.length==E)return I;(j=I.prop(Yt.lookAhead))&&(R=$[N]+I.length+j)}return g(S,C,$,E,R)}}function p(S,C,$,E,R,N,I,j){let A=[],T=[];for(;S.length>E;)A.push(S.pop()),T.push(C.pop()+$-R);S.push(g(r.types[I],A,T,N-R,j-N)),C.push(R-$)}function g(S,C,$,E,R=0,N){if(c){let I=[Yt.contextHash,c];N=N?[I].concat(N):[I]}if(R>25){let I=[Yt.lookAhead,R];N=N?[I].concat(N):[I]}return new Qn(S,C,$,E,N)}function y(S,C){let $=a.fork(),E=0,R=0,N=0,I=$.end-i,j={size:0,start:0,skip:0};e:for(let A=$.pos-S;$.pos>A;){let T=$.size;if($.id==C&&T>=0){j.size=E,j.start=R,j.skip=N,N+=4,E+=4,$.next();continue}let D=$.pos-T;if(T<0||D<A||$.start<I)break;let L=$.id>=s?4:0,W=$.start;for($.next();$.pos>D;){if($.size<0)if($.size==-3)L+=4;else break e;else $.id>=s&&(L+=4);$.next()}R=W,E+=T,N+=L}return(C<0||E==S)&&(j.size=E,j.start=R,j.skip=N),j.size>4?j:void 0}function v(S,C,$){let{id:E,start:R,end:N,size:I}=a;if(a.next(),I>=0&&E<s){let j=$;if(I>4){let A=a.pos-(I-4);for(;a.pos>A;)$=v(S,C,$)}C[--$]=j,C[--$]=N-S,C[--$]=R-S,C[--$]=E}else I==-3?c=E:I==-4&&(u=E);return $}let x=[],m=[];for(;a.pos>0;)f(e.start||0,e.bufferStart||0,x,m,-1,0);let w=(t=e.length)!==null&&t!==void 0?t:x.length?m[0]+x[0].length:0;return new Qn(l[e.topID],x.reverse(),m.reverse(),w)}const o0e=new WeakMap;function YM(e,t){if(!e.isAnonymous||t instanceof Yy||t.type!=e)return 1;let n=o0e.get(t);if(n==null){n=1;for(let r of t.children){if(r.type!=e||!(r instanceof Qn)){n=1;break}n+=YM(e,r)}o0e.set(t,n)}return n}function Rre(e,t,n,r,i,o,s,a,l){let c=0;for(let p=r;p<i;p++)c+=YM(e,t[p]);let u=Math.ceil(c*1.5/8),f=[],d=[];function h(p,g,y,v,x){for(let m=y;m<v;){let w=m,S=g[m],C=YM(e,p[m]);for(m++;m<v;m++){let $=YM(e,p[m]);if(C+$>=u)break;C+=$}if(m==w+1){if(C>u){let $=p[w];h($.children,$.positions,0,$.children.length,g[w]+x);continue}f.push(p[w])}else{let $=g[m-1]+p[m-1].length-S;f.push(Rre(e,p,g,w,m,S,$,null,l))}d.push(S+x-o)}}return h(t,n,r,i,0),(a||l)(f,d,s)}class Are{constructor(){this.map=new WeakMap}setBuffer(t,n,r){let i=this.map.get(t);i||this.map.set(t,i=new Map),i.set(n,r)}getBuffer(t,n){let r=this.map.get(t);return r&&r.get(n)}set(t,n){t instanceof Kd?this.setBuffer(t.context.buffer,t.index,n):t instanceof Iu&&this.map.set(t.tree,n)}get(t){return t instanceof Kd?this.getBuffer(t.context.buffer,t.index):t instanceof Iu?this.map.get(t.tree):void 0}cursorSet(t,n){t.buffer?this.setBuffer(t.buffer.buffer,t.index,n):this.map.set(t.tree,n)}cursorGet(t){return t.buffer?this.getBuffer(t.buffer.buffer,t.index):this.map.get(t.tree)}}class Hp{constructor(t,n,r,i,o=!1,s=!1){this.from=t,this.to=n,this.tree=r,this.offset=i,this.open=(o?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(t,n=[],r=!1){let i=[new Hp(0,t.length,t,0,!1,r)];for(let o of n)o.to>t.length&&i.push(o);return i}static applyChanges(t,n,r=128){if(!n.length)return t;let i=[],o=1,s=t.length?t[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<n.length?n[a]:null,f=u?u.fromA:1e9;if(f-l>=r)for(;s&&s.from<f;){let d=s;if(l>=d.from||f<=d.to||c){let h=Math.max(d.from,l)-c,p=Math.min(d.to,f)-c;d=h>=p?null:new Hp(h,p,d.tree,d.offset+c,a>0,!!u)}if(d&&i.push(d),s.to>f)break;s=o<t.length?t[o++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}}class L6{startParse(t,n,r){return typeof t=="string"&&(t=new wNt(t)),r=r?r.length?r.map(i=>new mu(i.from,i.to)):[new mu(0,0)]:[new mu(0,t.length)],this.createParse(t,n||[],r)}parse(t,n,r){let i=this.startParse(t,n,r);for(;;){let o=i.advance();if(o)return o}}}class wNt{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,n){return this.string.slice(t,n)}}function Dre(e){return(t,n,r,i)=>new _Nt(t,e,n,r,i)}class s0e{constructor(t,n,r,i,o){this.parser=t,this.parse=n,this.overlay=r,this.target=i,this.from=o}}function a0e(e){if(!e.length||e.some(t=>t.from>=t.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(e))}class SNt{constructor(t,n,r,i,o,s,a){this.parser=t,this.predicate=n,this.mounts=r,this.index=i,this.start=o,this.target=s,this.prev=a,this.depth=0,this.ranges=[]}}const fX=new Yt({perNode:!0});class _Nt{constructor(t,n,r,i,o){this.nest=n,this.input=r,this.fragments=i,this.ranges=o,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=t}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new Qn(r.type,r.children,r.positions,r.length,r.propValues.concat([[fX,this.stoppedAt]]))),r}let t=this.inner[this.innerDone],n=t.parse.advance();if(n){this.innerDone++;let r=Object.assign(Object.create(null),t.target.props);r[Yt.mounted.id]=new a2(n,t.overlay,t.parser),t.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let t=this.input.length;for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].from<t&&(t=Math.min(t,this.inner[n].parse.parsedPos));return t}stopAt(t){if(this.stoppedAt=t,this.baseParse)this.baseParse.stopAt(t);else for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].parse.stopAt(t)}startInner(){let t=new ENt(this.fragments),n=null,r=null,i=new d3(new Iu(this.baseTree,this.ranges[0].from,0,null),Dr.IncludeAnonymous|Dr.IgnoreMounts);e:for(let o,s;;){let a=!0,l;if(this.stoppedAt!=null&&i.from>=this.stoppedAt)a=!1;else if(t.hasNode(i)){if(n){let c=n.mounts.find(u=>u.frag.from<=i.from&&u.frag.to>=i.to&&u.mount.overlay);if(c)for(let u of c.mount.overlay){let f=u.from+c.pos,d=u.to+c.pos;f>=i.from&&d<=i.to&&!n.ranges.some(h=>h.from<d&&h.to>f)&&n.ranges.push({from:f,to:d})}}a=!1}else if(r&&(s=CNt(r.ranges,i.from,i.to)))a=s!=2;else if(!i.type.isAnonymous&&(o=this.nest(i,this.input))&&(i.from<i.to||!o.overlay)){i.tree||$Nt(i);let c=t.findMounts(i.from,o.parser);if(typeof o.overlay=="function")n=new SNt(o.parser,o.overlay,c,this.inner.length,i.from,i.tree,n);else{let u=u0e(this.ranges,o.overlay||(i.from<i.to?[new mu(i.from,i.to)]:[]));u.length&&a0e(u),(u.length||!o.overlay)&&this.inner.push(new s0e(o.parser,u.length?o.parser.startParse(this.input,f0e(c,u),u):o.parser.startParse(""),o.overlay?o.overlay.map(f=>new mu(f.from-i.from,f.to-i.from)):null,i.tree,u.length?u[0].from:i.from)),o.overlay?u.length&&(r={ranges:u,depth:0,prev:r}):a=!1}}else n&&(l=n.predicate(i))&&(l===!0&&(l=new mu(i.from,i.to)),l.from<l.to&&n.ranges.push(l));if(a&&i.firstChild())n&&n.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(n&&!--n.depth){let c=u0e(this.ranges,n.ranges);c.length&&(a0e(c),this.inner.splice(n.index,0,new s0e(n.parser,n.parser.startParse(this.input,f0e(n.mounts,c),c),n.ranges.map(u=>new mu(u.from-n.start,u.to-n.start)),n.target,c[0].from))),n=n.prev}r&&!--r.depth&&(r=r.prev)}}}}function CNt(e,t,n){for(let r of e){if(r.from>=n)break;if(r.to>t)return r.from<=t&&r.to>=n?2:1}return 0}function l0e(e,t,n,r,i,o){if(t<n){let s=e.buffer[t+1];r.push(e.slice(t,n,s)),i.push(s-o)}}function $Nt(e){let{node:t}=e,n=[],r=t.context.buffer;do n.push(e.index),e.parent();while(!e.tree);let i=e.tree,o=i.children.indexOf(r),s=i.children[o],a=s.buffer,l=[o];function c(u,f,d,h,p,g){let y=n[g],v=[],x=[];l0e(s,u,y,v,x,h);let m=a[y+1],w=a[y+2];l.push(v.length);let S=g?c(y+4,a[y+3],s.set.types[a[y]],m,w-m,g-1):t.toTree();return v.push(S),x.push(m-h),l0e(s,a[y+3],f,v,x,h),new Qn(d,v,x,p)}i.children[o]=c(0,a.length,vo.none,0,s.length,n.length-1);for(let u of l){let f=e.tree.children[u],d=e.tree.positions[u];e.yield(new Iu(f,d+e.from,u,e._tree))}}class c0e{constructor(t,n){this.offset=n,this.done=!1,this.cursor=t.cursor(Dr.IncludeAnonymous|Dr.IgnoreMounts)}moveTo(t){let{cursor:n}=this,r=t-this.offset;for(;!this.done&&n.from<r;)n.to>=t&&n.enter(r,1,Dr.IgnoreOverlays|Dr.ExcludeBuffers)||n.next(!1)||(this.done=!0)}hasNode(t){if(this.moveTo(t.from),!this.done&&this.cursor.from+this.offset==t.from&&this.cursor.tree)for(let n=this.cursor.tree;;){if(n==t.tree)return!0;if(n.children.length&&n.positions[0]==0&&n.children[0]instanceof Qn)n=n.children[0];else break}return!1}}let ENt=class{constructor(t){var n;if(this.fragments=t,this.curTo=0,this.fragI=0,t.length){let r=this.curFrag=t[0];this.curTo=(n=r.tree.prop(fX))!==null&&n!==void 0?n:r.to,this.inner=new c0e(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(t){for(;this.curFrag&&t.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=t.from&&this.curTo>=t.to&&this.inner.hasNode(t)}nextFrag(){var t;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let n=this.curFrag=this.fragments[this.fragI];this.curTo=(t=n.tree.prop(fX))!==null&&t!==void 0?t:n.to,this.inner=new c0e(n.tree,-n.offset)}}findMounts(t,n){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(t,1);for(let o=this.inner.cursor.node;o;o=o.parent){let s=(r=o.tree)===null||r===void 0?void 0:r.prop(Yt.mounted);if(s&&s.parser==n)for(let a=this.fragI;a<this.fragments.length;a++){let l=this.fragments[a];if(l.from>=o.to)break;l.tree==this.curFrag.tree&&i.push({frag:l,pos:o.from-l.offset,mount:s})}}}return i}};function u0e(e,t){let n=null,r=t;for(let i=1,o=0;i<e.length;i++){let s=e[i-1].to,a=e[i].from;for(;o<r.length;o++){let l=r[o];if(l.from>=a)break;l.to<=s||(n||(r=n=t.slice()),l.from<s?(n[o]=new mu(l.from,s),l.to>a&&n.splice(o+1,0,new mu(a,l.to))):l.to>a?n[o--]=new mu(a,l.to):n.splice(o--,1))}}return r}function kNt(e,t,n,r){let i=0,o=0,s=!1,a=!1,l=-1e9,c=[];for(;;){let u=i==e.length?1e9:s?e[i].to:e[i].from,f=o==t.length?1e9:a?t[o].to:t[o].from;if(s!=a){let d=Math.max(l,n),h=Math.min(u,f,r);d<h&&c.push(new mu(d,h))}if(l=Math.min(u,f),l==1e9)break;u==l&&(s?(s=!1,i++):s=!0),f==l&&(a?(a=!1,o++):a=!0)}return c}function f0e(e,t){let n=[];for(let{pos:r,mount:i,frag:o}of e){let s=r+(i.overlay?i.overlay[0].from:0),a=s+i.tree.length,l=Math.max(o.from,s),c=Math.min(o.to,a);if(i.overlay){let u=i.overlay.map(d=>new mu(d.from+r,d.to+r)),f=kNt(t,u,l,c);for(let d=0,h=l;;d++){let p=d==f.length,g=p?c:f[d].from;if(g>h&&n.push(new Hp(h,g,i.tree,-s,o.from>=h||o.openStart,o.to<=g||o.openEnd)),p)break;h=f[d].to}}else n.push(new Hp(l,c,i.tree,-s,o.from>=s||o.openStart,o.to<=a||o.openEnd))}return n}class Xn{lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,n,r){[t,n]=mS(this,t,n);let i=[];return this.decompose(0,t,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),qd.from(i,this.length-(n-t)+r.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,n=this.length){[t,n]=mS(this,t,n);let r=[];return this.decompose(t,n,r,0),qd.from(r,n-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let n=this.scanIdentical(t,1),r=this.length-this.scanIdentical(t,-1),i=new xk(this),o=new xk(t);for(let s=n,a=n;;){if(i.next(s),o.next(s),s=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}iter(t=1){return new xk(this,t)}iterRange(t,n=this.length){return new W3e(this,t,n)}iterLines(t,n){let r;if(t==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(t).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new V3e(r)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}constructor(){}static of(t){if(t.length==0)throw new RangeError("A document must have at least one line");return t.length==1&&!t[0]?Xn.empty:t.length<=32?new Zi(t):qd.from(Zi.split(t,[]))}}class Zi extends Xn{constructor(t,n=TNt(t)){super(),this.text=t,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(t,n,r,i){for(let o=0;;o++){let s=this.text[o],a=i+s.length;if((n?r:a)>=t)return new PNt(i,a,r,s);i=a+1,r++}}decompose(t,n,r,i){let o=t<=0&&n>=this.length?this:new Zi(d0e(this.text,t,n),Math.min(n,this.length)-Math.max(0,t));if(i&1){let s=r.pop(),a=XM(o.text,s.text.slice(),0,o.length);if(a.length<=32)r.push(new Zi(a,s.length+o.length));else{let l=a.length>>1;r.push(new Zi(a.slice(0,l)),new Zi(a.slice(l)))}}else r.push(o)}replace(t,n,r){if(!(r instanceof Zi))return super.replace(t,n,r);[t,n]=mS(this,t,n);let i=XM(this.text,XM(r.text,d0e(this.text,0,t)),n),o=this.length+r.length-(n-t);return i.length<=32?new Zi(i,o):qd.from(Zi.split(i,[]),o)}sliceString(t,n=this.length,r=`
`){[t,n]=mS(this,t,n);let i="";for(let o=0,s=0;o<=n&&s<this.text.length;s++){let a=this.text[s],l=o+a.length;o>t&&s&&(i+=r),t<l&&n>o&&(i+=a.slice(Math.max(0,t-o),n-o)),o=l+1}return i}flatten(t){for(let n of this.text)t.push(n)}scanIdentical(){return 0}static split(t,n){let r=[],i=-1;for(let o of t)r.push(o),i+=o.length+1,r.length==32&&(n.push(new Zi(r,i)),r=[],i=-1);return i>-1&&n.push(new Zi(r,i)),n}}class qd extends Xn{constructor(t,n){super(),this.children=t,this.length=n,this.lines=0;for(let r of t)this.lines+=r.lines}lineInner(t,n,r,i){for(let o=0;;o++){let s=this.children[o],a=i+s.length,l=r+s.lines-1;if((n?l:a)>=t)return s.lineInner(t,n,r,i);i=a+1,r=l+1}}decompose(t,n,r,i){for(let o=0,s=0;s<=n&&o<this.children.length;o++){let a=this.children[o],l=s+a.length;if(t<=l&&n>=s){let c=i&((s<=t?1:0)|(l>=n?2:0));s>=t&&l<=n&&!c?r.push(a):a.decompose(t-s,n-s,r,c)}s=l+1}}replace(t,n,r){if([t,n]=mS(this,t,n),r.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let s=this.children[i],a=o+s.length;if(t>=o&&n<=a){let l=s.replace(t-o,n-o,r),c=this.lines-s.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let u=this.children.slice();return u[i]=l,new qd(u,this.length-(n-t)+r.length)}return super.replace(o,a,l)}o=a+1}return super.replace(t,n,r)}sliceString(t,n=this.length,r=`
`){[t,n]=mS(this,t,n);let i="";for(let o=0,s=0;o<this.children.length&&s<=n;o++){let a=this.children[o],l=s+a.length;s>t&&o&&(i+=r),t<l&&n>s&&(i+=a.sliceString(t-s,n-s,r)),s=l+1}return i}flatten(t){for(let n of this.children)n.flatten(t)}scanIdentical(t,n){if(!(t instanceof qd))return 0;let r=0,[i,o,s,a]=n>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;i+=n,o+=n){if(i==s||o==a)return r;let l=this.children[i],c=t.children[o];if(l!=c)return r+l.scanIdentical(c,n);r+=l.length+1}}static from(t,n=t.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let h of t)r+=h.lines;if(r<32){let h=[];for(let p of t)p.flatten(h);return new Zi(h,n)}let i=Math.max(32,r>>5),o=i<<1,s=i>>1,a=[],l=0,c=-1,u=[];function f(h){let p;if(h.lines>o&&h instanceof qd)for(let g of h.children)f(g);else h.lines>s&&(l>s||!l)?(d(),a.push(h)):h instanceof Zi&&l&&(p=u[u.length-1])instanceof Zi&&h.lines+p.lines<=32?(l+=h.lines,c+=h.length+1,u[u.length-1]=new Zi(p.text.concat(h.text),p.length+1+h.length)):(l+h.lines>i&&d(),l+=h.lines,c+=h.length+1,u.push(h))}function d(){l!=0&&(a.push(u.length==1?u[0]:qd.from(u,c)),c=-1,l=u.length=0)}for(let h of t)f(h);return d(),a.length==1?a[0]:new qd(a,n)}}Xn.empty=new Zi([""],0);function TNt(e){let t=-1;for(let n of e)t+=n.length+1;return t}function XM(e,t,n=0,r=1e9){for(let i=0,o=0,s=!0;o<e.length&&i<=r;o++){let a=e[o],l=i+a.length;l>=n&&(l>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),s?(t[t.length-1]+=a,s=!1):t.push(a)),i=l+1}return t}function d0e(e,t,n){return XM(e,[""],t,n)}class xk{constructor(t,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[n>0?1:(t instanceof Zi?t.text.length:t.children.length)<<1]}nextInner(t,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],o=this.offsets[r],s=o>>1,a=i instanceof Zi?i.text.length:i.children.length;if(s==(n>0?a:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(n>0?0:1)){if(this.offsets[r]+=n,t==0)return this.lineBreak=!0,this.value=`
`,this;t--}else if(i instanceof Zi){let l=i.text[s+(n<0?-1:0)];if(this.offsets[r]+=n,l.length>Math.max(0,t))return this.value=t==0?l:n>0?l.slice(t):l.slice(0,l.length-t),this;t-=l.length}else{let l=i.children[s+(n<0?-1:0)];t>l.length?(t-=l.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof Zi?l.text.length:l.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class W3e{constructor(t,n,r){this.value="",this.done=!1,this.cursor=new xk(t,n>r?-1:1),this.pos=n>r?t.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(t,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;t>r&&(t=r),r-=t;let{value:i}=this.cursor.next(t);return this.pos+=(i.length+t)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class V3e{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:n,lineBreak:r,value:i}=this.inner.next(t);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Xn.prototype[Symbol.iterator]=function(){return this.iter()},xk.prototype[Symbol.iterator]=W3e.prototype[Symbol.iterator]=V3e.prototype[Symbol.iterator]=function(){return this});let PNt=class{constructor(t,n,r,i){this.from=t,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}};function mS(e,t,n){return t=Math.max(0,Math.min(e.length,t)),[t,Math.max(t,Math.min(e.length,n))]}let ww="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=1;e<ww.length;e++)ww[e]+=ww[e-1];function RNt(e){for(let t=1;t<ww.length;t+=2)if(ww[t]>e)return ww[t-1]<=e;return!1}function h0e(e){return e>=127462&&e<=127487}const p0e=8205;function Ps(e,t,n=!0,r=!0){return(n?U3e:ANt)(e,t,r)}function U3e(e,t,n){if(t==e.length)return t;t&&q3e(e.charCodeAt(t))&&Y3e(e.charCodeAt(t-1))&&t--;let r=Ss(e,t);for(t+=du(r);t<e.length;){let i=Ss(e,t);if(r==p0e||i==p0e||n&&RNt(i))t+=du(i),r=i;else if(h0e(i)){let o=0,s=t-2;for(;s>=0&&h0e(Ss(e,s));)o++,s-=2;if(o%2==0)break;t+=2}else break}return t}function ANt(e,t,n){for(;t>0;){let r=U3e(e,t-2,n);if(r<t)return r;t--}return 0}function q3e(e){return e>=56320&&e<57344}function Y3e(e){return e>=55296&&e<56320}function Ss(e,t){let n=e.charCodeAt(t);if(!Y3e(n)||t+1==e.length)return n;let r=e.charCodeAt(t+1);return q3e(r)?(n-55296<<10)+(r-56320)+65536:n}function Nre(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}function du(e){return e<65536?1:2}const dX=/\r\n?|\n/;var Lo=function(e){return e[e.Simple=0]="Simple",e[e.TrackDel=1]="TrackDel",e[e.TrackBefore=2]="TrackBefore",e[e.TrackAfter=3]="TrackAfter",e}(Lo||(Lo={}));class lh{constructor(t){this.sections=t}get length(){let t=0;for(let n=0;n<this.sections.length;n+=2)t+=this.sections[n];return t}get newLength(){let t=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];t+=r<0?this.sections[n]:r}return t}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(t){for(let n=0,r=0,i=0;n<this.sections.length;){let o=this.sections[n++],s=this.sections[n++];s<0?(t(r,i,o),i+=o):i+=s,r+=o}}iterChangedRanges(t,n=!1){hX(this,t,n)}get invertedDesc(){let t=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?t.push(r,i):t.push(i,r)}return new lh(t)}composeDesc(t){return this.empty?t:t.empty?this:X3e(this,t)}mapDesc(t,n=!1){return t.empty?this:pX(this,t,n)}mapPos(t,n=-1,r=Lo.Simple){let i=0,o=0;for(let s=0;s<this.sections.length;){let a=this.sections[s++],l=this.sections[s++],c=i+a;if(l<0){if(c>t)return o+(t-i);o+=a}else{if(r!=Lo.Simple&&c>=t&&(r==Lo.TrackDel&&i<t&&c>t||r==Lo.TrackBefore&&i<t||r==Lo.TrackAfter&&c>t))return null;if(c>t||c==t&&n<0&&!a)return t==i||n<0?o:o+l;o+=l}i=c}if(t>i)throw new RangeError(`Position ${t} is out of range for changeset of length ${i}`);return o}touchesRange(t,n=t){for(let r=0,i=0;r<this.sections.length&&i<=n;){let o=this.sections[r++],s=this.sections[r++],a=i+o;if(s>=0&&i<=n&&a>=t)return i<t&&a>n?"cover":!0;i=a}return!1}toString(){let t="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];t+=(t?" ":"")+r+(i>=0?":"+i:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new lh(t)}static create(t){return new lh(t)}}class Ao extends lh{constructor(t,n){super(t),this.inserted=n}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return hX(this,(n,r,i,o,s)=>t=t.replace(i,i+(r-n),s),!1),t}mapDesc(t,n=!1){return pX(this,t,n,!0)}invert(t){let n=this.sections.slice(),r=[];for(let i=0,o=0;i<n.length;i+=2){let s=n[i],a=n[i+1];if(a>=0){n[i]=a,n[i+1]=s;let l=i>>1;for(;r.length<l;)r.push(Xn.empty);r.push(s?t.slice(o,o+s):Xn.empty)}o+=s}return new Ao(n,r)}compose(t){return this.empty?t:t.empty?this:X3e(this,t,!0)}map(t,n=!1){return t.empty?this:pX(this,t,n,!0)}iterChanges(t,n=!1){hX(this,t,n)}get desc(){return lh.create(this.sections)}filter(t){let n=[],r=[],i=[],o=new c2(this);e:for(let s=0,a=0;;){let l=s==t.length?1e9:t[s++];for(;a<l||a==l&&o.len==0;){if(o.done)break e;let u=Math.min(o.len,l-a);sa(i,u,-1);let f=o.ins==-1?-1:o.off==0?o.ins:0;sa(n,u,f),f>0&&Qm(r,n,o.text),o.forward(u),a+=u}let c=t[s++];for(;a<c;){if(o.done)break e;let u=Math.min(o.len,c-a);sa(n,u,-1),sa(i,u,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(u),a+=u}}return{changes:new Ao(n,r),filtered:lh.create(i)}}toJSON(){let t=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?t.push(r):i==0?t.push([r]):t.push([r].concat(this.inserted[n>>1].toJSON()))}return t}static of(t,n,r){let i=[],o=[],s=0,a=null;function l(u=!1){if(!u&&!i.length)return;s<n&&sa(i,n-s,-1);let f=new Ao(i,o);a=a?a.compose(f.map(a)):f,i=[],o=[],s=0}function c(u){if(Array.isArray(u))for(let f of u)c(f);else if(u instanceof Ao){if(u.length!=n)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${n})`);l(),a=a?a.compose(u.map(a)):u}else{let{from:f,to:d=f,insert:h}=u;if(f>d||f<0||d>n)throw new RangeError(`Invalid change range ${f} to ${d} (in doc of length ${n})`);let p=h?typeof h=="string"?Xn.of(h.split(r||dX)):h:Xn.empty,g=p.length;if(f==d&&g==0)return;f<s&&l(),f>s&&sa(i,f-s,-1),sa(i,d-f,g),Qm(o,i,p),s=d}}return c(t),l(!a),a}static empty(t){return new Ao(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<t.length;i++){let o=t[i];if(typeof o=="number")n.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((s,a)=>a&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)n.push(o[0],0);else{for(;r.length<i;)r.push(Xn.empty);r[i]=Xn.of(o.slice(1)),n.push(o[0],r[i].length)}}}return new Ao(n,r)}static createSet(t,n){return new Ao(t,n)}}function sa(e,t,n,r=!1){if(t==0&&n<=0)return;let i=e.length-2;i>=0&&n<=0&&n==e[i+1]?e[i]+=t:t==0&&e[i]==0?e[i+1]+=n:r?(e[i]+=t,e[i+1]+=n):e.push(t,n)}function Qm(e,t,n){if(n.length==0)return;let r=t.length-2>>1;if(r<e.length)e[e.length-1]=e[e.length-1].append(n);else{for(;e.length<r;)e.push(Xn.empty);e.push(n)}}function hX(e,t,n){let r=e.inserted;for(let i=0,o=0,s=0;s<e.sections.length;){let a=e.sections[s++],l=e.sections[s++];if(l<0)i+=a,o+=a;else{let c=i,u=o,f=Xn.empty;for(;c+=a,u+=l,l&&r&&(f=f.append(r[s-2>>1])),!(n||s==e.sections.length||e.sections[s+1]<0);)a=e.sections[s++],l=e.sections[s++];t(i,c,o,u,f),i=c,o=u}}}function pX(e,t,n,r=!1){let i=[],o=r?[]:null,s=new c2(e),a=new c2(t);for(let l=-1;;)if(s.ins==-1&&a.ins==-1){let c=Math.min(s.len,a.len);sa(i,c,-1),s.forward(c),a.forward(c)}else if(a.ins>=0&&(s.ins<0||l==s.i||s.off==0&&(a.len<s.len||a.len==s.len&&!n))){let c=a.len;for(sa(i,a.ins,-1);c;){let u=Math.min(s.len,c);s.ins>=0&&l<s.i&&s.len<=u&&(sa(i,0,s.ins),o&&Qm(o,i,s.text),l=s.i),s.forward(u),c-=u}a.next()}else if(s.ins>=0){let c=0,u=s.len;for(;u;)if(a.ins==-1){let f=Math.min(u,a.len);c+=f,u-=f,a.forward(f)}else if(a.ins==0&&a.len<u)u-=a.len,a.next();else break;sa(i,c,l<s.i?s.ins:0),o&&l<s.i&&Qm(o,i,s.text),l=s.i,s.forward(s.len-u)}else{if(s.done&&a.done)return o?Ao.createSet(i,o):lh.create(i);throw new Error("Mismatched change set lengths")}}function X3e(e,t,n=!1){let r=[],i=n?[]:null,o=new c2(e),s=new c2(t);for(let a=!1;;){if(o.done&&s.done)return i?Ao.createSet(r,i):lh.create(r);if(o.ins==0)sa(r,o.len,0,a),o.next();else if(s.len==0&&!s.done)sa(r,0,s.ins,a),i&&Qm(i,r,s.text),s.next();else{if(o.done||s.done)throw new Error("Mismatched change set lengths");{let l=Math.min(o.len2,s.len),c=r.length;if(o.ins==-1){let u=s.ins==-1?-1:s.off?0:s.ins;sa(r,l,u,a),i&&u&&Qm(i,r,s.text)}else s.ins==-1?(sa(r,o.off?0:o.len,l,a),i&&Qm(i,r,o.textBit(l))):(sa(r,o.off?0:o.len,s.off?0:s.ins,a),i&&!s.off&&Qm(i,r,s.text));a=(o.ins>l||s.ins>=0&&s.len>l)&&(a||r.length>c),o.forward2(l),s.forward(l)}}}}class c2{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length?Xn.empty:t[n]}textBit(t){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!t?Xn.empty:n[r].slice(this.off,t==null?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){this.ins==-1?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}let TD=class gX{constructor(t,n,r){this.from=t,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let t=this.flags&7;return t==7?null:t}get goalColumn(){let t=this.flags>>6;return t==16777215?void 0:t}map(t,n=-1){let r,i;return this.empty?r=i=t.mapPos(this.from,n):(r=t.mapPos(this.from,1),i=t.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new gX(r,i,this.flags)}extend(t,n=t){if(t<=this.anchor&&n>=this.anchor)return Ee.range(t,n);let r=Math.abs(t-this.anchor)>Math.abs(n-this.anchor)?t:n;return Ee.range(this.anchor,r)}eq(t,n=!1){return this.anchor==t.anchor&&this.head==t.head&&(!n||!this.empty||this.assoc==t.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Ee.range(t.anchor,t.head)}static create(t,n,r){return new gX(t,n,r)}};class Ee{constructor(t,n){this.ranges=t,this.mainIndex=n}map(t,n=-1){return t.empty?this:Ee.create(this.ranges.map(r=>r.map(t,n)),this.mainIndex)}eq(t,n=!1){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(t.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Ee([this.main],0)}addRange(t,n=!0){return Ee.create([t].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(t,n=this.mainIndex){let r=this.ranges.slice();return r[n]=t,Ee.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(t=>t.toJSON()),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||typeof t.main!="number"||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Ee(t.ranges.map(n=>TD.fromJSON(n)),t.main)}static single(t,n=t){return new Ee([Ee.range(t,n)],0)}static create(t,n=0){if(t.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<t.length;i++){let o=t[i];if(o.empty?o.from<=r:o.from<r)return Ee.normalized(t.slice(),n);r=o.to}return new Ee(t,n)}static cursor(t,n=0,r,i){return TD.create(t,t,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(t,n,r,i){let o=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<t?TD.create(n,t,48|o):TD.create(t,n,(n>t?8:0)|o)}static normalized(t,n=0){let r=t[n];t.sort((i,o)=>i.from-o.from),n=t.indexOf(r);for(let i=1;i<t.length;i++){let o=t[i],s=t[i-1];if(o.empty?o.from<=s.to:o.from<s.to){let a=s.from,l=Math.max(o.to,s.to);i<=n&&n--,t.splice(--i,2,o.anchor>o.head?Ee.range(l,a):Ee.range(a,l))}}return new Ee(t,n)}}function H3e(e,t){for(let n of e.ranges)if(n.to>t)throw new RangeError("Selection points outside of document")}let Mre=0,mt=class Z3e{constructor(t,n,r,i,o){this.combine=t,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=Mre++,this.default=t([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(t={}){return new Z3e(t.combine||(n=>n),t.compareInput||((n,r)=>n===r),t.compare||(t.combine?(n,r)=>n===r:Ire),!!t.static,t.enables)}of(t){return new HM([],this,0,t)}compute(t,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new HM(t,this,1,n)}computeN(t,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new HM(t,this,2,n)}from(t,n){return n||(n=r=>r),this.compute([t],r=>n(r.field(t)))}};function Ire(e,t){return e==t||e.length==t.length&&e.every((n,r)=>n===t[r])}class HM{constructor(t,n,r,i){this.dependencies=t,this.facet=n,this.type=r,this.value=i,this.id=Mre++}dynamicSlot(t){var n;let r=this.value,i=this.facet.compareInput,o=this.id,s=t[o]>>1,a=this.type==2,l=!1,c=!1,u=[];for(let f of this.dependencies)f=="doc"?l=!0:f=="selection"?c=!0:((n=t[f.id])!==null&&n!==void 0?n:1)&1||u.push(t[f.id]);return{create(f){return f.values[s]=r(f),1},update(f,d){if(l&&d.docChanged||c&&(d.docChanged||d.selection)||mX(f,u)){let h=r(f);if(a?!g0e(h,f.values[s],i):!i(h,f.values[s]))return f.values[s]=h,1}return 0},reconfigure:(f,d)=>{let h,p=d.config.address[o];if(p!=null){let g=p3(d,p);if(this.dependencies.every(y=>y instanceof mt?d.facet(y)===f.facet(y):y instanceof qi?d.field(y,!1)==f.field(y,!1):!0)||(a?g0e(h=r(f),g,i):i(h=r(f),g)))return f.values[s]=g,0}else h=r(f);return f.values[s]=h,1}}}}function g0e(e,t,n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function mX(e,t){let n=!1;for(let r of t)wk(e,r)&1&&(n=!0);return n}function DNt(e,t,n){let r=n.map(l=>e[l.id]),i=n.map(l=>l.type),o=r.filter(l=>!(l&1)),s=e[t.id]>>1;function a(l){let c=[];for(let u=0;u<r.length;u++){let f=p3(l,r[u]);if(i[u]==2)for(let d of f)c.push(d);else c.push(f)}return t.combine(c)}return{create(l){for(let c of r)wk(l,c);return l.values[s]=a(l),1},update(l,c){if(!mX(l,o))return 0;let u=a(l);return t.compare(u,l.values[s])?0:(l.values[s]=u,1)},reconfigure(l,c){let u=mX(l,r),f=c.config.facets[t.id],d=c.facet(t);if(f&&!u&&Ire(n,f))return l.values[s]=d,0;let h=a(l);return t.compare(h,d)?(l.values[s]=d,0):(l.values[s]=h,1)}}}const m0e=mt.define({static:!0});class qi{constructor(t,n,r,i,o){this.id=t,this.createF=n,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}static define(t){let n=new qi(Mre++,t.create,t.update,t.compare||((r,i)=>r===i),t);return t.provide&&(n.provides=t.provide(n)),n}create(t){let n=t.facet(m0e).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(t)}slot(t){let n=t[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let o=r.values[n],s=this.updateF(o,i);return this.compareF(o,s)?0:(r.values[n]=s,1)},reconfigure:(r,i)=>i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}init(t){return[this,m0e.of({field:this,create:t})]}get extension(){return this}}const Mv={lowest:4,low:3,default:2,high:1,highest:0};function i$(e){return t=>new G3e(t,e)}const Kl={highest:i$(Mv.highest),high:i$(Mv.high),default:i$(Mv.default),low:i$(Mv.low),lowest:i$(Mv.lowest)};class G3e{constructor(t,n){this.inner=t,this.prec=n}}class J_{of(t){return new yX(this,t)}reconfigure(t){return J_.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class yX{constructor(t,n){this.compartment=t,this.inner=n}}class h3{constructor(t,n,r,i,o,s){for(this.base=t,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(t){let n=this.address[t.id];return n==null?t.default:this.staticValues[n>>1]}static resolve(t,n,r){let i=[],o=Object.create(null),s=new Map;for(let d of NNt(t,n,s))d instanceof qi?i.push(d):(o[d.facet.id]||(o[d.facet.id]=[])).push(d);let a=Object.create(null),l=[],c=[];for(let d of i)a[d.id]=c.length<<1,c.push(h=>d.slot(h));let u=r==null?void 0:r.config.facets;for(let d in o){let h=o[d],p=h[0].facet,g=u&&u[d]||[];if(h.every(y=>y.type==0))if(a[p.id]=l.length<<1|1,Ire(g,h))l.push(r.facet(p));else{let y=p.combine(h.map(v=>v.value));l.push(r&&p.compare(y,r.facet(p))?r.facet(p):y)}else{for(let y of h)y.type==0?(a[y.id]=l.length<<1|1,l.push(y.value)):(a[y.id]=c.length<<1,c.push(v=>y.dynamicSlot(v)));a[p.id]=c.length<<1,c.push(y=>DNt(y,p,h))}}let f=c.map(d=>d(a));return new h3(t,s,f,a,l,o)}}function NNt(e,t,n){let r=[[],[],[],[],[]],i=new Map;function o(s,a){let l=i.get(s);if(l!=null){if(l<=a)return;let c=r[l].indexOf(s);c>-1&&r[l].splice(c,1),s instanceof yX&&n.delete(s.compartment)}if(i.set(s,a),Array.isArray(s))for(let c of s)o(c,a);else if(s instanceof yX){if(n.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=t.get(s.compartment)||s.inner;n.set(s.compartment,c),o(c,a)}else if(s instanceof G3e)o(s.inner,s.prec);else if(s instanceof qi)r[a].push(s),s.provides&&o(s.provides,a);else if(s instanceof HM)r[a].push(s),s.facet.extensions&&o(s.facet.extensions,Mv.default);else{let c=s.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(c,a)}}return o(e,Mv.default),r.reduce((s,a)=>s.concat(a))}function wk(e,t){if(t&1)return 2;let n=t>>1,r=e.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;e.status[n]=4;let i=e.computeSlot(e,e.config.dynamicSlots[n]);return e.status[n]=2|i}function p3(e,t){return t&1?e.config.staticValues[t>>1]:e.values[t>>1]}const K3e=mt.define(),vX=mt.define({combine:e=>e.some(t=>t),static:!0}),J3e=mt.define({combine:e=>e.length?e[0]:void 0,static:!0}),eLe=mt.define(),tLe=mt.define(),nLe=mt.define(),rLe=mt.define({combine:e=>e.length?e[0]:!1});class Qh{constructor(t,n){this.type=t,this.value=n}static define(){return new MNt}}class MNt{of(t){return new Qh(this,t)}}class INt{constructor(t){this.map=t}of(t){return new Vt(this,t)}}class Vt{constructor(t,n){this.type=t,this.value=n}map(t){let n=this.type.map(this.value,t);return n===void 0?void 0:n==this.value?this:new Vt(this.type,n)}is(t){return this.type==t}static define(t={}){return new INt(t.map||(n=>n))}static mapEffects(t,n){if(!t.length)return t;let r=[];for(let i of t){let o=i.map(n);o&&r.push(o)}return r}}Vt.reconfigure=Vt.define();Vt.appendConfig=Vt.define();class yo{constructor(t,n,r,i,o,s){this.startState=t,this.changes=n,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=s,this._doc=null,this._state=null,r&&H3e(r,n.newLength),o.some(a=>a.type==yo.time)||(this.annotations=o.concat(yo.time.of(Date.now())))}static create(t,n,r,i,o,s){return new yo(t,n,r,i,o,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let n of this.annotations)if(n.type==t)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let n=this.annotation(yo.userEvent);return!!(n&&(n==t||n.length>t.length&&n.slice(0,t.length)==t&&n[t.length]=="."))}}yo.time=Qh.define();yo.userEvent=Qh.define();yo.addToHistory=Qh.define();yo.remote=Qh.define();function LNt(e,t){let n=[];for(let r=0,i=0;;){let o,s;if(r<e.length&&(i==t.length||t[i]>=e[r]))o=e[r++],s=e[r++];else if(i<t.length)o=t[i++],s=t[i++];else return n;!n.length||n[n.length-1]<o?n.push(o,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function iLe(e,t,n){var r;let i,o,s;return n?(i=t.changes,o=Ao.empty(t.changes.length),s=e.changes.compose(t.changes)):(i=t.changes.map(e.changes),o=e.changes.mapDesc(t.changes,!0),s=e.changes.compose(i)),{changes:s,selection:t.selection?t.selection.map(o):(r=e.selection)===null||r===void 0?void 0:r.map(i),effects:Vt.mapEffects(e.effects,i).concat(Vt.mapEffects(t.effects,o)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}function bX(e,t,n){let r=t.selection,i=Sw(t.annotations);return t.userEvent&&(i=i.concat(yo.userEvent.of(t.userEvent))),{changes:t.changes instanceof Ao?t.changes:Ao.of(t.changes||[],n,e.facet(J3e)),selection:r&&(r instanceof Ee?r:Ee.single(r.anchor,r.head)),effects:Sw(t.effects),annotations:i,scrollIntoView:!!t.scrollIntoView}}function oLe(e,t,n){let r=bX(e,t.length?t[0]:{},e.doc.length);t.length&&t[0].filter===!1&&(n=!1);for(let o=1;o<t.length;o++){t[o].filter===!1&&(n=!1);let s=!!t[o].sequential;r=iLe(r,bX(e,t[o],s?r.changes.newLength:e.doc.length),s)}let i=yo.create(e,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return FNt(n?jNt(i):i)}function jNt(e){let t=e.startState,n=!0;for(let i of t.facet(eLe)){let o=i(e);if(o===!1){n=!1;break}Array.isArray(o)&&(n=n===!0?o:LNt(n,o))}if(n!==!0){let i,o;if(n===!1)o=e.changes.invertedDesc,i=Ao.empty(t.doc.length);else{let s=e.changes.filter(n);i=s.changes,o=s.filtered.mapDesc(s.changes).invertedDesc}e=yo.create(t,i,e.selection&&e.selection.map(o),Vt.mapEffects(e.effects,o),e.annotations,e.scrollIntoView)}let r=t.facet(tLe);for(let i=r.length-1;i>=0;i--){let o=r[i](e);o instanceof yo?e=o:Array.isArray(o)&&o.length==1&&o[0]instanceof yo?e=o[0]:e=oLe(t,Sw(o),!1)}return e}function FNt(e){let t=e.startState,n=t.facet(nLe),r=e;for(let i=n.length-1;i>=0;i--){let o=n[i](e);o&&Object.keys(o).length&&(r=iLe(r,bX(t,o,e.changes.newLength),!0))}return r==e?e:yo.create(t,e.changes,e.selection,r.effects,r.annotations,r.scrollIntoView)}const zNt=[];function Sw(e){return e==null?zNt:Array.isArray(e)?e:[e]}var mi=function(e){return e[e.Word=0]="Word",e[e.Space=1]="Space",e[e.Other=2]="Other",e}(mi||(mi={}));const QNt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let OX;try{OX=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function BNt(e){if(OX)return OX.test(e);for(let t=0;t<e.length;t++){let n=e[t];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||QNt.test(n)))return!0}return!1}function WNt(e){return t=>{if(!/\S/.test(t))return mi.Space;if(BNt(t))return mi.Word;for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return mi.Word;return mi.Other}}class gn{constructor(t,n,r,i,o,s){this.config=t,this.doc=n,this.selection=r,this.values=i,this.status=t.statusTemplate.slice(),this.computeSlot=o,s&&(s._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)wk(this,a<<1);this.computeSlot=null}field(t,n=!0){let r=this.config.address[t.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return wk(this,r),p3(this,r)}update(...t){return oLe(this,t,!0)}applyTransaction(t){let n=this.config,{base:r,compartments:i}=n;for(let a of t.effects)a.is(J_.reconfigure)?(n&&(i=new Map,n.compartments.forEach((l,c)=>i.set(c,l)),n=null),i.set(a.value.compartment,a.value.extension)):a.is(Vt.reconfigure)?(n=null,r=a.value):a.is(Vt.appendConfig)&&(n=null,r=Sw(r).concat(a.value));let o;n?o=t.startState.values.slice():(n=h3.resolve(r,i,this),o=new gn(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(l,c)=>c.reconfigure(l,this),null).values);let s=t.startState.facet(vX)?t.newSelection:t.newSelection.asSingle();new gn(n,t.newDoc,s,o,(a,l)=>l.update(a,t),t)}replaceSelection(t){return typeof t=="string"&&(t=this.toText(t)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:t},range:Ee.cursor(n.from+t.length)}))}changeByRange(t){let n=this.selection,r=t(n.ranges[0]),i=this.changes(r.changes),o=[r.range],s=Sw(r.effects);for(let a=1;a<n.ranges.length;a++){let l=t(n.ranges[a]),c=this.changes(l.changes),u=c.map(i);for(let d=0;d<a;d++)o[d]=o[d].map(u);let f=i.mapDesc(c,!0);o.push(l.range.map(f)),i=i.compose(u),s=Vt.mapEffects(s,u).concat(Vt.mapEffects(Sw(l.effects),f))}return{changes:i,selection:Ee.create(o,n.mainIndex),effects:s}}changes(t=[]){return t instanceof Ao?t:Ao.of(t,this.doc.length,this.facet(gn.lineSeparator))}toText(t){return Xn.of(t.split(this.facet(gn.lineSeparator)||dX))}sliceDoc(t=0,n=this.doc.length){return this.doc.sliceString(t,n,this.lineBreak)}facet(t){let n=this.config.address[t.id];return n==null?t.default:(wk(this,n),p3(this,n))}toJSON(t){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let r in t){let i=t[r];i instanceof qi&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(t[r]),this))}return n}static fromJSON(t,n={},r){if(!t||typeof t.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let o in r)if(Object.prototype.hasOwnProperty.call(t,o)){let s=r[o],a=t[o];i.push(s.init(l=>s.spec.fromJSON(a,l)))}}return gn.create({doc:t.doc,selection:Ee.fromJSON(t.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(t={}){let n=h3.resolve(t.extensions||[],new Map),r=t.doc instanceof Xn?t.doc:Xn.of((t.doc||"").split(n.staticFacet(gn.lineSeparator)||dX)),i=t.selection?t.selection instanceof Ee?t.selection:Ee.single(t.selection.anchor,t.selection.head):Ee.single(0);return H3e(i,r.length),n.staticFacet(vX)||(i=i.asSingle()),new gn(n,r,i,n.dynamicSlots.map(()=>null),(o,s)=>s.create(o),null)}get tabSize(){return this.facet(gn.tabSize)}get lineBreak(){return this.facet(gn.lineSeparator)||`
`}get readOnly(){return this.facet(rLe)}phrase(t,...n){for(let r of this.facet(gn.phrases))if(Object.prototype.hasOwnProperty.call(r,t)){t=r[t];break}return n.length&&(t=t.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let o=+(i||1);return!o||o>n.length?r:n[o-1]})),t}languageDataAt(t,n,r=-1){let i=[];for(let o of this.facet(K3e))for(let s of o(this,n,r))Object.prototype.hasOwnProperty.call(s,t)&&i.push(s[t]);return i}charCategorizer(t){return WNt(this.languageDataAt("wordChars",t).join(""))}wordAt(t){let{text:n,from:r,length:i}=this.doc.lineAt(t),o=this.charCategorizer(t),s=t-r,a=t-r;for(;s>0;){let l=Ps(n,s,!1);if(o(n.slice(l,s))!=mi.Word)break;s=l}for(;a<i;){let l=Ps(n,a);if(o(n.slice(a,l))!=mi.Word)break;a=l}return s==a?null:Ee.range(s+r,a+r)}}gn.allowMultipleSelections=vX;gn.tabSize=mt.define({combine:e=>e.length?e[0]:4});gn.lineSeparator=J3e;gn.readOnly=rLe;gn.phrases=mt.define({compare(e,t){let n=Object.keys(e),r=Object.keys(t);return n.length==r.length&&n.every(i=>e[i]==t[i])}});gn.languageData=K3e;gn.changeFilter=eLe;gn.transactionFilter=tLe;gn.transactionExtender=nLe;J_.reconfigure=Vt.define();function Bh(e,t,n={}){let r={};for(let i of e)for(let o of Object.keys(i)){let s=i[o],a=r[o];if(a===void 0)r[o]=s;else if(!(a===s||s===void 0))if(Object.hasOwnProperty.call(n,o))r[o]=n[o](a,s);else throw new Error("Config merge conflict for field "+o)}for(let i in t)r[i]===void 0&&(r[i]=t[i]);return r}class K1{eq(t){return this==t}range(t,n=t){return xX.create(t,n,this)}}K1.prototype.startSide=K1.prototype.endSide=0;K1.prototype.point=!1;K1.prototype.mapMode=Lo.TrackDel;let xX=class sLe{constructor(t,n,r){this.from=t,this.to=n,this.value=r}static create(t,n,r){return new sLe(t,n,r)}};function wX(e,t){return e.from-t.from||e.value.startSide-t.value.startSide}class Lre{constructor(t,n,r,i){this.from=t,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(t,n,r,i=0){let o=r?this.to:this.from;for(let s=i,a=o.length;;){if(s==a)return s;let l=s+a>>1,c=o[l]-t||(r?this.value[l].endSide:this.value[l].startSide)-n;if(l==s)return c>=0?s:a;c>=0?a=l:s=l+1}}between(t,n,r,i){for(let o=this.findIndex(n,-1e9,!0),s=this.findIndex(r,1e9,!1,o);o<s;o++)if(i(this.from[o]+t,this.to[o]+t,this.value[o])===!1)return!1}map(t,n){let r=[],i=[],o=[],s=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],u=this.from[l]+t,f=this.to[l]+t,d,h;if(u==f){let p=n.mapPos(u,c.startSide,c.mapMode);if(p==null||(d=h=p,c.startSide!=c.endSide&&(h=n.mapPos(u,c.endSide),h<d)))continue}else if(d=n.mapPos(u,c.startSide),h=n.mapPos(f,c.endSide),d>h||d==h&&c.startSide>0&&c.endSide<=0)continue;(h-d||c.endSide-c.startSide)<0||(s<0&&(s=d),c.point&&(a=Math.max(a,h-d)),r.push(c),i.push(d-s),o.push(h-s))}return{mapped:r.length?new Lre(i,o,r,a):null,pos:s}}}class Wn{constructor(t,n,r,i){this.chunkPos=t,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(t,n,r,i){return new Wn(t,n,r,i)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let n of this.chunk)t+=n.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:o=this.length}=t,s=t.filter;if(n.length==0&&!s)return this;if(r&&(n=n.slice().sort(wX)),this.isEmpty)return n.length?Wn.of(n):this;let a=new aLe(this,null,-1).goto(0),l=0,c=[],u=new Sh;for(;a.value||l<n.length;)if(l<n.length&&(a.from-n[l].from||a.startSide-n[l].value.startSide)>=0){let f=n[l++];u.addInner(f.from,f.to,f.value)||c.push(f)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(a.chunkIndex)<n[l].from)&&(!s||i>this.chunkEnd(a.chunkIndex)||o<this.chunkPos[a.chunkIndex])&&u.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!s||i>a.to||o<a.from||s(a.from,a.to,a.value))&&(u.addInner(a.from,a.to,a.value)||c.push(xX.create(a.from,a.to,a.value))),a.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?Wn.empty:this.nextLayer.update({add:c,filter:s,filterFrom:i,filterTo:o}))}map(t){if(t.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let s=0;s<this.chunk.length;s++){let a=this.chunkPos[s],l=this.chunk[s],c=t.touchesRange(a,a+l.length);if(c===!1)i=Math.max(i,l.maxPoint),n.push(l),r.push(t.mapPos(a));else if(c===!0){let{mapped:u,pos:f}=l.map(a,t);u&&(i=Math.max(i,u.maxPoint),n.push(u),r.push(f))}}let o=this.nextLayer.map(t);return n.length==0?o:new Wn(r,n,o||Wn.empty,i)}between(t,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],s=this.chunk[i];if(n>=o&&t<=o+s.length&&s.between(o,t-o,n-o,r)===!1)return}this.nextLayer.between(t,n,r)}}iter(t=0){return u2.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,n=0){return u2.from(t).goto(n)}static compare(t,n,r,i,o=-1){let s=t.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=o),a=n.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=o),l=y0e(s,a,r),c=new o$(s,l,o),u=new o$(a,l,o);r.iterGaps((f,d,h)=>v0e(c,f,u,d,h,i)),r.empty&&r.length==0&&v0e(c,0,u,0,0,i)}static eq(t,n,r=0,i){i==null&&(i=999999999);let o=t.filter(u=>!u.isEmpty&&n.indexOf(u)<0),s=n.filter(u=>!u.isEmpty&&t.indexOf(u)<0);if(o.length!=s.length)return!1;if(!o.length)return!0;let a=y0e(o,s),l=new o$(o,a,0).goto(r),c=new o$(s,a,0).goto(r);for(;;){if(l.to!=c.to||!SX(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>i)return!0;l.next(),c.next()}}static spans(t,n,r,i,o=-1){let s=new o$(t,null,o).goto(n),a=n,l=s.openStart;for(;;){let c=Math.min(s.to,r);if(s.point){let u=s.activeForPoint(s.to),f=s.pointFrom<n?u.length+1:Math.min(u.length,l);i.point(a,c,s.point,u,f,s.pointRank),l=Math.min(s.openEnd(c),u.length)}else c>a&&(i.span(a,c,s.active,l),l=s.openEnd(c));if(s.to>r)return l+(s.point&&s.to>r?1:0);a=s.to,s.next()}}static of(t,n=!1){let r=new Sh;for(let i of t instanceof xX?[t]:n?VNt(t):t)r.add(i.from,i.to,i.value);return r.finish()}static join(t){if(!t.length)return Wn.empty;let n=t[t.length-1];for(let r=t.length-2;r>=0;r--)for(let i=t[r];i!=Wn.empty;i=i.nextLayer)n=new Wn(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}Wn.empty=new Wn([],[],null,-1);function VNt(e){if(e.length>1)for(let t=e[0],n=1;n<e.length;n++){let r=e[n];if(wX(t,r)>0)return e.slice().sort(wX);t=r}return e}Wn.empty.nextLayer=Wn.empty;class Sh{finishChunk(t){this.chunks.push(new Lre(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(t,n,r){this.addInner(t,n,r)||(this.nextLayer||(this.nextLayer=new Sh)).add(t,n,r)}addInner(t,n,r){let i=t-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(t-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=t,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-t)),!0)}addChunk(t,n){if((t-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(t);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+t,this.lastTo=n.to[r]+t,!0}finish(){return this.finishInner(Wn.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return t;let n=Wn.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,n}}function y0e(e,t,n){let r=new Map;for(let o of e)for(let s=0;s<o.chunk.length;s++)o.chunk[s].maxPoint<=0&&r.set(o.chunk[s],o.chunkPos[s]);let i=new Set;for(let o of t)for(let s=0;s<o.chunk.length;s++){let a=r.get(o.chunk[s]);a!=null&&(n?n.mapPos(a):a)==o.chunkPos[s]&&!(n!=null&&n.touchesRange(a,a+o.chunk[s].length))&&i.add(o.chunk[s])}return i}class aLe{constructor(t,n,r,i=0){this.layer=t,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,n,!1),this}gotoInner(t,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<t||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(t,n){(this.to-t||this.endSide-n)<0&&this.gotoInner(t,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let t=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=t+n.from[this.rangeIndex];if(this.from=r,this.to=t+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}}class u2{constructor(t){this.heap=t}static from(t,n=null,r=-1){let i=[];for(let o=0;o<t.length;o++)for(let s=t[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=r&&i.push(new aLe(s,n,r,o));return i.length==1?i[0]:new u2(i)}get startSide(){return this.value?this.value.startSide:0}goto(t,n=-1e9){for(let r of this.heap)r.goto(t,n);for(let r=this.heap.length>>1;r>=0;r--)vB(this.heap,r);return this.next(),this}forward(t,n){for(let r of this.heap)r.forward(t,n);for(let r=this.heap.length>>1;r>=0;r--)vB(this.heap,r);(this.to-t||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),vB(this.heap,0)}}}function vB(e,t){for(let n=e[t];;){let r=(t<<1)+1;if(r>=e.length)break;let i=e[r];if(r+1<e.length&&i.compare(e[r+1])>=0&&(i=e[r+1],r++),n.compare(i)<0)break;e[r]=n,e[t]=i,t=r}}class o${constructor(t,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=u2.from(t,n,r)}goto(t,n=-1e9){return this.cursor.goto(t,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=n,this.openStart=-1,this.next(),this}forward(t,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(t,n)}removeActive(t){PD(this.active,t),PD(this.activeTo,t),PD(this.activeRank,t),this.minActive=b0e(this.active,this.activeTo)}addActive(t){let n=0,{value:r,to:i,rank:o}=this.cursor;for(;n<this.activeRank.length&&(o-this.activeRank[n]||i-this.activeTo[n])>0;)n++;RD(this.active,n,r),RD(this.activeTo,n,i),RD(this.activeRank,n,o),t&&RD(t,n,this.cursor.from),this.minActive=b0e(this.active,this.activeTo)}next(){let t=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>t){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&PD(r,i)}else if(this.cursor.value)if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<t;i--)this.openStart++}}activeForPoint(t){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>t||this.activeTo[r]==t&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(t){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>t;r--)n++;return n}}function v0e(e,t,n,r,i,o){e.goto(t),n.goto(r);let s=r+i,a=r,l=r-t;for(;;){let c=e.to+l-n.to||e.endSide-n.endSide,u=c<0?e.to+l:n.to,f=Math.min(u,s);if(e.point||n.point?e.point&&n.point&&(e.point==n.point||e.point.eq(n.point))&&SX(e.activeForPoint(e.to),n.activeForPoint(n.to))||o.comparePoint(a,f,e.point,n.point):f>a&&!SX(e.active,n.active)&&o.compareRange(a,f,e.active,n.active),u>s)break;a=u,c<=0&&e.next(),c>=0&&n.next()}}function SX(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n]&&!e[n].eq(t[n]))return!1;return!0}function PD(e,t){for(let n=t,r=e.length-1;n<r;n++)e[n]=e[n+1];e.pop()}function RD(e,t,n){for(let r=e.length-1;r>=t;r--)e[r+1]=e[r];e[t]=n}function b0e(e,t){let n=-1,r=1e9;for(let i=0;i<t.length;i++)(t[i]-r||e[i].endSide-e[n].endSide)<0&&(n=i,r=t[i]);return n}function Kf(e,t,n=e.length){let r=0;for(let i=0;i<n;)e.charCodeAt(i)==9?(r+=t-r%t,i++):(r++,i=Ps(e,i));return r}function _X(e,t,n,r){for(let i=0,o=0;;){if(o>=t)return i;if(i==e.length)break;o+=e.charCodeAt(i)==9?n-o%n:1,i=Ps(e,i)}return r===!0?-1:e.length}const CX="",O0e=typeof Symbol>"u"?"__"+CX:Symbol.for(CX),$X=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),x0e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Xy{constructor(t,n){this.rules=[];let{finish:r}=n||{};function i(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function o(s,a,l,c){let u=[],f=/^@(\w+)\b/.exec(s[0]),d=f&&f[1]=="keyframes";if(f&&a==null)return l.push(s[0]+";");for(let h in a){let p=a[h];if(/&/.test(h))o(h.split(/,\s*/).map(g=>s.map(y=>g.replace(/&/,y))).reduce((g,y)=>g.concat(y)),p,l);else if(p&&typeof p=="object"){if(!f)throw new RangeError("The value of a property ("+h+") should be a primitive value.");o(i(h),p,u,d)}else p!=null&&u.push(h.replace(/_.*/,"").replace(/[A-Z]/g,g=>"-"+g.toLowerCase())+": "+p+";")}(u.length||d)&&l.push((r&&!f&&!c?s.map(r):s).join(", ")+" {"+u.join(" ")+"}")}for(let s in t)o(i(s),t[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let t=x0e[O0e]||1;return x0e[O0e]=t+1,CX+t.toString(36)}static mount(t,n,r){let i=t[$X],o=r&&r.nonce;i?o&&i.setNonce(o):i=new UNt(t,o),i.mount(Array.isArray(n)?n:[n])}}let w0e=new Map;class UNt{constructor(t,n){let r=t.ownerDocument||t,i=r.defaultView;if(!t.head&&t.adoptedStyleSheets&&i.CSSStyleSheet){let o=w0e.get(r);if(o)return t.adoptedStyleSheets=[o.sheet,...t.adoptedStyleSheets],t[$X]=o;this.sheet=new i.CSSStyleSheet,t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets],w0e.set(r,this)}else{this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);let o=t.head||t;o.insertBefore(this.styleTag,o.firstChild)}this.modules=[],t[$X]=this}mount(t){let n=this.sheet,r=0,i=0;for(let o=0;o<t.length;o++){let s=t[o],a=this.modules.indexOf(s);if(a<i&&a>-1&&(this.modules.splice(a,1),i--,a=-1),a==-1){if(this.modules.splice(i++,0,s),n)for(let l=0;l<s.rules.length;l++)n.insertRule(s.rules[l],r++)}else{for(;i<a;)r+=this.modules[i++].rules.length;r+=s.rules.length,i++}}if(!n){let o="";for(let s=0;s<this.modules.length;s++)o+=this.modules[s].getRules()+`
`;this.styleTag.textContent=o}}setNonce(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}}var Hy={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},f2={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},S0e=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),qNt=typeof navigator<"u"&&/Apple Computer/.test(navigator.vendor),YNt=typeof navigator<"u"&&/Gecko\/\d+/.test(navigator.userAgent),_0e=typeof navigator<"u"&&/Mac/.test(navigator.platform),XNt=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),HNt=S0e&&(_0e||+S0e[1]<57)||YNt&&_0e;for(var _s=0;_s<10;_s++)Hy[48+_s]=Hy[96+_s]=String(_s);for(var _s=1;_s<=24;_s++)Hy[_s+111]="F"+_s;for(var _s=65;_s<=90;_s++)Hy[_s]=String.fromCharCode(_s+32),f2[_s]=String.fromCharCode(_s);for(var bB in Hy)f2.hasOwnProperty(bB)||(f2[bB]=Hy[bB]);function ZNt(e){var t=HNt&&(e.ctrlKey||e.altKey||e.metaKey)||(qNt||XNt)&&e.shiftKey&&e.key&&e.key.length==1,n=!t&&e.key||(e.shiftKey?f2:Hy)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function g3(e){let t;return e.nodeType==11?t=e.getSelection?e:e.ownerDocument:t=e,t.getSelection()}function EX(e,t){return t?e==t||e.contains(t.nodeType!=1?t.parentNode:t):!1}function GNt(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function ZM(e,t){if(!t.anchorNode)return!1;try{return EX(e,t.anchorNode)}catch{return!1}}function yS(e){return e.nodeType==3?J1(e,0,e.nodeValue.length).getClientRects():e.nodeType==1?e.getClientRects():[]}function Sk(e,t,n,r){return n?C0e(e,t,n,r,-1)||C0e(e,t,n,r,1):!1}function d2(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t}function C0e(e,t,n,r,i){for(;;){if(e==n&&t==r)return!0;if(t==(i<0?0:dg(e))){if(e.nodeName=="DIV")return!1;let o=e.parentNode;if(!o||o.nodeType!=1)return!1;t=d2(e)+(i<0?0:1),e=o}else if(e.nodeType==1){if(e=e.childNodes[t+(i<0?-1:0)],e.nodeType==1&&e.contentEditable=="false")return!1;t=i<0?dg(e):0}else return!1}}function dg(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function j6(e,t){let n=t?e.left:e.right;return{left:n,right:n,top:e.top,bottom:e.bottom}}function KNt(e){return{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight}}function lLe(e,t){let n=t.width/e.offsetWidth,r=t.height/e.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(t.width-e.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(t.height-e.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function JNt(e,t,n,r,i,o,s,a){let l=e.ownerDocument,c=l.defaultView||window;for(let u=e,f=!1;u&&!f;)if(u.nodeType==1){let d,h=u==l.body,p=1,g=1;if(h)d=KNt(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(f=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let x=u.getBoundingClientRect();({scaleX:p,scaleY:g}=lLe(u,x)),d={left:x.left,right:x.left+u.clientWidth*p,top:x.top,bottom:x.top+u.clientHeight*g}}let y=0,v=0;if(i=="nearest")t.top<d.top?(v=-(d.top-t.top+s),n>0&&t.bottom>d.bottom+v&&(v=t.bottom-d.bottom+v+s)):t.bottom>d.bottom&&(v=t.bottom-d.bottom+s,n<0&&t.top-v<d.top&&(v=-(d.top+v-t.top+s)));else{let x=t.bottom-t.top,m=d.bottom-d.top;v=(i=="center"&&x<=m?t.top+x/2-m/2:i=="start"||i=="center"&&n<0?t.top-s:t.bottom-m+s)-d.top}if(r=="nearest"?t.left<d.left?(y=-(d.left-t.left+o),n>0&&t.right>d.right+y&&(y=t.right-d.right+y+o)):t.right>d.right&&(y=t.right-d.right+o,n<0&&t.left<d.left+y&&(y=-(d.left+y-t.left+o))):y=(r=="center"?t.left+(t.right-t.left)/2-(d.right-d.left)/2:r=="start"==a?t.left-o:t.right-(d.right-d.left)+o)-d.left,y||v)if(h)c.scrollBy(y,v);else{let x=0,m=0;if(v){let w=u.scrollTop;u.scrollTop+=v/g,m=(u.scrollTop-w)*g}if(y){let w=u.scrollLeft;u.scrollLeft+=y/p,x=(u.scrollLeft-w)*p}t={left:t.left-x,top:t.top-m,right:t.right-x,bottom:t.bottom-m},x&&Math.abs(x-y)<1&&(r="nearest"),m&&Math.abs(m-v)<1&&(i="nearest")}if(h)break;u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function eMt(e){let t=e.ownerDocument;for(let n=e.parentNode;n&&n!=t.body;)if(n.nodeType==1){if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)return n;n=n.assignedSlot||n.parentNode}else if(n.nodeType==11)n=n.host;else break;return null}class tMt{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){let{anchorNode:n,focusNode:r}=t;this.set(n,Math.min(t.anchorOffset,n?dg(n):0),r,Math.min(t.focusOffset,r?dg(r):0))}set(t,n,r,i){this.anchorNode=t,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let jO=null;function cLe(e){if(e.setActive)return e.setActive();if(jO)return e.focus(jO);let t=[];for(let n=e;n&&(t.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(e.focus(jO==null?{get preventScroll(){return jO={preventScroll:!0},!0}}:void 0),!jO){jO=!1;for(let n=0;n<t.length;){let r=t[n++],i=t[n++],o=t[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=o&&(r.scrollLeft=o)}}}let $0e;function J1(e,t,n=t){let r=$0e||($0e=document.createRange());return r.setEnd(e,n),r.setStart(e,t),r}function _w(e,t,n){let r={key:t,code:t,keyCode:n,which:n,cancelable:!0},i=new KeyboardEvent("keydown",r);i.synthetic=!0,e.dispatchEvent(i);let o=new KeyboardEvent("keyup",r);return o.synthetic=!0,e.dispatchEvent(o),i.defaultPrevented||o.defaultPrevented}function nMt(e){for(;e;){if(e&&(e.nodeType==9||e.nodeType==11&&e.host))return e;e=e.assignedSlot||e.parentNode}return null}function uLe(e){for(;e.attributes.length;)e.removeAttributeNode(e.attributes[0])}function rMt(e,t){let n=t.focusNode,r=t.focusOffset;if(!n||t.anchorNode!=n||t.anchorOffset!=r)return!1;for(r=Math.min(r,dg(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=dg(n))}else{if(n==e)return!0;r=d2(n),n=n.parentNode}}function fLe(e){return e.scrollTop>Math.max(1,e.scrollHeight-e.clientHeight-4)}class fa{constructor(t,n,r=!0){this.node=t,this.offset=n,this.precise=r}static before(t,n){return new fa(t.parentNode,d2(t),n)}static after(t,n){return new fa(t.parentNode,d2(t)+1,n)}}const jre=[];class li{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let n=this.posAtStart;for(let r of this.children){if(r==t)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}sync(t,n){if(this.flags&2){let r=this.dom,i=null,o;for(let s of this.children){if(s.flags&7){if(!s.dom&&(o=i?i.nextSibling:r.firstChild)){let a=li.get(o);(!a||!a.parent&&a.canReuseDOM(s))&&s.reuseDOM(o)}s.sync(t,n),s.flags&=-8}if(o=i?i.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&o!=s.dom&&(n.written=!0),s.dom.parentNode==r)for(;o&&o!=s.dom;)o=E0e(o);else r.insertBefore(s.dom,o);i=s.dom}for(o=i?i.nextSibling:r.firstChild,o&&n&&n.node==r&&(n.written=!0);o;)o=E0e(o)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(t,n),r.flags&=-8)}reuseDOM(t){}localPosFromDOM(t,n){let r;if(t==this.dom)r=this.dom.childNodes[n];else{let i=dg(t)==0?0:n==0?-1:1;for(;;){let o=t.parentNode;if(o==this.dom)break;i==0&&o.firstChild!=o.lastChild&&(t==o.firstChild?i=-1:i=1),t=o}i<0?r=t:r=t.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!li.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,o=0;;i++){let s=this.children[i];if(s.dom==r)return o;o+=s.length+s.breakAfter}}domBoundsAround(t,n,r=0){let i=-1,o=-1,s=-1,a=-1;for(let l=0,c=r,u=r;l<this.children.length;l++){let f=this.children[l],d=c+f.length;if(c<t&&d>n)return f.domBoundsAround(t,n,c);if(d>=t&&i==-1&&(i=l,o=c),c>n&&f.dom.parentNode==this.dom){s=l,a=u;break}u=d,c=d+f.breakAfter}return{from:o,to:a<0?r+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(t=!1){this.flags|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let n=this.parent;n;n=n.parent){if(t&&(n.flags|=2),n.flags&1)return;n.flags|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,this.flags&7&&this.markParentsDirty(!0))}setDOM(t){this.dom!=t&&(this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this)}get rootView(){for(let t=this;;){let n=t.parent;if(!n)return t;t=n}}replaceChildren(t,n,r=jre){this.markDirty();for(let i=t;i<n;i++){let o=this.children[i];o.parent==this&&r.indexOf(o)<0&&o.destroy()}this.children.splice(t,n-t,...r);for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new dLe(this.children,t,this.children.length)}childPos(t,n=1){return this.childCursor().findPos(t,n)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+(t=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(t,n,r,i,o,s){return!1}become(t){return!1}canReuseDOM(t){return t.constructor==this.constructor&&!((this.flags|t.flags)&8)}getSide(){return 0}destroy(){for(let t of this.children)t.parent==this&&t.destroy();this.parent=null}}li.prototype.breakAfter=0;function E0e(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class dLe{constructor(t,n,r){this.children=t,this.pos=n,this.i=r,this.off=0}findPos(t,n=1){for(;;){if(t>this.pos||t==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function hLe(e,t,n,r,i,o,s,a,l){let{children:c}=e,u=c.length?c[t]:null,f=o.length?o[o.length-1]:null,d=f?f.breakAfter:s;if(!(t==r&&u&&!s&&!d&&o.length<2&&u.merge(n,i,o.length?f:null,n==0,a,l))){if(r<c.length){let h=c[r];h&&(i<h.length||h.breakAfter&&(f!=null&&f.breakAfter))?(t==r&&(h=h.split(i),i=0),!d&&f&&h.merge(0,i,f,!0,0,l)?o[o.length-1]=h:((i||h.children.length&&!h.children[0].length)&&h.merge(0,i,null,!1,0,l),o.push(h))):h!=null&&h.breakAfter&&(f?f.breakAfter=1:s=1),r++}for(u&&(u.breakAfter=s,n>0&&(!s&&o.length&&u.merge(n,u.length,o[0],!1,a,0)?u.breakAfter=o.shift().breakAfter:(n<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(n,u.length,null,!1,a,0),t++));t<r&&o.length;)if(c[r-1].become(o[o.length-1]))r--,o.pop(),l=o.length?0:a;else if(c[t].become(o[0]))t++,o.shift(),a=o.length?0:l;else break;!o.length&&t&&r<c.length&&!c[t-1].breakAfter&&c[r].merge(0,0,c[t-1],!1,a,l)&&t--,(t<r||o.length)&&e.replaceChildren(t,r,o)}}function pLe(e,t,n,r,i,o){let s=e.childCursor(),{i:a,off:l}=s.findPos(n,1),{i:c,off:u}=s.findPos(t,-1),f=t-n;for(let d of r)f+=d.length;e.length+=f,hLe(e,c,u,a,l,r,0,i,o)}let xc=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},kX=typeof document<"u"?document:{documentElement:{style:{}}};const TX=/Edge\/(\d+)/.exec(xc.userAgent),gLe=/MSIE \d/.test(xc.userAgent),PX=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(xc.userAgent),F6=!!(gLe||PX||TX),k0e=!F6&&/gecko\/(\d+)/i.test(xc.userAgent),OB=!F6&&/Chrome\/(\d+)/.exec(xc.userAgent),T0e="webkitFontSmoothing"in kX.documentElement.style,mLe=!F6&&/Apple Computer/.test(xc.vendor),P0e=mLe&&(/Mobile\/\w+/.test(xc.userAgent)||xc.maxTouchPoints>2);var wt={mac:P0e||/Mac/.test(xc.platform),windows:/Win/.test(xc.platform),linux:/Linux|X11/.test(xc.platform),ie:F6,ie_version:gLe?kX.documentMode||6:PX?+PX[1]:TX?+TX[1]:0,gecko:k0e,gecko_version:k0e?+(/Firefox\/(\d+)/.exec(xc.userAgent)||[0,0])[1]:0,chrome:!!OB,chrome_version:OB?+OB[1]:0,ios:P0e,android:/Android\b/.test(xc.userAgent),webkit:T0e,safari:mLe,webkit_version:T0e?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:kX.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const iMt=256;class hg extends li{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){t.nodeType==3&&this.createDOM(t)}merge(t,n,r){return this.flags&8||r&&(!(r instanceof hg)||this.length-(n-t)+r.length>iMt||r.flags&8)?!1:(this.text=this.text.slice(0,t)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(t){let n=new hg(this.text.slice(t));return this.text=this.text.slice(0,t),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(t,n){return t==this.dom?n:n?this.text.length:0}domAtPos(t){return new fa(this.dom,t)}domBoundsAround(t,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,n){return oMt(this.dom,t,n)}}class pg extends li{constructor(t,n=[],r=0){super(),this.mark=t,this.children=n,this.length=r;for(let i of n)i.setParent(this)}setAttrs(t){if(uLe(t),this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)t.setAttribute(n,this.mark.attrs[n]);return t}canReuseDOM(t){return super.canReuseDOM(t)&&!((this.flags|t.flags)&8)}reuseDOM(t){t.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(t),this.flags|=6)}sync(t,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(t,n)}merge(t,n,r,i,o,s){return r&&(!(r instanceof pg&&r.mark.eq(this.mark))||t&&o<=0||n<this.length&&s<=0)?!1:(pLe(this,t,n,r?r.children.slice():[],o-1,s-1),this.markDirty(),!0)}split(t){let n=[],r=0,i=-1,o=0;for(let a of this.children){let l=r+a.length;l>t&&n.push(r<t?a.split(t-r):a),i<0&&r>=t&&(i=o),r=l,o++}let s=this.length-t;return this.length=t,i>-1&&(this.children.length=i,this.markDirty()),new pg(this.mark,n,s)}domAtPos(t){return yLe(this,t)}coordsAt(t,n){return bLe(this,t,n)}}function oMt(e,t,n){let r=e.nodeValue.length;t>r&&(t=r);let i=t,o=t,s=0;t==0&&n<0||t==r&&n>=0?wt.chrome||wt.gecko||(t?(i--,s=1):o<r&&(o++,s=-1)):n<0?i--:o<r&&o++;let a=J1(e,i,o).getClientRects();if(!a.length)return null;let l=a[(s?s<0:n>=0)?0:a.length-1];return wt.safari&&!s&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),s?j6(l,s<0):l||null}class Bm extends li{static create(t,n,r){return new Bm(t,n,r)}constructor(t,n,r){super(),this.widget=t,this.length=n,this.side=r,this.prevWidget=null}split(t){let n=Bm.create(this.widget,this.length-t,this.side);return this.length-=t,n}sync(t){(!this.dom||!this.widget.updateDOM(this.dom,t))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(t,n,r,i,o,s){return r&&(!(r instanceof Bm)||!this.widget.compare(r.widget)||t>0&&o<=0||n<this.length&&s<=0)?!1:(this.length=t+(r?r.length:0)+(this.length-n),!0)}become(t){return t instanceof Bm&&t.side==this.side&&this.widget.constructor==t.widget.constructor?(this.widget.compare(t.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(this.length==0)return Xn.empty;let t=this;for(;t.parent;)t=t.parent;let{view:n}=t,r=n&&n.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):Xn.empty}domAtPos(t){return(this.length?t==0:this.side>0)?fa.before(this.dom):fa.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,n){let r=this.widget.coordsAt(this.dom,t,n);if(r)return r;let i=this.dom.getClientRects(),o=null;if(!i.length)return null;let s=this.side?this.side<0:t>0;for(let a=s?i.length-1:0;o=i[a],!(t>0?a==0:a==i.length-1||o.top<o.bottom);a+=s?-1:1);return j6(o,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class vS extends li{constructor(t){super(),this.side=t}get length(){return 0}merge(){return!1}become(t){return t instanceof vS&&t.side==this.side}split(){return new vS(this.side)}sync(){if(!this.dom){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),this.setDOM(t)}}getSide(){return this.side}domAtPos(t){return this.side>0?fa.before(this.dom):fa.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(t){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Xn.empty}get isHidden(){return!0}}hg.prototype.children=Bm.prototype.children=vS.prototype.children=jre;function yLe(e,t){let n=e.dom,{children:r}=e,i=0;for(let o=0;i<r.length;i++){let s=r[i],a=o+s.length;if(!(a==o&&s.getSide()<=0)){if(t>o&&t<a&&s.dom.parentNode==n)return s.domAtPos(t-o);if(t<=o)break;o=a}}for(let o=i;o>0;o--){let s=r[o-1];if(s.dom.parentNode==n)return s.domAtPos(s.length)}for(let o=i;o<r.length;o++){let s=r[o];if(s.dom.parentNode==n)return s.domAtPos(0)}return new fa(n,0)}function vLe(e,t,n){let r,{children:i}=e;n>0&&t instanceof pg&&i.length&&(r=i[i.length-1])instanceof pg&&r.mark.eq(t.mark)?vLe(r,t.children[0],n-1):(i.push(t),t.setParent(e)),e.length+=t.length}function bLe(e,t,n){let r=null,i=-1,o=null,s=-1;function a(c,u){for(let f=0,d=0;f<c.children.length&&d<=u;f++){let h=c.children[f],p=d+h.length;p>=u&&(h.children.length?a(h,u-d):(!o||o.isHidden&&n>0)&&(p>u||d==p&&h.getSide()>0)?(o=h,s=u-d):(d<u||d==p&&h.getSide()<0&&!h.isHidden)&&(r=h,i=u-d)),d=p}}a(e,t);let l=(n<0?r:o)||r||o;return l?l.coordsAt(Math.max(0,l==r?i:s),n):sMt(e)}function sMt(e){let t=e.dom.lastChild;if(!t)return e.dom.getBoundingClientRect();let n=yS(t);return n[n.length-1]||null}function RX(e,t){for(let n in e)n=="class"&&t.class?t.class+=" "+e.class:n=="style"&&t.style?t.style+=";"+e.style:t[n]=e[n];return t}const R0e=Object.create(null);function Fre(e,t,n){if(e==t)return!0;e||(e=R0e),t||(t=R0e);let r=Object.keys(e),i=Object.keys(t);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let o of r)if(o!=n&&(i.indexOf(o)==-1||e[o]!==t[o]))return!1;return!0}function AX(e,t,n){let r=!1;if(t)for(let i in t)n&&i in n||(r=!0,i=="style"?e.style.cssText="":e.removeAttribute(i));if(n)for(let i in n)t&&t[i]==n[i]||(r=!0,i=="style"?e.style.cssText=n[i]:e.setAttribute(i,n[i]));return r}function aMt(e){let t=Object.create(null);for(let n=0;n<e.attributes.length;n++){let r=e.attributes[n];t[r.name]=r.value}return t}class To extends li{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,n,r,i,o,s){if(r){if(!(r instanceof To))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),pLe(this,t,n,r?r.children.slice():[],o,s),!0}split(t){let n=new To;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:i}=this.childPos(t);i&&(n.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let o=r;o<this.children.length;o++)n.append(this.children[o],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=t,n}transferDOM(t){this.dom&&(this.markDirty(),t.setDOM(this.dom),t.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){Fre(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,n){vLe(this,t,n)}addLineDeco(t){let n=t.spec.attributes,r=t.spec.class;n&&(this.attrs=RX(n,this.attrs||{})),r&&(this.attrs=RX({class:r},this.attrs||{}))}domAtPos(t){return yLe(this,t)}reuseDOM(t){t.nodeName=="DIV"&&(this.setDOM(t),this.flags|=6)}sync(t,n){var r;this.dom?this.flags&4&&(uLe(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(AX(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t,n);let i=this.dom.lastChild;for(;i&&li.get(i)instanceof pg;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=li.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!wt.ios||!this.children.some(o=>o instanceof hg))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let t=0,n;for(let r of this.children){if(!(r instanceof hg)||/[^ -~]/.test(r.text))return null;let i=yS(r.dom);if(i.length!=1)return null;t+=i[0].width,n=i[0].height}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length,textHeight:n}:null}coordsAt(t,n){let r=bLe(this,t,n);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,o=r.bottom-r.top;if(Math.abs(o-i.lineHeight)<2&&i.textHeight<o){let s=(o-i.textHeight)/2;return{top:r.top+s,bottom:r.bottom-s,left:r.left,right:r.left}}}return r}become(t){return!1}covers(){return!0}static find(t,n){for(let r=0,i=0;r<t.children.length;r++){let o=t.children[r],s=i+o.length;if(s>=n){if(o instanceof To)return o;if(s>n)break}i=s+o.breakAfter}return null}}class my extends li{constructor(t,n,r){super(),this.widget=t,this.length=n,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(t,n,r,i,o,s){return r&&(!(r instanceof my)||!this.widget.compare(r.widget)||t>0&&o<=0||n<this.length&&s<=0)?!1:(this.length=t+(r?r.length:0)+(this.length-n),!0)}domAtPos(t){return t==0?fa.before(this.dom):fa.after(this.dom,t==this.length)}split(t){let n=this.length-t;this.length=t;let r=new my(this.widget,n,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return jre}sync(t){(!this.dom||!this.widget.updateDOM(this.dom,t))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Xn.empty}domBoundsAround(){return null}become(t){return t instanceof my&&t.widget.constructor==this.widget.constructor?(t.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,this.deco=t.deco,this.breakAfter=t.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(t,n){return this.widget.coordsAt(this.dom,t,n)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(t){let{startSide:n,endSide:r}=this.deco;return n==r?!1:t<0?n<0:r>0}}class ud{eq(t){return!1}updateDOM(t,n){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(t){return!0}coordsAt(t,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(t){}}var Za=function(e){return e[e.Text=0]="Text",e[e.WidgetBefore=1]="WidgetBefore",e[e.WidgetAfter=2]="WidgetAfter",e[e.WidgetRange=3]="WidgetRange",e}(Za||(Za={}));class vt extends K1{constructor(t,n,r,i){super(),this.startSide=t,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(t){return new cR(t)}static widget(t){let n=Math.max(-1e4,Math.min(1e4,t.side||0)),r=!!t.block;return n+=r&&!t.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new Zy(t,n,n,r,t.widget||null,!1)}static replace(t){let n=!!t.block,r,i;if(t.isBlockGap)r=-5e8,i=4e8;else{let{start:o,end:s}=OLe(t,n);r=(o?n?-3e8:-1:5e8)-1,i=(s?n?2e8:1:-6e8)+1}return new Zy(t,r,i,n,t.widget||null,!0)}static line(t){return new uR(t)}static set(t,n=!1){return Wn.of(t,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}vt.none=Wn.empty;class cR extends vt{constructor(t){let{start:n,end:r}=OLe(t);super(n?-1:5e8,r?1:-6e8,null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){var n,r;return this==t||t instanceof cR&&this.tagName==t.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(t.class||((r=t.attrs)===null||r===void 0?void 0:r.class))&&Fre(this.attrs,t.attrs,"class")}range(t,n=t){if(t>=n)throw new RangeError("Mark decorations may not be empty");return super.range(t,n)}}cR.prototype.point=!1;class uR extends vt{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof uR&&this.spec.class==t.spec.class&&Fre(this.spec.attributes,t.spec.attributes)}range(t,n=t){if(n!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,n)}}uR.prototype.mapMode=Lo.TrackBefore;uR.prototype.point=!0;class Zy extends vt{constructor(t,n,r,i,o,s){super(n,r,o,t),this.block=i,this.isReplace=s,this.mapMode=i?n<=0?Lo.TrackBefore:Lo.TrackAfter:Lo.TrackDel}get type(){return this.startSide!=this.endSide?Za.WidgetRange:this.startSide<=0?Za.WidgetBefore:Za.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(t){return t instanceof Zy&&lMt(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(t,n=t){if(this.isReplace&&(t>n||t==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,n)}}Zy.prototype.point=!0;function OLe(e,t=!1){let{inclusiveStart:n,inclusiveEnd:r}=e;return n==null&&(n=e.inclusive),r==null&&(r=e.inclusive),{start:n??t,end:r??t}}function lMt(e,t){return e==t||!!(e&&t&&e.compare(t))}function DX(e,t,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=e?n[i]=Math.max(n[i],t):n.push(e,t)}class _k{constructor(t,n,r,i){this.doc=t,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!(t.breakAfter||t instanceof my&&t.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new To),this.atCursorPos=!0),this.curLine}flushBuffer(t=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(AD(new vS(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer(),this.curLine=null,this.content.push(t)}finish(t){this.pendingBuffer&&t<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(t&&this.content.length&&this.content[this.content.length-1]instanceof my)&&this.getLine()}buildText(t,n,r){for(;t>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:s,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,t--;continue}else this.text=o,this.textOff=0}let i=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(AD(new hg(this.text.slice(this.textOff,this.textOff+i)),n),r),this.atCursorPos=!0,this.textOff+=i,t-=i,r=0}}span(t,n,r,i){this.buildText(n-t,r,i),this.pos=n,this.openStart<0&&(this.openStart=i)}point(t,n,r,i,o,s){if(this.disallowBlockEffectsFor[s]&&r instanceof Zy){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=n-t;if(r instanceof Zy)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new my(r.widget||new A0e("div"),a,r));else{let l=Bm.create(r.widget||new A0e("span"),a,a?0:r.startSide),c=this.atCursorPos&&!l.isEditable&&o<=i.length&&(t<n||r.startSide>0),u=!l.isEditable&&(t<n||o>i.length||r.startSide<=0),f=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),c&&(f.append(AD(new vS(1),i),o),o=i.length+Math.max(0,o-i.length)),f.append(AD(l,i),o),this.atCursorPos=u,this.pendingBuffer=u?t<n||o>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=o)}static build(t,n,r,i,o){let s=new _k(t,n,r,o);return s.openEnd=Wn.spans(i,n,r,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function AD(e,t){for(let n of t)e=new pg(n,[e],e.length);return e}class A0e extends ud{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}var qr=function(e){return e[e.LTR=0]="LTR",e[e.RTL=1]="RTL",e}(qr||(qr={}));const eb=qr.LTR,zre=qr.RTL;function xLe(e){let t=[];for(let n=0;n<e.length;n++)t.push(1<<+e[n]);return t}const cMt=xLe("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),uMt=xLe("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),NX=Object.create(null),Cd=[];for(let e of["()","[]","{}"]){let t=e.charCodeAt(0),n=e.charCodeAt(1);NX[t]=n,NX[n]=-t}function wLe(e){return e<=247?cMt[e]:1424<=e&&e<=1524?2:1536<=e&&e<=1785?uMt[e-1536]:1774<=e&&e<=2220?4:8192<=e&&e<=8204?256:64336<=e&&e<=65023?4:1}const fMt=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Wm{get dir(){return this.level%2?zre:eb}constructor(t,n,r){this.from=t,this.to=n,this.level=r}side(t,n){return this.dir==n==t?this.to:this.from}forward(t,n){return t==(this.dir==n)}static find(t,n,r,i){let o=-1;for(let s=0;s<t.length;s++){let a=t[s];if(a.from<=n&&a.to>=n){if(a.level==r)return s;(o<0||(i!=0?i<0?a.from<n:a.to>n:t[o].level>a.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}}function SLe(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let r=e[n],i=t[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!SLe(r.inner,i.inner))return!1}return!0}const Ar=[];function dMt(e,t,n,r,i){for(let o=0;o<=r.length;o++){let s=o?r[o-1].to:t,a=o<r.length?r[o].from:n,l=o?256:i;for(let c=s,u=l,f=l;c<a;c++){let d=wLe(e.charCodeAt(c));d==512?d=u:d==8&&f==4&&(d=16),Ar[c]=d==4?2:d,d&7&&(f=d),u=d}for(let c=s,u=l,f=l;c<a;c++){let d=Ar[c];if(d==128)c<a-1&&u==Ar[c+1]&&u&24?d=Ar[c]=u:Ar[c]=256;else if(d==64){let h=c+1;for(;h<a&&Ar[h]==64;)h++;let p=c&&u==8||h<n&&Ar[h]==8?f==1?1:8:256;for(let g=c;g<h;g++)Ar[g]=p;c=h-1}else d==8&&f==1&&(Ar[c]=1);u=d,d&7&&(f=d)}}}function hMt(e,t,n,r,i){let o=i==1?2:1;for(let s=0,a=0,l=0;s<=r.length;s++){let c=s?r[s-1].to:t,u=s<r.length?r[s].from:n;for(let f=c,d,h,p;f<u;f++)if(h=NX[d=e.charCodeAt(f)])if(h<0){for(let g=a-3;g>=0;g-=3)if(Cd[g+1]==-h){let y=Cd[g+2],v=y&2?i:y&4?y&1?o:i:0;v&&(Ar[f]=Ar[Cd[g]]=v),a=g;break}}else{if(Cd.length==189)break;Cd[a++]=f,Cd[a++]=d,Cd[a++]=l}else if((p=Ar[f])==2||p==1){let g=p==i;l=g?0:1;for(let y=a-3;y>=0;y-=3){let v=Cd[y+2];if(v&2)break;if(g)Cd[y+2]|=2;else{if(v&4)break;Cd[y+2]|=4}}}}}function pMt(e,t,n,r){for(let i=0,o=r;i<=n.length;i++){let s=i?n[i-1].to:e,a=i<n.length?n[i].from:t;for(let l=s;l<a;){let c=Ar[l];if(c==256){let u=l+1;for(;;)if(u==a){if(i==n.length)break;u=n[i++].to,a=i<n.length?n[i].from:t}else if(Ar[u]==256)u++;else break;let f=o==1,d=(u<t?Ar[u]:r)==1,h=f==d?f?1:2:r;for(let p=u,g=i,y=g?n[g-1].to:e;p>l;)p==y&&(p=n[--g].from,y=g?n[g-1].to:e),Ar[--p]=h;l=u}else o=c,l++}}}function MX(e,t,n,r,i,o,s){let a=r%2?2:1;if(r%2==i%2)for(let l=t,c=0;l<n;){let u=!0,f=!1;if(c==o.length||l<o[c].from){let g=Ar[l];g!=a&&(u=!1,f=g==16)}let d=!u&&a==1?[]:null,h=u?r:r+1,p=l;e:for(;;)if(c<o.length&&p==o[c].from){if(f)break e;let g=o[c];if(!u)for(let y=g.to,v=c+1;;){if(y==n)break e;if(v<o.length&&o[v].from==y)y=o[v++].to;else{if(Ar[y]==a)break e;break}}if(c++,d)d.push(g);else{g.from>l&&s.push(new Wm(l,g.from,h));let y=g.direction==eb!=!(h%2);IX(e,y?r+1:r,i,g.inner,g.from,g.to,s),l=g.to}p=g.to}else{if(p==n||(u?Ar[p]!=a:Ar[p]==a))break;p++}d?MX(e,l,p,r+1,i,d,s):l<p&&s.push(new Wm(l,p,h)),l=p}else for(let l=n,c=o.length;l>t;){let u=!0,f=!1;if(!c||l>o[c-1].to){let g=Ar[l-1];g!=a&&(u=!1,f=g==16)}let d=!u&&a==1?[]:null,h=u?r:r+1,p=l;e:for(;;)if(c&&p==o[c-1].to){if(f)break e;let g=o[--c];if(!u)for(let y=g.from,v=c;;){if(y==t)break e;if(v&&o[v-1].to==y)y=o[--v].from;else{if(Ar[y-1]==a)break e;break}}if(d)d.push(g);else{g.to<l&&s.push(new Wm(g.to,l,h));let y=g.direction==eb!=!(h%2);IX(e,y?r+1:r,i,g.inner,g.from,g.to,s),l=g.from}p=g.from}else{if(p==t||(u?Ar[p-1]!=a:Ar[p-1]==a))break;p--}d?MX(e,p,l,r+1,i,d,s):p<l&&s.push(new Wm(p,l,h)),l=p}}function IX(e,t,n,r,i,o,s){let a=t%2?2:1;dMt(e,i,o,r,a),hMt(e,i,o,r,a),pMt(i,o,r,a),MX(e,i,o,t,n,r,s)}function gMt(e,t,n){if(!e)return[new Wm(0,0,t==zre?1:0)];if(t==eb&&!n.length&&!fMt.test(e))return _Le(e.length);if(n.length)for(;e.length>Ar.length;)Ar[Ar.length]=256;let r=[],i=t==eb?0:1;return IX(e,i,i,n,0,e.length,r),r}function _Le(e){return[new Wm(0,e,0)]}let CLe="";function mMt(e,t,n,r,i){var o;let s=r.head-e.from,a=Wm.find(t,s,(o=r.bidiLevel)!==null&&o!==void 0?o:-1,r.assoc),l=t[a],c=l.side(i,n);if(s==c){let d=a+=i?1:-1;if(d<0||d>=t.length)return null;l=t[a=d],s=l.side(!i,n),c=l.side(i,n)}let u=Ps(e.text,s,l.forward(i,n));(u<l.from||u>l.to)&&(u=c),CLe=e.text.slice(Math.min(s,u),Math.max(s,u));let f=a==(i?t.length-1:0)?null:t[a+(i?1:-1)];return f&&u==c&&f.level+(i?0:1)<l.level?Ee.cursor(f.side(!i,n)+e.from,f.forward(i,n)?1:-1,f.level):Ee.cursor(u+e.from,l.forward(i,n)?-1:1,l.level)}function yMt(e,t,n){for(let r=t;r<n;r++){let i=wLe(e.charCodeAt(r));if(i==1)return eb;if(i==2||i==4)return zre}return eb}const $Le=mt.define(),ELe=mt.define(),kLe=mt.define(),TLe=mt.define(),LX=mt.define(),PLe=mt.define(),RLe=mt.define(),ALe=mt.define({combine:e=>e.some(t=>t)}),DLe=mt.define({combine:e=>e.some(t=>t)});class Cw{constructor(t,n="nearest",r="nearest",i=5,o=5,s=!1){this.range=t,this.y=n,this.x=r,this.yMargin=i,this.xMargin=o,this.isSnapshot=s}map(t){return t.empty?this:new Cw(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(t){return this.range.to<=t.doc.length?this:new Cw(Ee.cursor(t.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const DD=Vt.define({map:(e,t)=>e.map(t)});function ku(e,t,n){let r=e.facet(TLe);r.length?r[0](t):window.onerror?window.onerror(String(t),n,void 0,void 0,t):n?console.error(n+":",t):console.error(t)}const z6=mt.define({combine:e=>e.length?e[0]:!0});let vMt=0;const uE=mt.define();class Mr{constructor(t,n,r,i,o){this.id=t,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.extension=o(this)}static define(t,n){const{eventHandlers:r,eventObservers:i,provide:o,decorations:s}=n||{};return new Mr(vMt++,t,r,i,a=>{let l=[uE.of(a)];return s&&l.push(h2.of(c=>{let u=c.plugin(a);return u?s(u):vt.none})),o&&l.push(o(a)),l})}static fromClass(t,n){return Mr.define(r=>new t(r),n)}}class xB{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}update(t){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(ku(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(t)}catch(n){ku(t.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){ku(t.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const NLe=mt.define(),Qre=mt.define(),h2=mt.define(),MLe=mt.define(),Bre=mt.define(),ILe=mt.define();function D0e(e,t){let n=e.state.facet(ILe);if(!n.length)return n;let r=n.map(o=>o instanceof Function?o(e):o),i=[];return Wn.spans(r,t.from,t.to,{point(){},span(o,s,a,l){let c=o-t.from,u=s-t.from,f=i;for(let d=a.length-1;d>=0;d--,l--){let h=a[d].spec.bidiIsolate,p;if(h==null&&(h=yMt(t.text,c,u)),l>0&&f.length&&(p=f[f.length-1]).to==c&&p.direction==h)p.to=u,f=p.inner;else{let g={from:c,to:u,direction:h,inner:[]};f.push(g),f=g.inner}}}}),i}const LLe=mt.define();function jLe(e){let t=0,n=0,r=0,i=0;for(let o of e.state.facet(LLe)){let s=o(e);s&&(s.left!=null&&(t=Math.max(t,s.left)),s.right!=null&&(n=Math.max(n,s.right)),s.top!=null&&(r=Math.max(r,s.top)),s.bottom!=null&&(i=Math.max(i,s.bottom)))}return{left:t,right:n,top:r,bottom:i}}const fE=mt.define();class Tu{constructor(t,n,r,i){this.fromA=t,this.toA=n,this.fromB=r,this.toB=i}join(t){return new Tu(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let n=t.length,r=this;for(;n>0;n--){let i=t[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),t.splice(n-1,1)}}return t.splice(n,0,r),t}static extendWithRanges(t,n){if(n.length==0)return t;let r=[];for(let i=0,o=0,s=0,a=0;;i++){let l=i==t.length?null:t[i],c=s-a,u=l?l.fromB:1e9;for(;o<n.length&&n[o]<u;){let f=n[o],d=n[o+1],h=Math.max(a,f),p=Math.min(u,d);if(h<=p&&new Tu(h+c,p+c,h,p).addToSet(r),d>u)break;o+=2}if(!l)return r;new Tu(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),s=l.toA,a=l.toB}}}class m3{constructor(t,n,r){this.view=t,this.state=n,this.transactions=r,this.flags=0,this.startState=t.state,this.changes=Ao.empty(this.startState.doc.length);for(let o of r)this.changes=this.changes.compose(o.changes);let i=[];this.changes.iterChangedRanges((o,s,a,l)=>i.push(new Tu(o,s,a,l))),this.changedRanges=i}static create(t,n,r){return new m3(t,n,r)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(t=>t.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class N0e extends li{get length(){return this.view.state.doc.length}constructor(t){super(),this.view=t,this.decorations=[],this.dynamicDecorationMap=[],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new To],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Tu(0,0,0,t.state.doc.length)],0,null)}update(t){var n;let r=t.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:c,toA:u})=>u<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let i=-1;this.view.inputState.composing>=0&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!CMt(t.changes,this.hasComposition)&&!t.selectionSet&&(i=t.state.selection.main.head));let o=i>-1?OMt(this.view,t.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:u}=this.hasComposition;r=new Tu(c,u,t.changes.mapPos(c,-1),t.changes.mapPos(u,1)).addToSet(r.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(wt.ie||wt.chrome)&&!o&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let s=this.decorations,a=this.updateDeco(),l=SMt(s,a,t.changes);return r=Tu.extendWithRanges(r,l),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,t.startState.doc.length,o),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,n,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(t,n,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=wt.chrome||wt.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.flags&=-8,s&&(s.written||i.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(s=>s.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof my&&s.widget instanceof M0e&&o.push(s.dom);i.updateGaps(o)}updateChildren(t,n,r){let i=r?r.range.addToSet(t.slice()):t,o=this.childCursor(n);for(let s=i.length-1;;s--){let a=s>=0?i[s]:null;if(!a)break;let{fromA:l,toA:c,fromB:u,toB:f}=a,d,h,p,g;if(r&&r.range.fromB<f&&r.range.toB>u){let w=_k.build(this.view.state.doc,u,r.range.fromB,this.decorations,this.dynamicDecorationMap),S=_k.build(this.view.state.doc,r.range.toB,f,this.decorations,this.dynamicDecorationMap);h=w.breakAtStart,p=w.openStart,g=S.openEnd;let C=this.compositionView(r);S.breakAtStart?C.breakAfter=1:S.content.length&&C.merge(C.length,C.length,S.content[0],!1,S.openStart,0)&&(C.breakAfter=S.content[0].breakAfter,S.content.shift()),w.content.length&&C.merge(0,0,w.content[w.content.length-1],!0,0,w.openEnd)&&w.content.pop(),d=w.content.concat(C).concat(S.content)}else({content:d,breakAtStart:h,openStart:p,openEnd:g}=_k.build(this.view.state.doc,u,f,this.decorations,this.dynamicDecorationMap));let{i:y,off:v}=o.findPos(c,1),{i:x,off:m}=o.findPos(l,-1);hLe(this,x,m,y,v,d,h,p,g)}r&&this.fixCompositionDOM(r)}compositionView(t){let n=new hg(t.text.nodeValue);n.flags|=8;for(let{deco:i}of t.marks)n=new pg(i,[n],n.length);let r=new To;return r.append(n,0),r}fixCompositionDOM(t){let n=(o,s)=>{s.flags|=8|(s.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(s);let a=li.get(o);a&&a!=s&&(a.dom=null),s.setDOM(o)},r=this.childPos(t.range.fromB,1),i=this.children[r.i];n(t.line,i);for(let o=t.marks.length-1;o>=-1;o--)r=i.childPos(r.off,1),i=i.children[r.i],n(o>=0?t.marks[o].node:t.text,i)}updateSelection(t=!1,n=!1){(t||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,o=!i&&ZM(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||n||o))return;let s=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),c=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(wt.gecko&&a.empty&&!this.hasComposition&&bMt(l)){let f=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(f,l.node.childNodes[l.offset]||null)),l=c=new fa(f,0),s=!0}let u=this.view.observer.selectionRange;(s||!u.focusNode||(!Sk(l.node,l.offset,u.anchorNode,u.anchorOffset)||!Sk(c.node,c.offset,u.focusNode,u.focusOffset))&&!this.suppressWidgetCursorChange(u,a))&&(this.view.observer.ignore(()=>{wt.android&&wt.chrome&&this.dom.contains(u.focusNode)&&_Mt(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let f=g3(this.view.root);if(f)if(a.empty){if(wt.gecko){let d=xMt(l.node,l.offset);if(d&&d!=3){let h=zLe(l.node,l.offset,d==1?1:-1);h&&(l=new fa(h.node,h.offset))}}f.collapse(l.node,l.offset),a.bidiLevel!=null&&f.caretBidiLevel!==void 0&&(f.caretBidiLevel=a.bidiLevel)}else if(f.extend){f.collapse(l.node,l.offset);try{f.extend(c.node,c.offset)}catch{}}else{let d=document.createRange();a.anchor>a.head&&([l,c]=[c,l]),d.setEnd(c.node,c.offset),d.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(d)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new fa(u.anchorNode,u.anchorOffset),this.impreciseHead=c.precise?null:new fa(u.focusNode,u.focusOffset)}suppressWidgetCursorChange(t,n){return this.hasComposition&&n.empty&&Sk(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)&&this.posFromDOM(t.focusNode,t.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:t}=this,n=t.state.selection.main,r=g3(t.root),{anchorNode:i,anchorOffset:o}=t.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let s=To.find(this,n.head);if(!s)return;let a=s.posAtStart;if(n.head==a||n.head==a+s.length)return;let l=this.coordsAt(n.head,-1),c=this.coordsAt(n.head,1);if(!l||!c||l.bottom>c.top)return;let u=this.domAtPos(n.head+n.assoc);r.collapse(u.node,u.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),t.observer.readSelectionRange();let f=t.observer.selectionRange;t.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=n.from&&r.collapse(i,o)}moveToLine(t){let n=this.dom,r;if(t.node!=n)return t;for(let i=t.offset;!r&&i<n.childNodes.length;i++){let o=li.get(n.childNodes[i]);o instanceof To&&(r=o.domAtPos(0))}for(let i=t.offset-1;!r&&i>=0;i--){let o=li.get(n.childNodes[i]);o instanceof To&&(r=o.domAtPos(o.length))}return r?new fa(r.node,r.offset,!0):t}nearest(t){for(let n=t;n;){let r=li.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(t,n){let r=this.nearest(t);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(t,n)+r.posAtStart}domAtPos(t){let{i:n,off:r}=this.childCursor().findPos(t,-1);for(;n<this.children.length-1;){let i=this.children[n];if(r<i.length||i instanceof To)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(t,n){let r=null,i=0;for(let o=this.length,s=this.children.length-1;s>=0;s--){let a=this.children[s],l=o-a.breakAfter,c=l-a.length;if(l<t)break;c<=t&&(c<t||a.covers(-1))&&(l>t||a.covers(1))&&(!r||a instanceof To&&!(r instanceof To&&n>=0))&&(r=a,i=c),o=c}return r?r.coordsAt(t-i,n):null}coordsForChar(t){let{i:n,off:r}=this.childPos(t,1),i=this.children[n];if(!(i instanceof To))return null;for(;i.children.length;){let{i:a,off:l}=i.childPos(r,1);for(;;a++){if(a==i.children.length)return null;if((i=i.children[a]).length)break}r=l}if(!(i instanceof hg))return null;let o=Ps(i.text,r);if(o==r)return null;let s=J1(i.dom,r,o).getClientRects();for(let a=0;a<s.length;a++){let l=s[a];if(a==s.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(t){let n=[],{from:r,to:i}=t,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==qr.LTR;for(let c=0,u=0;u<this.children.length;u++){let f=this.children[u],d=c+f.length;if(d>i)break;if(c>=r){let h=f.dom.getBoundingClientRect();if(n.push(h.height),s){let p=f.dom.lastChild,g=p?yS(p):[];if(g.length){let y=g[g.length-1],v=l?y.right-h.left:h.right-y.left;v>a&&(a=v,this.minWidth=o,this.minWidthFrom=c,this.minWidthTo=d)}}}c=d+f.breakAfter}return n}textDirectionAt(t){let{i:n}=this.childPos(t,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?qr.RTL:qr.LTR}measureTextSize(){for(let o of this.children)if(o instanceof To){let s=o.measureTextSize();if(s)return s}let t=document.createElement("div"),n,r,i;return t.className="cm-line",t.style.width="99999px",t.style.position="absolute",t.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(t);let o=yS(t.firstChild)[0];n=t.getBoundingClientRect().height,r=o?o.width/27:7,i=o?o.height:n,t.remove()}),{lineHeight:n,charWidth:r,textHeight:i}}childCursor(t=this.length){let n=this.children.length;return n&&(t-=this.children[--n].length),new dLe(this.children,t,n)}computeBlockGapDeco(){let t=[],n=this.view.viewState;for(let r=0,i=0;;i++){let o=i==n.viewports.length?null:n.viewports[i],s=o?o.from-1:this.length;if(s>r){let a=(n.lineBlockAt(s).bottom-n.lineBlockAt(r).top)/this.view.scaleY;t.push(vt.replace({widget:new M0e(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,s))}if(!o)break;r=o.to+1}return vt.set(t)}updateDeco(){let t=this.view.state.facet(h2).map((i,o)=>(this.dynamicDecorationMap[o]=typeof i=="function")?i(this.view):i),n=!1,r=this.view.state.facet(MLe).map((i,o)=>{let s=typeof i=="function";return s&&(n=!0),s?i(this.view):i});r.length&&(this.dynamicDecorationMap[t.length]=n,t.push(Wn.join(r)));for(let i=t.length;i<t.length+3;i++)this.dynamicDecorationMap[i]=!1;return this.decorations=[...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(t){if(t.isSnapshot){let c=this.view.viewState.lineBlockAt(t.range.head);this.view.scrollDOM.scrollTop=c.top-t.yMargin,this.view.scrollDOM.scrollLeft=t.xMargin;return}let{range:n}=t,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let o=jLe(this.view),s={left:r.left-o.left,top:r.top-o.top,right:r.right+o.right,bottom:r.bottom+o.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;JNt(this.view.scrollDOM,s,n.head<n.anchor?-1:1,t.x,t.y,Math.max(Math.min(t.xMargin,a),-a),Math.max(Math.min(t.yMargin,l),-l),this.view.textDirection==qr.LTR)}}function bMt(e){return e.node.nodeType==1&&e.node.firstChild&&(e.offset==0||e.node.childNodes[e.offset-1].contentEditable=="false")&&(e.offset==e.node.childNodes.length||e.node.childNodes[e.offset].contentEditable=="false")}class M0e extends ud{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return t.className="cm-gap",this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}}function FLe(e,t){let n=e.observer.selectionRange,r=n.focusNode&&zLe(n.focusNode,n.focusOffset,0);if(!r)return null;let i=t-r.offset;return{from:i,to:i+r.node.nodeValue.length,node:r.node}}function OMt(e,t,n){let r=FLe(e,n);if(!r)return null;let{node:i,from:o,to:s}=r,a=i.nodeValue;if(/[\n\r]/.test(a)||e.state.doc.sliceString(r.from,r.to)!=a)return null;let l=t.invertedDesc,c=new Tu(l.mapPos(o),l.mapPos(s),o,s),u=[];for(let f=i.parentNode;;f=f.parentNode){let d=li.get(f);if(d instanceof pg)u.push({node:f,deco:d.mark});else{if(d instanceof To||f.nodeName=="DIV"&&f.parentNode==e.contentDOM)return{range:c,text:i,marks:u,line:f};if(f!=e.contentDOM)u.push({node:f,deco:new cR({inclusive:!0,attributes:aMt(f),tagName:f.tagName.toLowerCase()})});else return null}}}function zLe(e,t,n){if(n<=0)for(let r=e,i=t;;){if(r.nodeType==3)return{node:r,offset:i};if(r.nodeType==1&&i>0)r=r.childNodes[i-1],i=dg(r);else break}if(n>=0)for(let r=e,i=t;;){if(r.nodeType==3)return{node:r,offset:i};if(r.nodeType==1&&i<r.childNodes.length&&n>=0)r=r.childNodes[i],i=0;else break}return null}function xMt(e,t){return e.nodeType!=1?0:(t&&e.childNodes[t-1].contentEditable=="false"?1:0)|(t<e.childNodes.length&&e.childNodes[t].contentEditable=="false"?2:0)}let wMt=class{constructor(){this.changes=[]}compareRange(t,n){DX(t,n,this.changes)}comparePoint(t,n){DX(t,n,this.changes)}};function SMt(e,t,n){let r=new wMt;return Wn.compare(e,t,n,r),r.changes}function _Mt(e,t){for(let n=e;n&&n!=t;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function CMt(e,t){let n=!1;return t&&e.iterChangedRanges((r,i)=>{r<t.to&&i>t.from&&(n=!0)}),n}function $Mt(e,t,n=1){let r=e.charCategorizer(t),i=e.doc.lineAt(t),o=t-i.from;if(i.length==0)return Ee.cursor(t);o==0?n=1:o==i.length&&(n=-1);let s=o,a=o;n<0?s=Ps(i.text,o,!1):a=Ps(i.text,o);let l=r(i.text.slice(s,a));for(;s>0;){let c=Ps(i.text,s,!1);if(r(i.text.slice(c,s))!=l)break;s=c}for(;a<i.length;){let c=Ps(i.text,a);if(r(i.text.slice(a,c))!=l)break;a=c}return Ee.range(s+i.from,a+i.from)}function EMt(e,t){return t.left>e?t.left-e:Math.max(0,e-t.right)}function kMt(e,t){return t.top>e?t.top-e:Math.max(0,e-t.bottom)}function wB(e,t){return e.top<t.bottom-1&&e.bottom>t.top+1}function I0e(e,t){return t<e.top?{top:t,left:e.left,right:e.right,bottom:e.bottom}:e}function L0e(e,t){return t>e.bottom?{top:e.top,left:e.left,right:e.right,bottom:t}:e}function jX(e,t,n){let r,i,o,s,a=!1,l,c,u,f;for(let p=e.firstChild;p;p=p.nextSibling){let g=yS(p);for(let y=0;y<g.length;y++){let v=g[y];i&&wB(i,v)&&(v=I0e(L0e(v,i.bottom),i.top));let x=EMt(t,v),m=kMt(n,v);if(x==0&&m==0)return p.nodeType==3?j0e(p,t,n):jX(p,t,n);if(!r||s>m||s==m&&o>x){r=p,i=v,o=x,s=m;let w=m?n<v.top?-1:1:x?t<v.left?-1:1:0;a=!w||(w>0?y<g.length-1:y>0)}x==0?n>v.bottom&&(!u||u.bottom<v.bottom)?(l=p,u=v):n<v.top&&(!f||f.top>v.top)&&(c=p,f=v):u&&wB(u,v)?u=L0e(u,v.bottom):f&&wB(f,v)&&(f=I0e(f,v.top))}}if(u&&u.bottom>=n?(r=l,i=u):f&&f.top<=n&&(r=c,i=f),!r)return{node:e,offset:0};let d=Math.max(i.left,Math.min(i.right,t));if(r.nodeType==3)return j0e(r,d,n);if(a&&r.contentEditable!="false")return jX(r,d,n);let h=Array.prototype.indexOf.call(e.childNodes,r)+(t>=(i.left+i.right)/2?1:0);return{node:e,offset:h}}function j0e(e,t,n){let r=e.nodeValue.length,i=-1,o=1e9,s=0;for(let a=0;a<r;a++){let l=J1(e,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(u.top==u.bottom)continue;s||(s=t-u.left);let f=(u.top>n?u.top-n:n-u.bottom)-1;if(u.left-1<=t&&u.right+1>=t&&f<o){let d=t>=(u.left+u.right)/2,h=d;if((wt.chrome||wt.gecko)&&J1(e,a).getBoundingClientRect().left==u.right&&(h=!d),f<=0)return{node:e,offset:a+(h?1:0)};i=a+(h?1:0),o=f}}}return{node:e,offset:i>-1?i:s>0?e.nodeValue.length:0}}function QLe(e,t,n,r=-1){var i,o;let s=e.contentDOM.getBoundingClientRect(),a=s.top+e.viewState.paddingTop,l,{docHeight:c}=e.viewState,{x:u,y:f}=t,d=f-a;if(d<0)return 0;if(d>c)return e.state.doc.length;for(let w=e.viewState.heightOracle.textHeight/2,S=!1;l=e.elementAtHeight(d),l.type!=Za.Text;)for(;d=r>0?l.bottom+w:l.top-w,!(d>=0&&d<=c);){if(S)return n?null:0;S=!0,r=-r}f=a+d;let h=l.from;if(h<e.viewport.from)return e.viewport.from==0?0:n?null:F0e(e,s,l,u,f);if(h>e.viewport.to)return e.viewport.to==e.state.doc.length?e.state.doc.length:n?null:F0e(e,s,l,u,f);let p=e.dom.ownerDocument,g=e.root.elementFromPoint?e.root:p,y=g.elementFromPoint(u,f);y&&!e.contentDOM.contains(y)&&(y=null),y||(u=Math.max(s.left+1,Math.min(s.right-1,u)),y=g.elementFromPoint(u,f),y&&!e.contentDOM.contains(y)&&(y=null));let v,x=-1;if(y&&((i=e.docView.nearest(y))===null||i===void 0?void 0:i.isEditable)!=!1){if(p.caretPositionFromPoint){let w=p.caretPositionFromPoint(u,f);w&&({offsetNode:v,offset:x}=w)}else if(p.caretRangeFromPoint){let w=p.caretRangeFromPoint(u,f);w&&({startContainer:v,startOffset:x}=w,(!e.contentDOM.contains(v)||wt.safari&&TMt(v,x,u)||wt.chrome&&PMt(v,x,u))&&(v=void 0))}}if(!v||!e.docView.dom.contains(v)){let w=To.find(e.docView,h);if(!w)return d>l.top+l.height/2?l.to:l.from;({node:v,offset:x}=jX(w.dom,u,f))}let m=e.docView.nearest(v);if(!m)return null;if(m.isWidget&&((o=m.dom)===null||o===void 0?void 0:o.nodeType)==1){let w=m.dom.getBoundingClientRect();return t.y<w.top||t.y<=w.bottom&&t.x<=(w.left+w.right)/2?m.posAtStart:m.posAtEnd}else return m.localPosFromDOM(v,x)+m.posAtStart}function F0e(e,t,n,r,i){let o=Math.round((r-t.left)*e.defaultCharacterWidth);if(e.lineWrapping&&n.height>e.defaultLineHeight*1.5){let a=e.viewState.heightOracle.textHeight,l=Math.floor((i-n.top-(e.defaultLineHeight-a)*.5)/a);o+=l*e.viewState.heightOracle.lineLength}let s=e.state.sliceDoc(n.from,n.to);return n.from+_X(s,o,e.state.tabSize)}function TMt(e,t,n){let r;if(e.nodeType!=3||t!=(r=e.nodeValue.length))return!1;for(let i=e.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return J1(e,r-1,r).getBoundingClientRect().left>n}function PMt(e,t,n){if(t!=0)return!1;for(let i=e;;){let o=i.parentNode;if(!o||o.nodeType!=1||o.firstChild!=i)return!1;if(o.classList.contains("cm-line"))break;i=o}let r=e.nodeType==1?e.getBoundingClientRect():J1(e,0,Math.max(e.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function FX(e,t){let n=e.lineBlockAt(t);if(Array.isArray(n.type)){for(let r of n.type)if(r.to>t||r.to==t&&(r.to==n.to||r.type==Za.Text))return r}return n}function RMt(e,t,n,r){let i=FX(e,t.head),o=!r||i.type!=Za.Text||!(e.lineWrapping||i.widgetLineBreaks)?null:e.coordsAtPos(t.assoc<0&&t.head>i.from?t.head-1:t.head);if(o){let s=e.dom.getBoundingClientRect(),a=e.textDirectionAt(i.from),l=e.posAtCoords({x:n==(a==qr.LTR)?s.right-1:s.left+1,y:(o.top+o.bottom)/2});if(l!=null)return Ee.cursor(l,n?-1:1)}return Ee.cursor(n?i.to:i.from,n?-1:1)}function z0e(e,t,n,r){let i=e.state.doc.lineAt(t.head),o=e.bidiSpans(i),s=e.textDirectionAt(i.from);for(let a=t,l=null;;){let c=mMt(i,o,s,a,n),u=CLe;if(!c){if(i.number==(n?e.state.doc.lines:1))return a;u=`
`,i=e.state.doc.line(i.number+(n?1:-1)),o=e.bidiSpans(i),c=e.visualLineSide(i,!n)}if(l){if(!l(u))return a}else{if(!r)return c;l=r(u)}a=c}}function AMt(e,t,n){let r=e.state.charCategorizer(t),i=r(n);return o=>{let s=r(o);return i==mi.Space&&(i=s),i==s}}function DMt(e,t,n,r){let i=t.head,o=n?1:-1;if(i==(n?e.state.doc.length:0))return Ee.cursor(i,t.assoc);let s=t.goalColumn,a,l=e.contentDOM.getBoundingClientRect(),c=e.coordsAtPos(i,t.assoc||-1),u=e.documentTop;if(c)s==null&&(s=c.left-l.left),a=o<0?c.top:c.bottom;else{let h=e.viewState.lineBlockAt(i);s==null&&(s=Math.min(l.right-l.left,e.defaultCharacterWidth*(i-h.from))),a=(o<0?h.top:h.bottom)+u}let f=l.left+s,d=r??e.viewState.heightOracle.textHeight>>1;for(let h=0;;h+=10){let p=a+(d+h)*o,g=QLe(e,{x:f,y:p},!1,o);if(p<l.top||p>l.bottom||(o<0?g<i:g>i)){let y=e.docView.coordsForChar(g),v=!y||p<y.top?-1:1;return Ee.cursor(g,v,void 0,s)}}}function GM(e,t,n){for(;;){let r=0;for(let i of e)i.between(t-1,t+1,(o,s,a)=>{if(t>o&&t<s){let l=r||n||(t-o<s-t?-1:1);t=l<0?o:s,r=l}});if(!r)return t}}function SB(e,t,n){let r=GM(e.state.facet(Bre).map(i=>i(e)),n.from,t.head>n.from?-1:1);return r==n.from?n:Ee.cursor(r,r<n.from?1:-1)}class NMt{setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}constructor(t){this.view=t,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=t.hasFocus,wt.safari&&t.contentDOM.addEventListener("input",()=>null),wt.gecko&&ZMt(t.contentDOM.ownerDocument)}handleEvent(t){!BMt(this.view,t)||this.ignoreDuringComposition(t)||t.type=="keydown"&&this.keydown(t)||this.runHandlers(t.type,t)}runHandlers(t,n){let r=this.handlers[t];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(t){let n=MMt(t),r=this.handlers,i=this.view.contentDOM;for(let o in n)if(o!="scroll"){let s=!n[o].handlers.length,a=r[o];a&&s!=!a.handlers.length&&(i.removeEventListener(o,this.handleEvent),a=null),a||i.addEventListener(o,this.handleEvent,{passive:s})}for(let o in r)o!="scroll"&&!n[o]&&i.removeEventListener(o,this.handleEvent);this.handlers=n}keydown(t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(t.keyCode!=27&&WLe.indexOf(t.keyCode)<0&&(this.view.inputState.lastEscPress=0),wt.android&&wt.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return this.view.observer.delayAndroidKey(t.key,t.keyCode),!0;let n;return wt.ios&&!t.synthetic&&!t.altKey&&!t.metaKey&&((n=BLe.find(r=>r.keyCode==t.keyCode))&&!t.ctrlKey||IMt.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(this.pendingIOSKey=n||t,setTimeout(()=>this.flushIOSKey(),250),!0):(t.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(){let t=this.pendingIOSKey;return t?(this.pendingIOSKey=void 0,_w(this.view.contentDOM,t.key,t.keyCode)):!1}ignoreDuringComposition(t){return/^key/.test(t.type)?this.composing>0?!0:wt.safari&&!wt.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.mouseSelection&&this.mouseSelection.update(t),this.draggedContent&&t.docChanged&&(this.draggedContent=this.draggedContent.map(t.changes)),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Q0e(e,t){return(n,r)=>{try{return t.call(e,r,n)}catch(i){ku(n.state,i)}}}function MMt(e){let t=Object.create(null);function n(r){return t[r]||(t[r]={observers:[],handlers:[]})}for(let r of e){let i=r.spec;if(i&&i.domEventHandlers)for(let o in i.domEventHandlers){let s=i.domEventHandlers[o];s&&n(o).handlers.push(Q0e(r.value,s))}if(i&&i.domEventObservers)for(let o in i.domEventObservers){let s=i.domEventObservers[o];s&&n(o).observers.push(Q0e(r.value,s))}}for(let r in Jf)n(r).handlers.push(Jf[r]);for(let r in ed)n(r).observers.push(ed[r]);return t}const BLe=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],IMt="dthko",WLe=[16,17,18,20,91,92,224,225],ND=6;function MD(e){return Math.max(0,e)*.7+8}function LMt(e,t){return Math.max(Math.abs(e.clientX-t.clientX),Math.abs(e.clientY-t.clientY))}class jMt{constructor(t,n,r,i){this.view=t,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParent=eMt(t.contentDOM),this.atoms=t.state.facet(Bre).map(s=>s(t));let o=t.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=t.state.facet(gn.allowMultipleSelections)&&FMt(t,n),this.dragging=QMt(t,n)&&YLe(n)==1?null:!1}start(t){this.dragging===!1&&this.select(t)}move(t){var n;if(t.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&LMt(this.startEvent,t)<10)return;this.select(this.lastEvent=t);let r=0,i=0,o=((n=this.scrollParent)===null||n===void 0?void 0:n.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},s=jLe(this.view);t.clientX-s.left<=o.left+ND?r=-MD(o.left-t.clientX):t.clientX+s.right>=o.right-ND&&(r=MD(t.clientX-o.right)),t.clientY-s.top<=o.top+ND?i=-MD(o.top-t.clientY):t.clientY+s.bottom>=o.bottom-ND&&(i=MD(t.clientY-o.bottom)),this.setScrollSpeed(r,i)}up(t){this.dragging==null&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(t,n){this.scrollSpeed={x:t,y:n},t||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(t){let n=null;for(let r=0;r<t.ranges.length;r++){let i=t.ranges[r],o=null;if(i.empty){let s=GM(this.atoms,i.from,0);s!=i.from&&(o=Ee.cursor(s,-1))}else{let s=GM(this.atoms,i.from,-1),a=GM(this.atoms,i.to,1);(s!=i.from||a!=i.to)&&(o=Ee.range(i.from==i.anchor?s:a,i.from==i.head?s:a))}o&&(n||(n=t.ranges.slice()),n[r]=o)}return n?Ee.create(n,t.mainIndex):t}select(t){let{view:n}=this,r=this.skipAtoms(this.style.get(t,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(t){this.style.update(t)&&setTimeout(()=>this.select(this.lastEvent),20)}}function FMt(e,t){let n=e.state.facet($Le);return n.length?n[0](t):wt.mac?t.metaKey:t.ctrlKey}function zMt(e,t){let n=e.state.facet(ELe);return n.length?n[0](t):wt.mac?!t.altKey:!t.ctrlKey}function QMt(e,t){let{main:n}=e.state.selection;if(n.empty)return!1;let r=g3(e.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let o=0;o<i.length;o++){let s=i[o];if(s.left<=t.clientX&&s.right>=t.clientX&&s.top<=t.clientY&&s.bottom>=t.clientY)return!0}return!1}function BMt(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target,r;n!=e.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=li.get(n))&&r.ignoreEvent(t))return!1;return!0}const Jf=Object.create(null),ed=Object.create(null),VLe=wt.ie&&wt.ie_version<15||wt.ios&&wt.webkit_version<604;function WMt(e){let t=e.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{e.focus(),n.remove(),ULe(e,n.value)},50)}function ULe(e,t){let{state:n}=e,r,i=1,o=n.toText(t),s=o.lines==n.selection.ranges.length;if(zX!=null&&n.selection.ranges.every(l=>l.empty)&&zX==o.toString()){let l=-1;r=n.changeByRange(c=>{let u=n.doc.lineAt(c.from);if(u.from==l)return{range:c};l=u.from;let f=n.toText((s?o.line(i++).text:t)+n.lineBreak);return{changes:{from:u.from,insert:f},range:Ee.cursor(c.from+f.length)}})}else s?r=n.changeByRange(l=>{let c=o.line(i++);return{changes:{from:l.from,to:l.to,insert:c.text},range:Ee.cursor(l.from+c.length)}}):r=n.replaceSelection(o);e.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}ed.scroll=e=>{e.inputState.lastScrollTop=e.scrollDOM.scrollTop,e.inputState.lastScrollLeft=e.scrollDOM.scrollLeft};Jf.keydown=(e,t)=>(e.inputState.setSelectionOrigin("select"),t.keyCode==27&&(e.inputState.lastEscPress=Date.now()),!1);ed.touchstart=(e,t)=>{e.inputState.lastTouchTime=Date.now(),e.inputState.setSelectionOrigin("select.pointer")};ed.touchmove=e=>{e.inputState.setSelectionOrigin("select.pointer")};Jf.mousedown=(e,t)=>{if(e.observer.flush(),e.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of e.state.facet(kLe))if(n=r(e,t),n)break;if(!n&&t.button==0&&(n=qMt(e,t)),n){let r=!e.hasFocus;e.inputState.startMouseSelection(new jMt(e,t,n,r)),r&&e.observer.ignore(()=>cLe(e.contentDOM));let i=e.inputState.mouseSelection;if(i)return i.start(t),i.dragging===!1}return!1};function B0e(e,t,n,r){if(r==1)return Ee.cursor(t,n);if(r==2)return $Mt(e.state,t,n);{let i=To.find(e.docView,t),o=e.state.doc.lineAt(i?i.posAtEnd:t),s=i?i.posAtStart:o.from,a=i?i.posAtEnd:o.to;return a<e.state.doc.length&&a==o.to&&a++,Ee.range(s,a)}}let qLe=(e,t)=>e>=t.top&&e<=t.bottom,W0e=(e,t,n)=>qLe(t,n)&&e>=n.left&&e<=n.right;function VMt(e,t,n,r){let i=To.find(e.docView,t);if(!i)return 1;let o=t-i.posAtStart;if(o==0)return 1;if(o==i.length)return-1;let s=i.coordsAt(o,-1);if(s&&W0e(n,r,s))return-1;let a=i.coordsAt(o,1);return a&&W0e(n,r,a)?1:s&&qLe(r,s)?-1:1}function V0e(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:n,bias:VMt(e,n,t.clientX,t.clientY)}}const UMt=wt.ie&&wt.ie_version<=11;let U0e=null,q0e=0,Y0e=0;function YLe(e){if(!UMt)return e.detail;let t=U0e,n=Y0e;return U0e=e,Y0e=Date.now(),q0e=!t||n>Date.now()-400&&Math.abs(t.clientX-e.clientX)<2&&Math.abs(t.clientY-e.clientY)<2?(q0e+1)%3:1}function qMt(e,t){let n=V0e(e,t),r=YLe(t),i=e.state.selection;return{update(o){o.docChanged&&(n.pos=o.changes.mapPos(n.pos),i=i.map(o.changes))},get(o,s,a){let l=V0e(e,o),c,u=B0e(e,l.pos,l.bias,r);if(n.pos!=l.pos&&!s){let f=B0e(e,n.pos,n.bias,r),d=Math.min(f.from,u.from),h=Math.max(f.to,u.to);u=d<u.from?Ee.range(d,h):Ee.range(h,d)}return s?i.replaceRange(i.main.extend(u.from,u.to)):a&&r==1&&i.ranges.length>1&&(c=YMt(i,l.pos))?c:a?i.addRange(u):Ee.create([u])}}}function YMt(e,t){for(let n=0;n<e.ranges.length;n++){let{from:r,to:i}=e.ranges[n];if(r<=t&&i>=t)return Ee.create(e.ranges.slice(0,n).concat(e.ranges.slice(n+1)),e.mainIndex==n?0:e.mainIndex-(e.mainIndex>n?1:0))}return null}Jf.dragstart=(e,t)=>{let{selection:{main:n}}=e.state;if(t.target.draggable){let i=e.docView.nearest(t.target);if(i&&i.isWidget){let o=i.posAtStart,s=o+i.length;(o>=n.to||s<=n.from)&&(n=Ee.range(o,s))}}let{inputState:r}=e;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,t.dataTransfer&&(t.dataTransfer.setData("Text",e.state.sliceDoc(n.from,n.to)),t.dataTransfer.effectAllowed="copyMove"),!1};Jf.dragend=e=>(e.inputState.draggedContent=null,!1);function X0e(e,t,n,r){if(!n)return;let i=e.posAtCoords({x:t.clientX,y:t.clientY},!1),{draggedContent:o}=e.inputState,s=r&&o&&zMt(e,t)?{from:o.from,to:o.to}:null,a={from:i,insert:n},l=e.state.changes(s?[s,a]:a);e.focus(),e.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:s?"move.drop":"input.drop"}),e.inputState.draggedContent=null}Jf.drop=(e,t)=>{if(!t.dataTransfer)return!1;if(e.state.readOnly)return!0;let n=t.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,o=()=>{++i==n.length&&X0e(e,t,r.filter(s=>s!=null).join(e.state.lineBreak),!1)};for(let s=0;s<n.length;s++){let a=new FileReader;a.onerror=o,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[s]=a.result),o()},a.readAsText(n[s])}return!0}else{let r=t.dataTransfer.getData("Text");if(r)return X0e(e,t,r,!0),!0}return!1};Jf.paste=(e,t)=>{if(e.state.readOnly)return!0;e.observer.flush();let n=VLe?null:t.clipboardData;return n?(ULe(e,n.getData("text/plain")||n.getData("text/uri-text")),!0):(WMt(e),!1)};function XMt(e,t){let n=e.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=t,r.focus(),r.selectionEnd=t.length,r.selectionStart=0,setTimeout(()=>{r.remove(),e.focus()},50)}function HMt(e){let t=[],n=[],r=!1;for(let i of e.selection.ranges)i.empty||(t.push(e.sliceDoc(i.from,i.to)),n.push(i));if(!t.length){let i=-1;for(let{from:o}of e.selection.ranges){let s=e.doc.lineAt(o);s.number>i&&(t.push(s.text),n.push({from:s.from,to:Math.min(e.doc.length,s.to+1)})),i=s.number}r=!0}return{text:t.join(e.lineBreak),ranges:n,linewise:r}}let zX=null;Jf.copy=Jf.cut=(e,t)=>{let{text:n,ranges:r,linewise:i}=HMt(e.state);if(!n&&!i)return!1;zX=i?n:null,t.type=="cut"&&!e.state.readOnly&&e.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let o=VLe?null:t.clipboardData;return o?(o.clearData(),o.setData("text/plain",n),!0):(XMt(e,n),!1)};const XLe=Qh.define();function HLe(e,t){let n=[];for(let r of e.facet(RLe)){let i=r(e,t);i&&n.push(i)}return n?e.update({effects:n,annotations:XLe.of(!0)}):null}function ZLe(e){setTimeout(()=>{let t=e.hasFocus;if(t!=e.inputState.notifiedFocused){let n=HLe(e.state,t);n?e.dispatch(n):e.update([])}},10)}ed.focus=e=>{e.inputState.lastFocusTime=Date.now(),!e.scrollDOM.scrollTop&&(e.inputState.lastScrollTop||e.inputState.lastScrollLeft)&&(e.scrollDOM.scrollTop=e.inputState.lastScrollTop,e.scrollDOM.scrollLeft=e.inputState.lastScrollLeft),ZLe(e)};ed.blur=e=>{e.observer.clearSelectionRange(),ZLe(e)};ed.compositionstart=ed.compositionupdate=e=>{e.inputState.compositionFirstChange==null&&(e.inputState.compositionFirstChange=!0),e.inputState.composing<0&&(e.inputState.composing=0)};ed.compositionend=e=>{e.inputState.composing=-1,e.inputState.compositionEndedAt=Date.now(),e.inputState.compositionPendingKey=!0,e.inputState.compositionPendingChange=e.observer.pendingRecords().length>0,e.inputState.compositionFirstChange=null,wt.chrome&&wt.android?e.observer.flushSoon():e.inputState.compositionPendingChange?Promise.resolve().then(()=>e.observer.flush()):setTimeout(()=>{e.inputState.composing<0&&e.docView.hasComposition&&e.update([])},50)};ed.contextmenu=e=>{e.inputState.lastContextMenu=Date.now()};Jf.beforeinput=(e,t)=>{var n;let r;if(wt.chrome&&wt.android&&(r=BLe.find(i=>i.inputType==t.inputType))&&(e.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){let i=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>i+10&&e.hasFocus&&(e.contentDOM.blur(),e.focus())},100)}return!1};const H0e=new Set;function ZMt(e){H0e.has(e)||(H0e.add(e),e.addEventListener("copy",()=>{}),e.addEventListener("cut",()=>{}))}const Z0e=["pre-wrap","normal","pre-line","break-spaces"];class GMt{constructor(t){this.lineWrapping=t,this.doc=Xn.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(t,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-t-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(t){return this.lineWrapping?(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return Z0e.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let n=!1;for(let r=0;r<t.length;r++){let i=t[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(t,n,r,i,o,s){let a=Z0e.indexOf(t)>-1,l=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=o,l){this.heightSamples={};for(let c=0;c<s.length;c++){let u=s[c];u<0?c++:this.heightSamples[Math.floor(u*10)]=!0}}return l}}class KMt{constructor(t,n){this.from=t,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class Yd{constructor(t,n,r,i,o){this.from=t,this.length=n,this.top=r,this.height=i,this._content=o}get type(){return typeof this._content=="number"?Za.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Zy?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(t){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(t._content)?t._content:[t]);return new Yd(this.from,this.length+t.length,this.top,this.height+t.height,n)}}var ni=function(e){return e[e.ByPos=0]="ByPos",e[e.ByHeight=1]="ByHeight",e[e.ByPosNoHeight=2]="ByPosNoHeight",e}(ni||(ni={}));const KM=.001;class Ga{constructor(t,n,r=2){this.length=t,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(t){this.flags=(t?2:0)|this.flags&-3}setHeight(t,n){this.height!=n&&(Math.abs(this.height-n)>KM&&(t.heightChanged=!0),this.height=n)}replace(t,n,r){return Ga.of(r)}decomposeLeft(t,n){n.push(this)}decomposeRight(t,n){n.push(this)}applyChanges(t,n,r,i){let o=this,s=r.doc;for(let a=i.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:u,toB:f}=i[a],d=o.lineAt(l,ni.ByPosNoHeight,r.setDoc(n),0,0),h=d.to>=c?d:o.lineAt(c,ni.ByPosNoHeight,r,0,0);for(f+=h.to-c,c=h.to;a>0&&d.from<=i[a-1].toA;)l=i[a-1].fromA,u=i[a-1].fromB,a--,l<d.from&&(d=o.lineAt(l,ni.ByPosNoHeight,r,0,0));u+=d.from-l,l=d.from;let p=Wre.build(r.setDoc(s),t,u,f);o=o.replace(l,c,p)}return o.updateHeight(r,0)}static empty(){return new hc(0,0)}static of(t){if(t.length==1)return t[0];let n=0,r=t.length,i=0,o=0;for(;;)if(n==r)if(i>o*2){let a=t[n-1];a.break?t.splice(--n,1,a.left,null,a.right):t.splice(--n,1,a.left,a.right),r+=1+a.break,i-=a.size}else if(o>i*2){let a=t[r];a.break?t.splice(r,1,a.left,null,a.right):t.splice(r,1,a.left,a.right),r+=2+a.break,o-=a.size}else break;else if(i<o){let a=t[n++];a&&(i+=a.size)}else{let a=t[--r];a&&(o+=a.size)}let s=0;return t[n-1]==null?(s=1,n--):t[n]==null&&(s=1,r++),new JMt(Ga.of(t.slice(0,n)),s,Ga.of(t.slice(r)))}}Ga.prototype.size=1;class GLe extends Ga{constructor(t,n,r){super(t,n),this.deco=r}blockAt(t,n,r,i){return new Yd(i,this.length,r,this.height,this.deco||0)}lineAt(t,n,r,i,o){return this.blockAt(0,r,i,o)}forEachLine(t,n,r,i,o,s){t<=o+this.length&&n>=o&&s(this.blockAt(0,r,i,o))}updateHeight(t,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setHeight(t,i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class hc extends GLe{constructor(t,n){super(t,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(t,n,r,i){return new Yd(i,this.length,r,this.height,this.breaks)}replace(t,n,r){let i=r[0];return r.length==1&&(i instanceof hc||i instanceof Os&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Os?i=new hc(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Ga.of(r)}updateHeight(t,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setHeight(t,i.heights[i.index++]):(r||this.outdated)&&this.setHeight(t,Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))+this.breaks*t.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Os extends Ga{constructor(t){super(t,0)}heightMetrics(t,n){let r=t.doc.lineAt(n).number,i=t.doc.lineAt(n+this.length).number,o=i-r+1,s,a=0;if(t.lineWrapping){let l=Math.min(this.height,t.lineHeight*o);s=l/o,this.length>o+1&&(a=(this.height-l)/(this.length-o-1))}else s=this.height/o;return{firstLine:r,lastLine:i,perLine:s,perChar:a}}blockAt(t,n,r,i){let{firstLine:o,lastLine:s,perLine:a,perChar:l}=this.heightMetrics(n,i);if(n.lineWrapping){let c=i+Math.round(Math.max(0,Math.min(1,(t-r)/this.height))*this.length),u=n.doc.lineAt(c),f=a+u.length*l,d=Math.max(r,t-f/2);return new Yd(u.from,u.length,d,f,0)}else{let c=Math.max(0,Math.min(s-o,Math.floor((t-r)/a))),{from:u,length:f}=n.doc.line(o+c);return new Yd(u,f,r+a*c,a,0)}}lineAt(t,n,r,i,o){if(n==ni.ByHeight)return this.blockAt(t,r,i,o);if(n==ni.ByPosNoHeight){let{from:h,to:p}=r.doc.lineAt(t);return new Yd(h,p-h,0,0,0)}let{firstLine:s,perLine:a,perChar:l}=this.heightMetrics(r,o),c=r.doc.lineAt(t),u=a+c.length*l,f=c.number-s,d=i+a*f+l*(c.from-o-f);return new Yd(c.from,c.length,Math.max(i,Math.min(d,i+this.height-u)),u,0)}forEachLine(t,n,r,i,o,s){t=Math.max(t,o),n=Math.min(n,o+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(r,o);for(let u=t,f=i;u<=n;){let d=r.doc.lineAt(u);if(u==t){let p=d.number-a;f+=l*p+c*(t-o-p)}let h=l+c*d.length;s(new Yd(d.from,d.length,f,h,0)),f+=h,u=d.to+1}}replace(t,n,r){let i=this.length-n;if(i>0){let o=r[r.length-1];o instanceof Os?r[r.length-1]=new Os(o.length+i):r.push(null,new Os(i-1))}if(t>0){let o=r[0];o instanceof Os?r[0]=new Os(t+o.length):r.unshift(new Os(t-1),null)}return Ga.of(r)}decomposeLeft(t,n){n.push(new Os(t-1),null)}decomposeRight(t,n){n.push(null,new Os(this.length-t-1))}updateHeight(t,n=0,r=!1,i){let o=n+this.length;if(i&&i.from<=n+this.length&&i.more){let s=[],a=Math.max(n,i.from),l=-1;for(i.from>n&&s.push(new Os(i.from-n-1).updateHeight(t,n));a<=o&&i.more;){let u=t.doc.lineAt(a).length;s.length&&s.push(null);let f=i.heights[i.index++];l==-1?l=f:Math.abs(f-l)>=KM&&(l=-2);let d=new hc(u,f);d.outdated=!1,s.push(d),a+=u+1}a<=o&&s.push(null,new Os(o-a).updateHeight(t,a));let c=Ga.of(s);return(l<0||Math.abs(c.height-this.height)>=KM||Math.abs(l-this.heightMetrics(t,n).perLine)>=KM)&&(t.heightChanged=!0),c}else(r||this.outdated)&&(this.setHeight(t,t.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class JMt extends Ga{constructor(t,n,r){super(t.length+n+r.length,t.height+r.height,n|(t.outdated||r.outdated?2:0)),this.left=t,this.right=r,this.size=t.size+r.size}get break(){return this.flags&1}blockAt(t,n,r,i){let o=r+this.left.height;return t<o?this.left.blockAt(t,n,r,i):this.right.blockAt(t,n,o,i+this.left.length+this.break)}lineAt(t,n,r,i,o){let s=i+this.left.height,a=o+this.left.length+this.break,l=n==ni.ByHeight?t<s:t<a,c=l?this.left.lineAt(t,n,r,i,o):this.right.lineAt(t,n,r,s,a);if(this.break||(l?c.to<a:c.from>a))return c;let u=n==ni.ByPosNoHeight?ni.ByPosNoHeight:ni.ByPos;return l?c.join(this.right.lineAt(a,u,r,s,a)):this.left.lineAt(a,u,r,i,o).join(c)}forEachLine(t,n,r,i,o,s){let a=i+this.left.height,l=o+this.left.length+this.break;if(this.break)t<l&&this.left.forEachLine(t,n,r,i,o,s),n>=l&&this.right.forEachLine(t,n,r,a,l,s);else{let c=this.lineAt(l,ni.ByPos,r,i,o);t<c.from&&this.left.forEachLine(t,c.from-1,r,i,o,s),c.to>=t&&c.from<=n&&s(c),n>c.to&&this.right.forEachLine(c.to+1,n,r,a,l,s)}}replace(t,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(t,n,r),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-i,n-i,r));let o=[];t>0&&this.decomposeLeft(t,o);let s=o.length;for(let a of r)o.push(a);if(t>0&&G0e(o,s-1),n<this.length){let a=o.length;this.decomposeRight(n,o),G0e(o,a)}return Ga.of(o)}decomposeLeft(t,n){let r=this.left.length;if(t<=r)return this.left.decomposeLeft(t,n);n.push(this.left),this.break&&(r++,t>=r&&n.push(null)),t>r&&this.right.decomposeLeft(t-r,n)}decomposeRight(t,n){let r=this.left.length,i=r+this.break;if(t>=i)return this.right.decomposeRight(t-i,n);t<r&&this.left.decomposeRight(t,n),this.break&&t<i&&n.push(null),n.push(this.right)}balanced(t,n){return t.size>2*n.size||n.size>2*t.size?Ga.of(this.break?[t,null,n]:[t,n]):(this.left=t,this.right=n,this.height=t.height+n.height,this.outdated=t.outdated||n.outdated,this.size=t.size+n.size,this.length=t.length+this.break+n.length,this)}updateHeight(t,n=0,r=!1,i){let{left:o,right:s}=this,a=n+o.length+this.break,l=null;return i&&i.from<=n+o.length&&i.more?l=o=o.updateHeight(t,n,r,i):o.updateHeight(t,n,r),i&&i.from<=a+s.length&&i.more?l=s=s.updateHeight(t,a,r,i):s.updateHeight(t,a,r),l?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function G0e(e,t){let n,r;e[t]==null&&(n=e[t-1])instanceof Os&&(r=e[t+1])instanceof Os&&e.splice(t-1,3,new Os(n.length+1+r.length))}const eIt=5;class Wre{constructor(t,n){this.pos=t,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof hc?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new hc(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(t,n,r){if(t<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,o=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let s=n-t;r.block?this.addBlock(new GLe(s,i,r)):(s||o||i>=eIt)&&this.addLineDeco(i,o,s)}else n>t&&this.span(t,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=n,this.writtenTo<t&&((this.writtenTo<t-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new hc(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,n){let r=new Os(n-t);return this.oracle.doc.lineAt(t).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof hc)return t;let n=new hc(0,-1);return this.nodes.push(n),n}addBlock(t){this.enterLine();let n=t.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,n&&n.endSide>0&&(this.covering=t)}addLineDeco(t,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,t),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(t){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof hc)&&!this.isCovered?this.nodes.push(new hc(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=t;for(let i of this.nodes)i instanceof hc&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(t,n,r,i){let o=new Wre(r,t);return Wn.spans(n,r,i,o,0),o.finish(r)}}function tIt(e,t,n){let r=new nIt;return Wn.compare(e,t,n,r,0),r.changes}class nIt{constructor(){this.changes=[]}compareRange(){}comparePoint(t,n,r,i){(t<n||r&&r.heightRelevant||i&&i.heightRelevant)&&DX(t,n,this.changes,5)}}function rIt(e,t){let n=e.getBoundingClientRect(),r=e.ownerDocument,i=r.defaultView||window,o=Math.max(0,n.left),s=Math.min(i.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom);for(let c=e.parentNode;c&&c!=r.body;)if(c.nodeType==1){let u=c,f=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&f.overflow!="visible"){let d=u.getBoundingClientRect();o=Math.max(o,d.left),s=Math.min(s,d.right),a=Math.max(a,d.top),l=c==e.parentNode?d.bottom:Math.min(l,d.bottom)}c=f.position=="absolute"||f.position=="fixed"?u.offsetParent:u.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:o-n.left,right:Math.max(o,s)-n.left,top:a-(n.top+t),bottom:Math.max(a,l)-(n.top+t)}}function iIt(e,t){let n=e.getBoundingClientRect();return{left:0,right:n.right-n.left,top:t,bottom:n.bottom-(n.top+t)}}class _B{constructor(t,n,r){this.from=t,this.to=n,this.size=r}static same(t,n){if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=n[r];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}draw(t,n){return vt.replace({widget:new oIt(this.size*(n?t.scaleY:t.scaleX),n)}).range(this.from,this.to)}}class oIt extends ud{constructor(t,n){super(),this.size=t,this.vertical=n}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class K0e{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=J0e,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=qr.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=t.facet(Qre).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new GMt(n),this.stateDeco=t.facet(h2).filter(r=>typeof r!="function"),this.heightMap=Ga.empty().applyChanges(this.stateDeco,Xn.empty,this.heightOracle.setDoc(t.doc),[new Tu(0,0,0,t.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=vt.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!t.some(({from:o,to:s})=>i>=o&&i<=s)){let{from:o,to:s}=this.lineBlockAt(i);t.push(new ID(o,s))}}this.viewports=t.sort((r,i)=>r.from-i.from),this.scaler=this.heightMap.height<=7e6?J0e:new lIt(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,t=>{this.viewportLines.push(this.scaler.scale==1?t:dE(t,this.scaler))})}update(t,n=null){this.state=t.state;let r=this.stateDeco;this.stateDeco=this.state.facet(h2).filter(u=>typeof u!="function");let i=t.changedRanges,o=Tu.extendWithRanges(i,tIt(r,this.stateDeco,t?t.changes:Ao.empty(this.state.doc.length))),s=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),o),this.heightMap.height!=s&&(t.flags|=2),a?(this.scrollAnchorPos=t.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=o.length?this.mapViewport(this.viewport,t.changes):this.viewport;(n&&(n.range.head<l.from||n.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,n));let c=!t.changes.empty||t.flags&2||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),c&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&!t.state.facet(DLe)&&(this.mustEnforceCursorAssoc=!0)}measure(t){let n=t.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,o=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?qr.RTL:qr.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),a=n.getBoundingClientRect(),l=s||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,u=0;if(a.width&&a.height){let{scaleX:w,scaleY:S}=lLe(n,a);(this.scaleX!=w||this.scaleY!=S)&&(this.scaleX=w,this.scaleY=S,c|=8,s=l=!0)}let f=(parseInt(r.paddingTop)||0)*this.scaleY,d=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=f||this.paddingBottom!=d)&&(this.paddingTop=f,this.paddingBottom=d,c|=10),this.editorWidth!=t.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=t.scrollDOM.clientWidth,c|=8);let h=t.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=h&&(this.scrollAnchorHeight=-1,this.scrollTop=h),this.scrolledToBottom=fLe(t.scrollDOM);let p=(this.printing?iIt:rIt)(n,this.paddingTop),g=p.top-this.pixelViewport.top,y=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let v=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(v!=this.inView&&(this.inView=v,v&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let x=a.width;if((this.contentDOMWidth!=x||this.editorHeight!=t.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=t.scrollDOM.clientHeight,c|=8),l){let w=t.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(w)&&(s=!0),s||i.lineWrapping&&Math.abs(x-this.contentDOMWidth)>i.charWidth){let{lineHeight:S,charWidth:C,textHeight:$}=t.docView.measureTextSize();s=S>0&&i.refresh(o,S,C,$,x/C,w),s&&(t.docView.minWidth=0,c|=8)}g>0&&y>0?u=Math.max(g,y):g<0&&y<0&&(u=Math.min(g,y)),i.heightChanged=!1;for(let S of this.viewports){let C=S.from==this.viewport.from?w:t.docView.measureVisibleLineHeights(S);this.heightMap=(s?Ga.empty().applyChanges(this.stateDeco,Xn.empty,this.heightOracle,[new Tu(0,0,0,t.state.doc.length)]):this.heightMap).updateHeight(i,0,s,new KMt(S.from,C))}i.heightChanged&&(c|=2)}let m=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return m&&(this.viewport=this.getViewport(u,this.scrollTarget)),this.updateForViewport(),(c&2||m)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,t)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,n){let r=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),i=this.heightMap,o=this.heightOracle,{visibleTop:s,visibleBottom:a}=this,l=new ID(i.lineAt(s-r*1e3,ni.ByHeight,o,0,0).from,i.lineAt(a+(1-r)*1e3,ni.ByHeight,o,0,0).to);if(n){let{head:c}=n.range;if(c<l.from||c>l.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=i.lineAt(c,ni.ByPos,o,0,0),d;n.y=="center"?d=(f.top+f.bottom)/2-u/2:n.y=="start"||n.y=="nearest"&&c<l.from?d=f.top:d=f.bottom-u,l=new ID(i.lineAt(d-1e3/2,ni.ByHeight,o,0,0).from,i.lineAt(d+u+1e3/2,ni.ByHeight,o,0,0).to)}}return l}mapViewport(t,n){let r=n.mapPos(t.from,-1),i=n.mapPos(t.to,1);return new ID(this.heightMap.lineAt(r,ni.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,ni.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:t,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(t,ni.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(n,ni.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:a}=this;return(t==0||i<=s-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||o>=a+Math.max(10,Math.min(r,250)))&&i>s-2*1e3&&o<a+2*1e3}mapLineGaps(t,n){if(!t.length||n.empty)return t;let r=[];for(let i of t)n.touchesRange(i.from,i.to)||r.push(new _B(n.mapPos(i.from),n.mapPos(i.to),i.size));return r}ensureLineGaps(t,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,o=i>>1,s=i<<1;if(this.defaultTextDirection!=qr.LTR&&!r)return[];let a=[],l=(c,u,f,d)=>{if(u-c<o)return;let h=this.state.selection.main,p=[h.from];h.empty||p.push(h.to);for(let y of p)if(y>c&&y<u){l(c,y-10,f,d),l(y+10,u,f,d);return}let g=aIt(t,y=>y.from>=f.from&&y.to<=f.to&&Math.abs(y.from-c)<o&&Math.abs(y.to-u)<o&&!p.some(v=>y.from<v&&y.to>v));if(!g){if(u<f.to&&n&&r&&n.visibleRanges.some(y=>y.from<=u&&y.to>=u)){let y=n.moveToLineBoundary(Ee.cursor(u),!1,!0).head;y>c&&(u=y)}g=new _B(c,u,this.gapSize(f,c,u,d))}a.push(g)};for(let c of this.viewportLines){if(c.length<s)continue;let u=sIt(c.from,c.to,this.stateDeco);if(u.total<s)continue;let f=this.scrollTarget?this.scrollTarget.range.head:null,d,h;if(r){let p=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,g,y;if(f!=null){let v=jD(u,f),x=((this.visibleBottom-this.visibleTop)/2+p)/c.height;g=v-x,y=v+x}else g=(this.visibleTop-c.top-p)/c.height,y=(this.visibleBottom-c.top+p)/c.height;d=LD(u,g),h=LD(u,y)}else{let p=u.total*this.heightOracle.charWidth,g=i*this.heightOracle.charWidth,y,v;if(f!=null){let x=jD(u,f),m=((this.pixelViewport.right-this.pixelViewport.left)/2+g)/p;y=x-m,v=x+m}else y=(this.pixelViewport.left-g)/p,v=(this.pixelViewport.right+g)/p;d=LD(u,y),h=LD(u,v)}d>c.from&&l(c.from,d,c,u),h<c.to&&l(h,c.to,c,u)}return a}gapSize(t,n,r,i){let o=jD(i,r)-jD(i,n);return this.heightOracle.lineWrapping?t.height*o:i.total*this.heightOracle.charWidth*o}updateLineGaps(t){_B.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=vt.set(t.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let n=[];Wn.spans(t,this.viewport.from,this.viewport.to,{span(i,o){n.push({from:i,to:o})},point(){}},20);let r=n.length!=this.visibleRanges.length||this.visibleRanges.some((i,o)=>i.from!=n[o].from||i.to!=n[o].to);return this.visibleRanges=n,r?4:0}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find(n=>n.from<=t&&n.to>=t)||dE(this.heightMap.lineAt(t,ni.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(t){return dE(this.heightMap.lineAt(this.scaler.fromDOM(t),ni.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(t){let n=this.lineBlockAtHeight(t+8);return n.from>=this.viewport.from||this.viewportLines[0].top-t>200?n:this.viewportLines[0]}elementAtHeight(t){return dE(this.heightMap.blockAt(this.scaler.fromDOM(t),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}let ID=class{constructor(t,n){this.from=t,this.to=n}};function sIt(e,t,n){let r=[],i=e,o=0;return Wn.spans(n,e,t,{span(){},point(s,a){s>i&&(r.push({from:i,to:s}),o+=s-i),i=a}},20),i<t&&(r.push({from:i,to:t}),o+=t-i),{total:o,ranges:r}}function LD({total:e,ranges:t},n){if(n<=0)return t[0].from;if(n>=1)return t[t.length-1].to;let r=Math.floor(e*n);for(let i=0;;i++){let{from:o,to:s}=t[i],a=s-o;if(r<=a)return o+r;r-=a}}function jD(e,t){let n=0;for(let{from:r,to:i}of e.ranges){if(t<=i){n+=t-r;break}n+=i-r}return n/e.total}function aIt(e,t){for(let n of e)if(t(n))return n}const J0e={toDOM(e){return e},fromDOM(e){return e},scale:1};class lIt{constructor(t,n,r){let i=0,o=0,s=0;this.viewports=r.map(({from:a,to:l})=>{let c=n.lineAt(a,ni.ByPos,t,0,0).top,u=n.lineAt(l,ni.ByPos,t,0,0).bottom;return i+=u-c,{from:a,to:l,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let a of this.viewports)a.domTop=s+(a.top-o)*this.scale,s=a.domBottom=a.domTop+(a.bottom-a.top),o=a.bottom}toDOM(t){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||t<o.top)return i+(t-r)*this.scale;if(t<=o.bottom)return o.domTop+(t-o.top);r=o.bottom,i=o.domBottom}}fromDOM(t){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||t<o.domTop)return r+(t-i)/this.scale;if(t<=o.domBottom)return o.top+(t-o.domTop);r=o.bottom,i=o.domBottom}}}function dE(e,t){if(t.scale==1)return e;let n=t.toDOM(e.top),r=t.toDOM(e.bottom);return new Yd(e.from,e.length,n,r-n,Array.isArray(e._content)?e._content.map(i=>dE(i,t)):e._content)}const FD=mt.define({combine:e=>e.join(" ")}),QX=mt.define({combine:e=>e.indexOf(!0)>-1}),BX=Xy.newName(),KLe=Xy.newName(),JLe=Xy.newName(),eje={"&light":"."+KLe,"&dark":"."+JLe};function WX(e,t,n){return new Xy(t,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return e;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):e+" "+r}})}const cIt=WX("."+BX,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},eje),hE="";class uIt{constructor(t,n){this.points=t,this.text="",this.lineSeparator=n.facet(gn.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+=hE}readRange(t,n){if(!t)return this;let r=t.parentNode;for(let i=t;;){this.findPointBefore(r,i);let o=this.text.length;this.readNode(i);let s=i.nextSibling;if(s==n)break;let a=li.get(i),l=li.get(s);(a&&l?a.breakAfter:(a?a.breakAfter:eve(i))||eve(s)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>o)&&this.lineBreak(),i=s}return this.findPointBefore(r,n),this}readTextNode(t){let n=t.nodeValue;for(let r of this.points)r.node==t&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,s=1,a;if(this.lineSeparator?(o=n.indexOf(this.lineSeparator,r),s=this.lineSeparator.length):(a=i.exec(n))&&(o=a.index,s=a[0].length),this.append(n.slice(r,o<0?n.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let l of this.points)l.node==t&&l.pos>this.text.length&&(l.pos-=s-1);r=o+s}}readNode(t){if(t.cmIgnore)return;let n=li.get(t),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(t,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else t.nodeType==3?this.readTextNode(t):t.nodeName=="BR"?t.nextSibling&&this.lineBreak():t.nodeType==1&&this.readRange(t.firstChild,null)}findPointBefore(t,n){for(let r of this.points)r.node==t&&t.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(t,n){for(let r of this.points)(t.nodeType==3?r.node==t:t.contains(r.node))&&(r.pos=this.text.length+(fIt(t,r.node,r.offset)?n:0))}}function fIt(e,t,n){for(;;){if(!t||n<dg(t))return!1;if(t==e)return!0;n=d2(t)+1,t=t.parentNode}}function eve(e){return e.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(e.nodeName)}class tve{constructor(t,n){this.node=t,this.offset=n,this.pos=-1}}class dIt{constructor(t,n,r,i){this.typeOver=i,this.bounds=null,this.text="";let{impreciseHead:o,impreciseAnchor:s}=t.docView;if(t.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=t.docView.domBoundsAround(n,r,0))){let a=o||s?[]:gIt(t),l=new uIt(a,t.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=mIt(a,this.bounds.from)}else{let a=t.observer.selectionRange,l=o&&o.node==a.focusNode&&o.offset==a.focusOffset||!EX(t.contentDOM,a.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(a.focusNode,a.focusOffset),c=s&&s.node==a.anchorNode&&s.offset==a.anchorOffset||!EX(t.contentDOM,a.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(a.anchorNode,a.anchorOffset),u=t.viewport;if(wt.ios&&t.state.selection.main.empty&&l!=c&&(u.from>0||u.to<t.state.doc.length)){let f=u.from-Math.min(l,c),d=u.to-Math.max(l,c);(f==0||f==1)&&(d==0||d==-1)&&(l=0,c=t.state.doc.length)}this.newSel=Ee.single(c,l)}}}function tje(e,t){let n,{newSel:r}=t,i=e.state.selection.main,o=e.inputState.lastKeyTime>Date.now()-100?e.inputState.lastKeyCode:-1;if(t.bounds){let{from:s,to:a}=t.bounds,l=i.from,c=null;(o===8||wt.android&&t.text.length<a-s)&&(l=i.to,c="end");let u=pIt(e.state.doc.sliceString(s,a,hE),t.text,l-s,c);u&&(wt.chrome&&o==13&&u.toB==u.from+2&&t.text.slice(u.from,u.toB)==hE+hE&&u.toB--,n={from:s+u.from,to:s+u.toA,insert:Xn.of(t.text.slice(u.from,u.toB).split(hE))})}else r&&(!e.hasFocus&&e.state.facet(z6)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&t.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:e.state.doc.slice(i.from,i.to)}:n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:e.state.doc.slice(i.from,n.from).append(n.insert).append(e.state.doc.slice(n.to,i.to))}:(wt.mac||wt.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&e.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=Ee.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Xn.of([" "])}):wt.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&e.lineWrapping&&(r&&(r=Ee.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Xn.of([" "])}),n){if(wt.ios&&e.inputState.flushIOSKey()||wt.android&&(n.from==i.from&&n.to==i.to&&n.insert.length==1&&n.insert.lines==2&&_w(e.contentDOM,"Enter",13)||(n.from==i.from-1&&n.to==i.to&&n.insert.length==0||o==8&&n.insert.length<n.to-n.from&&n.to>i.head)&&_w(e.contentDOM,"Backspace",8)||n.from==i.from&&n.to==i.to+1&&n.insert.length==0&&_w(e.contentDOM,"Delete",46)))return!0;let s=n.insert.toString();e.inputState.composing>=0&&e.inputState.composing++;let a,l=()=>a||(a=hIt(e,n,r));return e.state.facet(PLe).some(c=>c(e,n.from,n.to,s,l))||e.dispatch(l()),!0}else if(r&&!r.main.eq(i)){let s=!1,a="select";return e.inputState.lastSelectionTime>Date.now()-50&&(e.inputState.lastSelectionOrigin=="select"&&(s=!0),a=e.inputState.lastSelectionOrigin),e.dispatch({selection:r,scrollIntoView:s,userEvent:a}),!0}else return!1}function hIt(e,t,n){let r,i=e.state,o=i.selection.main;if(t.from>=o.from&&t.to<=o.to&&t.to-t.from>=(o.to-o.from)/3&&(!n||n.main.empty&&n.main.from==t.from+t.insert.length)&&e.inputState.composing<0){let a=o.from<t.from?i.sliceDoc(o.from,t.from):"",l=o.to>t.to?i.sliceDoc(t.to,o.to):"";r=i.replaceSelection(e.state.toText(a+t.insert.sliceString(0,void 0,e.state.lineBreak)+l))}else{let a=i.changes(t),l=n&&n.main.to<=a.newLength?n.main:void 0;if(i.selection.ranges.length>1&&e.inputState.composing>=0&&t.to<=o.to&&t.to>=o.to-10){let c=e.state.sliceDoc(t.from,t.to),u,f=n&&FLe(e,n.main.head);if(f){let p=t.insert.length-(t.to-t.from);u={from:f.from,to:f.to-p}}else u=e.state.doc.lineAt(o.head);let d=o.to-t.to,h=o.to-o.from;r=i.changeByRange(p=>{if(p.from==o.from&&p.to==o.to)return{changes:a,range:l||p.map(a)};let g=p.to-d,y=g-c.length;if(p.to-p.from!=h||e.state.sliceDoc(y,g)!=c||p.to>=u.from&&p.from<=u.to)return{range:p};let v=i.changes({from:y,to:g,insert:t.insert}),x=p.to-o.to;return{changes:v,range:l?Ee.range(Math.max(0,l.anchor+x),Math.max(0,l.head+x)):p.map(v)}})}else r={changes:a,selection:l&&i.selection.replaceRange(l)}}let s="input.type";return(e.composing||e.inputState.compositionPendingChange&&e.inputState.compositionEndedAt>Date.now()-50)&&(e.inputState.compositionPendingChange=!1,s+=".compose",e.inputState.compositionFirstChange&&(s+=".start",e.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:s,scrollIntoView:!0})}function pIt(e,t,n,r){let i=Math.min(e.length,t.length),o=0;for(;o<i&&e.charCodeAt(o)==t.charCodeAt(o);)o++;if(o==i&&e.length==t.length)return null;let s=e.length,a=t.length;for(;s>0&&a>0&&e.charCodeAt(s-1)==t.charCodeAt(a-1);)s--,a--;if(r=="end"){let l=Math.max(0,o-Math.min(s,a));n-=s+l-o}if(s<o&&e.length<t.length){let l=n<=o&&n>=s?o-n:0;o-=l,a=o+(a-s),s=o}else if(a<o){let l=n<=o&&n>=a?o-n:0;o-=l,s=o+(s-a),a=o}return{from:o,toA:s,toB:a}}function gIt(e){let t=[];if(e.root.activeElement!=e.contentDOM)return t;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}=e.observer.selectionRange;return n&&(t.push(new tve(n,r)),(i!=n||o!=r)&&t.push(new tve(i,o))),t}function mIt(e,t){if(e.length==0)return null;let n=e[0].pos,r=e.length==2?e[1].pos:n;return n>-1&&r>-1?Ee.single(n+t,r+t):null}const yIt={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},CB=wt.ie&&wt.ie_version<=11;class vIt{constructor(t){this.view=t,this.active=!1,this.selectionRange=new tMt,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(wt.ie&&wt.ie_version<=11||wt.ios&&t.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),CB&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(t.scrollDOM)),this.addWindowListeners(this.win=t.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(t){this.view.inputState.runHandlers("scroll",t),this.intersecting&&this.view.measure()}onScroll(t){this.intersecting&&this.flush(!1),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some((n,r)=>n!=t[r]))){this.gapIntersection.disconnect();for(let n of t)this.gapIntersection.observe(n);this.gaps=t}}onSelectionChange(t){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(z6)?r.root.activeElement!=this.dom:!ZM(r.dom,i))return;let o=i.anchorNode&&r.docView.nearest(i.anchorNode);if(o&&o.ignoreEvent(t)){n||(this.selectionChanged=!1);return}(wt.ie&&wt.ie_version<=11||wt.android&&wt.chrome)&&!r.state.selection.main.empty&&i.focusNode&&Sk(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:t}=this,n=wt.safari&&t.root.nodeType==11&&GNt(this.dom.ownerDocument)==this.dom&&bIt(this.view)||g3(t.root);if(!n||this.selectionRange.eq(n))return!1;let r=ZM(this.dom,n);return r&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&rMt(this.dom,n)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),!1):(this.selectionRange.setRange(n),r&&(this.selectionChanged=!0),!0)}setSelectionRange(t,n){this.selectionRange.set(t.node,t.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&t<this.scrollTargets.length&&this.scrollTargets[t]==r?t++:n||(n=this.scrollTargets.slice(0,t)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(t<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,t)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,yIt),CB&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),CB&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,n){var r;if(!this.delayedAndroidKey){let i=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&_w(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||t=="Enter")&&(this.delayedAndroidKey={key:t,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}processRecords(){let t=this.pendingRecords();t.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let o of t){let s=this.readMutation(o);s&&(s.typeOver&&(i=!0),n==-1?{from:n,to:r}=s:(n=Math.min(s.from,n),r=Math.max(s.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:t,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&ZM(this.dom,this.selectionRange);if(t<0&&!i)return null;t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new dIt(this.view,t,n,r);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;t&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=tje(this.view,n);return this.view.state==r&&this.view.update([]),i}readMutation(t){let n=this.view.docView.nearest(t.target);if(!n||n.ignoreMutation(t))return null;if(n.markDirty(t.type=="attributes"),t.type=="attributes"&&(n.flags|=4),t.type=="childList"){let r=nve(n,t.previousSibling||t.target.previousSibling,-1),i=nve(n,t.nextSibling||t.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return t.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}setWindow(t){t!=this.win&&(this.removeWindowListeners(this.win),this.win=t,this.addWindowListeners(this.win))}addWindowListeners(t){t.addEventListener("resize",this.onResize),t.addEventListener("beforeprint",this.onPrint),t.addEventListener("scroll",this.onScroll),t.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(t){t.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onResize),t.removeEventListener("beforeprint",this.onPrint),t.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var t,n,r;this.stop(),(t=this.intersection)===null||t===void 0||t.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function nve(e,t,n){for(;t;){let r=li.get(t);if(r&&r.parent==e)return r;let i=t.parentNode;t=i!=e.dom?i:n>0?t.nextSibling:t.previousSibling}return null}function bIt(e){let t=null;function n(l){l.preventDefault(),l.stopImmediatePropagation(),t=l.getTargetRanges()[0]}if(e.contentDOM.addEventListener("beforeinput",n,!0),e.dom.ownerDocument.execCommand("indent"),e.contentDOM.removeEventListener("beforeinput",n,!0),!t)return null;let r=t.startContainer,i=t.startOffset,o=t.endContainer,s=t.endOffset,a=e.docView.domAtPos(e.state.selection.main.anchor);return Sk(a.node,a.offset,o,s)&&([r,i,o,s]=[o,s,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}}class nt{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(t={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),t.parent&&t.parent.appendChild(this.dom);let{dispatch:n}=t;this.dispatchTransactions=t.dispatchTransactions||n&&(r=>r.forEach(i=>n(i,this)))||(r=>this.update(r)),this.dispatch=this.dispatch.bind(this),this._root=t.root||nMt(t.parent)||document,this.viewState=new K0e(t.state||gn.create(t)),t.scrollTo&&t.scrollTo.is(DD)&&(this.viewState.scrollTarget=t.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(uE).map(r=>new xB(r));for(let r of this.plugins)r.update(this);this.observer=new vIt(this),this.inputState=new NMt(this),this.inputState.ensureHandlers(this.plugins),this.docView=new N0e(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure()}dispatch(...t){let n=t.length==1&&t[0]instanceof yo?t:t.length==1&&Array.isArray(t[0])?t[0]:[this.state.update(...t)];this.dispatchTransactions(n,this)}update(t){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,o=this.state;for(let d of t){if(d.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=d.state}if(this.destroyed){this.viewState.state=o;return}let s=this.hasFocus,a=0,l=null;t.some(d=>d.annotation(XLe))?(this.inputState.notifiedFocused=s,a=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,l=HLe(o,s),l||(a=1));let c=this.observer.delayedAndroidKey,u=null;if(c?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(u=null)):this.observer.clear(),o.facet(gn.phrases)!=this.state.facet(gn.phrases))return this.setState(o);i=m3.create(this,o,t),i.flags|=a;let f=this.viewState.scrollTarget;try{this.updateState=2;for(let d of t){if(f&&(f=f.map(d.changes)),d.scrollIntoView){let{main:h}=d.state.selection;f=new Cw(h.empty?h:Ee.cursor(h.head,h.head>h.anchor?-1:1))}for(let h of d.effects)h.is(DD)&&(f=h.value.clip(this.state))}this.viewState.update(i,f),this.bidiCache=y3.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(fE)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(n,t.some(d=>d.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(FD)!=i.state.facet(FD)&&(this.viewState.mustMeasureContent=!0),(n||r||f||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!i.empty)for(let d of this.state.facet(LX))try{d(i)}catch(h){ku(this.state,h,"update listener")}(l||u)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),u&&!tje(this,u)&&c.force&&_w(this.contentDOM,c.key,c.keyCode)})}setState(t){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=t;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new K0e(t),this.plugins=t.facet(uE).map(r=>new xB(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new N0e(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(t){let n=t.startState.facet(uE),r=t.state.facet(uE);if(n!=r){let i=[];for(let o of r){let s=n.indexOf(o);if(s<0)i.push(new xB(o));else{let a=this.plugins[s];a.mustUpdate=t,i.push(a)}}for(let o of this.plugins)o.mustUpdate!=t&&o.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=t;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}measure(t=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,t&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:s}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(s<0)if(fLe(r))o=-1,s=this.viewState.heightMap.height;else{let h=this.viewState.scrollAnchorAt(i);o=h.from,s=h.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let u=c.map(h=>{try{return h.read(this)}catch(p){return ku(this.state,p),rve}}),f=m3.create(this,this.state,[]),d=!1;f.flags|=l,n?n.flags|=l:n=f,this.updateState=2,f.empty||(this.updatePlugins(f),this.inputState.update(f),this.updateAttrs(),d=this.docView.update(f));for(let h=0;h<c.length;h++)if(u[h]!=rve)try{let p=c[h];p.write&&p.write(u[h],this)}catch(p){ku(this.state,p)}if(d&&this.docView.updateSelection(!0),!f.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}else{let p=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-s;if(p>1||p<-1){i=i+p,r.scrollTop=i/this.scaleY,s=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let a of this.state.facet(LX))a(n)}get themeClasses(){return BX+" "+(this.state.facet(QX)?JLe:KLe)+" "+this.state.facet(FD)}updateAttrs(){let t=ive(this,NLe,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(z6)?"true":"false",class:"cm-content",style:`${wt.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),ive(this,Qre,n);let r=this.observer.ignore(()=>{let i=AX(this.contentDOM,this.contentAttrs,n),o=AX(this.dom,this.editorAttrs,t);return i||o});return this.editorAttrs=t,this.contentAttrs=n,r}showAnnouncements(t){let n=!0;for(let r of t)for(let i of r.effects)if(i.is(nt.announce)){n&&(this.announceDOM.textContent=""),n=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(fE);let t=this.state.facet(nt.cspNonce);Xy.mount(this.root,this.styleModules.concat(cIt).reverse(),t?{nonce:t}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),t){if(this.measureRequests.indexOf(t)>-1)return;if(t.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===t.key){this.measureRequests[n]=t;return}}this.measureRequests.push(t)}}plugin(t){let n=this.pluginMap.get(t);return(n===void 0||n&&n.spec!=t)&&this.pluginMap.set(t,n=this.plugins.find(r=>r.spec==t)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,n,r){return SB(this,t,z0e(this,t,n,r))}moveByGroup(t,n){return SB(this,t,z0e(this,t,n,r=>AMt(this,t.head,r)))}visualLineSide(t,n){let r=this.bidiSpans(t),i=this.textDirectionAt(t.from),o=r[n?r.length-1:0];return Ee.cursor(o.side(n,i)+t.from,o.forward(!n,i)?1:-1)}moveToLineBoundary(t,n,r=!0){return RMt(this,t,n,r)}moveVertically(t,n,r){return SB(this,t,DMt(this,t,n,r))}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,n=0){return this.docView.posFromDOM(t,n)}posAtCoords(t,n=!0){return this.readMeasured(),QLe(this,t,n)}coordsAtPos(t,n=1){this.readMeasured();let r=this.docView.coordsAt(t,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(t),o=this.bidiSpans(i),s=o[Wm.find(o,t-i.from,-1,n)];return j6(r,s.dir==qr.LTR==n>0)}coordsForChar(t){return this.readMeasured(),this.docView.coordsForChar(t)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(ALe)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>OIt)return _Le(t.length);let n=this.textDirectionAt(t.from),r;for(let o of this.bidiCache)if(o.from==t.from&&o.dir==n&&(o.fresh||SLe(o.isolates,r=D0e(this,t))))return o.order;r||(r=D0e(this,t));let i=gMt(t.text,n,r);return this.bidiCache.push(new y3(t.from,t.to,n,r,!0,i)),i}get hasFocus(){var t;return(this.dom.ownerDocument.hasFocus()||wt.safari&&((t=this.inputState)===null||t===void 0?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{cLe(this.contentDOM),this.docView.updateSelection()})}setRoot(t){this._root!=t&&(this._root=t,this.observer.setWindow((t.nodeType==9?t:t.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,n={}){return DD.of(new Cw(typeof t=="number"?Ee.cursor(t):t,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:t,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(t);return DD.of(new Cw(Ee.cursor(r.from),"start","start",r.top-t,n,!0))}static domEventHandlers(t){return Mr.define(()=>({}),{eventHandlers:t})}static domEventObservers(t){return Mr.define(()=>({}),{eventObservers:t})}static theme(t,n){let r=Xy.newName(),i=[FD.of(r),fE.of(WX(`.${r}`,t))];return n&&n.dark&&i.push(QX.of(!0)),i}static baseTheme(t){return Kl.lowest(fE.of(WX("."+BX,t,eje)))}static findFromDOM(t){var n;let r=t.querySelector(".cm-content"),i=r&&li.get(r)||li.get(t);return((n=i==null?void 0:i.rootView)===null||n===void 0?void 0:n.view)||null}}nt.styleModule=fE;nt.inputHandler=PLe;nt.focusChangeEffect=RLe;nt.perLineTextDirection=ALe;nt.exceptionSink=TLe;nt.updateListener=LX;nt.editable=z6;nt.mouseSelectionStyle=kLe;nt.dragMovesSelection=ELe;nt.clickAddsSelectionRange=$Le;nt.decorations=h2;nt.outerDecorations=MLe;nt.atomicRanges=Bre;nt.bidiIsolatedRanges=ILe;nt.scrollMargins=LLe;nt.darkTheme=QX;nt.cspNonce=mt.define({combine:e=>e.length?e[0]:""});nt.contentAttributes=Qre;nt.editorAttributes=NLe;nt.lineWrapping=nt.contentAttributes.of({class:"cm-lineWrapping"});nt.announce=Vt.define();const OIt=4096,rve={};class y3{constructor(t,n,r,i,o,s){this.from=t,this.to=n,this.dir=r,this.isolates=i,this.fresh=o,this.order=s}static update(t,n){if(n.empty&&!t.some(o=>o.fresh))return t;let r=[],i=t.length?t[t.length-1].dir:qr.LTR;for(let o=Math.max(0,t.length-10);o<t.length;o++){let s=t[o];s.dir==i&&!n.touchesRange(s.from,s.to)&&r.push(new y3(n.mapPos(s.from,1),n.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return r}}function ive(e,t,n){for(let r=e.state.facet(t),i=r.length-1;i>=0;i--){let o=r[i],s=typeof o=="function"?o(e):o;s&&RX(s,n)}return n}const xIt=wt.mac?"mac":wt.windows?"win":wt.linux?"linux":"key";function wIt(e,t){const n=e.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,o,s,a;for(let l=0;l<n.length-1;++l){const c=n[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))t=="mac"?a=!0:o=!0;else throw new Error("Unrecognized modifier name: "+c)}return i&&(r="Alt-"+r),o&&(r="Ctrl-"+r),a&&(r="Meta-"+r),s&&(r="Shift-"+r),r}function zD(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n!==!1&&t.shiftKey&&(e="Shift-"+e),e}const SIt=Kl.default(nt.domEventHandlers({keydown(e,t){return rje(nje(t.state),e,t,"editor")}})),$i=mt.define({enables:SIt}),ove=new WeakMap;function nje(e){let t=e.facet($i),n=ove.get(t);return n||ove.set(t,n=$It(t.reduce((r,i)=>r.concat(i),[]))),n}function _It(e,t,n){return rje(nje(e.state),t,e,n)}let Rm=null;const CIt=4e3;function $It(e,t=xIt){let n=Object.create(null),r=Object.create(null),i=(s,a)=>{let l=r[s];if(l==null)r[s]=a;else if(l!=a)throw new Error("Key binding "+s+" is used both as a regular binding and as a multi-stroke prefix")},o=(s,a,l,c,u)=>{var f,d;let h=n[s]||(n[s]=Object.create(null)),p=a.split(/ (?!$)/).map(v=>wIt(v,t));for(let v=1;v<p.length;v++){let x=p.slice(0,v).join(" ");i(x,!0),h[x]||(h[x]={preventDefault:!0,stopPropagation:!1,run:[m=>{let w=Rm={view:m,prefix:x,scope:s};return setTimeout(()=>{Rm==w&&(Rm=null)},CIt),!0}]})}let g=p.join(" ");i(g,!1);let y=h[g]||(h[g]={preventDefault:!1,stopPropagation:!1,run:((d=(f=h._any)===null||f===void 0?void 0:f.run)===null||d===void 0?void 0:d.slice())||[]});l&&y.run.push(l),c&&(y.preventDefault=!0),u&&(y.stopPropagation=!0)};for(let s of e){let a=s.scope?s.scope.split(" "):["editor"];if(s.any)for(let c of a){let u=n[c]||(n[c]=Object.create(null));u._any||(u._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let f in u)u[f].run.push(s.any)}let l=s[t]||s.key;if(l)for(let c of a)o(c,l,s.run,s.preventDefault,s.stopPropagation),s.shift&&o(c,"Shift-"+l,s.shift,s.preventDefault,s.stopPropagation)}return n}function rje(e,t,n,r){let i=ZNt(t),o=Ss(i,0),s=du(o)==i.length&&i!=" ",a="",l=!1,c=!1,u=!1;Rm&&Rm.view==n&&Rm.scope==r&&(a=Rm.prefix+" ",WLe.indexOf(t.keyCode)<0&&(c=!0,Rm=null));let f=new Set,d=y=>{if(y){for(let v of y.run)if(!f.has(v)&&(f.add(v),v(n,t)))return y.stopPropagation&&(u=!0),!0;y.preventDefault&&(y.stopPropagation&&(u=!0),c=!0)}return!1},h=e[r],p,g;return h&&(d(h[a+zD(i,t,!s)])?l=!0:s&&(t.altKey||t.metaKey||t.ctrlKey)&&!(wt.windows&&t.ctrlKey&&t.altKey)&&(p=Hy[t.keyCode])&&p!=i?(d(h[a+zD(p,t,!0)])||t.shiftKey&&(g=f2[t.keyCode])!=i&&g!=p&&d(h[a+zD(g,t,!1)]))&&(l=!0):s&&t.shiftKey&&d(h[a+zD(i,t,!0)])&&(l=!0),!l&&d(h._any)&&(l=!0)),c&&(l=!0),l&&u&&t.stopPropagation(),l}class fR{constructor(t,n,r,i,o){this.className=t,this.left=n,this.top=r,this.width=i,this.height=o}draw(){let t=document.createElement("div");return t.className=this.className,this.adjust(t),t}update(t,n){return n.className!=this.className?!1:(this.adjust(t),!0)}adjust(t){t.style.left=this.left+"px",t.style.top=this.top+"px",this.width!=null&&(t.style.width=this.width+"px"),t.style.height=this.height+"px"}eq(t){return this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height&&this.className==t.className}static forRange(t,n,r){if(r.empty){let i=t.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let o=ije(t);return[new fR(n,i.left-o.left,i.top-o.top,null,i.bottom-i.top)]}else return EIt(t,n,r)}}function ije(e){let t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==qr.LTR?t.left:t.right-e.scrollDOM.clientWidth*e.scaleX)-e.scrollDOM.scrollLeft*e.scaleX,top:t.top-e.scrollDOM.scrollTop*e.scaleY}}function sve(e,t,n){let r=Ee.cursor(t);return{from:Math.max(n.from,e.moveToLineBoundary(r,!1,!0).from),to:Math.min(n.to,e.moveToLineBoundary(r,!0,!0).from),type:Za.Text}}function EIt(e,t,n){if(n.to<=e.viewport.from||n.from>=e.viewport.to)return[];let r=Math.max(n.from,e.viewport.from),i=Math.min(n.to,e.viewport.to),o=e.textDirection==qr.LTR,s=e.contentDOM,a=s.getBoundingClientRect(),l=ije(e),c=s.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),f=a.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),d=a.right-(u?parseInt(u.paddingRight):0),h=FX(e,r),p=FX(e,i),g=h.type==Za.Text?h:null,y=p.type==Za.Text?p:null;if(g&&(e.lineWrapping||h.widgetLineBreaks)&&(g=sve(e,r,g)),y&&(e.lineWrapping||p.widgetLineBreaks)&&(y=sve(e,i,y)),g&&y&&g.from==y.from)return x(m(n.from,n.to,g));{let S=g?m(n.from,null,g):w(h,!1),C=y?m(null,n.to,y):w(p,!0),$=[];return(g||h).to<(y||p).from-(g&&y?1:0)||h.widgetLineBreaks>1&&S.bottom+e.defaultLineHeight/2<C.top?$.push(v(f,S.bottom,d,C.top)):S.bottom<C.top&&e.elementAtHeight((S.bottom+C.top)/2).type==Za.Text&&(S.bottom=C.top=(S.bottom+C.top)/2),x(S).concat($).concat(x(C))}function v(S,C,$,E){return new fR(t,S-l.left,C-l.top-.01,$-S,E-C+.01)}function x({top:S,bottom:C,horizontal:$}){let E=[];for(let R=0;R<$.length;R+=2)E.push(v($[R],S,$[R+1],C));return E}function m(S,C,$){let E=1e9,R=-1e9,N=[];function I(T,D,L,W,V){let Q=e.coordsAtPos(T,T==$.to?-2:2),B=e.coordsAtPos(L,L==$.from?2:-2);!Q||!B||(E=Math.min(Q.top,B.top,E),R=Math.max(Q.bottom,B.bottom,R),V==qr.LTR?N.push(o&&D?f:Q.left,o&&W?d:B.right):N.push(!o&&W?f:B.left,!o&&D?d:Q.right))}let j=S??$.from,A=C??$.to;for(let T of e.visibleRanges)if(T.to>j&&T.from<A)for(let D=Math.max(T.from,j),L=Math.min(T.to,A);;){let W=e.state.doc.lineAt(D);for(let V of e.bidiSpans(W)){let Q=V.from+W.from,B=V.to+W.from;if(Q>=L)break;B>D&&I(Math.max(Q,D),S==null&&Q<=j,Math.min(B,L),C==null&&B>=A,V.dir)}if(D=W.to+1,D>=L)break}return N.length==0&&I(j,S==null,A,C==null,e.textDirection),{top:E,bottom:R,horizontal:N}}function w(S,C){let $=a.top+(C?S.top:S.bottom);return{top:$,bottom:$,horizontal:[]}}}function kIt(e,t){return e.constructor==t.constructor&&e.eq(t)}class TIt{constructor(t,n){this.view=t,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=t.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(t.state),t.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,t)}update(t){t.startState.facet(JM)!=t.state.facet(JM)&&this.setOrder(t.state),(this.layer.update(t,this.dom)||t.geometryChanged)&&(this.scale(),t.view.requestMeasure(this.measureReq))}setOrder(t){let n=0,r=t.facet(JM);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:t,scaleY:n}=this.view;(t!=this.scaleX||n!=this.scaleY)&&(this.scaleX=t,this.scaleY=n,this.dom.style.transform=`scale(${1/t}, ${1/n})`)}draw(t){if(t.length!=this.drawn.length||t.some((n,r)=>!kIt(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of t)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=t}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const JM=mt.define();function oje(e){return[Mr.define(t=>new TIt(t,e)),JM.of(e)]}const sje=!wt.ios,bS=mt.define({combine(e){return Bh(e,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(t,n)=>Math.min(t,n),drawRangeCursor:(t,n)=>t||n})}});function Vre(e={}){return[bS.of(e),RIt,AIt,DIt,DLe.of(!0)]}function PIt(e){return e.facet(bS)}function aje(e){return e.startState.facet(bS)!=e.state.facet(bS)}const RIt=oje({above:!0,markers(e){let{state:t}=e,n=t.facet(bS),r=[];for(let i of t.selection.ranges){let o=i==t.selection.main;if(i.empty?!o||sje:n.drawRangeCursor){let s=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=i.empty?i:Ee.cursor(i.head,i.head>i.anchor?-1:1);for(let l of fR.forRange(e,s,a))r.push(l)}}return r},update(e,t){e.transactions.some(r=>r.selection)&&(t.style.animationName=t.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=aje(e);return n&&ave(e.state,t),e.docChanged||e.selectionSet||n},mount(e,t){ave(t.state,e)},class:"cm-cursorLayer"});function ave(e,t){t.style.animationDuration=e.facet(bS).cursorBlinkRate+"ms"}const AIt=oje({above:!1,markers(e){return e.state.selection.ranges.map(t=>t.empty?[]:fR.forRange(e,"cm-selectionBackground",t)).reduce((t,n)=>t.concat(n))},update(e,t){return e.docChanged||e.selectionSet||e.viewportChanged||aje(e)},class:"cm-selectionLayer"}),VX={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};sje&&(VX[".cm-line"].caretColor="transparent !important",VX[".cm-content"]={caretColor:"transparent !important"});const DIt=Kl.highest(nt.theme(VX)),lje=Vt.define({map(e,t){return e==null?null:t.mapPos(e)}}),pE=qi.define({create(){return null},update(e,t){return e!=null&&(e=t.changes.mapPos(e)),t.effects.reduce((n,r)=>r.is(lje)?r.value:n,e)}}),NIt=Mr.fromClass(class{constructor(e){this.view=e,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(e){var t;let n=e.state.field(pE);n==null?this.cursor!=null&&((t=this.cursor)===null||t===void 0||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(e.startState.field(pE)!=n||e.docChanged||e.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:e}=this,t=e.state.field(pE),n=t!=null&&e.coordsAtPos(t);if(!n)return null;let r=e.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+e.scrollDOM.scrollLeft*e.scaleX,top:n.top-r.top+e.scrollDOM.scrollTop*e.scaleY,height:n.bottom-n.top}}drawCursor(e){if(this.cursor){let{scaleX:t,scaleY:n}=this.view;e?(this.cursor.style.left=e.left/t+"px",this.cursor.style.top=e.top/n+"px",this.cursor.style.height=e.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(e){this.view.state.field(pE)!=e&&this.view.dispatch({effects:lje.of(e)})}},{eventObservers:{dragover(e){this.setDropPos(this.view.posAtCoords({x:e.clientX,y:e.clientY}))},dragleave(e){(e.target==this.view.contentDOM||!this.view.contentDOM.contains(e.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function cje(){return[pE,NIt]}function lve(e,t,n,r,i){t.lastIndex=0;for(let o=e.iterRange(n,r),s=n,a;!o.next().done;s+=o.value.length)if(!o.lineBreak)for(;a=t.exec(o.value);)i(s+a.index,a)}function MIt(e,t){let n=e.visibleRanges;if(n.length==1&&n[0].from==e.viewport.from&&n[0].to==e.viewport.to)return n;let r=[];for(let{from:i,to:o}of n)i=Math.max(e.state.doc.lineAt(i).from,i-t),o=Math.min(e.state.doc.lineAt(o).to,o+t),r.length&&r[r.length-1].to>=i?r[r.length-1].to=o:r.push({from:i,to:o});return r}class IIt{constructor(t){const{regexp:n,decoration:r,decorate:i,boundary:o,maxLength:s=1e3}=t;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(a,l,c,u)=>i(u,c,c+a[0].length,a,l);else if(typeof r=="function")this.addMatch=(a,l,c,u)=>{let f=r(a,l,c);f&&u(c,c+a[0].length,f)};else if(r)this.addMatch=(a,l,c,u)=>u(c,c+a[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=o,this.maxLength=s}createDeco(t){let n=new Sh,r=n.add.bind(n);for(let{from:i,to:o}of MIt(t,this.maxLength))lve(t.state.doc,this.regexp,i,o,(s,a)=>this.addMatch(a,t,s,r));return n.finish()}updateDeco(t,n){let r=1e9,i=-1;return t.docChanged&&t.changes.iterChanges((o,s,a,l)=>{l>t.view.viewport.from&&a<t.view.viewport.to&&(r=Math.min(a,r),i=Math.max(l,i))}),t.viewportChanged||i-r>1e3?this.createDeco(t.view):i>-1?this.updateRange(t.view,n.map(t.changes),r,i):n}updateRange(t,n,r,i){for(let o of t.visibleRanges){let s=Math.max(o.from,r),a=Math.min(o.to,i);if(a>s){let l=t.state.doc.lineAt(s),c=l.to<a?t.state.doc.lineAt(a):l,u=Math.max(o.from,l.from),f=Math.min(o.to,c.to);if(this.boundary){for(;s>l.from;s--)if(this.boundary.test(l.text[s-1-l.from])){u=s;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){f=a;break}}let d=[],h,p=(g,y,v)=>d.push(v.range(g,y));if(l==c)for(this.regexp.lastIndex=u-l.from;(h=this.regexp.exec(l.text))&&h.index<f-l.from;)this.addMatch(h,t,h.index+l.from,p);else lve(t.state.doc,this.regexp,u,f,(g,y)=>this.addMatch(y,t,g,p));n=n.update({filterFrom:u,filterTo:f,filter:(g,y)=>g<u||y>f,add:d})}}return n}}const UX=/x/.unicode!=null?"gu":"g",LIt=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,UX),jIt={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let $B=null;function FIt(){var e;if($B==null&&typeof document<"u"&&document.body){let t=document.body.style;$B=((e=t.tabSize)!==null&&e!==void 0?e:t.MozTabSize)!=null}return $B||!1}const eI=mt.define({combine(e){let t=Bh(e,{render:null,specialChars:LIt,addSpecialChars:null});return(t.replaceTabs=!FIt())&&(t.specialChars=new RegExp("	|"+t.specialChars.source,UX)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,UX)),t}});function Ure(e={}){return[eI.of(e),zIt()]}let cve=null;function zIt(){return cve||(cve=Mr.fromClass(class{constructor(e){this.view=e,this.decorations=vt.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet(eI)),this.decorations=this.decorator.createDeco(e)}makeDecorator(e){return new IIt({regexp:e.specialChars,decoration:(t,n,r)=>{let{doc:i}=n.state,o=Ss(t[0],0);if(o==9){let s=i.lineAt(r),a=n.state.tabSize,l=Kf(s.text,a,r-s.from);return vt.replace({widget:new VIt((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=vt.replace({widget:new WIt(e,o)}))},boundary:e.replaceTabs?void 0:/[^]/})}update(e){let t=e.state.facet(eI);e.startState.facet(eI)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}},{decorations:e=>e.decorations}))}const QIt="";function BIt(e){return e>=32?QIt:e==10?"":String.fromCharCode(9216+e)}class WIt extends ud{constructor(t,n){super(),this.options=t,this.code=n}eq(t){return t.code==this.code}toDOM(t){let n=BIt(this.code),r=t.state.phrase("Control character")+" "+(jIt[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let o=document.createElement("span");return o.textContent=n,o.title=r,o.setAttribute("aria-label",r),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class VIt extends ud{constructor(t){super(),this.width=t}eq(t){return t.width==this.width}toDOM(){let t=document.createElement("span");return t.textContent="	",t.className="cm-tab",t.style.width=this.width+"px",t}ignoreEvent(){return!1}}function uje(){return qIt}const UIt=vt.line({class:"cm-activeLine"}),qIt=Mr.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.docChanged||e.selectionSet)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=-1,n=[];for(let r of e.state.selection.ranges){let i=e.lineBlockAt(r.head);i.from>t&&(n.push(UIt.range(i.from)),t=i.from)}return vt.set(n)}},{decorations:e=>e.decorations});class YIt extends ud{constructor(t){super(),this.content=t}toDOM(){let t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?t.setAttribute("aria-label","placeholder "+this.content):t.setAttribute("aria-hidden","true"),t}coordsAt(t){let n=t.firstChild?yS(t.firstChild):[];if(!n.length)return null;let r=window.getComputedStyle(t.parentNode),i=j6(n[0],r.direction!="rtl"),o=parseInt(r.lineHeight);return i.bottom-i.top>o*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+o}:i}ignoreEvent(){return!1}}function fje(e){return Mr.fromClass(class{constructor(t){this.view=t,this.placeholder=e?vt.set([vt.widget({widget:new YIt(e),side:1}).range(0)]):vt.none}get decorations(){return this.view.state.doc.length?vt.none:this.placeholder}},{decorations:t=>t.decorations})}const qX=2e3;function XIt(e,t,n){let r=Math.min(t.line,n.line),i=Math.max(t.line,n.line),o=[];if(t.off>qX||n.off>qX||t.col<0||n.col<0){let s=Math.min(t.off,n.off),a=Math.max(t.off,n.off);for(let l=r;l<=i;l++){let c=e.doc.line(l);c.length<=a&&o.push(Ee.range(c.from+s,c.to+a))}}else{let s=Math.min(t.col,n.col),a=Math.max(t.col,n.col);for(let l=r;l<=i;l++){let c=e.doc.line(l),u=_X(c.text,s,e.tabSize,!0);if(u<0)o.push(Ee.cursor(c.to));else{let f=_X(c.text,a,e.tabSize);o.push(Ee.range(c.from+u,c.from+f))}}}return o}function HIt(e,t){let n=e.coordsAtPos(e.viewport.from);return n?Math.round(Math.abs((n.left-t)/e.defaultCharacterWidth)):-1}function uve(e,t){let n=e.posAtCoords({x:t.clientX,y:t.clientY},!1),r=e.state.doc.lineAt(n),i=n-r.from,o=i>qX?-1:i==r.length?HIt(e,t.clientX):Kf(r.text,e.state.tabSize,n-r.from);return{line:r.number,col:o,off:i}}function ZIt(e,t){let n=uve(e,t),r=e.state.selection;return n?{update(i){if(i.docChanged){let o=i.changes.mapPos(i.startState.doc.line(n.line).from),s=i.state.doc.lineAt(o);n={line:s.number,col:n.col,off:Math.min(n.off,s.length)},r=r.map(i.changes)}},get(i,o,s){let a=uve(e,i);if(!a)return r;let l=XIt(e.state,n,a);return l.length?s?Ee.create(l.concat(r.ranges)):Ee.create(l):r}}:null}function dje(e){let t=(e==null?void 0:e.eventFilter)||(n=>n.altKey&&n.button==0);return nt.mouseSelectionStyle.of((n,r)=>t(r)?ZIt(n,r):null)}const GIt={Alt:[18,e=>!!e.altKey],Control:[17,e=>!!e.ctrlKey],Shift:[16,e=>!!e.shiftKey],Meta:[91,e=>!!e.metaKey]},KIt={style:"cursor: crosshair"};function JIt(e={}){let[t,n]=GIt[e.key||"Alt"],r=Mr.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==t||n(i))},keyup(i){(i.keyCode==t||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,nt.contentAttributes.of(i=>{var o;return!((o=i.plugin(r))===null||o===void 0)&&o.isDown?KIt:null})]}const s$="-10000px";class hje{constructor(t,n,r,i){this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=t.state.facet(n),this.tooltips=this.input.filter(o=>o),this.tooltipViews=this.tooltips.map(r)}update(t,n){var r;let i=t.state.facet(this.facet),o=i.filter(l=>l);if(i===this.input){for(let l of this.tooltipViews)l.update&&l.update(t);return!1}let s=[],a=n?[]:null;for(let l=0;l<o.length;l++){let c=o[l],u=-1;if(c){for(let f=0;f<this.tooltips.length;f++){let d=this.tooltips[f];d&&d.create==c.create&&(u=f)}if(u<0)s[l]=this.createTooltipView(c),a&&(a[l]=!!c.above);else{let f=s[l]=this.tooltipViews[u];a&&(a[l]=n[u]),f.update&&f.update(t)}}}for(let l of this.tooltipViews)s.indexOf(l)<0&&(this.removeTooltipView(l),(r=l.destroy)===null||r===void 0||r.call(l));return n&&(a.forEach((l,c)=>n[c]=l),n.length=a.length),this.input=i,this.tooltips=o,this.tooltipViews=s,!0}}function e5t(e={}){return tI.of(e)}function t5t(e){let{win:t}=e;return{top:0,left:0,bottom:t.innerHeight,right:t.innerWidth}}const tI=mt.define({combine:e=>{var t,n,r;return{position:wt.ios?"absolute":((t=e.find(i=>i.position))===null||t===void 0?void 0:t.position)||"fixed",parent:((n=e.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=e.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||t5t}}}),fve=new WeakMap,qre=Mr.fromClass(class{constructor(e){this.view=e,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let t=e.state.facet(tI);this.position=t.position,this.parent=t.parent,this.classes=e.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new hje(e,Yre,n=>this.createTooltip(n),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),e.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let e of this.manager.tooltipViews)this.intersectionObserver.observe(e.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(e){e.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(e,this.above);t&&this.observeIntersection();let n=t||e.geometryChanged,r=e.state.facet(tI);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(e){let t=e.create(this.view);if(t.dom.classList.add("cm-tooltip"),e.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let n=document.createElement("div");n.className="cm-tooltip-arrow",t.dom.appendChild(n)}return t.dom.style.position=this.position,t.dom.style.top=s$,t.dom.style.left="0px",this.container.appendChild(t.dom),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var e,t,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(e=r.destroy)===null||e===void 0||e.call(r);this.parent&&this.container.remove(),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let e=this.view.dom.getBoundingClientRect(),t=1,n=1,r=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:i}=this.manager.tooltipViews[0];if(wt.gecko)r=i.offsetParent!=this.container.ownerDocument.body;else if(i.style.top==s$&&i.style.left=="0px"){let o=i.getBoundingClientRect();r=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(r||this.position=="absolute")if(this.parent){let i=this.parent.getBoundingClientRect();i.width&&i.height&&(t=i.width/this.parent.offsetWidth,n=i.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:n}=this.view.viewState);return{editor:e,parent:this.parent?this.container.getBoundingClientRect():e,pos:this.manager.tooltips.map((i,o)=>{let s=this.manager.tooltipViews[o];return s.getCoords?s.getCoords(i.pos):this.view.coordsAtPos(i.pos)}),size:this.manager.tooltipViews.map(({dom:i})=>i.getBoundingClientRect()),space:this.view.state.facet(tI).tooltipSpace(this.view),scaleX:t,scaleY:n,makeAbsolute:r}}writeMeasure(e){var t;if(e.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{editor:n,space:r,scaleX:i,scaleY:o}=e,s=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:u}=c,f=e.pos[a],d=e.size[a];if(!f||f.bottom<=Math.max(n.top,r.top)||f.top>=Math.min(n.bottom,r.bottom)||f.right<Math.max(n.left,r.left)-.1||f.left>Math.min(n.right,r.right)+.1){u.style.top=s$;continue}let h=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,p=h?7:0,g=d.right-d.left,y=(t=fve.get(c))!==null&&t!==void 0?t:d.bottom-d.top,v=c.offset||r5t,x=this.view.textDirection==qr.LTR,m=d.width>r.right-r.left?x?r.left:r.right-d.width:x?Math.min(f.left-(h?14:0)+v.x,r.right-g):Math.max(r.left,f.left-g+(h?14:0)-v.x),w=this.above[a];!l.strictSide&&(w?f.top-(d.bottom-d.top)-v.y<r.top:f.bottom+(d.bottom-d.top)+v.y>r.bottom)&&w==r.bottom-f.bottom>f.top-r.top&&(w=this.above[a]=!w);let S=(w?f.top-r.top:r.bottom-f.bottom)-p;if(S<y&&c.resize!==!1){if(S<this.view.defaultLineHeight){u.style.top=s$;continue}fve.set(c,y),u.style.height=(y=S)/o+"px"}else u.style.height&&(u.style.height="");let C=w?f.top-y-p-v.y:f.bottom+p+v.y,$=m+g;if(c.overlap!==!0)for(let E of s)E.left<$&&E.right>m&&E.top<C+y&&E.bottom>C&&(C=w?E.top-y-2-p:E.bottom+p+2);if(this.position=="absolute"?(u.style.top=(C-e.parent.top)/o+"px",u.style.left=(m-e.parent.left)/i+"px"):(u.style.top=C/o+"px",u.style.left=m/i+"px"),h){let E=f.left+(x?v.x:-v.x)-(m+14-7);h.style.left=E/i+"px"}c.overlap!==!0&&s.push({left:m,top:C,right:$,bottom:C+y}),u.classList.toggle("cm-tooltip-above",w),u.classList.toggle("cm-tooltip-below",!w),c.positioned&&c.positioned(e.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let e of this.manager.tooltipViews)e.dom.style.top=s$}},{eventObservers:{scroll(){this.maybeMeasure()}}}),n5t=nt.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),r5t={x:0,y:0},Yre=mt.define({enables:[qre,n5t]}),v3=mt.define();class Q6{static create(t){return new Q6(t)}constructor(t){this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new hje(t,v3,n=>this.createHostedView(n),n=>n.dom.remove())}createHostedView(t){let n=t.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(n.dom),this.mounted&&n.mount&&n.mount(this.view),n}mount(t){for(let n of this.manager.tooltipViews)n.mount&&n.mount(t);this.mounted=!0}positioned(t){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(t)}update(t){this.manager.update(t)}destroy(){var t;for(let n of this.manager.tooltipViews)(t=n.destroy)===null||t===void 0||t.call(n)}passProp(t){let n;for(let r of this.manager.tooltipViews){let i=r[t];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const i5t=Yre.compute([v3],e=>{let t=e.facet(v3).filter(n=>n);return t.length===0?null:{pos:Math.min(...t.map(n=>n.pos)),end:Math.max(...t.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:Q6.create,above:t[0].above,arrow:t.some(n=>n.arrow)}});class o5t{constructor(t,n,r,i,o){this.view=t,this.source=n,this.field=r,this.setHover=i,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let t=Date.now()-this.lastMove.time;t<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-t):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:t,lastMove:n}=this,r=t.docView.nearest(n.target);if(!r)return;let i,o=1;if(r instanceof Bm)i=r.posAtStart;else{if(i=t.posAtCoords(n),i==null)return;let a=t.coordsAtPos(i);if(!a||n.y<a.top||n.y>a.bottom||n.x<a.left-t.defaultCharacterWidth||n.x>a.right+t.defaultCharacterWidth)return;let l=t.bidiSpans(t.state.doc.lineAt(i)).find(u=>u.from<=i&&u.to>=i),c=l&&l.dir==qr.RTL?-1:1;o=n.x<a.left?-c:c}let s=this.source(t,i,o);if(s!=null&&s.then){let a=this.pending={pos:i};s.then(l=>{this.pending==a&&(this.pending=null,l&&t.dispatch({effects:this.setHover.of(l)}))},l=>ku(t.state,l,"hover tooltip"))}else s&&t.dispatch({effects:this.setHover.of(s)})}get tooltip(){let t=this.view.plugin(qre),n=t?t.manager.tooltips.findIndex(r=>r.create==Q6.create):-1;return n>-1?t.manager.tooltipViews[n]:null}mousemove(t){var n;this.lastMove={x:t.clientX,y:t.clientY,target:t.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:r,tooltip:i}=this;if(r&&i&&!s5t(i.dom,t)||this.pending){let{pos:o}=r||this.pending,s=(n=r==null?void 0:r.end)!==null&&n!==void 0?n:o;(o==s?this.view.posAtCoords(this.lastMove)!=o:!a5t(this.view,o,s,t.clientX,t.clientY))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(t){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n){let{tooltip:r}=this;r&&r.dom.contains(t.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of(null)})}}watchTooltipLeave(t){let n=r=>{t.removeEventListener("mouseleave",n),this.active&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})};t.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const QD=4;function s5t(e,t){let n=e.getBoundingClientRect();return t.clientX>=n.left-QD&&t.clientX<=n.right+QD&&t.clientY>=n.top-QD&&t.clientY<=n.bottom+QD}function a5t(e,t,n,r,i,o){let s=e.scrollDOM.getBoundingClientRect(),a=e.documentTop+e.documentPadding.top+e.contentHeight;if(s.left>r||s.right<r||s.top>i||Math.min(s.bottom,a)<i)return!1;let l=e.posAtCoords({x:r,y:i},!1);return l>=t&&l<=n}function Xre(e,t={}){let n=Vt.define(),r=qi.define({create(){return null},update(i,o){if(i&&(t.hideOnChange&&(o.docChanged||o.selection)||t.hideOn&&t.hideOn(o,i)))return null;if(i&&o.docChanged){let s=o.changes.mapPos(i.pos,-1,Lo.TrackDel);if(s==null)return null;let a=Object.assign(Object.create(null),i);a.pos=s,i.end!=null&&(a.end=o.changes.mapPos(i.end)),i=a}for(let s of o.effects)s.is(n)&&(i=s.value),s.is(l5t)&&(i=null);return i},provide:i=>v3.from(i)});return[r,Mr.define(i=>new o5t(i,e,r,n,t.hoverTime||300)),i5t]}function pje(e,t){let n=e.plugin(qre);if(!n)return null;let r=n.manager.tooltips.indexOf(t);return r<0?null:n.manager.tooltipViews[r]}const l5t=Vt.define(),dve=mt.define({combine(e){let t,n;for(let r of e)t=t||r.topContainer,n=n||r.bottomContainer;return{topContainer:t,bottomContainer:n}}});function p2(e,t){let n=e.plugin(gje),r=n?n.specs.indexOf(t):-1;return r>-1?n.panels[r]:null}const gje=Mr.fromClass(class{constructor(e){this.input=e.state.facet(Gy),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(e));let t=e.state.facet(dve);this.top=new BD(e,!0,t.topContainer),this.bottom=new BD(e,!1,t.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(e){let t=e.state.facet(dve);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new BD(e.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new BD(e.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=e.state.facet(Gy);if(n!=this.input){let r=n.filter(l=>l),i=[],o=[],s=[],a=[];for(let l of r){let c=this.specs.indexOf(l),u;c<0?(u=l(e.view),a.push(u)):(u=this.panels[c],u.update&&u.update(e)),i.push(u),(u.top?o:s).push(u)}this.specs=r,this.panels=i,this.top.sync(o),this.bottom.sync(s);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(e)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:e=>nt.scrollMargins.of(t=>{let n=t.plugin(e);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});let BD=class{constructor(t,n,r){this.view=t,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(t){for(let n of this.panels)n.destroy&&t.indexOf(n)<0&&n.destroy();this.panels=t,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let t=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;t!=n.dom;)t=hve(t);t=t.nextSibling}else this.dom.insertBefore(n.dom,t);for(;t;)t=hve(t)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let t of this.classes.split(" "))t&&this.container.classList.remove(t);for(let t of(this.classes=this.view.themeClasses).split(" "))t&&this.container.classList.add(t)}}};function hve(e){let t=e.nextSibling;return e.remove(),t}const Gy=mt.define({enables:gje});class gg extends K1{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}}gg.prototype.elementClass="";gg.prototype.toDOM=void 0;gg.prototype.mapMode=Lo.TrackBefore;gg.prototype.startSide=gg.prototype.endSide=-1;gg.prototype.point=!0;const nI=mt.define(),c5t={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Wn.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Ck=mt.define();function u5t(e){return[mje(),Ck.of(Object.assign(Object.assign({},c5t),e))]}const YX=mt.define({combine:e=>e.some(t=>t)});function mje(e){let t=[f5t];return e&&e.fixed===!1&&t.push(YX.of(!0)),t}const f5t=Mr.fromClass(class{constructor(e){this.view=e,this.prevViewport=e.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=e.state.facet(Ck).map(t=>new gve(e,t));for(let t of this.gutters)this.dom.appendChild(t.dom);this.fixed=!e.state.facet(YX),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),e.scrollDOM.insertBefore(this.dom,e.contentDOM)}update(e){if(this.updateGutters(e)){let t=this.prevViewport,n=e.view.viewport,r=Math.min(t.to,n.to)-Math.max(t.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}e.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(YX)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=e.view.viewport}syncGutters(e){let t=this.dom.nextSibling;e&&this.dom.remove();let n=Wn.iter(this.view.state.facet(nI),this.view.viewport.from),r=[],i=this.gutters.map(o=>new d5t(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(o.type)){let s=!0;for(let a of o.type)if(a.type==Za.Text&&s){XX(n,r,a.from);for(let l of i)l.line(this.view,a,r);s=!1}else if(a.widget)for(let l of i)l.widget(this.view,a)}else if(o.type==Za.Text){XX(n,r,o.from);for(let s of i)s.line(this.view,o,r)}else if(o.widget)for(let s of i)s.widget(this.view,o);for(let o of i)o.finish();e&&this.view.scrollDOM.insertBefore(this.dom,t)}updateGutters(e){let t=e.startState.facet(Ck),n=e.state.facet(Ck),r=e.docChanged||e.heightChanged||e.viewportChanged||!Wn.eq(e.startState.facet(nI),e.state.facet(nI),e.view.viewport.from,e.view.viewport.to);if(t==n)for(let i of this.gutters)i.update(e)&&(r=!0);else{r=!0;let i=[];for(let o of n){let s=t.indexOf(o);s<0?i.push(new gve(this.view,o)):(this.gutters[s].update(e),i.push(this.gutters[s]))}for(let o of this.gutters)o.dom.remove(),i.indexOf(o)<0&&o.destroy();for(let o of i)this.dom.appendChild(o.dom);this.gutters=i}return r}destroy(){for(let e of this.gutters)e.destroy();this.dom.remove()}},{provide:e=>nt.scrollMargins.of(t=>{let n=t.plugin(e);return!n||n.gutters.length==0||!n.fixed?null:t.textDirection==qr.LTR?{left:n.dom.offsetWidth*t.scaleX}:{right:n.dom.offsetWidth*t.scaleX}})});function pve(e){return Array.isArray(e)?e:[e]}function XX(e,t,n){for(;e.value&&e.from<=n;)e.from==n&&t.push(e.value),e.next()}class d5t{constructor(t,n,r){this.gutter=t,this.height=r,this.i=0,this.cursor=Wn.iter(t.markers,n.from)}addElement(t,n,r){let{gutter:i}=this,o=(n.top-this.height)/t.scaleY,s=n.height/t.scaleY;if(this.i==i.elements.length){let a=new yje(t,s,o,r);i.elements.push(a),i.dom.appendChild(a.dom)}else i.elements[this.i].update(t,s,o,r);this.height=n.bottom,this.i++}line(t,n,r){let i=[];XX(this.cursor,i,n.from),r.length&&(i=i.concat(r));let o=this.gutter.config.lineMarker(t,n,i);o&&i.unshift(o);let s=this.gutter;i.length==0&&!s.config.renderEmptyElements||this.addElement(t,n,i)}widget(t,n){let r=this.gutter.config.widgetMarker(t,n.widget,n);r&&this.addElement(t,n,[r])}finish(){let t=this.gutter;for(;t.elements.length>this.i;){let n=t.elements.pop();t.dom.removeChild(n.dom),n.destroy()}}}class gve{constructor(t,n){this.view=t,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let o=i.target,s;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let l=o.getBoundingClientRect();s=(l.top+l.bottom)/2}else s=i.clientY;let a=t.lineBlockAtHeight(s-t.documentTop);n.domEventHandlers[r](t,a,i)&&i.preventDefault()});this.markers=pve(n.markers(t)),n.initialSpacer&&(this.spacer=new yje(t,0,0,[n.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let n=this.markers;if(this.markers=pve(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],t);i!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[i])}let r=t.view.viewport;return!Wn.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(t):!1)}destroy(){for(let t of this.elements)t.destroy()}}class yje{constructor(t,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,n,r,i)}update(t,n,r,i){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),h5t(this.markers,i)||this.setMarkers(t,i)}setMarkers(t,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let o=0,s=0;;){let a=s,l=o<n.length?n[o++]:null,c=!1;if(l){let u=l.elementClass;u&&(r+=" "+u);for(let f=s;f<this.markers.length;f++)if(this.markers[f].compare(l)){a=f,c=!0;break}}else a=this.markers.length;for(;s<a;){let u=this.markers[s++];if(u.toDOM){u.destroy(i);let f=i.nextSibling;i.remove(),i=f}}if(!l)break;l.toDOM&&(c?i=i.nextSibling:this.dom.insertBefore(l.toDOM(t),i)),c&&s++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function h5t(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].compare(t[n]))return!1;return!0}const p5t=mt.define(),Vx=mt.define({combine(e){return Bh(e,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,n){let r=Object.assign({},t);for(let i in n){let o=r[i],s=n[i];r[i]=o?(a,l,c)=>o(a,l,c)||s(a,l,c):s}return r}})}});class EB extends gg{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}}function kB(e,t){return e.state.facet(Vx).formatNumber(t,e.state)}const g5t=Ck.compute([Vx],e=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(t){return t.state.facet(p5t)},lineMarker(t,n,r){return r.some(i=>i.toDOM)?null:new EB(kB(t,t.state.doc.lineAt(n.from).number))},widgetMarker:()=>null,lineMarkerChange:t=>t.startState.facet(Vx)!=t.state.facet(Vx),initialSpacer(t){return new EB(kB(t,mve(t.state.doc.lines)))},updateSpacer(t,n){let r=kB(n.view,mve(n.view.state.doc.lines));return r==t.number?t:new EB(r)},domEventHandlers:e.facet(Vx).domEventHandlers}));function vje(e={}){return[Vx.of(e),mje(),g5t]}function mve(e){let t=9;for(;t<e;)t=t*10+9;return t}const m5t=new class extends gg{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},y5t=nI.compute(["selection"],e=>{let t=[],n=-1;for(let r of e.selection.ranges){let i=e.doc.lineAt(r.head).from;i>n&&(n=i,t.push(m5t.range(i)))}return Wn.of(t)});function bje(){return y5t}let v5t=0;class gf{constructor(t,n,r){this.set=t,this.base=n,this.modified=r,this.id=v5t++}static define(t){if(t!=null&&t.base)throw new Error("Can not derive from a modified tag");let n=new gf([],null,[]);if(n.set.push(n),t)for(let r of t.set)n.set.push(r);return n}static defineModifier(){let t=new b3;return n=>n.modified.indexOf(t)>-1?n:b3.get(n.base||n,n.modified.concat(t).sort((r,i)=>r.id-i.id))}}let b5t=0;class b3{constructor(){this.instances=[],this.id=b5t++}static get(t,n){if(!n.length)return t;let r=n[0].instances.find(a=>a.base==t&&O5t(n,a.modified));if(r)return r;let i=[],o=new gf(i,t,n);for(let a of n)a.instances.push(o);let s=x5t(n);for(let a of t.set)if(!a.modified.length)for(let l of s)i.push(b3.get(a,l));return o}}function O5t(e,t){return e.length==t.length&&e.every((n,r)=>n==t[r])}function x5t(e){let t=[[]];for(let n=0;n<e.length;n++)for(let r=0,i=t.length;r<i;r++)t.push(t[r].concat(e[n]));return t.sort((n,r)=>r.length-n.length)}function Hb(e){let t=Object.create(null);for(let n in e){let r=e[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let o=[],s=2,a=i;for(let f=0;;){if(a=="..."&&f>0&&f+3==i.length){s=1;break}let d=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!d)throw new RangeError("Invalid path: "+i);if(o.push(d[0]=="*"?"":d[0][0]=='"'?JSON.parse(d[0]):d[0]),f+=d[0].length,f==i.length)break;let h=i[f++];if(f==i.length&&h=="!"){s=0;break}if(h!="/")throw new RangeError("Invalid path: "+i);a=i.slice(f)}let l=o.length-1,c=o[l];if(!c)throw new RangeError("Invalid path: "+i);let u=new O3(r,s,l>0?o.slice(0,l):null);t[c]=u.sort(t[c])}}return Oje.add(t)}const Oje=new Yt;class O3{constructor(t,n,r,i){this.tags=t,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}O3.empty=new O3([],2,null);function xje(e,t){let n=Object.create(null);for(let o of e)if(!Array.isArray(o.tag))n[o.tag.id]=o.class;else for(let s of o.tag)n[s.id]=o.class;let{scope:r,all:i=null}=t||{};return{style:o=>{let s=i;for(let a of o)for(let l of a.set){let c=n[l.id];if(c){s=s?s+" "+c:c;break}}return s},scope:r}}function w5t(e,t){let n=null;for(let r of e){let i=r.style(t);i&&(n=n?n+" "+i:i)}return n}function S5t(e,t,n,r=0,i=e.length){let o=new _5t(r,Array.isArray(t)?t:[t],n);o.highlightRange(e.cursor(),r,i,"",o.highlighters),o.flush(i)}class _5t{constructor(t,n,r){this.at=t,this.highlighters=n,this.span=r,this.class=""}startSpan(t,n){n!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=n)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,n,r,i,o){let{type:s,from:a,to:l}=t;if(a>=r||l<=n)return;s.isTop&&(o=this.highlighters.filter(h=>!h.scope||h.scope(s)));let c=i,u=C5t(t)||O3.empty,f=w5t(o,u.tags);if(f&&(c&&(c+=" "),c+=f,u.mode==1&&(i+=(i?" ":"")+f)),this.startSpan(Math.max(n,a),c),u.opaque)return;let d=t.tree&&t.tree.prop(Yt.mounted);if(d&&d.overlay){let h=t.node.enter(d.overlay[0].from+a,1),p=this.highlighters.filter(y=>!y.scope||y.scope(d.tree.type)),g=t.firstChild();for(let y=0,v=a;;y++){let x=y<d.overlay.length?d.overlay[y]:null,m=x?x.from+a:l,w=Math.max(n,v),S=Math.min(r,m);if(w<S&&g)for(;t.from<S&&(this.highlightRange(t,w,S,i,o),this.startSpan(Math.min(S,t.to),c),!(t.to>=m||!t.nextSibling())););if(!x||m>r)break;v=x.to+a,v>n&&(this.highlightRange(h.cursor(),Math.max(n,x.from+a),Math.min(r,v),"",p),this.startSpan(Math.min(r,v),c))}g&&t.parent()}else if(t.firstChild()){d&&(i="");do if(!(t.to<=n)){if(t.from>=r)break;this.highlightRange(t,n,r,i,o),this.startSpan(Math.min(r,t.to),c)}while(t.nextSibling());t.parent()}}}function C5t(e){let t=e.type.prop(Oje);for(;t&&t.context&&!e.matchContext(t.context);)t=t.next;return t||null}const st=gf.define,WD=st(),Om=st(),yve=st(Om),vve=st(Om),xm=st(),VD=st(xm),TB=st(xm),Rd=st(),ev=st(Rd),$d=st(),Ed=st(),HX=st(),a$=st(HX),UD=st(),G={comment:WD,lineComment:st(WD),blockComment:st(WD),docComment:st(WD),name:Om,variableName:st(Om),typeName:yve,tagName:st(yve),propertyName:vve,attributeName:st(vve),className:st(Om),labelName:st(Om),namespace:st(Om),macroName:st(Om),literal:xm,string:VD,docString:st(VD),character:st(VD),attributeValue:st(VD),number:TB,integer:st(TB),float:st(TB),bool:st(xm),regexp:st(xm),escape:st(xm),color:st(xm),url:st(xm),keyword:$d,self:st($d),null:st($d),atom:st($d),unit:st($d),modifier:st($d),operatorKeyword:st($d),controlKeyword:st($d),definitionKeyword:st($d),moduleKeyword:st($d),operator:Ed,derefOperator:st(Ed),arithmeticOperator:st(Ed),logicOperator:st(Ed),bitwiseOperator:st(Ed),compareOperator:st(Ed),updateOperator:st(Ed),definitionOperator:st(Ed),typeOperator:st(Ed),controlOperator:st(Ed),punctuation:HX,separator:st(HX),bracket:a$,angleBracket:st(a$),squareBracket:st(a$),paren:st(a$),brace:st(a$),content:Rd,heading:ev,heading1:st(ev),heading2:st(ev),heading3:st(ev),heading4:st(ev),heading5:st(ev),heading6:st(ev),contentSeparator:st(Rd),list:st(Rd),quote:st(Rd),emphasis:st(Rd),strong:st(Rd),link:st(Rd),monospace:st(Rd),strikethrough:st(Rd),inserted:st(),deleted:st(),changed:st(),invalid:st(),meta:UD,documentMeta:st(UD),annotation:st(UD),processingInstruction:st(UD),definition:gf.defineModifier(),constant:gf.defineModifier(),function:gf.defineModifier(),standard:gf.defineModifier(),local:gf.defineModifier(),special:gf.defineModifier()};xje([{tag:G.link,class:"tok-link"},{tag:G.heading,class:"tok-heading"},{tag:G.emphasis,class:"tok-emphasis"},{tag:G.strong,class:"tok-strong"},{tag:G.keyword,class:"tok-keyword"},{tag:G.atom,class:"tok-atom"},{tag:G.bool,class:"tok-bool"},{tag:G.url,class:"tok-url"},{tag:G.labelName,class:"tok-labelName"},{tag:G.inserted,class:"tok-inserted"},{tag:G.deleted,class:"tok-deleted"},{tag:G.literal,class:"tok-literal"},{tag:G.string,class:"tok-string"},{tag:G.number,class:"tok-number"},{tag:[G.regexp,G.escape,G.special(G.string)],class:"tok-string2"},{tag:G.variableName,class:"tok-variableName"},{tag:G.local(G.variableName),class:"tok-variableName tok-local"},{tag:G.definition(G.variableName),class:"tok-variableName tok-definition"},{tag:G.special(G.variableName),class:"tok-variableName2"},{tag:G.definition(G.propertyName),class:"tok-propertyName tok-definition"},{tag:G.typeName,class:"tok-typeName"},{tag:G.namespace,class:"tok-namespace"},{tag:G.className,class:"tok-className"},{tag:G.macroName,class:"tok-macroName"},{tag:G.propertyName,class:"tok-propertyName"},{tag:G.operator,class:"tok-operator"},{tag:G.comment,class:"tok-comment"},{tag:G.meta,class:"tok-meta"},{tag:G.invalid,class:"tok-invalid"},{tag:G.punctuation,class:"tok-punctuation"}]);var PB;const Vm=new Yt;function B6(e){return mt.define({combine:e?t=>t.concat(e):void 0})}const Hre=new Yt;class Cl{constructor(t,n,r=[],i=""){this.data=t,this.name=i,gn.prototype.hasOwnProperty("tree")||Object.defineProperty(gn.prototype,"tree",{get(){return br(this)}}),this.parser=n,this.extension=[Ky.of(this),gn.languageData.of((o,s,a)=>{let l=bve(o,s,a),c=l.type.prop(Vm);if(!c)return[];let u=o.facet(c),f=l.type.prop(Hre);if(f){let d=l.resolve(s-l.from,a);for(let h of f)if(h.test(d,o)){let p=o.facet(h.facet);return h.type=="replace"?p:p.concat(u)}}return u})].concat(r)}isActiveAt(t,n,r=-1){return bve(t,n,r).type.prop(Vm)==this.data}findRegions(t){let n=t.facet(Ky);if((n==null?void 0:n.data)==this.data)return[{from:0,to:t.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(o,s)=>{if(o.prop(Vm)==this.data){r.push({from:s,to:s+o.length});return}let a=o.prop(Yt.mounted);if(a){if(a.tree.prop(Vm)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+s,to:l.to+s});else r.push({from:s,to:s+o.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+s),r.length>l)return}}for(let l=0;l<o.children.length;l++){let c=o.children[l];c instanceof Qn&&i(c,o.positions[l]+s)}};return i(br(t),0),r}get allowsNesting(){return!0}}Cl.setState=Vt.define();function bve(e,t,n){let r=e.facet(Ky),i=br(e).topNode;if(!r||r.allowsNesting)for(let o=i;o;o=o.enter(t,n,Dr.ExcludeBuffers))o.type.isTop&&(i=o);return i}class tb extends Cl{constructor(t,n,r){super(t,n,[],r),this.parser=n}static define(t){let n=B6(t.languageData);return new tb(n,t.parser.configure({props:[Vm.add(r=>r.isTop?n:void 0)]}),t.name)}configure(t,n){return new tb(this.data,this.parser.configure(t),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function br(e){let t=e.field(Cl.state,!1);return t?t.tree:Qn.empty}function wje(e,t,n=50){var r;let i=(r=e.field(Cl.state,!1))===null||r===void 0?void 0:r.context;if(!i)return null;let o=i.viewport;i.updateViewport({from:0,to:t});let s=i.isDone(t)||i.work(n,t)?i.tree:null;return i.updateViewport(o),s}class $5t{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,n){let r=this.cursorPos-this.string.length;return t<r||n>=this.cursorPos?this.doc.sliceString(t,n):this.string.slice(t-r,n-r)}}let l$=null;class nb{constructor(t,n,r=[],i,o,s,a,l){this.parser=t,this.state=n,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=s,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(t,n,r){return new nb(t,n,[],Qn.empty,0,r,[],null)}startParse(){return this.parser.startParse(new $5t(this.state.doc),this.fragments)}work(t,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Qn.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof t=="number"){let i=Date.now()+t;t=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Hp.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(t())return!1}})}takeTree(){let t,n;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=t,this.tree=n,this.fragments=this.withoutTempSkipped(Hp.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let n=l$;l$=this;try{return t()}finally{l$=n}}withoutTempSkipped(t){for(let n;n=this.tempSkipped.pop();)t=Ove(t,n.from,n.to);return t}changes(t,n){let{fragments:r,tree:i,treeLen:o,viewport:s,skipped:a}=this;if(this.takeTree(),!t.empty){let l=[];if(t.iterChangedRanges((c,u,f,d)=>l.push({fromA:c,toA:u,fromB:f,toB:d})),r=Hp.applyChanges(r,l),i=Qn.empty,o=0,s={from:t.mapPos(s.from,-1),to:t.mapPos(s.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=t.mapPos(c.from,1),f=t.mapPos(c.to,-1);u<f&&a.push({from:u,to:f})}}}return new nb(this.parser,n,r,i,o,s,a,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:o}=this.skipped[r];i<t.to&&o>t.from&&(this.fragments=Ove(this.fragments,i,o),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,n){this.skipped.push({from:t,to:n})}static getSkippingParser(t){return new class extends L6{createParse(n,r,i){let o=i[0].from,s=i[i.length-1].to;return{parsedPos:o,advance(){let l=l$;if(l){for(let c of i)l.tempSkipped.push(c);t&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,t]):t)}return this.parsedPos=s,new Qn(vo.none,[],[],s-o)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let n=this.fragments;return this.treeLen>=t&&n.length&&n[0].from==0&&n[0].to>=t}static get(){return l$}}function Ove(e,t,n){return Hp.applyChanges(e,[{fromA:t,toA:n,fromB:t,toB:n}])}class OS{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(t.changes,t.state),r=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new OS(n)}static init(t){let n=Math.min(3e3,t.doc.length),r=nb.create(t.facet(Ky).parser,t,{from:0,to:n});return r.work(20,n)||r.takeTree(),new OS(r)}}Cl.state=qi.define({create:OS.init,update(e,t){for(let n of t.effects)if(n.is(Cl.setState))return n.value;return t.startState.facet(Ky)!=t.state.facet(Ky)?OS.init(t.state):e.apply(t)}});let Sje=e=>{let t=setTimeout(()=>e(),500);return()=>clearTimeout(t)};typeof requestIdleCallback<"u"&&(Sje=e=>{let t=-1,n=setTimeout(()=>{t=requestIdleCallback(e,{timeout:400})},100);return()=>t<0?clearTimeout(n):cancelIdleCallback(t)});const RB=typeof navigator<"u"&&(!((PB=navigator.scheduling)===null||PB===void 0)&&PB.isInputPending)?()=>navigator.scheduling.isInputPending():null,E5t=Mr.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let n=this.view.state.field(Cl.state).context;(n.updateViewport(t.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:t}=this.view,n=t.field(Cl.state);(n.tree!=n.context.tree||!n.context.isDone(t.doc.length))&&(this.working=Sje(this.work))}work(t){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,o=r.field(Cl.state);if(o.tree==o.context.tree&&o.context.isDone(i+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,t&&!RB?Math.max(25,t.timeRemaining()-5):1e9),a=o.context.treeLen<i&&r.doc.length>i+1e3,l=o.context.work(()=>RB&&RB()||Date.now()>s,i+(a?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:Cl.setState.of(new OS(o.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then(()=>this.scheduleWork()).catch(n=>ku(this.view.state,n)).then(()=>this.workScheduled--),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Ky=mt.define({combine(e){return e.length?e[0]:null},enables:e=>[Cl.state,E5t,nt.contentAttributes.compute([e],t=>{let n=t.facet(e);return n&&n.name?{"data-language":n.name}:{}})]});class Jy{constructor(t,n=[]){this.language=t,this.support=n,this.extension=[t,n]}}class Ce{constructor(t,n,r,i,o,s=void 0){this.name=t,this.alias=n,this.extensions=r,this.filename=i,this.loadFunc=o,this.support=s,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(t=>this.support=t,t=>{throw this.loading=null,t}))}static of(t){let{load:n,support:r}=t;if(!n){if(!r)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");n=()=>Promise.resolve(r)}return new Ce(t.name,(t.alias||[]).concat(t.name).map(i=>i.toLowerCase()),t.extensions||[],t.filename,n,r)}static matchFilename(t,n){for(let i of t)if(i.filename&&i.filename.test(n))return i;let r=/\.([^.]+)$/.exec(n);if(r){for(let i of t)if(i.extensions.indexOf(r[1])>-1)return i}return null}static matchLanguageName(t,n,r=!0){n=n.toLowerCase();for(let i of t)if(i.alias.some(o=>o==n))return i;if(r)for(let i of t)for(let o of i.alias){let s=n.indexOf(o);if(s>-1&&(o.length>2||!/\w/.test(n[s-1])&&!/\w/.test(n[s+o.length])))return i}return null}}const _je=mt.define(),mg=mt.define({combine:e=>{if(!e.length)return"  ";let t=e[0];if(!t||/\S/.test(t)||Array.from(t).some(n=>n!=t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(e[0]));return t}});function rb(e){let t=e.facet(mg);return t.charCodeAt(0)==9?e.tabSize*t.length:t.length}function g2(e,t){let n="",r=e.tabSize,i=e.facet(mg)[0];if(i=="	"){for(;t>=r;)n+="	",t-=r;i=" "}for(let o=0;o<t;o++)n+=i;return n}function Zre(e,t){e instanceof gn&&(e=new W6(e));for(let r of e.state.facet(_je)){let i=r(e,t);if(i!==void 0)return i}let n=br(e.state);return n.length>=t?k5t(e,n,t):null}class W6{constructor(t,n={}){this.state=t,this.options=n,this.unit=rb(t)}lineAt(t,n=1){let r=this.state.doc.lineAt(t),{simulateBreak:i,simulateDoubleBreak:o}=this.options;return i!=null&&i>=r.from&&i<=r.to?o&&i==t?{text:"",from:t}:(n<0?i<t:i<=t)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(t,n=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(t,n);return r.slice(t-i,Math.min(r.length,t+100-i))}column(t,n=1){let{text:r,from:i}=this.lineAt(t,n),o=this.countColumn(r,t-i),s=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return s>-1&&(o+=s-this.countColumn(r,r.search(/\S|$/))),o}countColumn(t,n=t.length){return Kf(t,this.state.tabSize,n)}lineIndent(t,n=1){let{text:r,from:i}=this.lineAt(t,n),o=this.options.overrideIndentation;if(o){let s=o(i);if(s>-1)return s}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const eC=new Yt;function k5t(e,t,n){let r=t.resolveStack(n),i=r.node.enterUnfinishedNodesBefore(n);if(i!=r.node){let o=[];for(let s=i;s!=r.node;s=s.parent)o.push(s);for(let s=o.length-1;s>=0;s--)r={node:o[s],next:r}}return Cje(r,e,n)}function Cje(e,t,n){for(let r=e;r;r=r.next){let i=P5t(r.node);if(i)return i(Gre.create(t,n,r))}return 0}function T5t(e){return e.pos==e.options.simulateBreak&&e.options.simulateDoubleBreak}function P5t(e){let t=e.type.prop(eC);if(t)return t;let n=e.firstChild,r;if(n&&(r=n.type.prop(Yt.closedBy))){let i=e.lastChild,o=i&&r.indexOf(i.name)>-1;return s=>$je(s,!0,1,void 0,o&&!T5t(s)?i.from:void 0)}return e.parent==null?R5t:null}function R5t(){return 0}class Gre extends W6{constructor(t,n,r){super(t.state,t.options),this.base=t,this.pos=n,this.context=r}get node(){return this.context.node}static create(t,n,r){return new Gre(t,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(t){let n=this.state.doc.lineAt(t.from);for(;;){let r=t.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(A5t(r,t))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return Cje(this.context.next,this.base,this.pos)}}function A5t(e,t){for(let n=t;n;n=n.parent)if(e==n)return!0;return!1}function D5t(e){let t=e.node,n=t.childAfter(t.from),r=t.lastChild;if(!n)return null;let i=e.options.simulateBreak,o=e.state.doc.lineAt(n.from),s=i==null||i<=o.from?o.to:Math.min(o.to,i);for(let a=n.to;;){let l=t.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped)return l.from<s?n:null;a=l.to}}function rI({closing:e,align:t=!0,units:n=1}){return r=>$je(r,t,n,e)}function $je(e,t,n,r,i){let o=e.textAfter,s=o.match(/^\s*/)[0].length,a=r&&o.slice(s,s+r.length)==r||i==e.pos+s,l=t?D5t(e):null;return l?a?e.column(l.from):e.column(l.to):e.baseIndent+(a?0:e.unit*n)}const N5t=e=>e.baseIndent;function iI({except:e,units:t=1}={}){return n=>{let r=e&&e.test(n.textAfter);return n.baseIndent+(r?0:t*n.unit)}}const M5t=200;function Eje(){return gn.transactionFilter.of(e=>{if(!e.docChanged||!e.isUserEvent("input.type")&&!e.isUserEvent("input.complete"))return e;let t=e.startState.languageDataAt("indentOnInput",e.startState.selection.main.head);if(!t.length)return e;let n=e.newDoc,{head:r}=e.newSelection.main,i=n.lineAt(r);if(r>i.from+M5t)return e;let o=n.sliceString(i.from,r);if(!t.some(c=>c.test(o)))return e;let{state:s}=e,a=-1,l=[];for(let{head:c}of s.selection.ranges){let u=s.doc.lineAt(c);if(u.from==a)continue;a=u.from;let f=Zre(s,u.from);if(f==null)continue;let d=/^\s*/.exec(u.text)[0],h=g2(s,f);d!=h&&l.push({from:u.from,to:u.from+d.length,insert:h})}return l.length?[e,{changes:l,sequential:!0}]:e})}const kje=mt.define(),R0=new Yt;function m2(e){let t=e.firstChild,n=e.lastChild;return t&&t.to<n.from?{from:t.to,to:n.type.isError?e.to:n.from}:null}function I5t(e,t,n){let r=br(e);if(r.length<n)return null;let i=r.resolveStack(n,1),o=null;for(let s=i;s;s=s.next){let a=s.node;if(a.to<=n||a.from>n)continue;if(o&&a.from<t)break;let l=a.type.prop(R0);if(l&&(a.to<r.length-50||r.length==e.doc.length||!L5t(a))){let c=l(a,e);c&&c.from<=n&&c.from>=t&&c.to>n&&(o=c)}}return o}function L5t(e){let t=e.lastChild;return t&&t.to==e.to&&t.type.isError}function x3(e,t,n){for(let r of e.facet(kje)){let i=r(e,t,n);if(i)return i}return I5t(e,t,n)}function Tje(e,t){let n=t.mapPos(e.from,1),r=t.mapPos(e.to,-1);return n>=r?void 0:{from:n,to:r}}const V6=Vt.define({map:Tje}),dR=Vt.define({map:Tje});function Pje(e){let t=[];for(let{head:n}of e.state.selection.ranges)t.some(r=>r.from<=n&&r.to>=n)||t.push(e.lineBlockAt(n));return t}const ib=qi.define({create(){return vt.none},update(e,t){e=e.map(t.changes);for(let n of t.effects)if(n.is(V6)&&!j5t(e,n.value.from,n.value.to)){let{preparePlaceholder:r}=t.state.facet(Kre),i=r?vt.replace({widget:new Q5t(r(t.state,n.value))}):xve;e=e.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(dR)&&(e=e.update({filter:(r,i)=>n.value.from!=r||n.value.to!=i,filterFrom:n.value.from,filterTo:n.value.to}));if(t.selection){let n=!1,{head:r}=t.selection.main;e.between(r,r,(i,o)=>{i<r&&o>r&&(n=!0)}),n&&(e=e.update({filterFrom:r,filterTo:r,filter:(i,o)=>o<=r||i>=r}))}return e},provide:e=>nt.decorations.from(e),toJSON(e,t){let n=[];return e.between(0,t.doc.length,(r,i)=>{n.push(r,i)}),n},fromJSON(e){if(!Array.isArray(e)||e.length%2)throw new RangeError("Invalid JSON for fold state");let t=[];for(let n=0;n<e.length;){let r=e[n++],i=e[n++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");t.push(xve.range(r,i))}return vt.set(t,!0)}});function w3(e,t,n){var r;let i=null;return(r=e.field(ib,!1))===null||r===void 0||r.between(t,n,(o,s)=>{(!i||i.from>o)&&(i={from:o,to:s})}),i}function j5t(e,t,n){let r=!1;return e.between(t,t,(i,o)=>{i==t&&o==n&&(r=!0)}),r}function Rje(e,t){return e.field(ib,!1)?t:t.concat(Vt.appendConfig.of(Lje()))}const Aje=e=>{for(let t of Pje(e)){let n=x3(e.state,t.from,t.to);if(n)return e.dispatch({effects:Rje(e.state,[V6.of(n),Dje(e,n)])}),!0}return!1},F5t=e=>{if(!e.state.field(ib,!1))return!1;let t=[];for(let n of Pje(e)){let r=w3(e.state,n.from,n.to);r&&t.push(dR.of(r),Dje(e,r,!1))}return t.length&&e.dispatch({effects:t}),t.length>0};function Dje(e,t,n=!0){let r=e.state.doc.lineAt(t.from).number,i=e.state.doc.lineAt(t.to).number;return nt.announce.of(`${e.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${e.state.phrase("to")} ${i}.`)}const Nje=e=>{let{state:t}=e,n=[];for(let r=0;r<t.doc.length;){let i=e.lineBlockAt(r),o=x3(t,i.from,i.to);o&&n.push(V6.of(o)),r=(o?e.lineBlockAt(o.to):i).to+1}return n.length&&e.dispatch({effects:Rje(e.state,n)}),!!n.length},Mje=e=>{let t=e.state.field(ib,!1);if(!t||!t.size)return!1;let n=[];return t.between(0,e.state.doc.length,(r,i)=>{n.push(dR.of({from:r,to:i}))}),e.dispatch({effects:n}),!0},Ije=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Aje},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:F5t},{key:"Ctrl-Alt-[",run:Nje},{key:"Ctrl-Alt-]",run:Mje}],z5t={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},Kre=mt.define({combine(e){return Bh(e,z5t)}});function Lje(e){let t=[ib,W5t];return e&&t.push(Kre.of(e)),t}function jje(e,t){let{state:n}=e,r=n.facet(Kre),i=s=>{let a=e.lineBlockAt(e.posAtDOM(s.target)),l=w3(e.state,a.from,a.to);l&&e.dispatch({effects:dR.of(l)}),s.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(e,i,t);let o=document.createElement("span");return o.textContent=r.placeholderText,o.setAttribute("aria-label",n.phrase("folded code")),o.title=n.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=i,o}const xve=vt.replace({widget:new class extends ud{toDOM(e){return jje(e,null)}}});class Q5t extends ud{constructor(t){super(),this.value=t}eq(t){return this.value==t.value}toDOM(t){return jje(t,this.value)}}const B5t={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class AB extends gg{constructor(t,n){super(),this.config=t,this.open=n}eq(t){return this.config==t.config&&this.open==t.open}toDOM(t){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=t.state.phrase(this.open?"Fold line":"Unfold line"),n}}function Fje(e={}){let t=Object.assign(Object.assign({},B5t),e),n=new AB(t,!0),r=new AB(t,!1),i=Mr.fromClass(class{constructor(s){this.from=s.viewport.from,this.markers=this.buildMarkers(s)}update(s){(s.docChanged||s.viewportChanged||s.startState.facet(Ky)!=s.state.facet(Ky)||s.startState.field(ib,!1)!=s.state.field(ib,!1)||br(s.startState)!=br(s.state)||t.foldingChanged(s))&&(this.markers=this.buildMarkers(s.view))}buildMarkers(s){let a=new Sh;for(let l of s.viewportLineBlocks){let c=w3(s.state,l.from,l.to)?r:x3(s.state,l.from,l.to)?n:null;c&&a.add(l.from,l.from,c)}return a.finish()}}),{domEventHandlers:o}=t;return[i,u5t({class:"cm-foldGutter",markers(s){var a;return((a=s.plugin(i))===null||a===void 0?void 0:a.markers)||Wn.empty},initialSpacer(){return new AB(t,!1)},domEventHandlers:Object.assign(Object.assign({},o),{click:(s,a,l)=>{if(o.click&&o.click(s,a,l))return!0;let c=w3(s.state,a.from,a.to);if(c)return s.dispatch({effects:dR.of(c)}),!0;let u=x3(s.state,a.from,a.to);return u?(s.dispatch({effects:V6.of(u)}),!0):!1}})}),Lje()]}const W5t=nt.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class hR{constructor(t,n){this.specs=t;let r;function i(a){let l=Xy.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const o=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,s=n.scope;this.scope=s instanceof Cl?a=>a.prop(Vm)==s.data:s?a=>a==s:void 0,this.style=xje(t.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:o}).style,this.module=r?new Xy(r):null,this.themeType=n.themeType}static define(t,n){return new hR(t,n||{})}}const ZX=mt.define(),zje=mt.define({combine(e){return e.length?[e[0]]:null}});function DB(e){let t=e.facet(ZX);return t.length?t:e.facet(zje)}function U6(e,t){let n=[U5t],r;return e instanceof hR&&(e.module&&n.push(nt.styleModule.of(e.module)),r=e.themeType),t!=null&&t.fallback?n.push(zje.of(e)):r?n.push(ZX.computeN([nt.darkTheme],i=>i.facet(nt.darkTheme)==(r=="dark")?[e]:[])):n.push(ZX.of(e)),n}class V5t{constructor(t){this.markCache=Object.create(null),this.tree=br(t.state),this.decorations=this.buildDeco(t,DB(t.state))}update(t){let n=br(t.state),r=DB(t.state),i=r!=DB(t.startState);n.length<t.view.viewport.to&&!i&&n.type==this.tree.type?this.decorations=this.decorations.map(t.changes):(n!=this.tree||t.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(t.view,r))}buildDeco(t,n){if(!n||!this.tree.length)return vt.none;let r=new Sh;for(let{from:i,to:o}of t.visibleRanges)S5t(this.tree,n,(s,a,l)=>{r.add(s,a,this.markCache[l]||(this.markCache[l]=vt.mark({class:l})))},i,o);return r.finish()}}const U5t=Kl.high(Mr.fromClass(V5t,{decorations:e=>e.decorations})),Jre=hR.define([{tag:G.meta,color:"#404740"},{tag:G.link,textDecoration:"underline"},{tag:G.heading,textDecoration:"underline",fontWeight:"bold"},{tag:G.emphasis,fontStyle:"italic"},{tag:G.strong,fontWeight:"bold"},{tag:G.strikethrough,textDecoration:"line-through"},{tag:G.keyword,color:"#708"},{tag:[G.atom,G.bool,G.url,G.contentSeparator,G.labelName],color:"#219"},{tag:[G.literal,G.inserted],color:"#164"},{tag:[G.string,G.deleted],color:"#a11"},{tag:[G.regexp,G.escape,G.special(G.string)],color:"#e40"},{tag:G.definition(G.variableName),color:"#00f"},{tag:G.local(G.variableName),color:"#30a"},{tag:[G.typeName,G.namespace],color:"#085"},{tag:G.className,color:"#167"},{tag:[G.special(G.variableName),G.macroName],color:"#256"},{tag:G.definition(G.propertyName),color:"#00c"},{tag:G.comment,color:"#940"},{tag:G.invalid,color:"#f00"}]),q5t=nt.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Qje=1e4,Bje="()[]{}",Wje=mt.define({combine(e){return Bh(e,{afterCursor:!0,brackets:Bje,maxScanDistance:Qje,renderMatch:H5t})}}),Y5t=vt.mark({class:"cm-matchingBracket"}),X5t=vt.mark({class:"cm-nonmatchingBracket"});function H5t(e){let t=[],n=e.matched?Y5t:X5t;return t.push(n.range(e.start.from,e.start.to)),e.end&&t.push(n.range(e.end.from,e.end.to)),t}const Z5t=qi.define({create(){return vt.none},update(e,t){if(!t.docChanged&&!t.selection)return e;let n=[],r=t.state.facet(Wje);for(let i of t.state.selection.ranges){if(!i.empty)continue;let o=yu(t.state,i.head,-1,r)||i.head>0&&yu(t.state,i.head-1,1,r)||r.afterCursor&&(yu(t.state,i.head,1,r)||i.head<t.state.doc.length&&yu(t.state,i.head+1,-1,r));o&&(n=n.concat(r.renderMatch(o,t.state)))}return vt.set(n,!0)},provide:e=>nt.decorations.from(e)}),G5t=[Z5t,q5t];function Vje(e={}){return[Wje.of(e),G5t]}const Uje=new Yt;function GX(e,t,n){let r=e.prop(t<0?Yt.openedBy:Yt.closedBy);if(r)return r;if(e.name.length==1){let i=n.indexOf(e.name);if(i>-1&&i%2==(t<0?1:0))return[n[i+t]]}return null}function KX(e){let t=e.type.prop(Uje);return t?t(e.node):e}function yu(e,t,n,r={}){let i=r.maxScanDistance||Qje,o=r.brackets||Bje,s=br(e),a=s.resolveInner(t,n);for(let l=a;l;l=l.parent){let c=GX(l.type,n,o);if(c&&l.from<l.to){let u=KX(l);if(u&&(n>0?t>=u.from&&t<u.to:t>u.from&&t<=u.to))return K5t(e,t,n,l,u,c,o)}}return J5t(e,t,n,s,a.type,i,o)}function K5t(e,t,n,r,i,o,s){let a=r.parent,l={from:i.from,to:i.to},c=0,u=a==null?void 0:a.cursor();if(u&&(n<0?u.childBefore(r.from):u.childAfter(r.to)))do if(n<0?u.to<=r.from:u.from>=r.to){if(c==0&&o.indexOf(u.type.name)>-1&&u.from<u.to){let f=KX(u);return{start:l,end:f?{from:f.from,to:f.to}:void 0,matched:!0}}else if(GX(u.type,n,s))c++;else if(GX(u.type,-n,s)){if(c==0){let f=KX(u);return{start:l,end:f&&f.from<f.to?{from:f.from,to:f.to}:void 0,matched:!1}}c--}}while(n<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}function J5t(e,t,n,r,i,o,s){let a=n<0?e.sliceDoc(t-1,t):e.sliceDoc(t,t+1),l=s.indexOf(a);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?t-1:t,to:n>0?t+1:t},u=e.doc.iterRange(t,n>0?e.doc.length:0),f=0;for(let d=0;!u.next().done&&d<=o;){let h=u.value;n<0&&(d+=h.length);let p=t+d*n;for(let g=n>0?0:h.length-1,y=n>0?h.length:-1;g!=y;g+=n){let v=s.indexOf(h[g]);if(!(v<0||r.resolveInner(p+g,1).type!=i))if(v%2==0==n>0)f++;else{if(f==1)return{start:c,end:{from:p+g,to:p+g+1},matched:v>>1==l>>1};f--}}n>0&&(d+=h.length)}return u.done?{start:c,matched:!1}:null}function wve(e,t,n,r=0,i=0){t==null&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));let o=i;for(let s=r;s<t;s++)e.charCodeAt(s)==9?o+=n-o%n:o++;return o}class eie{constructor(t,n,r,i){this.string=t,this.tabSize=n,this.indentUnit=r,this.overrideIndent=i,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(t){let n=this.string.charAt(this.pos),r;if(typeof t=="string"?r=n==t:r=n&&(t instanceof RegExp?t.test(n):t(n)),r)return++this.pos,n}eatWhile(t){let n=this.pos;for(;this.eat(t););return this.pos>n}eatSpace(){let t=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t}skipToEnd(){this.pos=this.string.length}skipTo(t){let n=this.string.indexOf(t,this.pos);if(n>-1)return this.pos=n,!0}backUp(t){this.pos-=t}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=wve(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var t;return(t=this.overrideIndent)!==null&&t!==void 0?t:wve(this.string,null,this.tabSize)}match(t,n,r){if(typeof t=="string"){let i=s=>r?s.toLowerCase():s,o=this.string.substr(this.pos,t.length);return i(o)==i(t)?(n!==!1&&(this.pos+=t.length),!0):null}else{let i=this.string.slice(this.pos).match(t);return i&&i.index>0?null:(i&&n!==!1&&(this.pos+=i[0].length),i)}}current(){return this.string.slice(this.start,this.pos)}}function e3t(e){return{name:e.name||"",token:e.token,blankLine:e.blankLine||(()=>{}),startState:e.startState||(()=>!0),copyState:e.copyState||t3t,indent:e.indent||(()=>null),languageData:e.languageData||{},tokenTable:e.tokenTable||rie}}function t3t(e){if(typeof e!="object")return e;let t={};for(let n in e){let r=e[n];t[n]=r instanceof Array?r.slice():r}return t}const Sve=new WeakMap;class tie extends Cl{constructor(t){let n=B6(t.languageData),r=e3t(t),i,o=new class extends L6{createParse(s,a,l){return new r3t(i,s,a,l)}};super(n,o,[_je.of((s,a)=>this.getIndent(s,a))],t.name),this.topNode=s3t(n),i=this,this.streamParser=r,this.stateAfter=new Yt({perNode:!0}),this.tokenTable=t.tokenTable?new Hje(r.tokenTable):o3t}static define(t){return new tie(t)}getIndent(t,n){let r=br(t.state),i=r.resolve(n);for(;i&&i.type!=this.topNode;)i=i.parent;if(!i)return null;let o,{overrideIndentation:s}=t.options;s&&(o=Sve.get(t.state),o!=null&&o<n-1e4&&(o=void 0));let a=nie(this,r,0,i.from,o??n),l,c;if(a?(c=a.state,l=a.pos+1):(c=this.streamParser.startState(t.unit),l=0),n-l>1e4)return null;for(;l<n;){let f=t.state.doc.lineAt(l),d=Math.min(n,f.to);if(f.length){let h=s?s(f.from):-1,p=new eie(f.text,t.state.tabSize,t.unit,h<0?void 0:h);for(;p.pos<d-f.from;)Yje(this.streamParser.token,p,c)}else this.streamParser.blankLine(c,t.unit);if(d==n)break;l=f.to+1}let u=t.lineAt(n);return s&&o==null&&Sve.set(t.state,u.from),this.streamParser.indent(c,/^\s*(.*)/.exec(u.text)[1],t)}get allowsNesting(){return!1}}function nie(e,t,n,r,i){let o=n>=r&&n+t.length<=i&&t.prop(e.stateAfter);if(o)return{state:e.streamParser.copyState(o),pos:n+t.length};for(let s=t.children.length-1;s>=0;s--){let a=t.children[s],l=n+t.positions[s],c=a instanceof Qn&&l<i&&nie(e,a,l,r,i);if(c)return c}return null}function qje(e,t,n,r,i){if(i&&n<=0&&r>=t.length)return t;!i&&t.type==e.topNode&&(i=!0);for(let o=t.children.length-1;o>=0;o--){let s=t.positions[o],a=t.children[o],l;if(s<r&&a instanceof Qn){if(!(l=qje(e,a,n-s,r-s,i)))break;return i?new Qn(t.type,t.children.slice(0,o).concat(l),t.positions.slice(0,o+1),s+l.length):l}}return null}function n3t(e,t,n,r){for(let i of t){let o=i.from+(i.openStart?25:0),s=i.to-(i.openEnd?25:0),a=o<=n&&s>n&&nie(e,i.tree,0-i.offset,n,s),l;if(a&&(l=qje(e,i.tree,n+i.offset,a.pos+i.offset,!1)))return{state:a.state,tree:l}}return{state:e.streamParser.startState(r?rb(r):4),tree:Qn.empty}}let r3t=class{constructor(t,n,r,i){this.lang=t,this.input=n,this.fragments=r,this.ranges=i,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=i[i.length-1].to;let o=nb.get(),s=i[0].from,{state:a,tree:l}=n3t(t,r,s,o==null?void 0:o.state);this.state=a,this.parsedPos=this.chunkStart=s+l.length;for(let c=0;c<l.children.length;c++)this.chunks.push(l.children[c]),this.chunkPos.push(l.positions[c]);o&&this.parsedPos<o.viewport.from-1e5&&(this.state=this.lang.streamParser.startState(rb(o.state)),o.skipUntilInView(this.parsedPos,o.viewport.from),this.parsedPos=o.viewport.from),this.moveRangeIndex()}advance(){let t=nb.get(),n=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),r=Math.min(n,this.chunkStart+2048);for(t&&(r=Math.min(r,t.viewport.to));this.parsedPos<r;)this.parseLine(t);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=n?this.finish():t&&this.parsedPos>=t.viewport.to?(t.skipUntilInView(this.parsedPos,n),this.finish()):null}stopAt(t){this.stoppedAt=t}lineAfter(t){let n=this.input.chunk(t);if(this.input.lineChunks)n==`
`&&(n="");else{let r=n.indexOf(`
`);r>-1&&(n=n.slice(0,r))}return t+n.length<=this.to?n:n.slice(0,this.to-t)}nextLine(){let t=this.parsedPos,n=this.lineAfter(t),r=t+n.length;for(let i=this.rangeIndex;;){let o=this.ranges[i].to;if(o>=r||(n=n.slice(0,o-(r-n.length)),i++,i==this.ranges.length))break;let s=this.ranges[i].from,a=this.lineAfter(s);n+=a,r=s+a.length}return{line:n,end:r}}skipGapsTo(t,n,r){for(;;){let i=this.ranges[this.rangeIndex].to,o=t+n;if(r>0?i>o:i>=o)break;let s=this.ranges[++this.rangeIndex].from;n+=s-i}return n}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(t,n,r,i,o){if(this.ranges.length>1){o=this.skipGapsTo(n,o,1),n+=o;let s=this.chunk.length;o=this.skipGapsTo(r,o,-1),r+=o,i+=this.chunk.length-s}return this.chunk.push(t,n,r,i),o}parseLine(t){let{line:n,end:r}=this.nextLine(),i=0,{streamParser:o}=this.lang,s=new eie(n,t?t.state.tabSize:4,t?rb(t.state):2);if(s.eol())o.blankLine(this.state,s.indentUnit);else for(;!s.eol();){let a=Yje(o.token,s,this.state);if(a&&(i=this.emitToken(this.lang.tokenTable.resolve(a),this.parsedPos+s.start,this.parsedPos+s.pos,4,i)),s.start>1e4)break}this.parsedPos=r,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let t=Qn.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:i3t,topID:0,maxBufferLength:2048,reused:this.chunkReused});t=new Qn(t.type,t.children,t.positions,t.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(t),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new Qn(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}};function Yje(e,t,n){t.start=t.pos;for(let r=0;r<10;r++){let i=e(t,n);if(t.pos>t.start)return i}throw new Error("Stream parser failed to advance stream.")}const rie=Object.create(null),y2=[vo.none],i3t=new K_(y2),_ve=[],Cve=Object.create(null),Xje=Object.create(null);for(let[e,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Xje[e]=Zje(rie,t);class Hje{constructor(t){this.extra=t,this.table=Object.assign(Object.create(null),Xje)}resolve(t){return t?this.table[t]||(this.table[t]=Zje(this.extra,t)):0}}const o3t=new Hje(rie);function NB(e,t){_ve.indexOf(e)>-1||(_ve.push(e),console.warn(t))}function Zje(e,t){let n=[];for(let a of t.split(" ")){let l=[];for(let c of a.split(".")){let u=e[c]||G[c];u?typeof u=="function"?l.length?l=l.map(u):NB(c,`Modifier ${c} used at start of tag`):l.length?NB(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:NB(c,`Unknown highlighting tag ${c}`)}for(let c of l)n.push(c)}if(!n.length)return 0;let r=t.replace(/ /g,"_"),i=r+" "+n.map(a=>a.id),o=Cve[i];if(o)return o.id;let s=Cve[i]=vo.define({id:y2.length,name:r,props:[Hb({[r]:n})]});return y2.push(s),s.id}function s3t(e){let t=vo.define({id:y2.length,name:"Document",props:[Vm.add(()=>e)],top:!0});return y2.push(t),t}qr.RTL,qr.LTR;function Gje(e){return t=>{let n=!1;for(const r of t)r&&(n=e(r)||n);return n}}const a3t=Gje(Nje),l3t=Gje(Mje);var q6={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const c3t=Symbol((q6?"production":void 0)!=="production"?"RESET":"");function u3t(e,t){return Nn(e,function(n,r,i){r(this,t(n(this),i))})}const MB=(e,t,n)=>(t.has(n)?t:t.set(n,e())).get(n),f3t=new WeakMap,d3t=(e,t,n,r)=>{const i=MB(()=>new WeakMap,f3t,t),o=MB(()=>new WeakMap,i,n);return MB(e,o,r)};function h3t(e,t,n=Object.is){return d3t(()=>{const r=Symbol(),i=([s,a])=>{if(a===r)return t(s);const l=t(s,a);return n(a,l)?a:l},o=Nn(s=>{const a=s(o),l=s(e);return l instanceof Promise||a instanceof Promise?Promise.all([l,a]).then(i):i([l,a])});return o.init=r,o},e,t,n)}const $ve=(e,t,n)=>(t.has(n)?t:t.set(n,e())).get(n),p3t=new WeakMap,g3t=(e,t,n)=>{const r=$ve(()=>new WeakMap,p3t,t);return $ve(e,r,n)},m3t={},Eve=e=>!!e.write,y3t=e=>typeof e=="function";function v3t(e,t){return g3t(()=>{const n=new WeakMap,r=(s,a)=>{let l=n.get(s);if(l)return l;const c=a&&n.get(a),u=[],f=[];return s.forEach((d,h)=>{const p=t?t(d):h;f[h]=p;const g=c&&c.atomList[c.keyList.indexOf(p)];if(g){u[h]=g;return}const y=x=>{const m=x(i),w=x(e),C=r(w,m==null?void 0:m.arr).keyList.indexOf(p);if(C<0||C>=w.length){const $=s[r(s).keyList.indexOf(p)];if($)return $;throw new Error("splitAtom: index out of bounds for read")}return w[C]},v=(x,m,w)=>{const S=x(i),C=x(e),E=r(C,S==null?void 0:S.arr).keyList.indexOf(p);if(E<0||E>=C.length)throw new Error("splitAtom: index out of bounds for write");const R=y3t(w)?w(C[E]):w;Object.is(C[E],R)||m(e,[...C.slice(0,E),R,...C.slice(E+1)])};u[h]=Eve(e)?Nn(y,v):Nn(y)}),c&&c.keyList.length===f.length&&c.keyList.every((d,h)=>d===f[h])?l=c:l={arr:s,atomList:u,keyList:f},n.set(s,l),l},i=Nn(s=>{const a=s(i),l=s(e);return r(l,a==null?void 0:a.arr)});(q6?"production":void 0)!=="production"&&(i.debugPrivate=!0),i.init=void 0;const o=Eve(e)?Nn(s=>s(i).atomList,(s,a,l)=>{switch(l.type){case"remove":{const c=s(o).indexOf(l.atom);if(c>=0){const u=s(e);a(e,[...u.slice(0,c),...u.slice(c+1)])}break}case"insert":{const c=l.before?s(o).indexOf(l.before):s(o).length;if(c>=0){const u=s(e);a(e,[...u.slice(0,c),l.value,...u.slice(c)])}break}case"move":{const c=s(o).indexOf(l.atom),u=l.before?s(o).indexOf(l.before):s(o).length;if(c>=0&&u>=0){const f=s(e);c<u?a(e,[...f.slice(0,c),...f.slice(c+1,u),f[c],...f.slice(u)]):a(e,[...f.slice(0,u),f[c],...f.slice(u,c),...f.slice(c+1)])}break}}}):Nn(s=>s(i).atomList);return o},e,t||m3t)}const b3t=e=>typeof(e==null?void 0:e.then)=="function";function O3t(e=()=>{try{return window.localStorage}catch(n){(q6?"production":void 0)!=="production"&&typeof window<"u"&&console.warn(n);return}},t){let n,r;const i={getItem:(o,s)=>{var a,l;const c=f=>{if(f=f||"",n!==f){try{r=JSON.parse(f,t==null?void 0:t.reviver)}catch{return s}n=f}return r},u=(l=(a=e())==null?void 0:a.getItem(o))!=null?l:null;return b3t(u)?u.then(c):c(u)},setItem:(o,s)=>{var a;return(a=e())==null?void 0:a.setItem(o,JSON.stringify(s,t==null?void 0:t.replacer))},removeItem:o=>{var s;return(s=e())==null?void 0:s.removeItem(o)}};return typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(i.subscribe=(o,s,a)=>{if(!(e()instanceof window.Storage))return()=>{};const l=c=>{if(c.storageArea===e()&&c.key===o){let u;try{u=JSON.parse(c.newValue||"")}catch{u=a}s(u)}};return window.addEventListener("storage",l),()=>{window.removeEventListener("storage",l)}}),i}const x3t=O3t();function w3t(e,t,n=x3t,r){const i=r==null?void 0:r.getOnInit,o=Nn(i?n.getItem(e,t):t);return(q6?"production":void 0)!=="production"&&(o.debugPrivate=!0),o.onMount=a=>{i||a(n.getItem(e,t));let l;return n.subscribe&&(l=n.subscribe(e,a,t)),l},Nn(a=>a(o),(a,l,c)=>{const u=typeof c=="function"?c(a(o)):c;return u===c3t?(l(o,t),n.removeItem(e)):u instanceof Promise?u.then(f=>(l(o,f),n.setItem(e,f))):(l(o,u),n.setItem(e,u))})}function Jl(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ob(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const Kje=6048e5,S3t=864e5;let _3t={};function Y6(){return _3t}function v2(e,t){var a,l,c,u;const n=Y6(),r=(t==null?void 0:t.weekStartsOn)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,i=Jl(e),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function S3(e){return v2(e,{weekStartsOn:1})}function Jje(e){const t=Jl(e),n=t.getFullYear(),r=ob(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=S3(r),o=ob(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=S3(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function _3(e){const t=Jl(e);return t.setHours(0,0,0,0),t}function kve(e){const t=Jl(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function C3t(e,t){const n=_3(e),r=_3(t),i=+n-kve(n),o=+r-kve(r);return Math.round((i-o)/S3t)}function $3t(e){const t=Jje(e),n=ob(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),S3(n)}function E3t(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function k3t(e){if(!E3t(e)&&typeof e!="number")return!1;const t=Jl(e);return!isNaN(Number(t))}function T3t(e){const t=Jl(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function P3t(e){const t=Jl(e);return t.setDate(1),t.setHours(0,0,0,0),t}function R3t(e){const t=Jl(e),n=ob(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const A3t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},D3t=(e,t,n)=>{let r;const i=A3t[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function IB(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const N3t={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},M3t={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},I3t={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},L3t={date:IB({formats:N3t,defaultWidth:"full"}),time:IB({formats:M3t,defaultWidth:"full"}),dateTime:IB({formats:I3t,defaultWidth:"full"})},j3t={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},F3t=(e,t,n,r)=>j3t[e];function c$(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=e.formattingValues[a]||e.formattingValues[s]}else{const s=e.defaultWidth,a=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[a]||e.values[s]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const z3t={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Q3t={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},B3t={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},W3t={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},V3t={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},U3t={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},q3t=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Y3t={ordinalNumber:q3t,era:c$({values:z3t,defaultWidth:"wide"}),quarter:c$({values:Q3t,defaultWidth:"wide",argumentCallback:e=>e-1}),month:c$({values:B3t,defaultWidth:"wide"}),day:c$({values:W3t,defaultWidth:"wide"}),dayPeriod:c$({values:V3t,defaultWidth:"wide",formattingValues:U3t,defaultFormattingWidth:"wide"})};function u$(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const s=o[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?H3t(a,f=>f.test(s)):X3t(a,f=>f.test(s));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=t.slice(s.length);return{value:c,rest:u}}}function X3t(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function H3t(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Z3t(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],o=t.match(e.parsePattern);if(!o)return null;let s=e.valueCallback?e.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=t.slice(i.length);return{value:s,rest:a}}}const G3t=/^(\d+)(th|st|nd|rd)?/i,K3t=/\d+/i,J3t={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},eLt={any:[/^b/i,/^(a|c)/i]},tLt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nLt={any:[/1/i,/2/i,/3/i,/4/i]},rLt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},iLt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},oLt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},sLt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},aLt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lLt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cLt={ordinalNumber:Z3t({matchPattern:G3t,parsePattern:K3t,valueCallback:e=>parseInt(e,10)}),era:u$({matchPatterns:J3t,defaultMatchWidth:"wide",parsePatterns:eLt,defaultParseWidth:"any"}),quarter:u$({matchPatterns:tLt,defaultMatchWidth:"wide",parsePatterns:nLt,defaultParseWidth:"any",valueCallback:e=>e+1}),month:u$({matchPatterns:rLt,defaultMatchWidth:"wide",parsePatterns:iLt,defaultParseWidth:"any"}),day:u$({matchPatterns:oLt,defaultMatchWidth:"wide",parsePatterns:sLt,defaultParseWidth:"any"}),dayPeriod:u$({matchPatterns:aLt,defaultMatchWidth:"any",parsePatterns:lLt,defaultParseWidth:"any"})},eFe={code:"en-US",formatDistance:D3t,formatLong:L3t,formatRelative:F3t,localize:Y3t,match:cLt,options:{weekStartsOn:0,firstWeekContainsDate:1}};function uLt(e){const t=Jl(e);return C3t(t,R3t(t))+1}function fLt(e){const t=Jl(e),n=+S3(t)-+$3t(t);return Math.round(n/Kje)+1}function tFe(e,t){var u,f,d,h;const n=Jl(e),r=n.getFullYear(),i=Y6(),o=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(d=i.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,s=ob(e,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=v2(s,t),l=ob(e,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const c=v2(l,t);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function dLt(e,t){var a,l,c,u;const n=Y6(),r=(t==null?void 0:t.firstWeekContainsDate)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(c=n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,i=tFe(e,t),o=ob(e,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),v2(o,t)}function hLt(e,t){const n=Jl(e),r=+v2(n,t)-+dLt(n,t);return Math.round(r/Kje)+1}function mr(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const em={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return mr(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):mr(n+1,2)},d(e,t){return mr(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return mr(e.getHours()%12||12,t.length)},H(e,t){return mr(e.getHours(),t.length)},m(e,t){return mr(e.getMinutes(),t.length)},s(e,t){return mr(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return mr(i,t.length)}},FO={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Tve={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return em.y(e,t)},Y:function(e,t,n,r){const i=tFe(e,r),o=i>0?i:1-i;if(t==="YY"){const s=o%100;return mr(s,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):mr(o,t.length)},R:function(e,t){const n=Jje(e);return mr(n,t.length)},u:function(e,t){const n=e.getFullYear();return mr(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return mr(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return mr(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return em.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return mr(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=hLt(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):mr(i,t.length)},I:function(e,t,n){const r=fLt(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):mr(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):em.d(e,t)},D:function(e,t,n){const r=uLt(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):mr(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return mr(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return mr(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return mr(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=FO.noon:r===0?i=FO.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=FO.evening:r>=12?i=FO.afternoon:r>=4?i=FO.morning:i=FO.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return em.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):em.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):mr(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):mr(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):em.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):em.s(e,t)},S:function(e,t){return em.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Rve(r);case"XXXX":case"XX":return Sv(r);case"XXXXX":case"XXX":default:return Sv(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Rve(r);case"xxxx":case"xx":return Sv(r);case"xxxxx":case"xxx":default:return Sv(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Pve(r,":");case"OOOO":default:return"GMT"+Sv(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Pve(r,":");case"zzzz":default:return"GMT"+Sv(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return mr(r,t.length)},T:function(e,t,n){const r=e.getTime();return mr(r,t.length)}};function Pve(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+t+mr(o,2)}function Rve(e,t){return e%60===0?(e>0?"-":"+")+mr(Math.abs(e)/60,2):Sv(e,t)}function Sv(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=mr(Math.trunc(r/60),2),o=mr(r%60,2);return n+i+t+o}const Ave=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},nFe=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},pLt=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Ave(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Ave(r,t)).replace("{{time}}",nFe(i,t))},gLt={p:nFe,P:pLt},mLt=/^D+$/,yLt=/^Y+$/,vLt=["D","DD","YY","YYYY"];function bLt(e){return mLt.test(e)}function OLt(e){return yLt.test(e)}function xLt(e,t,n){const r=wLt(e,t,n);if(console.warn(r),vLt.includes(e))throw new RangeError(r)}function wLt(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const SLt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_Lt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,CLt=/^'([^]*?)'?$/,$Lt=/''/g,ELt=/[a-zA-Z]/;function Zb(e,t,n){var u,f,d,h,p,g,y,v;const r=Y6(),i=(n==null?void 0:n.locale)??r.locale??eFe,o=(n==null?void 0:n.firstWeekContainsDate)??((f=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((g=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((v=(y=r.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??0,a=Jl(e);if(!k3t(a))throw new RangeError("Invalid time value");let l=t.match(_Lt).map(x=>{const m=x[0];if(m==="p"||m==="P"){const w=gLt[m];return w(x,i.formatLong)}return x}).join("").match(SLt).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const m=x[0];if(m==="'")return{isToken:!1,value:kLt(x)};if(Tve[m])return{isToken:!0,value:x};if(m.match(ELt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return l.map(x=>{if(!x.isToken)return x.value;const m=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&OLt(m)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&bLt(m))&&xLt(m,t,String(e));const w=Tve[m[0]];return w(a,m,i.localize,c)}).join("")}function kLt(e){const t=e.match(CLt);return t?t[1].replace($Lt,"'"):e}function TLt(e){return Jl(e*1e3)}function PLt(e){const t=[],n=[e.console].filter(Boolean).flat();for(const r of n)if(r.mimetype==="text/plain")switch(r.channel){case"stdout":t.push({timestamp:r.timestamp,level:"stdout",message:r.data,cellId:e.cell_id});break;case"stderr":case"marimo-error":t.push({timestamp:r.timestamp,level:"stderr",message:r.data,cellId:e.cell_id});break}return t.forEach(RLt.log),t}const RLt={log:e=>{const t=e.level==="stdout"?"gray":e.level==="stderr"?"red":"orange",n=e.level.toUpperCase();console.log(`%c[${n}]`,`color:${t}; padding:2px 0; border-radius:2px; font-weight:bold`,`[${rFe(e.timestamp)}]`,`(${e.cellId}) ${e.message}`)}};function rFe(e){try{return TLt(e).toLocaleTimeString("en-US",{hour12:!0,hour:"numeric",minute:"numeric",second:"numeric"})}catch{return""}}function Dve(e){const t=JSON.stringify(e);return btoa(encodeURIComponent(t))}function Nve(e){const t=decodeURIComponent(atob(e));return JSON.parse(t)}const ALt=e=>{let{state:t}=e,n=t.doc.lineAt(t.selection.main.from),r=oie(e.state,n.from);return r.line?DLt(e):r.block?MLt(e):!1};function iie(e,t){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=e(t,n);return i?(r(n.update(i)),!0):!1}}const DLt=iie(jLt,0),NLt=iie(iFe,0),MLt=iie((e,t)=>iFe(e,t,LLt(t)),0);function oie(e,t){let n=e.languageDataAt("commentTokens",t);return n.length?n[0]:{}}const f$=50;function ILt(e,{open:t,close:n},r,i){let o=e.sliceDoc(r-f$,r),s=e.sliceDoc(i,i+f$),a=/\s*$/.exec(o)[0].length,l=/^\s*/.exec(s)[0].length,c=o.length-a;if(o.slice(c-t.length,c)==t&&s.slice(l,l+n.length)==n)return{open:{pos:r-a,margin:a&&1},close:{pos:i+l,margin:l&&1}};let u,f;i-r<=2*f$?u=f=e.sliceDoc(r,i):(u=e.sliceDoc(r,r+f$),f=e.sliceDoc(i-f$,i));let d=/^\s*/.exec(u)[0].length,h=/\s*$/.exec(f)[0].length,p=f.length-h-n.length;return u.slice(d,d+t.length)==t&&f.slice(p,p+n.length)==n?{open:{pos:r+d+t.length,margin:/\s/.test(u.charAt(d+t.length))?1:0},close:{pos:i-h-n.length,margin:/\s/.test(f.charAt(p-1))?1:0}}:null}function LLt(e){let t=[];for(let n of e.selection.ranges){let r=e.doc.lineAt(n.from),i=n.to<=r.to?r:e.doc.lineAt(n.to),o=t.length-1;o>=0&&t[o].to>r.from?t[o].to=i.to:t.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return t}function iFe(e,t,n=t.selection.ranges){let r=n.map(o=>oie(t,o.from).block);if(!r.every(o=>o))return null;let i=n.map((o,s)=>ILt(t,r[s],o.from,o.to));if(e!=2&&!i.every(o=>o))return{changes:t.changes(n.map((o,s)=>i[s]?[]:[{from:o.from,insert:r[s].open+" "},{from:o.to,insert:" "+r[s].close}]))};if(e!=1&&i.some(o=>o)){let o=[];for(let s=0,a;s<i.length;s++)if(a=i[s]){let l=r[s],{open:c,close:u}=a;o.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+l.close.length})}return{changes:o}}return null}function jLt(e,t,n=t.selection.ranges){let r=[],i=-1;for(let{from:o,to:s}of n){let a=r.length,l=1e9,c=oie(t,o).line;if(c){for(let u=o;u<=s;){let f=t.doc.lineAt(u);if(f.from>i&&(o==s||s>f.from)){i=f.from;let d=/^\s*/.exec(f.text)[0].length,h=d==f.length,p=f.text.slice(d,d+c.length)==c?d:-1;d<f.text.length&&d<l&&(l=d),r.push({line:f,comment:p,token:c,indent:d,empty:h,single:!1})}u=f.to+1}if(l<1e9)for(let u=a;u<r.length;u++)r[u].indent<r[u].line.text.length&&(r[u].indent=l);r.length==a+1&&(r[a].single=!0)}}if(e!=2&&r.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:a,token:l,indent:c,empty:u,single:f}of r)(f||!u)&&o.push({from:a.from+c,insert:l+" "});let s=t.changes(o);return{changes:s,selection:t.selection.map(s,1)}}else if(e!=1&&r.some(o=>o.comment>=0)){let o=[];for(let{line:s,comment:a,token:l}of r)if(a>=0){let c=s.from+a,u=c+l.length;s.text[u-s.from]==" "&&u++,o.push({from:c,to:u})}return{changes:o}}return null}const JX=Qh.define(),FLt=Qh.define(),zLt=mt.define(),oFe=mt.define({combine(e){return Bh(e,{minDepth:100,newGroupDelay:500,joinToEvent:(t,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(t,n)=>(r,i)=>t(r,i)||n(r,i)})}}),sie=qi.define({create(){return Jd.empty},update(e,t){let n=t.state.facet(oFe),r=t.annotation(JX);if(r){let l=$l.fromTransaction(t,r.selection),c=r.side,u=c==0?e.undone:e.done;return l?u=$3(u,u.length,n.minDepth,l):u=lFe(u,t.startState.selection),new Jd(c==0?r.rest:u,c==0?u:r.rest)}let i=t.annotation(FLt);if((i=="full"||i=="before")&&(e=e.isolate()),t.annotation(yo.addToHistory)===!1)return t.changes.empty?e:e.addMapping(t.changes.desc);let o=$l.fromTransaction(t),s=t.annotation(yo.time),a=t.annotation(yo.userEvent);return o?e=e.addChanges(o,s,a,n,t):t.selection&&(e=e.addSelection(t.startState.selection,s,a,n.newGroupDelay)),(i=="full"||i=="after")&&(e=e.isolate()),e},toJSON(e){return{done:e.done.map(t=>t.toJSON()),undone:e.undone.map(t=>t.toJSON())}},fromJSON(e){return new Jd(e.done.map($l.fromJSON),e.undone.map($l.fromJSON))}});function X6(e={}){return[sie,oFe.of(e),nt.domEventHandlers({beforeinput(t,n){let r=t.inputType=="historyUndo"?aie:t.inputType=="historyRedo"?C3:null;return r?(t.preventDefault(),r(n)):!1}})]}const sFe=sie;function H6(e,t){return function({state:n,dispatch:r}){if(!t&&n.readOnly)return!1;let i=n.field(sie,!1);if(!i)return!1;let o=i.pop(e,n,t);return o?(r(o),!0):!1}}const aie=H6(0,!1),C3=H6(1,!1),QLt=H6(0,!0),BLt=H6(1,!0);class $l{constructor(t,n,r,i,o){this.changes=t,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=o}setSelAfter(t){return new $l(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,n,r;return{changes:(t=this.changes)===null||t===void 0?void 0:t.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(t){return new $l(t.changes&&Ao.fromJSON(t.changes),[],t.mapped&&lh.fromJSON(t.mapped),t.startSelection&&Ee.fromJSON(t.startSelection),t.selectionsAfter.map(Ee.fromJSON))}static fromTransaction(t,n){let r=vu;for(let i of t.startState.facet(zLt)){let o=i(t);o.length&&(r=r.concat(o))}return!r.length&&t.changes.empty?null:new $l(t.changes.invert(t.startState.doc),r,void 0,n||t.startState.selection,vu)}static selection(t){return new $l(void 0,vu,void 0,void 0,t)}}function $3(e,t,n,r){let i=t+1>n+20?t-n-1:0,o=e.slice(i,t);return o.push(r),o}function WLt(e,t){let n=[],r=!1;return e.iterChangedRanges((i,o)=>n.push(i,o)),t.iterChangedRanges((i,o,s,a)=>{for(let l=0;l<n.length;){let c=n[l++],u=n[l++];a>=c&&s<=u&&(r=!0)}}),r}function VLt(e,t){return e.ranges.length==t.ranges.length&&e.ranges.filter((n,r)=>n.empty!=t.ranges[r].empty).length===0}function aFe(e,t){return e.length?t.length?e.concat(t):e:t}const vu=[],ULt=200;function lFe(e,t){if(e.length){let n=e[e.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-ULt));return r.length&&r[r.length-1].eq(t)?e:(r.push(t),$3(e,e.length-1,1e9,n.setSelAfter(r)))}else return[$l.selection([t])]}function qLt(e){let t=e[e.length-1],n=e.slice();return n[e.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),n}function LB(e,t){if(!e.length)return e;let n=e.length,r=vu;for(;n;){let i=YLt(e[n-1],t,r);if(i.changes&&!i.changes.empty||i.effects.length){let o=e.slice(0,n);return o[n-1]=i,o}else t=i.mapped,n--,r=i.selectionsAfter}return r.length?[$l.selection(r)]:vu}function YLt(e,t,n){let r=aFe(e.selectionsAfter.length?e.selectionsAfter.map(a=>a.map(t)):vu,n);if(!e.changes)return $l.selection(r);let i=e.changes.map(t),o=t.mapDesc(e.changes,!0),s=e.mapped?e.mapped.composeDesc(o):o;return new $l(i,Vt.mapEffects(e.effects,t),s,e.startSelection.map(o),r)}const XLt=/^(input\.type|delete)($|\.)/;class Jd{constructor(t,n,r=0,i=void 0){this.done=t,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new Jd(this.done,this.undone):this}addChanges(t,n,r,i,o){let s=this.done,a=s[s.length-1];return a&&a.changes&&!a.changes.empty&&t.changes&&(!r||XLt.test(r))&&(!a.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(o,WLt(a.changes,t.changes))||r=="input.type.compose")?s=$3(s,s.length-1,i.minDepth,new $l(t.changes.compose(a.changes),aFe(t.effects,a.effects),a.mapped,a.startSelection,vu)):s=$3(s,s.length,i.minDepth,t),new Jd(s,vu,n,r)}addSelection(t,n,r,i){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:vu;return o.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&VLt(o[o.length-1],t)?this:new Jd(lFe(this.done,t),this.undone,n,r)}addMapping(t){return new Jd(LB(this.done,t),LB(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,n,r){let i=t==0?this.done:this.undone;if(i.length==0)return null;let o=i[i.length-1],s=o.selectionsAfter[0]||n.selection;if(r&&o.selectionsAfter.length)return n.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:JX.of({side:t,rest:qLt(i),selection:s}),userEvent:t==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let a=i.length==1?vu:i.slice(0,i.length-1);return o.mapped&&(a=LB(a,o.mapped)),n.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:JX.of({side:t,rest:a,selection:s}),filter:!1,userEvent:t==0?"undo":"redo",scrollIntoView:!0})}else return null}}Jd.empty=new Jd(vu,vu);const lie=[{key:"Mod-z",run:aie,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:C3,preventDefault:!0},{linux:"Ctrl-Shift-z",run:C3,preventDefault:!0},{key:"Mod-u",run:QLt,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:BLt,preventDefault:!0}];function tC(e,t){return Ee.create(e.ranges.map(t),e.mainIndex)}function Wh(e,t){return e.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function fd({state:e,dispatch:t},n){let r=tC(e.selection,n);return r.eq(e.selection,!0)?!1:(t(Wh(e,r)),!0)}function Z6(e,t){return Ee.cursor(t?e.to:e.from)}function cie(e,t){return fd(e,n=>n.empty?e.moveByChar(n,t):Z6(n,t))}function Ta(e){return e.textDirectionAt(e.state.selection.main.head)==qr.LTR}const uie=e=>cie(e,!Ta(e)),cFe=e=>cie(e,Ta(e)),HLt=e=>cie(e,!1);function uFe(e,t){return fd(e,n=>n.empty?e.moveByGroup(n,t):Z6(n,t))}const ZLt=e=>uFe(e,!Ta(e)),GLt=e=>uFe(e,Ta(e));function KLt(e,t,n){if(t.type.prop(n))return!0;let r=t.to-t.from;return r&&(r>2||/[^\s,.;:]/.test(e.sliceDoc(t.from,t.to)))||t.firstChild}function G6(e,t,n){let r=br(e).resolveInner(t.head),i=n?Yt.closedBy:Yt.openedBy;for(let l=t.head;;){let c=n?r.childAfter(l):r.childBefore(l);if(!c)break;KLt(e,c,i)?r=c:l=n?c.to:c.from}let o=r.type.prop(i),s,a;return o&&(s=n?yu(e,r.from,1):yu(e,r.to,-1))&&s.matched?a=n?s.end.to:s.end.from:a=n?r.to:r.from,Ee.cursor(a,n?-1:1)}const JLt=e=>fd(e,t=>G6(e.state,t,!Ta(e))),ejt=e=>fd(e,t=>G6(e.state,t,Ta(e)));function fFe(e,t){return fd(e,n=>{if(!n.empty)return Z6(n,t);let r=e.moveVertically(n,t);return r.head!=n.head?r:e.moveToLineBoundary(n,t)})}const dFe=e=>fFe(e,!1),hFe=e=>fFe(e,!0);function pFe(e){let t=e.scrollDOM.clientHeight<e.scrollDOM.scrollHeight-2,n=0,r=0,i;if(t){for(let o of e.state.facet(nt.scrollMargins)){let s=o(e);s!=null&&s.top&&(n=Math.max(s==null?void 0:s.top,n)),s!=null&&s.bottom&&(r=Math.max(s==null?void 0:s.bottom,r))}i=e.scrollDOM.clientHeight-n-r}else i=(e.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:t,height:Math.max(e.defaultLineHeight,i-5)}}function gFe(e,t){let n=pFe(e),{state:r}=e,i=tC(r.selection,s=>s.empty?e.moveVertically(s,t,n.height):Z6(s,t));if(i.eq(r.selection))return!1;let o;if(n.selfScroll){let s=e.coordsAtPos(r.selection.main.head),a=e.scrollDOM.getBoundingClientRect(),l=a.top+n.marginTop,c=a.bottom-n.marginBottom;s&&s.top>l&&s.bottom<c&&(o=nt.scrollIntoView(i.main.head,{y:"start",yMargin:s.top-l}))}return e.dispatch(Wh(r,i),{effects:o}),!0}const Mve=e=>gFe(e,!1),eH=e=>gFe(e,!0);function A0(e,t,n){let r=e.lineBlockAt(t.head),i=e.moveToLineBoundary(t,n);if(i.head==t.head&&i.head!=(n?r.to:r.from)&&(i=e.moveToLineBoundary(t,n,!1)),!n&&i.head==r.from&&r.length){let o=/^\s*/.exec(e.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&t.head!=r.from+o&&(i=Ee.cursor(r.from+o))}return i}const mFe=e=>fd(e,t=>A0(e,t,!0)),yFe=e=>fd(e,t=>A0(e,t,!1)),tjt=e=>fd(e,t=>A0(e,t,!Ta(e))),njt=e=>fd(e,t=>A0(e,t,Ta(e))),rjt=e=>fd(e,t=>Ee.cursor(e.lineBlockAt(t.head).from,1)),ijt=e=>fd(e,t=>Ee.cursor(e.lineBlockAt(t.head).to,-1));function ojt(e,t,n){let r=!1,i=tC(e.selection,o=>{let s=yu(e,o.head,-1)||yu(e,o.head,1)||o.head>0&&yu(e,o.head-1,1)||o.head<e.doc.length&&yu(e,o.head+1,-1);if(!s||!s.end)return o;r=!0;let a=s.start.from==o.head?s.end.to:s.end.from;return n?Ee.range(o.anchor,a):Ee.cursor(a)});return r?(t(Wh(e,i)),!0):!1}const sjt=({state:e,dispatch:t})=>ojt(e,t,!1);function qu(e,t){let n=tC(e.state.selection,r=>{let i=t(r);return Ee.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(e.state.selection)?!1:(e.dispatch(Wh(e.state,n)),!0)}function vFe(e,t){return qu(e,n=>e.moveByChar(n,t))}const bFe=e=>vFe(e,!Ta(e)),OFe=e=>vFe(e,Ta(e));function xFe(e,t){return qu(e,n=>e.moveByGroup(n,t))}const ajt=e=>xFe(e,!Ta(e)),ljt=e=>xFe(e,Ta(e)),cjt=e=>qu(e,t=>G6(e.state,t,!Ta(e))),ujt=e=>qu(e,t=>G6(e.state,t,Ta(e)));function wFe(e,t){return qu(e,n=>e.moveVertically(n,t))}const SFe=e=>wFe(e,!1),_Fe=e=>wFe(e,!0);function CFe(e,t){return qu(e,n=>e.moveVertically(n,t,pFe(e).height))}const Ive=e=>CFe(e,!1),Lve=e=>CFe(e,!0),fjt=e=>qu(e,t=>A0(e,t,!0)),djt=e=>qu(e,t=>A0(e,t,!1)),hjt=e=>qu(e,t=>A0(e,t,!Ta(e))),pjt=e=>qu(e,t=>A0(e,t,Ta(e))),gjt=e=>qu(e,t=>Ee.cursor(e.lineBlockAt(t.head).from)),mjt=e=>qu(e,t=>Ee.cursor(e.lineBlockAt(t.head).to)),jve=({state:e,dispatch:t})=>(t(Wh(e,{anchor:0})),!0),Fve=({state:e,dispatch:t})=>(t(Wh(e,{anchor:e.doc.length})),!0),zve=({state:e,dispatch:t})=>(t(Wh(e,{anchor:e.selection.main.anchor,head:0})),!0),Qve=({state:e,dispatch:t})=>(t(Wh(e,{anchor:e.selection.main.anchor,head:e.doc.length})),!0),yjt=({state:e,dispatch:t})=>(t(e.update({selection:{anchor:0,head:e.doc.length},userEvent:"select"})),!0),vjt=({state:e,dispatch:t})=>{let n=K6(e).map(({from:r,to:i})=>Ee.range(r,Math.min(i+1,e.doc.length)));return t(e.update({selection:Ee.create(n),userEvent:"select"})),!0},bjt=({state:e,dispatch:t})=>{let n=tC(e.selection,r=>{var i;let o=br(e).resolveStack(r.from,1);for(let s=o;s;s=s.next){let{node:a}=s;if((a.from<r.from&&a.to>=r.to||a.to>r.to&&a.from<=r.from)&&(!((i=a.parent)===null||i===void 0)&&i.parent))return Ee.range(a.to,a.from)}return r});return t(Wh(e,n)),!0},Ojt=({state:e,dispatch:t})=>{let n=e.selection,r=null;return n.ranges.length>1?r=Ee.create([n.main]):n.main.empty||(r=Ee.create([Ee.cursor(n.main.head)])),r?(t(Wh(e,r)),!0):!1};function pR(e,t){if(e.state.readOnly)return!1;let n="delete.selection",{state:r}=e,i=r.changeByRange(o=>{let{from:s,to:a}=o;if(s==a){let l=t(o);l<s?(n="delete.backward",l=qD(e,l,!1)):l>s&&(n="delete.forward",l=qD(e,l,!0)),s=Math.min(s,l),a=Math.max(a,l)}else s=qD(e,s,!1),a=qD(e,a,!0);return s==a?{range:o}:{changes:{from:s,to:a},range:Ee.cursor(s,s<o.head?-1:1)}});return i.changes.empty?!1:(e.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?nt.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function qD(e,t,n){if(e instanceof nt)for(let r of e.state.facet(nt.atomicRanges).map(i=>i(e)))r.between(t,t,(i,o)=>{i<t&&o>t&&(t=n?o:i)});return t}const $Fe=(e,t)=>pR(e,n=>{let r=n.from,{state:i}=e,o=i.doc.lineAt(r),s,a;if(!t&&r>o.from&&r<o.from+200&&!/[^ \t]/.test(s=o.text.slice(0,r-o.from))){if(s[s.length-1]=="	")return r-1;let l=Kf(s,i.tabSize),c=l%rb(i)||rb(i);for(let u=0;u<c&&s[s.length-1-u]==" ";u++)r--;a=r}else a=Ps(o.text,r-o.from,t,t)+o.from,a==r&&o.number!=(t?i.doc.lines:1)?a+=t?1:-1:!t&&/[\ufe00-\ufe0f]/.test(o.text.slice(a-o.from,r-o.from))&&(a=Ps(o.text,a-o.from,!1,!1)+o.from);return a}),tH=e=>$Fe(e,!1),EFe=e=>$Fe(e,!0),kFe=(e,t)=>pR(e,n=>{let r=n.head,{state:i}=e,o=i.doc.lineAt(r),s=i.charCategorizer(r);for(let a=null;;){if(r==(t?o.to:o.from)){r==n.head&&o.number!=(t?i.doc.lines:1)&&(r+=t?1:-1);break}let l=Ps(o.text,r-o.from,t)+o.from,c=o.text.slice(Math.min(r,l)-o.from,Math.max(r,l)-o.from),u=s(c);if(a!=null&&u!=a)break;(c!=" "||r!=n.head)&&(a=u),r=l}return r}),TFe=e=>kFe(e,!1),xjt=e=>kFe(e,!0),wjt=e=>pR(e,t=>{let n=e.lineBlockAt(t.head).to;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)}),Sjt=e=>pR(e,t=>{let n=e.moveToLineBoundary(t,!1).head;return t.head>n?n:Math.max(0,t.head-1)}),_jt=e=>pR(e,t=>{let n=e.moveToLineBoundary(t,!0).head;return t.head<n?n:Math.min(e.state.doc.length,t.head+1)}),Cjt=({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Xn.of(["",""])},range:Ee.cursor(r.from)}));return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},$jt=({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(r=>{if(!r.empty||r.from==0||r.from==e.doc.length)return{range:r};let i=r.from,o=e.doc.lineAt(i),s=i==o.from?i-1:Ps(o.text,i-o.from,!1)+o.from,a=i==o.to?i+1:Ps(o.text,i-o.from,!0)+o.from;return{changes:{from:s,to:a,insert:e.doc.slice(i,a).append(e.doc.slice(s,i))},range:Ee.cursor(a)}});return n.changes.empty?!1:(t(e.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function K6(e){let t=[],n=-1;for(let r of e.selection.ranges){let i=e.doc.lineAt(r.from),o=e.doc.lineAt(r.to);if(!r.empty&&r.to==o.from&&(o=e.doc.lineAt(r.to-1)),n>=i.number){let s=t[t.length-1];s.to=o.to,s.ranges.push(r)}else t.push({from:i.from,to:o.to,ranges:[r]});n=o.number+1}return t}function PFe(e,t,n){if(e.readOnly)return!1;let r=[],i=[];for(let o of K6(e)){if(n?o.to==e.doc.length:o.from==0)continue;let s=e.doc.lineAt(n?o.to+1:o.from-1),a=s.length+1;if(n){r.push({from:o.to,to:s.to},{from:o.from,insert:s.text+e.lineBreak});for(let l of o.ranges)i.push(Ee.range(Math.min(e.doc.length,l.anchor+a),Math.min(e.doc.length,l.head+a)))}else{r.push({from:s.from,to:o.from},{from:o.to,insert:e.lineBreak+s.text});for(let l of o.ranges)i.push(Ee.range(l.anchor-a,l.head-a))}}return r.length?(t(e.update({changes:r,scrollIntoView:!0,selection:Ee.create(i,e.selection.mainIndex),userEvent:"move.line"})),!0):!1}const Ejt=({state:e,dispatch:t})=>PFe(e,t,!1),kjt=({state:e,dispatch:t})=>PFe(e,t,!0);function RFe(e,t,n){if(e.readOnly)return!1;let r=[];for(let i of K6(e))n?r.push({from:i.from,insert:e.doc.slice(i.from,i.to)+e.lineBreak}):r.push({from:i.to,insert:e.lineBreak+e.doc.slice(i.from,i.to)});return t(e.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Tjt=({state:e,dispatch:t})=>RFe(e,t,!1),Pjt=({state:e,dispatch:t})=>RFe(e,t,!0),Rjt=e=>{if(e.state.readOnly)return!1;let{state:t}=e,n=t.changes(K6(t).map(({from:i,to:o})=>(i>0?i--:o<t.doc.length&&o++,{from:i,to:o}))),r=tC(t.selection,i=>e.moveVertically(i,!0)).map(n);return e.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function Ajt(e,t){if(/\(\)|\[\]|\{\}/.test(e.sliceDoc(t-1,t+1)))return{from:t,to:t};let n=br(e).resolveInner(t),r=n.childBefore(t),i=n.childAfter(t),o;return r&&i&&r.to<=t&&i.from>=t&&(o=r.type.prop(Yt.closedBy))&&o.indexOf(i.name)>-1&&e.doc.lineAt(r.to).from==e.doc.lineAt(i.from).from&&!/\S/.test(e.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const AFe=DFe(!1),Djt=DFe(!0);function DFe(e){return({state:t,dispatch:n})=>{if(t.readOnly)return!1;let r=t.changeByRange(i=>{let{from:o,to:s}=i,a=t.doc.lineAt(o),l=!e&&o==s&&Ajt(t,o);e&&(o=s=(s<=a.to?a:t.doc.lineAt(s)).to);let c=new W6(t,{simulateBreak:o,simulateDoubleBreak:!!l}),u=Zre(c,o);for(u==null&&(u=Kf(/^\s*/.exec(t.doc.lineAt(o).text)[0],t.tabSize));s<a.to&&/\s/.test(a.text[s-a.from]);)s++;l?{from:o,to:s}=l:o>a.from&&o<a.from+100&&!/\S/.test(a.text.slice(0,o))&&(o=a.from);let f=["",g2(t,u)];return l&&f.push(g2(t,c.lineIndent(a.from,-1))),{changes:{from:o,to:s,insert:Xn.of(f)},range:Ee.cursor(o+1+f[1].length)}});return n(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function fie(e,t){let n=-1;return e.changeByRange(r=>{let i=[];for(let s=r.from;s<=r.to;){let a=e.doc.lineAt(s);a.number>n&&(r.empty||r.to>a.from)&&(t(a,i,r),n=a.number),s=a.to+1}let o=e.changes(i);return{changes:i,range:Ee.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}})}const NFe=({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=Object.create(null),r=new W6(e,{overrideIndentation:o=>{let s=n[o];return s??-1}}),i=fie(e,(o,s,a)=>{let l=Zre(r,o.from);if(l==null)return;/\S/.test(o.text)||(l=0);let c=/^\s*/.exec(o.text)[0],u=g2(e,l);(c!=u||a.from<o.from+c.length)&&(n[o.from]=l,s.push({from:o.from,to:o.from+c.length,insert:u}))});return i.changes.empty||t(e.update(i,{userEvent:"indent"})),!0},J6=({state:e,dispatch:t})=>e.readOnly?!1:(t(e.update(fie(e,(n,r)=>{r.push({from:n.from,insert:e.facet(mg)})}),{userEvent:"input.indent"})),!0),die=({state:e,dispatch:t})=>e.readOnly?!1:(t(e.update(fie(e,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let o=Kf(i,e.tabSize),s=0,a=g2(e,Math.max(0,o-rb(e)));for(;s<i.length&&s<a.length&&i.charCodeAt(s)==a.charCodeAt(s);)s++;r.push({from:n.from+s,to:n.from+i.length,insert:a.slice(s)})}),{userEvent:"delete.dedent"})),!0),Njt=[{key:"Ctrl-b",run:uie,shift:bFe,preventDefault:!0},{key:"Ctrl-f",run:cFe,shift:OFe},{key:"Ctrl-p",run:dFe,shift:SFe},{key:"Ctrl-n",run:hFe,shift:_Fe},{key:"Ctrl-a",run:rjt,shift:gjt},{key:"Ctrl-e",run:ijt,shift:mjt},{key:"Ctrl-d",run:EFe},{key:"Ctrl-h",run:tH},{key:"Ctrl-k",run:wjt},{key:"Ctrl-Alt-h",run:TFe},{key:"Ctrl-o",run:Cjt},{key:"Ctrl-t",run:$jt},{key:"Ctrl-v",run:eH}],Mjt=[{key:"ArrowLeft",run:uie,shift:bFe,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:ZLt,shift:ajt,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:tjt,shift:hjt,preventDefault:!0},{key:"ArrowRight",run:cFe,shift:OFe,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:GLt,shift:ljt,preventDefault:!0},{mac:"Cmd-ArrowRight",run:njt,shift:pjt,preventDefault:!0},{key:"ArrowUp",run:dFe,shift:SFe,preventDefault:!0},{mac:"Cmd-ArrowUp",run:jve,shift:zve},{mac:"Ctrl-ArrowUp",run:Mve,shift:Ive},{key:"ArrowDown",run:hFe,shift:_Fe,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Fve,shift:Qve},{mac:"Ctrl-ArrowDown",run:eH,shift:Lve},{key:"PageUp",run:Mve,shift:Ive},{key:"PageDown",run:eH,shift:Lve},{key:"Home",run:yFe,shift:djt,preventDefault:!0},{key:"Mod-Home",run:jve,shift:zve},{key:"End",run:mFe,shift:fjt,preventDefault:!0},{key:"Mod-End",run:Fve,shift:Qve},{key:"Enter",run:AFe},{key:"Mod-a",run:yjt},{key:"Backspace",run:tH,shift:tH},{key:"Delete",run:EFe},{key:"Mod-Backspace",mac:"Alt-Backspace",run:TFe},{key:"Mod-Delete",mac:"Alt-Delete",run:xjt},{mac:"Mod-Backspace",run:Sjt},{mac:"Mod-Delete",run:_jt}].concat(Njt.map(e=>({mac:e.key,run:e.run,shift:e.shift}))),E3=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:JLt,shift:cjt},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:ejt,shift:ujt},{key:"Alt-ArrowUp",run:Ejt},{key:"Shift-Alt-ArrowUp",run:Tjt},{key:"Alt-ArrowDown",run:kjt},{key:"Shift-Alt-ArrowDown",run:Pjt},{key:"Escape",run:Ojt},{key:"Mod-Enter",run:Djt},{key:"Alt-l",mac:"Ctrl-l",run:vjt},{key:"Mod-i",run:bjt,preventDefault:!0},{key:"Mod-[",run:die},{key:"Mod-]",run:J6},{key:"Mod-Alt-\\",run:NFe},{key:"Shift-Mod-k",run:Rjt},{key:"Shift-Mod-\\",run:sjt},{key:"Mod-/",run:ALt},{key:"Alt-A",run:NLt}].concat(Mjt),MFe={key:"Tab",run:J6,shift:die};function hie(e,t,n){return Math.min(Math.max(e,t),n)}function IFe(){if(xh()){const e=Byt();return{cellIds:e.cellIds,cellData:wn.mapValues(e.cellData,Nve),cellRuntime:wn.mapValues(e.cellRuntime,Nve),cellHandles:{},history:[],scrollKey:null,cellLogs:[]}}return{cellIds:[],cellData:{},cellRuntime:{},cellHandles:{},history:[],scrollKey:null,cellLogs:[]}}const{reducer:Ijt,createActions:Ljt}=lR(IFe,{createNewCell:(e,t)=>{const{cellId:n,before:r}=t,i=e.cellIds.indexOf(n),o=r?i:i+1,s=nD.create();return{...e,cellIds:t0e(e.cellIds,o,s),cellData:{...e.cellData,[s]:cE({id:s})},cellRuntime:{...e.cellRuntime,[s]:r$()},cellHandles:{...e.cellHandles,[s]:O.createRef()},scrollKey:s}},moveCell:(e,t)=>{const{cellId:n,before:r}=t,i=e.cellIds.indexOf(n),o=e.cellIds[i];return r&&i===0?{...e,cellIds:[o,...e.cellIds.slice(1)],scrollKey:n}:!r&&i===e.cellIds.length-1?{...e,cellIds:[...e.cellIds.slice(0,-1),o],scrollKey:n}:r?{...e,cellIds:Nv(e.cellIds,i,i-1),scrollKey:n}:{...e,cellIds:Nv(e.cellIds,i,i+1),scrollKey:n}},dropCellOver:(e,t)=>{const{cellId:n,overCellId:r}=t,i=e.cellIds.indexOf(n),o=e.cellIds.indexOf(r);return{...e,cellIds:Nv(e.cellIds,i,o),scrollKey:null}},focusCell:(e,t)=>{if(e.cellIds.length===0)return e;const{cellId:n,before:r}=t,i=e.cellIds.indexOf(n);let o=r?i-1:i+1;o=hie(o,0,e.cellIds.length-1);const s=e.cellIds[o];return fB({cellId:s,cell:e.cellHandles[s],config:e.cellData[s].config,codeFocus:r?"bottom":"top"}),e},focusTopCell:e=>{var n;if(e.cellIds.length===0)return e;const t=e.cellIds[0];return(n=e.cellHandles[t].current)==null||n.editorView.focus(),xAt(),e},focusBottomCell:e=>{var n;if(e.cellIds.length===0)return e;const t=e.cellIds[e.cellIds.length-1];return(n=e.cellHandles[t].current)==null||n.editorView.focus(),Qye(),e},sendToTop:(e,t)=>{if(e.cellIds.length===0)return e;const{cellId:n}=t,r=e.cellIds.indexOf(n);return{...e,cellIds:Nv(e.cellIds,r,0),scrollKey:n}},sendToBottom:(e,t)=>{if(e.cellIds.length===0)return e;const{cellId:n}=t,r=e.cellIds.indexOf(n);return{...e,cellIds:Nv(e.cellIds,r,e.cellIds.length-1),scrollKey:n}},deleteCell:(e,t)=>{var l;const n=t.cellId;if(e.cellIds.length===1)return e;const r=e.cellIds.indexOf(n),i=e.cellIds[r],o=r===0?1:r-1,s=e.cellIds[o],a=(l=e.cellHandles[i].current)==null?void 0:l.editorView.state.toJSON({history:sFe});return{...e,cellIds:gNt(e.cellIds,r),history:[...e.history,{name:e.cellData[i].name,serializedEditorState:a,index:r}],scrollKey:s}},undoDeleteCell:e=>{if(e.history.length===0)return e;{const t=e.history[e.history.length-1],{name:n,serializedEditorState:r={doc:""},index:i}=t,o=nD.create(),s=cE({id:o,name:n,code:r.doc,edited:r.doc.trim().length>0,serializedEditorState:r});return{...e,cellIds:t0e(e.cellIds,i,o),cellData:{...e.cellData,[o]:s},cellRuntime:{...e.cellRuntime,[o]:r$()},cellHandles:{...e.cellHandles,[o]:O.createRef()},history:e.history.slice(0,-1)}}},updateCellCode:(e,t)=>{const{cellId:n,code:r,formattingChange:i}=t;return e.cellIds.indexOf(n)===-1?e:YD(e,n,s=>i?{...s,code:r,lastCodeRun:s.edited?s.lastCodeRun:r}:{...s,code:r,edited:r.trim()!==s.lastCodeRun})},updateCellName:(e,t)=>{const{cellId:n,name:r}=t;return YD(e,n,i=>({...i,name:r}))},updateCellConfig:(e,t)=>{const{cellId:n,config:r}=t;return YD(e,n,i=>({...i,config:{...i.config,...r}}))},prepareForRun:(e,t)=>{const n=jB(e,t.cellId,r=>pNt(r));return YD(n,t.cellId,r=>({...r,edited:!1,lastCodeRun:r.code.trim()}))},handleCellMessage:(e,t)=>{const{cellId:n,message:r}=t,i=jB(e,n,o=>hNt(o,r));return{...i,cellLogs:[...i.cellLogs,...PLt(r)]}},setStdinResponse:(e,t)=>{const{cellId:n,response:r,outputIndex:i}=t;return jB(e,n,o=>{const s=[...o.consoleOutputs],a=s[i];return a.channel!=="stdin"?(Ut.warn("Expected stdin output"),o):(s[i]={channel:"stdin",mimetype:a.mimetype,data:a.data,timestamp:a.timestamp,response:r},{...o,interrupted:!1,consoleOutputs:s})})},setCells:(e,t)=>({...e,cellIds:t.map(n=>n.id),cellData:Object.fromEntries(t.map(n=>[n.id,n])),cellHandles:Object.fromEntries(t.map(n=>[n.id,O.createRef()])),cellRuntime:Object.fromEntries(t.map(n=>[n.id,r$()]))}),moveToNextCell:(e,t)=>{const{cellId:n,before:r,noCreate:i=!1}=t,o=e.cellIds.indexOf(n),s=r?o-1:o+1;if(s===e.cellIds.length&&!i){const a=nD.create();return{...e,cellIds:[...e.cellIds,a],cellData:{...e.cellData,[a]:cE({id:a})},cellRuntime:{...e.cellRuntime,[a]:r$()},cellHandles:{...e.cellHandles,[a]:O.createRef()}}}else if(s===-1&&!i){const a=nD.create();return{...e,cellIds:[a,...e.cellIds],cellData:{...e.cellData,[a]:cE({id:a})},cellRuntime:{...e.cellRuntime,[a]:r$()},cellHandles:{...e.cellHandles,[a]:O.createRef()}}}else{const a=e.cellIds[s];return fB({cellId:a,cell:e.cellHandles[a],config:e.cellData[a].config,codeFocus:r?"bottom":"top"}),e}},scrollToTarget:e=>{var n;const t=e.scrollKey;if(t===null)return e;{const r=e.cellIds.indexOf(t);if(r===e.cellIds.length-1){const i=e.cellIds[e.cellIds.length-1];(n=e.cellHandles[i].current)==null||n.editorView.focus(),Qye()}else{const i=e.cellIds[r];fB({cellId:i,cell:e.cellHandles[i],config:e.cellData[i].config,codeFocus:void 0})}return{...e,scrollKey:null}}},foldAll:e=>{const t=Object.values(e.cellHandles).map(n=>{var r;return(r=n.current)==null?void 0:r.editorView});return a3t(t),e},unfoldAll:e=>{const t=Object.values(e.cellHandles).map(n=>{var r;return(r=n.current)==null?void 0:r.editorView});return l3t(t),e},clearLogs:e=>({...e,cellLogs:[]})});function jB(e,t,n){return t in e.cellRuntime?{...e,cellRuntime:{...e.cellRuntime,[t]:n(e.cellRuntime[t])}}:(Ut.warn(`Cell ${t} not found in state`),e)}function YD(e,t,n){return t in e.cellData?{...e,cellData:{...e.cellData,[t]:n(e.cellData[t])}}:(Ut.warn(`Cell ${t} not found in state`),e)}const Yu=Nn(IFe()),jjt=Nn(e=>e(Yu).cellIds),LFe=Nn(e=>{const{cellIds:t,cellRuntime:n,cellData:r}=e(Yu);return t.map(o=>{var l;const s=n[o],{name:a}=r[o];if(((l=s.output)==null?void 0:l.mimetype)==="application/vnd.marimo+error"){const c=s.output.data.filter(u=>u.type!=="ancestor-stopped");if(c.length>0)return{output:{...s.output,data:c},cellId:o,cellName:a}}return null}).filter(Boolean)}),Fjt=Nn(e=>{const{cellIds:t,cellRuntime:n}=e(Yu),r=t.map(i=>n[i].outline);return fNt(r)}),zjt=Nn(e=>e(LFe).length),Qjt=Nn(e=>{const{cellIds:t,cellData:n}=e(Yu);return wn.fromEntries(t.map(i=>{var o;return[i,(o=n[i])==null?void 0:o.name]}))}),nC=()=>us(Yu),e7=()=>us(jjt),Bjt=()=>us(Qjt),Wjt=()=>us(LFe),Vjt=()=>us(Yu).cellLogs,pie=()=>Tn.get(Yu),Ujt=()=>{const{cellIds:e,cellData:t}=Tn.get(Yu);return e.map(n=>{var r;return(r=t[n])==null?void 0:r.name}).filter(Boolean)},qjt=v3t(h3t(Yu,e=>e.cellIds.map(t=>e.cellData[t]))),Yjt=()=>Fl(qjt),D0=()=>{const{cellIds:e,cellHandles:t}=Tn.get(Yu);return e.map(n=>{var r;return(r=t[n].current)==null?void 0:r.editorView}).filter(Boolean)},Xjt=e=>{var n;const{cellHandles:t}=Tn.get(Yu);return(n=t[e].current)==null?void 0:n.editorView};function Hjt(e){return Object.values(e.cellRuntime).some(t=>t.status==="running")}function Zjt(e,t){if(!t)return!1;const{cellIds:n,cellData:r}=e,i=n.map(l=>r[l]),o=i.map(l=>l.code),s=i.map(l=>l.config),a=i.map(l=>l.name);return!yB(o,t.codes)||!yB(s,t.configs)||!yB(a,t.names)}function Gjt(e){return FFe(e).length>0}function jFe(e){return e.cellIds.map(t=>e.cellData[t])}function Kjt({cellHandles:e}){const t={};for(const[n,r]of wn.entries(e))r.current&&(t[n]=r.current.editorView);return t}function Jjt(e){const{cellIds:t,cellData:n}=e;return t.map(r=>n[r]).filter(r=>r.config.disabled)}function eFt(e){const{cellIds:t,cellData:n}=e;return t.map(r=>n[r]).filter(r=>!r.config.disabled)}function FFe(e){const{cellIds:t,cellData:n,cellRuntime:r}=e;return t.filter(i=>n[i].edited||r[i].interrupted)}function zFe(e){const{cellIds:t,cellData:n,cellRuntime:r}=e;return t.map(i=>({...n[i],...r[i]}))}function Vh(){const e=vh(Yu);return O.useMemo(()=>Ljt(n=>{e(r=>Ijt(r,n))}),[e])}const $k=e=>{const{className:t,cellId:n,variant:r,onClick:i}=e,o=Bjt()[n]??"",s=e7().indexOf(n),a=Yf.create(n);return b.jsx("div",{className:ve("inline-block cursor-pointer text-[var(--blue-10)] hover:underline",t),onClick:l=>{l.stopPropagation(),l.preventDefault();const c=document.getElementById(a);c===null?Ut.error(`Cell ${a} not found on page.`):(c.scrollIntoView({behavior:"smooth",block:"center"}),r==="destructive"&&(c.classList.add("error-outline"),setTimeout(()=>{c.classList.remove("error-outline")},1500)),r==="focus"&&(c.classList.add("focus-outline"),setTimeout(()=>{c.classList.remove("focus-outline")},1500)),i==null||i())},children:p3e(o,s)})},dm=e=>b.jsx($k,{...e,variant:"destructive"}),d$=e=>b.jsx(h3e,{type:"single",collapsible:!0,className:e.className,children:b.jsxs(vre,{value:"item-1",className:"text-muted-foreground border-muted-foreground-20",children:[b.jsx(bre,{className:"py-2 text-[0.84375rem]",children:"Tip:"}),b.jsx(Ore,{className:"text-[0.84375rem]",children:e.children})]})}),QFe=({errors:e,className:t})=>{let n="This cell wasn't run because it has errors",r="destructive",i="text-error";const o="my-0.5 ml-8 text-muted-foreground/40",s=e.map((l,c)=>{switch(l.type){case"syntax":case"unknown":return b.jsx("p",{children:l.msg},c);case"cycle":return b.jsxs(O.Fragment,{children:[b.jsx("p",{className:"mt-4",children:"This cell is in a cycle:"}),b.jsx("ul",{className:"list-disc",children:l.edges.map(u=>b.jsxs("li",{className:o,children:[b.jsx(dm,{cellId:u[0]})," -> ",b.jsx(dm,{cellId:u[1]})]},`${u[0]}-${u[1]}`))}),b.jsx(d$,{children:"Merge these cells into a single cell."})]},c);case"multiple-defs":return b.jsxs(O.Fragment,{children:[b.jsx("p",{className:"mt-4",children:`The variable '${l.name}' was defined by another cell:`}),b.jsx("ul",{className:"list-disc",children:l.cells.map(u=>b.jsx("li",{className:o,children:b.jsx(dm,{cellId:u})},u))}),b.jsxs(d$,{children:["Try merging this cell with the above cells. Alternatively, rename '",l.name,"' to '_",l.name,"' to make the variable private to this cell."]})]},c);case"delete-nonlocal":return b.jsxs(O.Fragment,{children:[b.jsxs("div",{className:"mt-4",children:[`The variable '${l.name}' can't be deleted because it was defined by another cell (`,b.jsx(dm,{cellId:l.cells[0]}),")"]}),b.jsxs(d$,{children:["Try refactoring so that you can delete '",l.name,"' in the cell that creates it."]})]},c);case"interruption":return n="Interrupted",b.jsx("p",{children:"This cell was interrupted and needs to be re-run."},c);case"exception":return n=l.exception_type,l.raising_cell==null?b.jsxs(O.Fragment,{children:[b.jsx("p",{children:l.msg}),b.jsx(d$,{children:"See the console area for a traceback."})]},c):b.jsxs("div",{children:[l.msg,b.jsx(dm,{cellId:l.raising_cell}),b.jsxs(d$,{children:["Fix the error in ",b.jsx(dm,{cellId:l.raising_cell}),", or handle the exception in with a try/except block."]})]},c);case"ancestor-stopped":return n="Ancestor stopped",r="default",i="text-secondary-foreground",b.jsxs("div",{children:[l.msg,b.jsx(dm,{cellId:l.raising_cell})]},c);default:return Rg(l),null}}),a=b.jsx(zP,{className:"font-code font-bold mb-4",children:n});return b.jsxs(FP,{variant:r,className:ve(`border-none font-code text-sm text-[0.84375rem] px-0 ${i} normal [&:has(svg)]:pl-0`,t),children:[a,b.jsx("div",{children:b.jsx("ul",{children:s})})]})},Bve={};function tFt(e){const[t,n]=O.useState(Bve[e]??!1);return[t,r=>{n(r),Bve[e]=r}]}function nFt(e){return e==null||e.data==null||e.data===""}function gie({message:e,parsedJsonData:t={}}){const n=e.channel;switch(e.mimetype){case"text/html":return b.jsx(B4,{className:n,html:e.data});case"text/plain":return b.jsx(qte,{channel:n,text:e.data});case"application/json":return b.jsx(W4,{className:n,data:t,format:"auto"});case"image/png":case"image/svg+xml":case"image/tiff":case"image/avif":case"image/bmp":case"image/gif":case"image/jpeg":return b.jsx(IDe,{className:n,src:e.data,alt:""});case"video/mp4":case"video/mpeg":return b.jsx(jDe,{className:n,src:e.data});case"application/vnd.marimo+error":return b.jsx(QFe,{errors:e.data});default:return Rg(e),null}}const b2=ie.memo(({output:e,cellId:t,stale:n,allowExpand:r,className:i})=>{const o=O.useMemo(()=>{if(!e)return;const{mimetype:s,data:a}=e;switch(s){case"application/json":return typeof a=="string"?JSON.parse(a):a;default:return}},[e]);if(e===null)return null;if(e.channel==="output"&&e.data==="")return null;{const s=n?"This output is stale":void 0,a=r?WFe:BFe;return b.jsx(Xee,{children:b.jsx(a,{title:s,cellId:t,id:`output-${t}`,className:ve(n&&"marimo-output-stale",i),children:gie({message:e,parsedJsonData:o})})})}});b2.displayName="OutputArea";const BFe=ie.forwardRef((e,t)=>b.jsx("div",{ref:t,...e}));BFe.displayName="Div";const WFe=ie.memo(({cellId:e,children:t,...n})=>{const r=O.useRef(null),[i,o]=tFt(e),[s,a]=O.useState(!1);return O.useEffect(()=>{if(!r.current)return;const l=r.current,c=()=>{a(l.scrollHeight>l.clientHeight)},u=new ResizeObserver(c);return u.observe(l),()=>{u.disconnect()}},[n.id]),b.jsxs(b.Fragment,{children:[b.jsxs("div",{children:[(s||i)&&b.jsx("div",{className:"relative",children:b.jsx(zt,{className:ve("absolute top-6 -right-12 z-10",!i&&"hover-action"),onClick:()=>o(!i),size:"xs",variant:"text",children:i?b.jsx(tn,{content:"Collapse output",side:"left",children:b.jsx(Uvt,{className:"h-4 w-4"})}):b.jsx(tn,{content:"Expand output",side:"left",children:b.jsx(_Y,{className:"h-4 w-4"})})})}),b.jsx("div",{...n,className:ve("relative",n.className),ref:r,style:i?{maxHeight:"none"}:void 0,children:t})]}),b.jsx("div",{className:"increase-pointer-area-x contents"})]})});WFe.displayName="ExpandableOutput";const rFt=({value:e})=>typeof e!="object"||e===null||!("mimetype"in e&&"data"in e)?null:b.jsx("div",{className:ve("flex items-center space-x-2"),children:gie({message:{channel:"output",data:e.data,mimetype:e.mimetype,timestamp:0}})});function iFt(e){if(e.length===0)return[];if(typeof e[0]!="object")return[];const t=new Map;return e.forEach(n=>{typeof n=="object"&&Object.entries(n).forEach(([r,i])=>{const o=t.get(r);o||t.set(r,{key:r,type:nH(i)?"primitive":"mime"}),o&&o.type==="primitive"&&!nH(i)&&t.set(r,{key:r,type:"mime"})})}),[...t.values()]}function oFt(e,t,n){const i=iFt(e).map(o=>({id:o.key,accessorFn:s=>s[o.key],header:({column:s})=>b.jsx(yk,{header:o.key,column:s}),cell:({renderValue:s,getValue:a})=>{const l=a();return nH(l)?s():b.jsx(rFt,{value:l})},enableSorting:o.type==="primitive"}));return t.length>0&&i.unshift(...t),(n==="single"||n==="multi")&&i.unshift({id:"select",header:({table:o})=>n==="multi"?b.jsx(Dp,{checked:o.getIsAllPageRowsSelected(),onCheckedChange:s=>o.toggleAllPageRowsSelected(!!s),"aria-label":"Select all",className:"mx-2"}):null,cell:({row:o})=>b.jsx(Dp,{checked:o.getIsSelected(),onCheckedChange:s=>o.toggleSelected(!!s),"aria-label":"Select row",className:"mx-2"}),enableSorting:!1,enableHiding:!1}),i}function sFt(e){return e.map(([t,n],r)=>({id:`_row_header_${r}`,accessorFn:(i,o)=>n[o],header:({column:i})=>b.jsx(yk,{header:t,column:i}),cell:({renderValue:i})=>b.jsx("b",{children:String(i())}),enableSorting:!1}))}function nH(e){return e==null?!0:typeof e!="object"}function N0(e,t){const[n,r]=O.useState(void 0),[i,o]=O.useState(!1),[s,a]=O.useState(void 0);return O.useEffect(()=>{let l=!1;return o(!0),e().then(c=>{l||(r(c),a(void 0))}).catch(c=>{l||a(c)}).finally(()=>{l||o(!1)}),()=>{l=!0}},t),{data:n,loading:i,error:s}}function ec(e,t,n){return e.fields=t||[],e.fname=n,e}function Vi(e){return e==null?null:e.fname}function ya(e){return e==null?null:e.fields}function VFe(e){return e.length===1?aFt(e[0]):lFt(e)}const aFt=e=>function(t){return t[e]},lFt=e=>{const t=e.length;return function(n){for(let r=0;r<t;++r)n=n[e[r]];return n}};function De(e){throw Error(e)}function Uh(e){const t=[],n=e.length;let r=null,i=0,o="",s,a,l;e=e+"";function c(){t.push(o+e.substring(s,a)),o="",s=a+1}for(s=a=0;a<n;++a)if(l=e[a],l==="\\")o+=e.substring(s,a++),s=a;else if(l===r)c(),r=null,i=-1;else{if(r)continue;s===i&&l==='"'||s===i&&l==="'"?(s=a+1,r=l):l==="."&&!i?a>s?c():s=a+1:l==="["?(a>s&&c(),i=s=a+1):l==="]"&&(i||De("Access path missing open bracket: "+e),i>0&&c(),i=0,s=a+1)}return i&&De("Access path missing closing bracket: "+e),r&&De("Access path missing closing quote: "+e),a>s&&(a++,c()),t}function Ql(e,t,n){const r=Uh(e);return e=r.length===1?r[0]:e,ec((n&&n.get||VFe)(r),[e],t||e)}const gR=Ql("id"),$a=ec(e=>e,[],"identity"),Am=ec(()=>0,[],"zero"),rC=ec(()=>1,[],"one"),Lu=ec(()=>!0,[],"true"),hm=ec(()=>!1,[],"false");function cFt(e,t,n){const r=[t].concat([].slice.call(n));console[e].apply(console,r)}const UFe=0,mie=1,yie=2,qFe=3,YFe=4;function vie(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:cFt,r=e||UFe;return{level(i){return arguments.length?(r=+i,this):r},error(){return r>=mie&&n(t||"error","ERROR",arguments),this},warn(){return r>=yie&&n(t||"warn","WARN",arguments),this},info(){return r>=qFe&&n(t||"log","INFO",arguments),this},debug(){return r>=YFe&&n(t||"log","DEBUG",arguments),this}}}var Me=Array.isArray;function ut(e){return e===Object(e)}const Wve=e=>e!=="__proto__";function iC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,i)=>{for(const o in i)if(o==="signals")r.signals=uFt(r.signals,i.signals);else{const s=o==="legend"?{layout:1}:o==="style"?!0:null;oC(r,o,i[o],s)}return r},{})}function oC(e,t,n,r){if(!Wve(t))return;let i,o;if(ut(n)&&!Me(n)){o=ut(e[t])?e[t]:e[t]={};for(i in n)r&&(r===!0||r[i])?oC(o,i,n[i]):Wve(i)&&(o[i]=n[i])}else e[t]=n}function uFt(e,t){if(e==null)return t;const n={},r=[];function i(o){n[o.name]||(n[o.name]=1,r.push(o))}return t.forEach(i),e.forEach(i),r}function In(e){return e[e.length-1]}function pa(e){return e==null||e===""?null:+e}const XFe=e=>t=>e*Math.exp(t),HFe=e=>t=>Math.log(e*t),ZFe=e=>t=>Math.sign(t)*Math.log1p(Math.abs(t/e)),GFe=e=>t=>Math.sign(t)*Math.expm1(Math.abs(t))*e,k3=e=>t=>t<0?-Math.pow(-t,e):Math.pow(t,e);function t7(e,t,n,r){const i=n(e[0]),o=n(In(e)),s=(o-i)*t;return[r(i-s),r(o-s)]}function KFe(e,t){return t7(e,t,pa,$a)}function JFe(e,t){var n=Math.sign(e[0]);return t7(e,t,HFe(n),XFe(n))}function e4e(e,t,n){return t7(e,t,k3(n),k3(1/n))}function t4e(e,t,n){return t7(e,t,ZFe(n),GFe(n))}function n7(e,t,n,r,i){const o=r(e[0]),s=r(In(e)),a=t!=null?r(t):(o+s)/2;return[i(a+(o-a)*n),i(a+(s-a)*n)]}function bie(e,t,n){return n7(e,t,n,pa,$a)}function Oie(e,t,n){const r=Math.sign(e[0]);return n7(e,t,n,HFe(r),XFe(r))}function T3(e,t,n,r){return n7(e,t,n,k3(r),k3(1/r))}function xie(e,t,n,r){return n7(e,t,n,ZFe(r),GFe(r))}function n4e(e){return 1+~~(new Date(e).getMonth()/3)}function r4e(e){return 1+~~(new Date(e).getUTCMonth()/3)}function lt(e){return e!=null?Me(e)?e:[e]:[]}function i4e(e,t,n){let r=e[0],i=e[1],o;return i<r&&(o=i,i=r,r=o),o=i-r,o>=n-t?[t,n]:[r=Math.min(Math.max(r,t),n-o),r+o]}function cn(e){return typeof e=="function"}const fFt="descending";function wie(e,t,n){n=n||{},t=lt(t)||[];const r=[],i=[],o={},s=n.comparator||dFt;return lt(e).forEach((a,l)=>{a!=null&&(r.push(t[l]===fFt?-1:1),i.push(a=cn(a)?a:Ql(a,null,n)),(ya(a)||[]).forEach(c=>o[c]=1))}),i.length===0?null:ec(s(i,r),Object.keys(o))}const r7=(e,t)=>(e<t||e==null)&&t!=null?-1:(e>t||t==null)&&e!=null?1:(t=t instanceof Date?+t:t,(e=e instanceof Date?+e:e)!==e&&t===t?-1:t!==t&&e===e?1:0),dFt=(e,t)=>e.length===1?hFt(e[0],t[0]):pFt(e,t,e.length),hFt=(e,t)=>function(n,r){return r7(e(n),e(r))*t},pFt=(e,t,n)=>(t.push(0),function(r,i){let o,s=0,a=-1;for(;s===0&&++a<n;)o=e[a],s=r7(o(r),o(i));return s*t[a]});function Ea(e){return cn(e)?e:()=>e}function Sie(e,t){let n;return r=>{n&&clearTimeout(n),n=setTimeout(()=>(t(r),n=null),e)}}function ln(e){for(let t,n,r=1,i=arguments.length;r<i;++r){t=arguments[r];for(n in t)e[n]=t[n]}return e}function _h(e,t){let n=0,r,i,o,s;if(e&&(r=e.length))if(t==null){for(i=e[n];n<r&&(i==null||i!==i);i=e[++n]);for(o=s=i;n<r;++n)i=e[n],i!=null&&(i<o&&(o=i),i>s&&(s=i))}else{for(i=t(e[n]);n<r&&(i==null||i!==i);i=t(e[++n]));for(o=s=i;n<r;++n)i=t(e[n]),i!=null&&(i<o&&(o=i),i>s&&(s=i))}return[o,s]}function o4e(e,t){const n=e.length;let r=-1,i,o,s,a,l;if(t==null){for(;++r<n;)if(o=e[r],o!=null&&o>=o){i=s=o;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)o=e[r],o!=null&&(i>o&&(i=o,a=r),s<o&&(s=o,l=r))}else{for(;++r<n;)if(o=t(e[r],r,e),o!=null&&o>=o){i=s=o;break}if(r===n)return[-1,-1];for(a=l=r;++r<n;)o=t(e[r],r,e),o!=null&&(i>o&&(i=o,a=r),s<o&&(s=o,l=r))}return[a,l]}const gFt=Object.prototype.hasOwnProperty;function Rt(e,t){return gFt.call(e,t)}const XD={};function sC(e){let t={},n;function r(o){return Rt(t,o)&&t[o]!==XD}const i={size:0,empty:0,object:t,has:r,get(o){return r(o)?t[o]:void 0},set(o,s){return r(o)||(++i.size,t[o]===XD&&--i.empty),t[o]=s,this},delete(o){return r(o)&&(--i.size,++i.empty,t[o]=XD),this},clear(){i.size=i.empty=0,i.object=t={}},test(o){return arguments.length?(n=o,i):n},clean(){const o={};let s=0;for(const a in t){const l=t[a];l!==XD&&(!n||!n(l))&&(o[a]=l,++s)}i.size=s,i.empty=0,i.object=t=o}};return e&&Object.keys(e).forEach(o=>{i.set(o,e[o])}),i}function s4e(e,t,n,r,i,o){if(!n&&n!==0)return o;const s=+n;let a=e[0],l=In(e),c;l<a&&(c=a,a=l,l=c),c=Math.abs(t-a);const u=Math.abs(l-t);return c<u&&c<=s?r:u<=s?i:o}function Ke(e,t,n){const r=e.prototype=Object.create(t.prototype);return Object.defineProperty(r,"constructor",{value:e,writable:!0,enumerable:!0,configurable:!0}),ln(r,n)}function Ux(e,t,n,r){let i=t[0],o=t[t.length-1],s;return i>o&&(s=i,i=o,o=s),n=n===void 0||n,r=r===void 0||r,(n?i<=e:i<e)&&(r?e<=o:e<o)}function M0(e){return typeof e=="boolean"}function yy(e){return Object.prototype.toString.call(e)==="[object Date]"}function a4e(e){return e&&cn(e[Symbol.iterator])}function Un(e){return typeof e=="number"}function l4e(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function at(e){return typeof e=="string"}function _ie(e,t,n){e&&(e=t?lt(e).map(a=>a.replace(/\\(.)/g,"$1")):lt(e));const r=e&&e.length,i=n&&n.get||VFe,o=a=>i(t?[a]:Uh(a));let s;if(!r)s=function(){return""};else if(r===1){const a=o(e[0]);s=function(l){return""+a(l)}}else{const a=e.map(o);s=function(l){let c=""+a[0](l),u=0;for(;++u<r;)c+="|"+a[u](l);return c}}return ec(s,e,"key")}function c4e(e,t){const n=e[0],r=In(e),i=+t;return i?i===1?r:n+i*(r-n):n}const mFt=1e4;function u4e(e){e=+e||mFt;let t,n,r;const i=()=>{t={},n={},r=0},o=(s,a)=>(++r>e&&(n=t,t={},r=1),t[s]=a);return i(),{clear:i,has:s=>Rt(t,s)||Rt(n,s),get:s=>Rt(t,s)?t[s]:Rt(n,s)?o(s,n[s]):void 0,set:(s,a)=>Rt(t,s)?t[s]=a:o(s,a)}}function f4e(e,t,n,r){const i=t.length,o=n.length;if(!o)return t;if(!i)return n;const s=r||new t.constructor(i+o);let a=0,l=0,c=0;for(;a<i&&l<o;++c)s[c]=e(t[a],n[l])>0?n[l++]:t[a++];for(;a<i;++a,++c)s[c]=t[a];for(;l<o;++l,++c)s[c]=n[l];return s}function gE(e,t){let n="";for(;--t>=0;)n+=e;return n}function d4e(e,t,n,r){const i=n||" ",o=e+"",s=t-o.length;return s<=0?o:r==="left"?gE(i,s)+o:r==="center"?gE(i,~~(s/2))+o+gE(i,Math.ceil(s/2)):o+gE(i,s)}function mR(e){return e&&In(e)-e[0]||0}function Ge(e){return Me(e)?"["+e.map(Ge)+"]":ut(e)||at(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function Cie(e){return e==null||e===""?null:!e||e==="false"||e==="0"?!1:!!e}const yFt=e=>Un(e)||yy(e)?e:Date.parse(e);function $ie(e,t){return t=t||yFt,e==null||e===""?null:t(e)}function Eie(e){return e==null||e===""?null:e+""}function td(e){const t={},n=e.length;for(let r=0;r<n;++r)t[e[r]]=!0;return t}function h4e(e,t,n,r){const i=r??"",o=e+"",s=o.length,a=Math.max(0,t-i.length);return s<=t?o:n==="left"?i+o.slice(s-a):n==="center"?o.slice(0,Math.ceil(a/2))+i+o.slice(s-~~(a/2)):o.slice(0,a)+i}function wm(e,t,n){if(e)if(t){const r=e.length;for(let i=0;i<r;++i){const o=t(e[i]);o&&n(o,i,e)}}else e.forEach(n)}var Vve={},FB={},zB=34,h$=10,QB=13;function p4e(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function vFt(e,t){var n=p4e(e);return function(r,i){return t(n(r),i,e)}}function Uve(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function hl(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function bFt(e){return e<0?"-"+hl(-e,6):e>9999?"+"+hl(e,6):hl(e,4)}function OFt(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":bFt(e.getUTCFullYear())+"-"+hl(e.getUTCMonth()+1,2)+"-"+hl(e.getUTCDate(),2)+(i?"T"+hl(t,2)+":"+hl(n,2)+":"+hl(r,2)+"."+hl(i,3)+"Z":r?"T"+hl(t,2)+":"+hl(n,2)+":"+hl(r,2)+"Z":n||t?"T"+hl(t,2)+":"+hl(n,2)+"Z":"")}function xFt(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(f,d){var h,p,g=i(f,function(y,v){if(h)return h(y,v-1);p=y,h=d?vFt(y,d):p4e(y)});return g.columns=p||[],g}function i(f,d){var h=[],p=f.length,g=0,y=0,v,x=p<=0,m=!1;f.charCodeAt(p-1)===h$&&--p,f.charCodeAt(p-1)===QB&&--p;function w(){if(x)return FB;if(m)return m=!1,Vve;var C,$=g,E;if(f.charCodeAt($)===zB){for(;g++<p&&f.charCodeAt(g)!==zB||f.charCodeAt(++g)===zB;);return(C=g)>=p?x=!0:(E=f.charCodeAt(g++))===h$?m=!0:E===QB&&(m=!0,f.charCodeAt(g)===h$&&++g),f.slice($+1,C-1).replace(/""/g,'"')}for(;g<p;){if((E=f.charCodeAt(C=g++))===h$)m=!0;else if(E===QB)m=!0,f.charCodeAt(g)===h$&&++g;else if(E!==n)continue;return f.slice($,C)}return x=!0,f.slice($,p)}for(;(v=w())!==FB;){for(var S=[];v!==Vve&&v!==FB;)S.push(v),v=w();d&&(S=d(S,y++))==null||h.push(S)}return h}function o(f,d){return f.map(function(h){return d.map(function(p){return u(h[p])}).join(e)})}function s(f,d){return d==null&&(d=Uve(f)),[d.map(u).join(e)].concat(o(f,d)).join(`
`)}function a(f,d){return d==null&&(d=Uve(f)),o(f,d).join(`
`)}function l(f){return f.map(c).join(`
`)}function c(f){return f.map(u).join(e)}function u(f){return f==null?"":f instanceof Date?OFt(f):t.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:r,parseRows:i,format:s,formatBody:a,formatRows:l,formatRow:c,formatValue:u}}function wFt(e){return e}function SFt(e){if(e==null)return wFt;var t,n,r=e.scale[0],i=e.scale[1],o=e.translate[0],s=e.translate[1];return function(a,l){l||(t=n=0);var c=2,u=a.length,f=new Array(u);for(f[0]=(t+=a[0])*r+o,f[1]=(n+=a[1])*i+s;c<u;)f[c]=a[c],++c;return f}}function _Ft(e,t){for(var n,r=e.length,i=r-t;i<--r;)n=e[i],e[i++]=e[r],e[r]=n}function CFt(e,t){return typeof t=="string"&&(t=e.objects[t]),t.type==="GeometryCollection"?{type:"FeatureCollection",features:t.geometries.map(function(n){return qve(e,n)})}:qve(e,t)}function qve(e,t){var n=t.id,r=t.bbox,i=t.properties==null?{}:t.properties,o=g4e(e,t);return n==null&&r==null?{type:"Feature",properties:i,geometry:o}:r==null?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function g4e(e,t){var n=SFt(e.transform),r=e.arcs;function i(u,f){f.length&&f.pop();for(var d=r[u<0?~u:u],h=0,p=d.length;h<p;++h)f.push(n(d[h],h));u<0&&_Ft(f,p)}function o(u){return n(u)}function s(u){for(var f=[],d=0,h=u.length;d<h;++d)i(u[d],f);return f.length<2&&f.push(f[0]),f}function a(u){for(var f=s(u);f.length<4;)f.push(f[0]);return f}function l(u){return u.map(a)}function c(u){var f=u.type,d;switch(f){case"GeometryCollection":return{type:f,geometries:u.geometries.map(c)};case"Point":d=o(u.coordinates);break;case"MultiPoint":d=u.coordinates.map(o);break;case"LineString":d=s(u.arcs);break;case"MultiLineString":d=u.arcs.map(s);break;case"Polygon":d=l(u.arcs);break;case"MultiPolygon":d=u.arcs.map(l);break;default:return null}return{type:f,coordinates:d}}return c(t)}function $Ft(e,t){var n={},r={},i={},o=[],s=-1;t.forEach(function(c,u){var f=e.arcs[c<0?~c:c],d;f.length<3&&!f[1][0]&&!f[1][1]&&(d=t[++s],t[s]=c,t[u]=d)}),t.forEach(function(c){var u=a(c),f=u[0],d=u[1],h,p;if(h=i[f])if(delete i[h.end],h.push(c),h.end=d,p=r[d]){delete r[p.start];var g=p===h?h:h.concat(p);r[g.start=h.start]=i[g.end=p.end]=g}else r[h.start]=i[h.end]=h;else if(h=r[d])if(delete r[h.start],h.unshift(c),h.start=f,p=i[f]){delete i[p.end];var y=p===h?h:p.concat(h);r[y.start=p.start]=i[y.end=h.end]=y}else r[h.start]=i[h.end]=h;else h=[c],r[h.start=f]=i[h.end=d]=h});function a(c){var u=e.arcs[c<0?~c:c],f=u[0],d;return e.transform?(d=[0,0],u.forEach(function(h){d[0]+=h[0],d[1]+=h[1]})):d=u[u.length-1],c<0?[d,f]:[f,d]}function l(c,u){for(var f in c){var d=c[f];delete u[d.start],delete d.start,delete d.end,d.forEach(function(h){n[h<0?~h:h]=1}),o.push(d)}}return l(i,r),l(r,i),t.forEach(function(c){n[c<0?~c:c]||o.push([c])}),o}function EFt(e){return g4e(e,kFt.apply(this,arguments))}function kFt(e,t,n){var r,i,o;if(arguments.length>1)r=TFt(e,t,n);else for(i=0,r=new Array(o=e.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:$Ft(e,r)}}function TFt(e,t,n){var r=[],i=[],o;function s(f){var d=f<0?~f:f;(i[d]||(i[d]=[])).push({i:f,g:o})}function a(f){f.forEach(s)}function l(f){f.forEach(a)}function c(f){f.forEach(l)}function u(f){switch(o=f,f.type){case"GeometryCollection":f.geometries.forEach(u);break;case"LineString":a(f.arcs);break;case"MultiLineString":case"Polygon":l(f.arcs);break;case"MultiPolygon":c(f.arcs);break}}return u(t),i.forEach(n==null?function(f){r.push(f[0].i)}:function(f){n(f[0].g,f[f.length-1].g)&&r.push(f[0].i)}),r}function Zp(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function PFt(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yR(e){let t,n,r;e.length!==2?(t=Zp,n=(a,l)=>Zp(e(a),l),r=(a,l)=>e(a)-l):(t=e===Zp||e===PFt?e:RFt,n=e,r=e);function i(a,l,c=0,u=a.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;n(a[f],l)<0?c=f+1:u=f}while(c<u)}return c}function o(a,l,c=0,u=a.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;n(a[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(a,l,c=0,u=a.length){const f=i(a,l,c,u-1);return f>c&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function RFt(){return 0}function m4e(e){return e===null?NaN:+e}function*AFt(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const y4e=yR(Zp),P3=y4e.right,DFt=y4e.left;yR(m4e).center;const vR=P3;function NFt(e,t){let n=0,r,i=0,o=0;if(t===void 0)for(let s of e)s!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,o+=r*(s-i));else{let s=-1;for(let a of e)(a=t(a,++s,e))!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i))}if(n>1)return o/(n-1)}function MFt(e,t){const n=NFt(e,t);return n&&Math.sqrt(n)}class Ka{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],s=t+o,a=Math.abs(t)<Math.abs(o)?t-(s-o):o-(s-t);a&&(n[r++]=a),t=s}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,o,s=0;if(n>0){for(s=t[--n];n>0&&(r=s,i=t[--n],s=r+i,o=i-(s-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(i=o*2,r=s+i,i==r-s&&(s=r))}return s}}class Yve extends Map{constructor(t,n=O4e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(rH(this,t))}has(t){return super.has(rH(this,t))}set(t,n){return super.set(v4e(this,t),n)}delete(t){return super.delete(b4e(this,t))}}class R3 extends Set{constructor(t,n=O4e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(rH(this,t))}add(t){return super.add(v4e(this,t))}delete(t){return super.delete(b4e(this,t))}}function rH({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function v4e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function b4e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function O4e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function IFt(e,t){return Array.from(t,n=>e[n])}function LFt(e=Zp){if(e===Zp)return x4e;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function x4e(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const jFt=Math.sqrt(50),FFt=Math.sqrt(10),zFt=Math.sqrt(2);function A3(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=jFt?10:o>=FFt?5:o>=zFt?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/s,a=Math.round(e*c),l=Math.round(t*c),a/c<e&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,a=Math.round(e/c),l=Math.round(t/c),a*c<e&&++a,l*c>t&&--l),l<a&&.5<=n&&n<2?A3(e,t,n*2):[a,l,c]}function iH(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?A3(t,e,n):A3(e,t,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let c=0;c<a;++c)l[c]=(o-c)/-s;else for(let c=0;c<a;++c)l[c]=(o-c)*s;else if(s<0)for(let c=0;c<a;++c)l[c]=(i+c)/-s;else for(let c=0;c<a;++c)l[c]=(i+c)*s;return l}function oH(e,t,n){return t=+t,e=+e,n=+n,A3(e,t,n)[2]}function e0(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?oH(t,e,n):oH(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function m1(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function sH(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function w4e(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?x4e:LFt(i);r>n;){if(r-n>600){const l=r-n+1,c=t-n+1,u=Math.log(l),f=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),h=Math.max(n,Math.floor(t-c*f/l+d)),p=Math.min(r,Math.floor(t+(l-c)*f/l+d));w4e(e,t,h,p,i)}const o=e[t];let s=n,a=r;for(p$(e,n,t),i(e[r],o)>0&&p$(e,n,r);s<a;){for(p$(e,s,a),++s,--a;i(e[s],o)<0;)++s;for(;i(e[a],o)>0;)--a}i(e[n],o)===0?p$(e,n,a):(++a,p$(e,a,r)),a<=t&&(n=a+1),t<=a&&(r=a-1)}return e}function p$(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function aH(e,t,n){if(e=Float64Array.from(AFt(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return sH(e);if(t>=1)return m1(e);var r,i=(r-1)*t,o=Math.floor(i),s=m1(w4e(e,o).subarray(0,o+1)),a=sH(e.subarray(o+1));return s+(a-s)*(i-o)}}function S4e(e,t,n=m4e){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),s=+n(e[o],o,e),a=+n(e[o+1],o+1,e);return s+(a-s)*(i-o)}}function QFt(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function _4e(e,t){return aH(e,.5,t)}function*BFt(e){for(const t of e)yield*t}function C4e(e){return Array.from(BFt(e))}function Cc(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function $4e(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function WFt(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function D3(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function xS(e){return e=D3(Math.abs(e)),e?e[1]:NaN}function VFt(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function UFt(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var qFt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sb(e){if(!(t=qFt.exec(e)))throw new Error("invalid format: "+e);var t;return new kie({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}sb.prototype=kie.prototype;function kie(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}kie.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function YFt(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var E4e;function XFt(e,t){var n=D3(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(E4e=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+D3(e,Math.max(0,t+o-1))[0]}function Xve(e,t){var n=D3(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Hve={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:WFt,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Xve(e*100,t),r:Xve,s:XFt,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Zve(e){return e}var Gve=Array.prototype.map,Kve=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function k4e(e){var t=e.grouping===void 0||e.thousands===void 0?Zve:VFt(Gve.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Zve:UFt(Gve.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=sb(f);var d=f.fill,h=f.align,p=f.sign,g=f.symbol,y=f.zero,v=f.width,x=f.comma,m=f.precision,w=f.trim,S=f.type;S==="n"?(x=!0,S="g"):Hve[S]||(m===void 0&&(m=12),w=!0,S="g"),(y||d==="0"&&h==="=")&&(y=!0,d="0",h="=");var C=g==="$"?n:g==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",$=g==="$"?r:/[%p]/.test(S)?s:"",E=Hve[S],R=/[defgprs%]/.test(S);m=m===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m));function N(I){var j=C,A=$,T,D,L;if(S==="c")A=E(I)+A,I="";else{I=+I;var W=I<0||1/I<0;if(I=isNaN(I)?l:E(Math.abs(I),m),w&&(I=YFt(I)),W&&+I==0&&p!=="+"&&(W=!1),j=(W?p==="("?p:a:p==="-"||p==="("?"":p)+j,A=(S==="s"?Kve[8+E4e/3]:"")+A+(W&&p==="("?")":""),R){for(T=-1,D=I.length;++T<D;)if(L=I.charCodeAt(T),48>L||L>57){A=(L===46?i+I.slice(T+1):I.slice(T))+A,I=I.slice(0,T);break}}}x&&!y&&(I=t(I,1/0));var V=j.length+I.length+A.length,Q=V<v?new Array(v-V+1).join(d):"";switch(x&&y&&(I=t(Q+I,Q.length?v-A.length:1/0),Q=""),h){case"<":I=j+I+A+Q;break;case"=":I=j+Q+I+A;break;case"^":I=Q.slice(0,V=Q.length>>1)+j+I+A+Q.slice(V);break;default:I=Q+j+I+A;break}return o(I)}return N.toString=function(){return f+""},N}function u(f,d){var h=c((f=sb(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(xS(d)/3)))*3,g=Math.pow(10,-p),y=Kve[8+p/3];return function(v){return h(g*v)+y}}return{format:c,formatPrefix:u}}var HD,i7,Tie;HFt({thousands:",",grouping:[3],currency:["$",""]});function HFt(e){return HD=k4e(e),i7=HD.format,Tie=HD.formatPrefix,HD}function T4e(e){return Math.max(0,-xS(Math.abs(e)))}function P4e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xS(t)/3)))*3-xS(Math.abs(e)))}function R4e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,xS(t)-xS(e))+1}const BB=new Date,WB=new Date;function Yo(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{const l=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;let c;do l.push(c=new Date(+o)),t(o,a),e(o);while(c<o&&o<s);return l},i.filter=o=>Yo(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;t(s,-1),!o(s););else for(;--a>=0;)for(;t(s,1),!o(s););}),n&&(i.count=(o,s)=>(BB.setTime(+o),WB.setTime(+s),e(BB),e(WB),Math.floor(n(BB,WB))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const wS=Yo(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);wS.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Yo(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):wS);wS.range;const Np=1e3,bu=Np*60,Mp=bu*60,yg=Mp*24,Pie=yg*7,Jve=yg*30,VB=yg*365,Ip=Yo(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Np)},(e,t)=>(t-e)/Np,e=>e.getUTCSeconds());Ip.range;const o7=Yo(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Np)},(e,t)=>{e.setTime(+e+t*bu)},(e,t)=>(t-e)/bu,e=>e.getMinutes());o7.range;const s7=Yo(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*bu)},(e,t)=>(t-e)/bu,e=>e.getUTCMinutes());s7.range;const a7=Yo(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Np-e.getMinutes()*bu)},(e,t)=>{e.setTime(+e+t*Mp)},(e,t)=>(t-e)/Mp,e=>e.getHours());a7.range;const l7=Yo(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Mp)},(e,t)=>(t-e)/Mp,e=>e.getUTCHours());l7.range;const Gp=Yo(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*bu)/yg,e=>e.getDate()-1);Gp.range;const vy=Yo(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/yg,e=>e.getUTCDate()-1);vy.range;const A4e=Yo(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/yg,e=>Math.floor(e/yg));A4e.range;function Gb(e){return Yo(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*bu)/Pie)}const aC=Gb(0),N3=Gb(1),ZFt=Gb(2),GFt=Gb(3),SS=Gb(4),KFt=Gb(5),JFt=Gb(6);aC.range;N3.range;ZFt.range;GFt.range;SS.range;KFt.range;JFt.range;function Kb(e){return Yo(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Pie)}const lC=Kb(0),M3=Kb(1),e4t=Kb(2),t4t=Kb(3),_S=Kb(4),n4t=Kb(5),r4t=Kb(6);lC.range;M3.range;e4t.range;t4t.range;_S.range;n4t.range;r4t.range;const O2=Yo(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());O2.range;const x2=Yo(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());x2.range;const Ch=Yo(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ch.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yo(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ch.range;const $h=Yo(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());$h.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yo(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});$h.range;function D4e(e,t,n,r,i,o){const s=[[Ip,1,Np],[Ip,5,5*Np],[Ip,15,15*Np],[Ip,30,30*Np],[o,1,bu],[o,5,5*bu],[o,15,15*bu],[o,30,30*bu],[i,1,Mp],[i,3,3*Mp],[i,6,6*Mp],[i,12,12*Mp],[r,1,yg],[r,2,2*yg],[n,1,Pie],[t,1,Jve],[t,3,3*Jve],[e,1,VB]];function a(c,u,f){const d=u<c;d&&([c,u]=[u,c]);const h=f&&typeof f.range=="function"?f:l(c,u,f),p=h?h.range(c,+u+1):[];return d?p.reverse():p}function l(c,u,f){const d=Math.abs(u-c)/f,h=yR(([,,y])=>y).right(s,d);if(h===s.length)return e.every(e0(c/VB,u/VB,f));if(h===0)return wS.every(Math.max(e0(c,u,f),1));const[p,g]=s[d/s[h-1][2]<s[h][2]/d?h-1:h];return p.every(g)}return[a,l]}const[i4t,o4t]=D4e($h,x2,lC,A4e,l7,s7),[s4t,a4t]=D4e(Ch,O2,aC,Gp,a7,o7),Ms="year",Bl="quarter",va="month",Fo="week",Wl="date",da="day",Eh="dayofyear",Lc="hours",jc="minutes",ju="seconds",nd="milliseconds",Rie=[Ms,Bl,va,Fo,Wl,da,Eh,Lc,jc,ju,nd],UB=Rie.reduce((e,t,n)=>(e[t]=1+n,e),{});function Aie(e){const t=lt(e).slice(),n={};return t.length||De("Missing time unit."),t.forEach(i=>{Rt(UB,i)?n[i]=1:De(`Invalid time unit: ${i}.`)}),(n[Fo]||n[da]?1:0)+(n[Bl]||n[va]||n[Wl]?1:0)+(n[Eh]?1:0)>1&&De(`Incompatible time units: ${e}`),t.sort((i,o)=>UB[i]-UB[o]),t}const l4t={[Ms]:"%Y ",[Bl]:"Q%q ",[va]:"%b ",[Wl]:"%d ",[Fo]:"W%U ",[da]:"%a ",[Eh]:"%j ",[Lc]:"%H:00",[jc]:"00:%M",[ju]:":%S",[nd]:".%L",[`${Ms}-${va}`]:"%Y-%m ",[`${Ms}-${va}-${Wl}`]:"%Y-%m-%d ",[`${Lc}-${jc}`]:"%H:%M"};function N4e(e,t){const n=ln({},l4t,t),r=Aie(e),i=r.length;let o="",s=0,a,l;for(s=0;s<i;)for(a=r.length;a>s;--a)if(l=r.slice(s,a).join("-"),n[l]!=null){o+=n[l],s=a;break}return o.trim()}const Iv=new Date;function Die(e){return Iv.setFullYear(e),Iv.setMonth(0),Iv.setDate(1),Iv.setHours(0,0,0,0),Iv}function M4e(e){return L4e(new Date(e))}function I4e(e){return lH(new Date(e))}function L4e(e){return Gp.count(Die(e.getFullYear())-1,e)}function lH(e){return aC.count(Die(e.getFullYear())-1,e)}function cH(e){return Die(e).getDay()}function c4t(e,t,n,r,i,o,s){if(0<=e&&e<100){const a=new Date(-1,t,n,r,i,o,s);return a.setFullYear(e),a}return new Date(e,t,n,r,i,o,s)}function j4e(e){return z4e(new Date(e))}function F4e(e){return uH(new Date(e))}function z4e(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return vy.count(t-1,e)}function uH(e){const t=Date.UTC(e.getUTCFullYear(),0,1);return lC.count(t-1,e)}function fH(e){return Iv.setTime(Date.UTC(e,0,1)),Iv.getUTCDay()}function u4t(e,t,n,r,i,o,s){if(0<=e&&e<100){const a=new Date(Date.UTC(-1,t,n,r,i,o,s));return a.setUTCFullYear(n.y),a}return new Date(Date.UTC(e,t,n,r,i,o,s))}function Q4e(e,t,n,r,i){const o=t||1,s=In(e),a=(v,x,m)=>(m=m||v,f4t(n[m],r[m],v===s&&o,x)),l=new Date,c=td(e),u=c[Ms]?a(Ms):Ea(2012),f=c[va]?a(va):c[Bl]?a(Bl):Am,d=c[Fo]&&c[da]?a(da,1,Fo+da):c[Fo]?a(Fo,1):c[da]?a(da,1):c[Wl]?a(Wl,1):c[Eh]?a(Eh,1):rC,h=c[Lc]?a(Lc):Am,p=c[jc]?a(jc):Am,g=c[ju]?a(ju):Am,y=c[nd]?a(nd):Am;return function(v){l.setTime(+v);const x=u(l);return i(x,f(l),d(l,x),h(l),p(l),g(l),y(l))}}function f4t(e,t,n,r){const i=n<=1?e:r?(o,s)=>r+n*Math.floor((e(o,s)-r)/n):(o,s)=>n*Math.floor(e(o,s)/n);return t?(o,s)=>t(i(o,s),s):i}function CS(e,t,n){return t+e*7-(n+6)%7}const d4t={[Ms]:e=>e.getFullYear(),[Bl]:e=>Math.floor(e.getMonth()/3),[va]:e=>e.getMonth(),[Wl]:e=>e.getDate(),[Lc]:e=>e.getHours(),[jc]:e=>e.getMinutes(),[ju]:e=>e.getSeconds(),[nd]:e=>e.getMilliseconds(),[Eh]:e=>L4e(e),[Fo]:e=>lH(e),[Fo+da]:(e,t)=>CS(lH(e),e.getDay(),cH(t)),[da]:(e,t)=>CS(1,e.getDay(),cH(t))},h4t={[Bl]:e=>3*e,[Fo]:(e,t)=>CS(e,0,cH(t))};function B4e(e,t){return Q4e(e,t||1,d4t,h4t,c4t)}const p4t={[Ms]:e=>e.getUTCFullYear(),[Bl]:e=>Math.floor(e.getUTCMonth()/3),[va]:e=>e.getUTCMonth(),[Wl]:e=>e.getUTCDate(),[Lc]:e=>e.getUTCHours(),[jc]:e=>e.getUTCMinutes(),[ju]:e=>e.getUTCSeconds(),[nd]:e=>e.getUTCMilliseconds(),[Eh]:e=>z4e(e),[Fo]:e=>uH(e),[da]:(e,t)=>CS(1,e.getUTCDay(),fH(t)),[Fo+da]:(e,t)=>CS(uH(e),e.getUTCDay(),fH(t))},g4t={[Bl]:e=>3*e,[Fo]:(e,t)=>CS(e,0,fH(t))};function W4e(e,t){return Q4e(e,t||1,p4t,g4t,u4t)}const m4t={[Ms]:Ch,[Bl]:O2.every(3),[va]:O2,[Fo]:aC,[Wl]:Gp,[da]:Gp,[Eh]:Gp,[Lc]:a7,[jc]:o7,[ju]:Ip,[nd]:wS},y4t={[Ms]:$h,[Bl]:x2.every(3),[va]:x2,[Fo]:lC,[Wl]:vy,[da]:vy,[Eh]:vy,[Lc]:l7,[jc]:s7,[ju]:Ip,[nd]:wS};function cC(e){return m4t[e]}function uC(e){return y4t[e]}function V4e(e,t,n){return e?e.offset(t,n):void 0}function U4e(e,t,n){return V4e(cC(e),t,n)}function q4e(e,t,n){return V4e(uC(e),t,n)}function Y4e(e,t,n,r){return e?e.range(t,n,r):void 0}function X4e(e,t,n,r){return Y4e(cC(e),t,n,r)}function H4e(e,t,n,r){return Y4e(uC(e),t,n,r)}const mE=1e3,yE=mE*60,vE=yE*60,c7=vE*24,v4t=c7*7,e1e=c7*30,dH=c7*365,Z4e=[Ms,va,Wl,Lc,jc,ju,nd],bE=Z4e.slice(0,-1),OE=bE.slice(0,-1),xE=OE.slice(0,-1),b4t=xE.slice(0,-1),O4t=[Ms,Fo],t1e=[Ms,va],G4e=[Ms],g$=[[bE,1,mE],[bE,5,5*mE],[bE,15,15*mE],[bE,30,30*mE],[OE,1,yE],[OE,5,5*yE],[OE,15,15*yE],[OE,30,30*yE],[xE,1,vE],[xE,3,3*vE],[xE,6,6*vE],[xE,12,12*vE],[b4t,1,c7],[O4t,1,v4t],[t1e,1,e1e],[t1e,3,3*e1e],[G4e,1,dH]];function K4e(e){const t=e.extent,n=e.maxbins||40,r=Math.abs(mR(t))/n;let i=yR(a=>a[2]).right(g$,r),o,s;return i===g$.length?(o=G4e,s=e0(t[0]/dH,t[1]/dH,n)):i?(i=g$[r/g$[i-1][2]<g$[i][2]/r?i-1:i],o=i[0],s=i[1]):(o=Z4e,s=Math.max(e0(t[0],t[1],n),1)),{units:o,step:s}}function qB(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function YB(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function m$(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function J4e(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,a=e.months,l=e.shortMonths,c=y$(i),u=v$(i),f=y$(o),d=v$(o),h=y$(s),p=v$(s),g=y$(a),y=v$(a),v=y$(l),x=v$(l),m={a:W,A:V,b:Q,B,c:null,d:a1e,e:a1e,f:W4t,g:J4t,G:t6t,H:z4t,I:Q4t,j:B4t,L:e6e,m:V4t,M:U4t,p:Y,q:U,Q:u1e,s:f1e,S:q4t,u:Y4t,U:X4t,V:H4t,w:Z4t,W:G4t,x:null,X:null,y:K4t,Y:e6t,Z:n6t,"%":c1e},w={a:q,A:Z,b:oe,B:ce,c:null,d:l1e,e:l1e,f:s6t,g:m6t,G:v6t,H:r6t,I:i6t,j:o6t,L:n6e,m:a6t,M:l6t,p:re,q:fe,Q:u1e,s:f1e,S:c6t,u:u6t,U:f6t,V:d6t,w:h6t,W:p6t,x:null,X:null,y:g6t,Y:y6t,Z:b6t,"%":c1e},S={a:N,A:I,b:j,B:A,c:T,d:o1e,e:o1e,f:I4t,g:i1e,G:r1e,H:s1e,I:s1e,j:A4t,L:M4t,m:R4t,M:D4t,p:R,q:P4t,Q:j4t,s:F4t,S:N4t,u:C4t,U:$4t,V:E4t,w:_4t,W:k4t,x:D,X:L,y:i1e,Y:r1e,Z:T4t,"%":L4t};m.x=C(n,m),m.X=C(r,m),m.c=C(t,m),w.x=C(n,w),w.X=C(r,w),w.c=C(t,w);function C(ae,ue){return function(me){var ne=[],Le=-1,_e=0,ke=ae.length,ze,Je,Be;for(me instanceof Date||(me=new Date(+me));++Le<ke;)ae.charCodeAt(Le)===37&&(ne.push(ae.slice(_e,Le)),(Je=n1e[ze=ae.charAt(++Le)])!=null?ze=ae.charAt(++Le):Je=ze==="e"?" ":"0",(Be=ue[ze])&&(ze=Be(me,Je)),ne.push(ze),_e=Le+1);return ne.push(ae.slice(_e,Le)),ne.join("")}}function $(ae,ue){return function(me){var ne=m$(1900,void 0,1),Le=E(ne,ae,me+="",0),_e,ke;if(Le!=me.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(ue&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(_e=YB(m$(ne.y,0,1)),ke=_e.getUTCDay(),_e=ke>4||ke===0?M3.ceil(_e):M3(_e),_e=vy.offset(_e,(ne.V-1)*7),ne.y=_e.getUTCFullYear(),ne.m=_e.getUTCMonth(),ne.d=_e.getUTCDate()+(ne.w+6)%7):(_e=qB(m$(ne.y,0,1)),ke=_e.getDay(),_e=ke>4||ke===0?N3.ceil(_e):N3(_e),_e=Gp.offset(_e,(ne.V-1)*7),ne.y=_e.getFullYear(),ne.m=_e.getMonth(),ne.d=_e.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),ke="Z"in ne?YB(m$(ne.y,0,1)).getUTCDay():qB(m$(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(ke+5)%7:ne.w+ne.U*7-(ke+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,YB(ne)):qB(ne)}}function E(ae,ue,me,ne){for(var Le=0,_e=ue.length,ke=me.length,ze,Je;Le<_e;){if(ne>=ke)return-1;if(ze=ue.charCodeAt(Le++),ze===37){if(ze=ue.charAt(Le++),Je=S[ze in n1e?ue.charAt(Le++):ze],!Je||(ne=Je(ae,me,ne))<0)return-1}else if(ze!=me.charCodeAt(ne++))return-1}return ne}function R(ae,ue,me){var ne=c.exec(ue.slice(me));return ne?(ae.p=u.get(ne[0].toLowerCase()),me+ne[0].length):-1}function N(ae,ue,me){var ne=h.exec(ue.slice(me));return ne?(ae.w=p.get(ne[0].toLowerCase()),me+ne[0].length):-1}function I(ae,ue,me){var ne=f.exec(ue.slice(me));return ne?(ae.w=d.get(ne[0].toLowerCase()),me+ne[0].length):-1}function j(ae,ue,me){var ne=v.exec(ue.slice(me));return ne?(ae.m=x.get(ne[0].toLowerCase()),me+ne[0].length):-1}function A(ae,ue,me){var ne=g.exec(ue.slice(me));return ne?(ae.m=y.get(ne[0].toLowerCase()),me+ne[0].length):-1}function T(ae,ue,me){return E(ae,t,ue,me)}function D(ae,ue,me){return E(ae,n,ue,me)}function L(ae,ue,me){return E(ae,r,ue,me)}function W(ae){return s[ae.getDay()]}function V(ae){return o[ae.getDay()]}function Q(ae){return l[ae.getMonth()]}function B(ae){return a[ae.getMonth()]}function Y(ae){return i[+(ae.getHours()>=12)]}function U(ae){return 1+~~(ae.getMonth()/3)}function q(ae){return s[ae.getUTCDay()]}function Z(ae){return o[ae.getUTCDay()]}function oe(ae){return l[ae.getUTCMonth()]}function ce(ae){return a[ae.getUTCMonth()]}function re(ae){return i[+(ae.getUTCHours()>=12)]}function fe(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var ue=C(ae+="",m);return ue.toString=function(){return ae},ue},parse:function(ae){var ue=$(ae+="",!1);return ue.toString=function(){return ae},ue},utcFormat:function(ae){var ue=C(ae+="",w);return ue.toString=function(){return ae},ue},utcParse:function(ae){var ue=$(ae+="",!0);return ue.toString=function(){return ae},ue}}}var n1e={"-":"",_:" ",0:"0"},hs=/^\s*\d+/,x4t=/^%/,w4t=/[\\^$*+?|[\]().{}]/g;function Gn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function S4t(e){return e.replace(w4t,"\\$&")}function y$(e){return new RegExp("^(?:"+e.map(S4t).join("|")+")","i")}function v$(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function _4t(e,t,n){var r=hs.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function C4t(e,t,n){var r=hs.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function $4t(e,t,n){var r=hs.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function E4t(e,t,n){var r=hs.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function k4t(e,t,n){var r=hs.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function r1e(e,t,n){var r=hs.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function i1e(e,t,n){var r=hs.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function T4t(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function P4t(e,t,n){var r=hs.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function R4t(e,t,n){var r=hs.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function o1e(e,t,n){var r=hs.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function A4t(e,t,n){var r=hs.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function s1e(e,t,n){var r=hs.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function D4t(e,t,n){var r=hs.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function N4t(e,t,n){var r=hs.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function M4t(e,t,n){var r=hs.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function I4t(e,t,n){var r=hs.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function L4t(e,t,n){var r=x4t.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function j4t(e,t,n){var r=hs.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function F4t(e,t,n){var r=hs.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function a1e(e,t){return Gn(e.getDate(),t,2)}function z4t(e,t){return Gn(e.getHours(),t,2)}function Q4t(e,t){return Gn(e.getHours()%12||12,t,2)}function B4t(e,t){return Gn(1+Gp.count(Ch(e),e),t,3)}function e6e(e,t){return Gn(e.getMilliseconds(),t,3)}function W4t(e,t){return e6e(e,t)+"000"}function V4t(e,t){return Gn(e.getMonth()+1,t,2)}function U4t(e,t){return Gn(e.getMinutes(),t,2)}function q4t(e,t){return Gn(e.getSeconds(),t,2)}function Y4t(e){var t=e.getDay();return t===0?7:t}function X4t(e,t){return Gn(aC.count(Ch(e)-1,e),t,2)}function t6e(e){var t=e.getDay();return t>=4||t===0?SS(e):SS.ceil(e)}function H4t(e,t){return e=t6e(e),Gn(SS.count(Ch(e),e)+(Ch(e).getDay()===4),t,2)}function Z4t(e){return e.getDay()}function G4t(e,t){return Gn(N3.count(Ch(e)-1,e),t,2)}function K4t(e,t){return Gn(e.getFullYear()%100,t,2)}function J4t(e,t){return e=t6e(e),Gn(e.getFullYear()%100,t,2)}function e6t(e,t){return Gn(e.getFullYear()%1e4,t,4)}function t6t(e,t){var n=e.getDay();return e=n>=4||n===0?SS(e):SS.ceil(e),Gn(e.getFullYear()%1e4,t,4)}function n6t(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Gn(t/60|0,"0",2)+Gn(t%60,"0",2)}function l1e(e,t){return Gn(e.getUTCDate(),t,2)}function r6t(e,t){return Gn(e.getUTCHours(),t,2)}function i6t(e,t){return Gn(e.getUTCHours()%12||12,t,2)}function o6t(e,t){return Gn(1+vy.count($h(e),e),t,3)}function n6e(e,t){return Gn(e.getUTCMilliseconds(),t,3)}function s6t(e,t){return n6e(e,t)+"000"}function a6t(e,t){return Gn(e.getUTCMonth()+1,t,2)}function l6t(e,t){return Gn(e.getUTCMinutes(),t,2)}function c6t(e,t){return Gn(e.getUTCSeconds(),t,2)}function u6t(e){var t=e.getUTCDay();return t===0?7:t}function f6t(e,t){return Gn(lC.count($h(e)-1,e),t,2)}function r6e(e){var t=e.getUTCDay();return t>=4||t===0?_S(e):_S.ceil(e)}function d6t(e,t){return e=r6e(e),Gn(_S.count($h(e),e)+($h(e).getUTCDay()===4),t,2)}function h6t(e){return e.getUTCDay()}function p6t(e,t){return Gn(M3.count($h(e)-1,e),t,2)}function g6t(e,t){return Gn(e.getUTCFullYear()%100,t,2)}function m6t(e,t){return e=r6e(e),Gn(e.getUTCFullYear()%100,t,2)}function y6t(e,t){return Gn(e.getUTCFullYear()%1e4,t,4)}function v6t(e,t){var n=e.getUTCDay();return e=n>=4||n===0?_S(e):_S.ceil(e),Gn(e.getUTCFullYear()%1e4,t,4)}function b6t(){return"+0000"}function c1e(){return"%"}function u1e(e){return+e}function f1e(e){return Math.floor(+e/1e3)}var zO,Nie,i6e,Mie,o6e;O6t({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function O6t(e){return zO=J4e(e),Nie=zO.format,i6e=zO.parse,Mie=zO.utcFormat,o6e=zO.utcParse,zO}function wE(e){const t={};return n=>t[n]||(t[n]=e(n))}function x6t(e,t){return n=>{const r=e(n),i=r.indexOf(t);if(i<0)return r;let o=w6t(r,i);const s=o<r.length?r.slice(o):"";for(;--o>i;)if(r[o]!=="0"){++o;break}return r.slice(0,o)+s}}function w6t(e,t){let n=e.lastIndexOf("e"),r;if(n>0)return n;for(n=e.length;--n>t;)if(r=e.charCodeAt(n),r>=48&&r<=57)return n+1}function s6e(e){const t=wE(e.format),n=e.formatPrefix;return{format:t,formatPrefix:n,formatFloat(r){const i=sb(r||",");if(i.precision==null){switch(i.precision=12,i.type){case"%":i.precision-=2;break;case"e":i.precision-=1;break}return x6t(t(i),t(".1f")(1)[1])}else return t(i)},formatSpan(r,i,o,s){s=sb(s??",f");const a=e0(r,i,o),l=Math.max(Math.abs(r),Math.abs(i));let c;if(s.precision==null)switch(s.type){case"s":return isNaN(c=P4e(a,l))||(s.precision=c),n(s,l);case"":case"e":case"g":case"p":case"r":{isNaN(c=R4e(a,l))||(s.precision=c-(s.type==="e"));break}case"f":case"%":{isNaN(c=T4e(a))||(s.precision=c-(s.type==="%")*2);break}}return t(s)}}}let hH;a6e();function a6e(){return hH=s6e({format:i7,formatPrefix:Tie})}function l6e(e){return s6e(k4e(e))}function I3(e){return arguments.length?hH=l6e(e):hH}function d1e(e,t,n){n=n||{},ut(n)||De(`Invalid time multi-format specifier: ${n}`);const r=t(ju),i=t(jc),o=t(Lc),s=t(Wl),a=t(Fo),l=t(va),c=t(Bl),u=t(Ms),f=e(n[nd]||".%L"),d=e(n[ju]||":%S"),h=e(n[jc]||"%I:%M"),p=e(n[Lc]||"%I %p"),g=e(n[Wl]||n[da]||"%a %d"),y=e(n[Fo]||"%b %d"),v=e(n[va]||"%B"),x=e(n[Bl]||"%B"),m=e(n[Ms]||"%Y");return w=>(r(w)<w?f:i(w)<w?d:o(w)<w?h:s(w)<w?p:l(w)<w?a(w)<w?g:y:u(w)<w?c(w)<w?v:x:m)(w)}function c6e(e){const t=wE(e.format),n=wE(e.utcFormat);return{timeFormat:r=>at(r)?t(r):d1e(t,cC,r),utcFormat:r=>at(r)?n(r):d1e(n,uC,r),timeParse:wE(e.parse),utcParse:wE(e.utcParse)}}let pH;u6e();function u6e(){return pH=c6e({format:Nie,parse:i6e,utcFormat:Mie,utcParse:o6e})}function f6e(e){return c6e(J4e(e))}function w2(e){return arguments.length?pH=f6e(e):pH}const gH=(e,t)=>ln({},e,t);function d6e(e,t){const n=e?l6e(e):I3(),r=t?f6e(t):w2();return gH(n,r)}function Iie(e,t){const n=arguments.length;return n&&n!==2&&De("defaultLocale expects either zero or two arguments."),n?gH(I3(e),w2(t)):gH(I3(),w2())}function S6t(){return a6e(),u6e(),Iie()}const _6t=/^(data:|([A-Za-z]+:)?\/\/)/,C6t=/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|file|data):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,$6t=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,h1e="file://";function E6t(e,t){return n=>({options:n||{},sanitize:T6t,load:k6t,fileAccess:!!t,file:P6t(t),http:A6t(e)})}async function k6t(e,t){const n=await this.sanitize(e,t),r=n.href;return n.localFile?this.file(r):this.http(r,t)}async function T6t(e,t){t=ln({},this.options,t);const n=this.fileAccess,r={href:null};let i,o,s;const a=C6t.test(e.replace($6t,""));(e==null||typeof e!="string"||!a)&&De("Sanitize failure, invalid URI: "+Ge(e));const l=_6t.test(e);return(s=t.baseURL)&&!l&&(!e.startsWith("/")&&!s.endsWith("/")&&(e="/"+e),e=s+e),o=(i=e.startsWith(h1e))||t.mode==="file"||t.mode!=="http"&&!l&&n,i?e=e.slice(h1e.length):e.startsWith("//")&&(t.defaultProtocol==="file"?(e=e.slice(2),o=!0):e=(t.defaultProtocol||"http")+":"+e),Object.defineProperty(r,"localFile",{value:!!o}),r.href=e,t.target&&(r.target=t.target+""),t.rel&&(r.rel=t.rel+""),t.context==="image"&&t.crossOrigin&&(r.crossOrigin=t.crossOrigin+""),r}function P6t(e){return e?t=>new Promise((n,r)=>{e.readFile(t,(i,o)=>{i?r(i):n(o)})}):R6t}async function R6t(){De("No file system access.")}function A6t(e){return e?async function(t,n){const r=ln({},this.options.http,n),i=n&&n.response,o=await e(t,r);return o.ok?cn(o[i])?o[i]():o.text():De(o.status+""+o.statusText)}:D6t}async function D6t(){De("No HTTP fetch method available.")}const N6t=e=>e!=null&&e===e,M6t=e=>e==="true"||e==="false"||e===!0||e===!1,I6t=e=>!Number.isNaN(Date.parse(e)),h6e=e=>!Number.isNaN(+e)&&!(e instanceof Date),L6t=e=>h6e(e)&&Number.isInteger(+e),L3={boolean:Cie,integer:pa,number:pa,date:$ie,string:Eie,unknown:$a},ZD=[M6t,L6t,h6e,I6t],j6t=["boolean","integer","number","date"];function p6e(e,t){if(!e||!e.length)return"unknown";const n=e.length,r=ZD.length,i=ZD.map((o,s)=>s+1);for(let o=0,s=0,a,l;o<n;++o)for(l=t?e[o][t]:e[o],a=0;a<r;++a)if(i[a]&&N6t(l)&&!ZD[a](l)&&(i[a]=0,++s,s===ZD.length))return"string";return j6t[i.reduce((o,s)=>o===0?s:o,0)-1]}function g6e(e,t){return t.reduce((n,r)=>(n[r]=p6e(e,r),n),{})}function p1e(e){const t=function(n,r){const i={delimiter:e};return Lie(n,r?ln(r,i):i)};return t.responseType="text",t}function Lie(e,t){return t.header&&(e=t.header.map(Ge).join(t.delimiter)+`
`+e),xFt(t.delimiter).parse(e+"")}Lie.responseType="text";function F6t(e){return typeof Buffer=="function"&&cn(Buffer.isBuffer)?Buffer.isBuffer(e):!1}function jie(e,t){const n=t&&t.property?Ql(t.property):$a;return ut(e)&&!F6t(e)?z6t(n(e),t):n(JSON.parse(e))}jie.responseType="json";function z6t(e,t){return!Me(e)&&a4e(e)&&(e=[...e]),t&&t.copy?JSON.parse(JSON.stringify(e)):e}const Q6t={interior:(e,t)=>e!==t,exterior:(e,t)=>e===t};function m6e(e,t){let n,r,i,o;return e=jie(e,t),t&&t.feature?(n=CFt,i=t.feature):t&&t.mesh?(n=EFt,i=t.mesh,o=Q6t[t.filter]):De("Missing TopoJSON feature or mesh parameter."),r=(r=e.objects[i])?n(e,r,o):De("Invalid TopoJSON object: "+i),r&&r.features||[r]}m6e.responseType="json";const oI={dsv:Lie,csv:p1e(","),tsv:p1e("	"),json:jie,topojson:m6e};function Fie(e,t){return arguments.length>1?(oI[e]=t,this):Rt(oI,e)?oI[e]:null}function y6e(e){const t=Fie(e);return t&&t.responseType||"text"}function j3(e,t,n,r){t=t||{};const i=Fie(t.type||"json");return i||De("Unknown data format type: "+t.type),e=i(e,t),t.parse&&B6t(e,t.parse,n,r),Rt(e,"columns")&&delete e.columns,e}function B6t(e,t,n,r){if(!e.length)return;const i=w2();n=n||i.timeParse,r=r||i.utcParse;let o=e.columns||Object.keys(e[0]),s,a,l,c,u,f;t==="auto"&&(t=g6e(e,o)),o=Object.keys(t);const d=o.map(h=>{const p=t[h];let g,y;if(p&&(p.startsWith("date:")||p.startsWith("utc:")))return g=p.split(/:(.+)?/,2),y=g[1],(y[0]==="'"&&y[y.length-1]==="'"||y[0]==='"'&&y[y.length-1]==='"')&&(y=y.slice(1,-1)),(g[0]==="utc"?r:n)(y);if(!L3[p])throw Error("Illegal format pattern: "+h+":"+p);return L3[p]});for(l=0,u=e.length,f=o.length;l<u;++l)for(s=e[l],c=0;c<f;++c)a=o[c],s[a]=d[c](s[a])}const bR=E6t(typeof fetch<"u"&&fetch,null);L3.date=e=>new Date(e).toISOString();const v6e=bR();function zie(e,t){return v6e.load(e).then(n=>(n=W6t(n),t&&t.type==="csv"?j3(n,{...t,parse:"auto"}):j3(n,t)))}function W6t(e){if(!e||!e.includes(","))return e;const t=e.split(`
`),r=t[0].split(","),i=new Set,o=[];for(const a of r){const l=U6t(a,i);o.push(l),i.add(l)}const s=o.join(",");return t[0]=s,t.join(`
`)}const V6t="";function U6t(e,t){let n=e,r=1;for(;t.has(n);)n=`${e}${V6t.repeat(r)}`,r++;return n}const q6t=c6("marimo-table").withData(H.object({initialValue:H.array(H.number()),label:H.string().nullable(),data:H.union([H.string(),H.array(H.object({}).passthrough())]),pagination:H.boolean().default(!1),pageSize:H.number().default(10),selection:H.enum(["single","multi"]).nullable().default(null),showDownload:H.boolean().default(!1),rowHeaders:H.array(H.tuple([H.string(),H.array(H.any())]))})).withFunctions({download_as:Z5.input(H.object({format:H.enum(["csv","json"])})).output(H.string())}).renderer(e=>typeof e.data.data=="string"?b.jsx(b6e,{...e.data,...e.functions,data:e.data.data,value:e.value,setValue:e.setValue}):b.jsx(O6e,{...e.data,...e.functions,data:e.data.data,value:e.value,setValue:e.setValue})),b6e=e=>{const{data:t,loading:n,error:r}=N0(()=>e.data?zie(e.data,{type:"csv",parse:"auto"}):Promise.resolve([]),[e.data]);return n&&!t?null:r?b.jsxs(FP,{variant:"destructive",children:[b.jsx(zP,{children:"Error"}),b.jsx("div",{className:"text-md",children:r.message||"An unknown error occurred"})]}):b.jsx(O6e,{...e,data:t||[]})},O6e=({label:e,data:t,pagination:n,pageSize:r,selection:i,value:o,showDownload:s,rowHeaders:a,download_as:l,className:c,setValue:u})=>{const f=O.useMemo(()=>oFt(t,sFt(a),i),[t,i,a]),d=Object.fromEntries((o||[]).map(h=>[h,!0]));return b.jsx(Hl,{label:e,align:"top",fullWidth:!0,children:b.jsx(vAt,{data:t,columns:f,className:c,pagination:n,pageSize:r,rowSelection:d,downloadAs:s?l:void 0,onRowSelectionChange:h=>{if(i==="single"){const p=typeof h=="function"?h({}):h;u(Object.keys(p).slice(0,1))}if(i==="multi"){const p=typeof h=="function"?h(d):h;u(Object.keys(p))}}})})};class Y6t{constructor(){be(this,"tagName","marimo-accordion");be(this,"validator",H.object({labels:H.array(H.string()),multiple:H.boolean()}))}render(t){return b.jsx(X6t,{...t.data,children:t.children})}}const X6t=({labels:e,multiple:t,children:n})=>{const r=t?"multiple":"single";return b.jsx(h3e,{type:r,className:"text-muted-foreground",collapsible:!0,children:ie.Children.map(n,(i,o)=>b.jsxs(vre,{value:o.toString(),className:"border-muted-foreground-20",children:[b.jsx(bre,{className:"py-2 text-md",children:Ha({html:e[o]})}),b.jsx(Ore,{className:"text-md",children:i})]},o))})},H6t=Oo("border rounded-lg p-12 mt-12 mb-12 text-foreground shadow-[4px_4px_0px_0px]",{variants:{kind:{neutral:"border-[var(--slate-9)] shadow-[var(--slate-8)]",alert:"bg-[var(--red-2)] border-[var(--red-9)] shadow-[var(--red-8)]",info:"bg-[var(--sky-1)] border-[var(--sky-8)] shadow-[var(--sky-7)]",danger:"bg-[var(--red-2)] border-[var(--red-9)] shadow-[var(--red-8)]",warn:"bg-[var(--amber-2)] border-[var(--amber-9)] shadow-[var(--amber-8)]",success:"bg-[var(--grass-2)] border-[var(--grass-9)] shadow-[var(--grass-8)]"}},defaultVariants:{kind:"neutral"}}),x6e=O.memo(({html:e,kind:t})=>b.jsx("div",{className:H6t({kind:t}),children:b.jsx(B4,{html:e})}));x6e.displayName="CalloutOutput";class Z6t{constructor(){be(this,"tagName","marimo-callout-output");be(this,"validator",H.object({html:H.string(),kind:XDe}))}render({data:t}){return b.jsx(x6e,{html:t.html,kind:t.kind})}}class G6t{constructor(){be(this,"tagName","marimo-json-output");be(this,"validator",H.object({name:H.string().nullish(),jsonData:H.unknown()}))}render({data:t,host:n}){const r=t.name===void 0?!1:t.name||"";return b.jsx(FDe,{container:n.shadowRoot,children:b.jsx(W4,{data:t.jsonData,format:"auto",name:r})})}}const w6e="Tabs",[K6t,EQn]=ro(w6e,[X_]),S6e=X_(),[J6t,Qie]=K6t(w6e),e7t=O.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:s="horizontal",dir:a,activationMode:l="automatic",...c}=e,u=zb(a),[f,d]=Vo({prop:r,onChange:i,defaultProp:o});return O.createElement(J6t,{scope:n,baseId:Rl(),value:f,onValueChange:d,orientation:s,dir:u,activationMode:l},O.createElement(Ot.div,le({dir:u,"data-orientation":s},c,{ref:t})))}),t7t="TabsList",n7t=O.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,o=Qie(t7t,n),s=S6e(n);return O.createElement(Zne,le({asChild:!0},s,{orientation:o.orientation,dir:o.dir,loop:r}),O.createElement(Ot.div,le({role:"tablist","aria-orientation":o.orientation},i,{ref:t})))}),r7t="TabsTrigger",i7t=O.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=e,s=Qie(r7t,n),a=S6e(n),l=_6e(s.baseId,r),c=C6e(s.baseId,r),u=r===s.value;return O.createElement(Gne,le({asChild:!0},a,{focusable:!i,active:u}),O.createElement(Ot.button,le({type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l},o,{ref:t,onMouseDown:qe(e.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?s.onValueChange(r):f.preventDefault()}),onKeyDown:qe(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&s.onValueChange(r)}),onFocus:qe(e.onFocus,()=>{const f=s.activationMode!=="manual";!u&&!i&&f&&s.onValueChange(r)})})))}),o7t="TabsContent",s7t=O.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...s}=e,a=Qie(o7t,n),l=_6e(a.baseId,r),c=C6e(a.baseId,r),u=r===a.value,f=O.useRef(u);return O.useEffect(()=>{const d=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(d)},[]),O.createElement(zs,{present:i||u},({present:d})=>O.createElement(Ot.div,le({"data-state":u?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!d,id:c,tabIndex:0},s,{ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0}}),d&&o))});function _6e(e,t){return`${e}-trigger-${t}`}function C6e(e,t){return`${e}-content-${t}`}const a7t=e7t,$6e=n7t,E6e=i7t,k6e=s7t,T6e=a7t,Bie=O.forwardRef(({className:e,...t},n)=>b.jsx($6e,{ref:n,className:ve("inline-flex max-h-14 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Bie.displayName=$6e.displayName;const F3=O.forwardRef(({className:e,...t},n)=>b.jsx(E6e,{ref:n,className:ve("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));F3.displayName=E6e.displayName;const z3=O.forwardRef(({className:e,...t},n)=>b.jsx(k6e,{ref:n,className:ve("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));z3.displayName=k6e.displayName;class P6e{constructor(){be(this,"tagName","marimo-tabs");be(this,"validator",H.object({tabs:H.array(H.string())}))}render(t){return b.jsx(l7t,{...t.data,value:t.value,setValue:t.setValue,children:t.children})}}const l7t=({tabs:e,value:t,setValue:n,children:r})=>{const[i,o]=ie.useState(t||"0"),s=a=>{o(a),n(a)};return t!==i&&t&&o(t),b.jsxs(T6e,{value:i,onValueChange:s,children:[b.jsx(Bie,{children:e.map((a,l)=>b.jsx(F3,{value:l.toString(),children:Ha({html:a})},l))}),ie.Children.map(r,(a,l)=>b.jsx(z3,{value:l.toString(),children:a}))]})},c7t="modulepreload",u7t=function(e,t){return new URL(e,t).href},g1e={},$e=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){const o=document.getElementsByTagName("link");i=Promise.all(n.map(s=>{if(s=u7t(s,r),s in g1e)return;g1e[s]=!0;const a=s.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let f=o.length-1;f>=0;f--){const d=o[f];if(d.href===s&&(!a||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":c7t,a||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),a)return new Promise((f,d)=>{u.addEventListener("load",f),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})}))}return i.then(()=>t()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};class f7t{constructor(){be(this,"tagName","marimo-tex");be(this,"validator",H.object({}))}render(t){return b.jsx(p7t,{tex:t.host.textContent||t.host.innerHTML})}}const d7t=V4(async()=>(await $e(()=>import("./katex-uUDgz_Mg.js"),__vite__mapDeps([]),import.meta.url)).default);async function h7t(e,t){const n=await d7t();t.startsWith("||(||(")&&t.endsWith("||)||)")?n.render(t.slice(6,-6),e,{displayMode:!0,throwOnError:!1}):t.startsWith("||(")&&t.endsWith("||)")?n.render(t.slice(3,-3),e,{displayMode:!1,throwOnError:!1}):t.startsWith("||[")&&t.endsWith("||]")&&n.render(t.slice(3,-3),e,{displayMode:!0,throwOnError:!1})}const p7t=({tex:e})=>{const t=O.useRef(null);return O.useLayoutEffect(()=>{t.current&&h7t(t.current,e)},[e]),b.jsx("span",{ref:t})};var g7t=y7t;const m7t={hoursPerDay:24,daysPerWeek:7,weeksPerMonth:4,monthsPerYear:12,daysPerYear:365.25},m1e={ms:["ms","milli","millisecond","milliseconds"],s:["s","sec","secs","second","seconds"],m:["m","min","mins","minute","minutes"],h:["h","hr","hrs","hour","hours"],d:["d","day","days"],w:["w","week","weeks"],mth:["mon","mth","mths","month","months"],y:["y","yr","yrs","year","years"]};function y7t(e,t,n){n=Object.assign({},m7t,n||{}),(typeof e=="number"||e.match(/^[-+]?[0-9.]+$/g))&&(e=parseInt(e)+"ms");let r=0;const i=v7t(n),o=e.toLowerCase().replace(/[^.\w+-]+/g,"").match(/[-+]?[0-9.]+[a-z]+/g);if(o===null)throw new Error(`The value [${e}] could not be parsed by timestring`);return o.forEach(s=>{const a=s.match(/[0-9.]+/g)[0],l=s.match(/[a-z]+/g)[0];r+=b7t(a,l,i)}),t?O7t(r,t,i):r}function v7t(e){const t={ms:.001,s:1,m:60,h:3600};return t.d=e.hoursPerDay*t.h,t.w=e.daysPerWeek*t.d,t.mth=e.daysPerYear/e.monthsPerYear*t.d,t.y=e.daysPerYear*t.d,t}function R6e(e){for(const t of Object.keys(m1e))if(m1e[t].indexOf(e)>-1)return t;throw new Error(`The unit [${e}] is not supported by timestring`)}function b7t(e,t,n){return e*n[R6e(t)]}function O7t(e,t,n){return e/n[R6e(t)]}const mH=Uu(g7t),y1e=H.string().superRefine((e,t)=>{try{mH(e)<1&&t.addIssue({code:H.ZodIssueCode.custom,message:"Must be greater than 1 second."});return}catch{t.addIssue({code:H.ZodIssueCode.custom,message:"Must be a valid timestring. e.g. 1m, 30m, 1h."});return}});class x7t{constructor(){be(this,"tagName","marimo-refresh");be(this,"validator",H.object({options:H.array(H.union([y1e,H.number().min(1)])).default([]),defaultInterval:H.union([y1e,H.number().min(1)]).optional(),label:H.string().nullable()}))}render(t){return b.jsx(S7t,{...t})}}const GD="off";let w7t=0;const S7t=({setValue:e,data:t})=>{const[n,r]=O.useState(t.defaultInterval??GD);O.useEffect(()=>{r(t.defaultInterval??GD)},[t.defaultInterval]);const[i,o]=O.useState(!1),s=Zn(()=>{o(!0),e(()=>`${n} (${w7t++})`),setTimeout(()=>o(!1),500)});O.useEffect(()=>{if(n===GD)return;let c=typeof n=="number"?n:/[a-z]/.test(n)?mH(n):mH(`${n}s`);c=Math.max(c,1);const u=setInterval(s,c*1e3);return()=>clearInterval(u)},[n,s]);const a="shadow-none! hover:shadow-none! focus:shadow-none! active:shadow-none!",l=t.options.length>0;return b.jsx(Hl,{label:t.label,children:b.jsxs("span",{className:"inline-flex items-center text-secondary-foreground rounded shadow-smSolid",children:[b.jsx(zt,{variant:"secondary",size:"icon",className:ve(a,"border mb-0 rounded",l&&"border-r-0 rounded-tr-none rounded-br-none"),onClick:s,children:b.jsx(BM,{className:ve("w-3.5 h-3.5",i&&"animate-spin")})}),b.jsxs(g1,{onChange:c=>{r(c.target.value)},value:n,className:ve(a,"border mb-0 bg-secondary rounded rounded-tl-none rounded-bl-none hover:bg-secondary/60",!l&&"hidden"),children:[b.jsx("option",{value:GD,children:"off"}),t.options.map(c=>b.jsx("option",{value:c,children:typeof c=="number"?`${c}s`:c},c))]})]})})};function _7t(){const[e,t]=O.useState(0),n=O.useRef(),r=Zn(()=>{n.current=window.setInterval(()=>{t(s=>s+.1)},100)}),i=Zn(()=>{n.current!=null&&(window.clearInterval(n.current),n.current=void 0)}),o=Zn(()=>{t(0)});return O.useEffect(()=>()=>{window.clearInterval(n.current)},[]),{time:new Intl.NumberFormat("en-US",{minimumFractionDigits:1,maximumFractionDigits:1}).format(e),start:r,stop:i,clear:o}}function C7t(e){const{onDone:t,options:n}=e,[r,i]=O.useState("stopped"),o=O.useRef(),[s,a]=O.useState(!0),[l,c]=O.useState(),u=_7t(),f=Zn(()=>{u.clear(),navigator.mediaDevices.getUserMedia({audio:!0}).then(p=>{const g=new MediaRecorder(p,n);i("recording"),o.current=g,g.start(),u.start(),g.addEventListener("dataavailable",y=>{c(y.data),t==null||t(y.data),g.stream.getTracks().forEach(v=>v.stop()),o.current=void 0})}).catch(p=>{Ut.log(p),a(!1)})}),d=Zn(()=>{var p;(p=o.current)==null||p.stop(),u.stop(),i("stopped")}),h=Zn(()=>{i(p=>{var g,y;return p==="recording"?((g=o.current)==null||g.pause(),u.stop(),"paused"):p==="paused"?((y=o.current)==null||y.resume(),u.start(),"recording"):p})});return O.useEffect(()=>()=>{var p,g;(p=o.current)==null||p.stream.getTracks().forEach(y=>y.stop()),(g=o.current)==null||g.stop(),u.stop()},[]),{start:f,stop:d,pauseResume:h,allowed:s,recordingBlob:l,recordingStatus:r,recordingTime:u.time,mediaRecorder:o}}const $7t=({onStart:e,onStop:t,onPause:n,status:r,time:i})=>b.jsxs("div",{className:"flex items-center gap-3",children:[r==="stopped"&&b.jsx(zt,{variant:"secondary",onClick:e,className:"w-[50px]",children:b.jsx(U5,{className:ve("w-6 h-6 border border-input rounded-full"),strokeWidth:1.5,fill:"var(--red-9)"})}),r==="recording"&&b.jsxs(zt,{variant:"secondary",onClick:t,className:"w-[50px]",children:[b.jsx(e6,{className:"w-5 h-5 rounded-sm",fill:"var(--red-9)",strokeWidth:1.5}),b.jsx(U5,{className:ve("w-6 h-6 absolute opacity-20 animate-ping"),fill:"var(--red-9)",style:{animationDuration:"1.5s"},strokeWidth:0})]}),i&&b.jsxs("span",{className:"text-sm font-bold",children:[i,"s"]})]});class E7t{constructor(){be(this,"tagName","marimo-microphone");be(this,"validator",H.object({label:H.string().nullish()}))}render(t){return b.jsx(k7t,{...t})}}const k7t=({setValue:e,data:t})=>{const{start:n,stop:r,pauseResume:i,recordingStatus:o,recordingTime:s,allowed:a}=C7t({onDone:async l=>{const c=await NMe(l);e(c)}});return b.jsxs(Hl,{label:t.label,align:"top",children:[!a&&b.jsx("div",{className:"text-destructive text-sm",children:"Microphone access is disabled. Please allow microphone access in your browser."}),b.jsx($7t,{onStart:n,onStop:r,onPause:i,status:o,time:s})]})};class T7t{constructor(){be(this,"tagName","marimo-download");be(this,"validator",H.object({data:H.string(),disabled:H.boolean().default(!1),filename:H.string().nullish(),label:H.string().nullish()}))}render({data:t}){return b.jsxs("a",{href:t.data,download:t.filename||!0,target:"_blank",rel:"noopener noreferrer",className:Fb({variant:"secondary",disabled:t.disabled}),children:[b.jsx($Ne,{className:ve("w-3 h-3",t.label&&"mr-2")}),t.label??"Download"]})}}const A6e="Progress",u7=100,[P7t,kQn]=ro(A6e),[R7t,A7t]=P7t(A6e),D6e=O.forwardRef((e,t)=>{const{__scopeProgress:n,value:r,max:i,getValueLabel:o=M7t,...s}=e,a=yH(i)?i:u7,l=M6e(r,a)?r:null,c=Q3(l)?o(l,a):void 0;return O.createElement(R7t,{scope:n,value:l,max:a},O.createElement(Ot.div,le({"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Q3(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":N6e(l,a),"data-value":l??void 0,"data-max":a},s,{ref:t})))});D6e.propTypes={max(e,t,n){const r=e[t],i=String(r);return r&&!yH(r)?new Error(I7t(i,n)):null},value(e,t,n){const r=e[t],i=String(r),o=yH(e.max)?e.max:u7;return r!=null&&!M6e(r,o)?new Error(L7t(i,n)):null}};const D7t="ProgressIndicator",N7t=O.forwardRef((e,t)=>{var n;const{__scopeProgress:r,...i}=e,o=A7t(D7t,r);return O.createElement(Ot.div,le({"data-state":N6e(o.value,o.max),"data-value":(n=o.value)!==null&&n!==void 0?n:void 0,"data-max":o.max},i,{ref:t}))});function M7t(e,t){return`${Math.round(e/t*100)}%`}function N6e(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Q3(e){return typeof e=="number"}function yH(e){return Q3(e)&&!isNaN(e)&&e>0}function M6e(e,t){return Q3(e)&&!isNaN(e)&&e<=t&&e>=0}function I7t(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${u7}\`.`}function L7t(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${u7} if no \`max\` prop is set)
  - \`null\` if the progress is indeterminate.

Defaulting to \`null\`.`}const I6e=D6e,j7t=N7t,L6e=O.forwardRef(({className:e,value:t,...n},r)=>b.jsx(I6e,{ref:r,className:ve("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...n,children:b.jsx(j7t,{className:"h-full w-full flex-1 bg-primary transition-all pulse",style:{transform:`translateX(-${100-(t||0)}%)`}})}));L6e.displayName=I6e.displayName;var j6e={exports:{}};(function(e){(function(){var t=r(function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return(m===1?"":"")+"  "},","),n={af:r("jaar",function(m){return"maand"+(m===1?"":"e")},function(m){return m===1?"week":"weke"},function(m){return m===1?"dag":"dae"},function(m){return m===1?"uur":"ure"},function(m){return m===1?"minuut":"minute"},function(m){return"sekonde"+(m===1?"":"s")},function(m){return"millisekonde"+(m===1?"":"s")},","),ar:u(r(function(m){return["","",""][i(m)]},function(m){return["","",""][i(m)]},function(m){return["","",""][i(m)]},function(m){return["","",""][i(m)]},function(m){return["","",""][i(m)]},function(m){return["","",""][i(m)]},function(m){return["","",""][i(m)]},function(m){return["  ","  ","  "][i(m)]},","),{delimiter:"  ",_digitReplacements:["","","","","","","","","",""]}),bg:r(function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},","),bn:r("","","","","","","",""),ca:r(function(m){return"any"+(m===1?"":"s")},function(m){return"mes"+(m===1?"":"os")},function(m){return"setman"+(m===1?"a":"es")},function(m){return"di"+(m===1?"a":"es")},function(m){return"hor"+(m===1?"a":"es")},function(m){return"minut"+(m===1?"":"s")},function(m){return"segon"+(m===1?"":"s")},function(m){return"milisegon"+(m===1?"":"s")},","),ckb:r("","","","","","",""," ","."),cs:r(function(m){return["rok","roku","roky","let"][a(m)]},function(m){return["msc","msce","msce","msc"][a(m)]},function(m){return["tden","tdne","tdny","tdn"][a(m)]},function(m){return["den","dne","dny","dn"][a(m)]},function(m){return["hodina","hodiny","hodiny","hodin"][a(m)]},function(m){return["minuta","minuty","minuty","minut"][a(m)]},function(m){return["sekunda","sekundy","sekundy","sekund"][a(m)]},function(m){return["milisekunda","milisekundy","milisekundy","milisekund"][a(m)]},","),cy:r("flwyddyn","mis","wythnos","diwrnod","awr","munud","eiliad","milieiliad"),da:r("r",function(m){return"mned"+(m===1?"":"er")},function(m){return"uge"+(m===1?"":"r")},function(m){return"dag"+(m===1?"":"e")},function(m){return"time"+(m===1?"":"r")},function(m){return"minut"+(m===1?"":"ter")},function(m){return"sekund"+(m===1?"":"er")},function(m){return"millisekund"+(m===1?"":"er")},","),de:r(function(m){return"Jahr"+(m===1?"":"e")},function(m){return"Monat"+(m===1?"":"e")},function(m){return"Woche"+(m===1?"":"n")},function(m){return"Tag"+(m===1?"":"e")},function(m){return"Stunde"+(m===1?"":"n")},function(m){return"Minute"+(m===1?"":"n")},function(m){return"Sekunde"+(m===1?"":"n")},function(m){return"Millisekunde"+(m===1?"":"n")},","),el:t,en:r(function(m){return"year"+(m===1?"":"s")},function(m){return"month"+(m===1?"":"s")},function(m){return"week"+(m===1?"":"s")},function(m){return"day"+(m===1?"":"s")},function(m){return"hour"+(m===1?"":"s")},function(m){return"minute"+(m===1?"":"s")},function(m){return"second"+(m===1?"":"s")},function(m){return"millisecond"+(m===1?"":"s")}),eo:r(function(m){return"jaro"+(m===1?"":"j")},function(m){return"monato"+(m===1?"":"j")},function(m){return"semajno"+(m===1?"":"j")},function(m){return"tago"+(m===1?"":"j")},function(m){return"horo"+(m===1?"":"j")},function(m){return"minuto"+(m===1?"":"j")},function(m){return"sekundo"+(m===1?"":"j")},function(m){return"milisekundo"+(m===1?"":"j")},","),es:r(function(m){return"ao"+(m===1?"":"s")},function(m){return"mes"+(m===1?"":"es")},function(m){return"semana"+(m===1?"":"s")},function(m){return"da"+(m===1?"":"s")},function(m){return"hora"+(m===1?"":"s")},function(m){return"minuto"+(m===1?"":"s")},function(m){return"segundo"+(m===1?"":"s")},function(m){return"milisegundo"+(m===1?"":"s")},","),et:r(function(m){return"aasta"+(m===1?"":"t")},function(m){return"kuu"+(m===1?"":"d")},function(m){return"ndal"+(m===1?"":"at")},function(m){return"pev"+(m===1?"":"a")},function(m){return"tund"+(m===1?"":"i")},function(m){return"minut"+(m===1?"":"it")},function(m){return"sekund"+(m===1?"":"it")},function(m){return"millisekund"+(m===1?"":"it")},","),eu:r("urte","hilabete","aste","egun","ordu","minutu","segundo","milisegundo",","),fa:r("","","","","","",""," "),fi:r(function(m){return m===1?"vuosi":"vuotta"},function(m){return m===1?"kuukausi":"kuukautta"},function(m){return"viikko"+(m===1?"":"a")},function(m){return"piv"+(m===1?"":"")},function(m){return"tunti"+(m===1?"":"a")},function(m){return"minuutti"+(m===1?"":"a")},function(m){return"sekunti"+(m===1?"":"a")},function(m){return"millisekunti"+(m===1?"":"a")},","),fo:r("r",function(m){return m===1?"mnaur":"mnair"},function(m){return m===1?"vika":"vikur"},function(m){return m===1?"dagur":"dagar"},function(m){return m===1?"tmi":"tmar"},function(m){return m===1?"minuttur":"minuttir"},"sekund","millisekund",","),fr:r(function(m){return"an"+(m>=2?"s":"")},"mois",function(m){return"semaine"+(m>=2?"s":"")},function(m){return"jour"+(m>=2?"s":"")},function(m){return"heure"+(m>=2?"s":"")},function(m){return"minute"+(m>=2?"s":"")},function(m){return"seconde"+(m>=2?"s":"")},function(m){return"milliseconde"+(m>=2?"s":"")},","),gr:t,he:r(function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""}),hr:r(function(m){return m%10===2||m%10===3||m%10===4?"godine":"godina"},function(m){return m===1?"mjesec":m===2||m===3||m===4?"mjeseca":"mjeseci"},function(m){return m%10===1&&m!==11?"tjedan":"tjedna"},function(m){return m===1?"dan":"dana"},function(m){return m===1?"sat":m===2||m===3||m===4?"sata":"sati"},function(m){var w=m%10;return(w===2||w===3||w===4)&&(m<10||m>14)?"minute":"minuta"},function(m){var w=m%10;return w===5||Math.floor(m)===m&&m>=10&&m<=19?"sekundi":w===1?"sekunda":w===2||w===3||w===4?"sekunde":"sekundi"},function(m){return m===1?"milisekunda":m%10===2||m%10===3||m%10===4?"milisekunde":"milisekundi"},","),hi:r("",function(m){return m===1?"":""},function(m){return m===1?"":""},"",function(m){return m===1?"":""},"","",""),hu:r("v","hnap","ht","nap","ra","perc","msodperc","ezredmsodperc",","),id:r("tahun","bulan","minggu","hari","jam","menit","detik","milidetik"),is:r("r",function(m){return"mnu"+(m===1?"ur":"ir")},function(m){return"vik"+(m===1?"a":"ur")},function(m){return"dag"+(m===1?"ur":"ar")},function(m){return"klukkutm"+(m===1?"i":"ar")},function(m){return"mnt"+(m===1?"a":"ur")},function(m){return"seknd"+(m===1?"a":"ur")},function(m){return"milliseknd"+(m===1?"a":"ur")}),it:r(function(m){return"ann"+(m===1?"o":"i")},function(m){return"mes"+(m===1?"e":"i")},function(m){return"settiman"+(m===1?"a":"e")},function(m){return"giorn"+(m===1?"o":"i")},function(m){return"or"+(m===1?"a":"e")},function(m){return"minut"+(m===1?"o":"i")},function(m){return"second"+(m===1?"o":"i")},function(m){return"millisecond"+(m===1?"o":"i")},","),ja:r("","","","","","","",""),km:r("","","","","","","",""),kn:r(function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""}),ko:r("","","","","","",""," "),ku:r("sal","meh","hefte","roj","seet","deqe","saniye","mlirk",","),lo:r("","","","","","","","",","),lt:r(function(m){return m%10===0||m%100>=10&&m%100<=20?"met":"metai"},function(m){return["mnuo","mnesiai","mnesi"][l(m)]},function(m){return["savait","savaits","savaii"][l(m)]},function(m){return["diena","dienos","dien"][l(m)]},function(m){return["valanda","valandos","valand"][l(m)]},function(m){return["minut","minuts","minui"][l(m)]},function(m){return["sekund","sekunds","sekundi"][l(m)]},function(m){return["milisekund","milisekunds","milisekundi"][l(m)]},","),lv:r(function(m){return c(m)?"gads":"gadi"},function(m){return c(m)?"mnesis":"mnei"},function(m){return c(m)?"neda":"nedas"},function(m){return c(m)?"diena":"dienas"},function(m){return c(m)?"stunda":"stundas"},function(m){return c(m)?"minte":"mintes"},function(m){return c(m)?"sekunde":"sekundes"},function(m){return c(m)?"milisekunde":"milisekundes"},","),mk:r(function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},","),mn:r("",""," ","","","","",""),mr:r(function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},"","",function(m){return m===1?"":""},"",""),ms:r("tahun","bulan","minggu","hari","jam","minit","saat","milisaat"),nl:r("jaar",function(m){return m===1?"maand":"maanden"},function(m){return m===1?"week":"weken"},function(m){return m===1?"dag":"dagen"},"uur",function(m){return m===1?"minuut":"minuten"},function(m){return m===1?"seconde":"seconden"},function(m){return m===1?"milliseconde":"milliseconden"},","),no:r("r",function(m){return"mned"+(m===1?"":"er")},function(m){return"uke"+(m===1?"":"r")},function(m){return"dag"+(m===1?"":"er")},function(m){return"time"+(m===1?"":"r")},function(m){return"minutt"+(m===1?"":"er")},function(m){return"sekund"+(m===1?"":"er")},function(m){return"millisekund"+(m===1?"":"er")},","),pl:r(function(m){return["rok","roku","lata","lat"][o(m)]},function(m){return["miesic","miesica","miesice","miesicy"][o(m)]},function(m){return["tydzie","tygodnia","tygodnie","tygodni"][o(m)]},function(m){return["dzie","dnia","dni","dni"][o(m)]},function(m){return["godzina","godziny","godziny","godzin"][o(m)]},function(m){return["minuta","minuty","minuty","minut"][o(m)]},function(m){return["sekunda","sekundy","sekundy","sekund"][o(m)]},function(m){return["milisekunda","milisekundy","milisekundy","milisekund"][o(m)]},","),pt:r(function(m){return"ano"+(m===1?"":"s")},function(m){return m===1?"ms":"meses"},function(m){return"semana"+(m===1?"":"s")},function(m){return"dia"+(m===1?"":"s")},function(m){return"hora"+(m===1?"":"s")},function(m){return"minuto"+(m===1?"":"s")},function(m){return"segundo"+(m===1?"":"s")},function(m){return"milissegundo"+(m===1?"":"s")},","),ro:r(function(m){return m===1?"an":"ani"},function(m){return m===1?"lun":"luni"},function(m){return m===1?"sptmn":"sptmni"},function(m){return m===1?"zi":"zile"},function(m){return m===1?"or":"ore"},function(m){return m===1?"minut":"minute"},function(m){return m===1?"secund":"secunde"},function(m){return m===1?"milisecund":"milisecunde"},","),ru:r(function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},","),sq:r(function(m){return m===1?"vit":"vjet"},"muaj","jav","dit","or",function(m){return"minut"+(m===1?"":"a")},function(m){return"sekond"+(m===1?"":"a")},function(m){return"milisekond"+(m===1?"":"a")},","),sr:r(function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},","),ta:r(function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return""+(m===1?"":"")},function(m){return""+(m===1?"":"")},function(m){return" "+(m===1?"":"")}),te:r(function(m){return""+(m===1?"":"")},function(m){return""+(m===1?"":"")},function(m){return m===1?"":""},function(m){return""+(m===1?"":"")},function(m){return""+(m===1?"":"")},function(m){return m===1?"":""},function(m){return m===1?"":""},function(m){return m===1?"":""}),uk:r(function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},function(m){return["","",""][s(m)]},","),ur:r("",function(m){return m===1?"":""},function(m){return m===1?"":""},"",function(m){return m===1?"":""},"",""," "),sk:r(function(m){return["rok","roky","roky","rokov"][a(m)]},function(m){return["mesiac","mesiace","mesiace","mesiacov"][a(m)]},function(m){return["tde","tdne","tdne","tdov"][a(m)]},function(m){return["de","dni","dni","dn"][a(m)]},function(m){return["hodina","hodiny","hodiny","hodn"][a(m)]},function(m){return["minta","minty","minty","mint"][a(m)]},function(m){return["sekunda","sekundy","sekundy","seknd"][a(m)]},function(m){return["milisekunda","milisekundy","milisekundy","miliseknd"][a(m)]},","),sl:r(function(m){return m%10===1?"leto":m%100===2?"leti":m%100===3||m%100===4||Math.floor(m)!==m&&m%100<=5?"leta":"let"},function(m){return m%10===1?"mesec":m%100===2||Math.floor(m)!==m&&m%100<=5?"meseca":m%10===3||m%10===4?"mesece":"mesecev"},function(m){return m%10===1?"teden":m%10===2||Math.floor(m)!==m&&m%100<=4?"tedna":m%10===3||m%10===4?"tedne":"tednov"},function(m){return m%100===1?"dan":"dni"},function(m){return m%10===1?"ura":m%100===2?"uri":m%10===3||m%10===4||Math.floor(m)!==m?"ure":"ur"},function(m){return m%10===1?"minuta":m%10===2?"minuti":m%10===3||m%10===4||Math.floor(m)!==m&&m%100<=4?"minute":"minut"},function(m){return m%10===1?"sekunda":m%100===2?"sekundi":m%100===3||m%100===4||Math.floor(m)!==m?"sekunde":"sekund"},function(m){return m%10===1?"milisekunda":m%100===2?"milisekundi":m%100===3||m%100===4||Math.floor(m)!==m?"milisekunde":"milisekund"},","),sv:r("r",function(m){return"mnad"+(m===1?"":"er")},function(m){return"veck"+(m===1?"a":"or")},function(m){return"dag"+(m===1?"":"ar")},function(m){return"timm"+(m===1?"e":"ar")},function(m){return"minut"+(m===1?"":"er")},function(m){return"sekund"+(m===1?"":"er")},function(m){return"millisekund"+(m===1?"":"er")},","),sw:u(r(function(m){return m===1?"mwaka":"miaka"},function(m){return m===1?"mwezi":"miezi"},"wiki",function(m){return m===1?"siku":"masiku"},function(m){return m===1?"saa":"masaa"},"dakika","sekunde","milisekunde"),{_numberFirst:!0}),tr:r("yl","ay","hafta","gn","saat","dakika","saniye","milisaniye",","),th:r("","","","","","","",""),uz:r("yil","oy","hafta","kun","soat","minut","sekund","millisekund"),uz_CYR:r("","","","","","","",""),vi:r("nm","thng","tun","ngy","gi","pht","giy","mili giy",","),zh_CN:r("","","","","","","",""),zh_TW:r("","","","","","","","")};function r(m,w,S,C,$,E,R,N,I){var j={y:m,mo:w,w:S,d:C,h:$,m:E,s:R,ms:N};return typeof I<"u"&&(j.decimal=I),j}function i(m){return m===2?1:m>2&&m<11?2:0}function o(m){return m===1?0:Math.floor(m)!==m?1:m%10>=2&&m%10<=4&&!(m%100>10&&m%100<20)?2:3}function s(m){return Math.floor(m)!==m?2:m%100>=5&&m%100<=20||m%10>=5&&m%10<=9||m%10===0?0:m%10===1?1:m>1?2:0}function a(m){return m===1?0:Math.floor(m)!==m?1:m%10>=2&&m%10<=4&&m%100<10?2:3}function l(m){return m===1||m%10===1&&m%100>20?0:Math.floor(m)!==m||m%10>=2&&m%100>20||m%10>=2&&m%100<10?1:2}function c(m){return m%10===1&&m%100!==11}function u(m){for(var w,S=1;S<arguments.length;S++){w=arguments[S];for(var C in w)d(w,C)&&(m[C]=w[C])}return m}var f=Array.isArray||function(m){return Object.prototype.toString.call(m)==="[object Array]"};function d(m,w){return Object.prototype.hasOwnProperty.call(m,w)}function h(m){var w=[m.language];if(d(m,"fallbacks"))if(f(m.fallbacks)&&m.fallbacks.length)w=w.concat(m.fallbacks);else throw new Error("fallbacks must be an array with at least one element");for(var S=0;S<w.length;S++){var C=w[S];if(d(m.languages,C))return m.languages[C];if(d(n,C))return n[C]}throw new Error("No language found.")}function p(m,w,S){var C=m.unitName,$=m.unitCount,E=S.spacer,R=S.maxDecimalPoints,N;d(S,"decimal")?N=S.decimal:d(w,"decimal")?N=w.decimal:N=".";var I;"digitReplacements"in S?I=S.digitReplacements:"_digitReplacements"in w&&(I=w._digitReplacements);var j,A=R===void 0?$:Math.floor($*Math.pow(10,R))/Math.pow(10,R),T=A.toString();if(I){j="";for(var D=0;D<T.length;D++){var L=T[D];L==="."?j+=N:j+=I[L]}}else j=T.replace(".",N);var W=w[C],V;return typeof W=="function"?V=W($):V=W,w._numberFirst?V+E+j:j+E+V}function g(m,w){var S,C,$,E,R=w.units,N=w.unitMeasures,I="largest"in w?w.largest:1/0;if(!R.length)return[];var j={};for(E=m,C=0;C<R.length;C++){S=R[C];var A=N[S],T=C===R.length-1;$=T?E/A:Math.floor(E/A),j[S]=$,E-=$*A}if(w.round){var D=I;for(C=0;C<R.length;C++)if(S=R[C],$=j[S],$!==0&&(D--,D===0)){for(var L=C+1;L<R.length;L++){var W=R[L],V=j[W];j[S]+=V*N[W]/N[S],j[W]=0}break}for(C=R.length-1;C>=0;C--)if(S=R[C],$=j[S],$!==0){var Q=Math.round($);if(j[S]=Q,C===0)break;var B=R[C-1],Y=N[B],U=Math.floor(Q*N[S]/Y);if(U)j[B]+=U,j[S]=0;else break}}var q=[];for(C=0;C<R.length&&q.length<I;C++)S=R[C],$=j[S],$&&q.push({unitName:S,unitCount:$});return q}function y(m,w){var S=h(w);if(!m.length){var C=w.units,$=C[C.length-1];return p({unitName:$,unitCount:0},S,w)}var E=w.conjunction,R=w.serialComma,N;d(w,"delimiter")?N=w.delimiter:d(S,"delimiter")?N=S.delimiter:N=", ";for(var I=[],j=0;j<m.length;j++)I.push(p(m[j],S,w));return!E||m.length===1?I.join(N):m.length===2?I.join(E):I.slice(0,-1).join(N)+(R?",":"")+E+I.slice(-1)}function v(m){var w=function(C,$){C=Math.abs(C);var E=u({},w,$||{}),R=g(C,E);return y(R,E)};return u(w,{language:"en",spacer:" ",conjunction:"",serialComma:!0,units:["y","mo","w","d","h","m","s"],languages:{},round:!1,unitMeasures:{y:315576e5,mo:26298e5,w:6048e5,d:864e5,h:36e5,m:6e4,s:1e3,ms:1}},m)}var x=v({});x.getSupportedLanguages=function(){var w=[];for(var S in n)d(n,S)&&S!=="gr"&&w.push(S);return w},x.humanizer=v,e.exports?e.exports=x:this.humanizeDuration=x})()})(j6e);var F7t=j6e.exports;const z7t=Uu(F7t);class Q7t{constructor(){be(this,"tagName","marimo-progress");be(this,"validator",H.object({title:H.string().optional(),subtitle:H.string().optional(),progress:H.union([H.number(),H.boolean()]),total:H.number().optional(),eta:H.number().optional(),rate:H.number().optional()}))}render(t){return b.jsx(B7t,{...t.data})}}const B7t=({title:e,subtitle:t,progress:n,total:r,eta:i,rate:o})=>{const s=typeof n=="number"?"items-start":"items-center",a=()=>typeof n=="number"&&r!=null&&r>0?b.jsxs("div",{className:"flex gap-3 text-sm text-muted-foreground items-baseline",children:[b.jsx(L6e,{value:W7t(n/r*100)}),b.jsxs("span",{className:"flex-shrink-0",children:[n," / ",r]})]}):b.jsx(qT,{className:"w-12 h-12 animate-spin text-primary mx-auto"}),l=()=>{const c=typeof n=="number"&&r!=null&&n>=r,u=[];if(o&&u.push(b.jsxs("span",{children:[o," iter/s"]},"rate"),b.jsx("span",{children:""},"spacer-rate")),!c&&i&&u.push(b.jsxs("span",{children:["ETA ",v1e(i)]},"eta"),b.jsx("span",{children:""},"spacer-eta")),c&&o){const f=n/o;u.push(b.jsxs("span",{children:["Total time ",v1e(f)]},"completed"),b.jsx("span",{children:""},"spacer-completed"))}if(u.pop(),u.length>0)return b.jsx("div",{className:"flex gap-2 text-muted-foreground text-sm",children:u})};return b.jsxs("div",{className:`flex flex-col ${s} max-w-sm p-6 mx-auto`,children:[e&&b.jsx("div",{className:"text-lg font-bold text-foreground/60",children:Ha({html:e})}),t&&b.jsx("div",{className:"text-sm text-muted-foreground",children:Ha({html:t})}),b.jsxs("div",{className:"mt-2 w-full flex flex-col gap-1",children:[a(),l()]})]})};function W7t(e){return hie(e,0,100)}const V7t=z7t.humanizer({language:"shortEn",languages:{shortEn:{y:()=>"y",mo:()=>"mo",w:()=>"w",d:()=>"d",h:()=>"h",m:()=>"m",s:()=>"s",ms:()=>"ms"}}});function v1e(e){return V7t(e*1e3,{language:"shortEn",largest:2,spacer:"",maxDecimalPoints:2})}function Wie(e){return!!e.or}function Vie(e){return!!e.and}function Uie(e){return!!e.not}function sI(e,t){if(Uie(e))sI(e.not,t);else if(Vie(e))for(const n of e.and)sI(n,t);else if(Wie(e))for(const n of e.or)sI(n,t);else t(e)}function $w(e,t){return Uie(e)?{not:$w(e.not,t)}:Vie(e)?{and:e.and.map(n=>$w(n,t))}:Wie(e)?{or:e.or.map(n=>$w(n,t))}:t(e)}const qt=structuredClone;function F6e(e){throw new Error(e)}function $S(e,t){const n={};for(const r of t)Rt(e,r)&&(n[r]=e[r]);return n}function Nl(e,t){const n={...e};for(const r of t)delete n[r];return n}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>$r(e)).join(",")})`};function Rn(e){if(Un(e))return e;const t=at(e)?e:$r(e);if(t.length<250)return t;let n=0;for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return n}function vH(e){return e===!1||e===null}function kn(e,t){return e.includes(t)}function ab(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}function qie(e,t){let n=0;for(const[r,i]of e.entries())if(!t(i,r,n++))return!1;return!0}function z6e(e,...t){for(const n of t)U7t(e,n??{});return e}function U7t(e,t){for(const n of Ue(t))oC(e,n,t[n],!0)}function eh(e,t){const n=[],r={};let i;for(const o of e)i=t(o),!(i in r)&&(r[i]=1,n.push(o));return n}function q7t(e,t){const n=Ue(e),r=Ue(t);if(n.length!==r.length)return!1;for(const i of n)if(e[i]!==t[i])return!1;return!0}function Q6e(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function Yie(e,t){for(const n of e)if(t.has(n))return!0;return!1}function bH(e){const t=new Set;for(const n of e){const i=Uh(n).map((s,a)=>a===0?s:`[${s}]`),o=i.map((s,a)=>i.slice(0,a+1).join(""));for(const s of o)t.add(s)}return t}function Xie(e,t){return e===void 0||t===void 0?!0:Yie(bH(e),bH(t))}function Cr(e){return Ue(e).length===0}const Ue=Object.keys,Is=Object.values,t0=Object.entries;function S2(e){return e===!0||e===!1}function yi(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function Ek(e,t){return Uie(e)?`!(${Ek(e.not,t)})`:Vie(e)?`(${e.and.map(n=>Ek(n,t)).join(") && (")})`:Wie(e)?`(${e.or.map(n=>Ek(n,t)).join(") || (")})`:t(e)}function B3(e,t){if(t.length===0)return!0;const n=t.shift();return n in e&&B3(e[n],t)&&delete e[n],Cr(e)}function OR(e){return e.charAt(0).toUpperCase()+e.substr(1)}function Hie(e,t="datum"){const n=Uh(e),r=[];for(let i=1;i<=n.length;i++){const o=`[${n.slice(0,i).map(Ge).join("][")}]`;r.push(`${t}${o}`)}return r.join(" && ")}function B6e(e,t="datum"){return`${t}[${Ge(Uh(e).join("."))}]`}function Y7t(e){return e.replace(/(\[|\]|\.|'|")/g,"\\$1")}function Fu(e){return`${Uh(e).map(Y7t).join("\\.")}`}function lb(e,t,n){return e.replace(new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),n)}function Zie(e){return`${Uh(e).join(".")}`}function ES(e){return e?Uh(e).length:0}function to(...e){for(const t of e)if(t!==void 0)return t}let W6e=42;function V6e(e){const t=++W6e;return e?String(e)+t:t}function X7t(){W6e=42}function U6e(e){return q6e(e)?e:`__${e}`}function q6e(e){return e.startsWith("__")}function _2(e){if(e!==void 0)return(e%360+360)%360}function f7(e){return Un(e)?!0:!isNaN(e)&&!isNaN(parseFloat(e))}const b1e=Object.getPrototypeOf(structuredClone({}));function $c(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor.name!==t.constructor.name)return!1;let n,r;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!$c(e[r],t[r]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;for(r of e.entries())if(!$c(r[1],t.get(r[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(r of e.entries())if(!t.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf!==b1e.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&e.toString!==b1e.toString)return e.toString()===t.toString();const i=Object.keys(e);if(n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!$c(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function $r(e){const t=[];return function n(r){if(r&&r.toJSON&&typeof r.toJSON=="function"&&(r=r.toJSON()),r===void 0)return;if(typeof r=="number")return isFinite(r)?""+r:"null";if(typeof r!="object")return JSON.stringify(r);let i,o;if(Array.isArray(r)){for(o="[",i=0;i<r.length;i++)i&&(o+=","),o+=n(r[i])||"null";return o+"]"}if(r===null)return"null";if(t.includes(r))throw new TypeError("Converting circular structure to JSON");const s=t.push(r)-1,a=Object.keys(r).sort();for(o="",i=0;i<a.length;i++){const l=a[i],c=n(r[l]);c&&(o&&(o+=","),o+=JSON.stringify(l)+":"+c)}return t.splice(s,1),`{${o}}`}(e)}const ur={arc:"arc",area:"area",bar:"bar",image:"image",line:"line",point:"point",rect:"rect",rule:"rule",text:"text",tick:"tick",trail:"trail",circle:"circle",square:"square",geoshape:"geoshape"},Y6e=ur.arc,d7=ur.area,h7=ur.bar,H7t=ur.image,p7=ur.line,g7=ur.point,Z7t=ur.rect,W3=ur.rule,X6e=ur.text,Gie=ur.tick,G7t=ur.trail,Kie=ur.circle,Jie=ur.square,H6e=ur.geoshape;function I0(e){return["line","area","trail"].includes(e)}function C2(e){return["rect","bar","image","arc"].includes(e)}const K7t=new Set(Ue(ur));function kh(e){return e.type}const J7t=["stroke","strokeWidth","strokeDash","strokeDashOffset","strokeOpacity","strokeJoin","strokeMiterLimit"],e8t=["fill","fillOpacity"],t8t=[...J7t,...e8t],n8t={color:1,filled:1,invalid:1,order:1,radius2:1,theta2:1,timeUnitBandSize:1,timeUnitBandPosition:1},O1e=Ue(n8t),r8t={area:["line","point"],bar:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],rect:["binSpacing","continuousBandSize","discreteBandSize","minBandSize"],line:["point"],tick:["bandSize","thickness"]},i8t={color:"#4c78a8",invalid:"filter",timeUnitBandSize:1},o8t={mark:1,arc:1,area:1,bar:1,circle:1,image:1,line:1,point:1,rect:1,rule:1,square:1,text:1,tick:1,trail:1,geoshape:1},Z6e=Ue(o8t);function cb(e){return e&&e.band!=null}const s8t={horizontal:["cornerRadiusTopRight","cornerRadiusBottomRight"],vertical:["cornerRadiusTopLeft","cornerRadiusTopRight"]},G6e=5,a8t={binSpacing:1,continuousBandSize:G6e,minBandSize:.25,timeUnitBandPosition:.5},l8t={binSpacing:0,continuousBandSize:G6e,minBandSize:.25,timeUnitBandPosition:.5},c8t={thickness:1};function u8t(e){return kh(e)?e.type:e}const m7={getMarkType(e){const t=typeof e=="string"?e:e.type;if(t==="boxplot"||t==="errorband"||t==="errorbar")throw new Error("Not supported");return t},makeClickable(e){const t=typeof e=="string"?e:e.type;return t in ur?typeof e=="string"?{type:e,cursor:"pointer",tooltip:!0}:{...e,type:t,cursor:"pointer",tooltip:!0}:e},getOpacity(e){return typeof e=="string"?null:"opacity"in e&&typeof e.opacity=="number"?e.opacity:null}};function f8t(e){if(!e||!("encoding"in e))return[];const{encoding:t}=e;return t?Object.entries(t).flatMap(r=>{const[i,o]=r;return o?d8t.has(i)?"field"in o&&typeof o.field=="string"?[o.field]:"condition"in o&&o.condition&&typeof o.condition=="object"&&"field"in o.condition&&o.condition.field&&typeof o.condition.field=="string"?[o.condition.field]:[]:[]:[]}):[]}const d8t=new Set(["color","fill","fillOpacity","opacity","shape","size"]);function h8t(e,t,n,r){const i={and:n.map(o=>({param:o}))};switch(e){case"opacity":{const o=m7.getOpacity(r)||1;return{...t,opacity:{condition:{test:i,value:o},value:o/5}}}default:return t}}const KD={LEGEND_SELECTION:"legend_selection",SELECT:"select",HIGHLIGHT:"highlight"},OH={highlight(){return{name:KD.HIGHLIGHT,select:{type:"point",on:"mouseover"}}},interval(e){return{name:`${KD.SELECT}_interval`,select:{type:"interval",encodings:x1e(e),mark:{fill:"#669EFF",fillOpacity:.07,stroke:"#669EFF",strokeOpacity:.4}}}},point(e){return{name:`${KD.SELECT}_point`,select:{type:"point",encodings:x1e(e)}}},legend(e){return{name:`${KD.LEGEND_SELECTION}_${e}`,select:{type:"point",fields:[e]},bind:"legend"}}};function x1e(e){switch(m7.getMarkType(e.mark)){case ur.image:case ur.trail:return;case ur.area:case ur.arc:return["color"];case ur.bar:{const n=p8t(e);return n==="horizontal"?["y"]:n==="vertical"?["x"]:void 0}case ur.circle:case ur.geoshape:case ur.line:case ur.point:case ur.rect:case ur.rule:case ur.square:case ur.text:case ur.tick:return["x","y"]}}function K6e(e){return"params"in e&&e.params&&e.params.length>0?e.params.filter(n=>n==null?!1:"select"in n&&n.select!==void 0).map(n=>n.name):"layer"in e?W_t(e.layer.flatMap(K6e)):[]}function p8t(e){var r,i;if(!e||!("mark"in e))return;const t=(r=e.encoding)==null?void 0:r.x,n=(i=e.encoding)==null?void 0:i.y;if(t&&"type"in t&&t.type==="nominal")return"vertical";if(n&&"type"in n&&n.type==="nominal"||t&&"aggregate"in t)return"horizontal";if(n&&"aggregate"in n)return"vertical"}function g8t(e,t){const{chartSelection:n=!0,fieldSelection:r=!0}=t;if(!n&&!r)return e;if("vconcat"in e){const o=e.vconcat.map(s=>"mark"in s?JD(s):s);return{...e,vconcat:o}}if("hconcat"in e){const o=e.hconcat.map(s=>"mark"in s?JD(s):s);return{...e,hconcat:o}}if("layer"in e){const o=e.layer.map((s,a)=>{if(!("mark"in s))return s;let l=s;return l=w1e(l,n),l=JD(l),l});return{...e,layer:o}}if(!("mark"in e))return e;let i=e;return i=m8t(i,r),i=w1e(i,n),i=JD(i),i}function m8t(e,t){if(t===!1)return e;let n=f8t(e);Array.isArray(t)&&(n=n.filter(o=>t.includes(o)));const r=n.map(o=>OH.legend(o)),i=[...e.params||[],...r];return{...e,params:i}}function w1e(e,t){if(t===!1)return e;let n;try{n=m7.getMarkType(e.mark)}catch{return e}const r=t===!0?y8t(n):[t];if(!r)return e;const i=r.map(s=>s==="interval"?OH.interval(e):OH.point(e)),o=[...e.params||[],...i];return{...e,params:o}}function JD(e){const t="encoding"in e?e.encoding:void 0,n=e.params||[],r=n.map(i=>i.name);return n.length===0?e:{...e,mark:m7.makeClickable(e.mark),encoding:h8t("opacity",t||{},r,e.mark)}}function y8t(e){switch(e){case"text":case"arc":case"area":return["point"];case"bar":return["point","interval"];case"line":return;default:return["point","interval"]}}var S1e=Object.prototype.hasOwnProperty;function _1e(e,t,n){for(n of e.keys())if(kk(n,t))return n}function kk(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&kk(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(i=r,i&&typeof i=="object"&&(i=_1e(t,i),!i)||!t.has(i))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(i=r[0],i&&typeof i=="object"&&(i=_1e(t,i),!i)||!kk(r[1],t.get(i)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(S1e.call(e,n)&&++r&&!S1e.call(t,n)||!(n in t)||!kk(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function C1e(e){const t=ie.useRef(e);return kk(e,t.current)||(t.current=e),t.current}function J6e(e){return e.startsWith("./")?new URL(e.slice(1),document.baseURI):e.startsWith("/")?new URL(e,document.baseURI):new URL(e,document.baseURI)}function v8t(e){return e.data&&"url"in e.data&&(e.data.url=J6e(e.data.url).href),e}class b8t{constructor(){be(this,"tagName","marimo-vega");be(this,"validator",H.object({spec:H.object({}).passthrough().transform(t=>t),chartSelection:H.union([H.boolean(),H.literal("point"),H.literal("interval")]).default(!0),fieldSelection:H.union([H.boolean(),H.array(H.string())]).default(!0)}))}render(t){return b.jsx(O8t,{value:t.value,setValue:t.setValue,...t.data})}}const O8t=({value:e,setValue:t,chartSelection:n,fieldSelection:r,spec:i})=>{const{data:o}=N0(async()=>{if(!i||!i.data||!("url"in i.data))return i;let s;try{s=J6e(i.data.url)}catch{return i}const a=await zie(s.href,i.data.format);return{...i,data:{name:s.pathname},datasets:{...i.datasets,[s.pathname]:a}}},[i]);return o?b.jsx(w8t,{value:e,setValue:t,chartSelection:n,fieldSelection:r,spec:o}):null},x8t=O.lazy(()=>$e(()=>import("./index-hfoRSkgN.js"),__vite__mapDeps([]),import.meta.url).then(e=>({default:e.VegaLite}))),w8t=({value:e,setValue:t,chartSelection:n,fieldSelection:r,spec:i})=>{const{theme:o}=_0(),s=O.useRef(),[a,l]=O.useState(),c=O.useMemo(()=>g8t(v8t(i),{chartSelection:n,fieldSelection:r}),[C1e(i),n,r]),u=O.useMemo(()=>K6e(c),[c]),f=Zn(g=>{t({...e,...g})}),d=O.useMemo(()=>u.reduce((g,y)=>(g[y]=bne((v,x)=>{f({[v]:wn.mapValues(x,_8t)})},100),g),{}),[C1e(u),t]),h=Zn(g=>{Ut.error(g),l(g)}),p=Zn(g=>{s.current=g,l(void 0)});return b.jsxs(b.Fragment,{children:[a&&b.jsxs(FP,{variant:"destructive",children:[b.jsx(zP,{children:a.message}),b.jsx("div",{className:"text-md",children:a.stack})]}),b.jsx(x8t,{spec:c,theme:o==="dark"?"dark":void 0,actions:S8t,signalListeners:d,onError:h,onNewView:p})]})},S8t={source:!1,compiled:!1};function _8t(e){return e instanceof Set?[...e]:e}class C8t{constructor(){be(this,"tagName","marimo-stat");be(this,"validator",H.object({value:H.string(),label:H.string().optional(),caption:H.string().optional(),bordered:H.boolean().default(!1),direction:H.enum(["increase","decrease"]).optional()}))}render({data:t}){return b.jsx($8t,{...t})}}const $8t=({value:e,label:t,caption:n,bordered:r,direction:i})=>b.jsxs("div",{className:ve("text-card-foreground",r&&"rounded-xl border shadow bg-card"),children:[t&&b.jsx("div",{className:"p-6 flex flex-row items-center justify-between space-y-0 pb-2",children:b.jsx("h3",{className:"tracking-tight text-sm font-medium",children:t})}),b.jsxs("div",{className:"p-6 pt-0",children:[b.jsx("div",{className:"text-2xl font-bold",children:e}),n&&b.jsxs("p",{className:"pt-1 text-xs text-muted-foreground flex align-center",children:[i==="increase"&&b.jsx(gme,{className:"w-4 h-4 mr-1 p-0.5",fill:"var(--grass-8)",stroke:"var(--grass-9)"}),i==="decrease"&&b.jsx(gme,{className:"w-4 h-4 mr-1 p-0.5 transform rotate-180",fill:"var(--red-8)",stroke:"var(--red-9)"}),n]})]})]}),E8t=["int8","int16","int32","int64","uint8","uint16","uint32","uint64","float16","float32","float64","float128","complex64","complex128","complex256","bool","object","string_","unicode_","datetime64","timedelta64"],e7e=["count","sum","mean","median","min","max"],yn={of(e){return JSON.stringify(e)},parse(e){if(!e)return{};try{return JSON.parse(e)}catch{return{label:e}}}};function eoe(){return Math.floor(Math.random()*1e5)}const Do={number:H.coerce.number().describe(yn.of({label:"Value"})),string:H.string().min(1).describe(yn.of({label:"Value"})),stringColumnValues:H.string().min(1).describe(yn.of({label:"Value",special:"column_values"})),stringMultiColumnValues:H.array(H.string()).min(1).describe(yn.of({label:"Value",special:"column_values"})),date:H.coerce.date().describe(yn.of({label:"Value"}))},y7={is_true:[],is_false:[]},v7={"==":[Do.number],"!=":[Do.number],">":[Do.number],">=":[Do.number],"<":[Do.number],"<=":[Do.number],is_nan:[],is_not_nan:[]},b7={"==":[Do.date],"!=":[Do.date],">":[Do.date],">=":[Do.date],"<":[Do.date],"<=":[Do.date],is_nan:[],is_not_nan:[]},O7={equals:[Do.stringColumnValues],does_not_equal:[Do.stringColumnValues],contains:[Do.string],regex:[Do.string],starts_with:[Do.string],ends_with:[Do.string],in:[Do.stringMultiColumnValues]},k8t={...y7,...v7,...b7,...O7};function $1e(e){return e?e==="bool"?Object.keys(y7):e.startsWith("int")||e.startsWith("float")?Object.keys(v7):e==="datetime64[ns]"?Object.keys(b7):e==="object"||e==="string"?Object.keys(O7):[]:[]}function T8t(e,t){return!e||!t?[]:e==="bool"?Um(y7,t):e.startsWith("int")||e.startsWith("float")?Um(v7,t):e==="datetime64[ns]"?Um(b7,t):e==="object"||e==="string"?Um(O7,t):[]}function P8t(e,t){const n=[Um(y7,e),Um(b7,e),Um(v7,e),Um(O7,e)].flat();return n.length===0?!0:n.some(r=>r.safeParse(t).success)}const Um=(e,t)=>e[t]?e[t]:[],xR=H.string().min(1,"Required").describe(yn.of({label:"Column",special:"column_id"})),toe=H.array(xR.describe(yn.of({special:"column_id"}))).min(1,"At least one column is required").default([]).describe(yn.of({label:"Columns"})),R8t=H.object({type:H.literal("column_conversion"),column_id:xR,data_type:H.enum(E8t).describe(yn.of({label:"Data type (numpy)"})).default("bool"),errors:H.enum(["ignore","raise"]).default("ignore").describe(yn.of({label:"Handle errors",special:"radio_group"}))}).describe(yn.of({})),A8t=H.object({type:H.literal("rename_column"),column_id:xR,new_column_id:H.string().min(1,"Required").describe(yn.of({label:"New column name"}))}),D8t=H.object({type:H.literal("sort_column"),column_id:xR,ascending:H.boolean().describe(yn.of({label:"Ascending"})).default(!0),na_position:H.enum(["first","last"]).describe(yn.of({label:"N/A position",special:"radio_group"})).default("last")}),N8t=H.object({column_id:xR,operator:H.enum(Object.keys(k8t)).describe(yn.of({label:" "})),value:H.any().describe(yn.of({label:"Value"}))}).describe(yn.of({direction:"row",special:"column_filter"})),M8t=H.object({type:H.literal("filter_rows"),operation:H.enum(["keep_rows","remove_rows"]).default("keep_rows").describe(yn.of({special:"radio_group"})),where:H.array(N8t).min(1).transform(e=>e.filter(t=>P8t(t.operator,t.value))).describe(yn.of({label:"Value"})).default([{column_id:"",operator:"==",value:""}])}),I8t=H.object({type:H.literal("group_by"),column_ids:toe,aggregation:H.enum(e7e).default("count").describe(yn.of({label:"Aggregation"})),drop_na:H.boolean().default(!1).describe(yn.of({label:"Drop N/A"}))}).describe(yn.of({})),L8t=H.object({type:H.literal("aggregate"),column_ids:toe,aggregations:H.array(H.enum(e7e)).min(1,"At least one aggregation is required").default(["count"]).describe(yn.of({label:"Aggregations"}))}).describe(yn.of({direction:"row"})),j8t=H.object({type:H.literal("select_columns"),column_ids:toe}),F8t=H.object({type:H.literal("sample_rows"),n:H.number().positive().describe(yn.of({label:"Number of rows"})),seed:H.number().default(()=>eoe()).describe(yn.of({label:"Re-sample",special:"random_number_button"})),replace:H.boolean().default(!1).describe(yn.of({label:"Sample with replacement"}))}),z8t=H.object({type:H.literal("shuffle_rows"),seed:H.number().default(()=>eoe()).describe(yn.of({label:"Re-shuffle",special:"random_number_button"}))}),noe=H.union([M8t,j8t,A8t,R8t,D8t,I8t,L8t,F8t,z8t]),Q8t=H.object({transforms:H.array(noe)});var wR=e=>e.type==="checkbox",qx=e=>e instanceof Date,ja=e=>e==null;const t7e=e=>typeof e=="object";var Uo=e=>!ja(e)&&!Array.isArray(e)&&t7e(e)&&!qx(e),n7e=e=>Uo(e)&&e.target?wR(e.target)?e.target.checked:e.target.value:e,B8t=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,r7e=(e,t)=>e.has(B8t(t)),W8t=e=>{const t=e.constructor&&e.constructor.prototype;return Uo(t)&&t.hasOwnProperty("isPrototypeOf")},roe=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ko(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(roe&&(e instanceof Blob||e instanceof FileList))&&(n||Uo(e)))if(t=n?[]:{},!n&&!W8t(e))t=e;else for(const r in e)e.hasOwnProperty(r)&&(t[r]=ko(e[r]));else return e;return t}var fC=e=>Array.isArray(e)?e.filter(Boolean):[],Br=e=>e===void 0,ot=(e,t,n)=>{if(!t||!Uo(e))return n;const r=fC(t.split(/[,[\].]+?/)).reduce((i,o)=>ja(i)?i:i[o],e);return Br(r)||r===e?Br(e[t])?n:e[t]:r},mf=e=>typeof e=="boolean";const V3={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},hu={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},up={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},i7e=ie.createContext(null),SR=()=>ie.useContext(i7e),o7e=e=>{const{children:t,...n}=e;return ie.createElement(i7e.Provider,{value:n},t)};var s7e=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const s=o;return t._proxyFormState[s]!==hu.all&&(t._proxyFormState[s]=!r||hu.all),n&&(n[s]=!0),e[s]}});return i},pc=e=>Uo(e)&&!Object.keys(e).length,a7e=(e,t,n,r)=>{n(e);const{name:i,...o}=e;return pc(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(s=>t[s]===(!r||hu.all))},Ec=e=>Array.isArray(e)?e:[e],l7e=(e,t,n)=>!e||!t||e===t||Ec(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r)));function x7(e){const t=ie.useRef(e);t.current=e,ie.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}function V8t(e){const t=SR(),{control:n=t.control,disabled:r,name:i,exact:o}=e||{},[s,a]=ie.useState(n._formState),l=ie.useRef(!0),c=ie.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=ie.useRef(i);return u.current=i,x7({disabled:r,next:f=>l.current&&l7e(u.current,f.name,o)&&a7e(f,c.current,n._updateFormState)&&a({...n._formState,...f}),subject:n._subjects.state}),ie.useEffect(()=>(l.current=!0,c.current.isValid&&n._updateValid(!0),()=>{l.current=!1}),[n]),s7e(s,n,c.current,!1)}var th=e=>typeof e=="string",c7e=(e,t,n,r,i)=>th(e)?(r&&t.watch.add(e),ot(n,e,i)):Array.isArray(e)?e.map(o=>(r&&t.watch.add(o),ot(n,o))):(r&&(t.watchAll=!0),n);function U8t(e){const t=SR(),{control:n=t.control,name:r,defaultValue:i,disabled:o,exact:s}=e||{},a=ie.useRef(r);a.current=r,x7({disabled:o,subject:n._subjects.values,next:u=>{l7e(a.current,u.name,s)&&c(ko(c7e(a.current,n._names,u.values||n._formValues,!1,i)))}});const[l,c]=ie.useState(n._getWatch(r,i));return ie.useEffect(()=>n._removeUnmounted()),l}var ioe=e=>/^\w*$/.test(e),u7e=e=>fC(e.replace(/["|']|\]/g,"").split(/\.|\[/)),cr=(e,t,n)=>{let r=-1;const i=ioe(t)?[t]:u7e(t),o=i.length,s=o-1;for(;++r<o;){const a=i[r];let l=n;if(r!==s){const c=e[a];l=Uo(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}e[a]=l,e=e[a]}return e};function f7e(e){const t=SR(),{name:n,disabled:r,control:i=t.control,shouldUnregister:o}=e,s=r7e(i._names.array,n),a=U8t({control:i,name:n,defaultValue:ot(i._formValues,n,ot(i._defaultValues,n,e.defaultValue)),exact:!0}),l=V8t({control:i,name:n}),c=ie.useRef(i.register(n,{...e.rules,value:a,...mf(e.disabled)?{disabled:e.disabled}:{}}));return ie.useEffect(()=>{const u=i._options.shouldUnregister||o,f=(d,h)=>{const p=ot(i._fields,d);p&&(p._f.mount=h)};if(f(n,!0),u){const d=ko(ot(i._options.defaultValues,n));cr(i._defaultValues,n,d),Br(ot(i._formValues,n))&&cr(i._formValues,n,d)}return()=>{(s?u&&!i._state.action:u)?i.unregister(n):f(n,!1)}},[n,i,s,o]),ie.useEffect(()=>{ot(i._fields,n)&&i._updateDisabledField({disabled:r,fields:i._fields,name:n,value:ot(i._fields,n)._f.value})},[r,n,i]),{field:{name:n,value:a,...mf(r)||l.disabled?{disabled:l.disabled||r}:{},onChange:ie.useCallback(u=>c.current.onChange({target:{value:n7e(u),name:n},type:V3.CHANGE}),[n]),onBlur:ie.useCallback(()=>c.current.onBlur({target:{value:ot(i._formValues,n),name:n},type:V3.BLUR}),[n,i]),ref:u=>{const f=ot(i._fields,n);f&&u&&(f._f.ref={focus:()=>u.focus(),select:()=>u.select(),setCustomValidity:d=>u.setCustomValidity(d),reportValidity:()=>u.reportValidity()})}},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ot(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!ot(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ot(l.touchedFields,n)},error:{enumerable:!0,get:()=>ot(l.errors,n)}})}}const q8t=e=>e.render(f7e(e));var d7e=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},tm=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(Math.random()*16+e)%16|0;return(t=="x"?n:n&3|8).toString(16)})},XB=(e,t,n={})=>n.shouldFocus||Br(n.shouldFocus)?n.focusName||`${e}.${Br(n.focusIndex)?t:n.focusIndex}.`:"",Tk=e=>({isOnSubmit:!e||e===hu.onSubmit,isOnBlur:e===hu.onBlur,isOnChange:e===hu.onChange,isOnAll:e===hu.all,isOnTouch:e===hu.onTouched}),xH=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Ew=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const o=ot(e,i);if(o){const{_f:s,...a}=o;if(s){if(s.refs&&s.refs[0]&&t(s.refs[0],i)&&!r)break;if(s.ref&&t(s.ref,s.name)&&!r)break;Ew(a,t)}else Uo(a)&&Ew(a,t)}}};var h7e=(e,t,n)=>{const r=fC(ot(e,n));return cr(r,"root",t[n]),cr(e,n,r),e},ooe=e=>e.type==="file",qm=e=>typeof e=="function",U3=e=>{if(!roe)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},aI=e=>th(e),soe=e=>e.type==="radio",q3=e=>e instanceof RegExp;const E1e={value:!1,isValid:!1},k1e={value:!0,isValid:!0};var p7e=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Br(e[0].attributes.value)?Br(e[0].value)||e[0].value===""?k1e:{value:e[0].value,isValid:!0}:k1e:E1e}return E1e};const T1e={isValid:!1,value:null};var g7e=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,T1e):T1e;function P1e(e,t,n="validate"){if(aI(e)||Array.isArray(e)&&e.every(aI)||mf(e)&&!e)return{type:n,message:aI(e)?e:"",ref:t}}var QO=e=>Uo(e)&&!q3(e)?e:{value:e,message:""},wH=async(e,t,n,r,i)=>{const{ref:o,refs:s,required:a,maxLength:l,minLength:c,min:u,max:f,pattern:d,validate:h,name:p,valueAsNumber:g,mount:y,disabled:v}=e._f,x=ot(t,p);if(!y||v)return{};const m=s?s[0]:o,w=j=>{r&&m.reportValidity&&(m.setCustomValidity(mf(j)?"":j||""),m.reportValidity())},S={},C=soe(o),$=wR(o),E=C||$,R=(g||ooe(o))&&Br(o.value)&&Br(x)||U3(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,N=d7e.bind(null,p,n,S),I=(j,A,T,D=up.maxLength,L=up.minLength)=>{const W=j?A:T;S[p]={type:j?D:L,message:W,ref:o,...N(j?D:L,W)}};if(i?!Array.isArray(x)||!x.length:a&&(!E&&(R||ja(x))||mf(x)&&!x||$&&!p7e(s).isValid||C&&!g7e(s).isValid)){const{value:j,message:A}=aI(a)?{value:!!a,message:a}:QO(a);if(j&&(S[p]={type:up.required,message:A,ref:m,...N(up.required,A)},!n))return w(A),S}if(!R&&(!ja(u)||!ja(f))){let j,A;const T=QO(f),D=QO(u);if(!ja(x)&&!isNaN(x)){const L=o.valueAsNumber||x&&+x;ja(T.value)||(j=L>T.value),ja(D.value)||(A=L<D.value)}else{const L=o.valueAsDate||new Date(x),W=B=>new Date(new Date().toDateString()+" "+B),V=o.type=="time",Q=o.type=="week";th(T.value)&&x&&(j=V?W(x)>W(T.value):Q?x>T.value:L>new Date(T.value)),th(D.value)&&x&&(A=V?W(x)<W(D.value):Q?x<D.value:L<new Date(D.value))}if((j||A)&&(I(!!j,T.message,D.message,up.max,up.min),!n))return w(S[p].message),S}if((l||c)&&!R&&(th(x)||i&&Array.isArray(x))){const j=QO(l),A=QO(c),T=!ja(j.value)&&x.length>+j.value,D=!ja(A.value)&&x.length<+A.value;if((T||D)&&(I(T,j.message,A.message),!n))return w(S[p].message),S}if(d&&!R&&th(x)){const{value:j,message:A}=QO(d);if(q3(j)&&!x.match(j)&&(S[p]={type:up.pattern,message:A,ref:o,...N(up.pattern,A)},!n))return w(A),S}if(h){if(qm(h)){const j=await h(x,t),A=P1e(j,m);if(A&&(S[p]={...A,...N(up.validate,A.message)},!n))return w(A.message),S}else if(Uo(h)){let j={};for(const A in h){if(!pc(j)&&!n)break;const T=P1e(await h[A](x,t),m,A);T&&(j={...T,...N(A,T.message)},w(T.message),n&&(S[p]=j))}if(!pc(j)&&(S[p]={ref:m,...j},!n))return S}}return w(!0),S},HB=(e,t)=>[...e,...Ec(t)],ZB=e=>Array.isArray(e)?e.map(()=>{}):void 0;function GB(e,t,n){return[...e.slice(0,t),...Ec(n),...e.slice(t)]}var KB=(e,t,n)=>Array.isArray(e)?(Br(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[],JB=(e,t)=>[...Ec(t),...Ec(e)];function Y8t(e,t){let n=0;const r=[...e];for(const i of t)r.splice(i-n,1),n++;return fC(r).length?r:[]}var eW=(e,t)=>Br(t)?[]:Y8t(e,Ec(t).sort((n,r)=>n-r)),tW=(e,t,n)=>{[e[t],e[n]]=[e[n],e[t]]};function X8t(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Br(e)?r++:e[t[r++]];return e}function H8t(e){for(const t in e)if(e.hasOwnProperty(t)&&!Br(e[t]))return!1;return!0}function Zo(e,t){const n=Array.isArray(t)?t:ioe(t)?[t]:u7e(t),r=n.length===1?e:X8t(e,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(Uo(r)&&pc(r)||Array.isArray(r)&&H8t(r))&&Zo(e,n.slice(0,-1)),e}var R1e=(e,t,n)=>(e[t]=n,e);function m7e(e){const t=SR(),{control:n=t.control,name:r,keyName:i="id",shouldUnregister:o}=e,[s,a]=ie.useState(n._getFieldArray(r)),l=ie.useRef(n._getFieldArray(r).map(tm)),c=ie.useRef(s),u=ie.useRef(r),f=ie.useRef(!1);u.current=r,c.current=s,n._names.array.add(r),e.rules&&n.register(r,e.rules),x7({next:({values:S,name:C})=>{if(C===u.current||!C){const $=ot(S,u.current);Array.isArray($)&&(a($),l.current=$.map(tm))}},subject:n._subjects.array});const d=ie.useCallback(S=>{f.current=!0,n._updateFieldArray(r,S)},[n,r]),h=(S,C)=>{const $=Ec(ko(S)),E=HB(n._getFieldArray(r),$);n._names.focus=XB(r,E.length-1,C),l.current=HB(l.current,$.map(tm)),d(E),a(E),n._updateFieldArray(r,E,HB,{argA:ZB(S)})},p=(S,C)=>{const $=Ec(ko(S)),E=JB(n._getFieldArray(r),$);n._names.focus=XB(r,0,C),l.current=JB(l.current,$.map(tm)),d(E),a(E),n._updateFieldArray(r,E,JB,{argA:ZB(S)})},g=S=>{const C=eW(n._getFieldArray(r),S);l.current=eW(l.current,S),d(C),a(C),n._updateFieldArray(r,C,eW,{argA:S})},y=(S,C,$)=>{const E=Ec(ko(C)),R=GB(n._getFieldArray(r),S,E);n._names.focus=XB(r,S,$),l.current=GB(l.current,S,E.map(tm)),d(R),a(R),n._updateFieldArray(r,R,GB,{argA:S,argB:ZB(C)})},v=(S,C)=>{const $=n._getFieldArray(r);tW($,S,C),tW(l.current,S,C),d($),a($),n._updateFieldArray(r,$,tW,{argA:S,argB:C},!1)},x=(S,C)=>{const $=n._getFieldArray(r);KB($,S,C),KB(l.current,S,C),d($),a($),n._updateFieldArray(r,$,KB,{argA:S,argB:C},!1)},m=(S,C)=>{const $=ko(C),E=R1e(n._getFieldArray(r),S,$);l.current=[...E].map((R,N)=>!R||N===S?tm():l.current[N]),d(E),a([...E]),n._updateFieldArray(r,E,R1e,{argA:S,argB:$},!0,!1)},w=S=>{const C=Ec(ko(S));l.current=C.map(tm),d([...C]),a([...C]),n._updateFieldArray(r,[...C],$=>$,{},!0,!1)};return ie.useEffect(()=>{if(n._state.action=!1,xH(r,n._names)&&n._subjects.state.next({...n._formState}),f.current&&(!Tk(n._options.mode).isOnSubmit||n._formState.isSubmitted))if(n._options.resolver)n._executeSchema([r]).then(S=>{const C=ot(S.errors,r),$=ot(n._formState.errors,r);($?!C&&$.type||C&&($.type!==C.type||$.message!==C.message):C&&C.type)&&(C?cr(n._formState.errors,r,C):Zo(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))});else{const S=ot(n._fields,r);S&&S._f&&!(Tk(n._options.reValidateMode).isOnSubmit&&Tk(n._options.mode).isOnSubmit)&&wH(S,n._formValues,n._options.criteriaMode===hu.all,n._options.shouldUseNativeValidation,!0).then(C=>!pc(C)&&n._subjects.state.next({errors:h7e(n._formState.errors,C,r)}))}n._subjects.values.next({name:r,values:{...n._formValues}}),n._names.focus&&Ew(n._fields,(S,C)=>{if(n._names.focus&&C.startsWith(n._names.focus)&&S.focus)return S.focus(),1}),n._names.focus="",n._updateValid(),f.current=!1},[s,r,n]),ie.useEffect(()=>(!ot(n._formValues,r)&&n._updateFieldArray(r),()=>{(n._options.shouldUnregister||o)&&n.unregister(r)}),[r,n,i,o]),{swap:ie.useCallback(v,[d,r,n]),move:ie.useCallback(x,[d,r,n]),prepend:ie.useCallback(p,[d,r,n]),append:ie.useCallback(h,[d,r,n]),remove:ie.useCallback(g,[d,r,n]),insert:ie.useCallback(y,[d,r,n]),update:ie.useCallback(m,[d,r,n]),replace:ie.useCallback(w,[d,r,n]),fields:ie.useMemo(()=>s.map((S,C)=>({...S,[i]:l.current[C]||tm()})),[s,i])}}var nW=()=>{let e=[];return{get observers(){return e},next:i=>{for(const o of e)o.next&&o.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(o=>o!==i)}}),unsubscribe:()=>{e=[]}}},Y3=e=>ja(e)||!t7e(e);function Hv(e,t){if(Y3(e)||Y3(t))return e===t;if(qx(e)&&qx(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const o=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const s=t[i];if(qx(o)&&qx(s)||Uo(o)&&Uo(s)||Array.isArray(o)&&Array.isArray(s)?!Hv(o,s):o!==s)return!1}}return!0}var y7e=e=>e.type==="select-multiple",Z8t=e=>soe(e)||wR(e),rW=e=>U3(e)&&e.isConnected,v7e=e=>{for(const t in e)if(qm(e[t]))return!0;return!1};function X3(e,t={}){const n=Array.isArray(e);if(Uo(e)||n)for(const r in e)Array.isArray(e[r])||Uo(e[r])&&!v7e(e[r])?(t[r]=Array.isArray(e[r])?[]:{},X3(e[r],t[r])):ja(e[r])||(t[r]=!0);return t}function b7e(e,t,n){const r=Array.isArray(e);if(Uo(e)||r)for(const i in e)Array.isArray(e[i])||Uo(e[i])&&!v7e(e[i])?Br(t)||Y3(n[i])?n[i]=Array.isArray(e[i])?X3(e[i],[]):{...X3(e[i])}:b7e(e[i],ja(t)?{}:t[i],n[i]):n[i]=!Hv(e[i],t[i]);return n}var eN=(e,t)=>b7e(e,t,X3(t)),O7e=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Br(e)?e:t?e===""?NaN:e&&+e:n&&th(e)?new Date(e):r?r(e):e;function iW(e){const t=e.ref;if(!(e.refs?e.refs.every(n=>n.disabled):t.disabled))return ooe(t)?t.files:soe(t)?g7e(e.refs).value:y7e(t)?[...t.selectedOptions].map(({value:n})=>n):wR(t)?p7e(e.refs).value:O7e(Br(t.value)?e.ref.value:t.value,e)}var G8t=(e,t,n,r)=>{const i={};for(const o of e){const s=ot(t,o);s&&cr(i,o,s._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},b$=e=>Br(e)?e:q3(e)?e.source:Uo(e)?q3(e.value)?e.value.source:e.value:e,K8t=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function A1e(e,t,n){const r=ot(e,n);if(r||ioe(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),s=ot(t,o),a=ot(e,o);if(s&&!Array.isArray(s)&&n!==o)return{name:n};if(a&&a.type)return{name:o,error:a};i.pop()}return{name:n}}var J8t=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,ezt=(e,t)=>!fC(ot(e,t)).length&&Zo(e,t);const tzt={mode:hu.onSubmit,reValidateMode:hu.onChange,shouldFocusError:!0};function nzt(e={},t){let n={...tzt,...e},r={submitCount:0,isDirty:!1,isLoading:qm(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:n.errors||{},disabled:n.disabled||!1},i={},o=Uo(n.values)||Uo(n.defaultValues)?ko(n.values||n.defaultValues)||{}:{},s=n.shouldUnregister?{}:ko(o),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={values:nW(),array:nW(),state:nW()},h=Tk(n.mode),p=Tk(n.reValidateMode),g=n.criteriaMode===hu.all,y=K=>ge=>{clearTimeout(u),u=setTimeout(K,ge)},v=async K=>{if(f.isValid||K){const ge=n.resolver?pc((await R()).errors):await I(i,!0);ge!==r.isValid&&d.state.next({isValid:ge})}},x=K=>f.isValidating&&d.state.next({isValidating:K}),m=(K,ge=[],Oe,Ve,Fe=!0,ye=!0)=>{if(Ve&&Oe){if(a.action=!0,ye&&Array.isArray(ot(i,K))){const Ne=Oe(ot(i,K),Ve.argA,Ve.argB);Fe&&cr(i,K,Ne)}if(ye&&Array.isArray(ot(r.errors,K))){const Ne=Oe(ot(r.errors,K),Ve.argA,Ve.argB);Fe&&cr(r.errors,K,Ne),ezt(r.errors,K)}if(f.touchedFields&&ye&&Array.isArray(ot(r.touchedFields,K))){const Ne=Oe(ot(r.touchedFields,K),Ve.argA,Ve.argB);Fe&&cr(r.touchedFields,K,Ne)}f.dirtyFields&&(r.dirtyFields=eN(o,s)),d.state.next({name:K,isDirty:A(K,ge),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else cr(s,K,ge)},w=(K,ge)=>{cr(r.errors,K,ge),d.state.next({errors:r.errors})},S=K=>{r.errors=K,d.state.next({errors:r.errors,isValid:!1})},C=(K,ge,Oe,Ve)=>{const Fe=ot(i,K);if(Fe){const ye=ot(s,K,Br(Oe)?ot(o,K):Oe);Br(ye)||Ve&&Ve.defaultChecked||ge?cr(s,K,ge?ye:iW(Fe._f)):L(K,ye),a.mount&&v()}},$=(K,ge,Oe,Ve,Fe)=>{let ye=!1,Ne=!1;const ft={name:K},ht=!!(ot(i,K)&&ot(i,K)._f.disabled);if(!Oe||Ve){f.isDirty&&(Ne=r.isDirty,r.isDirty=ft.isDirty=A(),ye=Ne!==ft.isDirty);const pt=ht||Hv(ot(o,K),ge);Ne=!!(!ht&&ot(r.dirtyFields,K)),pt||ht?Zo(r.dirtyFields,K):cr(r.dirtyFields,K,!0),ft.dirtyFields=r.dirtyFields,ye=ye||f.dirtyFields&&Ne!==!pt}if(Oe){const pt=ot(r.touchedFields,K);pt||(cr(r.touchedFields,K,Oe),ft.touchedFields=r.touchedFields,ye=ye||f.touchedFields&&pt!==Oe)}return ye&&Fe&&d.state.next(ft),ye?ft:{}},E=(K,ge,Oe,Ve)=>{const Fe=ot(r.errors,K),ye=f.isValid&&mf(ge)&&r.isValid!==ge;if(e.delayError&&Oe?(c=y(()=>w(K,Oe)),c(e.delayError)):(clearTimeout(u),c=null,Oe?cr(r.errors,K,Oe):Zo(r.errors,K)),(Oe?!Hv(Fe,Oe):Fe)||!pc(Ve)||ye){const Ne={...Ve,...ye&&mf(ge)?{isValid:ge}:{},errors:r.errors,name:K};r={...r,...Ne},d.state.next(Ne)}x(!1)},R=async K=>n.resolver(s,n.context,G8t(K||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),N=async K=>{const{errors:ge}=await R(K);if(K)for(const Oe of K){const Ve=ot(ge,Oe);Ve?cr(r.errors,Oe,Ve):Zo(r.errors,Oe)}else r.errors=ge;return ge},I=async(K,ge,Oe={valid:!0})=>{for(const Ve in K){const Fe=K[Ve];if(Fe){const{_f:ye,...Ne}=Fe;if(ye){const ft=l.array.has(ye.name),ht=await wH(Fe,s,g,n.shouldUseNativeValidation&&!ge,ft);if(ht[ye.name]&&(Oe.valid=!1,ge))break;!ge&&(ot(ht,ye.name)?ft?h7e(r.errors,ht,ye.name):cr(r.errors,ye.name,ht[ye.name]):Zo(r.errors,ye.name))}Ne&&await I(Ne,ge,Oe)}}return Oe.valid},j=()=>{for(const K of l.unMount){const ge=ot(i,K);ge&&(ge._f.refs?ge._f.refs.every(Oe=>!rW(Oe)):!rW(ge._f.ref))&&re(K)}l.unMount=new Set},A=(K,ge)=>(K&&ge&&cr(s,K,ge),!Hv(U(),o)),T=(K,ge,Oe)=>c7e(K,l,{...a.mount?s:Br(ge)?o:th(K)?{[K]:ge}:ge},Oe,ge),D=K=>fC(ot(a.mount?s:o,K,e.shouldUnregister?ot(o,K,[]):[])),L=(K,ge,Oe={})=>{const Ve=ot(i,K);let Fe=ge;if(Ve){const ye=Ve._f;ye&&(!ye.disabled&&cr(s,K,O7e(ge,ye)),Fe=U3(ye.ref)&&ja(ge)?"":ge,y7e(ye.ref)?[...ye.ref.options].forEach(Ne=>Ne.selected=Fe.includes(Ne.value)):ye.refs?wR(ye.ref)?ye.refs.length>1?ye.refs.forEach(Ne=>(!Ne.defaultChecked||!Ne.disabled)&&(Ne.checked=Array.isArray(Fe)?!!Fe.find(ft=>ft===Ne.value):Fe===Ne.value)):ye.refs[0]&&(ye.refs[0].checked=!!Fe):ye.refs.forEach(Ne=>Ne.checked=Ne.value===Fe):ooe(ye.ref)?ye.ref.value="":(ye.ref.value=Fe,ye.ref.type||d.values.next({name:K,values:{...s}})))}(Oe.shouldDirty||Oe.shouldTouch)&&$(K,Fe,Oe.shouldTouch,Oe.shouldDirty,!0),Oe.shouldValidate&&Y(K)},W=(K,ge,Oe)=>{for(const Ve in ge){const Fe=ge[Ve],ye=`${K}.${Ve}`,Ne=ot(i,ye);(l.array.has(K)||!Y3(Fe)||Ne&&!Ne._f)&&!qx(Fe)?W(ye,Fe,Oe):L(ye,Fe,Oe)}},V=(K,ge,Oe={})=>{const Ve=ot(i,K),Fe=l.array.has(K),ye=ko(ge);cr(s,K,ye),Fe?(d.array.next({name:K,values:{...s}}),(f.isDirty||f.dirtyFields)&&Oe.shouldDirty&&d.state.next({name:K,dirtyFields:eN(o,s),isDirty:A(K,ye)})):Ve&&!Ve._f&&!ja(ye)?W(K,ye,Oe):L(K,ye,Oe),xH(K,l)&&d.state.next({...r}),d.values.next({name:K,values:{...s}}),!a.mount&&t()},Q=async K=>{const ge=K.target;let Oe=ge.name,Ve=!0;const Fe=ot(i,Oe),ye=()=>ge.type?iW(Fe._f):n7e(K),Ne=ft=>{Ve=Number.isNaN(ft)||ft===ot(s,Oe,ft)};if(Fe){let ft,ht;const pt=ye(),Mt=K.type===V3.BLUR||K.type===V3.FOCUS_OUT,on=!K8t(Fe._f)&&!n.resolver&&!ot(r.errors,Oe)&&!Fe._f.deps||J8t(Mt,ot(r.touchedFields,Oe),r.isSubmitted,p,h),At=xH(Oe,l,Mt);cr(s,Oe,pt),Mt?(Fe._f.onBlur&&Fe._f.onBlur(K),c&&c(0)):Fe._f.onChange&&Fe._f.onChange(K);const Hr=$(Oe,pt,Mt,!1),bi=!pc(Hr)||At;if(!Mt&&d.values.next({name:Oe,type:K.type,values:{...s}}),on)return f.isValid&&v(),bi&&d.state.next({name:Oe,...At?{}:Hr});if(!Mt&&At&&d.state.next({...r}),x(!0),n.resolver){const{errors:Zr}=await R([Oe]);if(Ne(pt),Ve){const Ir=A1e(r.errors,i,Oe),Qt=A1e(Zr,i,Ir.name||Oe);ft=Qt.error,Oe=Qt.name,ht=pc(Zr)}}else ft=(await wH(Fe,s,g,n.shouldUseNativeValidation))[Oe],Ne(pt),Ve&&(ft?ht=!1:f.isValid&&(ht=await I(i,!0)));Ve&&(Fe._f.deps&&Y(Fe._f.deps),E(Oe,ht,ft,Hr))}},B=(K,ge)=>{if(ot(r.errors,ge)&&K.focus)return K.focus(),1},Y=async(K,ge={})=>{let Oe,Ve;const Fe=Ec(K);if(x(!0),n.resolver){const ye=await N(Br(K)?K:Fe);Oe=pc(ye),Ve=K?!Fe.some(Ne=>ot(ye,Ne)):Oe}else K?(Ve=(await Promise.all(Fe.map(async ye=>{const Ne=ot(i,ye);return await I(Ne&&Ne._f?{[ye]:Ne}:Ne)}))).every(Boolean),!(!Ve&&!r.isValid)&&v()):Ve=Oe=await I(i);return d.state.next({...!th(K)||f.isValid&&Oe!==r.isValid?{}:{name:K},...n.resolver||!K?{isValid:Oe}:{},errors:r.errors,isValidating:!1}),ge.shouldFocus&&!Ve&&Ew(i,B,K?Fe:l.mount),Ve},U=K=>{const ge={...o,...a.mount?s:{}};return Br(K)?ge:th(K)?ot(ge,K):K.map(Oe=>ot(ge,Oe))},q=(K,ge)=>({invalid:!!ot((ge||r).errors,K),isDirty:!!ot((ge||r).dirtyFields,K),isTouched:!!ot((ge||r).touchedFields,K),error:ot((ge||r).errors,K)}),Z=K=>{K&&Ec(K).forEach(ge=>Zo(r.errors,ge)),d.state.next({errors:K?r.errors:{}})},oe=(K,ge,Oe)=>{const Ve=(ot(i,K,{_f:{}})._f||{}).ref;cr(r.errors,K,{...ge,ref:Ve}),d.state.next({name:K,errors:r.errors,isValid:!1}),Oe&&Oe.shouldFocus&&Ve&&Ve.focus&&Ve.focus()},ce=(K,ge)=>qm(K)?d.values.subscribe({next:Oe=>K(T(void 0,ge),Oe)}):T(K,ge,!0),re=(K,ge={})=>{for(const Oe of K?Ec(K):l.mount)l.mount.delete(Oe),l.array.delete(Oe),ge.keepValue||(Zo(i,Oe),Zo(s,Oe)),!ge.keepError&&Zo(r.errors,Oe),!ge.keepDirty&&Zo(r.dirtyFields,Oe),!ge.keepTouched&&Zo(r.touchedFields,Oe),!n.shouldUnregister&&!ge.keepDefaultValue&&Zo(o,Oe);d.values.next({values:{...s}}),d.state.next({...r,...ge.keepDirty?{isDirty:A()}:{}}),!ge.keepIsValid&&v()},fe=({disabled:K,name:ge,field:Oe,fields:Ve,value:Fe})=>{if(mf(K)){const ye=K?void 0:Br(Fe)?iW(Oe?Oe._f:ot(Ve,ge)._f):Fe;cr(s,ge,ye),$(ge,ye,!1,!1,!0)}},ae=(K,ge={})=>{let Oe=ot(i,K);const Ve=mf(ge.disabled);return cr(i,K,{...Oe||{},_f:{...Oe&&Oe._f?Oe._f:{ref:{name:K}},name:K,mount:!0,...ge}}),l.mount.add(K),Oe?fe({field:Oe,disabled:ge.disabled,name:K,value:ge.value}):C(K,!0,ge.value),{...Ve?{disabled:ge.disabled}:{},...n.progressive?{required:!!ge.required,min:b$(ge.min),max:b$(ge.max),minLength:b$(ge.minLength),maxLength:b$(ge.maxLength),pattern:b$(ge.pattern)}:{},name:K,onChange:Q,onBlur:Q,ref:Fe=>{if(Fe){ae(K,ge),Oe=ot(i,K);const ye=Br(Fe.value)&&Fe.querySelectorAll&&Fe.querySelectorAll("input,select,textarea")[0]||Fe,Ne=Z8t(ye),ft=Oe._f.refs||[];if(Ne?ft.find(ht=>ht===ye):ye===Oe._f.ref)return;cr(i,K,{_f:{...Oe._f,...Ne?{refs:[...ft.filter(rW),ye,...Array.isArray(ot(o,K))?[{}]:[]],ref:{type:ye.type,name:K}}:{ref:ye}}}),C(K,!1,void 0,ye)}else Oe=ot(i,K,{}),Oe._f&&(Oe._f.mount=!1),(n.shouldUnregister||ge.shouldUnregister)&&!(r7e(l.array,K)&&a.action)&&l.unMount.add(K)}}},ue=()=>n.shouldFocusError&&Ew(i,B,l.mount),me=K=>{mf(K)&&(d.state.next({disabled:K}),Ew(i,(ge,Oe)=>{let Ve=K;const Fe=ot(i,Oe);Fe&&mf(Fe._f.disabled)&&(Ve||(Ve=Fe._f.disabled)),ge.disabled=Ve},0,!1))},ne=(K,ge)=>async Oe=>{let Ve;Oe&&(Oe.preventDefault&&Oe.preventDefault(),Oe.persist&&Oe.persist());let Fe=ko(s);if(d.state.next({isSubmitting:!0}),n.resolver){const{errors:ye,values:Ne}=await R();r.errors=ye,Fe=Ne}else await I(i);if(Zo(r.errors,"root"),pc(r.errors)){d.state.next({errors:{}});try{await K(Fe,Oe)}catch(ye){Ve=ye}}else ge&&await ge({...r.errors},Oe),ue(),setTimeout(ue);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:pc(r.errors)&&!Ve,submitCount:r.submitCount+1,errors:r.errors}),Ve)throw Ve},Le=(K,ge={})=>{ot(i,K)&&(Br(ge.defaultValue)?V(K,ko(ot(o,K))):(V(K,ge.defaultValue),cr(o,K,ko(ge.defaultValue))),ge.keepTouched||Zo(r.touchedFields,K),ge.keepDirty||(Zo(r.dirtyFields,K),r.isDirty=ge.defaultValue?A(K,ko(ot(o,K))):A()),ge.keepError||(Zo(r.errors,K),f.isValid&&v()),d.state.next({...r}))},_e=(K,ge={})=>{const Oe=K?ko(K):o,Ve=ko(Oe),Fe=K&&!pc(K)?Ve:o;if(ge.keepDefaultValues||(o=Oe),!ge.keepValues){if(ge.keepDirtyValues)for(const ye of l.mount)ot(r.dirtyFields,ye)?cr(Fe,ye,ot(s,ye)):V(ye,ot(Fe,ye));else{if(roe&&Br(K))for(const ye of l.mount){const Ne=ot(i,ye);if(Ne&&Ne._f){const ft=Array.isArray(Ne._f.refs)?Ne._f.refs[0]:Ne._f.ref;if(U3(ft)){const ht=ft.closest("form");if(ht){ht.reset();break}}}}i={}}s=e.shouldUnregister?ge.keepDefaultValues?ko(o):{}:ko(Fe),d.array.next({values:{...Fe}}),d.values.next({values:{...Fe}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&t(),a.mount=!f.isValid||!!ge.keepIsValid||!!ge.keepDirtyValues,a.watch=!!e.shouldUnregister,d.state.next({submitCount:ge.keepSubmitCount?r.submitCount:0,isDirty:ge.keepDirty?r.isDirty:!!(ge.keepDefaultValues&&!Hv(K,o)),isSubmitted:ge.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ge.keepDirtyValues?ge.keepDefaultValues&&s?eN(o,s):r.dirtyFields:ge.keepDefaultValues&&K?eN(o,K):{},touchedFields:ge.keepTouched?r.touchedFields:{},errors:ge.keepErrors?r.errors:{},isSubmitSuccessful:ge.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},ke=(K,ge)=>_e(qm(K)?K(s):K,ge);return{control:{register:ae,unregister:re,getFieldState:q,handleSubmit:ne,setError:oe,_executeSchema:R,_getWatch:T,_getDirty:A,_updateValid:v,_removeUnmounted:j,_updateFieldArray:m,_updateDisabledField:fe,_getFieldArray:D,_reset:_e,_resetDefaultValues:()=>qm(n.defaultValues)&&n.defaultValues().then(K=>{ke(K,n.resetOptions),d.state.next({isLoading:!1})}),_updateFormState:K=>{r={...r,...K}},_disableForm:me,_subjects:d,_proxyFormState:f,_setErrors:S,get _fields(){return i},get _formValues(){return s},get _state(){return a},set _state(K){a=K},get _defaultValues(){return o},get _names(){return l},set _names(K){l=K},get _formState(){return r},set _formState(K){r=K},get _options(){return n},set _options(K){n={...n,...K}}},trigger:Y,register:ae,handleSubmit:ne,watch:ce,setValue:V,getValues:U,reset:ke,resetField:Le,clearErrors:Z,unregister:re,setError:oe,setFocus:(K,ge={})=>{const Oe=ot(i,K),Ve=Oe&&Oe._f;if(Ve){const Fe=Ve.refs?Ve.refs[0]:Ve.ref;Fe.focus&&(Fe.focus(),ge.shouldSelect&&Fe.select())}},getFieldState:q}}function aoe(e={}){const t=ie.useRef(),n=ie.useRef(),[r,i]=ie.useState({isDirty:!1,isValidating:!1,isLoading:qm(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:qm(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...nzt(e,()=>i(s=>({...s}))),formState:r});const o=t.current.control;return o._options=e,x7({subject:o._subjects.state,next:s=>{a7e(s,o._proxyFormState,o._updateFormState,!0)&&i({...o._formState})}}),ie.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),ie.useEffect(()=>{if(o._proxyFormState.isDirty){const s=o._getDirty();s!==r.isDirty&&o._subjects.state.next({isDirty:s})}},[o,r.isDirty]),ie.useEffect(()=>{e.values&&!Hv(e.values,n.current)?(o._reset(e.values,o._options.resetOptions),n.current=e.values,i(s=>({...s}))):o._resetDefaultValues()},[e.values,o]),ie.useEffect(()=>{e.errors&&o._setErrors(e.errors)},[e.errors,o]),ie.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),ie.useEffect(()=>{e.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[e.shouldUnregister,o]),t.current.formState=s7e(r,o),t.current}var D1e=function(e,t,n){if(e&&"reportValidity"in e){var r=ot(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},x7e=function(e,t){var n=function(i){var o=t.fields[i];o&&o.ref&&"reportValidity"in o.ref?D1e(o.ref,i,e):o.refs&&o.refs.forEach(function(s){return D1e(s,i,e)})};for(var r in t.fields)n(r)},rzt=function(e,t){t.shouldUseNativeValidation&&x7e(e,t);var n={};for(var r in e){var i=ot(t.fields,r),o=Object.assign(e[r]||{},{ref:i&&i.ref});if(izt(t.names||Object.keys(e),r)){var s=Object.assign({},ot(n,r));cr(s,"root",o),cr(n,r,s)}else cr(n,r,o)}return n},izt=function(e,t){return e.some(function(n){return n.startsWith(t+".")})},ozt=function(e,t){for(var n={};e.length;){var r=e[0],i=r.code,o=r.message,s=r.path.join(".");if(!n[s])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[s]={message:a.message,type:a.code}}else n[s]={message:o,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(f){return e.push(f)})}),t){var l=n[s].types,c=l&&l[r.code];n[s]=d7e(s,t,n,i,c?[].concat(c,r.message):r.message)}e.shift()}return n},loe=function(e,t,n){return n===void 0&&(n={}),function(r,i,o){try{return Promise.resolve(function(s,a){try{var l=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(c){return o.shouldUseNativeValidation&&x7e({},o),{errors:{},values:n.raw?r:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(s){if(function(a){return a.errors!=null}(s))return{values:{},errors:rzt(ozt(s.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw s}))}catch(s){return Promise.reject(s)}}};const w7e=o7e,S7e=O.createContext({}),_r=({...e})=>b.jsx(S7e.Provider,{value:{name:e.name},children:b.jsx(q8t,{...e})}),_R=()=>{const e=O.useContext(S7e),t=O.useContext(_7e),{getFieldState:n,formState:r}=SR(),i=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...i}},_7e=O.createContext({}),ri=O.forwardRef(({className:e,...t},n)=>{const r=O.useId();return b.jsx(_7e.Provider,{value:{id:r},children:b.jsx("div",{ref:n,className:ve("flex flex-col gap-1",e),...t})})});ri.displayName="FormItem";const dr=O.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:i}=_R();if(t.children)return b.jsx(Ua,{ref:n,className:ve(r&&"text-destructive",e),htmlFor:i,...t})});dr.displayName="FormLabel";const ii=O.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:o}=_R();return b.jsx(qf,{ref:t,id:r,"aria-describedby":n?`${i} ${o}`:i,"aria-invalid":!!n,...e})});ii.displayName="FormControl";const ns=O.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=_R();return t.children?b.jsx("p",{ref:n,id:r,className:ve("text-xs text-muted-foreground",e),...t}):null});ns.displayName="FormDescription";const No=O.forwardRef(({className:e,children:t,...n},r)=>{const{error:i,formMessageId:o}=_R(),s=i!=null&&i.message?String(i==null?void 0:i.message):t;return s?b.jsx("p",{ref:r,id:o,className:ve("text-xs font-medium text-destructive",e),...n,children:s}):null});No.displayName="FormMessage";const C7e=({className:e})=>{const{error:t}=_R(),n=t!=null&&t.message?String(t==null?void 0:t.message):null;return n?b.jsx(tn,{content:n,children:b.jsx(xNe,{className:ve("stroke-[1.8px]",e)})}):null};C7e.displayName="FormMessageTooltip";function H3(e){const t=n=>{if(n instanceof H.ZodLiteral)return n._def.value;if(n instanceof H.ZodDefault)return n._def.defaultValue();if(n instanceof H.ZodEffects)return H3(n._def.schema);if("innerType"in n._def)return t(n._def.innerType)};return e instanceof H.ZodUnion?t(e._def.options[0]):e instanceof H.ZodArray?e._def.minLength&&e._def.minLength.value>0?[H3(e._def.type)]:[]:e instanceof H.ZodString?"":e instanceof H.ZodEnum?e._def.values[0]:e instanceof H.ZodObject?Object.fromEntries(Object.entries(e.shape).map(([n,r])=>[n,t(r)])):t(e)}function $2(e){if(e instanceof H.ZodLiteral)return e;if(e instanceof H.ZodObject){const t=e._def.shape().type;if(t instanceof H.ZodLiteral)return t;throw new Error("Invalid schema")}if(e instanceof H.ZodUnion)return $2(e._def.options[0]);throw new Error("Invalid schema")}const w7=O.createContext({}),coe=O.createContext(""),uoe=O.createContext(()=>Promise.resolve({values:[],too_many_values:!1})),CR={startCase:e=>{if(!e)return"";if(typeof e!="string")throw Ut.error(e),new TypeError(`Expected string, got ${typeof e}`);return/[A-Za-z]/.test(e)?l6(e):e}},szt=[" ","Enter","ArrowUp","ArrowDown"],azt=[" ","Enter"],S7="Select",[_7,C7,lzt]=I_(S7),[dC,TQn]=ro(S7,[lzt,k0]),foe=k0(),[czt,Jb]=dC(S7),[uzt,fzt]=dC(S7),dzt=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:f,disabled:d,required:h}=e,p=foe(t),[g,y]=O.useState(null),[v,x]=O.useState(null),[m,w]=O.useState(!1),S=zb(c),[C=!1,$]=Vo({prop:r,defaultProp:i,onChange:o}),[E,R]=Vo({prop:s,defaultProp:a,onChange:l}),N=O.useRef(null),I=g?!!g.closest("form"):!0,[j,A]=O.useState(new Set),T=Array.from(j).map(D=>D.props.value).join(";");return O.createElement(Y4,p,O.createElement(czt,{required:h,scope:t,trigger:g,onTriggerChange:y,valueNode:v,onValueNodeChange:x,valueNodeHasChildren:m,onValueNodeHasChildrenChange:w,contentId:Rl(),value:E,onValueChange:R,open:C,onOpenChange:$,dir:S,triggerPointerDownPosRef:N,disabled:d},O.createElement(_7.Provider,{scope:t},O.createElement(uzt,{scope:e.__scopeSelect,onNativeOptionAdd:O.useCallback(D=>{A(L=>new Set(L).add(D))},[]),onNativeOptionRemove:O.useCallback(D=>{A(L=>{const W=new Set(L);return W.delete(D),W})},[])},n)),I?O.createElement(P7e,{key:T,"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:f,value:E,onChange:D=>R(D.target.value),disabled:d},E===void 0?O.createElement("option",{value:""}):null,Array.from(j)):null))},hzt="SelectTrigger",pzt=O.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,o=foe(n),s=Jb(hzt,n),a=s.disabled||r,l=Xt(t,s.onTriggerChange),c=C7(n),[u,f,d]=R7e(p=>{const g=c().filter(x=>!x.disabled),y=g.find(x=>x.value===s.value),v=A7e(g,p,y);v!==void 0&&s.onValueChange(v.value)}),h=()=>{a||(s.onOpenChange(!0),d())};return O.createElement(X4,le({asChild:!0},o),O.createElement(Ot.button,le({type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":T7e(s.value)?"":void 0},i,{ref:l,onClick:qe(i.onClick,p=>{p.currentTarget.focus()}),onPointerDown:qe(i.onPointerDown,p=>{const g=p.target;g.hasPointerCapture(p.pointerId)&&g.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&(h(),s.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)},p.preventDefault())}),onKeyDown:qe(i.onKeyDown,p=>{const g=u.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&f(p.key),!(g&&p.key===" ")&&szt.includes(p.key)&&(h(),p.preventDefault())})})))}),gzt="SelectValue",mzt=O.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...a}=e,l=Jb(gzt,n),{onValueNodeHasChildrenChange:c}=l,u=o!==void 0,f=Xt(t,l.onValueNodeChange);return Ca(()=>{c(u)},[c,u]),O.createElement(Ot.span,le({},a,{ref:f,style:{pointerEvents:"none"}}),T7e(l.value)?O.createElement(O.Fragment,null,s):o)}),yzt=O.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return O.createElement(Ot.span,le({"aria-hidden":!0},i,{ref:t}),r||"")}),vzt=e=>O.createElement(z_,le({asChild:!0},e)),kS="SelectContent",bzt=O.forwardRef((e,t)=>{const n=Jb(kS,e.__scopeSelect),[r,i]=O.useState();if(Ca(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Io.createPortal(O.createElement($7e,{scope:e.__scopeSelect},O.createElement(_7.Slot,{scope:e.__scopeSelect},O.createElement("div",null,e.children))),o):null}return O.createElement(Ozt,le({},e,{ref:t}))}),bp=10,[$7e,eO]=dC(kS),Ozt=O.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:d,collisionPadding:h,sticky:p,hideWhenDetached:g,avoidCollisions:y,...v}=e,x=Jb(kS,n),[m,w]=O.useState(null),[S,C]=O.useState(null),$=Xt(t,re=>w(re)),[E,R]=O.useState(null),[N,I]=O.useState(null),j=C7(n),[A,T]=O.useState(!1),D=O.useRef(!1);O.useEffect(()=>{if(m)return GP(m)},[m]),f6();const L=O.useCallback(re=>{const[fe,...ae]=j().map(ne=>ne.ref.current),[ue]=ae.slice(-1),me=document.activeElement;for(const ne of re)if(ne===me||(ne==null||ne.scrollIntoView({block:"nearest"}),ne===fe&&S&&(S.scrollTop=0),ne===ue&&S&&(S.scrollTop=S.scrollHeight),ne==null||ne.focus(),document.activeElement!==me))return},[j,S]),W=O.useCallback(()=>L([E,m]),[L,E,m]);O.useEffect(()=>{A&&W()},[A,W]);const{onOpenChange:V,triggerPointerDownPosRef:Q}=x;O.useEffect(()=>{if(m){let re={x:0,y:0};const fe=ue=>{var me,ne,Le,_e;re={x:Math.abs(Math.round(ue.pageX)-((me=(ne=Q.current)===null||ne===void 0?void 0:ne.x)!==null&&me!==void 0?me:0)),y:Math.abs(Math.round(ue.pageY)-((Le=(_e=Q.current)===null||_e===void 0?void 0:_e.y)!==null&&Le!==void 0?Le:0))}},ae=ue=>{re.x<=10&&re.y<=10?ue.preventDefault():m.contains(ue.target)||V(!1),document.removeEventListener("pointermove",fe),Q.current=null};return Q.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",ae,{capture:!0})}}},[m,V,Q]),O.useEffect(()=>{const re=()=>V(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[V]);const[B,Y]=R7e(re=>{const fe=j().filter(me=>!me.disabled),ae=fe.find(me=>me.ref.current===document.activeElement),ue=A7e(fe,re,ae);ue&&setTimeout(()=>ue.ref.current.focus())}),U=O.useCallback((re,fe,ae)=>{const ue=!D.current&&!ae;(x.value!==void 0&&x.value===fe||ue)&&(R(re),ue&&(D.current=!0))},[x.value]),q=O.useCallback(()=>m==null?void 0:m.focus(),[m]),Z=O.useCallback((re,fe,ae)=>{const ue=!D.current&&!ae;(x.value!==void 0&&x.value===fe||ue)&&I(re)},[x.value]),oe=r==="popper"?N1e:xzt,ce=oe===N1e?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:d,collisionPadding:h,sticky:p,hideWhenDetached:g,avoidCollisions:y}:{};return O.createElement($7e,{scope:n,content:m,viewport:S,onViewportChange:C,itemRefCallback:U,selectedItem:E,onItemLeave:q,itemTextRefCallback:Z,focusSelectedItem:W,selectedItemText:N,position:r,isPositioned:A,searchRef:B},O.createElement(h6,{as:qf,allowPinchZoom:!0},O.createElement(u6,{asChild:!0,trapped:x.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:qe(i,re=>{var fe;(fe=x.trigger)===null||fe===void 0||fe.focus({preventScroll:!0}),re.preventDefault()})},O.createElement(j_,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>x.onOpenChange(!1)},O.createElement(oe,le({role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:re=>re.preventDefault()},v,ce,{onPlaced:()=>T(!0),ref:$,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:qe(v.onKeyDown,re=>{const fe=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!fe&&re.key.length===1&&Y(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let ue=j().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(re.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const me=re.target,ne=ue.indexOf(me);ue=ue.slice(ne+1)}setTimeout(()=>L(ue)),re.preventDefault()}})}))))))}),xzt=O.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,o=Jb(kS,n),s=eO(kS,n),[a,l]=O.useState(null),[c,u]=O.useState(null),f=Xt(t,$=>u($)),d=C7(n),h=O.useRef(!1),p=O.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:v,focusSelectedItem:x}=s,m=O.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&g&&y&&v){const $=o.trigger.getBoundingClientRect(),E=c.getBoundingClientRect(),R=o.valueNode.getBoundingClientRect(),N=v.getBoundingClientRect();if(o.dir!=="rtl"){const me=N.left-E.left,ne=R.left-me,Le=$.left-ne,_e=$.width+Le,ke=Math.max(_e,E.width),ze=window.innerWidth-bp,Je=e3(ne,[bp,ze-ke]);a.style.minWidth=_e+"px",a.style.left=Je+"px"}else{const me=E.right-N.right,ne=window.innerWidth-R.right-me,Le=window.innerWidth-$.right-ne,_e=$.width+Le,ke=Math.max(_e,E.width),ze=window.innerWidth-bp,Je=e3(ne,[bp,ze-ke]);a.style.minWidth=_e+"px",a.style.right=Je+"px"}const I=d(),j=window.innerHeight-bp*2,A=g.scrollHeight,T=window.getComputedStyle(c),D=parseInt(T.borderTopWidth,10),L=parseInt(T.paddingTop,10),W=parseInt(T.borderBottomWidth,10),V=parseInt(T.paddingBottom,10),Q=D+L+A+V+W,B=Math.min(y.offsetHeight*5,Q),Y=window.getComputedStyle(g),U=parseInt(Y.paddingTop,10),q=parseInt(Y.paddingBottom,10),Z=$.top+$.height/2-bp,oe=j-Z,ce=y.offsetHeight/2,re=y.offsetTop+ce,fe=D+L+re,ae=Q-fe;if(fe<=Z){const me=y===I[I.length-1].ref.current;a.style.bottom="0px";const ne=c.clientHeight-g.offsetTop-g.offsetHeight,Le=Math.max(oe,ce+(me?q:0)+ne+W),_e=fe+Le;a.style.height=_e+"px"}else{const me=y===I[0].ref.current;a.style.top="0px";const Le=Math.max(Z,D+g.offsetTop+(me?U:0)+ce)+ae;a.style.height=Le+"px",g.scrollTop=fe-Z+g.offsetTop}a.style.margin=`${bp}px 0`,a.style.minHeight=B+"px",a.style.maxHeight=j+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[d,o.trigger,o.valueNode,a,c,g,y,v,o.dir,r]);Ca(()=>m(),[m]);const[w,S]=O.useState();Ca(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const C=O.useCallback($=>{$&&p.current===!0&&(m(),x==null||x(),p.current=!1)},[m,x]);return O.createElement(wzt,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:h,onScrollButtonChange:C},O.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w}},O.createElement(Ot.div,le({},i,{ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),N1e=O.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=bp,...o}=e,s=foe(n);return O.createElement(H4,le({},s,o,{ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[wzt,doe]=dC(kS,{}),M1e="SelectViewport",Szt=O.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=eO(M1e,n),o=doe(M1e,n),s=Xt(t,i.onViewportChange),a=O.useRef(0);return O.createElement(O.Fragment,null,O.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),O.createElement(_7.Slot,{scope:n},O.createElement(Ot.div,le({"data-radix-select-viewport":"",role:"presentation"},r,{ref:s,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:qe(r.onScroll,l=>{const c=l.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&u){const d=Math.abs(a.current-c.scrollTop);if(d>0){const h=window.innerHeight-bp*2,p=parseFloat(u.style.minHeight),g=parseFloat(u.style.height),y=Math.max(p,g);if(y<h){const v=y+d,x=Math.min(h,v),m=v-x;u.style.height=x+"px",u.style.bottom==="0px"&&(c.scrollTop=m>0?m:0,u.style.justifyContent="flex-end")}}}a.current=c.scrollTop})}))))}),_zt="SelectGroup",[Czt,$zt]=dC(_zt),Ezt=O.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Rl();return O.createElement(Czt,{scope:n,id:i},O.createElement(Ot.div,le({role:"group","aria-labelledby":i},r,{ref:t})))}),kzt="SelectLabel",Tzt=O.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=$zt(kzt,n);return O.createElement(Ot.div,le({id:i.id},r,{ref:t}))}),SH="SelectItem",[Pzt,E7e]=dC(SH),Rzt=O.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=e,a=Jb(SH,n),l=eO(SH,n),c=a.value===r,[u,f]=O.useState(o??""),[d,h]=O.useState(!1),p=Xt(t,v=>{var x;return(x=l.itemRefCallback)===null||x===void 0?void 0:x.call(l,v,r,i)}),g=Rl(),y=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return O.createElement(Pzt,{scope:n,value:r,disabled:i,textId:g,isSelected:c,onItemTextChange:O.useCallback(v=>{f(x=>{var m;return x||((m=v==null?void 0:v.textContent)!==null&&m!==void 0?m:"").trim()})},[])},O.createElement(_7.ItemSlot,{scope:n,value:r,disabled:i,textValue:u},O.createElement(Ot.div,le({role:"option","aria-labelledby":g,"data-highlighted":d?"":void 0,"aria-selected":c&&d,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},s,{ref:p,onFocus:qe(s.onFocus,()=>h(!0)),onBlur:qe(s.onBlur,()=>h(!1)),onPointerUp:qe(s.onPointerUp,y),onPointerMove:qe(s.onPointerMove,v=>{if(i){var x;(x=l.onItemLeave)===null||x===void 0||x.call(l)}else v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:qe(s.onPointerLeave,v=>{if(v.currentTarget===document.activeElement){var x;(x=l.onItemLeave)===null||x===void 0||x.call(l)}}),onKeyDown:qe(s.onKeyDown,v=>{var x;((x=l.searchRef)===null||x===void 0?void 0:x.current)!==""&&v.key===" "||(azt.includes(v.key)&&y(),v.key===" "&&v.preventDefault())})}))))}),tN="SelectItemText",Azt=O.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...o}=e,s=Jb(tN,n),a=eO(tN,n),l=E7e(tN,n),c=fzt(tN,n),[u,f]=O.useState(null),d=Xt(t,v=>f(v),l.onItemTextChange,v=>{var x;return(x=a.itemTextRefCallback)===null||x===void 0?void 0:x.call(a,v,l.value,l.disabled)}),h=u==null?void 0:u.textContent,p=O.useMemo(()=>O.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},h),[l.disabled,l.value,h]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=c;return Ca(()=>(g(p),()=>y(p)),[g,y,p]),O.createElement(O.Fragment,null,O.createElement(Ot.span,le({id:l.textId},o,{ref:d})),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Io.createPortal(o.children,s.valueNode):null)}),Dzt="SelectItemIndicator",Nzt=O.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return E7e(Dzt,n).isSelected?O.createElement(Ot.span,le({"aria-hidden":!0},r,{ref:t})):null}),I1e="SelectScrollUpButton",Mzt=O.forwardRef((e,t)=>{const n=eO(I1e,e.__scopeSelect),r=doe(I1e,e.__scopeSelect),[i,o]=O.useState(!1),s=Xt(t,r.onScrollButtonChange);return Ca(()=>{if(n.viewport&&n.isPositioned){let l=function(){const c=a.scrollTop>0;o(c)};const a=n.viewport;return l(),a.addEventListener("scroll",l),()=>a.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?O.createElement(k7e,le({},e,{ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}})):null}),L1e="SelectScrollDownButton",Izt=O.forwardRef((e,t)=>{const n=eO(L1e,e.__scopeSelect),r=doe(L1e,e.__scopeSelect),[i,o]=O.useState(!1),s=Xt(t,r.onScrollButtonChange);return Ca(()=>{if(n.viewport&&n.isPositioned){let l=function(){const c=a.scrollHeight-a.clientHeight,u=Math.ceil(a.scrollTop)<c;o(u)};const a=n.viewport;return l(),a.addEventListener("scroll",l),()=>a.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?O.createElement(k7e,le({},e,{ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}})):null}),k7e=O.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,o=eO("SelectScrollButton",n),s=O.useRef(null),a=C7(n),l=O.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return O.useEffect(()=>()=>l(),[l]),Ca(()=>{var c;const u=a().find(f=>f.ref.current===document.activeElement);u==null||(c=u.ref.current)===null||c===void 0||c.scrollIntoView({block:"nearest"})},[a]),O.createElement(Ot.div,le({"aria-hidden":!0},i,{ref:t,style:{flexShrink:0,...i.style},onPointerDown:qe(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:qe(i.onPointerMove,()=>{var c;(c=o.onItemLeave)===null||c===void 0||c.call(o),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:qe(i.onPointerLeave,()=>{l()})}))}),Lzt=O.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return O.createElement(Ot.div,le({"aria-hidden":!0},r,{ref:t}))});function T7e(e){return e===""||e===void 0}const P7e=O.forwardRef((e,t)=>{const{value:n,...r}=e,i=O.useRef(null),o=Xt(t,i),s=XP(n);return O.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&u){const f=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(f)}},[s,n]),O.createElement(Z4,{asChild:!0},O.createElement("select",le({},r,{ref:o,defaultValue:n})))});P7e.displayName="BubbleSelect";function R7e(e){const t=_a(e),n=O.useRef(""),r=O.useRef(0),i=O.useCallback(s=>{const a=n.current+s;t(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),o=O.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return O.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function A7e(e,t,n){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let s=jzt(e,Math.max(o,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function jzt(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const Fzt=dzt,D7e=pzt,zzt=mzt,Qzt=yzt,Bzt=vzt,N7e=bzt,Wzt=Szt,Vzt=Ezt,M7e=Tzt,I7e=Rzt,Uzt=Azt,qzt=Nzt,Yzt=Mzt,Xzt=Izt,L7e=Lzt,L0=Fzt,vg=Vzt,hC=zzt,Ng=O.forwardRef(({className:e,children:t,onClear:n,variant:r,hideChevron:i=!1,...o},s)=>b.jsxs(D7e,{ref:s,className:ve(wMe({variant:r}),"mb-0",e),...o,children:[t,b.jsx(Qzt,{asChild:!0,children:n?b.jsx("span",{onPointerDown:a=>{a.preventDefault(),a.stopPropagation(),n()},children:b.jsx(Fh,{className:"h-4 w-4 opacity-50 hover:opacity-90"})}):!i&&b.jsx(Vy,{className:"h-4 w-4 opacity-50"})})]}));Ng.displayName=D7e.displayName;const Mg=O.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>b.jsx(Bzt,{children:b.jsxs(N7e,{ref:i,className:ve("max-h-[300px] relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[b.jsx(Yzt,{className:"flex items-center justify-center h-[20px] bg-background text-muted-foreground cursor-default",children:b.jsx(SY,{className:"h-4 w-4"})}),b.jsx(Wzt,{className:ve("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),b.jsx(Xzt,{className:"flex items-center justify-center h-[20px] bg-background text-muted-foreground cursor-default",children:b.jsx(Vy,{className:"h-4 w-4 opacity-50"})})]})}));Mg.displayName=N7e.displayName;const $7=O.forwardRef(({className:e,...t},n)=>b.jsx(M7e,{ref:n,className:ve("px-2 py-1.5 text-sm font-semibold",e),...t}));$7.displayName=M7e.displayName;const Ml=O.forwardRef(({className:e,children:t,...n},r)=>b.jsxs(I7e,{ref:r,className:ve("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[b.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:b.jsx(qzt,{children:b.jsx(Bb,{className:"h-3 w-3"})})}),b.jsx(Uzt,{asChild:typeof t=="string"?void 0:!0,className:"flex w-full flex-1",children:t})]}));Ml.displayName=I7e.displayName;const hoe=O.forwardRef(({className:e,...t},n)=>b.jsx(L7e,{ref:n,className:ve("-mx-1 my-1 h-px bg-muted",e),...t}));hoe.displayName=L7e.displayName;const j7e=({type:e})=>{const t=()=>e.startsWith("int")||e.startsWith("float")||e.startsWith("uint")||e.startsWith("complex")?b.jsx(Bvt,{size:14}):e.startsWith("object")?b.jsx(CNe,{size:14}):e.startsWith("date")||e.startsWith("time")?b.jsx(_Ne,{size:14}):e.startsWith("bool")?b.jsx(ANe,{size:14}):b.jsx(Wvt,{size:14});return b.jsx("div",{className:"border p-[1px] border-border bg-[var(--slate-2)] flex items-center justify-center rounded",children:t()})},Hzt=O.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:i,...o}=e,[s=!1,a]=Vo({prop:n,onChange:i,defaultProp:r});return O.createElement(Ot.button,le({type:"button","aria-pressed":s,"data-state":s?"on":"off","data-disabled":e.disabled?"":void 0},o,{ref:t,onClick:qe(e.onClick,()=>{e.disabled||a(!s)})}))}),F7e=Hzt,Zzt=Oo(ve("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50","data-[state=on]:bg-muted data-[state=on]:text-muted-foreground"),{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-muted hover:text-muted-foreground"},size:{default:"h-9 px-3",xs:"h-4 w-4",sm:"h-6 px-2",lg:"h-10 px-5"}},defaultVariants:{variant:"default",size:"default"}}),Pk=O.forwardRef(({className:e,variant:t,size:n,...r},i)=>b.jsx(F7e,{ref:i,className:ve(Zzt({variant:t,size:n,className:e})),...r}));Pk.displayName=F7e.displayName;const j1e=`
`,Gzt=({value:e,options:t,onChange:n,className:r,placeholder:i,textAreaClassName:o,comboBoxClassName:s})=>{const[a,l]=O.useState(!1),c=E7(e),u=()=>a?b.jsx(z7e,{value:c,className:o,onChange:n,placeholder:i?`${i}: one per line`:"One value per line"}):b.jsx(nR,{placeholder:i,displayValue:f=>f,className:ve("w-full max-w-[400px]",s),multiple:!0,value:c,onValueChange:n,keepPopoverOpenOnSelect:!0,chips:!0,chipsClassName:"flex-row flex-wrap min-w-[210px]",children:t.map(f=>b.jsx(Y_,{value:f,children:f},f))});return b.jsxs("div",{className:ve("flex gap-1",r),children:[u(),b.jsx(tn,{content:a?"Switch to multi-select":"Switch to textarea",children:b.jsx(Pk,{size:"xs",onPressedChange:l,pressed:a,children:b.jsx(RNe,{className:"w-3 h-3"})})})]})},z7e=e=>{const{className:t,value:n,onChange:r,placeholder:i}=e,o=E7(n);return b.jsx(T6,{value:o.join(j1e),className:t,rows:4,onChange:s=>{if(s.target.value===""){r([]);return}r(s.target.value.split(j1e))},placeholder:i?`${i}: one per line`:"One value per line"})};function E7(e){return e==null?[]:Array.isArray(e)?e:[e].filter(t=>t!=null||t!=="")}const Kzt=({schema:e,form:t,path:n=""})=>b.jsx(o7e,{...t,children:Zv(e,t,n)});function Zv(e,t,n){var a;const{label:r,description:i,special:o,direction:s="column"}=yn.parse(e._def.description||"");if(e instanceof H.ZodDefault){let l=e._def.innerType;return l=!l.description&&e.description?l.describe(e.description):l,Zv(l,t,n)}if(e instanceof H.ZodObject)return o==="column_filter"?b.jsx(n9t,{schema:e,form:t,path:n}):b.jsxs("div",{className:ve("flex",s==="row"?"flex-row gap-6 items-start":"flex-col gap-6"),children:[b.jsx(dr,{children:r}),wn.entries(e._def.shape()).map(([l,c])=>{const u=c instanceof H.ZodLiteral,f=Zv(c,t,`${n}.${l}`);return u?b.jsx(ie.Fragment,{children:f},l):b.jsx("div",{className:"flex flex-row align-start",children:f},l)})]});if(e instanceof H.ZodString)return o==="column_id"?b.jsx(Q7e,{schema:e,form:t,path:n}):o==="column_values"?b.jsx(i9t,{schema:e,form:t,path:n}):b.jsx(_H,{schema:e,form:t,path:n});if(e instanceof H.ZodBoolean)return b.jsx(_r,{control:t.control,name:n,render:({field:l})=>b.jsxs(ri,{children:[b.jsxs("div",{className:"flex flex-row items-start space-x-2",children:[b.jsx(dr,{children:r}),b.jsx(ns,{children:i}),b.jsx(ii,{children:b.jsx(Dp,{checked:l.value,onCheckedChange:l.onChange})})]}),b.jsx(No,{})]})});if(e instanceof H.ZodNumber)return o==="random_number_button"?b.jsx(_r,{control:t.control,name:n,render:({field:l})=>b.jsxs(zt,{size:"xs",variant:"secondary",onClick:()=>{l.onChange(eoe())},children:[b.jsx(D1t,{className:"w-3.5 h-3.5 mr-1"}),r]})}):b.jsx(_r,{control:t.control,name:n,render:({field:l})=>b.jsxs(ri,{children:[b.jsx(dr,{children:r}),b.jsx(ns,{children:i}),b.jsx(ii,{children:b.jsx(xMe,{...l,type:"number",className:"my-0",onValueChange:l.onChange})}),b.jsx(No,{})]})});if(e instanceof H.ZodDate)return b.jsx(_r,{control:t.control,name:n,render:({field:l})=>b.jsxs(ri,{children:[b.jsx(dr,{children:r}),b.jsx(ns,{children:i}),b.jsx(ii,{children:b.jsx(xne,{...l,onValueChange:l.onChange,type:"date",className:"my-0"})}),b.jsx(No,{})]})});if(e instanceof H.ZodAny)return b.jsx(_H,{schema:e,form:t,path:n});if(e instanceof H.ZodEnum)return b.jsx(r9t,{schema:e,form:t,path:n,options:e._def.values});if(e instanceof H.ZodArray){if(o==="text_area_multiline")return b.jsx(B7e,{schema:e,form:t,path:n});if(o==="column_values")return b.jsx(o9t,{schema:e,form:t,path:n});const l=e._def.type,c=yn.parse(l._def.description).special;if(l instanceof H.ZodString&&c==="column_id")return b.jsx(t9t,{schema:l,form:t,path:n,itemLabel:r});if(l instanceof H.ZodEnum){const u=l._def.values;return b.jsx(W7e,{schema:e,form:t,path:n,itemLabel:r,options:u})}return b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsx(Ua,{children:r}),b.jsx(e9t,{schema:e._def.type,form:t,path:n,minLength:(a=e._def.minLength)==null?void 0:a.value},n)]})}else return e instanceof H.ZodUnion?b.jsx(_r,{control:t.control,name:n,render:({field:l})=>{const c=e._def.options;let u=l.value;const f=c.map(h=>$2(h)._def.value);u||(u=f[0]);const d=c.find(h=>$2(h)._def.value===u);return b.jsxs("div",{className:"flex flex-col",children:[b.jsx(dr,{children:r}),b.jsx(g1,{...l,children:f.map(h=>b.jsx("option",{value:h,children:h},h))}),d&&Zv(d,t,n)]})}}):e instanceof H.ZodLiteral?b.jsx(_r,{control:t.control,name:n,render:({field:l})=>b.jsx("input",{...l,type:"hidden"})}):e instanceof H.ZodEffects&&["refinement","transform"].includes(e._def.effect.type)?Zv(e._def.schema,t,n):b.jsxs("div",{children:["Unknown schema type"," ",e?JSON.stringify(e._type||e):n]})}const Jzt=({className:e})=>b.jsx(C7e,{className:ve("absolute -left-6 bottom-0 text-destructive text-xs w-[16px]",e)}),e9t=({schema:e,form:t,path:n,minLength:r})=>{const{label:i,description:o}=yn.parse(e._def.description||""),s=t.control,{fields:a,append:l,remove:c}=m7e({control:s,name:n}),u=r!=null&&a.length<r,f=r==null||a.length>r;return b.jsxs("div",{className:"flex flex-col gap-2 min-w-[220px]",children:[b.jsx(dr,{children:i}),b.jsx(ns,{children:o}),a.map((d,h)=>b.jsxs("div",{className:"flex flex-row pl-2 ml-4 border-l-2 border-disabled hover-actions-parent relative pr-5 pt-1 items-center w-fit",onKeyDown:fg.onEnter(p=>p.preventDefault()),children:[Zv(e,t,`${n}[${h}]`),f&&b.jsx(t6,{className:"w-4 h-4 ml-2 my-1 text-muted-foreground hover:text-destructive cursor-pointer absolute right-0 top-5",onClick:()=>{c(h)}})]},d.id)),u&&b.jsx("div",{className:"text-destructive text-xs font-semibold",children:b.jsxs("div",{children:["At least ",r," required."]})}),b.jsx("div",{children:b.jsxs(zt,{size:"xs",variant:"text",className:"hover:text-accent-foreground",onClick:()=>{l(H3(e))},children:[b.jsx(lne,{className:"w-3.5 h-3.5 mr-1"}),"Add"]})})]})},Q7e=({schema:e,form:t,path:n,onChange:r})=>{const i=O.useContext(w7),{label:o,description:s}=yn.parse(e._def.description);return b.jsx(_r,{control:t.control,name:n,render:({field:a})=>b.jsxs(ri,{children:[b.jsx(dr,{children:o}),b.jsx(ns,{children:s}),b.jsx(Jzt,{}),b.jsx(ii,{children:b.jsxs(L0,{value:a.value,onValueChange:l=>{r==null||r(l),a.onChange(l)},children:[b.jsx(Ng,{className:"min-w-[210px]",children:b.jsx(hC,{placeholder:"--"})}),b.jsx(Mg,{children:b.jsxs(vg,{children:[wn.entries(i).map(([l,c])=>b.jsx(Ml,{value:l.toString(),children:b.jsxs("span",{className:"flex items-center gap-2 flex-1",children:[b.jsx(j7e,{type:c}),b.jsx("span",{className:"flex-1",children:l}),b.jsxs("span",{className:"text-muted-foreground text-xs font-semibold",children:["(",c,")"]})]})},l)),wn.keys(i).length===0&&b.jsx(Ml,{disabled:!0,value:"--",children:"No columns"})]})})]})})]})})},t9t=({schema:e,form:t,path:n,itemLabel:r})=>{const i=O.useContext(w7),{description:o}=yn.parse(e._def.description),s=r?`Select ${r.toLowerCase()}`:void 0;return b.jsx(_r,{control:t.control,name:n,render:({field:a})=>{const l=E7(a.value);return b.jsxs(ri,{children:[b.jsx(dr,{children:r}),b.jsx(ns,{children:o}),b.jsx(ii,{children:b.jsx(nR,{className:"min-w-[210px]",placeholder:s,displayValue:c=>c,multiple:!0,chips:!0,keepPopoverOpenOnSelect:!0,value:l,onValueChange:c=>{a.onChange(c)},children:wn.entries(i).map(([c,u])=>b.jsx(Y_,{value:c.toString(),children:b.jsxs("span",{className:"flex items-center gap-2 flex-1",children:[b.jsx(j7e,{type:u}),b.jsx("span",{className:"flex-1",children:c}),b.jsxs("span",{className:"text-muted-foreground text-xs font-semibold",children:["(",u,")"]})]})},c))})}),b.jsx(No,{})]})}})},n9t=({path:e,form:t,schema:n})=>{var u;const{description:r}=yn.parse(n._def.description),i=O.useContext(w7),{field:o}=f7e({name:e}),s=(u=wn.entries(n._def.shape()).find(([f,d])=>f==="column_id"))==null?void 0:u[1],{column_id:a,operator:l}=o.value||{},c=[b.jsx(Q7e,{schema:s,form:t,path:`${e}.column_id`,onChange:f=>{const d=i[a];i[f]!==d&&t.setValue(`${e}.value`,void 0)}},"column_id")];if(O.useEffect(()=>{const f=i[a],d=$1e(f),h=t.getValues(`${e}.operator`);d.includes(h)||(t.setValue(`${e}.operator`,d[0]),t.setValue(`${e}.value`,void 0))},[a]),a){const f=i[a],d=$1e(f);d.length===0?c.push(b.jsxs("div",{className:"text-muted-foreground text-xs font-semibold",children:[b.jsx(dr,{className:"whitespace-pre",children:" "}),b.jsx("div",{children:"This column type does not support filtering."})]},"no_operator")):c.push(b.jsx(_r,{control:t.control,name:`${e}.operator`,render:({field:h})=>b.jsxs(ri,{children:[b.jsx(dr,{className:"whitespace-pre",children:" "}),b.jsx(ns,{children:r}),b.jsx(ii,{children:b.jsxs(L0,{value:h.value,onValueChange:h.onChange,children:[b.jsx(Ng,{className:"min-w-[210px]",children:b.jsx(hC,{placeholder:"--"})}),b.jsx(Mg,{children:b.jsx(vg,{children:d.map(p=>b.jsx(Ml,{value:p,children:CR.startCase(p)},p))})})]})}),b.jsx(No,{})]})},"operator"))}if(l){const f=i[a],d=T8t(f,l);d.length===1&&c.push(b.jsx(ie.Fragment,{children:b.jsx(coe.Provider,{value:a,children:Zv(d[0],t,`${e}.value`)})},"value"))}return b.jsx(_r,{control:t.control,name:e,render:()=>b.jsxs("div",{className:"flex flex-col gap-2 bg-red",children:[b.jsx("div",{className:ve("flex flex-row gap-3"),children:c}),b.jsx(No,{})]})})},_H=({schema:e,form:t,path:n})=>{const{label:r,description:i,placeholder:o,disabled:s}=yn.parse(e._def.description);return b.jsx(_r,{control:t.control,name:n,render:({field:a})=>b.jsxs(ri,{children:[b.jsx(dr,{children:r}),b.jsx(ns,{children:i}),b.jsx(ii,{children:b.jsx(xne,{...a,value:a.value,onValueChange:a.onChange,className:"my-0",placeholder:o,disabled:s})}),b.jsx(No,{})]})})},B7e=({schema:e,form:t,path:n})=>{const{label:r,description:i,placeholder:o}=yn.parse(e._def.description);return b.jsx(_r,{control:t.control,name:n,render:({field:s})=>b.jsxs(ri,{children:[b.jsx(dr,{children:r}),b.jsx(ns,{children:i}),b.jsx(ii,{children:b.jsx(z7e,{...s,placeholder:o})}),b.jsx(No,{})]})})},r9t=({schema:e,form:t,path:n,options:r,textTransform:i})=>{const{label:o,description:s,disabled:a,special:l}=yn.parse(e._def.description);return l==="radio_group"?b.jsx(_r,{control:t.control,name:n,disabled:a,render:({field:c})=>b.jsxs(ri,{children:[b.jsx(dr,{children:o}),b.jsx(ns,{children:s}),b.jsx(ii,{children:b.jsx(Kne,{className:"flex flex-row gap-2 pt-1 items-center",value:c.value,onValueChange:c.onChange,children:r.map(u=>b.jsxs("div",{className:"flex items-center gap-1",children:[b.jsx(Jne,{value:u,id:`${n}-${u}`},u),b.jsx(dr,{className:"whitespace-pre",htmlFor:`${n}-${u}`,children:CR.startCase(u)})]},u))})}),b.jsx(No,{})]})}):b.jsx(_r,{control:t.control,name:n,disabled:a,render:({field:c})=>b.jsxs(ri,{children:[b.jsx(dr,{className:"whitespace-pre",children:o}),b.jsx(ns,{children:s}),b.jsx(ii,{children:b.jsxs(L0,{value:c.value,onValueChange:c.onChange,children:[b.jsx(Ng,{className:"min-w-[210px]",children:b.jsx(hC,{placeholder:"--"})}),b.jsx(Mg,{children:b.jsxs(vg,{children:[r.map(u=>b.jsx(Ml,{value:u,children:(i==null?void 0:i(u))??u},u)),r.length===0&&b.jsx(Ml,{disabled:!0,value:"--",children:"No options"})]})})]})}),b.jsx(No,{})]})})},W7e=({schema:e,form:t,path:n,options:r,itemLabel:i,showSwitchable:o})=>{const{label:s,description:a,placeholder:l}=yn.parse(e._def.description),c=l??(i?`Select ${i==null?void 0:i.toLowerCase()}`:void 0);return b.jsx(_r,{control:t.control,name:n,render:({field:u})=>{const f=E7(u.value);return b.jsxs(ri,{children:[b.jsx(dr,{className:"whitespace-pre",children:s}),b.jsx(ns,{children:a}),b.jsx(ii,{children:o?b.jsx(Gzt,{...u,value:f,options:r,placeholder:c}):b.jsx(nR,{className:"min-w-[210px]",placeholder:c,displayValue:d=>CR.startCase(d),multiple:!0,chips:!0,keepPopoverOpenOnSelect:!0,value:f,onValueChange:u.onChange,children:r.map(d=>b.jsx(Y_,{value:d,children:d},d))})}),b.jsx(No,{})]})}})},i9t=({schema:e,form:t,path:n})=>{const{label:r,description:i,placeholder:o}=yn.parse(e._def.description),s=O.useContext(coe),a=O.useContext(uoe),{data:l,loading:c}=N0(()=>a({column:s}),[s]),u=(l==null?void 0:l.values)||[];if(u.length===0&&!c)return b.jsx(_H,{schema:e,form:t,path:n});const f=u.map(String);return b.jsx(_r,{control:t.control,name:n,render:({field:d})=>b.jsxs(ri,{children:[b.jsx(dr,{className:"whitespace-pre",children:r}),b.jsx(ns,{children:i}),b.jsx(ii,{children:b.jsx(nR,{className:"min-w-[210px]",placeholder:o,multiple:!1,displayValue:h=>h,value:Array.isArray(d.value)?d.value[0]:d.value,onValueChange:d.onChange,children:f.map(h=>b.jsx(Y_,{value:h,children:h},h))})}),b.jsx(No,{})]})})},o9t=({schema:e,form:t,path:n})=>{const r=O.useContext(coe),i=O.useContext(uoe),{data:o,loading:s}=N0(()=>i({column:r}),[r]),a=(o==null?void 0:o.values)||[];if(a.length===0&&!s)return b.jsx(B7e,{schema:e,form:t,path:n});const l=a.map(String);return b.jsx(W7e,{schema:e,form:t,path:n,showSwitchable:!0,options:l})};function s9t(e,t){if(!e||e.length===0)return t;let n={...t};for(const r of e)n=a9t(r,n);return n}function a9t(e,t){switch(e.type){case"column_conversion":return e.column_id&&(t[e.column_id]=e.data_type),t;case"rename_column":return e.new_column_id?wn.fromEntries(wn.entries(t).map(([n,r])=>n===e.column_id?[e.new_column_id,r]:[n,r])):t;case"group_by":return wn.filter(t,(n,r)=>!e.column_ids.includes(r));case"aggregate":return wn.filter(t,(n,r)=>e.column_ids.includes(r));case"select_columns":return wn.filter(t,(n,r)=>e.column_ids.includes(r));case"filter_rows":case"shuffle_rows":case"sample_rows":case"sort_column":return t;default:return Rg(e),t}}const l9t=({initialValue:e,columns:t,onChange:n,onInvalidChange:r,getColumnValues:i})=>{var m;const o=aoe({resolver:loe(Q8t),defaultValues:e,mode:"onChange",reValidateMode:"onChange"}),{handleSubmit:s,watch:a,control:l}=o,c=Zn(w=>{n(w)}),u=Zn(w=>{r(w)});O.useEffect(()=>{const w=a(()=>{s(c,()=>{u(o.getValues())})()});return()=>w.unsubscribe()},[s,a,u,c,o]);const[f,d]=ie.useState(e.transforms.length>0?0:void 0),h=m7e({control:l,name:"transforms"}),p=o.watch("transforms"),g=f===void 0||(m=p[f])==null?void 0:m.type,y=noe._def.options.find(w=>$2(w)._def.value===g),v=O.useMemo(()=>{const w=p.slice(0,f);return s9t(w,t)},[t,p,f]),x=w=>{const S=H3(w),C=h.fields.length;h.append(S),d(C)};return b.jsx(w7.Provider,{value:v,children:b.jsx(uoe.Provider,{value:i,children:b.jsxs("form",{onSubmit:w=>w.preventDefault(),className:"flex flex-row max-h-[400px] overflow-hidden bg-background",children:[b.jsx(c9t,{items:o.watch("transforms"),selected:f,onSelect:w=>{d(w)},onDelete:w=>{h.remove(w);const S=w-1;d(Math.max(S,0))},onAdd:x}),b.jsxs("div",{className:"flex flex-col flex-1 p-4 overflow-auto min-h-[200px] border-l",children:[f!==void 0&&y&&b.jsx(Kzt,{form:o,schema:y,path:`transforms.${f}`},`transforms.${f}`),(f===void 0||!y)&&b.jsxs("div",{className:"flex flex-col items-center justify-center flex-grow gap-3",children:[b.jsx($1t,{className:"w-8 h-8  text-muted-foreground"}),b.jsx(V7e,{onAdd:x,children:b.jsx(zt,{variant:"text",size:"xs",children:b.jsx("div",{className:"text-sm",children:"Select a transform to begin"})})})]})]})]})})})},c9t=({items:e,selected:t,onAdd:n,onSelect:r,onDelete:i})=>b.jsxs("div",{className:"flex flex-col overflow-y-hidden w-[150px] shadow-xs h-full",children:[b.jsx("div",{className:"flex flex-col overflow-y-auto flex-grow",children:e.map((o,s)=>b.jsxs("div",{onClick:()=>{r(s)},className:ve("flex flex-row min-h-[40px] items-center px-2 cursor-pointer hover:bg-accent/50 text-sm overflow-hidden hover-actions-parent border border-muted border-l-2 border-l-transparent",{"border-l-primary bg-accent text-accent-foreground":t===s}),children:[b.jsx("div",{className:"flex-grow text-ellipsis",children:CR.startCase(o.type)}),b.jsx(t6,{className:"w-3 h-3 hover-action text-muted-foreground hover:text-destructive",onClick:a=>{i(s),a.stopPropagation()}})]},`${JSON.stringify(o)}-${s}`))}),b.jsx("div",{className:"flex flex-row flex-shrink-0",children:b.jsx(V7e,{onAdd:n,children:b.jsxs(zt,{variant:"text",className:"w-full rounded-none m-0 hover:text-accent-foreground",size:"xs",children:[b.jsx(lne,{className:"w-3 h-3 mr-1"}),"Add"]})})})]}),V7e=({onAdd:e,children:t})=>b.jsxs(pS,{modal:!1,children:[b.jsx(gS,{asChild:!0,children:t}),b.jsxs(Z1,{className:"w-56",children:[b.jsx(i3e,{children:"Add Transform"}),b.jsx(hre,{}),b.jsxs(bRt,{children:[Object.values(noe._def.options).map(n=>{const r=$2(n),i=u9t[r._def.value];return b.jsxs(ah,{onSelect:o=>{o.stopPropagation(),e(n)},children:[b.jsx(i,{className:"w-3.5 h-3.5 mr-2"}),b.jsx("span",{children:CR.startCase(r._def.value)})]},r._def.value)}),b.jsx(ah,{onSelect:n=>{n.stopPropagation(),window.open("https://github.com/marimo-team/marimo/issues/new?title=New%20dataframe%20transform:&labels=enhancement&template=feature_request.yaml","_blank")},children:b.jsx("span",{className:"underline text-primary text-xs cursor-pointer",children:"Request a transform"})},"_request_")]})]})]}),u9t={aggregate:K4,column_conversion:Kvt,filter_rows:s1t,group_by:p1t,rename_column:P1t,select_columns:E1t,sort_column:Fvt,shuffle_rows:z1t,sample_rows:Jvt};function f9t(e,t){const n=`${e}_next`,r=t.map(i=>`${n} = ${d9t(n,i)}`);return[`${n} = ${e}`,...r].join(`
`)}function d9t(e,t){switch(t.type){case"column_conversion":{const{column_id:n,data_type:r,errors:i}=t;return`${e}["${n}"].astype("${r}", errors="${i}")`}case"rename_column":{const{column_id:n,new_column_id:r}=t;return`${e}.rename(columns={"${n}": "${r}"})`}case"sort_column":{const{column_id:n,ascending:r,na_position:i}=t,o=F1e(`by="${n}"`,r?"":"ascending=False",i==="last"?"":`na_position="${i}"`);return`${e}.sort_values(${o})`}case"filter_rows":{const{operation:n,where:r}=t;if(r.length===0)return e;const i=r.map(s=>h9t(e,s));if(n==="keep_rows"&&i.length===1)return`${e}[${i[0]}]`;const o=i.map(s=>`(${s})`).join(" & ");return n==="keep_rows"?`${e}[${o}]`:`${e}[~(${o})]`}case"aggregate":{const{column_ids:n,aggregations:r}=t;return n.length===0?`${e}.agg(${SE(r)})`:`${e}.agg({${n.map(i=>`"${i}": ${SE(r)}`).join(", ")}})`}case"group_by":{const{column_ids:n,aggregation:r,drop_na:i}=t,o=F1e(SE(n),i?"dropna=True":"");return`${e}.groupby(${o}).${r}()`}case"select_columns":{const{column_ids:n}=t;return n.length===0?e:n.length===1?`${e}["${n[0]}"]`:`${e}[${SE(n)}]`}case"sample_rows":{const{n}=t;return`${e}.sample(n=${n})`}case"shuffle_rows":return`${e}.sample(frac=1)`;default:return Rg(t),""}}function h9t(e,t){const{column_id:n,operator:r,value:i}=t;switch(r){case"==":return`${e}["${n}"] == ${dl(i)}`;case"equals":return`${e}["${n}"].eq(${dl(i)})`;case"does_not_equal":return`${e}["${n}"].ne(${dl(i)})`;case"contains":return`${e}["${n}"].str.contains(${dl(i)})`;case"regex":return`${e}["${n}"].str.contains(${dl(i)}, regex=True)`;case"starts_with":return`${e}["${n}"].str.startswith(${dl(i)})`;case"ends_with":return`${e}["${n}"].str.endswith(${dl(i)})`;case"in":return`${e}["${n}"].isin(${SE(i)})`;case"!=":return`${e}["${n}"].ne(${dl(i)})`;case">":return`${e}["${n}"] > ${dl(i)}`;case">=":return`${e}["${n}"] >= ${dl(i)}`;case"<":return`${e}["${n}"] < ${dl(i)}`;case"<=":return`${e}["${n}"] <= ${dl(i)}`;case"is_nan":return`${e}["${n}"].isna()`;case"is_not_nan":return`${e}["${n}"].notna()`;case"is_true":return`${e}["${n}"].eq(True)`;case"is_false":return`${e}["${n}"].eq(False)`;default:return Rg(r),"df"}}function dl(e){return typeof e=="string"?`"${e}"`:`${e}`}function SE(e){return Array.isArray(e)?`[${e.map(dl).join(", ")}]`:dl(e)}function F1e(...e){return e.filter(Boolean).join(", ")}function jr(){var e=arguments[0];typeof e=="string"&&(e=document.createElement(e));var t=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?e.setAttribute(r,i):i!=null&&(e[r]=i)}t++}for(;t<arguments.length;t++)U7e(e,arguments[t]);return e}function U7e(e,t){if(typeof t=="string")e.appendChild(document.createTextNode(t));else if(t!=null)if(t.nodeType!=null)e.appendChild(t);else if(Array.isArray(t))for(var n=0;n<t.length;n++)U7e(e,t[n]);else throw new RangeError("Unsupported child node: "+t)}const z1e=typeof String.prototype.normalize=="function"?e=>e.normalize("NFKD"):e=>e;class TS{constructor(t,n,r=0,i=t.length,o,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(r,i),this.bufferStart=r,this.normalize=o?a=>o(z1e(a)):z1e,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Ss(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let t=this.peek();if(t<0)return this.done=!0,this;let n=Nre(t),r=this.bufferStart+this.bufferPos;this.bufferPos+=du(t);let i=this.normalize(n);for(let o=0,s=r;;o++){let a=i.charCodeAt(o),l=this.match(a,s);if(o==i.length-1){if(l)return this.value=l,this;break}s==r&&o<n.length&&n.charCodeAt(o)==a&&s++}}}match(t,n){let r=null;for(let i=0;i<this.matches.length;i+=2){let o=this.matches[i],s=!1;this.query.charCodeAt(o)==t&&(o==this.query.length-1?r={from:this.matches[i+1],to:n+1}:(this.matches[i]++,s=!0)),s||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==t&&(this.query.length==1?r={from:n,to:n+1}:this.matches.push(1,n)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferStart)&&(r=null),r}}typeof Symbol<"u"&&(TS.prototype[Symbol.iterator]=function(){return this});const q7e={from:-1,to:-1,match:/.*/.exec("")},poe="gm"+(/x/.unicode==null?"":"u");class goe{constructor(t,n,r,i=0,o=t.length){if(this.text=t,this.to=o,this.curLine="",this.done=!1,this.value=q7e,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new Y7e(t,n,r,i,o);this.re=new RegExp(n,poe+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=t.iter();let s=t.lineAt(i);this.curLineStart=s.from,this.matchPos=Z3(t,i),this.getLine(this.curLineStart)}getLine(t){this.iter.next(t),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let t=this.matchPos-this.curLineStart;;){this.re.lastIndex=t;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=Z3(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;t=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),t=0;else return this.done=!0,this}}}const oW=new WeakMap;class kw{constructor(t,n){this.from=t,this.text=n}get to(){return this.from+this.text.length}static get(t,n,r){let i=oW.get(t);if(!i||i.from>=r||i.to<=n){let a=new kw(n,t.sliceString(n,r));return oW.set(t,a),a}if(i.from==n&&i.to==r)return i;let{text:o,from:s}=i;return s>n&&(o=t.sliceString(n,s)+o,s=n),i.to<r&&(o+=t.sliceString(i.to,r)),oW.set(t,new kw(s,o)),new kw(n,o.slice(n-s,r-s))}}class Y7e{constructor(t,n,r,i,o){this.text=t,this.to=o,this.done=!1,this.value=q7e,this.matchPos=Z3(t,i),this.re=new RegExp(n,poe+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=kw.get(t,i,this.chunkEnd(i+5e3))}chunkEnd(t){return t>=this.to?this.to:this.text.lineAt(t).to}next(){for(;;){let t=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==t&&(this.re.lastIndex=t+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=Z3(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=kw.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(goe.prototype[Symbol.iterator]=Y7e.prototype[Symbol.iterator]=function(){return this});function p9t(e){try{return new RegExp(e,poe),!0}catch{return!1}}function Z3(e,t){if(t>=e.length)return t;let n=e.lineAt(t),r;for(;t<n.to&&(r=n.text.charCodeAt(t-n.from))>=56320&&r<57344;)t++;return t}function CH(e){let t=String(e.state.doc.lineAt(e.state.selection.main.head).number),n=jr("input",{class:"cm-textfield",name:"line",value:t}),r=jr("form",{class:"cm-gotoLine",onkeydown:o=>{o.keyCode==27?(o.preventDefault(),e.dispatch({effects:G3.of(!1)}),e.focus()):o.keyCode==13&&(o.preventDefault(),i())},onsubmit:o=>{o.preventDefault(),i()}},jr("label",e.state.phrase("Go to line"),": ",n)," ",jr("button",{class:"cm-button",type:"submit"},e.state.phrase("go")));function i(){let o=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!o)return;let{state:s}=e,a=s.doc.lineAt(s.selection.main.head),[,l,c,u,f]=o,d=u?+u.slice(1):0,h=c?+c:a.number;if(c&&f){let y=h/100;l&&(y=y*(l=="-"?-1:1)+a.number/s.doc.lines),h=Math.round(s.doc.lines*y)}else c&&l&&(h=h*(l=="-"?-1:1)+a.number);let p=s.doc.line(Math.max(1,Math.min(s.doc.lines,h))),g=Ee.cursor(p.from+Math.max(0,Math.min(d,p.length)));e.dispatch({effects:[G3.of(!1),nt.scrollIntoView(g.from,{y:"center"})],selection:g}),e.focus()}return{dom:r}}const G3=Vt.define(),Q1e=qi.define({create(){return!0},update(e,t){for(let n of t.effects)n.is(G3)&&(e=n.value);return e},provide:e=>Gy.from(e,t=>t?CH:null)}),g9t=e=>{let t=p2(e,CH);if(!t){let n=[G3.of(!0)];e.state.field(Q1e,!1)==null&&n.push(Vt.appendConfig.of([Q1e,m9t])),e.dispatch({effects:n}),t=p2(e,CH)}return t&&t.dom.querySelector("input").select(),!0},m9t=nt.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),y9t={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},X7e=mt.define({combine(e){return Bh(e,y9t,{highlightWordAroundCursor:(t,n)=>t||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function H7e(e){let t=[w9t,x9t];return e&&t.push(X7e.of(e)),t}const v9t=vt.mark({class:"cm-selectionMatch"}),b9t=vt.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function B1e(e,t,n,r){return(n==0||e(t.sliceDoc(n-1,n))!=mi.Word)&&(r==t.doc.length||e(t.sliceDoc(r,r+1))!=mi.Word)}function O9t(e,t,n,r){return e(t.sliceDoc(n,n+1))==mi.Word&&e(t.sliceDoc(r-1,r))==mi.Word}const x9t=Mr.fromClass(class{constructor(e){this.decorations=this.getDeco(e)}update(e){(e.selectionSet||e.docChanged||e.viewportChanged)&&(this.decorations=this.getDeco(e.view))}getDeco(e){let t=e.state.facet(X7e),{state:n}=e,r=n.selection;if(r.ranges.length>1)return vt.none;let i=r.main,o,s=null;if(i.empty){if(!t.highlightWordAroundCursor)return vt.none;let l=n.wordAt(i.head);if(!l)return vt.none;s=n.charCategorizer(i.head),o=n.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<t.minSelectionLength||l>200)return vt.none;if(t.wholeWords){if(o=n.sliceDoc(i.from,i.to),s=n.charCategorizer(i.head),!(B1e(s,n,i.from,i.to)&&O9t(s,n,i.from,i.to)))return vt.none}else if(o=n.sliceDoc(i.from,i.to).trim(),!o)return vt.none}let a=[];for(let l of e.visibleRanges){let c=new TS(n.doc,o,l.from,l.to);for(;!c.next().done;){let{from:u,to:f}=c.value;if((!s||B1e(s,n,u,f))&&(i.empty&&u<=i.from&&f>=i.to?a.push(b9t.range(u,f)):(u>=i.to||f<=i.from)&&a.push(v9t.range(u,f)),a.length>t.maxMatches))return vt.none}}return vt.set(a)}},{decorations:e=>e.decorations}),w9t=nt.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),S9t=({state:e,dispatch:t})=>{let{selection:n}=e,r=Ee.create(n.ranges.map(i=>e.wordAt(i.head)||Ee.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(t(e.update({selection:r})),!0)};function _9t(e,t){let{main:n,ranges:r}=e.selection,i=e.wordAt(n.head),o=i&&i.from==n.from&&i.to==n.to;for(let s=!1,a=new TS(e.doc,t,r[r.length-1].to);;)if(a.next(),a.done){if(s)return null;a=new TS(e.doc,t,0,Math.max(0,r[r.length-1].from-1)),s=!0}else{if(s&&r.some(l=>l.from==a.value.from))continue;if(o){let l=e.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const Z7e=({state:e,dispatch:t})=>{let{ranges:n}=e.selection;if(n.some(o=>o.from===o.to))return S9t({state:e,dispatch:t});let r=e.sliceDoc(n[0].from,n[0].to);if(e.selection.ranges.some(o=>e.sliceDoc(o.from,o.to)!=r))return!1;let i=_9t(e,r);return i?(t(e.update({selection:e.selection.addRange(Ee.range(i.from,i.to),!1),effects:nt.scrollIntoView(i.to)})),!0):!1},pC=mt.define({combine(e){return Bh(e,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:t=>new I9t(t),scrollToMatch:t=>nt.scrollIntoView(t)})}});class j0{constructor(t){this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.literal=!!t.literal,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||p9t(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!t.wholeWord}unquote(t){return this.literal?t:t.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(t){return this.search==t.search&&this.replace==t.replace&&this.caseSensitive==t.caseSensitive&&this.regexp==t.regexp&&this.wholeWord==t.wholeWord}create(){return this.regexp?new k9t(this):new $9t(this)}getCursor(t,n=0,r){let i=t.doc?t:gn.create({doc:t});return r==null&&(r=i.doc.length),this.regexp?_x(this,i,n,r):Sx(this,i,n,r)}}class G7e{constructor(t){this.spec=t}}function Sx(e,t,n,r){return new TS(t.doc,e.unquoted,n,r,e.caseSensitive?void 0:i=>i.toLowerCase(),e.wholeWord?C9t(t.doc,t.charCategorizer(t.selection.main.head)):void 0)}function C9t(e,t){return(n,r,i,o)=>((o>n||o+i.length<r)&&(o=Math.max(0,n-2),i=e.sliceString(o,Math.min(e.length,r+2))),(t(K3(i,n-o))!=mi.Word||t(J3(i,n-o))!=mi.Word)&&(t(J3(i,r-o))!=mi.Word||t(K3(i,r-o))!=mi.Word))}class $9t extends G7e{constructor(t){super(t)}nextMatch(t,n,r){let i=Sx(this.spec,t,r,t.doc.length).nextOverlapping();return i.done&&(i=Sx(this.spec,t,0,n).nextOverlapping()),i.done?null:i.value}prevMatchInRange(t,n,r){for(let i=r;;){let o=Math.max(n,i-1e4-this.spec.unquoted.length),s=Sx(this.spec,t,o,i),a=null;for(;!s.nextOverlapping().done;)a=s.value;if(a)return a;if(o==n)return null;i-=1e4}}prevMatch(t,n,r){return this.prevMatchInRange(t,0,n)||this.prevMatchInRange(t,r,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace)}matchAll(t,n){let r=Sx(this.spec,t,0,t.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(t,n,r,i){let o=Sx(this.spec,t,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,t.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}function _x(e,t,n,r){return new goe(t.doc,e.search,{ignoreCase:!e.caseSensitive,test:e.wholeWord?E9t(t.charCategorizer(t.selection.main.head)):void 0},n,r)}function K3(e,t){return e.slice(Ps(e,t,!1),t)}function J3(e,t){return e.slice(t,Ps(e,t))}function E9t(e){return(t,n,r)=>!r[0].length||(e(K3(r.input,r.index))!=mi.Word||e(J3(r.input,r.index))!=mi.Word)&&(e(J3(r.input,r.index+r[0].length))!=mi.Word||e(K3(r.input,r.index+r[0].length))!=mi.Word)}class k9t extends G7e{nextMatch(t,n,r){let i=_x(this.spec,t,r,t.doc.length).next();return i.done&&(i=_x(this.spec,t,0,n).next()),i.done?null:i.value}prevMatchInRange(t,n,r){for(let i=1;;i++){let o=Math.max(n,r-i*1e4),s=_x(this.spec,t,o,r),a=null;for(;!s.next().done;)a=s.value;if(a&&(o==n||a.from>o+10))return a;if(o==n)return null}}prevMatch(t,n,r){return this.prevMatchInRange(t,0,n)||this.prevMatchInRange(t,r,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(n,r)=>r=="$"?"$":r=="&"?t.match[0]:r!="0"&&+r<t.match.length?t.match[r]:n)}matchAll(t,n){let r=_x(this.spec,t,0,t.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(t,n,r,i){let o=_x(this.spec,t,Math.max(0,n-250),Math.min(r+250,t.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}const n0=Vt.define(),moe=Vt.define(),by=qi.define({create(e){return new sW($H(e).create(),null)},update(e,t){for(let n of t.effects)n.is(n0)?e=new sW(n.value.create(),e.panel):n.is(moe)&&(e=new sW(e.query,n.value?yoe:null));return e},provide:e=>Gy.from(e,t=>t.panel)});class sW{constructor(t,n){this.query=t,this.panel=n}}const T9t=vt.mark({class:"cm-searchMatch"}),P9t=vt.mark({class:"cm-searchMatch cm-searchMatch-selected"}),R9t=Mr.fromClass(class{constructor(e){this.view=e,this.decorations=this.highlight(e.state.field(by))}update(e){let t=e.state.field(by);(t!=e.startState.field(by)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}highlight({query:e,panel:t}){if(!t||!e.spec.valid)return vt.none;let{view:n}=this,r=new Sh;for(let i=0,o=n.visibleRanges,s=o.length;i<s;i++){let{from:a,to:l}=o[i];for(;i<s-1&&l>o[i+1].from-2*250;)l=o[++i].to;e.highlight(n.state,a,l,(c,u)=>{let f=n.state.selection.ranges.some(d=>d.from==c&&d.to==u);r.add(c,u,f?P9t:T9t)})}return r.finish()}},{decorations:e=>e.decorations});function $R(e){return t=>{let n=t.state.field(by,!1);return n&&n.query.spec.valid?e(t,n):e8e(t)}}const eL=$R((e,{query:t})=>{let{to:n}=e.state.selection.main,r=t.nextMatch(e.state,n,n);if(!r)return!1;let i=Ee.single(r.from,r.to),o=e.state.facet(pC);return e.dispatch({selection:i,effects:[voe(e,r),o.scrollToMatch(i.main,e)],userEvent:"select.search"}),J7e(e),!0}),tL=$R((e,{query:t})=>{let{state:n}=e,{from:r}=n.selection.main,i=t.prevMatch(n,r,r);if(!i)return!1;let o=Ee.single(i.from,i.to),s=e.state.facet(pC);return e.dispatch({selection:o,effects:[voe(e,i),s.scrollToMatch(o.main,e)],userEvent:"select.search"}),J7e(e),!0}),A9t=$R((e,{query:t})=>{let n=t.matchAll(e.state,1e3);return!n||!n.length?!1:(e.dispatch({selection:Ee.create(n.map(r=>Ee.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),D9t=({state:e,dispatch:t})=>{let n=e.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,o=[],s=0;for(let a=new TS(e.doc,e.sliceDoc(r,i));!a.next().done;){if(o.length>1e3)return!1;a.value.from==r&&(s=o.length),o.push(Ee.range(a.value.from,a.value.to))}return t(e.update({selection:Ee.create(o,s),userEvent:"select.search.matches"})),!0},W1e=$R((e,{query:t})=>{let{state:n}=e,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let o=t.nextMatch(n,r,r);if(!o)return!1;let s=[],a,l,c=[];if(o.from==r&&o.to==i&&(l=n.toText(t.getReplacement(o)),s.push({from:o.from,to:o.to,insert:l}),o=t.nextMatch(n,o.from,o.to),c.push(nt.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+"."))),o){let u=s.length==0||s[0].from>=o.to?0:o.to-o.from-l.length;a=Ee.single(o.from-u,o.to-u),c.push(voe(e,o)),c.push(n.facet(pC).scrollToMatch(a.main,e))}return e.dispatch({changes:s,selection:a,effects:c,userEvent:"input.replace"}),!0}),N9t=$R((e,{query:t})=>{if(e.state.readOnly)return!1;let n=t.matchAll(e.state,1e9).map(i=>{let{from:o,to:s}=i;return{from:o,to:s,insert:t.getReplacement(i)}});if(!n.length)return!1;let r=e.state.phrase("replaced $ matches",n.length)+".";return e.dispatch({changes:n,effects:nt.announce.of(r),userEvent:"input.replace.all"}),!0});function yoe(e){return e.state.facet(pC).createPanel(e)}function $H(e,t){var n,r,i,o,s;let a=e.selection.main,l=a.empty||a.to>a.from+100?"":e.sliceDoc(a.from,a.to);if(t&&!l)return t;let c=e.facet(pC);return new j0({search:((n=t==null?void 0:t.literal)!==null&&n!==void 0?n:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(r=t==null?void 0:t.caseSensitive)!==null&&r!==void 0?r:c.caseSensitive,literal:(i=t==null?void 0:t.literal)!==null&&i!==void 0?i:c.literal,regexp:(o=t==null?void 0:t.regexp)!==null&&o!==void 0?o:c.regexp,wholeWord:(s=t==null?void 0:t.wholeWord)!==null&&s!==void 0?s:c.wholeWord})}function K7e(e){let t=p2(e,yoe);return t&&t.dom.querySelector("[main-field]")}function J7e(e){let t=K7e(e);t&&t==e.root.activeElement&&t.select()}const e8e=e=>{let t=e.state.field(by,!1);if(t&&t.panel){let n=K7e(e);if(n&&n!=e.root.activeElement){let r=$H(e.state,t.query.spec);r.valid&&e.dispatch({effects:n0.of(r)}),n.focus(),n.select()}}else e.dispatch({effects:[moe.of(!0),t?n0.of($H(e.state,t.query.spec)):Vt.appendConfig.of(j9t)]});return!0},t8e=e=>{let t=e.state.field(by,!1);if(!t||!t.panel)return!1;let n=p2(e,yoe);return n&&n.dom.contains(e.root.activeElement)&&e.focus(),e.dispatch({effects:moe.of(!1)}),!0},M9t=[{key:"Mod-f",run:e8e,scope:"editor search-panel"},{key:"F3",run:eL,shift:tL,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:eL,shift:tL,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:t8e,scope:"editor search-panel"},{key:"Mod-Shift-l",run:D9t},{key:"Mod-Alt-g",run:g9t},{key:"Mod-d",run:Z7e,preventDefault:!0}];class I9t{constructor(t){this.view=t;let n=this.query=t.state.field(by).query.spec;this.commit=this.commit.bind(this),this.searchField=jr("input",{value:n.search,placeholder:ic(t,"Find"),"aria-label":ic(t,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=jr("input",{value:n.replace,placeholder:ic(t,"Replace"),"aria-label":ic(t,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=jr("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=jr("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=jr("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,o,s){return jr("button",{class:"cm-button",name:i,onclick:o,type:"button"},s)}this.dom=jr("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>eL(t),[ic(t,"next")]),r("prev",()=>tL(t),[ic(t,"previous")]),r("select",()=>A9t(t),[ic(t,"all")]),jr("label",null,[this.caseField,ic(t,"match case")]),jr("label",null,[this.reField,ic(t,"regexp")]),jr("label",null,[this.wordField,ic(t,"by word")]),...t.state.readOnly?[]:[jr("br"),this.replaceField,r("replace",()=>W1e(t),[ic(t,"replace")]),r("replaceAll",()=>N9t(t),[ic(t,"replace all")])],jr("button",{name:"close",onclick:()=>t8e(t),"aria-label":ic(t,"close"),type:"button"},[""])])}commit(){let t=new j0({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});t.eq(this.query)||(this.query=t,this.view.dispatch({effects:n0.of(t)}))}keydown(t){_It(this.view,t,"search-panel")?t.preventDefault():t.keyCode==13&&t.target==this.searchField?(t.preventDefault(),(t.shiftKey?tL:eL)(this.view)):t.keyCode==13&&t.target==this.replaceField&&(t.preventDefault(),W1e(this.view))}update(t){for(let n of t.transactions)for(let r of n.effects)r.is(n0)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(t){this.query=t,this.searchField.value=t.search,this.replaceField.value=t.replace,this.caseField.checked=t.caseSensitive,this.reField.checked=t.regexp,this.wordField.checked=t.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(pC).top}}function ic(e,t){return e.state.phrase(t)}const nN=30,rN=/[\s\.,:;?!]/;function voe(e,{from:t,to:n}){let r=e.state.doc.lineAt(t),i=e.state.doc.lineAt(n).to,o=Math.max(r.from,t-nN),s=Math.min(i,n+nN),a=e.state.sliceDoc(o,s);if(o!=r.from){for(let l=0;l<nN;l++)if(!rN.test(a[l+1])&&rN.test(a[l])){a=a.slice(l);break}}if(s!=i){for(let l=a.length-1;l>a.length-nN;l--)if(!rN.test(a[l-1])&&rN.test(a[l])){a=a.slice(0,l);break}}return nt.announce.of(`${e.state.phrase("current match")}. ${a} ${e.state.phrase("on line")} ${r.number}.`)}const L9t=nt.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),j9t=[by,Kl.low(R9t),L9t];class boe{constructor(t,n,r){this.state=t,this.pos=n,this.explicit=r,this.abortListeners=[]}tokenBefore(t){let n=br(this.state).resolveInner(this.pos,-1);for(;n&&t.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(t){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),o=i.search(r8e(t,!1));return o<0?null:{from:r+o,to:this.pos,text:i.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(t,n){t=="abort"&&this.abortListeners&&this.abortListeners.push(n)}}function V1e(e){let t=Object.keys(e).join(""),n=/\w/.test(t);return n&&(t=t.replace(/\w/g,"")),`[${n?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function F9t(e){let t=Object.create(null),n=Object.create(null);for(let{label:i}of e){t[i[0]]=!0;for(let o=1;o<i.length;o++)n[i[o]]=!0}let r=V1e(t)+V1e(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function Ooe(e){let t=e.map(i=>typeof i=="string"?{label:i}:i),[n,r]=t.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:F9t(t);return i=>{let o=i.matchBefore(r);return o||i.explicit?{from:o?o.from:i.pos,options:t,validFor:n}:null}}function n8e(e,t){return n=>{for(let r=br(n.state).resolveInner(n.pos,-1);r;r=r.parent){if(e.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return t(n)}}class U1e{constructor(t,n,r,i){this.completion=t,this.source=n,this.match=r,this.score=i}}function Oy(e){return e.selection.main.from}function r8e(e,t){var n;let{source:r}=e,i=t&&r[0]!="^",o=r[r.length-1]!="$";return!i&&!o?e:new RegExp(`${i?"^":""}(?:${r})${o?"$":""}`,(n=e.flags)!==null&&n!==void 0?n:e.ignoreCase?"i":"")}const i8e=Qh.define();function z9t(e,t,n,r){let{main:i}=e.selection,o=n-i.from,s=r-i.from;return Object.assign(Object.assign({},e.changeByRange(a=>a!=i&&n!=r&&e.sliceDoc(a.from+o,a.from+s)!=e.sliceDoc(n,r)?{range:a}:{changes:{from:a.from+o,to:r==i.from?a.to:a.from+s,insert:t},range:Ee.cursor(a.from+o+t.length)})),{scrollIntoView:!0,userEvent:"input.complete"})}const q1e=new WeakMap;function Q9t(e){if(!Array.isArray(e))return e;let t=q1e.get(e);return t||q1e.set(e,t=Ooe(e)),t}const nL=Vt.define(),E2=Vt.define();class B9t{constructor(t){this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<t.length;){let r=Ss(t,n),i=du(r);this.chars.push(r);let o=t.slice(n,n+i),s=o.toUpperCase();this.folded.push(Ss(s==o?o.toLowerCase():s,0)),n+=i}this.astral=t.length!=this.chars.length}ret(t,n){return this.score=t,this.matched=n,!0}match(t){if(this.pattern.length==0)return this.ret(-100,[]);if(t.length<this.pattern.length)return!1;let{chars:n,folded:r,any:i,precise:o,byWord:s}=this;if(n.length==1){let x=Ss(t,0),m=du(x),w=m==t.length?0:-100;if(x!=n[0])if(x==r[0])w+=-200;else return!1;return this.ret(w,[0,m])}let a=t.indexOf(this.pattern);if(a==0)return this.ret(t.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=n.length,c=0;if(a<0){for(let x=0,m=Math.min(t.length,200);x<m&&c<l;){let w=Ss(t,x);(w==n[c]||w==r[c])&&(i[c++]=x),x+=du(w)}if(c<l)return!1}let u=0,f=0,d=!1,h=0,p=-1,g=-1,y=/[a-z]/.test(t),v=!0;for(let x=0,m=Math.min(t.length,200),w=0;x<m&&f<l;){let S=Ss(t,x);a<0&&(u<l&&S==n[u]&&(o[u++]=x),h<l&&(S==n[h]||S==r[h]?(h==0&&(p=x),g=x+1,h++):h=0));let C,$=S<255?S>=48&&S<=57||S>=97&&S<=122?2:S>=65&&S<=90?1:0:(C=Nre(S))!=C.toLowerCase()?1:C!=C.toUpperCase()?2:0;(!x||$==1&&y||w==0&&$!=0)&&(n[f]==S||r[f]==S&&(d=!0)?s[f++]=x:s.length&&(v=!1)),w=$,x+=du(S)}return f==l&&s[0]==0&&v?this.result(-100+(d?-200:0),s,t):h==l&&p==0?this.ret(-200-t.length+(g==t.length?0:-100),[0,g]):a>-1?this.ret(-700-t.length,[a,a+this.pattern.length]):h==l?this.ret(-900-t.length,[p,g]):f==l?this.result(-100+(d?-200:0)+-700+(v?0:-1100),s,t):n.length==2?!1:this.result((i[0]?-700:0)+-200+-1100,i,t)}result(t,n,r){let i=[],o=0;for(let s of n){let a=s+(this.astral?du(Ss(r,s)):1);o&&i[o-1]==s?i[o-1]=a:(i[o++]=s,i[o++]=a)}return this.ret(t-r.length,i)}}const ks=mt.define({combine(e){return Bh(e,{activateOnTyping:!0,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:W9t,compareCompletions:(t,n)=>t.label.localeCompare(n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(t,n)=>t&&n,closeOnBlur:(t,n)=>t&&n,icons:(t,n)=>t&&n,tooltipClass:(t,n)=>r=>Y1e(t(r),n(r)),optionClass:(t,n)=>r=>Y1e(t(r),n(r)),addToOptions:(t,n)=>t.concat(n)})}});function Y1e(e,t){return e?t?e+" "+t:e:t}function W9t(e,t,n,r,i,o){let s=e.textDirection==qr.RTL,a=s,l=!1,c="top",u,f,d=t.left-i.left,h=i.right-t.right,p=r.right-r.left,g=r.bottom-r.top;if(a&&d<Math.min(p,h)?a=!1:!a&&h<Math.min(p,d)&&(a=!0),p<=(a?d:h))u=Math.max(i.top,Math.min(n.top,i.bottom-g))-t.top,f=Math.min(400,a?d:h);else{l=!0,f=Math.min(400,(s?t.right:i.right-t.left)-30);let x=i.bottom-t.bottom;x>=g||x>t.top?u=n.bottom-t.top:(c="bottom",u=t.bottom-n.top)}let y=(t.bottom-t.top)/o.offsetHeight,v=(t.right-t.left)/o.offsetWidth;return{style:`${c}: ${u/y}px; max-width: ${f/v}px`,class:"cm-completionInfo-"+(l?s?"left-narrow":"right-narrow":a?"left":"right")}}function V9t(e){let t=e.addToOptions.slice();return e.icons&&t.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),t.push({render(n,r,i,o){let s=document.createElement("span");s.className="cm-completionLabel";let a=n.displayLabel||n.label,l=0;for(let c=0;c<o.length;){let u=o[c++],f=o[c++];u>l&&s.appendChild(document.createTextNode(a.slice(l,u)));let d=s.appendChild(document.createElement("span"));d.appendChild(document.createTextNode(a.slice(u,f))),d.className="cm-completionMatchedText",l=f}return l<a.length&&s.appendChild(document.createTextNode(a.slice(l))),s},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),t.sort((n,r)=>n.position-r.position).map(n=>n.render)}function aW(e,t,n){if(e<=n)return{from:0,to:e};if(t<0&&(t=0),t<=e>>1){let i=Math.floor(t/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((e-t)/n);return{from:e-(r+1)*n,to:e-r*n}}class U9t{constructor(t,n,r){this.view=t,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=t.state.field(n),{options:o,selected:s}=i.open,a=t.state.facet(ks);this.optionContent=V9t(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=aW(o.length,s,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(t.state),this.dom.addEventListener("mousedown",l=>{let{options:c}=t.state.field(n).open;for(let u=l.target,f;u&&u!=this.dom;u=u.parentNode)if(u.nodeName=="LI"&&(f=/-(\d+)$/.exec(u.id))&&+f[1]<c.length){this.applyCompletion(t,c[+f[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let c=t.state.field(this.stateField,!1);c&&c.tooltip&&t.state.facet(ks).closeOnBlur&&l.relatedTarget!=t.contentDOM&&t.dispatch({effects:E2.of(null)})}),this.showOptions(o,i.id)}mount(){this.updateSel()}showOptions(t,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(t){var n;let r=t.state.field(this.stateField),i=t.startState.field(this.stateField);if(this.updateTooltipClass(t.state),r!=i){let{options:o,selected:s,disabled:a}=r.open;(!i.open||i.open.options!=o)&&(this.range=aW(o.length,s,t.state.facet(ks).maxRenderedOptions),this.showOptions(o,r.id)),this.updateSel(),a!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(t){let n=this.tooltipClass(t);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(t){this.space=t,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let t=this.view.state.field(this.stateField),n=t.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=aW(n.options.length,n.selected,this.view.state.facet(ks).maxRenderedOptions),this.showOptions(n.options,t.id)),this.updateSelectedOption(n.selected)){this.destroyInfo();let{completion:r}=n.options[n.selected],{info:i}=r;if(!i)return;let o=typeof i=="string"?document.createTextNode(i):i(r);if(!o)return;"then"in o?o.then(s=>{s&&this.view.state.field(this.stateField,!1)==t&&this.addInfoPane(s,r)}).catch(s=>ku(this.view.state,s,"completion info")):this.addInfoPane(o,r)}}addInfoPane(t,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",t.nodeType!=null)r.appendChild(t),this.infoDestroy=null;else{let{dom:i,destroy:o}=t;r.appendChild(i),this.infoDestroy=o||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(t){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==t?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return n&&Y9t(this.list,n),n}measureInfo(){let t=this.dom.querySelector("[aria-selected]");if(!t||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=t.getBoundingClientRect(),o=this.space;if(!o){let s=this.dom.ownerDocument.defaultView||window;o={left:0,top:0,right:s.innerWidth,bottom:s.innerHeight}}return i.top>Math.min(o.bottom,n.bottom)-10||i.bottom<Math.max(o.top,n.top)+10?null:this.view.state.facet(ks).positionInfo(this.view,n,i,r,o,this.dom)}placeInfo(t){this.info&&(t?(t.style&&(this.info.style.cssText=t.style),this.info.className="cm-tooltip cm-completionInfo "+(t.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(t,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));let o=null;for(let s=r.from;s<r.to;s++){let{completion:a,match:l}=t[s],{section:c}=a;if(c){let d=typeof c=="string"?c:c.name;if(d!=o&&(s>r.from||r.from==0))if(o=d,typeof c!="string"&&c.header)i.appendChild(c.header(c));else{let h=i.appendChild(document.createElement("completion-section"));h.textContent=d}}const u=i.appendChild(document.createElement("li"));u.id=n+"-"+s,u.setAttribute("role","option");let f=this.optionClass(a);f&&(u.className=f);for(let d of this.optionContent){let h=d(a,this.view.state,this.view,l);h&&u.appendChild(h)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<t.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function q9t(e,t){return n=>new U9t(n,e,t)}function Y9t(e,t){let n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=n.height/e.offsetHeight;r.top<n.top?e.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(e.scrollTop+=(r.bottom-n.bottom)/i)}function X1e(e){return(e.boost||0)*100+(e.apply?10:0)+(e.info?5:0)+(e.type?1:0)}function X9t(e,t){let n=[],r=null,i=l=>{n.push(l);let{section:c}=l.completion;if(c){r||(r=[]);let u=typeof c=="string"?c:c.name;r.some(f=>f.name==u)||r.push(typeof c=="string"?{name:u}:c)}};for(let l of e)if(l.hasResult()){let c=l.result.getMatch;if(l.result.filter===!1)for(let u of l.result.options)i(new U1e(u,l.source,c?c(u):[],1e9-n.length));else{let u=new B9t(t.sliceDoc(l.from,l.to));for(let f of l.result.options)if(u.match(f.label)){let d=f.displayLabel?c?c(f,u.matched):[]:u.matched;i(new U1e(f,l.source,d,u.score+(f.boost||0)))}}}if(r){let l=Object.create(null),c=0,u=(f,d)=>{var h,p;return((h=f.rank)!==null&&h!==void 0?h:1e9)-((p=d.rank)!==null&&p!==void 0?p:1e9)||(f.name<d.name?-1:1)};for(let f of r.sort(u))c-=1e5,l[f.name]=c;for(let f of n){let{section:d}=f.completion;d&&(f.score+=l[typeof d=="string"?d:d.name])}}let o=[],s=null,a=t.facet(ks).compareCompletions;for(let l of n.sort((c,u)=>u.score-c.score||a(c.completion,u.completion))){let c=l.completion;!s||s.label!=c.label||s.detail!=c.detail||s.type!=null&&c.type!=null&&s.type!=c.type||s.apply!=c.apply||s.boost!=c.boost?o.push(l):X1e(l.completion)>X1e(s)&&(o[o.length-1]=l),s=l.completion}return o}class Yx{constructor(t,n,r,i,o,s){this.options=t,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=o,this.disabled=s}setSelected(t,n){return t==this.selected||t>=this.options.length?this:new Yx(this.options,H1e(n,t),this.tooltip,this.timestamp,t,this.disabled)}static build(t,n,r,i,o){let s=X9t(t,n);if(!s.length)return i&&t.some(l=>l.state==1)?new Yx(i.options,i.attrs,i.tooltip,i.timestamp,i.selected,!0):null;let a=n.facet(ks).selectOnOpen?0:-1;if(i&&i.selected!=a&&i.selected!=-1){let l=i.options[i.selected].completion;for(let c=0;c<s.length;c++)if(s[c].completion==l){a=c;break}}return new Yx(s,H1e(r,a),{pos:t.reduce((l,c)=>c.hasResult()?Math.min(l,c.from):l,1e8),create:J9t,above:o.aboveCursor},i?i.timestamp:Date.now(),a,!1)}map(t){return new Yx(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class rL{constructor(t,n,r){this.active=t,this.id=n,this.open=r}static start(){return new rL(G9t,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(t){let{state:n}=t,r=n.facet(ks),o=(r.override||n.languageDataAt("autocomplete",Oy(n)).map(Q9t)).map(a=>(this.active.find(c=>c.source==a)||new ml(a,this.active.some(c=>c.state!=0)?1:0)).update(t,r));o.length==this.active.length&&o.every((a,l)=>a==this.active[l])&&(o=this.active);let s=this.open;s&&t.docChanged&&(s=s.map(t.changes)),t.selection||o.some(a=>a.hasResult()&&t.changes.touchesRange(a.from,a.to))||!H9t(o,this.active)?s=Yx.build(o,n,this.id,s,r):s&&s.disabled&&!o.some(a=>a.state==1)&&(s=null),!s&&o.every(a=>a.state!=1)&&o.some(a=>a.hasResult())&&(o=o.map(a=>a.hasResult()?new ml(a.source,0):a));for(let a of t.effects)a.is(s8e)&&(s=s&&s.setSelected(a.value,this.id));return o==this.active&&s==this.open?this:new rL(o,this.id,s)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:Z9t}}function H9t(e,t){if(e==t)return!0;for(let n=0,r=0;;){for(;n<e.length&&!e[n].hasResult;)n++;for(;r<t.length&&!t[r].hasResult;)r++;let i=n==e.length,o=r==t.length;if(i||o)return i==o;if(e[n++].result!=t[r++].result)return!1}}const Z9t={"aria-autocomplete":"list"};function H1e(e,t){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":e};return t>-1&&(n["aria-activedescendant"]=e+"-"+t),n}const G9t=[];function EH(e){return e.isUserEvent("input.type")?"input":e.isUserEvent("delete.backward")?"delete":null}class ml{constructor(t,n,r=-1){this.source=t,this.state=n,this.explicitPos=r}hasResult(){return!1}update(t,n){let r=EH(t),i=this;r?i=i.handleUserEvent(t,r,n):t.docChanged?i=i.handleChange(t):t.selection&&i.state!=0&&(i=new ml(i.source,0));for(let o of t.effects)if(o.is(nL))i=new ml(i.source,1,o.value?Oy(t.state):-1);else if(o.is(E2))i=new ml(i.source,0);else if(o.is(o8e))for(let s of o.value)s.source==i.source&&(i=s);return i}handleUserEvent(t,n,r){return n=="delete"||!r.activateOnTyping?this.map(t.changes):new ml(this.source,1)}handleChange(t){return t.changes.touchesRange(Oy(t.startState))?new ml(this.source,0):this.map(t.changes)}map(t){return t.empty||this.explicitPos<0?this:new ml(this.source,this.state,t.mapPos(this.explicitPos))}}class Tw extends ml{constructor(t,n,r,i,o){super(t,2,n),this.result=r,this.from=i,this.to=o}hasResult(){return!0}handleUserEvent(t,n,r){var i;let o=t.changes.mapPos(this.from),s=t.changes.mapPos(this.to,1),a=Oy(t.state);if((this.explicitPos<0?a<=o:a<this.from)||a>s||n=="delete"&&Oy(t.startState)==this.from)return new ml(this.source,n=="input"&&r.activateOnTyping?1:0);let l=this.explicitPos<0?-1:t.changes.mapPos(this.explicitPos),c;return K9t(this.result.validFor,t.state,o,s)?new Tw(this.source,l,this.result,o,s):this.result.update&&(c=this.result.update(this.result,o,s,new boe(t.state,a,l>=0)))?new Tw(this.source,l,c,c.from,(i=c.to)!==null&&i!==void 0?i:Oy(t.state)):new ml(this.source,1,l)}handleChange(t){return t.changes.touchesRange(this.from,this.to)?new ml(this.source,0):this.map(t.changes)}map(t){return t.empty?this:new Tw(this.source,this.explicitPos<0?-1:t.mapPos(this.explicitPos),this.result,t.mapPos(this.from),t.mapPos(this.to,1))}}function K9t(e,t,n,r){if(!e)return!1;let i=t.sliceDoc(n,r);return typeof e=="function"?e(i,n,r,t):r8e(e,!0).test(i)}const o8e=Vt.define({map(e,t){return e.map(n=>n.map(t))}}),s8e=Vt.define(),yl=qi.define({create(){return rL.start()},update(e,t){return e.update(t)},provide:e=>[Yre.from(e,t=>t.tooltip),nt.contentAttributes.from(e,t=>t.attrs)]});function a8e(e,t){const n=t.completion.apply||t.completion.label;let r=e.state.field(yl).active.find(i=>i.source==t.source);return r instanceof Tw?(typeof n=="string"?e.dispatch(Object.assign(Object.assign({},z9t(e.state,n,r.from,r.to)),{annotations:i8e.of(t.completion)})):n(e,t.completion,r.from,r.to),!0):!1}const J9t=q9t(yl,a8e);function iN(e,t="option"){return n=>{let r=n.state.field(yl,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(ks).interactionDelay)return!1;let i=1,o;t=="page"&&(o=pje(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:s}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(e?1:-1):e?0:s-1;return a<0?a=t=="page"?0:s-1:a>=s&&(a=t=="page"?s-1:0),n.dispatch({effects:s8e.of(a)}),!0}}const l8e=e=>{let t=e.state.field(yl,!1);return e.state.readOnly||!t||!t.open||t.open.selected<0||t.open.disabled||Date.now()-t.open.timestamp<e.state.facet(ks).interactionDelay?!1:a8e(e,t.open.options[t.open.selected])},eQt=e=>e.state.field(yl,!1)?(e.dispatch({effects:nL.of(!0)}),!0):!1,iL=e=>{let t=e.state.field(yl,!1);return!t||!t.active.some(n=>n.state!=0)?!1:(e.dispatch({effects:E2.of(null)}),!0)};class tQt{constructor(t,n){this.active=t,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const nQt=50,rQt=1e3,iQt=Mr.fromClass(class{constructor(e){this.view=e,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let t of e.state.field(yl).active)t.state==1&&this.startQuery(t)}update(e){let t=e.state.field(yl);if(!e.selectionSet&&!e.docChanged&&e.startState.field(yl)==t)return;let n=e.transactions.some(i=>(i.selection||i.docChanged)&&!EH(i));for(let i=0;i<this.running.length;i++){let o=this.running[i];if(n||o.updates.length+e.transactions.length>nQt&&Date.now()-o.time>rQt){for(let s of o.context.abortListeners)try{s()}catch(a){ku(this.view.state,a)}o.context.abortListeners=null,this.running.splice(i--,1)}else o.updates.push(...e.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),e.transactions.some(i=>i.effects.some(o=>o.is(nL)))&&(this.pendingStart=!0);let r=this.pendingStart?50:e.state.facet(ks).activateOnTypingDelay;if(this.debounceUpdate=t.active.some(i=>i.state==1&&!this.running.some(o=>o.active.source==i.source))?setTimeout(()=>this.startUpdate(),r):-1,this.composing!=0)for(let i of e.transactions)EH(i)=="input"?this.composing=2:this.composing==2&&i.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:e}=this.view,t=e.field(yl);for(let n of t.active)n.state==1&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n)}startQuery(e){let{state:t}=this.view,n=Oy(t),r=new boe(t,n,e.explicitPos==n),i=new tQt(e,r);this.running.push(i),Promise.resolve(e.source(r)).then(o=>{i.context.aborted||(i.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:E2.of(null)}),ku(this.view.state,o)})}scheduleAccept(){this.running.every(e=>e.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(ks).updateSyncTime))}accept(){var e;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],n=this.view.state.facet(ks);for(let r=0;r<this.running.length;r++){let i=this.running[r];if(i.done===void 0)continue;if(this.running.splice(r--,1),i.done){let s=new Tw(i.active.source,i.active.explicitPos,i.done,i.done.from,(e=i.done.to)!==null&&e!==void 0?e:Oy(i.updates.length?i.updates[0].startState:this.view.state));for(let a of i.updates)s=s.update(a,n);if(s.hasResult()){t.push(s);continue}}let o=this.view.state.field(yl).active.find(s=>s.source==i.active.source);if(o&&o.state==1)if(i.done==null){let s=new ml(i.active.source,0);for(let a of i.updates)s=s.update(a,n);s.state!=1&&t.push(s)}else this.startQuery(o)}t.length&&this.view.dispatch({effects:o8e.of(t)})}},{eventHandlers:{blur(e){let t=this.view.state.field(yl,!1);if(t&&t.tooltip&&this.view.state.facet(ks).closeOnBlur){let n=t.open&&pje(this.view,t.open.tooltip);(!n||!n.dom.contains(e.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:E2.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:nL.of(!1)}),20),this.composing=0}}}),c8e=nt.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class oQt{constructor(t,n,r,i){this.field=t,this.line=n,this.from=r,this.to=i}}class xoe{constructor(t,n,r){this.field=t,this.from=n,this.to=r}map(t){let n=t.mapPos(this.from,-1,Lo.TrackDel),r=t.mapPos(this.to,1,Lo.TrackDel);return n==null||r==null?null:new xoe(this.field,n,r)}}class woe{constructor(t,n){this.lines=t,this.fieldPositions=n}instantiate(t,n){let r=[],i=[n],o=t.doc.lineAt(n),s=/^\s*/.exec(o.text)[0];for(let l of this.lines){if(r.length){let c=s,u=/^\t*/.exec(l)[0].length;for(let f=0;f<u;f++)c+=t.facet(mg);i.push(n+c.length-u),l=c+l.slice(u)}r.push(l),n+=l.length+1}let a=this.fieldPositions.map(l=>new xoe(l.field,i[l.line]+l.from,i[l.line]+l.to));return{text:r,ranges:a}}static parse(t){let n=[],r=[],i=[],o;for(let s of t.split(/\r\n?|\n/)){for(;o=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(s);){let a=o[1]?+o[1]:null,l=o[2]||o[3]||"",c=-1;for(let u=0;u<n.length;u++)(a!=null?n[u].seq==a:l&&n[u].name==l)&&(c=u);if(c<0){let u=0;for(;u<n.length&&(a==null||n[u].seq!=null&&n[u].seq<a);)u++;n.splice(u,0,{seq:a,name:l}),c=u;for(let f of i)f.field>=c&&f.field++}i.push(new oQt(c,r.length,o.index,o.index+l.length)),s=s.slice(0,o.index)+l+s.slice(o.index+o[0].length)}for(let a;a=/\\([{}])/.exec(s);){s=s.slice(0,a.index)+a[1]+s.slice(a.index+a[0].length);for(let l of i)l.line==r.length&&l.from>a.index&&(l.from--,l.to--)}r.push(s)}return new woe(r,i)}}let sQt=vt.widget({widget:new class extends ud{toDOM(){let e=document.createElement("span");return e.className="cm-snippetFieldPosition",e}ignoreEvent(){return!1}}}),aQt=vt.mark({class:"cm-snippetField"});class gC{constructor(t,n){this.ranges=t,this.active=n,this.deco=vt.set(t.map(r=>(r.from==r.to?sQt:aQt).range(r.from,r.to)))}map(t){let n=[];for(let r of this.ranges){let i=r.map(t);if(!i)return null;n.push(i)}return new gC(n,this.active)}selectionInsideField(t){return t.ranges.every(n=>this.ranges.some(r=>r.field==this.active&&r.from<=n.from&&r.to>=n.to))}}const ER=Vt.define({map(e,t){return e&&e.map(t)}}),lQt=Vt.define(),k2=qi.define({create(){return null},update(e,t){for(let n of t.effects){if(n.is(ER))return n.value;if(n.is(lQt)&&e)return new gC(e.ranges,n.value)}return e&&t.docChanged&&(e=e.map(t.changes)),e&&t.selection&&!e.selectionInsideField(t.selection)&&(e=null),e},provide:e=>nt.decorations.from(e,t=>t?t.deco:vt.none)});function Soe(e,t){return Ee.create(e.filter(n=>n.field==t).map(n=>Ee.range(n.from,n.to)))}function cQt(e){let t=woe.parse(e);return(n,r,i,o)=>{let{text:s,ranges:a}=t.instantiate(n.state,i),l={changes:{from:i,to:o,insert:Xn.of(s)},scrollIntoView:!0,annotations:r?[i8e.of(r),yo.userEvent.of("input.complete")]:void 0};if(a.length&&(l.selection=Soe(a,0)),a.some(c=>c.field>0)){let c=new gC(a,0),u=l.effects=[ER.of(c)];n.state.field(k2,!1)===void 0&&u.push(Vt.appendConfig.of([k2,pQt,gQt,c8e]))}n.dispatch(n.state.update(l))}}function u8e(e){return({state:t,dispatch:n})=>{let r=t.field(k2,!1);if(!r||e<0&&r.active==0)return!1;let i=r.active+e,o=e>0&&!r.ranges.some(s=>s.field==i+e);return n(t.update({selection:Soe(r.ranges,i),effects:ER.of(o?null:new gC(r.ranges,i)),scrollIntoView:!0})),!0}}const uQt=({state:e,dispatch:t})=>e.field(k2,!1)?(t(e.update({effects:ER.of(null)})),!0):!1,fQt=u8e(1),dQt=u8e(-1),hQt=[{key:"Tab",run:fQt,shift:dQt},{key:"Escape",run:uQt}],Z1e=mt.define({combine(e){return e.length?e[0]:hQt}}),pQt=Kl.highest($i.compute([Z1e],e=>e.facet(Z1e)));function Si(e,t){return Object.assign(Object.assign({},t),{apply:cQt(e)})}const gQt=nt.domEventHandlers({mousedown(e,t){let n=t.state.field(k2,!1),r;if(!n||(r=t.posAtCoords({x:e.clientX,y:e.clientY}))==null)return!1;let i=n.ranges.find(o=>o.from<=r&&o.to>=r);return!i||i.field==n.active?!1:(t.dispatch({selection:Soe(n.ranges,i.field),effects:ER.of(n.ranges.some(o=>o.field>i.field)?new gC(n.ranges,i.field):null),scrollIntoView:!0}),!0)}}),T2={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Gv=Vt.define({map(e,t){let n=t.mapPos(e,-1,Lo.TrackAfter);return n??void 0}}),_oe=new class extends K1{};_oe.startSide=1;_oe.endSide=-1;const f8e=qi.define({create(){return Wn.empty},update(e,t){if(e=e.map(t.changes),t.selection){let n=t.state.doc.lineAt(t.selection.main.head);e=e.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of t.effects)n.is(Gv)&&(e=e.update({add:[_oe.range(n.value,n.value+1)]}));return e}});function d8e(){return[yQt,f8e]}const lW="()[]{}<>";function h8e(e){for(let t=0;t<lW.length;t+=2)if(lW.charCodeAt(t)==e)return lW.charAt(t+1);return Nre(e<128?e:e+1)}function p8e(e,t){return e.languageDataAt("closeBrackets",t)[0]||T2}const mQt=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),yQt=nt.inputHandler.of((e,t,n,r)=>{if((mQt?e.composing:e.compositionStarted)||e.state.readOnly)return!1;let i=e.state.selection.main;if(r.length>2||r.length==2&&du(Ss(r,0))==1||t!=i.from||n!=i.to)return!1;let o=bQt(e.state,r);return o?(e.dispatch(o),!0):!1}),vQt=({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=p8e(e,e.selection.main.head).brackets||T2.brackets,i=null,o=e.changeByRange(s=>{if(s.empty){let a=OQt(e.doc,s.head);for(let l of r)if(l==a&&k7(e.doc,s.head)==h8e(Ss(l,0)))return{changes:{from:s.head-l.length,to:s.head+l.length},range:Ee.cursor(s.head-l.length)}}return{range:i=s}});return i||t(e.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},g8e=[{key:"Backspace",run:vQt}];function bQt(e,t){let n=p8e(e,e.selection.main.head),r=n.brackets||T2.brackets;for(let i of r){let o=h8e(Ss(i,0));if(t==i)return o==i?SQt(e,i,r.indexOf(i+i+i)>-1,n):xQt(e,i,o,n.before||T2.before);if(t==o&&m8e(e,e.selection.main.from))return wQt(e,i,o)}return null}function m8e(e,t){let n=!1;return e.field(f8e).between(0,e.doc.length,r=>{r==t&&(n=!0)}),n}function k7(e,t){let n=e.sliceString(t,t+2);return n.slice(0,du(Ss(n,0)))}function OQt(e,t){let n=e.sliceString(t-2,t);return du(Ss(n,0))==n.length?n:n.slice(1)}function xQt(e,t,n,r){let i=null,o=e.changeByRange(s=>{if(!s.empty)return{changes:[{insert:t,from:s.from},{insert:n,from:s.to}],effects:Gv.of(s.to+t.length),range:Ee.range(s.anchor+t.length,s.head+t.length)};let a=k7(e.doc,s.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:t+n,from:s.head},effects:Gv.of(s.head+t.length),range:Ee.cursor(s.head+t.length)}:{range:i=s}});return i?null:e.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function wQt(e,t,n){let r=null,i=e.changeByRange(o=>o.empty&&k7(e.doc,o.head)==n?{changes:{from:o.head,to:o.head+n.length,insert:n},range:Ee.cursor(o.head+n.length)}:r={range:o});return r?null:e.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function SQt(e,t,n,r){let i=r.stringPrefixes||T2.stringPrefixes,o=null,s=e.changeByRange(a=>{if(!a.empty)return{changes:[{insert:t,from:a.from},{insert:t,from:a.to}],effects:Gv.of(a.to+t.length),range:Ee.range(a.anchor+t.length,a.head+t.length)};let l=a.head,c=k7(e.doc,l),u;if(c==t){if(G1e(e,l))return{changes:{insert:t+t,from:l},effects:Gv.of(l+t.length),range:Ee.cursor(l+t.length)};if(m8e(e,l)){let d=n&&e.sliceDoc(l,l+t.length*3)==t+t+t?t+t+t:t;return{changes:{from:l,to:l+d.length,insert:d},range:Ee.cursor(l+d.length)}}}else{if(n&&e.sliceDoc(l-2*t.length,l)==t+t&&(u=K1e(e,l-2*t.length,i))>-1&&G1e(e,u))return{changes:{insert:t+t+t+t,from:l},effects:Gv.of(l+t.length),range:Ee.cursor(l+t.length)};if(e.charCategorizer(l)(c)!=mi.Word&&K1e(e,l,i)>-1&&!_Qt(e,l,t,i))return{changes:{insert:t+t,from:l},effects:Gv.of(l+t.length),range:Ee.cursor(l+t.length)}}return{range:o=a}});return o?null:e.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function G1e(e,t){let n=br(e).resolveInner(t+1);return n.parent&&n.from==t}function _Qt(e,t,n,r){let i=br(e).resolveInner(t,-1),o=r.reduce((s,a)=>Math.max(s,a.length),0);for(let s=0;s<5;s++){let a=e.sliceDoc(i.from,Math.min(i.to,i.from+n.length+o)),l=a.indexOf(n);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){let u=i.firstChild;for(;u&&u.from==i.from&&u.to-u.from>n.length+l;){if(e.sliceDoc(u.to-n.length,u.to)==n)return!1;u=u.firstChild}return!0}let c=i.to==t&&i.parent;if(!c)break;i=c}return!1}function K1e(e,t,n){let r=e.charCategorizer(t);if(r(e.sliceDoc(t-1,t))!=mi.Word)return t;for(let i of n){let o=t-i.length;if(e.sliceDoc(o,t)==i&&r(e.sliceDoc(o-1,o))!=mi.Word)return o}return-1}function T7(e={}){return[yl,ks.of(e),iQt,CQt,c8e]}const Coe=[{key:"Ctrl-Space",run:eQt},{key:"Escape",run:iL},{key:"ArrowDown",run:iN(!0)},{key:"ArrowUp",run:iN(!1)},{key:"PageDown",run:iN(!0,"page")},{key:"PageUp",run:iN(!1,"page")},{key:"Enter",run:l8e}],CQt=Kl.highest($i.computeN([ks],e=>e.facet(ks).defaultKeymap?[Coe]:[]));function kH(e){let t=e.field(yl,!1);return t&&t.active.some(n=>n.state==1)?"pending":t&&t.active.some(n=>n.state!=0)?"active":null}class $Qt{constructor(t,n,r){this.from=t,this.to=n,this.diagnostic=r}}class Lv{constructor(t,n,r){this.diagnostics=t,this.panel=n,this.selected=r}static init(t,n,r){let i=t,o=r.facet(O8e).markerFilter;o&&(i=o(i,r));let s=vt.set(i.map(a=>a.from==a.to||a.from==a.to-1&&r.doc.lineAt(a.from).to==a.from?vt.widget({widget:new NQt(a),diagnostic:a}).range(a.from):vt.mark({attributes:{class:"cm-lintRange cm-lintRange-"+a.severity+(a.markClass?" "+a.markClass:"")},diagnostic:a,inclusive:!0}).range(a.from,a.to)),!0);return new Lv(s,n,PS(s))}}function PS(e,t=null,n=0){let r=null;return e.between(n,1e9,(i,o,{spec:s})=>{if(!(t&&s.diagnostic!=t))return r=new $Qt(i,o,s.diagnostic),!1}),r}function EQt(e,t){let n=e.startState.doc.lineAt(t.pos);return!!(e.effects.some(r=>r.is($oe))||e.changes.touchesRange(n.from,n.to))}function y8e(e,t){return e.field(kc,!1)?t:t.concat(Vt.appendConfig.of(LQt))}function kQt(e,t){return{effects:y8e(e,[$oe.of(t)])}}const $oe=Vt.define(),Eoe=Vt.define(),v8e=Vt.define(),kc=qi.define({create(){return new Lv(vt.none,null,null)},update(e,t){if(t.docChanged){let n=e.diagnostics.map(t.changes),r=null;if(e.selected){let i=t.changes.mapPos(e.selected.from,1);r=PS(n,e.selected.diagnostic,i)||PS(n,null,i)}e=new Lv(n,e.panel,r)}for(let n of t.effects)n.is($oe)?e=Lv.init(n.value,e.panel,t.state):n.is(Eoe)?e=new Lv(e.diagnostics,n.value?P7.open:null,e.selected):n.is(v8e)&&(e=new Lv(e.diagnostics,e.panel,n.value));return e},provide:e=>[Gy.from(e,t=>t.panel),nt.decorations.from(e,t=>t.diagnostics)]}),TQt=vt.mark({class:"cm-lintRange cm-lintRange-active",inclusive:!0});function PQt(e,t,n){let{diagnostics:r}=e.state.field(kc),i=[],o=2e8,s=0;r.between(t-(n<0?1:0),t+(n>0?1:0),(l,c,{spec:u})=>{t>=l&&t<=c&&(l==c||(t>l||n>0)&&(t<c||n<0))&&(i.push(u.diagnostic),o=Math.min(l,o),s=Math.max(c,s))});let a=e.state.facet(O8e).tooltipFilter;return a&&(i=a(i,e.state)),i.length?{pos:o,end:s,above:e.state.doc.lineAt(o).to<s,create(){return{dom:RQt(e,i)}}}:null}function RQt(e,t){return jr("ul",{class:"cm-tooltip-lint"},t.map(n=>w8e(e,n,!1)))}const AQt=e=>{let t=e.state.field(kc,!1);(!t||!t.panel)&&e.dispatch({effects:y8e(e.state,[Eoe.of(!0)])});let n=p2(e,P7.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},J1e=e=>{let t=e.state.field(kc,!1);return!t||!t.panel?!1:(e.dispatch({effects:Eoe.of(!1)}),!0)},DQt=e=>{let t=e.state.field(kc,!1);if(!t)return!1;let n=e.state.selection.main,r=t.diagnostics.iter(n.to+1);return!r.value&&(r=t.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)?!1:(e.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},b8e=[{key:"Mod-Shift-m",run:AQt,preventDefault:!0},{key:"F8",run:DQt}],O8e=mt.define({combine(e){return Object.assign({sources:e.map(t=>t.source).filter(t=>t!=null)},Bh(e.map(t=>t.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(t,n)=>t?n?r=>t(r)||n(r):t:n}))}});function x8e(e){let t=[];if(e)e:for(let{name:n}of e){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!t.some(o=>o.toLowerCase()==i.toLowerCase())){t.push(i);continue e}}t.push("")}return t}function w8e(e,t,n){var r;let i=n?x8e(t.actions):[];return jr("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},jr("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage():t.message),(r=t.actions)===null||r===void 0?void 0:r.map((o,s)=>{let a=!1,l=d=>{if(d.preventDefault(),a)return;a=!0;let h=PS(e.state.field(kc).diagnostics,t);h&&o.apply(e,h.from,h.to)},{name:c}=o,u=i[s]?c.indexOf(i[s]):-1,f=u<0?c:[c.slice(0,u),jr("u",c.slice(u,u+1)),c.slice(u+1)];return jr("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${c}${u<0?"":` (access key "${i[s]})"`}.`},f)}),t.source&&jr("div",{class:"cm-diagnosticSource"},t.source))}class NQt extends ud{constructor(t){super(),this.diagnostic=t}eq(t){return t.diagnostic==this.diagnostic}toDOM(){return jr("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class ebe{constructor(t,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=w8e(t,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class P7{constructor(t){this.view=t,this.items=[];let n=i=>{if(i.keyCode==27)J1e(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],s=x8e(o.actions);for(let a=0;a<s.length;a++)if(s[a].toUpperCase().charCodeAt(0)==i.keyCode){let l=PS(this.view.state.field(kc).diagnostics,o);l&&o.actions[a].apply(t,l.from,l.to)}}else return;i.preventDefault()},r=i=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(i.target)&&this.moveSelection(o)};this.list=jr("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=jr("div",{class:"cm-panel-lint"},this.list,jr("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>J1e(this.view)},"")),this.update()}get selectedIndex(){let t=this.view.state.field(kc).selected;if(!t)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==t.diagnostic)return n;return-1}update(){let{diagnostics:t,selected:n}=this.view.state.field(kc),r=0,i=!1,o=null;for(t.between(0,this.view.state.doc.length,(s,a,{spec:l})=>{let c=-1,u;for(let f=r;f<this.items.length;f++)if(this.items[f].diagnostic==l.diagnostic){c=f;break}c<0?(u=new ebe(this.view,l.diagnostic),this.items.splice(r,0,u),i=!0):(u=this.items[c],c>r&&(this.items.splice(r,c-r),i=!0)),n&&u.diagnostic==n.diagnostic?u.dom.hasAttribute("aria-selected")||(u.dom.setAttribute("aria-selected","true"),o=u):u.dom.hasAttribute("aria-selected")&&u.dom.removeAttribute("aria-selected"),r++});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new ebe(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:s,panel:a})=>{let l=a.height/this.list.offsetHeight;s.top<a.top?this.list.scrollTop-=(a.top-s.top)/l:s.bottom>a.bottom&&(this.list.scrollTop+=(s.bottom-a.bottom)/l)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let t=this.list.firstChild;function n(){let r=t;t=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;t!=r.dom;)n();t=r.dom.nextSibling}else this.list.insertBefore(r.dom,t);for(;t;)n()}moveSelection(t){if(this.selectedIndex<0)return;let n=this.view.state.field(kc),r=PS(n.diagnostics,this.items[t].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:v8e.of(r)})}static open(t){return new P7(t)}}function MQt(e,t='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${t}>${encodeURIComponent(e)}</svg>')`}function oN(e){return MQt(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${e}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const IQt=nt.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:oN("#d11")},".cm-lintRange-warning":{backgroundImage:oN("orange")},".cm-lintRange-info":{backgroundImage:oN("#999")},".cm-lintRange-hint":{backgroundImage:oN("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),LQt=[kc,nt.decorations.compute([kc],e=>{let{selected:t,panel:n}=e.field(kc);return!t||!n||t.from==t.to?vt.none:vt.set([TQt.range(t.from,t.to)])}),Xre(PQt,{hideOn:EQt}),IQt];var tbe=function(t){t===void 0&&(t={});var{crosshairCursor:n=!1}=t,r=[];t.closeBracketsKeymap!==!1&&(r=r.concat(g8e)),t.defaultKeymap!==!1&&(r=r.concat(E3)),t.searchKeymap!==!1&&(r=r.concat(M9t)),t.historyKeymap!==!1&&(r=r.concat(lie)),t.foldKeymap!==!1&&(r=r.concat(Ije)),t.completionKeymap!==!1&&(r=r.concat(Coe)),t.lintKeymap!==!1&&(r=r.concat(b8e));var i=[];return t.lineNumbers!==!1&&i.push(vje()),t.highlightActiveLineGutter!==!1&&i.push(bje()),t.highlightSpecialChars!==!1&&i.push(Ure()),t.history!==!1&&i.push(X6()),t.foldGutter!==!1&&i.push(Fje()),t.drawSelection!==!1&&i.push(Vre()),t.dropCursor!==!1&&i.push(cje()),t.allowMultipleSelections!==!1&&i.push(gn.allowMultipleSelections.of(!0)),t.indentOnInput!==!1&&i.push(Eje()),t.syntaxHighlighting!==!1&&i.push(U6(Jre,{fallback:!0})),t.bracketMatching!==!1&&i.push(Vje()),t.closeBrackets!==!1&&i.push(d8e()),t.autocompletion!==!1&&i.push(T7()),t.rectangularSelection!==!1&&i.push(dje()),n!==!1&&i.push(JIt()),t.highlightActiveLine!==!1&&i.push(uje()),t.highlightSelectionMatches!==!1&&i.push(H7e()),t.tabSize&&typeof t.tabSize=="number"&&i.push(mg.of(" ".repeat(t.tabSize))),i.concat([$i.of(r.flat())]).filter(Boolean)},jQt=function(t){t===void 0&&(t={});var n=[];t.defaultKeymap!==!1&&(n=n.concat(E3)),t.historyKeymap!==!1&&(n=n.concat(lie));var r=[];return t.highlightSpecialChars!==!1&&r.push(Ure()),t.history!==!1&&r.push(X6()),t.drawSelection!==!1&&r.push(Vre()),t.syntaxHighlighting!==!1&&r.push(U6(Jre,{fallback:!0})),r.concat([$i.of(n.flat())]).filter(Boolean)};const FQt="#e5c07b",nbe="#e06c75",zQt="#56b6c2",QQt="#ffffff",lI="#abb2bf",TH="#7d8799",BQt="#61afef",WQt="#98c379",rbe="#d19a66",VQt="#c678dd",UQt="#21252b",ibe="#2c313a",obe="#282c34",cW="#353a42",qQt="#3E4451",sbe="#528bff",YQt=nt.theme({"&":{color:lI,backgroundColor:obe},".cm-content":{caretColor:sbe},".cm-cursor, .cm-dropCursor":{borderLeftColor:sbe},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:qQt},".cm-panels":{backgroundColor:UQt,color:lI},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:obe,color:TH,border:"none"},".cm-activeLineGutter":{backgroundColor:ibe},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:cW},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:cW,borderBottomColor:cW},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:ibe,color:lI}}},{dark:!0}),XQt=hR.define([{tag:G.keyword,color:VQt},{tag:[G.name,G.deleted,G.character,G.propertyName,G.macroName],color:nbe},{tag:[G.function(G.variableName),G.labelName],color:BQt},{tag:[G.color,G.constant(G.name),G.standard(G.name)],color:rbe},{tag:[G.definition(G.name),G.separator],color:lI},{tag:[G.typeName,G.className,G.number,G.changed,G.annotation,G.modifier,G.self,G.namespace],color:FQt},{tag:[G.operator,G.operatorKeyword,G.url,G.escape,G.regexp,G.link,G.special(G.string)],color:zQt},{tag:[G.meta,G.comment],color:TH},{tag:G.strong,fontWeight:"bold"},{tag:G.emphasis,fontStyle:"italic"},{tag:G.strikethrough,textDecoration:"line-through"},{tag:G.link,color:TH,textDecoration:"underline"},{tag:G.heading,fontWeight:"bold",color:nbe},{tag:[G.atom,G.bool,G.special(G.variableName)],color:rbe},{tag:[G.processingInstruction,G.string,G.inserted],color:WQt},{tag:G.invalid,color:QQt}]),S8e=[YQt,U6(XQt)];var HQt=nt.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),ZQt=function(t){t===void 0&&(t={});var{indentWithTab:n=!0,editable:r=!0,readOnly:i=!1,theme:o="light",placeholder:s="",basicSetup:a=!0}=t,l=[];switch(n&&l.unshift($i.of([MFe])),a&&(typeof a=="boolean"?l.unshift(tbe()):l.unshift(tbe(a))),s&&l.unshift(fje(s)),o){case"light":l.push(HQt);break;case"dark":l.push(S8e);break;case"none":break;default:l.push(o);break}return r===!1&&l.push(nt.editable.of(!1)),i&&l.push(gn.readOnly.of(!0)),[...l]},GQt=e=>({line:e.state.doc.lineAt(e.state.selection.main.from),lineCount:e.state.doc.lines,lineBreak:e.state.lineBreak,length:e.state.doc.length,readOnly:e.state.readOnly,tabSize:e.state.tabSize,selection:e.state.selection,selectionAsSingle:e.state.selection.asSingle().main,ranges:e.state.selection.ranges,selectionCode:e.state.sliceDoc(e.state.selection.main.from,e.state.selection.main.to),selections:e.state.selection.ranges.map(t=>e.state.sliceDoc(t.from,t.to)),selectedText:e.state.selection.ranges.some(t=>!t.empty)}),abe=Qh.define(),KQt=[];function JQt(e){var{value:t,selection:n,onChange:r,onStatistics:i,onCreateEditor:o,onUpdate:s,extensions:a=KQt,autoFocus:l,theme:c="light",height:u=null,minHeight:f=null,maxHeight:d=null,width:h=null,minWidth:p=null,maxWidth:g=null,placeholder:y="",editable:v=!0,readOnly:x=!1,indentWithTab:m=!0,basicSetup:w=!0,root:S,initialState:C}=e,[$,E]=O.useState(),[R,N]=O.useState(),[I,j]=O.useState(),A=nt.theme({"&":{height:u,minHeight:f,maxHeight:d,width:h,minWidth:p,maxWidth:g},"& .cm-scroller":{height:"100% !important"}}),T=nt.updateListener.of(W=>{if(W.docChanged&&typeof r=="function"&&!W.transactions.some(B=>B.annotation(abe))){var V=W.state.doc,Q=V.toString();r(Q,W)}i&&i(GQt(W))}),D=ZQt({theme:c,editable:v,readOnly:x,placeholder:y,indentWithTab:m,basicSetup:w}),L=[T,A,...D];return s&&typeof s=="function"&&L.push(nt.updateListener.of(s)),L=L.concat(a),O.useEffect(()=>{if($&&!I){var W={doc:t,selection:n,extensions:L},V=C?gn.fromJSON(C.json,W,C.fields):gn.create(W);if(j(V),!R){var Q=new nt({state:V,parent:$,root:S});N(Q),o&&o(Q,V)}}return()=>{R&&(j(void 0),N(void 0))}},[$,I]),O.useEffect(()=>E(e.container),[e.container]),O.useEffect(()=>()=>{R&&(R.destroy(),N(void 0))},[R]),O.useEffect(()=>{l&&R&&R.focus()},[l,R]),O.useEffect(()=>{R&&R.dispatch({effects:Vt.reconfigure.of(L)})},[c,a,u,f,d,h,p,g,y,v,x,m,w,r,s]),O.useEffect(()=>{if(t!==void 0){var W=R?R.state.doc.toString():"";R&&t!==W&&R.dispatch({changes:{from:0,to:W.length,insert:t||""},annotations:[abe.of(!0)]})}},[t,R]),{state:I,setState:j,view:R,setView:N,container:$,setContainer:E}}var eBt=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],_8e=O.forwardRef((e,t)=>{var{className:n,value:r="",selection:i,extensions:o=[],onChange:s,onStatistics:a,onCreateEditor:l,onUpdate:c,autoFocus:u,theme:f="light",height:d,minHeight:h,maxHeight:p,width:g,minWidth:y,maxWidth:v,basicSetup:x,placeholder:m,indentWithTab:w,editable:S,readOnly:C,root:$,initialState:E}=e,R=ka(e,eBt),N=O.useRef(null),{state:I,view:j,container:A}=JQt({container:N.current,root:$,value:r,autoFocus:u,theme:f,height:d,minHeight:h,maxHeight:p,width:g,minWidth:y,maxWidth:v,basicSetup:x,placeholder:m,indentWithTab:w,editable:S,readOnly:C,selection:i,onChange:s,onStatistics:a,onCreateEditor:l,onUpdate:c,extensions:o,initialState:E});if(O.useImperativeHandle(t,()=>({editor:N.current,state:I,view:j}),[N,A,I,j]),typeof r!="string")throw new Error("value must be typeof string but got "+typeof r);var T=typeof f=="string"?"cm-theme-"+f:"cm-theme";return b.jsx("div",le({ref:N,className:""+T+(n?" "+n:"")},R))});_8e.displayName="CodeMirror";const C8e=_8e;var lbe={};let tBt=class PH{constructor(t,n,r,i,o,s,a,l,c,u=0,f){this.p=t,this.stack=n,this.state=r,this.reducePos=i,this.pos=o,this.score=s,this.buffer=a,this.bufferBase=l,this.curContext=c,this.lookAhead=u,this.parent=f}toString(){return`[${this.stack.filter((t,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(t,n,r=0){let i=t.parser.context;return new PH(t,[],n,r,r,0,[],0,i?new cbe(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(t,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=t}reduce(t){var n;let r=t>>19,i=t&65535,{parser:o}=this.p,s=o.dynamicPrecedence(i);if(s&&(this.score+=s),r==0){this.pushState(o.getGoto(this.state,i,!0),this.reducePos),i<o.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,4,!0),this.reduceContext(i,this.reducePos);return}let a=this.stack.length-(r-1)*3-(t&262144?6:0),l=a?this.stack[a-2]:this.p.ranges[0].from,c=this.reducePos-l;c>=2e3&&!(!((n=this.p.parser.nodeSet.types[i])===null||n===void 0)&&n.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=c):this.p.lastBigReductionSize<c&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=c));let u=a?this.stack[a-1]:0,f=this.bufferBase+this.buffer.length-u;if(i<o.minRepeatTerm||t&131072){let d=o.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,l,d,f+4,!0)}if(t&262144)this.state=this.stack[a];else{let d=this.stack[a-3];this.state=o.getGoto(d,i,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(i,l)}storeNode(t,n,r,i=4,o=!1){if(t==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let s=this,a=this.buffer.length;if(a==0&&s.parent&&(a=s.bufferBase-s.parent.bufferBase,s=s.parent),a>0&&s.buffer[a-4]==0&&s.buffer[a-1]>-1){if(n==r)return;if(s.buffer[a-2]>=n){s.buffer[a-2]=r;return}}}if(!o||this.pos==r)this.buffer.push(t,n,r,i);else{let s=this.buffer.length;if(s>0&&this.buffer[s-4]!=0)for(;s>0&&this.buffer[s-2]>r;)this.buffer[s]=this.buffer[s-4],this.buffer[s+1]=this.buffer[s-3],this.buffer[s+2]=this.buffer[s-2],this.buffer[s+3]=this.buffer[s-1],s-=4,i>4&&(i-=4);this.buffer[s]=t,this.buffer[s+1]=n,this.buffer[s+2]=r,this.buffer[s+3]=i}}shift(t,n,r,i){if(t&131072)this.pushState(t&65535,this.pos);else if(t&262144)this.pos=i,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,i,4);else{let o=t,{parser:s}=this.p;(i>this.pos||n<=s.maxNode)&&(this.pos=i,s.stateFlag(o,1)||(this.reducePos=i)),this.pushState(o,r),this.shiftContext(n,r),n<=s.maxNode&&this.buffer.push(n,r,i,4)}}apply(t,n,r,i){t&65536?this.reduce(t):this.shift(t,n,r,i)}useNode(t,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=t)&&(this.p.reused.push(t),r++);let i=this.pos;this.reducePos=this.pos=i+t.length,this.pushState(n,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,t,this,this.p.stream.reset(this.pos-t.length)))}split(){let t=this,n=t.buffer.length;for(;n>0&&t.buffer[n-2]>t.reducePos;)n-=4;let r=t.buffer.slice(n),i=t.bufferBase+n;for(;t&&i==t.bufferBase;)t=t.parent;return new PH(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,t)}recoverByDelete(t,n){let r=t<=this.p.parser.maxNode;r&&this.storeNode(t,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(t){for(let n=new nBt(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,t);if(r==0)return!1;if(!(r&65536))return!0;n.reduce(r)}}recoverByInsert(t){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let i=[];for(let o=0,s;o<n.length;o+=2)(s=n[o+1])!=this.state&&this.p.parser.hasAction(s,t)&&i.push(n[o],s);if(this.stack.length<120)for(let o=0;i.length<8&&o<n.length;o+=2){let s=n[o+1];i.some((a,l)=>l&1&&a==s)||i.push(n[o],s)}n=i}let r=[];for(let i=0;i<n.length&&r.length<4;i+=2){let o=n[i+1];if(o==this.state)continue;let s=this.split();s.pushState(o,this.pos),s.storeNode(0,s.pos,s.pos,4,!0),s.shiftContext(n[i],this.pos),s.reducePos=this.pos,s.score-=200,r.push(s)}return r}forceReduce(){let{parser:t}=this.p,n=t.stateSlot(this.state,5);if(!(n&65536))return!1;if(!t.validAction(this.state,n)){let r=n>>19,i=n&65535,o=this.stack.length-r*3;if(o<0||t.getGoto(this.stack[o],i,!1)<0){let s=this.findForcedReduction();if(s==null)return!1;n=s}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:t}=this.p,n=[],r=(i,o)=>{if(!n.includes(i))return n.push(i),t.allActions(i,s=>{if(!(s&393216))if(s&65536){let a=(s>>19)-o;if(a>1){let l=s&65535,c=this.stack.length-a*3;if(c>=0&&t.getGoto(this.stack[c],l,!1)>=0)return a<<19|65536|l}}else{let a=r(s,o+1);if(a!=null)return a}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:t}=this.p;return t.data[t.stateSlot(this.state,1)]==65535&&!t.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(t){if(this.state!=t.state||this.stack.length!=t.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=t.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(t){return this.p.parser.dialect.flags[t]}shiftContext(t,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,t,this,this.p.stream.reset(n)))}reduceContext(t,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,t,this,this.p.stream.reset(n)))}emitContext(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let t=this.buffer.length-1;(t<0||this.buffer[t]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(t){if(t!=this.curContext.context){let n=new cbe(this.curContext.tracker,t);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(t){t>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=t)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}};class cbe{constructor(t,n){this.tracker=t,this.context=n,this.hash=t.strict?t.hash(n):0}}class nBt{constructor(t){this.start=t,this.state=t.state,this.stack=t.stack,this.base=this.stack.length}reduce(t){let n=t&65535,r=t>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=i}}class oL{constructor(t,n,r){this.stack=t,this.pos=n,this.index=r,this.buffer=t.buffer,this.index==0&&this.maybeNext()}static create(t,n=t.bufferBase+t.buffer.length){return new oL(t,n,n-t.bufferBase)}maybeNext(){let t=this.stack.parent;t!=null&&(this.index=this.stack.bufferBase-t.bufferBase,this.stack=t,this.buffer=t.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new oL(this.stack,this.pos,this.index)}}function _E(e,t=Uint16Array){if(typeof e!="string")return e;let n=null;for(let r=0,i=0;r<e.length;){let o=0;for(;;){let s=e.charCodeAt(r++),a=!1;if(s==126){o=65535;break}s>=92&&s--,s>=34&&s--;let l=s-32;if(l>=46&&(l-=46,a=!0),o+=l,a)break;o*=46}n?n[i++]=o:n=new t(o)}return n}class cI{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const ube=new cI;class rBt{constructor(t,n){this.input=t,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=ube,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(t,n){let r=this.range,i=this.rangeIndex,o=this.pos+t;for(;o<r.from;){if(!i)return null;let s=this.ranges[--i];o-=r.from-s.to,r=s}for(;n<0?o>r.to:o>=r.to;){if(i==this.ranges.length-1)return null;let s=this.ranges[++i];o+=s.from-r.to,r=s}return o}clipPos(t){if(t>=this.range.from&&t<this.range.to)return t;for(let n of this.ranges)if(n.to>t)return Math.max(t,n.from);return this.end}peek(t){let n=this.chunkOff+t,r,i;if(n>=0&&n<this.chunk.length)r=this.pos+t,i=this.chunk.charCodeAt(n);else{let o=this.resolveOffset(t,1);if(o==null)return-1;if(r=o,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let s=this.rangeIndex,a=this.range;for(;a.to<=r;)a=this.ranges[++s];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(t,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=t,this.token.end=r}acceptTokenTo(t,n){this.token.value=t,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:t,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=t,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let t=this.input.chunk(this.pos),n=this.pos+t.length;this.chunk=n>this.range.to?t.slice(0,this.range.to-this.pos):t,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(t=1){for(this.chunkOff+=t;this.pos+t>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();t-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=t,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(t,n){if(n?(this.token=n,n.start=t,n.lookAhead=t+1,n.value=n.extended=-1):this.token=ube,this.pos!=t){if(this.pos=t,t==this.end)return this.setDone(),this;for(;t<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;t>=this.range.to;)this.range=this.ranges[++this.rangeIndex];t>=this.chunkPos&&t<this.chunkPos+this.chunk.length?this.chunkOff=t-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(t,n){if(t>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(t-this.chunkPos,n-this.chunkPos);if(t>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(t-this.chunk2Pos,n-this.chunk2Pos);if(t>=this.range.from&&n<=this.range.to)return this.input.read(t,n);let r="";for(let i of this.ranges){if(i.from>=n)break;i.to>t&&(r+=this.input.read(Math.max(i.from,t),Math.min(i.to,n)))}return r}}class Pw{constructor(t,n){this.data=t,this.id=n}token(t,n){let{parser:r}=n.p;$8e(this.data,t,n,this.id,r.data,r.tokenPrecTable)}}Pw.prototype.contextual=Pw.prototype.fallback=Pw.prototype.extend=!1;class sL{constructor(t,n,r){this.precTable=n,this.elseToken=r,this.data=typeof t=="string"?_E(t):t}token(t,n){let r=t.pos,i=0;for(;;){let o=t.next<0,s=t.resolveOffset(1,1);if($8e(this.data,t,n,0,this.data,this.precTable),t.token.value>-1)break;if(this.elseToken==null)return;if(o||i++,s==null)break;t.reset(s,t.token)}i&&(t.reset(r,t.token),t.acceptToken(this.elseToken,i))}}sL.prototype.contextual=Pw.prototype.fallback=Pw.prototype.extend=!1;class tc{constructor(t,n={}){this.token=t,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function $8e(e,t,n,r,i,o){let s=0,a=1<<r,{dialect:l}=n.p.parser;e:for(;a&e[s];){let c=e[s+1];for(let h=s+3;h<c;h+=2)if((e[h+1]&a)>0){let p=e[h];if(l.allows(p)&&(t.token.value==-1||t.token.value==p||iBt(p,t.token.value,i,o))){t.acceptToken(p);break}}let u=t.next,f=0,d=e[s+2];if(t.next<0&&d>f&&e[c+d*3-3]==65535){s=e[c+d*3-1];continue e}for(;f<d;){let h=f+d>>1,p=c+h+(h<<1),g=e[p],y=e[p+1]||65536;if(u<g)d=h;else if(u>=y)f=h+1;else{s=e[p+2],t.advance();continue e}}break}}function fbe(e,t,n){for(let r=t,i;(i=e[r])!=65535;r++)if(i==n)return r-t;return-1}function iBt(e,t,n,r){let i=fbe(n,r,t);return i<0||fbe(n,r,e)<i}const oc=typeof process<"u"&&lbe&&/\bparse\b/.test(lbe.LOG);let uW=null;function dbe(e,t,n){let r=e.cursor(Dr.IncludeAnonymous);for(r.moveTo(t);;)if(!(n<0?r.childBefore(t):r.childAfter(t)))for(;;){if((n<0?r.to<t:r.from>t)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,t-25)):Math.min(e.length,Math.max(r.from+1,t+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:e.length}}let oBt=class{constructor(t,n){this.fragments=t,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let t=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(t){for(this.safeFrom=t.openStart?dbe(t.tree,t.from+t.offset,1)-t.offset:t.from,this.safeTo=t.openEnd?dbe(t.tree,t.to+t.offset,-1)-t.offset:t.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(t.tree),this.start.push(-t.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(t){if(t<this.nextStart)return null;for(;this.fragment&&this.safeTo<=t;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],i=this.index[n];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let o=r.children[i],s=this.start[n]+r.positions[i];if(s>t)return this.nextStart=s,null;if(o instanceof Qn){if(s==t){if(s<this.safeFrom)return null;let a=s+o.length;if(a<=this.safeTo){let l=o.prop(Yt.lookAhead);if(!l||a+l<this.fragment.to)return o}}this.index[n]++,s+o.length>=Math.max(this.safeFrom,t)&&(this.trees.push(o),this.start.push(s),this.index.push(0))}else this.index[n]++,this.nextStart=s+o.length}}};class sBt{constructor(t,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=t.tokenizers.map(r=>new cI)}getActions(t){let n=0,r=null,{parser:i}=t.p,{tokenizers:o}=i,s=i.stateSlot(t.state,3),a=t.curContext?t.curContext.hash:0,l=0;for(let c=0;c<o.length;c++){if(!(1<<c&s))continue;let u=o[c],f=this.tokens[c];if(!(r&&!u.fallback)&&((u.contextual||f.start!=t.pos||f.mask!=s||f.context!=a)&&(this.updateCachedToken(f,u,t),f.mask=s,f.context=a),f.lookAhead>f.end+25&&(l=Math.max(f.lookAhead,l)),f.value!=0)){let d=n;if(f.extended>-1&&(n=this.addActions(t,f.extended,f.end,n)),n=this.addActions(t,f.value,f.end,n),!u.extend&&(r=f,n>d))break}}for(;this.actions.length>n;)this.actions.pop();return l&&t.setLookAhead(l),!r&&t.pos==this.stream.end&&(r=new cI,r.value=t.p.parser.eofTerm,r.start=r.end=t.pos,n=this.addActions(t,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(t){if(this.mainToken)return this.mainToken;let n=new cI,{pos:r,p:i}=t;return n.start=r,n.end=Math.min(r+1,i.stream.end),n.value=r==i.stream.end?i.parser.eofTerm:0,n}updateCachedToken(t,n,r){let i=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(i,t),r),t.value>-1){let{parser:o}=r.p;for(let s=0;s<o.specialized.length;s++)if(o.specialized[s]==t.value){let a=o.specializers[s](this.stream.read(t.start,t.end),r);if(a>=0&&r.p.parser.dialect.allows(a>>1)){a&1?t.extended=a>>1:t.value=a>>1;break}}}else t.value=0,t.end=this.stream.clipPos(i+1)}putAction(t,n,r,i){for(let o=0;o<i;o+=3)if(this.actions[o]==t)return i;return this.actions[i++]=t,this.actions[i++]=n,this.actions[i++]=r,i}addActions(t,n,r,i){let{state:o}=t,{parser:s}=t.p,{data:a}=s;for(let l=0;l<2;l++)for(let c=s.stateSlot(o,l?2:1);;c+=3){if(a[c]==65535)if(a[c+1]==1)c=Sp(a,c+2);else{i==0&&a[c+1]==2&&(i=this.putAction(Sp(a,c+2),n,r,i));break}a[c]==n&&(i=this.putAction(Sp(a,c+1),n,r,i))}return i}}class aBt{constructor(t,n,r,i){this.parser=t,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new rBt(n,i),this.tokens=new sBt(t,this.stream),this.topTerm=t.top[1];let{from:o}=i[0];this.stacks=[tBt.start(this,t.top[0],o)],this.fragments=r.length&&this.stream.end-o>t.bufferLength*4?new oBt(r,t.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let t=this.stacks,n=this.minStackPos,r=this.stacks=[],i,o;if(this.bigReductionCount>300&&t.length==1){let[s]=t;for(;s.forceReduce()&&s.stack.length&&s.stack[s.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let s=0;s<t.length;s++){let a=t[s];for(;;){if(this.tokens.mainToken=null,a.pos>n)r.push(a);else{if(this.advanceStack(a,r,t))continue;{i||(i=[],o=[]),i.push(a);let l=this.tokens.getMainToken(a);o.push(l.value,l.end)}}break}}if(!r.length){let s=i&&cBt(i);if(s)return oc&&console.log("Finish with "+this.stackID(s)),this.stackToTree(s);if(this.parser.strict)throw oc&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&i){let s=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,o,r);if(s)return oc&&console.log("Force-finish "+this.stackID(s)),this.stackToTree(s.forceAll())}if(this.recovering){let s=this.recovering==1?1:this.recovering*3;if(r.length>s)for(r.sort((a,l)=>l.score-a.score);r.length>s;)r.pop();r.some(a=>a.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let s=0;s<r.length-1;s++){let a=r[s];for(let l=s+1;l<r.length;l++){let c=r[l];if(a.sameState(c)||a.buffer.length>500&&c.buffer.length>500)if((a.score-c.score||a.buffer.length-c.buffer.length)>0)r.splice(l--,1);else{r.splice(s--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let s=1;s<r.length;s++)r[s].pos<this.minStackPos&&(this.minStackPos=r[s].pos);return null}stopAt(t){if(this.stoppedAt!=null&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}advanceStack(t,n,r){let i=t.pos,{parser:o}=this,s=oc?this.stackID(t)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return t.forceReduce()?t:null;if(this.fragments){let c=t.curContext&&t.curContext.tracker.strict,u=c?t.curContext.hash:0;for(let f=this.fragments.nodeAt(i);f;){let d=this.parser.nodeSet.types[f.type.id]==f.type?o.getGoto(t.state,f.type.id):-1;if(d>-1&&f.length&&(!c||(f.prop(Yt.contextHash)||0)==u))return t.useNode(f,d),oc&&console.log(s+this.stackID(t)+` (via reuse of ${o.getName(f.type.id)})`),!0;if(!(f instanceof Qn)||f.children.length==0||f.positions[0]>0)break;let h=f.children[0];if(h instanceof Qn&&f.positions[0]==0)f=h;else break}}let a=o.stateSlot(t.state,4);if(a>0)return t.reduce(a),oc&&console.log(s+this.stackID(t)+` (via always-reduce ${o.getName(a&65535)})`),!0;if(t.stack.length>=8400)for(;t.stack.length>6e3&&t.forceReduce(););let l=this.tokens.getActions(t);for(let c=0;c<l.length;){let u=l[c++],f=l[c++],d=l[c++],h=c==l.length||!r,p=h?t:t.split(),g=this.tokens.mainToken;if(p.apply(u,f,g?g.start:p.pos,d),oc&&console.log(s+this.stackID(p)+` (via ${u&65536?`reduce of ${o.getName(u&65535)}`:"shift"} for ${o.getName(f)} @ ${i}${p==t?"":", split"})`),h)return!0;p.pos>i?n.push(p):r.push(p)}return!1}advanceFully(t,n){let r=t.pos;for(;;){if(!this.advanceStack(t,null,null))return!1;if(t.pos>r)return hbe(t,n),!0}}runRecovery(t,n,r){let i=null,o=!1;for(let s=0;s<t.length;s++){let a=t[s],l=n[s<<1],c=n[(s<<1)+1],u=oc?this.stackID(a)+" -> ":"";if(a.deadEnd&&(o||(o=!0,a.restart(),oc&&console.log(u+this.stackID(a)+" (restarted)"),this.advanceFully(a,r))))continue;let f=a.split(),d=u;for(let h=0;f.forceReduce()&&h<10&&(oc&&console.log(d+this.stackID(f)+" (via force-reduce)"),!this.advanceFully(f,r));h++)oc&&(d=this.stackID(f)+" -> ");for(let h of a.recoverByInsert(l))oc&&console.log(u+this.stackID(h)+" (via recover-insert)"),this.advanceFully(h,r);this.stream.end>a.pos?(c==a.pos&&(c++,l=0),a.recoverByDelete(l,c),oc&&console.log(u+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),hbe(a,r)):(!i||i.score<a.score)&&(i=a)}return i}stackToTree(t){return t.close(),Qn.build({buffer:oL.create(t),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:t.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(t){let n=(uW||(uW=new WeakMap)).get(t);return n||uW.set(t,n=String.fromCodePoint(this.nextStackID++)),n+t}}function hbe(e,t){for(let n=0;n<t.length;n++){let r=t[n];if(r.pos==e.pos&&r.sameState(e)){t[n].score<e.score&&(t[n]=e);return}}t.push(e)}class lBt{constructor(t,n,r){this.source=t,this.flags=n,this.disabled=r}allows(t){return!this.disabled||this.disabled[t]==0}}const fW=e=>e;class koe{constructor(t){this.start=t.start,this.shift=t.shift||fW,this.reduce=t.reduce||fW,this.reuse=t.reuse||fW,this.hash=t.hash||(()=>0),this.strict=t.strict!==!1}}class ub extends L6{constructor(t){if(super(),this.wrappers=[],t.version!=14)throw new RangeError(`Parser version (${t.version}) doesn't match runtime version (14)`);let n=t.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let a=0;a<t.repeatNodeCount;a++)n.push("");let r=Object.keys(t.topRules).map(a=>t.topRules[a][1]),i=[];for(let a=0;a<n.length;a++)i.push([]);function o(a,l,c){i[a].push([l,l.deserialize(String(c))])}if(t.nodeProps)for(let a of t.nodeProps){let l=a[0];typeof l=="string"&&(l=Yt[l]);for(let c=1;c<a.length;){let u=a[c++];if(u>=0)o(u,l,a[c++]);else{let f=a[c+-u];for(let d=-u;d>0;d--)o(a[c++],l,f);c++}}}this.nodeSet=new K_(n.map((a,l)=>vo.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:i[l],top:r.indexOf(l)>-1,error:l==0,skipped:t.skippedNodes&&t.skippedNodes.indexOf(l)>-1}))),t.propSources&&(this.nodeSet=this.nodeSet.extend(...t.propSources)),this.strict=!1,this.bufferLength=F3e;let s=_E(t.tokenData);this.context=t.context,this.specializerSpecs=t.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let a=0;a<this.specializerSpecs.length;a++)this.specialized[a]=this.specializerSpecs[a].term;this.specializers=this.specializerSpecs.map(pbe),this.states=_E(t.states,Uint32Array),this.data=_E(t.stateData),this.goto=_E(t.goto),this.maxTerm=t.maxTerm,this.tokenizers=t.tokenizers.map(a=>typeof a=="number"?new Pw(s,a):a),this.topRules=t.topRules,this.dialects=t.dialects||{},this.dynamicPrecedences=t.dynamicPrecedences||null,this.tokenPrecTable=t.tokenPrec,this.termNames=t.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(t,n,r){let i=new aBt(this,t,n,r);for(let o of this.wrappers)i=o(i,t,n,r);return i}getGoto(t,n,r=!1){let i=this.goto;if(n>=i[0])return-1;for(let o=i[n+1];;){let s=i[o++],a=s&1,l=i[o++];if(a&&r)return l;for(let c=o+(s>>1);o<c;o++)if(i[o]==t)return l;if(a)return-1}}hasAction(t,n){let r=this.data;for(let i=0;i<2;i++)for(let o=this.stateSlot(t,i?2:1),s;;o+=3){if((s=r[o])==65535)if(r[o+1]==1)s=r[o=Sp(r,o+2)];else{if(r[o+1]==2)return Sp(r,o+2);break}if(s==n||s==0)return Sp(r,o+1)}return 0}stateSlot(t,n){return this.states[t*6+n]}stateFlag(t,n){return(this.stateSlot(t,0)&n)>0}validAction(t,n){return!!this.allActions(t,r=>r==n?!0:null)}allActions(t,n){let r=this.stateSlot(t,4),i=r?n(r):void 0;for(let o=this.stateSlot(t,1);i==null;o+=3){if(this.data[o]==65535)if(this.data[o+1]==1)o=Sp(this.data,o+2);else break;i=n(Sp(this.data,o+1))}return i}nextStates(t){let n=[];for(let r=this.stateSlot(t,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=Sp(this.data,r+2);else break;if(!(this.data[r+2]&1)){let i=this.data[r+1];n.some((o,s)=>s&1&&o==i)||n.push(this.data[r],i)}}return n}configure(t){let n=Object.assign(Object.create(ub.prototype),this);if(t.props&&(n.nodeSet=this.nodeSet.extend(...t.props)),t.top){let r=this.topRules[t.top];if(!r)throw new RangeError(`Invalid top rule name ${t.top}`);n.top=r}return t.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let i=t.tokenizers.find(o=>o.from==r);return i?i.to:r})),t.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,i)=>{let o=t.specializers.find(a=>a.from==r.external);if(!o)return r;let s=Object.assign(Object.assign({},r),{external:o.to});return n.specializers[i]=pbe(s),s})),t.contextTracker&&(n.context=t.contextTracker),t.dialect&&(n.dialect=this.parseDialect(t.dialect)),t.strict!=null&&(n.strict=t.strict),t.wrap&&(n.wrappers=n.wrappers.concat(t.wrap)),t.bufferLength!=null&&(n.bufferLength=t.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(t){return this.termNames?this.termNames[t]:String(t<=this.maxNode&&this.nodeSet.types[t].name||t)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(t){let n=this.dynamicPrecedences;return n==null?0:n[t]||0}parseDialect(t){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(t)for(let o of t.split(" ")){let s=n.indexOf(o);s>=0&&(r[s]=!0)}let i=null;for(let o=0;o<n.length;o++)if(!r[o])for(let s=this.dialects[n[o]],a;(a=this.data[s++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[a]=1;return new lBt(t,r,i)}static deserialize(t){return new ub(t)}}function Sp(e,t){return e[t]|e[t+1]<<16}function cBt(e){let t=null;for(let n of e){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!t||t.score<n.score)&&(t=n)}return t}function pbe(e){if(e.external){let t=e.extend?1:0;return(n,r)=>e.external(n,r)<<1|t}return e.get}const uBt=1,E8e=196,k8e=197,fBt=198,gbe=199,dBt=200,hBt=201,pBt=202,gBt=2,mBt=203,yBt=204,vBt=3,bBt=205,OBt=206,xBt=4,wBt=207,SBt=208,_Bt=5,CBt=209,$Bt=26,EBt=27,kBt=51,TBt=52,PBt=57,RBt=58,ABt=59,DBt=61,NBt=62,MBt=63,IBt=64,LBt=65,jBt=67,FBt=246,zBt=74,QBt=265,BBt=129,WBt=150,VBt=151,UBt=154,P2=10,R2=13,Toe=32,R7=9,Poe=35,qBt=40,YBt=46,mbe=123,T8e=39,P8e=34,XBt=92,HBt=new Set([EBt,kBt,TBt,QBt,jBt,BBt,RBt,ABt,FBt,IBt,LBt,zBt,NBt,MBt,WBt,VBt,UBt]);function dW(e){return e==P2||e==R2}const ZBt=new tc((e,t)=>{let n;if(e.next<0)e.acceptToken(hBt);else if(t.context.depth<0)dW(e.next)&&e.acceptToken(dBt,1);else if(((n=e.peek(-1))<0||dW(n))&&t.canShift(gbe)){let r=0;for(;e.next==Toe||e.next==R7;)e.advance(),r++;(e.next==P2||e.next==R2||e.next==Poe)&&e.acceptToken(gbe,-r)}else dW(e.next)&&e.acceptToken(fBt,1)},{contextual:!0}),GBt=new tc((e,t)=>{let n=t.context.depth;if(n<0)return;let r=e.peek(-1);if(r==P2||r==R2){let i=0,o=0;for(;;){if(e.next==Toe)i++;else if(e.next==R7)i+=8-i%8;else break;e.advance(),o++}i!=n&&e.next!=P2&&e.next!=R2&&e.next!=Poe&&(i<n?e.acceptToken(k8e,-o):e.acceptToken(E8e))}});function RH(e,t){this.parent=e,this.depth=t,this.hash=(e?e.hash+e.hash<<8:0)+t+(t<<4)}const KBt=new RH(null,0);function JBt(e){let t=0;for(let n=0;n<e.length;n++)t+=e.charCodeAt(n)==R7?8-t%8:1;return t}const eWt=new koe({start:KBt,reduce(e,t){return e.depth<0&&HBt.has(t)?e.parent:e},shift(e,t,n,r){return t==E8e?new RH(e,JBt(r.read(r.pos,n.pos))):t==k8e?e.parent:t==$Bt||t==PBt||t==DBt?new RH(e,-1):e},hash(e){return e.hash}}),tWt=new tc(e=>{for(let t=0;t<5;t++){if(e.next!="print".charCodeAt(t))return;e.advance()}if(!/\w/.test(String.fromCharCode(e.next)))for(let t=0;;t++){let n=e.peek(t);if(!(n==Toe||n==R7)){n!=qBt&&n!=YBt&&n!=P2&&n!=R2&&n!=Poe&&e.acceptToken(uBt);return}}});function A7(e,t,n,r,i){return new tc(o=>{let s=o.pos;for(;!(o.next<0);)if(o.next==mbe)if(o.peek(1)==mbe)o.advance(2);else{if(o.pos==s){o.acceptToken(r,1);return}break}else if(o.next==XBt)o.advance(),o.next>=0&&o.advance();else if(o.next==e&&(t==1||o.peek(1)==e&&o.peek(2)==e)){if(o.pos==s){o.acceptToken(i,t);return}break}else o.advance();o.pos>s&&o.acceptToken(n)})}const nWt=A7(T8e,1,pBt,gBt,mBt),rWt=A7(P8e,1,yBt,vBt,bBt),iWt=A7(T8e,3,OBt,xBt,wBt),oWt=A7(P8e,3,SBt,_Bt,CBt),sWt=Hb({'async "*" "**" FormatConversion FormatSpec':G.modifier,"for while if elif else try except finally return raise break continue with pass assert await yield match case":G.controlKeyword,"in not and or is del":G.operatorKeyword,"from def class global nonlocal lambda":G.definitionKeyword,import:G.moduleKeyword,"with as print":G.keyword,Boolean:G.bool,None:G.null,VariableName:G.variableName,"CallExpression/VariableName":G.function(G.variableName),"FunctionDefinition/VariableName":G.function(G.definition(G.variableName)),"ClassDefinition/VariableName":G.definition(G.className),PropertyName:G.propertyName,"CallExpression/MemberExpression/PropertyName":G.function(G.propertyName),Comment:G.lineComment,Number:G.number,String:G.string,FormatString:G.special(G.string),UpdateOp:G.updateOperator,"ArithOp!":G.arithmeticOperator,BitOp:G.bitwiseOperator,CompareOp:G.compareOperator,AssignOp:G.definitionOperator,Ellipsis:G.punctuation,At:G.meta,"( )":G.paren,"[ ]":G.squareBracket,"{ }":G.brace,".":G.derefOperator,", ;":G.separator}),aWt={__proto__:null,await:48,or:58,and:60,in:64,not:66,is:68,if:74,else:76,lambda:80,yield:98,from:100,async:106,for:108,None:168,True:170,False:170,del:184,pass:188,break:192,continue:196,return:200,raise:208,import:212,as:214,global:218,nonlocal:220,assert:224,elif:234,while:238,try:244,except:246,finally:248,with:252,def:256,class:266,match:277,case:283},lWt=ub.deserialize({version:14,states:"#!OO`Q#yOOP$_OSOOO%hQ&nO'#H^OOQS'#Cq'#CqOOQS'#Cr'#CrO'WQ#xO'#CpO(yQ&nO'#H]OOQS'#H^'#H^OOQS'#DW'#DWOOQS'#H]'#H]O)gQ#xO'#DaO)zQ#xO'#DhO*[Q#xO'#DlOOQS'#Dw'#DwO*oO,UO'#DwO*wO7[O'#DwO+POWO'#DxO+[O`O'#DxO+gOpO'#DxO+rO!bO'#DxO-tQ&nO'#G}OOQS'#G}'#G}O'WQ#xO'#G|O/WQ&nO'#G|OOQS'#Ee'#EeO/oQ#xO'#EfOOQS'#G{'#G{O/yQ#xO'#GzOOQV'#Gz'#GzO0UQ#xO'#FXOOQS'#G`'#G`O0ZQ#xO'#FWOOQV'#IS'#ISOOQV'#Gy'#GyOOQV'#Fp'#FpQ`Q#yOOO'WQ#xO'#CsO0iQ#xO'#DPO0pQ#xO'#DTO1OQ#xO'#HbO1`Q&nO'#EYO'WQ#xO'#EZOOQS'#E]'#E]OOQS'#E_'#E_OOQS'#Ea'#EaO1tQ#xO'#EcO2[Q#xO'#EgO0UQ#xO'#EiO2oQ&nO'#EiO0UQ#xO'#ElO/oQ#xO'#EoO/oQ#xO'#EsO/oQ#xO'#EvO2zQ#xO'#ExO3RQ#xO'#E}O3^Q#xO'#EyO/oQ#xO'#E}O0UQ#xO'#FPO0UQ#xO'#FUO3cQ#xO'#FZP3jO#xO'#GxPOOO)CBl)CBlOOQS'#Cg'#CgOOQS'#Ch'#ChOOQS'#Ci'#CiOOQS'#Cj'#CjOOQS'#Ck'#CkOOQS'#Cl'#ClOOQS'#Cn'#CnO'WQ#xO,59QO'WQ#xO,59QO'WQ#xO,59QO'WQ#xO,59QO'WQ#xO,59QO'WQ#xO,59QO3uQ#xO'#DqOOQS,5:[,5:[O4YQ#xO'#HlOOQS,5:_,5:_O4gQMlO,5:_O4lQ&nO,59[O0iQ#xO,59dO0iQ#xO,59dO0iQ#xO,59dO7[Q#xO,59dO7aQ#xO,59dO7hQ#xO,59lO7oQ#xO'#H]O8uQ#xO'#H[OOQS'#H['#H[OOQS'#D^'#D^O9^Q#xO,59cO'WQ#xO,59cO9lQ#xO,59cOOQS,59{,59{O9qQ#xO,5:TO'WQ#xO,5:TOOQS,5:S,5:SO:PQ#xO,5:SO:UQ#xO,5:ZO'WQ#xO,5:ZO'WQ#xO,5:XOOQS,5:W,5:WO:gQ#xO,5:WO:lQ#xO,5:YOOOO'#Fx'#FxO:qO,UO,5:cOOQS,5:c,5:cOOOO'#Fy'#FyO:yO7[O,5:cO;RQ#xO'#DyOOOW'#Fz'#FzO;cOWO,5:dOOQS,5:d,5:dO;RQ#xO'#D}OOO`'#F}'#F}O;nO`O,5:dO;RQ#xO'#EOOOOp'#GO'#GOO;yOpO,5:dO;RQ#xO'#EPOOO!b'#GP'#GPO<UO!bO,5:dOOQS'#GQ'#GQO<aQ&nO,5:lO?RQ&nO,5=hO?lQ!LUO,5=hO@]Q&nO,5=hOOQS,5;Q,5;QO@tQ#yO'#GYOBTQ#xO,5;]OOQV,5=f,5=fOB`Q&nO'#IOOBwQ#xO,5;sOOQS-E:^-E:^OOQV,5;r,5;rO3XQ#xO'#FPOOQV-E9n-E9nOCPQ&nO,59_OEWQ&nO,59kOEqQ#xO'#H_OE|Q#xO'#H_O0UQ#xO'#H_OFXQ#xO'#DVOFaQ#xO,59oOFfQ#xO'#HcO'WQ#xO'#HcO/oQ#xO,5=|OOQS,5=|,5=|O/oQ#xO'#EUOOQS'#EV'#EVOGTQ#xO'#GSOGeQ#xO,59OOGeQ#xO,59OO)mQ#xO,5:rOGsQ&nO'#HeOOQS,5:u,5:uOOQS,5:},5:}OHWQ#xO,5;ROHiQ#xO,5;TOOQS'#GV'#GVOHwQ&nO,5;TOIVQ#xO,5;TOI[Q#xO'#IROOQS,5;W,5;WOIjQ#xO'#H}OOQS,5;Z,5;ZO3^Q#xO,5;_O3^Q#xO,5;bOI{Q&nO'#ITO'WQ#xO'#ITOJVQ#xO,5;dO2zQ#xO,5;dO/oQ#xO,5;iO0UQ#xO,5;kOJ[Q#yO'#EtOKeQ#{O,5;eONvQ#xO'#IUO3^Q#xO,5;iO! RQ#xO,5;kO! WQ#xO,5;pO! `Q&nO,5;uO'WQ#xO,5;uPOOO,5=d,5=dP! gOSO,5=dP! lO#xO,5=dO!$aQ&nO1G.lO!$hQ&nO1G.lO!'XQ&nO1G.lO!'cQ&nO1G.lO!)|Q&nO1G.lO!*aQ&nO1G.lO!*tQ#xO'#HkO!+SQ&nO'#G}O/oQ#xO'#HkO!+^Q#xO'#HjOOQS,5:],5:]O!+fQ#xO,5:]O!+kQ#xO'#HmO!+vQ#xO'#HmO!,ZQ#xO,5>WOOQS'#Du'#DuOOQS1G/y1G/yOOQS1G/O1G/OO!-ZQ&nO1G/OO!-bQ&nO1G/OO0iQ#xO1G/OO!-}Q#xO1G/WOOQS'#D]'#D]O/oQ#xO,59vOOQS1G.}1G.}O!.UQ#xO1G/gO!.fQ#xO1G/gO!.nQ#xO1G/hO'WQ#xO'#HdO!.sQ#xO'#HdO!.xQ&nO1G.}O!/YQ#xO,59kO!0`Q#xO,5>SO!0pQ#xO,5>SO!0xQ#xO1G/oO!0}Q&nO1G/oOOQS1G/n1G/nO!1_Q#xO,5=}O!2UQ#xO,5=}O/oQ#xO1G/sO!2sQ#xO1G/uO!2xQ&nO1G/uO!3YQ&nO1G/sOOQS1G/r1G/rOOQS1G/t1G/tOOOO-E9v-E9vOOQS1G/}1G/}OOOO-E9w-E9wO!3jQ#xO'#HwO/oQ#xO'#HwO!3xQ#xO,5:eOOOW-E9x-E9xOOQS1G0O1G0OO!4TQ#xO,5:iOOO`-E9{-E9{O!4`Q#xO,5:jOOOp-E9|-E9|O!4kQ#xO,5:kOOO!b-E9}-E9}OOQS-E:O-E:OO!4vQ!LUO1G3SO!5gQ&nO1G3SO'WQ#xO,5<mOOQS,5<m,5<mOOQS-E:P-E:POOQS,5<t,5<tOOQS-E:W-E:WOOQV1G0w1G0wO0UQ#xO'#GUO!6OQ&nO,5>jOOQS1G1_1G1_O!6gQ#xO1G1_OOQS'#DX'#DXO/oQ#xO,5=yOOQS,5=y,5=yO!6lQ#xO'#FqO!6wQ#xO,59qO!7PQ#xO1G/ZO!7ZQ&nO,5=}OOQS1G3h1G3hOOQS,5:p,5:pO!7zQ#xO'#G|OOQS,5<n,5<nOOQS-E:Q-E:QO!8]Q#xO1G.jOOQS1G0^1G0^O!8kQ#xO,5>PO!8{Q#xO,5>PO/oQ#xO1G0mO/oQ#xO1G0mO0UQ#xO1G0oOOQS-E:T-E:TO!9^Q#xO1G0oO!9iQ#xO1G0oO!9nQ#xO,5>mO!9|Q#xO,5>mO!:[Q#xO,5>iO!:rQ#xO,5>iO!;TQ#{O1G0yO!>cQ#{O1G0|O!AnQ#xO,5>oO!AxQ#xO,5>oO!BQQ&nO,5>oO/oQ#xO1G1OO!B[Q#xO1G1OO3^Q#xO1G1TO! RQ#xO1G1VOOQV,5;`,5;`O!BaQ#zO,5;`O!BfQ#{O1G1PO!EwQ#xO'#G]O3^Q#xO1G1PO3^Q#xO1G1PO!FUQ#xO,5>pO!FcQ#xO,5>pO0UQ#xO,5>pOOQV1G1T1G1TO!FkQ#xO'#FRO!F|QMlO1G1VOOQV1G1[1G1[O3^Q#xO1G1[O!GUQ#xO'#F]OOQV1G1a1G1aO! `Q&nO1G1aPOOO1G3O1G3OP!GZOSO1G3OOOQS,5>V,5>VOOQS'#Dr'#DrO/oQ#xO,5>VO!G`Q#xO,5>UO!GsQ#xO,5>UOOQS1G/w1G/wO!G{Q#xO,5>XO!H]Q#xO,5>XO!HeQ#xO,5>XO!HxQ#xO,5>XO!IYQ#xO,5>XOOQS1G3r1G3rOOQS7+$j7+$jO!7PQ#xO7+$rO!J{Q#xO1G/OO!KSQ#xO1G/OOOQS1G/b1G/bOOQS,5<_,5<_O'WQ#xO,5<_OOQS7+%R7+%RO!KZQ#xO7+%ROOQS-E9q-E9qOOQS7+%S7+%SO!KkQ#xO,5>OO'WQ#xO,5>OOOQS7+$i7+$iO!KpQ#xO7+%RO!KxQ#xO7+%SO!K}Q#xO1G3nOOQS7+%Z7+%ZO!L_Q#xO1G3nO!LgQ#xO7+%ZOOQS,5<^,5<^O'WQ#xO,5<^O!LlQ#xO1G3iOOQS-E9p-E9pO!McQ#xO7+%_OOQS7+%a7+%aO!MqQ#xO1G3iO!N`Q#xO7+%aO!NeQ#xO1G3oO!NuQ#xO1G3oO!N}Q#xO7+%_O# SQ#xO,5>cO# jQ#xO,5>cO# jQ#xO,5>cO# xO$ISO'#D{O#!TO#tO'#HxOOOW1G0P1G0PO#!YQ#xO1G0POOO`1G0T1G0TO#!bQ#xO1G0TOOOp1G0U1G0UO#!jQ#xO1G0UOOO!b1G0V1G0VO#!rQ#xO1G0VO#!zQ!LUO7+(nO##kQ&nO1G2XP#$UQ#xO'#GROOQS,5<p,5<pOOQS-E:S-E:SOOQS7+&y7+&yOOQS1G3e1G3eOOQS,5<],5<]OOQS-E9o-E9oOOQS7+$u7+$uO#$cQ#xO,5=hO#$|Q#xO,5=hO#%_Q&nO,5<`O#%rQ#xO1G3kOOQS-E9r-E9rOOQS7+&X7+&XO#&SQ#xO7+&XOOQS7+&Z7+&ZO#&bQ#xO'#IQO0UQ#xO'#IPO#&vQ#xO7+&ZOOQS,5<s,5<sO#'RQ#xO1G4XOOQS-E:V-E:VOOQS,5<o,5<oO#'aQ#xO1G4TOOQS-E:R-E:RO#'wQ#{O7+&eO!EwQ#xO'#GZO3^Q#xO7+&eO3^Q#xO7+&hO#+VQ&nO,5<vO'WQ#xO,5<vO#+aQ#xO1G4ZOOQS-E:Y-E:YO#+kQ#xO1G4ZO3^Q#xO7+&jO/oQ#xO7+&jOOQV7+&o7+&oO!F|QMlO7+&qO`Q#yO1G0zOOQV-E:Z-E:ZO3^Q#xO7+&kO3^Q#xO7+&kOOQV,5<w,5<wO#+sQ#xO,5<wOOQV7+&k7+&kO#,OQ#{O7+&kO#/ZQ#xO,5<xO#/fQ#xO1G4[OOQS-E:[-E:[O#/sQ#xO1G4[O#/{Q#xO'#IWO#0ZQ#xO'#IWO0UQ#xO'#IWOOQS'#IW'#IWO#0fQ#xO'#IVOOQS,5;m,5;mO#0nQ#xO,5;mO/oQ#xO'#FTOOQV7+&q7+&qO3^Q#xO7+&qOOQV7+&v7+&vO#0sQ#zO,5;wOOQV7+&{7+&{POOO7+(j7+(jOOQS1G3q1G3qOOQS,5<b,5<bO#0xQ#xO1G3pOOQS-E9t-E9tO#1]Q#xO,5<cO#1hQ#xO,5<cO#1{Q#xO1G3sOOQS-E9u-E9uO#2]Q#xO1G3sO#2eQ#xO1G3sO#2uQ#xO1G3sO#2]Q#xO1G3sOOQS<<H^<<H^O#3QQ&nO1G1yOOQS<<Hm<<HmP#3_Q#xO'#FsO7hQ#xO1G3jO#3lQ#xO1G3jO#3qQ#xO<<HmOOQS<<Hn<<HnO#4RQ#xO7+)YOOQS<<Hu<<HuO#4cQ&nO1G1xP#5SQ#xO'#FrO#5aQ#xO7+)ZO#5qQ#xO7+)ZO#5yQ#xO<<HyO#6OQ#xO7+)TOOQS<<H{<<H{O#6uQ#xO,5<aO'WQ#xO,5<aOOQS-E9s-E9sOOQS<<Hy<<HyOOQS,5<g,5<gO/oQ#xO,5<gO#6zQ#xO1G3}OOQS-E9y-E9yO#7bQ#xO1G3}O;RQ#xO'#D|OOOO'#F|'#F|O#7pO$ISO,5:gOOO#l,5>d,5>dOOOW7+%k7+%kOOO`7+%o7+%oOOOp7+%p7+%pOOO!b7+%q7+%qO#7{Q#xO1G3SO#8fQ#xO1G3SP'WQ#xO'#FtO/oQ#xO<<IsO#8wQ#xO,5>lO#9YQ#xO,5>lO0UQ#xO,5>lO#9kQ#xO,5>kOOQS<<Iu<<IuP0UQ#xO'#GXP/oQ#xO'#GTOOQV-E:X-E:XO3^Q#xO<<JPOOQV,5<u,5<uO3^Q#xO,5<uOOQV<<JP<<JPOOQV<<JS<<JSO#9pQ&nO1G2bP#9zQ#xO'#G[O#:RQ#xO7+)uO#:]Q#{O<<JUO3^Q#xO<<JUOOQV<<J]<<J]O3^Q#xO<<J]O#=hQ#{O7+&fOOQV<<JV<<JVO#=rQ#{O<<JVOOQV1G2c1G2cO0UQ#xO1G2cO3^Q#xO<<JVO0UQ#xO1G2dP/oQ#xO'#G^O#@}Q#xO7+)vO#A[Q#xO7+)vOOQS'#FS'#FSO/oQ#xO,5>rO#AdQ#xO,5>rOOQS,5>r,5>rO#AoQ#xO,5>qO#BQQ#xO,5>qOOQS1G1X1G1XOOQS,5;o,5;oO#BYQ#xO1G1cP#B_Q#xO'#FvO#BoQ#xO1G1}O#CSQ#xO1G1}O#CdQ#xO1G1}P#CoQ#xO'#FwO#C|Q#xO7+)_O#D^Q#xO7+)_O#D^Q#xO7+)_O#DfQ#xO7+)_O#DvQ#xO7+)UO7hQ#xO7+)UOOQSAN>XAN>XO#EaQ#xO<<LuOOQSAN>eAN>eO/oQ#xO1G1{O#EqQ&nO1G1{P#E{Q#xO'#FuOOQS1G2R1G2RP#FYQ#xO'#F{O#FgQ#xO7+)iO#F}Q#xO,5:hOOOO-E9z-E9zO#GYQ#xO7+(nOOQSAN?_AN?_O#GsQ#xO,5<rO#HXQ#xO1G4WOOQS-E:U-E:UO#HjQ#xO1G4WOOQS1G4V1G4VOOQVAN?kAN?kOOQV1G2a1G2aO3^Q#xOAN?pO#H{Q#{OAN?pOOQVAN?wAN?wOOQV<<JQ<<JQO3^Q#xOAN?qO3^Q#xO7+'}OOQVAN?qAN?qOOQS7+(O7+(OO#LWQ#xO<<MbOOQS1G4^1G4^O/oQ#xO1G4^OOQS,5<y,5<yO#LeQ#xO1G4]OOQS-E:]-E:]OOQU'#Ga'#GaO#LvQ#zO7+&}O#MRQ#xO'#F^O#MyQ#xO7+'iO#NZQ#xO7+'iOOQS7+'i7+'iO#NfQ#xO<<LyO#NvQ#xO<<LyO#NvQ#xO<<LyO$ OQ#xO'#HfOOQS<<Lp<<LpO$ YQ#xO<<LpOOQS7+'g7+'gOOOO1G0S1G0SO$ sQ#xO1G0SO0UQ#xO1G2^P0UQ#xO'#GWO$ {Q#xO7+)rO$!^Q#xO7+)rOOQVG25[G25[O3^Q#xOG25[OOQVG25]G25]OOQV<<Ki<<KiOOQS7+)x7+)xP$!oQ#xO'#G_OOQU-E:_-E:_OOQV<<Ji<<JiO$#cQ&nO'#F`OOQS'#Fb'#FbO$#sQ#xO'#FaO$$eQ#xO'#FaOOQS'#Fa'#FaO$$jQ#xO'#IYO#MRQ#xO'#FhO#MRQ#xO'#FhO$%RQ#xO'#FiO#MRQ#xO'#FjO$%YQ#xO'#IZOOQS'#IZ'#IZO$%wQ#xO,5;xOOQS<<KT<<KTO$&PQ#xO<<KTO$&aQ#xOANBeO$&qQ#xOANBeO$&yQ#xO'#HgOOQS'#Hg'#HgO0pQ#xO'#DeO$'dQ#xO,5>QOOQSANB[ANB[OOOO7+%n7+%nOOQS7+'x7+'xO$'{Q#xO<<M^OOQVLD*vLD*vO4gQMlO'#GcO$(^Q&nO,5<RO#MRQ#xO'#FlOOQS,5<V,5<VOOQS'#Fc'#FcO$)OQ#xO,5;{O$)TQ#xO,5;{OOQS'#Ff'#FfO#MRQ#xO'#GbO$)uQ#xO,5<PO$*aQ#xO,5>tO$*qQ#xO,5>tO0UQ#xO,5<OO$+SQ#xO,5<SO$+XQ#xO,5<SO#MRQ#xO'#I[O$+^Q#xO'#I[O$+cQ#xO,5<TOOQS,5<U,5<UO'WQ#xO'#FoOOQU1G1d1G1dO3^Q#xO1G1dOOQSAN@oAN@oO$+hQ#xOG28PO$+xQ#xO,5:POOQS1G3l1G3lOOQS,5<},5<}OOQS-E:a-E:aO$+}Q&nO'#F`O$,UQ#xO'#I]O$,dQ#xO'#I]O$,lQ#xO,5<WOOQS1G1g1G1gO$,qQ#xO1G1gO$,vQ#xO,5<|OOQS-E:`-E:`O$-bQ#xO,5=QO$-yQ#xO1G4`OOQS-E:d-E:dOOQS1G1j1G1jOOQS1G1n1G1nO$.ZQ#xO,5>vO#MRQ#xO,5>vOOQS1G1o1G1oO$.iQ&nO,5<ZOOQU7+'O7+'OO$ OQ#xO1G/kO#MRQ#xO,5<XO$.pQ#xO,5>wO$.wQ#xO,5>wOOQS1G1r1G1rOOQS7+'R7+'RP#MRQ#xO'#GfO$/PQ#xO1G4bO$/ZQ#xO1G4bO$/cQ#xO1G4bOOQS7+%V7+%VO$/qQ#xO1G1sO$0PQ&nO'#F`O$0WQ#xO,5=POOQS,5=P,5=PO$0fQ#xO1G4cOOQS-E:c-E:cO#MRQ#xO,5=OO$0mQ#xO,5=OO$0rQ#xO7+)|OOQS-E:b-E:bO$0|Q#xO7+)|O#MRQ#xO,5<YP#MRQ#xO'#GeO$1UQ#xO1G2jO#MRQ#xO1G2jP$1dQ#xO'#GdO$1kQ#xO<<MhO$1uQ#xO1G1tO$2TQ#xO7+(UO7hQ#xO'#DPO7hQ#xO,59dO7hQ#xO,59dO7hQ#xO,59dO$2cQ&nO,5=hO7hQ#xO1G/OO/oQ#xO1G/ZO/oQ#xO7+$rP$2vQ#xO'#GRO'WQ#xO'#G|O$3TQ#xO,59dO$3YQ#xO,59dO$3aQ#xO,59oO$3fQ#xO1G/WO0pQ#xO'#DTO7hQ#xO,59l",stateData:"$3w~O%kOS%`OSUOS%_PQ~OPiOXfOhtOjYOquOu!TOxvO!RwO!S!QO!V!WO!W!VO!ZZO!_[O!jeO!ueO!veO!weO#OyO#QzO#S{O#U|O#W}O#[!OO#^!PO#a!RO#b!RO#d!SO#k!UO#n!XO#r!YO#t!ZO#y![O#|mO$O!]O%wRO%xRO%|SO%}WO&c]O&d^O&g_O&j`O&naO&obO&pcO~O%_!^O~OX!eOa!eOc!fOj!mO!Z!oO!h!qO%r!`O%s!aO%t!bO%u!cO%v!cO%w!dO%x!dO%y!eO%z!eO%{!eO~Om&QXn&QXo&QXp&QXq&QXr&QXu&QX|&QX}&QX!{&QX#f&QX%^&QX%a&QX&S&QXi&QX!V&QX!W&QX&T&QX!Y&QX!^&QX!S&QX#_&QXv&QX!n&QX~P$dOhtOjYO!ZZO!_[O!jeO!ueO!veO!weO%wRO%xRO%|SO%}WO&c]O&d^O&g_O&j`O&naO&obO&pcO~O|&PX}&PX#f&PX%^&PX%a&PX&S&PX~Om!tOn!uOo!sOp!sOq!vOr!wOu!xO!{&PX~P(eOX#OOi#QOq0VOx0eO!RwO~P'WOX#SOq0VOx0eO!Y#TO~P'WOX#WOc#XOq0VOx0eO!^#YO~P'WO&e#]O&f#_O~O&h#`O&i#_O~OQ#bO%b#cO%c#eO~OR#fO%d#gO%e#eO~OS#iO%f#jO%g#eO~OT#lO%h#mO%i#eO~OX%qXa%qXc%qXj%qXm%qXn%qXo%qXp%qXq%qXr%qXu%qX|%qX!Z%qX!h%qX%r%qX%s%qX%t%qX%u%qX%v%qX%w%qX%x%qX%y%qX%z%qX%{%qXi%qX!V%qX!W%qX~O&c]O&d^O&g_O&j`O&naO&obO&pcO}%qX!{%qX#f%qX%^%qX%a%qX&S%qX&T%qX!Y%qX!^%qX!S%qX#_%qXv%qX!n%qX~P+}O|#rO}%pX!{%pX#f%pX%^%pX%a%pX&S%pX~Oq0VOx0eO~P'WO#f#uO%^#wO%a#wO~O%}WO~O!V#|O#t!ZO#y![O#|mO~OquO~P'WOX$ROc$SO%}WO}yP~OX$WOq0VOx0eO!S$XO~P'WO}$ZO!{$`O&S$[O#f!|X%^!|X%a!|X~OX$WOq0VOx0eO#f#VX%^#VX%a#VX~P'WOq0VOx0eO#f#ZX%^#ZX%a#ZX~P'WO!h$fO!u$fO%}WO~OX$pO~P'WO!W$rO#r$sO#t$tO~O}$uO~OX$|O~P'WOU%OO%^$}O%k%PO~OX%YOc%YOi%[Oq0VOx0eO~P'WOq0VOx0eO}%_O~P'WO&b%aO~Oc!fOj!mO!Z!oO!h!qOXdaadamdandaodapdaqdardauda|da}da!{da#fda%^da%ada%rda%sda%tda%uda%vda%wda%xda%yda%zda%{da&Sdaida!Vda!Wda&Tda!Yda!^da!Sda#_davda!nda~Op%fO~Oq%fO~P'WOq0VO~P'WOm0XOn0YOo0WOp0WOq0aOr0bOu0fOi&PX!V&PX!W&PX&T&PX!Y&PX!^&PX!S&PX#_&PX!n&PX~P(eO&T%hOi&OX|&OX!V&OX!W&OX!Y&OX}&OX~Oi%jO|%kO!V%oO!W%nO~Oi%jO~O|%rO!V%oO!W%nO!Y&[X~O!Y%vO~O|%wO}%yO!V%oO!W%nO!^&VX~O!^%}O~O!^&OO~O&e#]O&f&QO~O&h#`O&i&QO~OX&TOq0VOx0eO!RwO~P'WOQ#bO%b#cO%c&WO~OR#fO%d#gO%e&WO~OS#iO%f#jO%g&WO~OT#lO%h#mO%i&WO~OX!taa!tac!taj!tam!tan!tao!tap!taq!tar!tau!ta|!ta}!ta!Z!ta!h!ta!{!ta#f!ta%^!ta%a!ta%r!ta%s!ta%t!ta%u!ta%v!ta%w!ta%x!ta%y!ta%z!ta%{!ta&S!tai!ta!V!ta!W!ta&T!ta!Y!ta!^!ta!S!ta#_!tav!ta!n!ta~P#vO|&`O}%pa!{%pa#f%pa%^%pa%a%pa&S%pa~P$dOX&bOquOxvO}%pa!{%pa#f%pa%^%pa%a%pa&S%pa~P'WO|&`O}%pa!{%pa#f%pa%^%pa%a%pa&S%pa~OPiOXfOquOxvO!RwO!S!QO#OyO#QzO#S{O#U|O#W}O#[!OO#^!PO#a!RO#b!RO#d!SO#f$|X%^$|X%a$|X~P'WO#f#uO%^&gO%a&gO~O!h&hOj&rX%^&rX#_&rX#f&rX%a&rX#^&rX~Oj!mO%^&jO~Omgangaogapgaqgargauga|ga}ga!{ga#fga%^ga%aga&Sgaiga!Vga!Wga&Tga!Yga!^ga!Sga#_gavga!nga~P$dOusa|sa}sa#fsa%^sa%asa&Ssa~Om!tOn!uOo!sOp!sOq!vOr!wO!{sa~PDoO&S&lO|&RX}&RX~O%}WO|&RX}&RX~O|&oO}yX~O}&qO~O|%wO#f&VX%^&VX%a&VXi&VX}&VX!^&VX!n&VX&S&VX~OX0`Oq0VOx0eO!RwO~P'WO&S$[O#fWa%^Wa%aWa~O|&zO#f&XX%^&XX%a&XXp&XX~P$dO|&}O!S&|O#f#Za%^#Za%a#Za~O#_'OO#f#]a%^#]a%a#]a~O!h$fO!u$fO#^'QO%}WO~O#^'QO~O|'SO#f&uX%^&uX%a&uX~O|'UO#f&qX%^&qX%a&qX}&qX~O|'YOp&wX~P$dOp']O~OPiOXfOquOxvO!RwO!S!QO#OyO#QzO#S{O#U|O#W}O#[!OO#^!PO#a!RO#b!RO#d!SO%^'bO~P'WOv'fO#o'dO#p'eOP#maX#mah#maj#maq#mau#max#ma!R#ma!S#ma!V#ma!W#ma!Z#ma!_#ma!j#ma!u#ma!v#ma!w#ma#O#ma#Q#ma#S#ma#U#ma#W#ma#[#ma#^#ma#a#ma#b#ma#d#ma#k#ma#n#ma#r#ma#t#ma#y#ma#|#ma$O#ma%Z#ma%w#ma%x#ma%|#ma%}#ma&c#ma&d#ma&g#ma&j#ma&n#ma&o#ma&p#ma%]#ma%a#ma~O|'gO#_'iO}&xX~Oj'kO~Oj!mO}$uO~O}'oO~P$dO%^'rO~OU'sO%^'rO~OX!eOa!eOc!fOj!mO!Z!oO!h!qO%t!bO%u!cO%v!cO%w!dO%x!dO%y!eO%z!eO%{!eOmYinYioYipYiqYirYiuYi|Yi}Yi!{Yi#fYi%^Yi%aYi%rYi&SYiiYi!VYi!WYi&TYi!YYi!^Yi!SYi#_YivYi!nYi~O%s!aO~P! tO%sYi~P! tOX!eOa!eOc!fOj!mO!Z!oO!h!qO%w!dO%x!dO%y!eO%z!eO%{!eOmYinYioYipYiqYirYiuYi|Yi}Yi!{Yi#fYi%^Yi%aYi%rYi%sYi%tYi&SYiiYi!VYi!WYi&TYi!YYi!^Yi!SYi#_YivYi!nYi~O%u!cO%v!cO~P!$oO%uYi%vYi~P!$oOc!fOj!mO!Z!oO!h!qOmYinYioYipYiqYirYiuYi|Yi}Yi!{Yi#fYi%^Yi%aYi%rYi%sYi%tYi%uYi%vYi%wYi%xYi&SYiiYi!VYi!WYi&TYi!YYi!^Yi!SYi#_YivYi!nYi~OX!eOa!eO%y!eO%z!eO%{!eO~P!'mOXYiaYi%yYi%zYi%{Yi~P!'mO!V%oO!W%nOi&_X|&_X~O&S'uO&T'uO~P+}O|'wOi&^X~Oi'yO~O|'zO}'|O!Y&aX~Oq0VOx0eO|'zO}'}O!Y&aX~P'WO!Y(PO~Oo!sOp!sOq!vOr!wOmliuli|li}li!{li#fli%^li%ali&Sli~On!uO~P!,`Onli~P!,`Om0XOn0YOo0WOp0WOq0aOr0bO~Ov(RO~P!-iOX(WOi(XOq0VOx0eO~P'WOi(XO|(YO~Oi([O~O!W(^O~Oi(_O|(YO!V%oO!W%nO~P$dOm0XOn0YOo0WOp0WOq0aOr0bOisa!Vsa!Wsa&Tsa!Ysa!^sa!Ssa#_savsa!nsa~PDoOX(WOq0VOx0eO!Y&[a~P'WO|(bO!Y&[a~O!Y(cO~O|(bO!V%oO!W%nO!Y&[a~P$dOX(gOq0VOx0eO!^&Va#f&Va%^&Va%a&Vai&Va}&Va!n&Va&S&Va~P'WO|(hO!^&Va#f&Va%^&Va%a&Vai&Va}&Va!n&Va&S&Va~O!^(kO~O|(hO!V%oO!W%nO!^&Va~P$dO|(nO!V%oO!W%nO!^&]a~P$dO|(qO}&kX!^&kX!n&kX~O}(tO!^(vO!n(wO~O}(tO!^(xO!n(yO~O}(tO!^(zO!n({O~O}(tO!^(|O!n(}O~OX&bOquOxvO}%pi!{%pi#f%pi%^%pi%a%pi&S%pi~P'WO|)OO}%pi!{%pi#f%pi%^%pi%a%pi&S%pi~O!h&hOj&ra%^&ra#_&ra#f&ra%a&ra#^&ra~O%^)TO~OX$ROc$SO%}WO~O|&oO}ya~OquOxvO~P'WO|(hO#f&Va%^&Va%a&Vai&Va}&Va!^&Va!n&Va&S&Va~P$dO|)YO#f%pX%^%pX%a%pX&S%pX~O&S$[O#fWi%^Wi%aWi~O#f&Xa%^&Xa%a&Xap&Xa~P'WO|)]O#f&Xa%^&Xa%a&Xap&Xa~OX)aOj)cO%}WO~O#^)dO~O%}WO#f&ua%^&ua%a&ua~O|)fO#f&ua%^&ua%a&ua~Oq0VOx0eO#f&qa%^&qa%a&qa}&qa~P'WO|)iO#f&qa%^&qa%a&qa}&qa~Ov)mO#i)lOP#giX#gih#gij#giq#giu#gix#gi!R#gi!S#gi!V#gi!W#gi!Z#gi!_#gi!j#gi!u#gi!v#gi!w#gi#O#gi#Q#gi#S#gi#U#gi#W#gi#[#gi#^#gi#a#gi#b#gi#d#gi#k#gi#n#gi#r#gi#t#gi#y#gi#|#gi$O#gi%Z#gi%w#gi%x#gi%|#gi%}#gi&c#gi&d#gi&g#gi&j#gi&n#gi&o#gi&p#gi%]#gi%a#gi~Ov)nOP#jiX#jih#jij#jiq#jiu#jix#ji!R#ji!S#ji!V#ji!W#ji!Z#ji!_#ji!j#ji!u#ji!v#ji!w#ji#O#ji#Q#ji#S#ji#U#ji#W#ji#[#ji#^#ji#a#ji#b#ji#d#ji#k#ji#n#ji#r#ji#t#ji#y#ji#|#ji$O#ji%Z#ji%w#ji%x#ji%|#ji%}#ji&c#ji&d#ji&g#ji&j#ji&n#ji&o#ji&p#ji%]#ji%a#ji~OX)pOp&wa~P'WO|)qOp&wa~O|)qOp&wa~P$dOp)uO~O%[)xO~Ov){O#o'dO#p)zOP#miX#mih#mij#miq#miu#mix#mi!R#mi!S#mi!V#mi!W#mi!Z#mi!_#mi!j#mi!u#mi!v#mi!w#mi#O#mi#Q#mi#S#mi#U#mi#W#mi#[#mi#^#mi#a#mi#b#mi#d#mi#k#mi#n#mi#r#mi#t#mi#y#mi#|#mi$O#mi%Z#mi%w#mi%x#mi%|#mi%}#mi&c#mi&d#mi&g#mi&j#mi&n#mi&o#mi&p#mi%]#mi%a#mi~Oq0VOx0eO}$uO~P'WOq0VOx0eO}&xa~P'WO|*RO}&xa~OX*VOc*WOi*ZO%y*XO%}WO~O}$uO&{*]O~O%^*aO~O%^*cO~OX%YOc%YOq0VOx0eOi&^a~P'WO|*fOi&^a~Oq0VOx0eO}*iO!Y&aa~P'WO|*jO!Y&aa~Oq0VOx0eO|*jO}*mO!Y&aa~P'WOq0VOx0eO|*jO!Y&aa~P'WO|*jO}*mO!Y&aa~Oo0WOp0WOq0aOr0bOilimliuli|li!Vli!Wli&Tli!Yli}li!^li#fli%^li%ali!Sli#_livli!nli&Sli~On0YO~P!IeOnli~P!IeOX(WOi*rOq0VOx0eO~P'WOp*tO~Oi*rO|*vO~Oi*wO~OX(WOq0VOx0eO!Y&[i~P'WO|*xO!Y&[i~O!Y*yO~OX(gOq0VOx0eO!^&Vi#f&Vi%^&Vi%a&Vii&Vi}&Vi!n&Vi&S&Vi~P'WO|*|O!V%oO!W%nO!^&]i~O|+PO!^&Vi#f&Vi%^&Vi%a&Vii&Vi}&Vi!n&Vi&S&Vi~O!^+QO~Oc+SOq0VOx0eO!^&]i~P'WO|*|O!^&]i~O!^+UO~OX+WOq0VOx0eO}&ka!^&ka!n&ka~P'WO|+XO}&ka!^&ka!n&ka~O!_+[O&m+]O!^!oX~O!^+_O~O}(tO!^+`O~O}(tO!^+aO~O}(tO!^+bO~O}(tO!^+cO~OX&bOquOxvO}%pq!{%pq#f%pq%^%pq%a%pq&S%pq~P'WO|$ui}$ui!{$ui#f$ui%^$ui%a$ui&S$ui~P$dOX&bOquOxvO~P'WOX&bOq0VOx0eO#f%pa%^%pa%a%pa&S%pa~P'WO|+dO#f%pa%^%pa%a%pa&S%pa~O|$ha#f$ha%^$ha%a$hap$ha~P$dO#f&Xi%^&Xi%a&Xip&Xi~P'WO|+gO#f#Zq%^#Zq%a#Zq~O|+hO#_+jO#f&tX%^&tX%a&tXi&tX~OX+lOj)cO%}WO~O%}WO#f&ui%^&ui%a&ui~Oq0VOx0eO#f&qi%^&qi%a&qi}&qi~P'WOv+pO#i)lOP#gqX#gqh#gqj#gqq#gqu#gqx#gq!R#gq!S#gq!V#gq!W#gq!Z#gq!_#gq!j#gq!u#gq!v#gq!w#gq#O#gq#Q#gq#S#gq#U#gq#W#gq#[#gq#^#gq#a#gq#b#gq#d#gq#k#gq#n#gq#r#gq#t#gq#y#gq#|#gq$O#gq%Z#gq%w#gq%x#gq%|#gq%}#gq&c#gq&d#gq&g#gq&j#gq&n#gq&o#gq&p#gq%]#gq%a#gq~Op%Oa|%Oa~P$dOX)pOp&wi~P'WO|+wOp&wi~O|,QO}$uO#_,QO~O#p,ROP#mqX#mqh#mqj#mqq#mqu#mqx#mq!R#mq!S#mq!V#mq!W#mq!Z#mq!_#mq!j#mq!u#mq!v#mq!w#mq#O#mq#Q#mq#S#mq#U#mq#W#mq#[#mq#^#mq#a#mq#b#mq#d#mq#k#mq#n#mq#r#mq#t#mq#y#mq#|#mq$O#mq%Z#mq%w#mq%x#mq%|#mq%}#mq&c#mq&d#mq&g#mq&j#mq&n#mq&o#mq&p#mq%]#mq%a#mq~O#_,SO|%Qa}%Qa~Oq0VOx0eO}&xi~P'WO|,UO}&xi~O}$ZO&S,WOi&zX|&zX~O%}WOi&zX|&zX~O|,[Oi&yX~Oi,^O~O%[,`O~OX%YOc%YOq0VOx0eOi&^i~P'WO},bO|$ka!Y$ka~Oq0VOx0eO},cO|$ka!Y$ka~P'WOq0VOx0eO}*iO!Y&ai~P'WO|,fO!Y&ai~Oq0VOx0eO|,fO!Y&ai~P'WO|,fO},iO!Y&ai~Oi$gi|$gi!Y$gi~P$dOX(WOq0VOx0eO~P'WOp,kO~OX(WOi,lOq0VOx0eO~P'WOX(WOq0VOx0eO!Y&[q~P'WO|$fi!^$fi#f$fi%^$fi%a$fii$fi}$fi!n$fi&S$fi~P$dOX(gOq0VOx0eO~P'WOc+SOq0VOx0eO!^&]q~P'WO|,mO!^&]q~O!^,nO~OX(gOq0VOx0eO!^&Vq#f&Vq%^&Vq%a&Vqi&Vq}&Vq!n&Vq&S&Vq~P'WO},oO~OX+WOq0VOx0eO}&ki!^&ki!n&ki~P'WO|,tO}&ki!^&ki!n&ki~O!_+[O&m+]O!^!oa~OX&bOq0VOx0eO#f%pi%^%pi%a%pi&S%pi~P'WO|,wO#f%pi%^%pi%a%pi&S%pi~O%}WO#f&ta%^&ta%a&tai&ta~O|,zO#f&ta%^&ta%a&tai&ta~Oi,}O~Op%Oi|%Oi~P$dOX)pO~P'WOX)pOp&wq~P'WOv-QOP#lyX#lyh#lyj#lyq#lyu#lyx#ly!R#ly!S#ly!V#ly!W#ly!Z#ly!_#ly!j#ly!u#ly!v#ly!w#ly#O#ly#Q#ly#S#ly#U#ly#W#ly#[#ly#^#ly#a#ly#b#ly#d#ly#k#ly#n#ly#r#ly#t#ly#y#ly#|#ly$O#ly%Z#ly%w#ly%x#ly%|#ly%}#ly&c#ly&d#ly&g#ly&j#ly&n#ly&o#ly&p#ly%]#ly%a#ly~O%]-TO%a-TO~P`O#p-UOP#myX#myh#myj#myq#myu#myx#my!R#my!S#my!V#my!W#my!Z#my!_#my!j#my!u#my!v#my!w#my#O#my#Q#my#S#my#U#my#W#my#[#my#^#my#a#my#b#my#d#my#k#my#n#my#r#my#t#my#y#my#|#my$O#my%Z#my%w#my%x#my%|#my%}#my&c#my&d#my&g#my&j#my&n#my&o#my&p#my%]#my%a#my~Oq0VOx0eO}&xq~P'WO|-YO}&xq~O&S,WOi&za|&za~OX*VOc*WO%y*XO%}WOi&ya~O|-^Oi&ya~O$R-bO~OX%YOc%YOq0VOx0eO~P'WOq0VOx0eO}-cO|$ki!Y$ki~P'WOq0VOx0eO|$ki!Y$ki~P'WO}-cO|$ki!Y$ki~Oq0VOx0eO}*iO~P'WOq0VOx0eO}*iO!Y&aq~P'WO|-fO!Y&aq~Oq0VOx0eO|-fO!Y&aq~P'WOu-iO!V%oO!W%nOi&Wq!Y&Wq!^&Wq|&Wq~P!-iOc+SOq0VOx0eO!^&]y~P'WO|$ii!^$ii~P$dOc+SOq0VOx0eO~P'WOX+WOq0VOx0eO~P'WOX+WOq0VOx0eO}&kq!^&kq!n&kq~P'WO}(tO!^-mO!n-nO~OX&bOq0VOx0eO#f%pq%^%pq%a%pq&S%pq~P'WO#_-oO|$za#f$za%^$za%a$zai$za~O%}WO#f&ti%^&ti%a&tii&ti~O|-qO#f&ti%^&ti%a&tii&ti~Ov-tOP#l!RX#l!Rh#l!Rj#l!Rq#l!Ru#l!Rx#l!R!R#l!R!S#l!R!V#l!R!W#l!R!Z#l!R!_#l!R!j#l!R!u#l!R!v#l!R!w#l!R#O#l!R#Q#l!R#S#l!R#U#l!R#W#l!R#[#l!R#^#l!R#a#l!R#b#l!R#d#l!R#k#l!R#n#l!R#r#l!R#t#l!R#y#l!R#|#l!R$O#l!R%Z#l!R%w#l!R%x#l!R%|#l!R%}#l!R&c#l!R&d#l!R&g#l!R&j#l!R&n#l!R&o#l!R&p#l!R%]#l!R%a#l!R~Oq0VOx0eO}&xy~P'WOX*VOc*WO%y*XO%}WOi&yi~O$R-bO%]-zO%a-zO~OX.UOj.SO!Z.RO!_.TO!j-}O!v.PO!w.PO%x-|O%}WO&c]O&d^O&g_O~Oq0VOx0eO|$kq!Y$kq~P'WO}.ZO|$kq!Y$kq~Oq0VOx0eO}*iO!Y&ay~P'WO|.[O!Y&ay~Oq0VOx.`O~P'WOu-iO!V%oO!W%nOi&Wy!Y&Wy!^&Wy|&Wy~P!-iO}(tO!^.cO~O%}WO#f&tq%^&tq%a&tqi&tq~O|.eO#f&tq%^&tq%a&tqi&tq~OX*VOc*WO%y*XO%}WO~Oj.iO!h.gO|$SX#_$SX%r$SXi$SX~Ou$SX}$SX!Y$SX!^$SX~P$!}O%w.kO%x.kOu$TX|$TX}$TX#_$TX%r$TX!Y$TXi$TX!^$TX~O!j.mO~O|.qO#_.sO%r.nOu&|X}&|X!Y&|Xi&|X~Oc.vO~P#M_Oj.iOu&}X|&}X}&}X#_&}X%r&}X!Y&}Xi&}X!^&}X~Ou.zO}$uO~Oq0VOx0eO|$ky!Y$ky~P'WOq0VOx0eO}*iO!Y&a!R~P'WO|/OO!Y&a!R~Oi&ZXu&ZX!V&ZX!W&ZX!Y&ZX!^&ZX|&ZX~P!-iOu-iO!V%oO!W%nOi&Ya!Y&Ya!^&Ya|&Ya~O%}WO#f&ty%^&ty%a&tyi&ty~O!h.gOj$Zau$Za|$Za}$Za#_$Za%r$Za!Y$Zai$Za!^$Za~O!j/XO~O%w.kO%x.kOu$Ta|$Ta}$Ta#_$Ta%r$Ta!Y$Tai$Ta!^$Ta~O%r.nOu$Xa|$Xa}$Xa#_$Xa!Y$Xai$Xa!^$Xa~Ou&|a}&|a!Y&|ai&|a~P#MRO|/^Ou&|a}&|a!Y&|ai&|a~O!Y/aO~Oi/aO~O}/cO~O!^/dO~Oq0VOx0eO}*iO!Y&a!Z~P'WO}/gO~O&S/hO~P$!}O|/iO#_.sO%r.nOi'PX~O|/iOi'PX~Oi/kO~O!j/lO~O#_.sOu%Ua|%Ua}%Ua%r%Ua!Y%Uai%Ua!^%Ua~O#_.sO%r.nOu%Ya|%Ya}%Ya!Y%Yai%Ya~Ou&|i}&|i!Y&|ii&|i~P#MRO|/nO#_.sO%r.nO!^'Oa~O}$ca~P$dOi'Pa~P#MRO|/vOi'Pa~Oc/xO!^'Oi~P#M_O|/zO!^'Oi~O|/zO#_.sO%r.nO!^'Oi~O#_.sO%r.nOi$ai|$ai~O&S/}O~P$!}O#_.sO%r.nOi%Xa|%Xa~Oi'Pi~P#MRO}0QO~Oc/xO!^'Oq~P#M_O|0SO!^'Oq~O#_.sO%r.nO|%Wi!^%Wi~Oc/xO~P#M_Oc/xO!^'Oy~P#M_O#_.sO%r.nOi$bi|$bi~O#_.sO%r.nO|%Wq!^%Wq~O|+dO#f%pa%^%pa%a%pa&S%pa~P$dOX&bOq0VOx0eO~P'WOp0[O~Oq0[O~P'WO}0]O~Ov0^O~P!-iO&d&g&o&p&c&j&n%}&c~",goto:"!<w'QPPPPPPPP'RP'Z*s+]+v,b,}-kP.YP'Z.y.y'ZPPP'Z2cPPPPPP2c5VPP5VP7g7p=pPP=s>e>hPP'Z'ZPP?QPP'Z'ZPP'Z'Z'Z'Z'Z?U?{'ZP@OP@UD]GyPG}HZH_HcHg'ZPPPHkHq'RP'R'RP'RP'RP'RP'RP'R'R'RP'RPP'RPP'RPHwPIOIUPIOPIOIOPPPIOPKTPK^KdKjKTPIOKpPIOPKwK}PLRLgMUMoLRLRMuNSLRLRLRLRNhNnNqNvNy! T! Z! g! y!!P!!Z!!a!!}!#T!#Z!#a!#k!#q!#w!#}!$T!$Z!$m!$w!$}!%T!%Z!%e!%k!%q!%w!&R!&X!&c!&i!&r!&x!'X!'a!'k!'rPPPPPPPPPPPPPPPPP!'x!'{!(R!([!(f!(qPPPPPPPPPPPP!-e!.y!2s!6TPP!6]!6o!6x!7n!7e!7w!7}!8Q!8T!8W!8`!9PPPPPPPPPP!9S!9cPPPP!:R!:_!:k!:q!:z!:}!;T!;Z!;a!;dP!;l!;u!<q!<t]jOs#u$u)x+|'}eOTYZ[fistuwy}!O!S!T!U!V!Y!]!g!h!i!j!k!l!m!o!s!t!u!w!x#O#S#W#X#b#f#i#l#r#u$W$X$Z$]$`$p$r$s$u$|%Y%_%f%i%k%n%r%w%y&T&`&b&m&q&z&|&}'U'Y']'d'g'v'w'z'|'}(R(W(Y(^(b(g(h(n(q)O)Q)Y)])i)l)p)q)u)x*R*]*f*i*j*m*s*t*v*x*{*|+P+S+W+X+[+d+f+g+n+v+w+|,T,U,X,a,b,c,e,f,i,k,m,o,q,s,t,w-Y-[-c-f-i.Z.[.z/O/g0V0W0X0Y0[0]0^0_0`0b0f}!gQ#q$O$a$o${%p%u%{%|&r'['q)P)[)o*q*z+u,p/e0Z!P!hQ#q$O$a$o${%Q%p%u%{%|&r'['q)P)[)o*q*z+u,p/e0Z!R!iQ#q$O$a$o${%Q%R%p%u%{%|&r'['q)P)[)o*q*z+u,p/e0Z!T!jQ#q$O$a$o${%Q%R%S%p%u%{%|&r'['q)P)[)o*q*z+u,p/e0Z!V!kQ#q$O$a$o${%Q%R%S%T%p%u%{%|&r'['q)P)[)o*q*z+u,p/e0Z!X!lQ#q$O$a$o${%Q%R%S%T%U%p%u%{%|&r'['q)P)[)o*q*z+u,p/e0Z!]!lQ!r#q$O$a$o${%Q%R%S%T%U%V%p%u%{%|&r'['q)P)[)o*q*z+u,p/e0Z'}TOTYZ[fistuwy}!O!S!T!U!V!Y!]!g!h!i!j!k!l!m!o!s!t!u!w!x#O#S#W#X#b#f#i#l#r#u$W$X$Z$]$`$p$r$s$u$|%Y%_%f%i%k%n%r%w%y&T&`&b&m&q&z&|&}'U'Y']'d'g'v'w'z'|'}(R(W(Y(^(b(g(h(n(q)O)Q)Y)])i)l)p)q)u)x*R*]*f*i*j*m*s*t*v*x*{*|+P+S+W+X+[+d+f+g+n+v+w+|,T,U,X,a,b,c,e,f,i,k,m,o,q,s,t,w-Y-[-c-f-i.Z.[.z/O/g0V0W0X0Y0[0]0^0_0`0b0f&cVOYZ[isuw}!O!S!T!U!Y!m!o!s!t!u!w!x#b#f#i#l#r#u$X$Z$]$`$s$u%Y%_%f%i%k%r%w%y&T&`&m&q&|&}'U']'d'g'v'w'z'|'}(R(Y(b(h(n(q)O)Q)Y)i)l)u)x*R*]*f*i*j*m*s*t*v*x*{*|+P+W+X+[+d+g+n+|,T,U,X,a,b,c,e,f,i,k,m,o,q,s,t,w-Y-[-c-f-i.Z.[/O/g0V0W0X0Y0[0]0^0_0b0f%mXOYZ[isw}!O!S!T!U!Y!m!o#b#f#i#l#r#u$X$Z$]$`$s$u%Y%_%i%k%r%w%y&T&`&m&q&|&}'U']'d'g'v'w'z'|'}(R(Y(b(h(n(q)O)Q)Y)i)l)u)x*R*]*f*i*j*m*s*v*x*{*|+P+W+X+[+d+g+n+|,T,U,X,a,b,c,e,f,i,m,o,q,s,t,w-Y-[-c-f.Z.[/O0]0^0_Q$UvQ/P.`R0c0e'teOTYZ[fistuwy}!O!S!T!U!V!Y!]!g!h!i!j!k!l!o!s!t!u!w!x#O#S#W#X#b#f#i#l#r#u$W$X$Z$]$`$p$r$s$u$|%Y%_%f%i%k%n%r%w%y&T&`&b&m&q&z&|&}'U'Y']'d'g'v'z'|'}(R(W(Y(^(b(g(h(n(q)O)Q)Y)])i)l)p)q)u)x*R*]*i*j*m*s*t*v*x*{*|+P+S+W+X+[+d+f+g+n+v+w+|,T,U,X,b,c,e,f,i,k,m,o,q,s,t,w-Y-[-c-f-i.Z.[.z/O/g0V0W0X0Y0[0]0^0_0`0b0fW#xm!P!Q$gW$Qv&o.`0eQ$i!RQ$y!ZQ$z![W%X!m'w*f,aS&n$R$SQ'`$tQ)R&hQ)a'OU)b'Q)c)dU)e'S)f+mQ*T'iW*U'k,[-^-xS,Z*V*WY,y+h,z-p-q.eQ,|+jQ-V,QQ-X,Sl-{-b.R.S.U.o.q.v/^/c/h/m/x/}0QQ.d-oQ.w.TQ/T.iQ/`.sU/s/i/v0OX/y/n/z0R0SR&m$Q!_!{YZ!T!U!o%_%k%r'z'|'}(Y(b)l*i*j*m*s*v*x,b,c,e,f,i-c-f.Z.[/OR%i!zQ#PYQ&U#bQ&X#fQ&Z#iQ&]#lQ&v$]Q&y$`R,u+[T._-i/g![!nQ!r#q$O$a$o${%Q%R%S%T%U%V%p%u%{%|&r'['q)P)[)o*q*z+u,p/e0ZQ&k#yR'n$zR'v%XQ%b!qR/R.g'|dOTYZ[fistuwy}!O!S!T!U!V!Y!]!g!h!i!j!k!l!m!o!s!t!u!w!x#O#S#W#X#b#f#i#l#r#u$W$X$Z$]$`$p$r$s$u$|%Y%_%f%i%k%n%r%w%y&T&`&b&m&q&z&|&}'U'Y']'d'g'v'w'z'|'}(R(W(Y(^(b(g(h(n(q)O)Q)Y)])i)l)p)q)u)x*R*]*f*i*j*m*s*t*v*x*{*|+P+S+W+X+[+d+f+g+n+v+w+|,T,U,X,a,b,c,e,f,i,k,m,o,q,s,t,w-Y-[-c-f-i.Z.[.z/O/g0V0W0X0Y0[0]0^0_0`0b0fS#od#p!P.P-b.R.S.T.U.i.o.q.v/^/c/h/i/m/n/v/x/z/}0O0Q0R0S'|dOTYZ[fistuwy}!O!S!T!U!V!Y!]!g!h!i!j!k!l!m!o!s!t!u!w!x#O#S#W#X#b#f#i#l#r#u$W$X$Z$]$`$p$r$s$u$|%Y%_%f%i%k%n%r%w%y&T&`&b&m&q&z&|&}'U'Y']'d'g'v'w'z'|'}(R(W(Y(^(b(g(h(n(q)O)Q)Y)])i)l)p)q)u)x*R*]*f*i*j*m*s*t*v*x*{*|+P+S+W+X+[+d+f+g+n+v+w+|,T,U,X,a,b,c,e,f,i,k,m,o,q,s,t,w-Y-[-c-f-i.Z.[.z/O/g0V0W0X0Y0[0]0^0_0`0b0fT#od#pT#c`#de(u&U&X&Z&](w(y({(},u-nT+](t+^T#ga#hT#jb#kT#mc#nQ$_xR,Y*UX$]x$^$_&xZlOs$u)x+|XpOs)x+|Q$v!XQ'W$mQ'X$nQ'j$xQ'm$zQ)v'_Q)|'dQ*O'eQ*P'fQ*^'lQ*`'nQ+q)lQ+s)mQ+t)nQ+x)tS+z)w*_Q+})zQ,O){Q,P)}Q-O+pQ-P+rQ-R+yQ-S+{Q-W,RQ-s-QQ-u-UQ-v-VQ.f-tQ.{.XR/f.|WpOs)x+|R#{oQ'l$yR)w'`Q,X*UR-[,YQ*_'lR+{)wZnOos)x+|Q'p${R*b'qT-`,`-au.W-b.R.S.U.i.o.q.v/^/c/h/i/m/v/x/}0O0Qt.W-b.R.S.U.i.o.q.v/^/c/h/i/m/v/x/}0O0QQ.w.TX/y/n/z0R0S!P.O-b.R.S.T.U.i.o.q.v/^/c/h/i/m/n/v/x/z/}0O0Q0R0SQ.l-}R/Y.mg.o.Q.p/U/]/b/p/r/t0P0T0Uu.V-b.R.S.U.i.o.q.v/^/c/h/i/m/v/x/}0O0QX.j-{.V/T/sR/V.iV/u/i/v0OR.|.XQsOS#}s+|R+|)xQ&p$TR)W&pS%x#V$VS(i%x(lT(l%{&rQ%l!}Q%s#RW(Z%l%s(`(dQ(`%pR(d%uQ&{$aR)^&{Q(o%|Q*}(jT+T(o*}Q'x%ZR*g'xS'{%^%_Y*k'{*l,g-g.]U*l'|'}(OU,g*m*n*oS-g,h,iR.]-hQ#^^R&P#^Q#a_R&R#aQ#d`R&V#dQ(r&SS+Y(r+ZR+Z(sQ+^(tR,v+^Q#haR&Y#hQ#kbR&[#kQ#ncR&^#nQ#pdR&_#pQ#sgQ&a#qW&d#s&a)Z+eQ)Z&uR+e0ZQ$^xS&w$^&xR&x$_Q'V$kR)j'VQ&i#xR)S&iQ$g!QR'P$gQ+i)bS,{+i-rR-r,|Q'T$iR)g'TQ#vkR&f#vQ)k'WR+o)kQ'Z$oS)r'Z)sR)s'[Q'c$vR)y'cQ'h$wS*S'h,VR,V*TQ,]*YR-_,]WoOs)x+|R#zoQ-a,`R-y-ad.p.Q/U/]/b/p/r/t0P0T0UR/[.pU.h-{/T/sR/S.hQ/o/bS/{/o/|R/|/pS/j/U/VR/w/jQ.r.QR/_.rR!_PXrOs)x+|WqOs)x+|R'a$uYkOs$u)x+|R&e#u[xOs#u$u)x+|R&v$]&bQOYZ[isuw}!O!S!T!U!Y!m!o!s!t!u!w!x#b#f#i#l#r#u$X$Z$]$`$s$u%Y%_%f%i%k%r%w%y&T&`&m&q&|&}'U']'d'g'v'w'z'|'}(R(Y(b(h(n(q)O)Q)Y)i)l)u)x*R*]*f*i*j*m*s*t*v*x*{*|+P+W+X+[+d+g+n+|,T,U,X,a,b,c,e,f,i,k,m,o,q,s,t,w-Y-[-c-f-i.Z.[/O/g0V0W0X0Y0[0]0^0_0b0fQ!rTQ#qfQ$OtU$ay%n(^S$o!V$rQ${!]Q%Q!gQ%R!hQ%S!iQ%T!jQ%U!kQ%V!lQ%p#OQ%u#SQ%{#WQ%|#XQ&r$WQ'[$pQ'q$|Q)P&bU)[&z)]+fW)o'Y)q+v+wQ*q(WQ*z(gQ+u)pQ,p+SQ/e.zR0Z0`Q!}YQ#RZQ$m!TQ$n!UQ%^!oQ(O%_^(V%k%r(Y(b*s*v*x^*h'z*j,e,f-f.[/OQ*n'|Q*o'}Q+r)lQ,d*iQ,h*mQ-d,bQ-e,cQ-h,iQ.Y-cR.}.Z[gOs#u$u)x+|!^!zYZ!T!U!o%_%k%r'z'|'}(Y(b)l*i*j*m*s*v*x,b,c,e,f,i-c-f.Z.[/OQ#V[Q#tiS$Vw}Q$d!OW$k!S$`'])uS$w!Y$sW%W!m'w*f,aY&S#b#f#i#l+[`&c#r&`)O)Q)Y+d,w0_Q&s$XQ&t$ZQ&u$]Q't%YQ(U%iW(f%w(h*{+PQ(j%yQ(s&TQ)U&mS)X&q0]Q)_&|Q)`&}U)h'U)i+nQ)}'dY*Q'g*R,T,U-YQ*d'vS*p(R0^W+R(n*|,m,qW+V(q+X,s,tQ,_*]Q,r+WQ,x+gQ-Z,XQ-l,oR-w-[hUOs#r#u$u&`&q(R)O)Q)x+|%S!yYZ[iw}!O!S!T!U!Y!m!o#b#f#i#l$X$Z$]$`$s%Y%_%i%k%r%w%y&T&m&|&}'U']'d'g'v'w'z'|'}(Y(b(h(n(q)Y)i)l)u*R*]*f*i*j*m*s*v*x*{*|+P+W+X+[+d+g+n,T,U,X,a,b,c,e,f,i,m,o,q,s,t,w-Y-[-c-f.Z.[/O0]0^0_Q$PuW%c!s!w0W0bQ%d!tQ%e!uQ%g!xQ%q0VS(Q%f0[Q(S0XQ(T0YQ,j*tQ-k,kS.^-i/gR0d0fU$Tv.`0eR)V&o[hOs#u$u)x+|a!|Y#b#f#i#l$]$`+[Q#[[Q$YwR$c}Q%m!}Q%t#RQ%z#VQ't%WQ(a%pQ(e%uQ(m%{Q(p%|Q+O(jQ-j,jQ.b-kR/Q.aQ$byQ(]%nR*u(^Q.a-iR/q/gR#UZR#Z[R%]!mQ%Z!mV*e'w*f,a!]!pQ!r#q$O$a$o${%Q%R%S%T%U%V%p%u%{%|&r'['q)P)[)o*q*z+u,p/e0ZR%`!oQ&U#bQ&X#fQ&Z#iQ&]#lR,u+[Q(v&UQ(x&XQ(z&ZQ(|&]Q+`(wQ+a(yQ+b({Q+c(}Q-m,uR.c-nQ$l!SQ&y$`Q)t']R+y)uQ#ymQ$e!PQ$h!QR'R$gQ)a'QR+l)dQ)a'QQ+k)cR+l)dR$j!RXqOs)x+|Q$q!VR'^$rQ$x!YR'_$sR*['kQ*Y'kV-],[-^-xQ.X-bQ.t.RR.u.SU.Q-b.R.SQ.y.UQ/U.iQ/Z.oU/].q/^/mQ/b.vQ/p/cQ/r/hU/t/i/v0OQ0P/xQ0T/}R0U0QR.x.TR/W.i",nodeNames:" print { { { { Comment Script AssignStatement * BinaryExpression BitOp BitOp BitOp BitOp ArithOp ArithOp @ ArithOp ** UnaryExpression ArithOp BitOp AwaitExpression await ) ( ParenthesizedExpression BinaryExpression or and CompareOp in not is UnaryExpression ConditionalExpression if else LambdaExpression lambda ParamList VariableName AssignOp , : NamedExpression AssignOp YieldExpression yield from TupleExpression ComprehensionExpression async for LambdaExpression ] [ ArrayExpression ArrayComprehensionExpression } { DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression CallExpression ArgList AssignOp MemberExpression . PropertyName Number String FormatString FormatReplacement FormatConversion FormatSpec FormatReplacement FormatReplacement FormatReplacement FormatReplacement ContinuedString Ellipsis None Boolean TypeDef AssignOp UpdateStatement UpdateOp ExpressionStatement DeleteStatement del PassStatement pass BreakStatement break ContinueStatement continue ReturnStatement return YieldStatement PrintStatement RaiseStatement raise ImportStatement import as ScopeStatement global nonlocal AssertStatement assert StatementGroup ; IfStatement Body elif WhileStatement while ForStatement TryStatement try except finally WithStatement with FunctionDefinition def ParamList AssignOp TypeDef ClassDefinition class DecoratedStatement Decorator At MatchStatement match MatchBody MatchClause case CapturePattern LiteralPattern ArithOp ArithOp AsPattern OrPattern LogicOp AttributePattern SequencePattern MappingPattern StarPattern ClassPattern PatternArgList KeywordPattern KeywordPattern Guard",maxTerm:277,context:eWt,nodeProps:[["group",-14,8,88,90,91,93,95,97,99,101,102,103,105,108,111,"Statement Statement",-22,10,20,23,27,42,51,52,58,59,62,63,64,65,66,69,72,73,74,82,83,84,85,"Expression",-10,113,115,118,120,121,125,127,132,134,137,"Statement",-9,142,143,146,147,149,150,151,152,153,"Pattern"],["openedBy",25,"(",56,"[",60,"{"],["closedBy",26,")",57,"]",61,"}"]],propSources:[sWt],skippedNodes:[0,6],repeatNodeCount:37,tokenData:"%-W#sR!`OX%TXY=|Y[%T[]=|]p%Tpq=|qr@_rsDOst!+|tu%Tuv!Nnvw#!|wx#$Wxy#:Uyz#;Yz{#<^{|#>x|}#@S}!O#AW!O!P#Ci!P!Q#N_!Q!R$!y!R![$&w![!]$1e!]!^$3s!^!_$4w!_!`$7c!`!a$8m!a!b%T!b!c$;U!c!d$<b!d!e$>W!e!h$<b!h!i$H[!i!t$<b!t!u%#r!u!w$<b!w!x$Fl!x!}$<b!}#O%%z#O#P?d#P#Q%'O#Q#R%(S#R#S$<b#S#T%T#T#U$<b#U#V$>W#V#Y$<b#Y#Z$H[#Z#f$<b#f#g%#r#g#i$<b#i#j$Fl#j#o$<b#o#p%)^#p#q%*S#q#r%+^#r#s%,S#s$g%T$g;'S$<b;'S;=`$>Q<%lO$<b!n%^]&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!n&^]&m!b&eSOr%Trs'Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!n'^]&m!b&eSOr%Trs(Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!f(^Z&m!b&eSOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V!f)UZ&m!bOw(Vwx)wx#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V!f)|Z&m!bOw(Vwx*ox#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V!b*tT&m!bO#o*o#p#q*o#r;'S*o;'S;=`+T<%lO*o!b+WP;=`<%l*o!f+`W&m!bO#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`.d;=`<%l+x<%lO(VS+}V&eSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xS,gVOw+xwx,|x#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xS-PUOw+xx#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xS-fRO;'S+x;'S;=`-o;=`O+xS-tW&eSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l+x<%lO+xS.aP;=`<%l+x!f.iW&eSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l(V<%lO+x!f/UP;=`<%l(V!n/`]&m!b&hWOr%Trs&Vsw%Twx0Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!n0`]&m!b&hWOr%Trs&Vsw%Twx1Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!j1`Z&m!b&hWOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X!j2WZ&m!bOr1Xrs2ys#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X!j3OZ&m!bOr1Xrs*os#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X!j3vW&m!bO#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`6z;=`<%l4`<%lO1XW4eV&hWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`W4}VOr4`rs5ds#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`W5gUOr4`s#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`W5|RO;'S4`;'S;=`6V;=`O4`W6[W&hWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l4`<%lO4`W6wP;=`<%l4`!j7PW&hWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l1X<%lO4`!j7lP;=`<%l1X!n7tW&m!bO#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=P;=`<%l8^<%lO%T[8eX&eS&hWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[9VX&eSOr8^rs9rsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[9wX&eSOr8^rs+xsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[:iX&hWOr8^rs9Qsw8^wx;Ux#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[;ZX&hWOr8^rs9Qsw8^wx4`x#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^[;yRO;'S8^;'S;=`<S;=`O8^[<ZY&eS&hWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l8^<%lO8^[<|P;=`<%l8^!n=WY&eS&hWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l%T<%lO8^!n=yP;=`<%l%T#s>Xc&m!b&eS&hW%k!TOX%TXY=|Y[%T[]=|]p%Tpq=|qr%Trs&Vsw%Twx/Xx#O%T#O#P?d#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s?i[&m!bOY%TYZ=|Z]%T]^=|^#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=P;=`<%l8^<%lO%T!q@hd&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`Av!`#O%T#O#P7o#P#T%T#T#UBz#U#f%T#f#gBz#g#hBz#h#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!qBR]oR&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!qCV]!nR&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#cDXa&m!b&eS&csOYE^YZ%TZ]E^]^%T^rE^rs!)|swE^wxGpx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#cEia&m!b&eS&hW&csOYE^YZ%TZ]E^]^%T^rE^rsFnswE^wxGpx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#cFw]&m!b&eS&csOr%Trs'Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#cGya&m!b&hW&csOYE^YZ%TZ]E^]^%T^rE^rsFnswE^wxIOx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#cIXa&m!b&hW&csOYE^YZ%TZ]E^]^%T^rE^rsFnswE^wxJ^x#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#_Jg_&m!b&hW&csOYJ^YZ1XZ]J^]^1X^rJ^rsKfs#OJ^#O#PL`#P#oJ^#o#pL}#p#qJ^#q#rL}#r;'SJ^;'S;=`!!o<%lOJ^#_KmZ&m!b&csOr1Xrs2ys#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#_LeW&m!bO#oJ^#o#pL}#p#qJ^#q#rL}#r;'SJ^;'S;=`! r;=`<%lL}<%lOJ^{MUZ&hW&csOYL}YZ4`Z]L}]^4`^rL}rsMws#OL}#O#PNc#P;'SL};'S;=`! l<%lOL}{M|V&csOr4`rs5ds#O4`#O#P5y#P;'S4`;'S;=`6t<%lO4`{NfRO;'SL};'S;=`No;=`OL}{Nv[&hW&csOYL}YZ4`Z]L}]^4`^rL}rsMws#OL}#O#PNc#P;'SL};'S;=`! l;=`<%lL}<%lOL}{! oP;=`<%lL}#_! y[&hW&csOYL}YZ4`Z]L}]^4`^rL}rsMws#OL}#O#PNc#P;'SL};'S;=`! l;=`<%lJ^<%lOL}#_!!rP;=`<%lJ^#c!!zW&m!bO#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!(q;=`<%l!#d<%lOE^!P!#m]&eS&hW&csOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!%Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k<%lO!#d!P!$mX&eS&csOr8^rs9rsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^!P!%a]&hW&csOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!&Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k<%lO!#d!P!&a]&hW&csOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwxL}x#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k<%lO!#d!P!']RO;'S!#d;'S;=`!'f;=`O!#d!P!'o^&eS&hW&csOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!%Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k;=`<%l!#d<%lO!#d!P!(nP;=`<%l!#d#c!(z^&eS&hW&csOY!#dYZ8^Z]!#d]^8^^r!#drs!$fsw!#dwx!%Yx#O!#d#O#P!'Y#P;'S!#d;'S;=`!(k;=`<%lE^<%lO!#d#c!)yP;=`<%lE^#c!*V]&m!b&eS&csOr%Trs!+Osw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c!+ZZ&iW&m!b&eS&gsOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#s!,XaU!T&m!b&eS&hWOY!+|YZ%TZ]!+|]^%T^r!+|rs!-^sw!+|wx!:hx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#s!-gaU!T&m!b&eSOY!+|YZ%TZ]!+|]^%T^r!+|rs!.lsw!+|wx!:hx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#s!.uaU!T&m!b&eSOY!+|YZ%TZ]!+|]^%T^r!+|rs!/zsw!+|wx!:hx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#k!0T_U!T&m!b&eSOY!/zYZ(VZ]!/z]^(V^w!/zwx!1Sx#O!/z#O#P!4z#P#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!:b<%lO!/z#k!1Z_U!T&m!bOY!/zYZ(VZ]!/z]^(V^w!/zwx!2Yx#O!/z#O#P!4z#P#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!:b<%lO!/z#k!2a_U!T&m!bOY!/zYZ(VZ]!/z]^(V^w!/zwx!3`x#O!/z#O#P!4z#P#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!:b<%lO!/z#g!3gZU!T&m!bOY!3`YZ*oZ]!3`]^*o^#o!3`#o#p!4Y#p#q!3`#q#r!4Y#r;'S!3`;'S;=`!4t<%lO!3`!T!4_TU!TOY!4YZ]!4Y^;'S!4Y;'S;=`!4n<%lO!4Y!T!4qP;=`<%l!4Y#g!4wP;=`<%l!3`#k!5R[U!T&m!bOY!/zYZ(VZ]!/z]^(V^#o!/z#o#p!5w#p#q!/z#q#r!5w#r;'S!/z;'S;=`!9s;=`<%l+x<%lO!/z!X!6OZU!T&eSOY!5wYZ+xZ]!5w]^+x^w!5wwx!6qx#O!5w#O#P!8a#P;'S!5w;'S;=`!9m<%lO!5w!X!6vZU!TOY!5wYZ+xZ]!5w]^+x^w!5wwx!7ix#O!5w#O#P!8a#P;'S!5w;'S;=`!9m<%lO!5w!X!7nZU!TOY!5wYZ+xZ]!5w]^+x^w!5wwx!4Yx#O!5w#O#P!8a#P;'S!5w;'S;=`!9m<%lO!5w!X!8fWU!TOY!5wYZ+xZ]!5w]^+x^;'S!5w;'S;=`!9O;=`<%l+x<%lO!5w!X!9TW&eSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l!5w<%lO+x!X!9pP;=`<%l!5w#k!9xW&eSOw+xwx,dx#O+x#O#P-c#P;'S+x;'S;=`.^;=`<%l!/z<%lO+x#k!:eP;=`<%l!/z#s!:qaU!T&m!b&hWOY!+|YZ%TZ]!+|]^%T^r!+|rs!-^sw!+|wx!;vx#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#s!<PaU!T&m!b&hWOY!+|YZ%TZ]!+|]^%T^r!+|rs!-^sw!+|wx!=Ux#O!+|#O#P!FW#P#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Nh<%lO!+|#o!=__U!T&m!b&hWOY!=UYZ1XZ]!=U]^1X^r!=Urs!>^s#O!=U#O#P!@j#P#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!FQ<%lO!=U#o!>e_U!T&m!bOY!=UYZ1XZ]!=U]^1X^r!=Urs!?ds#O!=U#O#P!@j#P#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!FQ<%lO!=U#o!?k_U!T&m!bOY!=UYZ1XZ]!=U]^1X^r!=Urs!3`s#O!=U#O#P!@j#P#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!FQ<%lO!=U#o!@q[U!T&m!bOY!=UYZ1XZ]!=U]^1X^#o!=U#o#p!Ag#p#q!=U#q#r!Ag#r;'S!=U;'S;=`!Ec;=`<%l4`<%lO!=U!]!AnZU!T&hWOY!AgYZ4`Z]!Ag]^4`^r!Agrs!Bas#O!Ag#O#P!DP#P;'S!Ag;'S;=`!E]<%lO!Ag!]!BfZU!TOY!AgYZ4`Z]!Ag]^4`^r!Agrs!CXs#O!Ag#O#P!DP#P;'S!Ag;'S;=`!E]<%lO!Ag!]!C^ZU!TOY!AgYZ4`Z]!Ag]^4`^r!Agrs!4Ys#O!Ag#O#P!DP#P;'S!Ag;'S;=`!E]<%lO!Ag!]!DUWU!TOY!AgYZ4`Z]!Ag]^4`^;'S!Ag;'S;=`!Dn;=`<%l4`<%lO!Ag!]!DsW&hWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l!Ag<%lO4`!]!E`P;=`<%l!Ag#o!EhW&hWOr4`rs4zs#O4`#O#P5y#P;'S4`;'S;=`6t;=`<%l!=U<%lO4`#o!FTP;=`<%l!=U#s!F_[U!T&m!bOY!+|YZ%TZ]!+|]^%T^#o!+|#o#p!GT#p#q!+|#q#r!GT#r;'S!+|;'S;=`!Mq;=`<%l8^<%lO!+|!a!G^]U!T&eS&hWOY!GTYZ8^Z]!GT]^8^^r!GTrs!HVsw!GTwx!JVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!H^]U!T&eSOY!GTYZ8^Z]!GT]^8^^r!GTrs!IVsw!GTwx!JVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!I^]U!T&eSOY!GTYZ8^Z]!GT]^8^^r!GTrs!5wsw!GTwx!JVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!J^]U!T&hWOY!GTYZ8^Z]!GT]^8^^r!GTrs!HVsw!GTwx!KVx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!K^]U!T&hWOY!GTYZ8^Z]!GT]^8^^r!GTrs!HVsw!GTwx!Agx#O!GT#O#P!LV#P;'S!GT;'S;=`!Mk<%lO!GT!a!L[WU!TOY!GTYZ8^Z]!GT]^8^^;'S!GT;'S;=`!Lt;=`<%l8^<%lO!GT!a!L{Y&eS&hWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l!GT<%lO8^!a!MnP;=`<%l!GT#s!MxY&eS&hWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y;=`<%l!+|<%lO8^#s!NkP;=`<%l!+|#b!Ny_%zQ&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b#!T]!{r&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b##X_%tQ&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#$aa&m!b&hW&csOY#%fYZ%TZ]#%f]^%T^r#%frs#&vsw#%fwx#8Ux#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c#%qa&m!b&eS&hW&csOY#%fYZ%TZ]#%f]^%T^r#%frs#&vsw#%fwx#/{x#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c#'Pa&m!b&eS&csOY#%fYZ%TZ]#%f]^%T^r#%frs#(Usw#%fwx#/{x#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c#(_a&m!b&eS&csOY#%fYZ%TZ]#%f]^%T^r#%frs#)dsw#%fwx#/{x#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#Z#)m_&m!b&eS&csOY#)dYZ(VZ]#)d]^(V^w#)dwx#*lx#O#)d#O#P#+f#P#o#)d#o#p#,T#p#q#)d#q#r#,T#r;'S#)d;'S;=`#/u<%lO#)d#Z#*sZ&m!b&csOw(Vwx)wx#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#Z#+kW&m!bO#o#)d#o#p#,T#p#q#)d#q#r#,T#r;'S#)d;'S;=`#.x;=`<%l#,T<%lO#)dw#,[Z&eS&csOY#,TYZ+xZ]#,T]^+x^w#,Twx#,}x#O#,T#O#P#-i#P;'S#,T;'S;=`#.r<%lO#,Tw#-SV&csOw+xwx,|x#O+x#O#P-c#P;'S+x;'S;=`.^<%lO+xw#-lRO;'S#,T;'S;=`#-u;=`O#,Tw#-|[&eS&csOY#,TYZ+xZ]#,T]^+x^w#,Twx#,}x#O#,T#O#P#-i#P;'S#,T;'S;=`#.r;=`<%l#,T<%lO#,Tw#.uP;=`<%l#,T#Z#/P[&eS&csOY#,TYZ+xZ]#,T]^+x^w#,Twx#,}x#O#,T#O#P#-i#P;'S#,T;'S;=`#.r;=`<%l#)d<%lO#,T#Z#/xP;=`<%l#)d#c#0U]&m!b&hW&csOr%Trs&Vsw%Twx0Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#1SW&m!bO#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#6y;=`<%l#1l<%lO#%f!P#1u]&eS&hW&csOY#1lYZ8^Z]#1l]^8^^r#1lrs#2nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s<%lO#1l!P#2u]&eS&csOY#1lYZ8^Z]#1l]^8^^r#1lrs#3nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s<%lO#1l!P#3u]&eS&csOY#1lYZ8^Z]#1l]^8^^r#1lrs#,Tsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s<%lO#1l!P#4uX&hW&csOr8^rs9Qsw8^wx;Ux#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^!P#5eRO;'S#1l;'S;=`#5n;=`O#1l!P#5w^&eS&hW&csOY#1lYZ8^Z]#1l]^8^^r#1lrs#2nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s;=`<%l#1l<%lO#1l!P#6vP;=`<%l#1l#c#7S^&eS&hW&csOY#1lYZ8^Z]#1l]^8^^r#1lrs#2nsw#1lwx#4nx#O#1l#O#P#5b#P;'S#1l;'S;=`#6s;=`<%l#%f<%lO#1l#c#8RP;=`<%l#%f#c#8_]&m!b&hW&csOr%Trs&Vsw%Twx#9Wx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#9cZ&fS&m!b&hW&dsOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#c#:a]js&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q#;e]iR&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#<iaXs&m!b&eS&hWOr%Trs&Vsw%Twx/Xxz%Tz{#=n{!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#=y_cR&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#?T_%ws&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q#@_]|R&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s#Ac`%xs&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`!a#Be!a#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#O#Bp]&{`&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#Cta!hQ&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!O%T!O!P#Dy!P!Q%T!Q![#GV![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#ES_&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!O%T!O!P#FR!P#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#F^]!us&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Gbi!jq&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#GV![!g%T!g!h#IP!h!l%T!l!m#MZ!m#O%T#O#P7o#P#R%T#R#S#GV#S#X%T#X#Y#IP#Y#^%T#^#_#MZ#_#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#IYc&m!b&eS&hWOr%Trs&Vsw%Twx/Xx{%T{|#Je|}%T}!O#Je!O!Q%T!Q![#Km![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Jn_&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#Km![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Kxe!jq&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#Km![!l%T!l!m#MZ!m#O%T#O#P7o#P#R%T#R#S#Km#S#^%T#^#_#MZ#_#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a#Mf]!jq&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c#Nja%yR&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!P%T!P!Q$ o!Q!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b$ z_%{Q&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$#Uw!jq&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!O%T!O!P$%o!P!Q%T!Q![$&w![!d%T!d!e$(w!e!g%T!g!h#IP!h!l%T!l!m#MZ!m!q%T!q!r$+m!r!z%T!z!{$.]!{#O%T#O#P7o#P#R%T#R#S$&w#S#U%T#U#V$(w#V#X%T#X#Y#IP#Y#^%T#^#_#MZ#_#c%T#c#d$+m#d#l%T#l#m$.]#m#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$%x_&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!Q%T!Q![#GV![#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$'Sk!jq&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!O%T!O!P$%o!P!Q%T!Q![$&w![!g%T!g!h#IP!h!l%T!l!m#MZ!m#O%T#O#P7o#P#R%T#R#S$&w#S#X%T#X#Y#IP#Y#^%T#^#_#MZ#_#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$)Qb&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!Q%T!Q!R$*Y!R!S$*Y!S#O%T#O#P7o#P#R%T#R#S$*Y#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$*eb!jq&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!Q%T!Q!R$*Y!R!S$*Y!S#O%T#O#P7o#P#R%T#R#S$*Y#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$+va&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!Q%T!Q!Y$,{!Y#O%T#O#P7o#P#R%T#R#S$,{#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$-Wa!jq&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!Q%T!Q!Y$,{!Y#O%T#O#P7o#P#R%T#R#S$,{#S#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$.fe&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!Q%T!Q![$/w![!c%T!c!i$/w!i#O%T#O#P7o#P#R%T#R#S$/w#S#T%T#T#Z$/w#Z#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a$0Se!jq&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!Q%T!Q![$/w![!c%T!c!i$/w!i#O%T#O#P7o#P#R%T#R#S$/w#S#T%T#T#Z$/w#Z#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s$1p_}!T&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`$2o!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q$2z]&TR&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$4O]#fs&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$5SaoR&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!^%T!^!_$6X!_!`Av!`!aAv!a#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b$6d_%uQ&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$7n_&Ss&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`Av!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$8x`oR&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`Av!`!a$9z!a#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b$:V_%vQ&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$;c_aQ#|P&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#s$<oe&m!b&eS&hW&b`%}sOr%Trs&Vsw%Twx/Xx!Q%T!Q![$<b![!c%T!c!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#s$>TP;=`<%l$<b#s$>ei&m!b&eS&hW&b`%}sOr%Trs$@Ssw%Twx$C`x!Q%T!Q![$<b![!c%T!c!t$<b!t!u$Fl!u!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#f$<b#f#g$Fl#g#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#c$@]a&m!b&eS&csOYE^YZ%TZ]E^]^%T^rE^rs$AbswE^wxGpx#OE^#O#P!!u#P#oE^#o#p!#d#p#qE^#q#r!#d#r;'SE^;'S;=`!)v<%lOE^#c$Ak]&m!b&eS&csOr%Trs$Bdsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#Z$BmZ&m!b&eS&gsOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#c$Cia&m!b&hW&csOY#%fYZ%TZ]#%f]^%T^r#%frs#&vsw#%fwx$Dnx#O#%f#O#P#0}#P#o#%f#o#p#1l#p#q#%f#q#r#1l#r;'S#%f;'S;=`#8O<%lO#%f#c$Dw]&m!b&hW&csOr%Trs&Vsw%Twx$Epx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#_$EyZ&m!b&hW&dsOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#s$Fye&m!b&eS&hW&b`%}sOr%Trs$@Ssw%Twx$C`x!Q%T!Q![$<b![!c%T!c!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#s$Hii&m!b&eS&hW&b`%}sOr%Trs$JWsw%Twx$MUx!Q%T!Q![$<b![!c%T!c!t$<b!t!u%!S!u!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#f$<b#f#g%!S#g#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#c$Ja]&m!b&eS&nsOr%Trs$KYsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$Ka]&m!b&eSOr%Trs$LYsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#Z$LcZ&m!b&eS&psOw(Vwx)Px#O(V#O#P+Z#P#o(V#o#p+x#p#q(V#q#r+x#r;'S(V;'S;=`/R<%lO(V#c$M_]&m!b&hW&jsOr%Trs&Vsw%Twx$NWx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#c$N_]&m!b&hWOr%Trs&Vsw%Twx% Wx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#_% aZ&m!b&hW&osOr1Xrs2Rs#O1X#O#P3q#P#o1X#o#p4`#p#q1X#q#r4`#r;'S1X;'S;=`7i<%lO1X#s%!ae&m!b&eS&hW&b`%}sOr%Trs$JWsw%Twx$MUx!Q%T!Q![$<b![!c%T!c!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#s%$Pm&m!b&eS&hW&b`%}sOr%Trs$@Ssw%Twx$C`x!Q%T!Q![$<b![!c%T!c!h$<b!h!i%!S!i!t$<b!t!u$Fl!u!}$<b!}#O%T#O#P7o#P#R%T#R#S$<b#S#T%T#T#U$<b#U#V$Fl#V#Y$<b#Y#Z%!S#Z#o$<b#o#p8^#p#q%T#q#r8^#r$g%T$g;'S$<b;'S;=`$>Q<%lO$<b#c%&V]!Zs&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q%'Z]!YR&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#b%(__%sQ&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T#a%)gX!_#T&eS&hWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^#c%*__%rR&m!b&eS&hWOr%Trs&Vsw%Twx/Xx!_%T!_!`# x!`#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T!q%+gX!^!e&eS&hWOr8^rs9Qsw8^wx:dx#O8^#O#P;v#P;'S8^;'S;=`<y<%lO8^#a%,_]%|q&m!b&eS&hWOr%Trs&Vsw%Twx/Xx#O%T#O#P7o#P#o%T#o#p8^#p#q%T#q#r8^#r;'S%T;'S;=`=v<%lO%T",tokenizers:[tWt,GBt,ZBt,nWt,rWt,iWt,oWt,0,1,2,3,4,5,6],topRules:{Script:[0,7]},specialized:[{term:229,get:e=>aWt[e]||-1}],tokenPrec:7205}),ybe=new Are,R8e=new Set(["Script","Body","FunctionDefinition","ClassDefinition","LambdaExpression","ForStatement","MatchClause"]);function sN(e){return(t,n,r)=>{if(r)return!1;let i=t.node.getChild("VariableName");return i&&n(i,e),!0}}const cWt={FunctionDefinition:sN("function"),ClassDefinition:sN("class"),ForStatement(e,t,n){if(n){for(let r=e.node.firstChild;r;r=r.nextSibling)if(r.name=="VariableName")t(r,"variable");else if(r.name=="in")break}},ImportStatement(e,t){var n,r;let{node:i}=e,o=((n=i.firstChild)===null||n===void 0?void 0:n.name)=="from";for(let s=i.getChild("import");s;s=s.nextSibling)s.name=="VariableName"&&((r=s.nextSibling)===null||r===void 0?void 0:r.name)!="as"&&t(s,o?"variable":"namespace")},AssignStatement(e,t){for(let n=e.node.firstChild;n;n=n.nextSibling)if(n.name=="VariableName")t(n,"variable");else if(n.name==":"||n.name=="AssignOp")break},ParamList(e,t){for(let n=null,r=e.node.firstChild;r;r=r.nextSibling)r.name=="VariableName"&&(!n||!/\*|AssignOp/.test(n.name))&&t(r,"variable"),n=r},CapturePattern:sN("variable"),AsPattern:sN("variable"),__proto__:null};function A8e(e,t){let n=ybe.get(t);if(n)return n;let r=[],i=!0;function o(s,a){let l=e.sliceString(s.from,s.to);r.push({label:l,type:a})}return t.cursor(Dr.IncludeAnonymous).iterate(s=>{if(s.name){let a=cWt[s.name];if(a&&a(s,o,i)||!i&&R8e.has(s.name))return!1;i=!1}else if(s.to-s.from>8192){for(let a of A8e(e,s.node))r.push(a);return!1}}),ybe.set(t,r),r}const vbe=/^[\w\xa1-\uffff][\w\d\xa1-\uffff]*$/,D8e=["String","FormatString","Comment","PropertyName"];function Roe(e){let t=br(e.state).resolveInner(e.pos,-1);if(D8e.indexOf(t.name)>-1)return null;let n=t.name=="VariableName"||t.to-t.from<20&&vbe.test(e.state.sliceDoc(t.from,t.to));if(!n&&!e.explicit)return null;let r=[];for(let i=t;i;i=i.parent)R8e.has(i.name)&&(r=r.concat(A8e(e.state.doc,i)));return{options:r,from:n?t.from:e.pos,validFor:vbe}}const uWt=["__annotations__","__builtins__","__debug__","__doc__","__import__","__name__","__loader__","__package__","__spec__","False","None","True"].map(e=>({label:e,type:"constant"})).concat(["ArithmeticError","AssertionError","AttributeError","BaseException","BlockingIOError","BrokenPipeError","BufferError","BytesWarning","ChildProcessError","ConnectionAbortedError","ConnectionError","ConnectionRefusedError","ConnectionResetError","DeprecationWarning","EOFError","Ellipsis","EncodingWarning","EnvironmentError","Exception","FileExistsError","FileNotFoundError","FloatingPointError","FutureWarning","GeneratorExit","IOError","ImportError","ImportWarning","IndentationError","IndexError","InterruptedError","IsADirectoryError","KeyError","KeyboardInterrupt","LookupError","MemoryError","ModuleNotFoundError","NameError","NotADirectoryError","NotImplemented","NotImplementedError","OSError","OverflowError","PendingDeprecationWarning","PermissionError","ProcessLookupError","RecursionError","ReferenceError","ResourceWarning","RuntimeError","RuntimeWarning","StopAsyncIteration","StopIteration","SyntaxError","SyntaxWarning","SystemError","SystemExit","TabError","TimeoutError","TypeError","UnboundLocalError","UnicodeDecodeError","UnicodeEncodeError","UnicodeError","UnicodeTranslateError","UnicodeWarning","UserWarning","ValueError","Warning","ZeroDivisionError"].map(e=>({label:e,type:"type"}))).concat(["bool","bytearray","bytes","classmethod","complex","float","frozenset","int","list","map","memoryview","object","range","set","staticmethod","str","super","tuple","type"].map(e=>({label:e,type:"class"}))).concat(["abs","aiter","all","anext","any","ascii","bin","breakpoint","callable","chr","compile","delattr","dict","dir","divmod","enumerate","eval","exec","exit","filter","format","getattr","globals","hasattr","hash","help","hex","id","input","isinstance","issubclass","iter","len","license","locals","max","min","next","oct","open","ord","pow","print","property","quit","repr","reversed","round","setattr","slice","sorted","sum","vars","zip"].map(e=>({label:e,type:"function"}))),fWt=[Si("def ${name}(${params}):\n	${}",{label:"def",detail:"function",type:"keyword"}),Si("for ${name} in ${collection}:\n	${}",{label:"for",detail:"loop",type:"keyword"}),Si("while ${}:\n	${}",{label:"while",detail:"loop",type:"keyword"}),Si("try:\n	${}\nexcept ${error}:\n	${}",{label:"try",detail:"/ except block",type:"keyword"}),Si(`if \${}:
	
`,{label:"if",detail:"block",type:"keyword"}),Si("if ${}:\n	${}\nelse:\n	${}",{label:"if",detail:"/ else block",type:"keyword"}),Si("class ${name}:\n	def __init__(self, ${params}):\n			${}",{label:"class",detail:"definition",type:"keyword"}),Si("import ${module}",{label:"import",detail:"statement",type:"keyword"}),Si("from ${module} import ${names}",{label:"from",detail:"import",type:"keyword"})],Aoe=n8e(D8e,Ooe(uWt.concat(fWt)));function bbe(e,t){let n=e.baseIndentFor(t),r=e.lineAt(e.pos,-1),i=r.from+r.text.length;return/^\s*($|#)/.test(r.text)&&e.node.to<i+100&&!/\S/.test(e.state.sliceDoc(i,e.node.to))&&e.lineIndent(e.pos,-1)<=n||/^\s*(else:|elif |except |finally:)/.test(e.textAfter)&&e.lineIndent(e.pos,-1)>n?null:n+e.unit}const Rw=tb.define({name:"python",parser:lWt.configure({props:[eC.add({Body:e=>{var t;return(t=bbe(e,e.node))!==null&&t!==void 0?t:e.continue()},IfStatement:e=>/^\s*(else:|elif )/.test(e.textAfter)?e.baseIndent:e.continue(),TryStatement:e=>/^\s*(except |finally:|else:)/.test(e.textAfter)?e.baseIndent:e.continue(),"TupleExpression ComprehensionExpression ParamList ArgList ParenthesizedExpression":rI({closing:")"}),"DictionaryExpression DictionaryComprehensionExpression SetExpression SetComprehensionExpression":rI({closing:"}"}),"ArrayExpression ArrayComprehensionExpression":rI({closing:"]"}),"String FormatString":()=>null,Script:e=>{if(e.pos+/\s*/.exec(e.textAfter)[0].length>=e.node.to){let t=null;for(let n=e.node,r=n.to;n=n.lastChild,!(!n||n.to!=r);)n.type.name=="Body"&&(t=n);if(t){let n=bbe(e,t);if(n!=null)return n}}return e.continue()}}),R0.add({"ArrayExpression DictionaryExpression SetExpression TupleExpression":m2,Body:(e,t)=>({from:e.from+1,to:e.to-(e.to==t.doc.length?0:1)})})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"'''",'"""'],stringPrefixes:["f","fr","rf","r","u","b","br","rb","F","FR","RF","R","U","B","BR","RB"]},commentTokens:{line:"#"},indentOnInput:/^\s*([\}\]\)]|else:|elif |except |finally:)$/}});function Doe(){return new Jy(Rw,[Rw.data.of({autocomplete:Roe}),Rw.data.of({autocomplete:Aoe})])}const dWt=Object.freeze(Object.defineProperty({__proto__:null,globalCompletion:Aoe,localCompletionSource:Roe,python:Doe,pythonLanguage:Rw},Symbol.toStringTag,{value:"Module"}));function Obe(e){if(!e)return null;const t=document.createElement("span");return t.classList.add("mo-cm-tooltip"),t.classList.add("docs-documentation"),t.style.display="flex",t.style.flexDirection="column",t.style.gap=".8rem",t.innerHTML=e,t}const Noe=new Hte("autocomplete-result",async(e,t)=>{await l0t({id:e,...t})},{resolveExistingRequests:()=>null}),AH={asCompletionResult(e,t){return{from:e-t.prefix_length,options:t.options.map(n=>({label:n.name,type:n.type,info:()=>Obe(n.completion_info)})),validFor:/^\w*$/}},asHoverTooltip({position:e,message:t,limitToType:n,excludeTypes:r,exactName:i}){const o=hWt(t.options,i);if(!o)return;const s=e-t.prefix_length,a=Obe(o.completion_info);if(a&&!(n&&o.type!==n)&&!(r&&r.includes(o.type)))return{pos:s,html:o.completion_info,end:s+o.name.length,above:!0,create:()=>({dom:a,resize:!1})}}};function hWt(e,t){if(e.length!==0){if(e.length===1)return e[0];if(t)return e.find(n=>n.name===t)}}const Moe=Nn({documentation:null});async function pWt(e){const t=e.state.doc.sliceString(0,e.pos),n=document.activeElement;let r=null;if(n!==null){const s=Yf.findElement(n);s!==null&&(r=Yf.parse(s.id))}if(r===null)return Ut.error("Failed to find active cell."),null;const i=await Noe.request({document:t,cellId:r});if(!i)return null;const o=AH.asHoverTooltip({position:e.pos,message:i,limitToType:"tooltip"});return o&&Tn.set(Moe,{documentation:o.html??null}),o?null:AH.asCompletionResult(e.pos,i)}class gWt{constructor(){be(this,"type","python")}transformIn(t){return[t,0]}transformOut(t){return[t,0]}isSupported(t){return!0}getExtension(t){return[T7({activateOnTyping:t.activate_on_typing,closeOnBlur:!1,override:[pWt]}),N8e()]}}const hW=Rw.configure({props:[R0.add({ParenthesizedExpression:m2,ArgList:m2})]});function N8e(){return new Jy(hW,[hW.data.of({autocomplete:Roe}),hW.data.of({autocomplete:Aoe})])}const Ioe=O.memo(e=>{const{theme:t}=_0(),{code:n,className:r,initiallyHideCode:i,...o}=e,[s,a]=O.useState(i);return b.jsxs("div",{className:ve("relative hover-actions-parent w-full",r),children:[s&&b.jsx(M8e,{onClick:()=>a(!1)}),!s&&b.jsx(mWt,{text:n}),b.jsx(C8e,{...o,className:ve("cm",s&&"opacity-20 h-8 overflow-hidden"),theme:t==="dark"?"dark":"light",height:"100%",editable:!s,extensions:[N8e(),nt.lineWrapping],value:n,readOnly:!0})]})});Ioe.displayName="ReadonlyPythonCode";const mWt=e=>{const t=fg.stopPropagation(()=>{navigator.clipboard.writeText(e.text),Yr({title:"Copied to clipboard"})});return b.jsx(zt,{onClick:t,className:"absolute top-0 right-0 m-2 z-10 hover-action",size:"xs",variant:"secondary",children:b.jsx(HP,{size:14,strokeWidth:1.5})})},M8e=e=>b.jsx("div",{className:"absolute inset-0 z-10",onClick:e.onClick,children:b.jsx(ENe,{className:"hover-action w-5 h-5 text-muted-foreground cursor-pointer absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 opacity-80 hover:opacity-100"})}),yWt=({transforms:e,dataframeName:t})=>e?b.jsx(Ioe,{minHeight:"215px",maxHeight:"215px",code:f9t(t,e.transforms)}):null,vWt=c6("marimo-dataframe").withData(H.object({label:H.string().nullish(),dataframeName:H.string(),columns:H.object({}).passthrough().transform(e=>e)})).withFunctions({get_dataframe:Z5.input(H.object({})).output(H.object({url:H.string(),has_more:H.boolean(),total_rows:H.number(),row_headers:H.array(H.tuple([H.string(),H.array(H.any())]))})),get_column_values:Z5.input(H.object({column:H.string()})).output(H.object({values:H.array(H.any()),too_many_values:H.boolean()}))}).renderer(e=>b.jsx(Q_,{children:b.jsx(OWt,{...e.data,...e.functions,value:e.value,setValue:e.setValue})})),bWt={transforms:[]},OWt=({columns:e,dataframeName:t,value:n,setValue:r,get_dataframe:i,get_column_values:o})=>{const{data:s,error:a}=N0(()=>i({}),[n==null?void 0:n.transforms]),{url:l,has_more:c,total_rows:u,row_headers:f}=s||{},[d,h]=O.useState(n||bWt);return b.jsxs("div",{children:[b.jsxs(T6e,{defaultValue:"transform",children:[b.jsxs(Bie,{className:"h-8",children:[b.jsxs(F3,{value:"transform",className:"text-xs py-1",children:[b.jsx(K4,{className:"w-3 h-3 mr-2"}),"Transform"]}),b.jsxs(F3,{value:"code",className:"text-xs py-1",children:[b.jsx(sne,{className:"w-3 h-3 mr-2"}),"Code"]})]}),b.jsx(z3,{value:"transform",className:"mt-1 border rounded-t overflow-hidden",children:b.jsx(l9t,{initialValue:d,columns:e,onChange:p=>{r(p),h(p)},onInvalidChange:h,getColumnValues:o})}),b.jsx(z3,{value:"code",className:"mt-1 border rounded-t overflow-hidden",children:b.jsx(yWt,{dataframeName:t,transforms:n})})]}),a&&b.jsx(dIe,{error:a}),c&&u&&b.jsxs(y6,{children:["Result clipped. Total rows ",xWt(u),"."]}),b.jsx(b6e,{label:null,className:"rounded-b border-x border-b",data:l||"",pageSize:5,pagination:!0,rowHeaders:f||n0e.EMPTY,showDownload:!1,download_as:If.THROW,value:n0e.EMPTY,setValue:If.NOOP,selection:null})]})};function xWt(e){return new Intl.NumberFormat().format(e)}function I8e(e){const t=/(\w+)=%{([^}]+)}/g,n={};let r;for(;(r=t.exec(e))!==null;)n[r[1]]=r[2];return{update(i){return i===e?this:I8e(i)},parse(i){return Object.entries(n).reduce((o,[s,a])=>(o[s]=XNe(i,a),o),{})}}}class wWt{constructor(){be(this,"tagName","marimo-plotly");be(this,"validator",H.object({figure:H.object({}).passthrough().transform(t=>t)}))}render(t){return b.jsx(L8e,{...t.data,host:t.host,value:t.value,setValue:t.setValue})}}const SWt={displaylogo:!1},_Wt=O.lazy(()=>$e(()=>import("./react-plotly-OaL6qp_n.js").then(e=>e.r),__vite__mapDeps([]),import.meta.url)),L8e=O.memo(({figure:e,setValue:t})=>{const n=O.useMemo(()=>({autosize:e.layout.width===void 0,dragmode:"select",height:540,...e.layout}),[e.layout]);return b.jsx(_Wt,{...e,layout:n,config:SWt,onSelected:Zn(r=>{r&&t({points:CWt(r.points),indices:r.points.map(i=>i.pointIndex),range:r.range})}),className:"w-full",useResizeHandler:!0,frames:e.frames??void 0,onError:Zn(r=>{Ut.error("PlotlyPlugin: ",r)})})});L8e.displayName="PlotlyComponent";function CWt(e){if(!e)return[];let t;return e.map(n=>{const r=Array.isArray(n.data.hovertemplate)?n.data.hovertemplate[0]:n.data.hovertemplate;return t=t?t.update(r):I8e(r),t.parse(n)})}class $Wt{constructor(){be(this,"tagName","marimo-code-editor");be(this,"validator",H.object({initialValue:H.string(),language:H.string().default("python"),placeholder:H.string(),theme:H.enum(["light","dark"]).optional(),label:H.string().nullable(),disabled:H.boolean().optional(),minHeight:H.number().optional()}))}render(t){return b.jsx(kWt,{...t.data,value:t.value,setValue:t.setValue})}}const EWt=O.lazy(()=>$e(()=>import("./any-language-editor-PV96cQ9t.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100]),import.meta.url)),kWt=e=>{const{theme:t}=_0(),n=e.theme||t,r=e.minHeight?`${e.minHeight}px`:"70px";return b.jsx(Hl,{label:e.label,align:"top",fullWidth:!0,children:b.jsx(EWt,{className:`cm [&>*]:outline-none border rounded overflow-hidden ${n}`,theme:n==="dark"?"dark":"light",minHeight:r,placeholder:e.placeholder,editable:!e.disabled,value:e.value,language:e.language,onChange:i=>e.setValue(i)})})};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function mC(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}var TWt={exports:{}};(function(e){var t=function(){function n(d,h){return h!=null&&d instanceof h}var r;try{r=Map}catch{r=function(){}}var i;try{i=Set}catch{i=function(){}}var o;try{o=Promise}catch{o=function(){}}function s(d,h,p,g,y){typeof h=="object"&&(p=h.depth,g=h.prototype,y=h.includeNonEnumerable,h=h.circular);var v=[],x=[],m=typeof Buffer<"u";typeof h>"u"&&(h=!0),typeof p>"u"&&(p=1/0);function w(S,C){if(S===null)return null;if(C===0)return S;var $,E;if(typeof S!="object")return S;if(n(S,r))$=new r;else if(n(S,i))$=new i;else if(n(S,o))$=new o(function(W,V){S.then(function(Q){W(w(Q,C-1))},function(Q){V(w(Q,C-1))})});else if(s.__isArray(S))$=[];else if(s.__isRegExp(S))$=new RegExp(S.source,f(S)),S.lastIndex&&($.lastIndex=S.lastIndex);else if(s.__isDate(S))$=new Date(S.getTime());else{if(m&&Buffer.isBuffer(S))return Buffer.allocUnsafe?$=Buffer.allocUnsafe(S.length):$=new Buffer(S.length),S.copy($),$;n(S,Error)?$=Object.create(S):typeof g>"u"?(E=Object.getPrototypeOf(S),$=Object.create(E)):($=Object.create(g),E=g)}if(h){var R=v.indexOf(S);if(R!=-1)return x[R];v.push(S),x.push($)}n(S,r)&&S.forEach(function(W,V){var Q=w(V,C-1),B=w(W,C-1);$.set(Q,B)}),n(S,i)&&S.forEach(function(W){var V=w(W,C-1);$.add(V)});for(var N in S){var I;E&&(I=Object.getOwnPropertyDescriptor(E,N)),!(I&&I.set==null)&&($[N]=w(S[N],C-1))}if(Object.getOwnPropertySymbols)for(var j=Object.getOwnPropertySymbols(S),N=0;N<j.length;N++){var A=j[N],T=Object.getOwnPropertyDescriptor(S,A);T&&!T.enumerable&&!y||($[A]=w(S[A],C-1),T.enumerable||Object.defineProperty($,A,{enumerable:!1}))}if(y)for(var D=Object.getOwnPropertyNames(S),N=0;N<D.length;N++){var L=D[N],T=Object.getOwnPropertyDescriptor(S,L);T&&T.enumerable||($[L]=w(S[L],C-1),Object.defineProperty($,L,{enumerable:!1}))}return $}return w(d,p)}s.clonePrototype=function(h){if(h===null)return null;var p=function(){};return p.prototype=h,new p};function a(d){return Object.prototype.toString.call(d)}s.__objToStr=a;function l(d){return typeof d=="object"&&a(d)==="[object Date]"}s.__isDate=l;function c(d){return typeof d=="object"&&a(d)==="[object Array]"}s.__isArray=c;function u(d){return typeof d=="object"&&a(d)==="[object RegExp]"}s.__isRegExp=u;function f(d){var h="";return d.global&&(h+="g"),d.ignoreCase&&(h+="i"),d.multiline&&(h+="m"),h}return s.__getRegExpFlags=f,s}();e.exports&&(e.exports=t)})(TWt);var PWt=function(e,t){t||(t={}),typeof t=="function"&&(t={cmp:t});var n=typeof t.cycles=="boolean"?t.cycles:!1,r=t.cmp&&function(o){return function(s){return function(a,l){var c={key:a,value:s[a]},u={key:l,value:s[l]};return o(c,u)}}}(t.cmp),i=[];return function o(s){if(s&&s.toJSON&&typeof s.toJSON=="function"&&(s=s.toJSON()),s!==void 0){if(typeof s=="number")return isFinite(s)?""+s:"null";if(typeof s!="object")return JSON.stringify(s);var a,l;if(Array.isArray(s)){for(l="[",a=0;a<s.length;a++)a&&(l+=","),l+=o(s[a])||"null";return l+"]"}if(s===null)return"null";if(i.indexOf(s)!==-1){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var c=i.push(s)-1,u=Object.keys(s).sort(r&&r(s));for(l="",a=0;a<u.length;a++){var f=u[a],d=o(s[f]);d&&(l&&(l+=","),l+=JSON.stringify(f)+":"+d)}return i.splice(c,1),"{"+l+"}"}}(e)};const j8e=Uu(PWt);function yC(e,t,n){return e.fields=t||[],e.fname=n,e}function pW(e){throw Error(e)}function Loe(e){var t=[],n=null,r=0,i=e.length,o="",s,a,l;e=e+"";function c(){t.push(o+e.substring(s,a)),o="",s=a+1}for(s=a=0;a<i;++a)if(l=e[a],l==="\\")o+=e.substring(s,a),s=++a;else if(l===n)c(),n=null,r=-1;else{if(n)continue;s===r&&l==='"'||s===r&&l==="'"?(s=a+1,n=l):l==="."&&!r?a>s?c():s=a+1:l==="["?(a>s&&c(),r=s=a+1):l==="]"&&(r||pW("Access path missing open bracket: "+e),r>0&&c(),r=0,s=a+1)}return r&&pW("Access path missing closing bracket: "+e),n&&pW("Access path missing closing quote: "+e),a>s&&(a++,c()),t}const D7=Array.isArray;function F8e(e){return e===Object(e)}function joe(e){return typeof e=="string"}function Foe(e){return D7(e)?"["+e.map(Foe)+"]":F8e(e)||joe(e)?JSON.stringify(e).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):e}function RWt(e,t){var n=Loe(e),r="return _["+n.map(Foe).join("][")+"];";return yC(Function("_",r),[e=n.length===1?n[0]:e],t||e)}var kR=[];RWt("id");yC(function(e){return e},kR,"identity");yC(function(){return 0},kR,"zero");yC(function(){return 1},kR,"one");yC(function(){return!0},kR,"true");yC(function(){return!1},kR,"false");function aN(e,t,n){var r=[t].concat([].slice.call(n));console[e](...r)}var AWt=0,DWt=1,z8e=2,NWt=3,MWt=4;function IWt(e,t){var n=e||AWt;return{level:function(r){return arguments.length?(n=+r,this):n},error:function(){return n>=DWt&&aN(t||"error","ERROR",arguments),this},warn:function(){return n>=z8e&&aN(t||"warn","WARN",arguments),this},info:function(){return n>=NWt&&aN(t||"log","INFO",arguments),this},debug:function(){return n>=MWt&&aN(t||"log","DEBUG",arguments),this}}}function zoe(e){return typeof e=="boolean"}function vC(e){for(var t={},n=0,r=e.length;n<r;++n)t[e[n]]=!0;return t}Set.prototype.toJSON=function(){return`Set(${[...this].map(e=>j8e(e)).join(",")})`};const Ja=j8e;function Ts(e,t){return e.indexOf(t)>-1}function LWt(e,t){let n=0;for(const[r,i]of e.entries())if(t(i,r,n++))return!0;return!1}const qh=Object.keys;function jWt(e){const t=e.replace(/\W/g,"_");return(e.match(/^\d+/)?"_":"")+t}function FWt(e,t="datum"){return`${t}[${Foe(Loe(e).join("."))}]`}function zWt(e){return`${Loe(e).map(t=>t.replace(".","\\.")).join("\\.")}`}function QWt(...e){for(const t of e)if(t!==void 0)return t}function BWt(e){return WWt(e)?e:`__${e}`}function WWt(e){return e.indexOf("__")===0}const zu="row",Fc="column",Q8e="facet",zr="x",Fr="y",Qoe="x2",Boe="y2",B8e="latitude",W8e="longitude",V8e="latitude2",U8e="longitude2",ch="color",N7="fill",M7="stroke",TR="shape",xy="size",I7="opacity",L7="fillOpacity",j7="strokeOpacity",F7="strokeWidth",Woe="text",q8e="order",Voe="detail",Y8e="key",X8e="tooltip",H8e="href",VWt={x:1,y:1,x2:1,y2:1},UWt={longitude:1,longitude2:1,latitude:1,latitude2:1},Z8e=Object.assign({},VWt,UWt,{color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,size:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1});function uI(e){return e==="color"||e==="fill"||e==="stroke"}const qWt={row:1,column:1,facet:1},Uoe=Object.assign({},Z8e,qWt),YWt=qh(Uoe);mC(Uoe,["order","detail"]);mC(Uoe,["order","detail","row","column","facet"]);const G8e=mC(Z8e,["x","y","x2","y2","latitude","longitude","latitude2","longitude2"]),K8e=qh(G8e),XWt={x:1,y:1},HWt=mC(G8e,["text","tooltip","href","detail","key","order"]),ZWt=Object.assign({},XWt,HWt);function GWt(e){return!!ZWt[e]}function KWt(e,t){return eVt(e)[t]}const J8e={area:"always",bar:"always",circle:"always",geoshape:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},JWt=mC(J8e,["geoshape"]);function eVt(e){switch(e){case ch:case N7:case M7:case Voe:case Y8e:case X8e:case H8e:case q8e:case I7:case L7:case j7:case F7:case Q8e:case zu:case Fc:return J8e;case zr:case Fr:case B8e:case W8e:return JWt;case Qoe:case Boe:case V8e:case U8e:return{rule:"always",bar:"always",rect:"always",area:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case xy:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case TR:return{point:"always",geoshape:"always"};case Woe:return{text:"always"}}}function gW(e){switch(e){case zr:case Fr:case xy:case F7:case I7:case L7:case j7:case Qoe:case Boe:return;case Q8e:case zu:case Fc:case TR:case Woe:case X8e:case H8e:return"discrete";case ch:case N7:case M7:return"flexible";case B8e:case W8e:case V8e:case U8e:case Voe:case Y8e:case q8e:return}throw new Error("rangeType not implemented for "+e)}const eze={orient:1,bandPosition:1,domain:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,values:1,zindex:1},tVt=Object.assign({},eze,{encoding:1});Object.assign({gridScale:1,scale:1},eze,{encode:1});const tze=qh(tVt),nze={clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1};Object.assign({},nze,{opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,encode:1});const rze=qh(nze),nVt="Invalid spec",rVt='Autosize "fit" only works for single views and layered views.',iVt='Cannot use a fixed value of "rangeStep" when "autosize" is "fit".';function oVt(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function sVt(e){return`The "nearest" transform is not supported for ${e} marks.`}function aVt(e){return`Selection not supported for ${e} yet`}function lVt(e){return`Cannot find a selection named "${e}"`}const cVt="Scale bindings are currently only supported for scales with unbinned, continuous domains.",uVt="Selections bound to scales cannot be separately initialized.";function fVt(e){return`Unknown repeated value "${e}".`}function dVt(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const hVt="Axes cannot be shared in concatenated views yet (https://github.com/vega/vega-lite/issues/2415).",pVt="Axes cannot be shared in repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function gVt(e){return`Unrecognized parse "${e}".`}function mVt(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}function yVt(e){return`Ignoring an invalid transform: ${Ja(e)}.`}const vVt='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function bVt(e){return`Layer's shared ${e.join(",")} channel ${e.length===1?"is":"are"} overriden`}function OVt(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${Ja(t)} is overridden by a child projection ${Ja(n)}.`}function xVt(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${Ja(n)}}.`}function wVt(e){return`Invalid field type "${e}"`}function SVt(e,t,n){return`A ${n.scaleType?`${n.scaleType} scale`:n.zeroFalse?"scale with zero=false":"scale with custom domain that excludes zero"} is used to encode ${e}'s ${t}. This can be misleading as the ${t==="x"?"width":"height"} of the ${e} can be arbitrary based on the scale domain. You may want to use point mark instead.`}function _Vt(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function CVt(e){return`Invalid aggregation operator "${e}"`}function $Vt(e,t){return`Missing type for channel "${e}", using "${t}" instead.`}function EVt(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has `+(n&&r?"fill and stroke":n?"fill":"stroke")}function kVt(e,t){return`Dropping ${Ja(e)} from channel "${t}" since it does not contain data field or value.`}function TVt(e,t,n){return`${e}-encoding with type ${t} is deprecated. Replacing with ${n}-encoding.`}const PVt="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function RVt(e,t,n){return`${e} dropped as it is incompatible with "${t}"${n?` when ${n}`:""}.`}function AVt(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function DVt(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function NVt(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function MVt(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}const IVt="Bar mark should not be used with point scale when rangeStep is null. Please use band scale instead.";function LVt(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function jVt(e,t){return`Specified orient "${e}" overridden with "${t}"`}const FVt="custom domain scale cannot be unioned with default field-based domain";function zVt(e){return`Cannot use the scale property "${e}" with non-color channel.`}function QVt(e){return`Using unaggregated domain with raw field has no effect (${Ja(e)}).`}function BVt(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function WVt(e){return`Unaggregated domain is currently unsupported for log scale (${Ja(e)}).`}function VVt(e){return`Cannot apply size to non-oriented mark "${e}".`}function UVt(e){return`rangeStep for "${e}" is dropped as top-level ${e==="x"?"width":"height"} is provided.`}function qVt(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function YVt(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function XVt(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function HVt(e,t){return`Scale type "${t}" does not work with mark "${e}".`}function ZVt(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Ja(n)} and ${Ja(r)}).  Using ${Ja(n)}.`}function GVt(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${Ja(n)} and ${Ja(r)}).  Using the union of the two domains.`}function KVt(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function JVt(e){return`Dropping sort property ${Ja(e)} as unioned domains only support boolean or op 'count'.`}const eUt="Unable to merge domains",tUt="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",nUt="Invalid channel for axis.";function rUt(e){return`Cannot stack "${e}" if there is already "${e}2"`}function iUt(e){return`Cannot stack non-linear scale (${e})`}function oUt(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}")`}function sUt(e,t){return`Invalid ${e}: ${Ja(t)}`}function aUt(e){return`Time unit "${e}" is not supported. We are replacing it with ${e.replace("day","date")}.`}function lUt(e){return`Dropping day from datetime ${Ja(e)} as day cannot be combined with other units.`}function cUt(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function uUt(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function fUt(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function dUt(e,t){return`Center is not needed to be specified in ${t} when extent is ${e}.`}function hUt(e){return`1D error band does not support ${e}`}function pUt(e){return`Channel ${e} is required for "binned" bin`}function gUt(e){return`Domain for ${e} is required for threshold scale`}const mUt=Object.freeze(Object.defineProperty({__proto__:null,BAR_WITH_POINT_SCALE_AND_RANGESTEP_NULL:IVt,CANNOT_FIX_RANGE_STEP_WITH_FIT:iVt,CANNOT_UNION_CUSTOM_DOMAIN_WITH_FIELD_DOMAIN:FVt,CONCAT_CANNOT_SHARE_AXIS:hVt,FIT_NON_SINGLE:rVt,INVALID_CHANNEL_FOR_AXIS:nUt,INVALID_SPEC:nVt,LINE_WITH_VARYING_SIZE:PVt,MORE_THAN_ONE_SORT:tUt,NO_FIELDS_NEEDS_AS:vVt,NO_INIT_SCALE_BINDINGS:uVt,REPEAT_CANNOT_SHARE_AXIS:pVt,SCALE_BINDINGS_CONTINUOUS:cVt,UNABLE_TO_MERGE_DOMAINS:eUt,cannotApplySizeToNonOrientedMark:VVt,cannotProjectOnChannelWithoutField:oVt,cannotStackNonLinearScale:iUt,cannotStackRangedMark:rUt,cannotUseScalePropertyWithNonColor:zVt,channelRequiredForBinned:pUt,columnsNotSupportByRowCol:dVt,dayReplacedWithDate:aUt,differentParse:mVt,discreteChannelCannotEncode:MVt,domainRequiredForThresholdScale:gUt,domainSortDropped:JVt,droppedDay:lUt,droppingColor:EVt,emptyFieldDef:kVt,encodingOverridden:bVt,errorBand1DNotSupport:hUt,errorBarCenterAndExtentAreNotNeeded:cUt,errorBarCenterIsNotNeeded:dUt,errorBarCenterIsUsedWithWrongExtent:uUt,errorBarContinuousAxisHasCustomizedAggregate:fUt,facetChannelDropped:NVt,facetChannelShouldBeDiscrete:DVt,incompatibleChannel:RVt,independentScaleMeansIndependentGuide:KVt,invalidAggregate:CVt,invalidEncodingChannel:AVt,invalidFieldType:wVt,invalidFieldTypeForCountAggregate:_Vt,invalidTimeUnit:sUt,invalidTransformIgnored:yVt,latLongDeprecated:TVt,lineWithRange:LVt,mergeConflictingDomainProperty:GVt,mergeConflictingProperty:ZVt,missingFieldType:$Vt,nearestNotSupportForContinuous:sVt,noSuchRepeatedValue:fVt,nonZeroScaleUsedWithLengthMark:SVt,orientOverridden:jVt,primitiveChannelDef:xVt,projectionOverridden:OVt,rangeStepDropped:UVt,scalePropertyNotWorkWithScaleType:XVt,scaleTypeNotWorkWithChannel:qVt,scaleTypeNotWorkWithFieldDef:YVt,scaleTypeNotWorkWithMark:HVt,selectionNotFound:lVt,selectionNotSupported:aVt,stackNonSummativeAggregate:oUt,unaggregateDomainHasNoEffectForRawField:QVt,unaggregateDomainWithNonSharedDomainOp:BVt,unaggregatedDomainWithLogScale:WVt,unrecognizedParse:gVt},Symbol.toStringTag,{value:"Module"})),Ou=mUt,yUt=IWt(z8e);let xbe=yUt;function wy(...e){xbe.warn.apply(xbe,arguments)}const vUt={quantitative:1,ordinal:1,temporal:1,nominal:1,geojson:1},gi="quantitative",rd="ordinal",Cs="temporal",Pu="nominal",bUt="geojson";function OUt(e){if(e)switch(e=e.toLowerCase(),e){case"q":case gi:return"quantitative";case"t":case Cs:return"temporal";case"o":case rd:return"ordinal";case"n":case Pu:return"nominal";case bUt:return"geojson"}}var Qr;(function(e){e.LINEAR="linear",e.LOG="log",e.POW="pow",e.SQRT="sqrt",e.SYMLOG="symlog",e.TIME="time",e.UTC="utc",e.QUANTILE="quantile",e.QUANTIZE="quantize",e.THRESHOLD="threshold",e.BIN_ORDINAL="bin-ordinal",e.ORDINAL="ordinal",e.POINT="point",e.BAND="band"})(Qr||(Qr={}));const xUt={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"},wUt=qh(xUt),ize=["linear","log","pow","sqrt","symlog","time","utc"],SUt=vC(ize),_Ut=["quantile","quantize","threshold"],CUt=vC(_Ut),$Ut=ize.concat(["quantile","quantize","threshold"]),EUt=vC($Ut),kUt=["ordinal","bin-ordinal","point","band"],TUt=vC(kUt);function fb(e){return e in TUt}function PUt(e){return e in EUt}function Xx(e){return e in SUt}function RUt(e){return e in CUt}const oze={type:1,domain:1,align:1,range:1,rangeStep:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},sze=qh(oze);mC(oze,["type","domain","range","rangeStep","scheme"]);DUt();function mW(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!Ts(["point","band","identity"],e);case"bins":return!Ts(["point","band","identity","ordinal"],e);case"round":return Xx(e)||e==="band"||e==="point";case"padding":return Xx(e)||Ts(["point","band"],e);case"paddingOuter":case"rangeStep":case"align":return Ts(["point","band"],e);case"paddingInner":return e==="band";case"clamp":return Xx(e);case"nice":return Xx(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return PUt(e)&&!Ts(["log","time","utc","threshold","quantile"],e)}}function AUt(e,t){switch(t){case"interpolate":case"scheme":return uI(e)?void 0:Ou.cannotUseScalePropertyWithNonColor(e);case"align":case"type":case"bins":case"domain":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeStep":case"reverse":case"round":case"clamp":case"zero":return}}function aze(e,t){return Ts([rd,Pu],t)?e===void 0||fb(e):t===Cs?Ts([Qr.TIME,Qr.UTC,void 0],e):t===gi?Ts([Qr.LOG,Qr.POW,Qr.SQRT,Qr.SYMLOG,Qr.QUANTILE,Qr.QUANTIZE,Qr.THRESHOLD,Qr.LINEAR,void 0],e):!0}function lze(e,t){switch(e){case zr:case Fr:return Xx(t)||Ts(["band","point"],t);case xy:case F7:case I7:case L7:case j7:return Xx(t)||RUt(t)||Ts(["band","point"],t);case ch:case N7:case M7:return t!=="band";case TR:return t==="ordinal"}return!1}function DUt(){const e={};for(const t of YWt)for(const n of qh(vUt))for(const r of wUt){const i=NUt(t,n);lze(t,r)&&aze(r,n)&&(e[i]=e[i]||[],e[i].push(r))}return e}function NUt(e,t){return e+"_"+t}var cze={exports:{}};(function(e){var t=e.exports,n="__name__";t.namedfunc=function(l,c){return c[n]=l,c},t.name=function(l){return l==null?null:l[n]},t.identity=function(l){return l},t.true=t.namedfunc("true",function(){return!0}),t.false=t.namedfunc("false",function(){return!1}),t.duplicate=function(l){return JSON.parse(JSON.stringify(l))},t.equal=function(l,c){return JSON.stringify(l)===JSON.stringify(c)},t.extend=function(l){for(var c,u,f=1,d=arguments.length;f<d;++f){c=arguments[f];for(u in c)l[u]=c[u]}return l},t.length=function(l){return l!=null&&l.length!=null?l.length:null},t.keys=function(l){var c=[],u;for(u in l)c.push(u);return c},t.vals=function(l){var c=[],u;for(u in l)c.push(l[u]);return c},t.toMap=function(l,c){return(c=t.$(c))?l.reduce(function(u,f){return u[c(f)]=1,u},{}):l.reduce(function(u,f){return u[f]=1,u},{})},t.keystr=function(l){var c=l.length;if(!c)return"";for(var u=String(l[0]),f=1;f<c;++f)u+="|"+String(l[f]);return u};var r=Object.prototype.toString;t.isObject=function(l){return l===Object(l)},t.isFunction=function(l){return r.call(l)==="[object Function]"},t.isString=function(l){return typeof value=="string"||r.call(l)==="[object String]"},t.isArray=Array.isArray||function(l){return r.call(l)==="[object Array]"},t.isNumber=function(l){return typeof l=="number"||r.call(l)==="[object Number]"},t.isBoolean=function(l){return l===!0||l===!1||r.call(l)=="[object Boolean]"},t.isDate=function(l){return r.call(l)==="[object Date]"},t.isValid=function(l){return l!=null&&l===l},t.isBuffer=typeof Buffer=="function"&&Buffer.isBuffer||t.false,t.number=function(l){return l==null||l===""?null:+l},t.boolean=function(l){return l==null||l===""?null:l==="false"?!1:!!l},t.date=function(l,c){var u=c||Date;return l==null||l===""?null:u.parse(l)},t.array=function(l){return l!=null?t.isArray(l)?l:[l]:[]},t.str=function(l){return t.isArray(l)?"["+l.map(t.str)+"]":t.isObject(l)||t.isString(l)?JSON.stringify(l).replace("\u2028","\\u2028").replace("\u2029","\\u2029"):l};var i=/\[(.*?)\]|[^.\[]+/g;t.field=function(l){return String(l).match(i).map(function(c){return c[0]!=="["?c:c[1]!=="'"&&c[1]!=='"'?c.slice(1,-1):c.slice(2,-2).replace(/\\(["'])/g,"$1")})},t.accessor=function(l){return l==null||t.isFunction(l)?l:t.namedfunc(l,Function("x","return x["+t.field(l).map(t.str).join("][")+"];"))},t.$=t.accessor,t.mutator=function(l){var c;return t.isString(l)&&(c=t.field(l)).length>1?function(u,f){for(var d=0;d<c.length-1;++d)u=u[c[d]];u[c[d]]=f}:function(u,f){u[l]=f}},t.$func=function(l,c){return function(u){u=t.$(u)||t.identity;var f=l+(t.name(u)?"_"+t.name(u):"");return t.namedfunc(f,function(d){return c(u(d))})}},t.$valid=t.$func("valid",t.isValid),t.$length=t.$func("length",t.length),t.$in=function(l,c){l=t.$(l);var u=t.isArray(c)?t.toMap(c):c;return function(f){return!!u[l(f)]}},t.comparator=function(l){var c=[];return l===void 0&&(l=[]),l=t.array(l).map(function(u){var f=1;return u[0]==="-"?(f=-1,u=u.slice(1)):u[0]==="+"&&(f=1,u=u.slice(1)),c.push(f),t.accessor(u)}),function(u,f){var d,h,p,g;for(d=0,h=l.length;d<h;++d)if(p=l[d],g=t.cmp(p(u),p(f)),g)return g*c[d];return 0}},t.cmp=function(l,c){return(l<c||l==null)&&c!=null?-1:(l>c||c==null)&&l!=null?1:(c=c instanceof Date?+c:c,(l=l instanceof Date?+l:l)!==l&&c===c?-1:c!==c&&l===l?1:0)},t.numcmp=function(l,c){return l-c},t.stablesort=function(l,c,u){var f=l.reduce(function(d,h,p){return d[u(h)]=p,d},{});return l.sort(function(d,h){var p=c(d),g=c(h);return p<g?-1:p>g?1:f[u(d)]-f[u(h)]}),l},t.permute=function(l){for(var c=l.length,u,f;c;)f=Math.floor(Math.random()*c--),u=l[c],l[c]=l[f],l[f]=u},t.pad=function(l,c,u,f){f=f||" ";var d=c-l.length;if(d<=0)return l;switch(u){case"left":return o(d,f)+l;case"middle":case"center":return o(Math.floor(d/2),f)+l+o(Math.ceil(d/2),f);default:return l+o(d,f)}};function o(l,c){var u="",f;for(f=0;f<l;++f)u+=c;return u}t.truncate=function(l,c,u,f,d){var h=l.length;if(h<=c)return l;d=d!==void 0?String(d):"";var p=Math.max(0,c-d.length);switch(u){case"left":return d+(f?s(l,p,1):l.slice(h-p));case"middle":case"center":var g=Math.ceil(p/2),y=Math.floor(p/2);return(f?s(l,g):l.slice(0,g))+d+(f?s(l,y,1):l.slice(h-y));default:return(f?s(l,p):l.slice(0,p))+d}};function s(l,c,u){var f=0,d=l.split(a);return u?l=(d=d.reverse()).filter(function(h){return f+=h.length,f<=c}).reverse():l=d.filter(function(h){return f+=h.length,f<=c}),l.length?l.join("").trim():d[0].slice(0,c)}var a=/([\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u2028\u2029\u3000\uFEFF])/})(cze);var rn=cze.exports;function yc(e,t){return e.indexOf(t)!==-1}function Qd(e,t){for(let n=0;n<e.length;n++)if(!t(e[n],n))return!1;return!0}function Ks(e,t,n){if(e.forEach)e.forEach.call(n,t);else for(let r in e)t.call(n,e[r],r,e)}function Tp(e,t){let n=0,r;for(r in e)if(t(e[r],r,n++))return!0;return!1}function MUt(e,t){return e.filter(function(n){return!yc(t,n)})}function IUt(e){return Object.keys(e)}function uh(e){return!!e.parent}const uze={channel:1,aggregate:1,autoCount:1,bin:1,timeUnit:1,hasFn:1,sort:1,stack:1,field:1,type:1,format:1,scale:1,axis:1,legend:1,value:1},qoe=IUt(uze);function LUt(e){return e in uze}const jUt={bin:1,scale:1,sort:1,axis:1,legend:1};function Yoe(e){return jUt[e]}const FUt=["maxbins","divide","extent","base","step","steps","minstep"],zUt=["field","op","order"],fze=FUt.map(e=>({parent:"bin",child:e})),Xoe=zUt.map(e=>({parent:"sort",child:e})),aL=sze.map(e=>({parent:"scale",child:e})),dze=tze.map(e=>({parent:"axis",child:e})),hze=rze.map(e=>({parent:"legend",child:e})),z7=[].concat(fze,Xoe,aL,dze,hze),pze=["width","height","background","padding","title"],gze=".";function fI(e){return uh(e)?e.parent+gze+e.child:e}function QUt(e){const t=e.split(gze);if(t.length===1)return e;if(t.length===2)return{parent:t[0],child:t[1]};throw"Invalid property key with "+t.length+" dots: "+e}const BUt=z7.reduce((e,t)=>(e[t.parent]=e[t.parent]||[],e[t.parent][t.child]=t,e),{});function Lp(e,t){return(BUt[e]||{})[t]}function mze(e){return LUt(e)||uh(e)}const WUt=[].concat(qoe,z7),yze=["type","field","bin","timeUnit","aggregate","autoCount","channel","mark","stack","scale","sort","axis","legend"].concat(fze,aL,dze,hze,Xoe);var pe;(function(e){e.MARK="mark",e.TRANSFORM="transform",e.STACK="stack",e.FORMAT="format",e.CHANNEL="channel",e.AGGREGATE="aggregate",e.AUTOCOUNT="autoCount",e.BIN="bin",e.HAS_FN="hasFn",e.TIMEUNIT="timeUnit",e.FIELD="field",e.TYPE="type",e.SORT="sort",e.SCALE="scale",e.AXIS="axis",e.LEGEND="legend",e.WIDTH="width",e.HEIGHT="height",e.BACKGROUND="background",e.PADDING="padding",e.TITLE="title"})(pe||(pe={}));const Kv="area",_p="bar",Rk="line",A2="point",DH="rect",NH="rule",lL="text",Ak="tick",cL="circle",uL="square",VUt={area:1,bar:1,line:1,point:1,text:1,tick:1,trail:1,rect:1,geoshape:1,rule:1,circle:1,square:1};function UUt(e){return Ts(["line","area","trail"],e)}const qUt=qh(VUt);function YUt(e){return e.type}vC(qUt);const XUt=["january","february","march","april","may","june","july","august","september","october","november","december"];XUt.map(e=>e.substr(0,3));const HUt=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];HUt.map(e=>e.substr(0,3));var lo;(function(e){e.YEAR="year",e.MONTH="month",e.DAY="day",e.DATE="date",e.HOURS="hours",e.MINUTES="minutes",e.SECONDS="seconds",e.MILLISECONDS="milliseconds",e.YEARMONTH="yearmonth",e.YEARMONTHDATE="yearmonthdate",e.YEARMONTHDATEHOURS="yearmonthdatehours",e.YEARMONTHDATEHOURSMINUTES="yearmonthdatehoursminutes",e.YEARMONTHDATEHOURSMINUTESSECONDS="yearmonthdatehoursminutesseconds",e.MONTHDATE="monthdate",e.MONTHDATEHOURS="monthdatehours",e.HOURSMINUTES="hoursminutes",e.HOURSMINUTESSECONDS="hoursminutesseconds",e.MINUTESSECONDS="minutesseconds",e.SECONDSMILLISECONDS="secondsmilliseconds",e.QUARTER="quarter",e.YEARQUARTER="yearquarter",e.QUARTERMONTH="quartermonth",e.YEARQUARTERMONTH="yearquartermonth",e.UTCYEAR="utcyear",e.UTCMONTH="utcmonth",e.UTCDAY="utcday",e.UTCDATE="utcdate",e.UTCHOURS="utchours",e.UTCMINUTES="utcminutes",e.UTCSECONDS="utcseconds",e.UTCMILLISECONDS="utcmilliseconds",e.UTCYEARMONTH="utcyearmonth",e.UTCYEARMONTHDATE="utcyearmonthdate",e.UTCYEARMONTHDATEHOURS="utcyearmonthdatehours",e.UTCYEARMONTHDATEHOURSMINUTES="utcyearmonthdatehoursminutes",e.UTCYEARMONTHDATEHOURSMINUTESSECONDS="utcyearmonthdatehoursminutesseconds",e.UTCMONTHDATE="utcmonthdate",e.UTCMONTHDATEHOURS="utcmonthdatehours",e.UTCHOURSMINUTES="utchoursminutes",e.UTCHOURSMINUTESSECONDS="utchoursminutesseconds",e.UTCMINUTESSECONDS="utcminutesseconds",e.UTCSECONDSMILLISECONDS="utcsecondsmilliseconds",e.UTCQUARTER="utcquarter",e.UTCYEARQUARTER="utcyearquarter",e.UTCQUARTERMONTH="utcquartermonth",e.UTCYEARQUARTERMONTH="utcyearquartermonth"})(lo||(lo={}));const Hoe={year:1,quarter:1,month:1,day:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},vze=qh(Hoe);function ZUt(e){return!!Hoe[e]}const Zoe={utcyear:1,utcquarter:1,utcmonth:1,utcday:1,utcdate:1,utchours:1,utcminutes:1,utcseconds:1,utcmilliseconds:1};function GUt(e){return!!Zoe[e]}const KUt={yearquarter:1,yearquartermonth:1,yearmonth:1,yearmonthdate:1,yearmonthdatehours:1,yearmonthdatehoursminutes:1,yearmonthdatehoursminutesseconds:1,quartermonth:1,monthdate:1,monthdatehours:1,hoursminutes:1,hoursminutesseconds:1,minutesseconds:1,secondsmilliseconds:1},bze={utcyearquarter:1,utcyearquartermonth:1,utcyearmonth:1,utcyearmonthdate:1,utcyearmonthdatehours:1,utcyearmonthdatehoursminutes:1,utcyearmonthdatehoursminutesseconds:1,utcquartermonth:1,utcmonthdate:1,utcmonthdatehours:1,utchoursminutes:1,utchoursminutesseconds:1,utcminutesseconds:1,utcsecondsmilliseconds:1},JUt=Object.assign({},Zoe,bze);function eqt(e){return!!JUt[e]}const tqt=Object.assign({},Hoe,Zoe,KUt,bze);function nqt(e){return!!tqt[e]}const rqt={year:"setFullYear",month:"setMonth",date:"setDate",hours:"setHours",minutes:"setMinutes",seconds:"setSeconds",milliseconds:"setMilliseconds",quarter:null,day:null};function iqt(e,t){const n=eqt(e),r=n?new Date(Date.UTC(1972,0,1,0,0,0,0)):new Date(1972,0,1,0,0,0,0);for(const i of vze)if(Oze(e,i))switch(i){case lo.DAY:throw new Error("Cannot convert to TimeUnits containing 'day'");case lo.QUARTER:{const{getDateMethod:o,setDateMethod:s}=wbe("month",n);r[s](Math.floor(t[o]()/3)*3);break}default:{const{getDateMethod:o,setDateMethod:s}=wbe(i,n);r[s](t[o]())}}return r}function wbe(e,t){const n=rqt[e],r=t?"setUTC"+n.substr(3):n,i="get"+(t?"UTC":"")+n.substr(3);return{setDateMethod:r,getDateMethod:i}}function Oze(e,t){const n=e.indexOf(t);return n>-1&&(t!==lo.SECONDS||n===0||e.charAt(n-1)!=="i")}const Vr="?";function It(e){return Q7(e)||oqt(e)}function Q7(e){return e===Vr}function oqt(e){return e!==void 0&&e!=null&&(!!e.enum||!!e.name)&&!rn.isArray(e)}function yW(e,t,n){return rn.extend({},{name:t,enum:n},e===Vr?{}:e)}function vW(e){let t={},n={};for(const r of e){const i=[0];for(let s=0;s<r.length;s++)r.charAt(s).toUpperCase()===r.charAt(s)&&i.push(s);let o=i.map(s=>r.charAt(s)).join("").toLowerCase();if(!n[o]){t[r]=o,n[o]=!0;continue}if(i[i.length-1]!==r.length-1&&(o=i.concat([r.length-1]).map(s=>r.charAt(s)).join("").toLowerCase(),!n[o])){t[r]=o,n[o]=!0;continue}for(let s=1;!t[r];s++){let a=o+"_"+s;if(!n[a]){t[r]=a,n[a]=!0;break}}}return t}const lN={mark:"m",channel:"c",aggregate:"a",autoCount:"#",hasFn:"h",bin:"b",sort:"so",stack:"st",scale:"s",format:"f",axis:"ax",legend:"l",value:"v",timeUnit:"tu",field:"f",type:"t",binProps:{maxbins:"mb",min:"mi",max:"ma",base:"b",step:"s",steps:"ss",minstep:"ms",divide:"d"},sortProps:{field:"f",op:"o",order:"or"},scaleProps:vW(sze),axisProps:vW(tze),legendProps:vW(rze)};function O$(e){if(uh(e))return lN[e.parent]+"-"+lN[e.parent+"Props"][e.child];if(lN[e])return lN[e];throw new Error("Default name undefined for "+e)}const xl=[!1,!0],sqt={maxbins:[5,10,20],extent:[void 0],base:[10],step:[void 0],steps:[void 0],minstep:[void 0],divide:[[5,2]],binned:[!1],anchor:[void 0],nice:[!0]},aqt={field:[void 0],op:["min","mean"],order:["ascending","descending"]},lqt={type:[void 0,Qr.LOG],domain:[void 0],base:[void 0],exponent:[1,2],constant:[void 0],bins:[void 0],clamp:xl,nice:xl,reverse:xl,round:xl,zero:xl,padding:[void 0],paddingInner:[void 0],paddingOuter:[void 0],interpolate:[void 0],range:[void 0],rangeStep:[17,21],scheme:[void 0]},cqt={zindex:[1,0],offset:[void 0],orient:[void 0],values:[void 0],bandPosition:[void 0],encoding:[void 0],domain:xl,domainColor:[void 0],domainDash:[void 0],domainDashOffset:[void 0],domainOpacity:[void 0],domainWidth:[void 0],formatType:[void 0],grid:xl,gridColor:[void 0],gridDash:[void 0],gridDashOffset:[void 0],gridOpacity:[void 0],gridWidth:[void 0],format:[void 0],labels:xl,labelAlign:[void 0],labelAngle:[void 0],labelBaseline:[void 0],labelColor:[void 0],labelFlushOffset:[void 0],labelFont:[void 0],labelFontSize:[void 0],labelFontStyle:[void 0],labelFontWeight:[void 0],labelLimit:[void 0],labelOpacity:[void 0],labelSeparation:[void 0],labelOverlap:[void 0],labelPadding:[void 0],labelBound:[void 0],labelFlush:[void 0],maxExtent:[void 0],minExtent:[void 0],position:[void 0],ticks:xl,tickColor:[void 0],tickCount:[void 0],tickDash:[void 0],tickExtra:[void 0],tickDashOffset:[void 0],tickMinStep:[void 0],tickOffset:[void 0],tickOpacity:[void 0],tickRound:[void 0],tickSize:[void 0],tickWidth:[void 0],title:[void 0],titleAlign:[void 0],titleAnchor:[void 0],titleAngle:[void 0],titleBaseline:[void 0],titleColor:[void 0],titleFont:[void 0],titleFontSize:[void 0],titleFontStyle:[void 0],titleFontWeight:[void 0],titleLimit:[void 0],titleOpacity:[void 0],titlePadding:[void 0],titleX:[void 0],titleY:[void 0]},uqt={orient:["left","right"],format:[void 0],type:[void 0],values:[void 0],zindex:[void 0],clipHeight:[void 0],columnPadding:[void 0],columns:[void 0],cornerRadius:[void 0],direction:[void 0],encoding:[void 0],fillColor:[void 0],formatType:[void 0],gridAlign:[void 0],offset:[void 0],padding:[void 0],rowPadding:[void 0],strokeColor:[void 0],labelAlign:[void 0],labelBaseline:[void 0],labelColor:[void 0],labelFont:[void 0],labelFontSize:[void 0],labelFontStyle:[void 0],labelFontWeight:[void 0],labelLimit:[void 0],labelOffset:[void 0],labelOpacity:[void 0],labelOverlap:[void 0],labelPadding:[void 0],labelSeparation:[void 0],legendX:[void 0],legendY:[void 0],gradientLength:[void 0],gradientOpacity:[void 0],gradientStrokeColor:[void 0],gradientStrokeWidth:[void 0],gradientThickness:[void 0],symbolDash:[void 0],symbolDashOffset:[void 0],symbolFillColor:[void 0],symbolOffset:[void 0],symbolOpacity:[void 0],symbolSize:[void 0],symbolStrokeColor:[void 0],symbolStrokeWidth:[void 0],symbolType:[void 0],tickCount:[void 0],tickMinStep:[void 0],title:[void 0],titleAnchor:[void 0],titleAlign:[void 0],titleBaseline:[void 0],titleColor:[void 0],titleFont:[void 0],titleFontSize:[void 0],titleFontStyle:[void 0],titleFontWeight:[void 0],titleLimit:[void 0],titleOpacity:[void 0],titleOrient:[void 0],titlePadding:[void 0]},fqt={mark:[A2,_p,Rk,Kv,DH,Ak,lL],channel:[zr,Fr,zu,Fc,xy,ch],aggregate:[void 0,"mean"],autoCount:xl,bin:xl,hasFn:xl,timeUnit:[void 0,lo.YEAR,lo.MONTH,lo.MINUTES,lo.SECONDS],field:[void 0],type:[Pu,rd,gi,Cs],sort:["ascending","descending"],stack:["zero","normalize","center",null],value:[void 0],format:[void 0],title:[void 0],scale:[!0],axis:xl,legend:xl,binProps:sqt,sortProps:aqt,scaleProps:lqt,axisProps:cqt,legendProps:uqt};function bW(e,t,n){if(e==="field"||uh(e)&&e.parent==="sort"&&e.child==="field")return t.fieldNames();let r;if(uh(e)?r=n.enum[e.parent+"Props"][e.child]:r=n.enum[e],r!==void 0)return r;throw new Error("No default enumValues for "+JSON.stringify(e))}const PR={verbose:!1,defaultSpecConfig:{line:{point:!0},scale:{useUnaggregatedDomain:!0}},propertyPrecedence:yze.map(fI),enum:fqt,numberNominalProportion:.05,numberNominalLimit:40,constraintManuallySpecifiedValue:!1,autoAddCount:!1,hasAppropriateGraphicTypeForMark:!0,omitAggregate:!1,omitAggregatePlotWithDimensionOnlyOnFacet:!0,omitAggregatePlotWithoutDimension:!1,omitBarLineAreaWithOcclusion:!0,omitBarTickWithSize:!0,omitMultipleNonPositionalChannels:!0,omitRaw:!1,omitRawContinuousFieldForAggregatePlot:!0,omitRepeatedField:!0,omitNonPositionalOrFacetOverPositionalChannels:!0,omitTableWithOcclusionIfAutoAddCount:!0,omitVerticalDotPlot:!1,omitInvalidStackSpec:!0,omitNonSumStack:!0,preferredBinAxis:zr,preferredTemporalAxis:zr,preferredOrdinalAxis:Fr,preferredNominalAxis:Fr,preferredFacet:zu,minCardinalityForBin:15,maxCardinalityForCategoricalColor:20,maxCardinalityForFacet:20,maxCardinalityForShape:6,timeUnitShouldHaveVariation:!0,typeMatchesSchemaType:!0,stylize:!0,smallRangeStepForHighCardinalityOrFacet:{maxCardinality:10,rangeStep:12},nominalColorScaleForHighCardinality:{maxCardinality:10,palette:"category20"},xAxisOnTopForHighYCardinalityWithoutColumn:{maxCardinality:30},maxGoodCardinalityForFacet:5,maxGoodCardinalityForColor:7,minPercentUniqueForKey:.8,minCardinalityForKey:50},dqt={argmax:1,argmin:1,average:1,count:1,distinct:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1};function hqt(e){return!!e&&!!e.argmin}function pqt(e){return!!e&&!!e.argmax}function gqt(e){return joe(e)&&!!dqt[e]}const xze=["count","sum","distinct","valid","missing"],mqt=["mean","average","median","q1","q3","min","max"];vC(mqt);function yqt(e){return zoe(e)&&(e=Sqt(e,void 0)),"bin"+qh(e).map(t=>jWt(`_${t}_${e[t]}`)).join("")}function wze(e){return e===!0||vqt(e)&&!e.binned}function vqt(e){return F8e(e)}function MH(e){switch(e){case zu:case Fc:case xy:case ch:case N7:case M7:case F7:case I7:case L7:case j7:case TR:return 6;default:return 10}}function Sze(e){return!!e&&!!e.condition&&!D7(e.condition)&&Ym(e.condition)}function Ym(e){return!!e&&(!!e.field||e.aggregate==="count")}function OW(e){return Ym(e)&&joe(e.field)}function bqt(e){return!!e.op}function xW(e,t={}){let n=e.field;const r=t.prefix;let i=t.suffix,o="";if(xqt(e))n=BWt("count");else{let s;if(!t.nofn)if(bqt(e))s=e.op;else{const{bin:a,aggregate:l,timeUnit:c}=e;wze(a)?(s=yqt(a),i=(t.binSuffix||"")+(t.suffix||"")):l?pqt(l)?(o=`.${n}`,n=`argmax_${l.argmax}`):hqt(l)?(o=`.${n}`,n=`argmin_${l.argmin}`):s=String(l):c&&(s=String(c))}s&&(n=n?`${s}_${n}`:s)}return i&&(n=`${n}_${i}`),r&&(n=`${r}_${n}`),t.forAs?n:t.expr?FWt(n,t.expr)+o:zWt(n)+o}function _ze(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return!!e.bin;case"temporal":return!1}throw new Error(Ou.invalidFieldType(e.type))}function Oqt(e){return!_ze(e)}function xqt(e){return e.aggregate==="count"}function wqt(e){if(Ym(e))return e;if(Sze(e))return e.condition}function Sqt(e,t){return zoe(e)?{maxbins:MH(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?Object.assign({},e,{maxbins:MH(t)}):e}const BO={compatible:!0};function _qt(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case"row":case"column":case"facet":return Oqt(e)?{compatible:!1,warning:Ou.facetChannelShouldBeDiscrete(t)}:BO;case"x":case"y":case"color":case"fill":case"stroke":case"text":case"detail":case"key":case"tooltip":case"href":return BO;case"longitude":case"longitude2":case"latitude":case"latitude2":return n!==gi?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:BO;case"opacity":case"fillOpacity":case"strokeOpacity":case"strokeWidth":case"size":case"x2":case"y2":return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:BO;case"shape":return Ts(["ordinal","nominal","geojson"],e.type)?BO:{compatible:!1,warning:"Shape channel should be used with only either discrete or geojson data."};case"order":return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:BO}throw new Error("channelCompatability not implemented for channel "+t)}function Cqt(e,t,n,r){const i=$qt(t,n,r),{type:o}=e;return GWt(t)?o!==void 0?lze(t,o)?aze(o,n.type)?o:(wy(Ou.scaleTypeNotWorkWithFieldDef(o,i)),i):(wy(Ou.scaleTypeNotWorkWithChannel(t,o,i)),i):i:null}function $qt(e,t,n){switch(t.type){case"nominal":case"ordinal":return uI(e)||gW(e)==="discrete"?(e==="shape"&&t.type==="ordinal"&&wy(Ou.discreteChannelCannotEncode(e,"ordinal")),"ordinal"):Ts(["x","y"],e)&&(Ts(["rect","bar","rule"],n)||n==="bar")?"band":"point";case"temporal":return uI(e)?"time":gW(e)==="discrete"?(wy(Ou.discreteChannelCannotEncode(e,"temporal")),"ordinal"):"time";case"quantitative":return uI(e)?wze(t.bin)?"bin-ordinal":"linear":gW(e)==="discrete"?(wy(Ou.discreteChannelCannotEncode(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error(Ou.invalidFieldType(t.type))}var id;(function(e){e.QUANTITATIVE=gi,e.ORDINAL=rd,e.TEMPORAL=Cs,e.NOMINAL=Pu,e.KEY="key"})(id||(id={}));function Sbe(e){return e===rd||e===Pu||e===id.KEY}class nl{constructor(t=null){this.index=t?Object.assign({},t):{}}has(t){return fI(t)in this.index}get(t){return this.index[fI(t)]}set(t,n){return this.index[fI(t)]=n,this}setByKey(t,n){this.index[t]=n}map(t){const n=new nl;for(const r in this.index)n.index[r]=t(this.index[r]);return n}size(){return rn.keys(this.index).length}duplicate(){return new nl(this.index)}}function _be(e,t){const n=e&&e[t];return n?D7(n)?LWt(n,r=>!!r.field):Ym(n)||Sze(n):!1}const Eqt={zero:1,center:1,normalize:1};function kqt(e){return!!Eqt[e]}const Tqt=[_p,Kv,NH,A2,cL,uL,Rk,lL,Ak],Pqt=[_p,Kv];function Rqt(e){const t=e.x,n=e.y;if(Ym(t)&&Ym(n))if(t.type==="quantitative"&&n.type==="quantitative"){if(t.stack)return"x";if(n.stack)return"y";if(!!t.aggregate!=!!n.aggregate)return t.aggregate?"x":"y"}else{if(t.type==="quantitative")return"x";if(n.type==="quantitative")return"y"}else{if(Ym(t)&&t.type==="quantitative")return"x";if(Ym(n)&&n.type==="quantitative")return"y"}}function Aqt(e,t,n,r={}){const i=YUt(e)?e.type:e;if(!Ts(Tqt,i))return null;const o=Rqt(t);if(!o)return null;const s=t[o],a=OW(s)?xW(s,{}):void 0,l=o==="x"?"y":"x",c=t[l],u=OW(c)?xW(c,{}):void 0,f=K8e.reduce((h,p)=>{if(p!=="tooltip"&&_be(t,p)){const g=t[p];(D7(g)?g:[g]).forEach(y=>{const v=wqt(y);if(v.aggregate)return;const x=OW(v)?xW(v,{}):void 0;(!x||x!==u&&x!==a)&&h.push({channel:p,fieldDef:v})})}return h},[]);let d;if(s.stack!==void 0?zoe(s.stack)?d=s.stack?"zero":null:d=s.stack:f.length>0&&(Ts(Pqt,i)?d=QWt(n,"zero"):d=n),!d||!kqt(d))return null;if(s.scale&&s.scale.type&&s.scale.type!==Qr.LINEAR){if(r.disallowNonLinearStack)return null;wy(Ou.cannotStackNonLinearScale(s.scale.type))}return _be(t,o===zr?Qoe:Boe)?(s.stack!==void 0&&wy(Ou.cannotStackRangedMark(o)),null):(s.aggregate&&!Ts(xze,s.aggregate)&&wy(Ou.stackNonSummativeAggregate(s.aggregate)),{groupbyChannel:c?l:void 0,fieldChannel:o,impute:UUt(i),stackBy:f,offset:d})}function Dqt(e){return Tp(e.encodings,t=>sn(t)&&!It(t.aggregate)&&!!t.aggregate||B7(t))}function Cze(e){if(!Iqt(e))return null;const t=kze(e.encodings,{schema:null,wildcardMode:"null"}),n=e.mark;return Aqt(n,t,void 0,{disallowNonLinearStack:!0})}function Nqt(e){for(const t of e.encodings)if(t[pe.STACK]!==void 0&&!It(t[pe.STACK]))return t[pe.STACK]}function Mqt(e){for(const t of e.encodings)if(t[pe.STACK]!==void 0&&!It(t.channel))return t.channel;return null}function Iqt(e){if(It(e.mark))return!1;const t=[pe.STACK,pe.CHANNEL,pe.MARK,pe.FIELD,pe.AGGREGATE,pe.AUTOCOUNT,pe.SCALE,Lp("scale","type"),pe.TYPE],n=rn.toMap(MUt(WUt,t)),r=e.encodings.filter(i=>!ou(i));for(const i of r)if($ze(i,{exclude:n}))return!1;return!0}function $ze(e,t={}){if(!rn.isObject(e))return!1;for(const n in e)if(e.hasOwnProperty(n)&&(It(e[n])&&(!t.exclude||!t.exclude[n])||$ze(e[n],t)))return!0;return!1}function Lqt(e){return e.map(t=>jqt(t))}function jqt(e){return t=>e[t]!==void 0?e[t]:t}function y1(e,t){return It(e)?!Q7(e)&&e.enum?Vr+JSON.stringify(e.enum):Vr:t?t(e):e}function dI(e,t){return t?t(e):e}const Goe=new nl,Koe=[].concat(yze,Xoe,[pe.TRANSFORM,pe.STACK],pze).reduce((e,t)=>e.set(t,!0),new nl),IH={axis:{x:!0,y:!0,row:!0,column:!0},legend:{color:!0,opacity:!0,size:!0,shape:!0},scale:{x:!0,y:!0,color:!0,opacity:!0,row:!0,column:!0,size:!0,shape:!0},sort:{x:!0,y:!0,path:!0,order:!0},stack:{x:!0,y:!0}};function RS(e,t=Koe,n=Goe){const r=[];t.get(pe.MARK)&&r.push(y1(e.mark,n.get(pe.MARK))),e.transform&&e.transform.length>0&&r.push("transform:"+JSON.stringify(e.transform));let i;if(t.get(pe.STACK)&&(i=Cze(e)),e.encodings){const o=e.encodings.reduce((s,a)=>{if(!ou(a)){let l;i&&a.channel===i.fieldChannel?l=Cbe(Object.assign({},a,{stack:i.offset}),t,n):l=Cbe(a,t,n),l&&s.push(l)}return s},[]).sort().join("|");o&&r.push(o)}for(let o of pze){const s=o.toString();if(t.get(o)&&e[s]){const a=e[s];r.push(`${s}=${JSON.stringify(a)}`)}}return r.join("|")}function Cbe(e,t=Koe,n=Goe){const r=[];if(t.get(pe.CHANNEL)&&r.push(y1(e.channel,n.get(pe.CHANNEL))),sn(e)){const i=Eze(e,t,n);i&&r.push(i)}else nu(e)?r.push(e.value):mo(e)&&r.push("autocount()");return r.join(":")}function Eze(e,t=Koe,n=Goe){if(t.get(pe.AGGREGATE)&&ou(e))return"-";const r=Fqt(e,t,n),i=zqt(e,t,n);let o;if(sn(e)){if(o=t.get("field")?y1(e.field,n.get("field")):"...",t.get(pe.TYPE))if(It(e.type))o+=","+y1(e.type,n.get(pe.TYPE));else{const s=((e.type||gi)+"").substr(0,1);o+=","+y1(s,n.get(pe.TYPE))}o+=i.map(s=>{let a=s.value instanceof Array?"["+s.value+"]":s.value;return","+s.key+"="+a}).join("")}else mo(e)&&(o="*,q");return o?r?(rn.isString(r)?r:Vr+(rn.keys(r).length>0?JSON.stringify(r):""))+"("+o+")":o:null}function Fqt(e,t,n){if(t.get(pe.AGGREGATE)&&e.aggregate&&!It(e.aggregate))return dI(e.aggregate,n.get(pe.AGGREGATE));if(t.get(pe.AGGREGATE)&&B7(e))return dI("count",n.get(pe.AGGREGATE));if(t.get(pe.TIMEUNIT)&&e.timeUnit&&!It(e.timeUnit))return dI(e.timeUnit,n.get(pe.TIMEUNIT));if(t.get(pe.BIN)&&e.bin&&!It(e.bin))return"bin";{let r=null;for(const i of[pe.AGGREGATE,pe.AUTOCOUNT,pe.TIMEUNIT,pe.BIN]){const o=e[i];t.get(i)&&e[i]&&It(o)&&(r=r||{},r[i]=Q7(o)?o:o.enum)}return r&&e.hasFn&&(r.hasFn=!0),r}}function zqt(e,t,n){const r=[];if(!rn.isBoolean(e.bin)&&!Q7(e.bin)){const i=e.bin;for(const o in i){const s=Lp("bin",o);s&&t.get(s)&&i[o]!==void 0&&r.push({key:o,value:y1(i[o],n.get(s))})}r.sort((o,s)=>o.key.localeCompare(s.key))}for(const i of[pe.SCALE,pe.SORT,pe.STACK,pe.AXIS,pe.LEGEND])if(!(!It(e.channel)&&!IH[i][e.channel])&&t.get(i)&&e[i]!==void 0){const o=e[i];if(rn.isBoolean(o)||o===null)r.push({key:i+"",value:o||!1});else if(rn.isString(o))r.push({key:i+"",value:dI(JSON.stringify(o),n.get(i))});else{let s=[];for(const a in o){const l=Lp(i,a);l&&t.get(l)&&o[a]!==void 0&&s.push({key:a,value:y1(o[a],n.get(l))})}if(s.length>0){const a=s.sort((l,c)=>l.key.localeCompare(c.key)).reduce((l,c)=>(l[c.key]=c.value,l),{});r.push({key:i+"",value:JSON.stringify(a)})}}}return r}function wW(e,t,n){let r=[],i=0;for(let o=0;o<n;o++){let s=e.indexOf(t,i);if(s!==-1)r.push(e.substring(i,s)),i=s+1;else break}if(r.push(e.substr(i)),r.length!==n+1)for(;r.length!==n+1;)r.push("");return r}var $be;(function(e){function t(o,s){let a=s.indexOf("(")!==-1?i(s):n(wW(s,",",2));return Object.assign({channel:o},a)}e.encoding=t;function n(o){const s={};s.field=o[0],s.type=OUt(o[1].toUpperCase())||"?";let a=o[2],l=0,c=0;for(;c<a.length;){let u=a.indexOf("=",c),f;if(u!==-1){let d=a.substring(c,u);if(a[c+d.length+1]==="{"){let h=c+d.length+1;l=r(h,a,"}");const p=a.substring(h,l+1);f=JSON.parse(p),c=l+2}else if(a[c+d.length+1]==="["){let h=c+d.length+1,p=r(h,a,"]");const g=a.substring(h,p+1);f=JSON.parse(g),c=p+2}else{let h=c,p=a.indexOf(",",c+d.length);p===-1&&(p=a.length),c=p+1,f=JSON.parse(a.substring(h+d.length+1,p))}Yoe(d)?s[d]=f:(s.bin=s.bin||{},s.bin[d]=f)}else break}return s}e.rawFieldDef=n;function r(o,s,a){for(let l=o;l<s.length;l++)if(s[l]===a)return l}e.getClosingIndex=r;function i(o){const s={};if(o[0]==="?"){let a=r(1,o,"}"),l=JSON.parse(o.substring(1,a+1));for(let c in l)rn.isArray(l[c])?s[c]={enum:l[c]}:s[c]=l[c];return Object.assign({},s,n(wW(o.substring(a+2,o.length-1),",",2)))}else{let a=o.substring(0,o.indexOf("(")),l=o.substring(a.length+1,o.length-1),c=wW(l,",",2);if(gqt(a))return Object.assign({aggregate:a},n(c));if(nqt(a))return Object.assign({timeUnit:a},n(c));if(a==="bin")return Object.assign({bin:{}},n(c))}}e.fn=i})($be||($be={}));function nu(e){return e!=null&&e.value!==void 0}function sn(e){return e!=null&&(e.field||e.aggregate==="count")}function mo(e){return e!=null&&"autoCount"in e}function ou(e){return mo(e)&&e.autoCount===!1}function B7(e){return mo(e)&&e.autoCount===!0}const Qqt=[pe.AGGREGATE,pe.BIN,pe.TIMEUNIT,pe.FIELD,pe.TYPE,pe.SCALE,pe.SORT,pe.AXIS,pe.LEGEND,pe.STACK,pe.FORMAT];function kze(e,t){let n={};for(const r of e){if(ou(r))continue;const{channel:i}=r;if(It(i))throw new Error("Cannot convert wildcard channel to a fixed channel");const o=nu(r)?Bqt(r):Joe(r,t);if(o===null){if(t.wildcardMode==="null")return null;continue}n[i]=o}return n}function Bqt(e){const{value:t}=e;return It(t)?null:{value:t}}function Joe(e,t={}){const{props:n=Qqt,schema:r,wildcardMode:i="skip"}=t;if(sn(e)){const o={};for(const s of n){let a=e[s];if(It(a)){if(i==="skip")continue;return null}if(a!==void 0){if(!(!IH[s]||IH[s][e.channel]))continue;if(Yoe(s)&&rn.isObject(a)){a=Object.assign({},a);for(const c in a)if(It(a[c])){if(i==="null")return null;delete a[c]}}if(s==="bin"&&a===!1)continue;s==="type"&&a==="key"?o.type="nominal":o[s]=a}if(s===pe.SCALE&&r&&e.type===rd){const l=e.scale,{ordinalDomain:c}=r.fieldSchema(e.field);l!==null&&c&&(o[pe.SCALE]=Object.assign({domain:c},rn.isObject(l)?l:{}))}}return o}else{if(e.autoCount===!1)throw new Error("Cannot convert {autoCount: false} into a field def");return{aggregate:"count",field:"*",type:"quantitative"}}}function x$(e){return sn(e)?!Dm(e)&&e.type!=="temporal":mo(e)}function Dm(e){if(sn(e)){const t=Joe(e,{props:["bin","timeUnit","type"]});return _ze(t)||!!t.timeUnit}return!1}function db(e){const t=e.scale===!0||e.scale===Vr?{}:e.scale||{},{type:n,channel:r,timeUnit:i,bin:o}=e,s=void 0;if(It(t.type)||It(n)||It(r)||It(o))return;if(t.type)return t.type;if(n==="temporal"&&It(i)||n==="quantitative"&&It(o))return;const l={type:n===id.KEY?"nominal":n,timeUnit:i,bin:o};return Cqt({type:t.type},r,l,s)}var ese={exports:{}},SW=new Date,_W=new Date;function ps(e,t,n,r){function i(o){return e(o=new Date(+o)),o}return i.floor=i,i.round=function(o){var s=new Date(+o),a=new Date(o-1);return e(s),e(a),t(a,1),o-s<a-o?s:a},i.ceil=function(o){return e(o=new Date(o-1)),t(o,1),o},i.offset=function(o,s){return t(o=new Date(+o),s==null?1:Math.floor(s)),o},i.range=function(o,s,a){var l=[];if(o=new Date(o-1),s=new Date(+s),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return l;for(t(o,1),e(o),o<s&&l.push(new Date(+o));t(o,a),e(o),o<s;)l.push(new Date(+o));return l},i.filter=function(o){return ps(function(s){for(;e(s),!o(s);)s.setTime(s-1)},function(s,a){for(;--a>=0;)for(;t(s,1),!o(s););})},n&&(i.count=function(o,s){return SW.setTime(+o),_W.setTime(+s),e(SW),e(_W),Math.floor(n(SW,_W))},i.every=function(o){return o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?function(s){return r(s)%o===0}:function(s){return i.count(0,s)%o===0}):i}),i}var D2=ps(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});D2.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ps(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):D2};const Tze=ps(function(e){e.setMilliseconds(0)},function(e,t){e.setTime(+e+t*1e3)},function(e,t){return(t-e)/1e3},function(e){return e.getSeconds()}),Pze=ps(function(e){e.setSeconds(0,0)},function(e,t){e.setTime(+e+t*6e4)},function(e,t){return(t-e)/6e4},function(e){return e.getMinutes()}),Rze=ps(function(e){e.setMinutes(0,0,0)},function(e,t){e.setTime(+e+t*36e5)},function(e,t){return(t-e)/36e5},function(e){return e.getHours()}),Aze=ps(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5},function(e){return e.getDate()-1});function tO(e){return ps(function(t){t.setHours(0,0,0,0),t.setDate(t.getDate()-(t.getDay()+7-e)%7)},function(t,n){t.setDate(t.getDate()+n*7)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5})}var fL=tO(0),Dze=tO(1),Nze=tO(2),Mze=tO(3),Ize=tO(4),Lze=tO(5),jze=tO(6);const Fze=ps(function(e){e.setHours(0,0,0,0),e.setDate(1)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()}),zze=ps(function(e){e.setHours(0,0,0,0),e.setMonth(0,1)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()}),Qze=ps(function(e){e.setUTCMilliseconds(0)},function(e,t){e.setTime(+e+t*1e3)},function(e,t){return(t-e)/1e3},function(e){return e.getUTCSeconds()}),Bze=ps(function(e){e.setUTCSeconds(0,0)},function(e,t){e.setTime(+e+t*6e4)},function(e,t){return(t-e)/6e4},function(e){return e.getUTCMinutes()}),Wze=ps(function(e){e.setUTCMinutes(0,0,0)},function(e,t){e.setTime(+e+t*36e5)},function(e,t){return(t-e)/36e5},function(e){return e.getUTCHours()}),Vze=ps(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/864e5},function(e){return e.getUTCDate()-1});function nO(e){return ps(function(t){t.setUTCHours(0,0,0,0),t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7)},function(t,n){t.setUTCDate(t.getUTCDate()+n*7)},function(t,n){return(n-t)/6048e5})}var dL=nO(0),Uze=nO(1),qze=nO(2),Yze=nO(3),Xze=nO(4),Hze=nO(5),Zze=nO(6);const Gze=ps(function(e){e.setUTCHours(0,0,0,0),e.setUTCDate(1)},function(e,t){e.setUTCMonth(e.getUTCMonth()+t)},function(e,t){return t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12},function(e){return e.getUTCMonth()}),Kze=ps(function(e){e.setUTCHours(0,0,0,0),e.setUTCMonth(0,1)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});var Jze=D2.range,Wqt=Tze.range,Vqt=Pze.range,Uqt=Rze.range,qqt=Aze.range,Yqt=fL.range,Xqt=Dze.range,Hqt=Nze.range,Zqt=Mze.range,Gqt=Ize.range,Kqt=Lze.range,Jqt=jze.range,eYt=fL.range,tYt=Fze.range,nYt=zze.range,rYt=D2,iYt=Jze,oYt=Qze.range,sYt=Bze.range,aYt=Wze.range,lYt=Vze.range,cYt=dL.range,uYt=Uze.range,fYt=qze.range,dYt=Yze.range,hYt=Xze.range,pYt=Hze.range,gYt=Zze.range,mYt=dL.range,yYt=Gze.range,vYt=Kze.range;const bYt=Object.freeze(Object.defineProperty({__proto__:null,day:Aze,days:qqt,friday:Lze,fridays:Kqt,hour:Rze,hours:Uqt,interval:ps,millisecond:D2,milliseconds:Jze,minute:Pze,minutes:Vqt,monday:Dze,mondays:Xqt,month:Fze,months:tYt,saturday:jze,saturdays:Jqt,second:Tze,seconds:Wqt,sunday:fL,sundays:Yqt,thursday:Ize,thursdays:Gqt,tuesday:Nze,tuesdays:Hqt,utcDay:Vze,utcDays:lYt,utcFriday:Hze,utcFridays:pYt,utcHour:Wze,utcHours:aYt,utcMillisecond:rYt,utcMilliseconds:iYt,utcMinute:Bze,utcMinutes:sYt,utcMonday:Uze,utcMondays:uYt,utcMonth:Gze,utcMonths:yYt,utcSaturday:Zze,utcSaturdays:gYt,utcSecond:Qze,utcSeconds:oYt,utcSunday:dL,utcSundays:cYt,utcThursday:Xze,utcThursdays:hYt,utcTuesday:qze,utcTuesdays:fYt,utcWednesday:Yze,utcWednesdays:dYt,utcWeek:dL,utcWeeks:mYt,utcYear:Kze,utcYears:vYt,wednesday:Mze,wednesdays:Zqt,week:fL,weeks:eYt,year:zze,years:nYt},Symbol.toStringTag,{value:"Module"})),OYt=PP(bYt);var su=OYt,Ebe=new Date,WO=new Date(0,0,1).setFullYear(0),VO=new Date(Date.UTC(0,0,1)).setUTCFullYear(0);function au(e){return Ebe.setTime(+e),Ebe}function vc(e,t,n,r,i,o){var s={type:e,date:t,unit:n};return r?s.step=r:s.minstep=1,i!=null&&(s.min=i),o!=null&&(s.max=o),s}function lu(e,t,n,r,i,o){return vc(e,function(s){return t.offset(n,s)},function(s){return t.count(n,s)},r,i,o)}var xYt=[lu("second",su.second,WO),lu("minute",su.minute,WO),lu("hour",su.hour,WO),lu("day",su.day,WO,[1,7]),lu("month",su.month,WO,[1,3,6]),lu("year",su.year,WO),vc("seconds",function(e){return new Date(1970,0,1,0,0,e)},function(e){return au(e).getSeconds()},null,0,59),vc("minutes",function(e){return new Date(1970,0,1,0,e)},function(e){return au(e).getMinutes()},null,0,59),vc("hours",function(e){return new Date(1970,0,1,e)},function(e){return au(e).getHours()},null,0,23),vc("weekdays",function(e){return new Date(1970,0,4+e)},function(e){return au(e).getDay()},[1],0,6),vc("dates",function(e){return new Date(1970,0,e)},function(e){return au(e).getDate()},[1],1,31),vc("months",function(e){return new Date(1970,e%12,1)},function(e){return au(e).getMonth()},[1],0,11)],wYt=[lu("second",su.utcSecond,VO),lu("minute",su.utcMinute,VO),lu("hour",su.utcHour,VO),lu("day",su.utcDay,VO,[1,7]),lu("month",su.utcMonth,VO,[1,3,6]),lu("year",su.utcYear,VO),vc("seconds",function(e){return new Date(Date.UTC(1970,0,1,0,0,e))},function(e){return au(e).getUTCSeconds()},null,0,59),vc("minutes",function(e){return new Date(Date.UTC(1970,0,1,0,e))},function(e){return au(e).getUTCMinutes()},null,0,59),vc("hours",function(e){return new Date(Date.UTC(1970,0,1,e))},function(e){return au(e).getUTCHours()},null,0,23),vc("weekdays",function(e){return new Date(Date.UTC(1970,0,4+e))},function(e){return au(e).getUTCDay()},[1],0,6),vc("dates",function(e){return new Date(Date.UTC(1970,0,e))},function(e){return au(e).getUTCDate()},[1],1,31),vc("months",function(e){return new Date(Date.UTC(1970,e%12,1))},function(e){return au(e).getUTCMonth()},[1],0,11)],w$=[[31536e6,5],[7776e6,4],[2592e6,4],[12096e5,3],[6048e5,3],[1728e5,3],[864e5,3],[432e5,2],[216e5,2],[108e5,2],[36e5,2],[18e5,1],[9e5,1],[3e5,1],[6e4,1],[3e4,0],[15e3,0],[5e3,0],[1e3,0]];function SYt(e,t,n,r){var i=w$[0],o,s,a;for(o=1,s=w$.length;o<s;++o)if(i=w$[o],t>i[0]){if(a=t/i[0],a>r)return e[w$[o-1][1]];if(a>=n)return e[i[1]]}return e[w$[s-1][1]]}function e9e(e){var t={},n,r;for(n=0,r=e.length;n<r;++n)t[e[n].type]=e[n];return t.find=function(i,o,s){return SYt(e,i,o,s)},t}ese.exports=e9e(xYt);ese.exports.utc=e9e(wYt);var _Yt=ese.exports,CYt=rn,kbe=_Yt,t9e=1e-15;function LH(e){if(!e)throw Error("Missing binning options.");var t=e.maxbins||15,n=e.base||10,r=Math.log(n),i=e.div||[5,2],o=e.min,s=e.max,a=s-o,l,c,u,f,d,h,p;if(e.step)l=e.step;else if(e.steps)l=e.steps[Math.min(e.steps.length-1,$Yt(e.steps,a/t,0,e.steps.length))];else{for(c=Math.ceil(Math.log(t)/r),u=e.minstep||0,l=Math.max(u,Math.pow(n,Math.round(Math.log(a)/r)-c));Math.ceil(a/l)>t;)l*=n;for(h=0;h<i.length;++h)d=l/i[h],d>=u&&a/d<=t&&(l=d)}return d=Math.log(l),f=d>=0?0:~~(-d/r)+1,p=Math.pow(n,-f-1),o=Math.min(o,Math.floor(o/l+p)*l),s=Math.ceil(s/l)*l,{start:o,stop:s,step:l,unit:{precision:f},value:n9e,index:r9e}}function $Yt(e,t,n,r){for(;n<r;){var i=n+r>>>1;CYt.cmp(e[i],t)<0?n=i+1:r=i}return n}function n9e(e){return this.step*Math.floor(e/this.step+t9e)}function r9e(e){return Math.floor((e-this.start)/this.step+t9e)}function EYt(e){return this.unit.date(n9e.call(this,e))}function kYt(e){return r9e.call(this,this.unit.unit(e))}LH.date=function(e){if(!e)throw Error("Missing date binning options.");var t=e.utc?kbe.utc:kbe,n=e.min,r=e.max,i=e.maxbins||20,o=e.minbins||4,s=+r-+n,a=e.unit?t[e.unit]:t.find(s,o,i),l=LH({min:a.min!=null?a.min:a.unit(n),max:a.max!=null?a.max:a.unit(r),maxbins:i,minstep:a.minstep,steps:a.step});return l.unit=a,l.index=kYt,e.raw||(l.value=EYt),l};var TYt=LH;const PYt=Uu(TYt);var fo=rn,hL="__types__",RYt={boolean:fo.boolean,integer:fo.number,number:fo.number,date:fo.date,string:function(e){return e==null||e===""?null:e+""}},i9e={boolean:function(e){return e==="true"||e==="false"||fo.isBoolean(e)},integer:function(e){return i9e.number(e)&&(e=+e)===~~e},number:function(e){return!isNaN(+e)&&!fo.isDate(e)},date:function(e){return!isNaN(Date.parse(e))}};function AYt(e,t){if(!t)return e&&e[hL]||null;e[hL]=t}function o9e(e){return fo.keys(e)}function s9e(e){return"["+e+"]"}function rO(e,t){e=fo.array(e),t=fo.$(t);var n,r,i;if(e[hL]&&(n=t(e[hL]),fo.isString(n)))return n;for(r=0,i=e.length;!fo.isValid(n)&&r<i;++r)n=t?t(e[r]):e[r];return fo.isDate(n)?"date":fo.isNumber(n)?"number":fo.isBoolean(n)?"boolean":fo.isString(n)?"string":null}function DYt(e,t){if(e.length){var n=t?fo.identity:(t=o9e(e[0]),s9e);return t.reduce(function(r,i){return r[i]=rO(e,n(i)),r},{})}}function a9e(e,t){e=fo.array(e),t=fo.$(t);var n,r,i,o=["boolean","integer","number","date"];for(n=0;n<e.length;++n){for(i=t?t(e[n]):e[n],r=0;r<o.length;++r)fo.isValid(i)&&!i9e[o[r]](i)&&(o.splice(r,1),r-=1);if(o.length===0)return"string"}return o[0]}function NYt(e,t){var n=t?fo.identity:(t=o9e(e[0]),s9e);return t.reduce(function(r,i){return r[i]=a9e(e,n(i)),r},{})}rO.annotation=AYt;rO.all=DYt;rO.infer=a9e;rO.inferAll=NYt;rO.parsers=RYt;var l9e=rO,c9e={exports:{}},u9e={exports:{}};(function(e){var t=rn,n=e.exports;n.repeat=function(r,i){var o=Array(i),s;for(s=0;s<i;++s)o[s]=r;return o},n.zeros=function(r){return n.repeat(0,r)},n.range=function(r,i,o){if(arguments.length<3&&(o=1,arguments.length<2&&(i=r,r=0)),(i-r)/o==1/0)throw new Error("Infinite range");var s=[],a=-1,l;if(o<0)for(;(l=r+o*++a)>i;)s.push(l);else for(;(l=r+o*++a)<i;)s.push(l);return s},n.random={},n.random.uniform=function(r,i){i===void 0&&(i=r===void 0?1:r,r=0);var o=i-r,s=function(){return r+o*Math.random()};return s.samples=function(a){return n.zeros(a).map(s)},s.pdf=function(a){return a>=r&&a<=i?1/o:0},s.cdf=function(a){return a<r?0:a>i?1:(a-r)/o},s.icdf=function(a){return a>=0&&a<=1?r+a*o:NaN},s},n.random.integer=function(r,i){i===void 0&&(i=r,r=0);var o=i-r,s=function(){return r+Math.floor(o*Math.random())};return s.samples=function(a){return n.zeros(a).map(s)},s.pdf=function(a){return a===Math.floor(a)&&a>=r&&a<i?1/o:0},s.cdf=function(a){var l=Math.floor(a);return l<r?0:l>=i?1:(l-r+1)/o},s.icdf=function(a){return a>=0&&a<=1?r-1+Math.floor(a*o):NaN},s},n.random.normal=function(r,i){r=r||0,i=i||1;var o,s=function(){var a=0,l=0,c,u;if(o!==void 0)return a=o,o=void 0,a;do a=Math.random()*2-1,l=Math.random()*2-1,c=a*a+l*l;while(c===0||c>1);return u=Math.sqrt(-2*Math.log(c)/c),o=r+l*u*i,r+a*u*i};return s.samples=function(a){return n.zeros(a).map(s)},s.pdf=function(a){var l=Math.exp(Math.pow(a-r,2)/(-2*Math.pow(i,2)));return 1/(i*Math.sqrt(2*Math.PI))*l},s.cdf=function(a){var l,c=(a-r)/i,u=Math.abs(c);if(u>37)l=0;else{var f,d=Math.exp(-u*u/2);u<7.07106781186547?(f=.0352624965998911*u+.700383064443688,f=f*u+6.37396220353165,f=f*u+33.912866078383,f=f*u+112.079291497871,f=f*u+221.213596169931,f=f*u+220.206867912376,l=d*f,f=.0883883476483184*u+1.75566716318264,f=f*u+16.064177579207,f=f*u+86.7807322029461,f=f*u+296.564248779674,f=f*u+637.333633378831,f=f*u+793.826512519948,f=f*u+440.413735824752,l=l/f):(f=u+.65,f=u+4/f,f=u+3/f,f=u+2/f,f=u+1/f,l=d/f/2.506628274631)}return c>0?1-l:l},s.icdf=function(a){if(a<=0||a>=1)return NaN;var l=2*a-1,c=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),u=2/(Math.PI*c)+Math.log(1-Math.pow(l,2))/2,f=Math.log(1-l*l)/c,d=(l>0?1:-1)*Math.sqrt(Math.sqrt(u*u-f)-u);return r+i*Math.SQRT2*d},s},n.random.bootstrap=function(r,i){var o=r.filter(t.isValid),s=o.length,a=i?n.random.normal(0,i):null,l=function(){return o[~~(Math.random()*s)]+(a?a():0)};return l.samples=function(c){return n.zeros(c).map(l)},l}})(u9e);var MYt=u9e.exports;(function(e){var t=rn,n=l9e,r=MYt,i=e.exports;i.unique=function(l,c,u){c=t.$(c),u=u||[];var f={},d,h,p;for(h=0,p=l.length;h<p;++h)d=c?c(l[h]):l[h],!(d in f)&&(f[d]=1,u.push(d));return u},i.count=function(l){return l&&l.length||0},i.count.valid=function(l,c){c=t.$(c);var u,f,d,h=0;for(f=0,d=l.length;f<d;++f)u=c?c(l[f]):l[f],t.isValid(u)&&(h+=1);return h},i.count.missing=function(l,c){c=t.$(c);var u,f,d,h=0;for(f=0,d=l.length;f<d;++f)u=c?c(l[f]):l[f],u==null&&(h+=1);return h},i.count.distinct=function(l,c){c=t.$(c);var u={},f,d,h,p=0;for(d=0,h=l.length;d<h;++d)f=c?c(l[d]):l[d],!(f in u)&&(u[f]=1,p+=1);return p},i.count.map=function(l,c){c=t.$(c);var u={},f,d,h;for(d=0,h=l.length;d<h;++d)f=c?c(l[d]):l[d],u[f]=f in u?u[f]+1:1;return u},i.median=function(l,c){return c&&(l=l.map(t.$(c))),l=l.filter(t.isValid).sort(t.cmp),i.quantile(l,.5)},i.quartile=function(l,c){c&&(l=l.map(t.$(c))),l=l.filter(t.isValid).sort(t.cmp);var u=i.quantile;return[u(l,.25),u(l,.5),u(l,.75)]},i.quantile=function(l,c,u){u===void 0&&(u=c,c=t.identity),c=t.$(c);var f=(l.length-1)*u+1,d=Math.floor(f),h=+c(l[d-1]),p=f-d;return p?h+p*(c(l[d])-h):h},i.sum=function(l,c){c=t.$(c);for(var u=0,f=0,d=l.length,h;f<d;++f)h=c?c(l[f]):l[f],t.isValid(h)&&(u+=h);return u},i.mean=function(l,c){c=t.$(c);var u=0,f,d,h,p,g;for(d=0,p=0,h=l.length;d<h;++d)g=c?c(l[d]):l[d],t.isValid(g)&&(f=g-u,u=u+f/++p);return u},i.mean.geometric=function(l,c){c=t.$(c);var u=1,f,d,h,p;for(p=0,f=0,d=l.length;p<d;++p)if(h=c?c(l[p]):l[p],t.isValid(h)){if(h<=0)throw Error("Geometric mean only defined for positive values.");u*=h,++f}return u=f>0?Math.pow(u,1/f):0,u},i.mean.harmonic=function(l,c){c=t.$(c);var u=0,f,d,h,p;for(p=0,f=0,d=l.length;p<d;++p)h=c?c(l[p]):l[p],t.isValid(h)&&(u+=1/h,++f);return f/u},i.variance=function(l,c){if(c=t.$(c),!t.isArray(l)||l.length<2)return 0;var u=0,f=0,d,h,p,g;for(h=0,p=0;h<l.length;++h)g=c?c(l[h]):l[h],t.isValid(g)&&(d=g-u,u=u+d/++p,f=f+d*(g-u));return f=f/(p-1),f},i.stdev=function(l,c){return Math.sqrt(i.variance(l,c))},i.modeskew=function(l,c){var u=i.mean(l,c),f=i.median(l,c),d=i.stdev(l,c);return d===0?0:(u-f)/d},i.min=function(l,c){return i.extent(l,c)[0]},i.max=function(l,c){return i.extent(l,c)[1]},i.extent=function(l,c){c=t.$(c);var u,f,d,h,p=l.length;for(h=0;h<p;++h)if(d=c?c(l[h]):l[h],t.isValid(d)){u=f=d;break}for(;h<p;++h)d=c?c(l[h]):l[h],t.isValid(d)&&(d<u&&(u=d),d>f&&(f=d));return[u,f]},i.extent.index=function(l,c){c=t.$(c);var u=-1,f=-1,d,h,p,g,y=l.length;for(g=0;g<y;++g)if(p=c?c(l[g]):l[g],t.isValid(p)){d=h=p,u=f=g;break}for(;g<y;++g)p=c?c(l[g]):l[g],t.isValid(p)&&(p<d&&(d=p,u=g),p>h&&(h=p,f=g));return[u,f]},i.dot=function(l,c,u){var f=0,d,h;if(u)for(c=t.$(c),u=t.$(u),d=0;d<l.length;++d)h=c(l[d])*u(l[d]),h===h&&(f+=h);else{if(l.length!==c.length)throw Error("Array lengths must match.");for(d=0;d<l.length;++d)h=l[d]*c[d],h===h&&(f+=h)}return f},i.dist=function(l,c,u,f){var d=t.isFunction(u)||t.isString(u),h=l,p=d?l:c,g=d?f:u,y=g===2||g==null,v=l.length,x=0,m,w;for(d&&(c=t.$(c),u=t.$(u)),w=0;w<v;++w)m=d?c(h[w])-u(p[w]):h[w]-p[w],x+=y?m*m:Math.pow(Math.abs(m),g);return y?Math.sqrt(x):Math.pow(x,1/g)},i.cohensd=function(l,c,u){var f=u?l.map(t.$(c)):l,d=u?l.map(t.$(u)):c,h=i.mean(f),p=i.mean(d),g=i.count.valid(f),y=i.count.valid(d);if(g+y-2<=0)return 0;var v=i.variance(f),x=i.variance(d),m=Math.sqrt(((g-1)*v+(y-1)*x)/(g+y-2));return m===0?0:(h-p)/m},i.covariance=function(l,c,u){var f=u?l.map(t.$(c)):l,d=u?l.map(t.$(u)):c,h=f.length,p=i.mean(f),g=i.mean(d),y=0,v=0,x,m,w,S,C;if(h!==d.length)throw Error("Input lengths must match.");for(x=0;x<h;++x)if(m=f[x],S=t.isValid(m),w=d[x],C=t.isValid(w),S&&C)y+=(m-p)*(w-g),++v;else if(S||C)throw Error("Valid values must align.");return y/(v-1)},i.rank=function(l,c){c=t.$(c)||t.identity;var u=l.map(function(x,m){return{idx:m,val:c(x)}}).sort(t.comparator("val")),f=l.length,d=Array(f),h=-1,p={},g,y,v;for(g=0;g<f;++g){if(y=u[g].val,h<0&&p===y)h=g-1;else if(h>-1&&p!==y){for(v=1+(g-1+h)/2;h<g;++h)d[u[h].idx]=v;h=-1}d[u[g].idx]=g+1,p=y}if(h>-1)for(v=1+(f-1+h)/2;h<f;++h)d[u[h].idx]=v;return d},i.cor=function(l,c,u){var f=u;u=f?l.map(t.$(u)):c,c=f?l.map(t.$(c)):l;var d=i.dot(c,u),h=i.mean(c),p=i.mean(u),g=i.stdev(c),y=i.stdev(u),v=l.length;return(d-v*h*p)/((v-1)*g*y)},i.cor.rank=function(l,c,u){var f=u?i.rank(l,c):i.rank(l),d=u?i.rank(l,u):i.rank(c),h=l.length,p,g,y;for(p=0,g=0;p<h;++p)y=f[p]-d[p],g+=y*y;return 1-6*g/(h*(h*h-1))},i.cor.dist=function(l,c,u){var f=u?l.map(t.$(c)):l,d=u?l.map(t.$(u)):c,h=i.dist.mat(f),p=i.dist.mat(d),g=h.length,y,v,x,m;for(y=0,v=0,x=0,m=0;y<g;++y)v+=h[y]*h[y],x+=p[y]*p[y],m+=h[y]*p[y];return Math.sqrt(m/Math.sqrt(v*x))},i.linearRegression=function(l,c,u){var f=u?l.map(t.$(c)):l,d=u?l.map(t.$(u)):c,h=f.length,p=i.covariance(f,d),g=i.stdev(f),y=i.stdev(d),v=p/(g*g),x=i.mean(d)-v*i.mean(f),m={slope:v,intercept:x,R:p/(g*y),rss:0},w,S;for(S=0;S<h;++S)t.isValid(f[S])&&t.isValid(d[S])&&(w=v*f[S]+x-d[S],m.rss+=w*w);return m},i.bootstrap={},i.bootstrap.ci=function(l,c,u,f,d){var h,p,g,y,v,x,m;for(t.isFunction(c)||t.isString(c)?(h=l.map(t.$(c)),p=u,g=f,y=d):(h=l,p=c,g=u,y=f),p=p?+p:1e3,g=g||.05,v=r.random.bootstrap(h,y),m=0,x=Array(p);m<p;++m)x[m]=i.mean(v.samples(h.length));return x.sort(t.numcmp),[i.quantile(x,g/2),i.quantile(x,1-g/2)]},i.z={},i.z.ci=function(l,c,u){var f=l,d=c;(t.isFunction(c)||t.isString(c))&&(f=l.map(t.$(c)),d=u),d=d||.05;var h=d===.05?1.96:r.random.normal(0,1).icdf(1-d/2),p=i.mean(f),g=i.stdev(f)/Math.sqrt(i.count.valid(f));return[p-h*g,p+h*g]},i.z.test=function(l,c,u,f){return t.isFunction(u)||t.isString(u)?(f&&f.paired?s:a)(f,l,c,u):t.isArray(c)?(u&&u.paired?s:a)(u,l,c):t.isFunction(c)||t.isString(c)?o(u,l,c):o(c,l)};function o(l,c,u){var f=l&&l.nullh||0,d=r.random.normal(0,1),h=i.mean(c,u),p=i.stdev(c,u)/Math.sqrt(i.count.valid(c,u));if(p===0)return h-f===0?1:0;var g=(h-f)/p;return 2*d.cdf(-Math.abs(g))}function s(l,c,u,f){var d=f?c.map(t.$(u)):c,h=f?c.map(t.$(f)):u,p=i.count(d),g=i.count(h),y=Array(),v;if(p!==g)throw Error("Array lengths must match.");for(v=0;v<p;++v)t.isValid(d[v])&&t.isValid(h[v])&&y.push(d[v]-h[v]);return i.z.test(y,l&&l.nullh||0)}function a(l,c,u,f){var d=f?c.map(t.$(u)):c,h=f?c.map(t.$(f)):u,p=i.count.valid(d),g=i.count.valid(h),y=r.random.normal(0,1),v=i.mean(d)-i.mean(h)-(l&&l.nullh||0),x=Math.sqrt(i.variance(d)/p+i.variance(h)/g);if(x===0)return v===0?1:0;var m=v/x;return 2*y.cdf(-Math.abs(m))}i.dist.mat=function(l){var c=l.length,u=c*c,f=Array(u),d=r.zeros(c),h=0,p,g,y;for(g=0;g<c;++g)for(f[g*c+g]=0,y=g+1;y<c;++y)f[g*c+y]=p=Math.abs(l[g]-l[y]),f[y*c+g]=p,d[g]+=p,d[y]+=p;for(g=0;g<c;++g)h+=d[g],d[g]/=c;for(h/=u,g=0;g<c;++g)for(y=g;y<c;++y)f[g*c+y]+=h-d[g]-d[y],f[y*c+g]=f[g*c+y];return f},i.entropy=function(l,c){c=t.$(c);var u,f,d=0,h=0,p=l.length;for(u=0;u<p;++u)d+=c?c(l[u]):l[u];if(d===0)return 0;for(u=0;u<p;++u)f=(c?c(l[u]):l[u])/d,f&&(h+=f*Math.log(f));return-h/Math.LN2},i.mutual=function(l,c,u,f){var d=f?l.map(t.$(c)):l,h=f?l.map(t.$(u)):c,p=f?l.map(t.$(f)):u,g={},y={},v=p.length,x=0,m=0,w=0,S,C,$;for($=0;$<v;++$)g[d[$]]=0,y[h[$]]=0;for($=0;$<v;++$)g[d[$]]+=p[$],y[h[$]]+=p[$],x+=p[$];for(C=1/(x*Math.LN2),$=0;$<v;++$)p[$]!==0&&(S=x*p[$]/(g[d[$]]*y[h[$]]),m+=p[$]*C*Math.log(S),w+=p[$]*C*Math.log(p[$]/x));return[m,1+m/w]},i.mutual.info=function(l,c,u,f){return i.mutual(l,c,u,f)[0]},i.mutual.dist=function(l,c,u,f){return i.mutual(l,c,u,f)[1]},i.profile=function(l,c){var u=0,f=0,d=0,h=0,p=null,g=null,y=0,v=[],x={},m,w,S,C,$;for(S=0;S<l.length;++S)C=c?c(l[S]):l[S],x[C]=C in x?x[C]+1:(h+=1,1),C==null?++d:t.isValid(C)&&($=typeof C=="string"?C.length:C,(p===null||$<p)&&(p=$),(g===null||$>g)&&(g=$),m=$-u,u=u+m/++f,y=y+m*($-u),v.push($));return y=y/(f-1),w=Math.sqrt(y),v.sort(t.cmp),{type:n(l,c),unique:x,count:l.length,valid:f,missing:d,distinct:h,min:p,max:g,mean:u,stdev:w,median:C=i.quantile(v,.5),q1:i.quantile(v,.25),q3:i.quantile(v,.75),modeskew:w===0?0:(u-C)/w}},i.summary=function(l,c){c=c||t.keys(l[0]);var u=c.map(function(f){var d=i.profile(l,t.$(f));return d.field=f,d});return u.__summary__=!0,u}})(c9e);var IYt=c9e.exports;const LYt=PYt;function jYt(e,t={},n={fields:[]}){t=rn.extend({},PR,t);let r=IYt.summary(e),i=l9e.inferAll(e),o=n.fields.reduce((l,c)=>(l[c.name]=c,l),{}),s=r.map(function(l,c){const u=l.field,f=i[u]==="date"?Ji.DATETIME:i[u];let d=l.distinct,h;if(f===Ji.NUMBER)h=gi;else if(f===Ji.INTEGER)d<t.numberNominalLimit&&d/l.count<t.numberNominalProportion?h=Pu:h=gi;else if(f===Ji.DATETIME){h=Cs,l.min=new Date(e[0][u]),l.max=new Date(e[0][u]);for(const y of e){const v=new Date(y[u]).getTime();v<l.min.getTime()&&(l.min=new Date(v)),v>l.max.getTime()&&(l.max=new Date(v))}}else h=Pu;h===Pu&&d/l.count>t.minPercentUniqueForKey&&l.count>t.minCardinalityForKey&&(h=id.KEY);let p={name:u,originalIndex:c,vlType:h,type:f,stats:l,timeStats:{},binStats:{}};const g=o[p.name];return p=rn.extend(p,g),p});for(let l of s)if(l.vlType===gi)for(let c of t.enum.binProps.maxbins)l.binStats[c]=f9e(c,l.stats);else if(l.vlType===Cs)for(let c of t.enum.timeUnit)c!==void 0&&(l.timeStats[c]=d9e(c,l.stats));const a=Object.assign({},n,{fields:s});return new FYt(a)}const cN={nominal:0,key:1,ordinal:2,temporal:3,quantitative:4};let FYt=class{constructor(t){this._tableSchema=t,t.fields.sort(function(n,r){return cN[n.vlType]<cN[r.vlType]?-1:cN[n.vlType]>cN[r.vlType]?1:n.name.localeCompare(r.name)}),t.fields.forEach((n,r)=>n.index=r),this._fieldSchemaIndex=t.fields.reduce((n,r)=>(n[r.name]=r,n),{})}fieldNames(){return this._tableSchema.fields.map(t=>t.name)}get fieldSchemas(){return this._tableSchema.fields}fieldSchema(t){return this._fieldSchemaIndex[t]}tableSchema(){const t=rn.duplicate(this._tableSchema);return t.fields.sort((n,r)=>n.originalIndex-r.originalIndex),t}primitiveType(t){return this._fieldSchemaIndex[t]?this._fieldSchemaIndex[t].type:null}vlType(t){return this._fieldSchemaIndex[t]?this._fieldSchemaIndex[t].vlType:null}cardinality(t,n=!0,r=!1){const i=this._fieldSchemaIndex[t.field];if(t.aggregate||mo(t)&&t.autoCount)return 1;if(t.bin){let o;typeof t.bin=="boolean"?o={maxbins:MH(t.channel)}:t.bin==="?"?o={enum:[!0,!1]}:o=t.bin;const s=o.maxbins;return i.binStats[s]||(i.binStats[s]=f9e(s,i.stats)),i.binStats[s].distinct}else if(t.timeUnit){if(n)switch(t.timeUnit){case lo.SECONDS:return 60;case lo.MINUTES:return 60;case lo.HOURS:return 24;case lo.DAY:return 7;case lo.DATE:return 31;case lo.MONTH:return 12;case lo.QUARTER:return 4;case lo.MILLISECONDS:return 1e3}let o=t.timeUnit,s=i.timeStats;return(!s||!s[o])&&(s=Object.assign({},s,{[o]:d9e(t.timeUnit,i.stats)})),r?s[o].distinct-Tbe(s[o].unique,["Invalid Date",null]):s[o].distinct}else return i?r?i.stats.distinct-Tbe(i.stats.unique,[NaN,null]):i.stats.distinct:null}timeUnitHasVariation(t){if(!t.timeUnit)return;if(t.timeUnit===lo.DAY){const r=rn.extend({},t,{timeUnit:lo.DATE});if(this.cardinality(r,!1,!0)<=1)return!1}let n=t.timeUnit;for(let r of vze)if(Oze(n,r)){const i=rn.extend({},t,{timeUnit:r});if(this.cardinality(i,!1,!0)<=1)return!1}return!0}domain(t){const n=this._fieldSchemaIndex[t.field];let r=rn.keys(n.stats.unique);return n.vlType===gi?[+n.stats.min,+n.stats.max]:n.type===Ji.DATETIME?[n.stats.min,n.stats.max]:n.type===Ji.INTEGER||n.type===Ji.NUMBER?(r=r.map(i=>+i),r.sort(rn.cmp)):n.vlType===rd&&n.ordinalDomain?n.ordinalDomain:r.map(i=>i==="null"?null:i).sort(rn.cmp)}stats(t){const n=this._fieldSchemaIndex[t.field];return n?n.stats:null}};function f9e(e,t){const n=LYt({min:t.min,max:t.max,maxbins:e}),r=rn.extend({},t);return r.unique=zYt(n,t.unique),r.distinct=(n.stop-n.start)/n.step,r.min=n.start,r.max=n.stop,r}function d9e(e,t){const n=rn.extend({},t);let r={};return rn.keys(t.unique).forEach(function(i){let o=i==="null"?null:new Date(i),s;o===null?s=null:isNaN(o.getTime())?s="Invalid Date":s=(e===lo.DAY?o.getDay():iqt(e,o)).toString(),r[s]=(r[s]||0)+t.unique[i]}),n.unique=r,n.distinct=rn.keys(r).length,n}function zYt(e,t){const n={};for(let r in t){let i;r===null?i=null:isNaN(Number(r))?i=NaN:i=e.value(Number(r)),n[i]=(n[i]||0)+t[r]}return n}function Tbe(e,t){return t.reduce(function(n,r){return e[r]?n+1:n},0)}var Ji;(function(e){e[e.STRING="string"]="STRING",e[e.NUMBER="number"]="NUMBER",e[e.INTEGER="integer"]="INTEGER",e[e.BOOLEAN="boolean"]="BOOLEAN",e[e.DATETIME="datetime"]="DATETIME"})(Ji||(Ji={}));class h9e{constructor(t){this.constraint=t}name(){return this.constraint.name}description(){return this.constraint.description}properties(){return this.constraint.properties}strict(){return this.constraint.strict}}class p9e extends h9e{constructor(t){super(t)}hasAllRequiredPropertiesSpecific(t){return Qd(this.constraint.properties,n=>{if(uh(n)){let r=n.parent,i=n.child;return t[r]?!It(t[r][i]):!0}return t[n]?!It(t[n]):!0})}satisfy(t,n,r,i){return!this.constraint.allowWildcardForProperties&&!this.hasAllRequiredPropertiesSpecific(t)?!0:this.constraint.satisfy(t,n,r,i)}}const g9e=[{name:"aggregateOpSupportedByType",description:"Aggregate function should be supported by data type.",properties:[pe.TYPE,pe.AGGREGATE],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n,r)=>e.aggregate?!Sbe(e.type):!0},{name:"asteriskFieldWithCountOnly",description:'Field="*" should be disallowed except aggregate="count"',properties:[pe.FIELD,pe.AGGREGATE],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n,r)=>e.field==="*"==(e.aggregate==="count")},{name:"minCardinalityForBin",description:"binned quantitative field should not have too low cardinality",properties:[pe.BIN,pe.FIELD,pe.TYPE],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n,r)=>{if(e.bin&&e.type===gi){let i={channel:e.channel,field:e.field,type:e.type};return t.cardinality(i)>=r.minCardinalityForBin}return!0}},{name:"binAppliedForQuantitative",description:"bin should be applied to quantitative field only.",properties:[pe.TYPE,pe.BIN],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n,r)=>e.bin?e.type===gi:!0},{name:"channelFieldCompatible",description:"encoding channel's range type be compatible with channel type.",properties:[pe.CHANNEL,pe.TYPE,pe.BIN,pe.TIMEUNIT],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n,r)=>{const i=Object.assign({field:"f"},Joe(e,{schema:t,props:["bin","timeUnit","type"]})),{compatible:o}=_qt(i,e.channel);return o?!0:!!((e.channel==="row"||e.channel==="column")&&(ZUt(i.timeUnit)||GUt(i.timeUnit)))}},{name:"hasFn",description:"A field with as hasFn flag should have one of aggregate, timeUnit, or bin.",properties:[pe.AGGREGATE,pe.BIN,pe.TIMEUNIT],allowWildcardForProperties:!0,strict:!0,satisfy:(e,t,n,r)=>e.hasFn?!!e.aggregate||!!e.bin||!!e.timeUnit:!0},{name:"omitScaleZeroWithBinnedField",description:"Do not use scale zero with binned field",properties:[pe.SCALE,Lp("scale","zero"),pe.BIN],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n,r)=>!(e.bin&&e.scale&&e.scale.zero===!0)},{name:"onlyOneTypeOfFunction",description:"Only of of aggregate, autoCount, timeUnit, or bin should be applied at the same time.",properties:[pe.AGGREGATE,pe.AUTOCOUNT,pe.TIMEUNIT,pe.BIN],allowWildcardForProperties:!0,strict:!0,satisfy:(e,t,n,r)=>sn(e)?(!It(e.aggregate)&&e.aggregate?1:0)+(!It(e.bin)&&e.bin?1:0)+(!It(e.timeUnit)&&e.timeUnit?1:0)<=1:!0},{name:"timeUnitAppliedForTemporal",description:"Time unit should be applied to temporal field only.",properties:[pe.TYPE,pe.TIMEUNIT],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n,r)=>!(e.timeUnit&&e.type!==Cs)},{name:"timeUnitShouldHaveVariation",description:"A particular time unit should be applied only if they produce unique values.",properties:[pe.TIMEUNIT,pe.TYPE],allowWildcardForProperties:!1,strict:!1,satisfy:(e,t,n,r)=>e.timeUnit&&e.type===Cs?!n.has("timeUnit")&&!r.constraintManuallySpecifiedValue?!0:t.timeUnitHasVariation(e):!0},{name:"scalePropertiesSupportedByScaleType",description:"Scale properties must be supported by correct scale type",properties:[].concat(aL,[pe.SCALE,pe.TYPE]),allowWildcardForProperties:!0,strict:!0,satisfy:(e,t,n,r)=>{if(e.scale){const i=e.scale,o=db(e);if(o==null)return!0;for(let s in i){if(s==="type"||s==="name"||s==="enum")continue;const a=s;if(o==="point"){if(!mW("point",a)&&!mW("band",a))return!1}else if(!mW(o,a))return!1}}return!0}},{name:"scalePropertiesSupportedByChannel",description:"Not all scale properties are supported by all encoding channels",properties:[].concat(aL,[pe.SCALE,pe.CHANNEL]),allowWildcardForProperties:!0,strict:!0,satisfy:(e,t,n,r)=>{if(e){let i=e.channel,o=e.scale;if(i&&!It(i)&&o){if(i==="row"||i==="column")return!1;for(let s in o){if(!o.hasOwnProperty(s)||s==="type"||s==="name"||s==="enum")continue;if(!(AUt(i,s)===void 0))return!1}}}return!0}},{name:"typeMatchesPrimitiveType",description:"Data type should be supported by field's primitive type.",properties:[pe.FIELD,pe.TYPE],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n,r)=>{if(e.field==="*")return!0;const i=t.primitiveType(e.field),o=e.type;if(!n.has("field")&&!n.has("type")&&!r.constraintManuallySpecifiedValue)return!0;switch(i){case Ji.BOOLEAN:case Ji.STRING:return o!==gi&&o!==Cs;case Ji.NUMBER:case Ji.INTEGER:return o!==Cs;case Ji.DATETIME:return o===Cs;case null:return!1}throw new Error("Not implemented")}},{name:"typeMatchesSchemaType",description:"Enumerated data type of a field should match the field's type in the schema.",properties:[pe.FIELD,pe.TYPE],allowWildcardForProperties:!1,strict:!1,satisfy:(e,t,n,r)=>!n.has("field")&&!n.has("type")&&!r.constraintManuallySpecifiedValue?!0:e.field==="*"?e.type===gi:t.vlType(e.field)===e.type},{name:"maxCardinalityForCategoricalColor",description:"Categorical channel should not have too high cardinality",properties:[pe.CHANNEL,pe.FIELD],allowWildcardForProperties:!1,strict:!1,satisfy:(e,t,n,r)=>e.channel===ch&&(e.type===Pu||e.type===id.KEY)?t.cardinality(e)<=r.maxCardinalityForCategoricalColor:!0},{name:"maxCardinalityForFacet",description:"Row/column channel should not have too high cardinality",properties:[pe.CHANNEL,pe.FIELD,pe.BIN,pe.TIMEUNIT],allowWildcardForProperties:!1,strict:!1,satisfy:(e,t,n,r)=>e.channel===zu||e.channel===Fc?t.cardinality(e)<=r.maxCardinalityForFacet:!0},{name:"maxCardinalityForShape",description:"Shape channel should not have too high cardinality",properties:[pe.CHANNEL,pe.FIELD,pe.BIN,pe.TIMEUNIT],allowWildcardForProperties:!1,strict:!1,satisfy:(e,t,n,r)=>e.channel===TR?t.cardinality(e)<=r.maxCardinalityForShape:!0},{name:"dataTypeAndFunctionMatchScaleType",description:"Scale type must match data type",properties:[pe.TYPE,pe.SCALE,Lp("scale","type"),pe.TIMEUNIT,pe.BIN],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n,r)=>{if(e.scale){const i=e.type,o=db(e);if(Sbe(i))return o===void 0||fb(o);if(i===Cs)return e.timeUnit?yc([Qr.TIME,Qr.UTC,void 0],o)||fb(o):yc([Qr.TIME,Qr.UTC,void 0],o);if(i===gi)return e.bin?yc([Qr.LINEAR,void 0],o):yc([Qr.LOG,Qr.POW,Qr.SQRT,Qr.QUANTILE,Qr.QUANTIZE,Qr.LINEAR,void 0],o)}return!0}},{name:"stackIsOnlyUsedWithXY",description:"stack should only be allowed for x and y channels",properties:[pe.STACK,pe.CHANNEL],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n,r)=>e.stack?e.channel===zr||e.channel===Fr:!0}].map(e=>new p9e(e));g9e.reduce((e,t)=>(e[t.name()]=t,e),{});const QYt=g9e.reduce((e,t)=>{for(const n of t.properties())e.set(n,e.get(n)||[]),e.get(n).push(t);return e},new nl),m9e=[{name:"doesNotSupportConstantValue",description:"row, column, x, y, order, and detail should not work with constant values.",properties:[pe.TYPE,pe.AGGREGATE],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n,r)=>!yc(["row","column","x","y","detail","order"],e.channel)}].map(e=>new p9e(e));m9e.reduce((e,t)=>(e[t.name()]=t,e),{});const BYt=m9e.reduce((e,t)=>{for(const n of t.properties())e.set(n,e.get(n)||[]),e.get(n).push(t);return e},new nl);function WYt(e,t,n,r,i,o){const s=QYt.get(e)||[],a=r.getEncodingQueryByIndex(n);for(const c of s)if((c.strict()||o[c.name()])&&!c.satisfy(a,i,r.wildcardIndex.encodings[n],o)){let f="(enc) "+c.name();return o.verbose&&console.log(f+" failed with "+r.toShorthand()+" for "+t.name),f}const l=BYt.get(e)||[];for(const c of l)if((c.strict()||o[c.name()])&&nu(a)&&!c.satisfy(a,i,r.wildcardIndex.encodings[n],o)){let f="(enc) "+c.name();return o.verbose&&console.log(f+" failed with "+r.toShorthand()+" for "+t.name),f}return null}const VYt=K8e.reduce((e,t)=>(e[t]=!0,e),{});class UYt extends h9e{constructor(t){super(t)}hasAllRequiredPropertiesSpecific(t){return Qd(this.constraint.properties,n=>{if(n===pe.MARK)return!It(t.getMark());if(uh(n)){let r=n.parent,i=n.child;return Qd(t.getEncodings(),o=>o[r]?!It(o[r][i]):!0)}if(!mze(n))throw new Error("UNIMPLEMENTED");return Qd(t.getEncodings(),r=>r[n]?!It(r[n]):!0)})}satisfy(t,n,r){return!this.constraint.allowWildcardForProperties&&!this.hasAllRequiredPropertiesSpecific(t)?!0:this.constraint.satisfy(t,n,r)}}const y9e=[{name:"noRepeatedChannel",description:"Each encoding channel should only be used once.",properties:[pe.CHANNEL],allowWildcardForProperties:!0,strict:!0,satisfy:(e,t,n)=>{let r={};return Qd(e.getEncodings(),i=>It(i.channel)?!0:r[i.channel]?!1:(r[i.channel]=!0,!0))}},{name:"alwaysIncludeZeroInScaleWithBarMark",description:"Do not recommend bar mark if scale does not start at zero",properties:[pe.MARK,pe.SCALE,Lp("scale","zero"),pe.CHANNEL,pe.TYPE],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n)=>{const r=e.getMark(),i=e.getEncodings();if(r===_p){for(let o of i)if(sn(o)&&(o.channel===zr||o.channel===Fr)&&o.type===gi&&o.scale&&o.scale.zero===!1)return!1}return!0}},{name:"autoAddCount",description:"Automatically adding count only for plots with only ordinal, binned quantitative, or temporal with timeunit fields.",properties:[pe.BIN,pe.TIMEUNIT,pe.TYPE,pe.AUTOCOUNT],allowWildcardForProperties:!0,strict:!1,satisfy:(e,t,n)=>{if(Tp(e.getEncodings(),i=>B7(i)))return Qd(e.getEncodings(),i=>{if(nu(i)||mo(i))return!0;switch(i.type){case gi:return!!i.bin;case Cs:return!!i.timeUnit;case rd:case id.KEY:case Pu:return!0}throw new Error("Unsupported Type")});{const i=e.wildcardIndex.encodingIndicesByProperty.get("autoCount")||[];if(Qd(i,s=>{let a=e.getEncodingQueryByIndex(s);return mo(a)&&!It(a.autoCount)}))return Tp(e.getEncodings(),s=>(sn(s)||mo(s))&&s.type===gi?ou(s)?!1:sn(s)&&(!s.bin||It(s.bin)):sn(s)&&s.type===Cs?!s.timeUnit||It(s.timeUnit):!1)}return!0}},{name:"channelPermittedByMarkType",description:"Each encoding channel should be supported by the mark type",properties:[pe.CHANNEL,pe.MARK],allowWildcardForProperties:!0,strict:!0,satisfy:(e,t,n)=>{const r=e.getMark();return It(r)?!0:Qd(e.getEncodings(),i=>It(i.channel)?!0:!!KWt(i.channel,r))}},{name:"hasAllRequiredChannelsForMark",description:"All required channels for the specified mark should be specified",properties:[pe.CHANNEL,pe.MARK],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n)=>{const r=e.getMark();switch(r){case Kv:case Rk:return e.channelUsed(zr)&&e.channelUsed(Fr);case lL:return e.channelUsed(Woe);case _p:case cL:case uL:case Ak:case NH:case DH:return e.channelUsed(zr)||e.channelUsed(Fr);case A2:return!e.wildcardIndex.hasProperty(pe.CHANNEL)||e.channelUsed(zr)||e.channelUsed(Fr)}throw new Error("hasAllRequiredChannelsForMark not implemented for mark"+JSON.stringify(r))}},{name:"omitAggregate",description:"Omit aggregate plots.",properties:[pe.AGGREGATE,pe.AUTOCOUNT],allowWildcardForProperties:!0,strict:!1,satisfy:(e,t,n)=>!e.isAggregate()},{name:"omitAggregatePlotWithDimensionOnlyOnFacet",description:"Omit aggregate plots with dimensions only on facets as that leads to inefficient use of space.",properties:[pe.CHANNEL,pe.AGGREGATE,pe.AUTOCOUNT],allowWildcardForProperties:!1,strict:!1,satisfy:(e,t,n)=>{if(e.isAggregate()){let r=!1,i=!1,o=!1;if(e.specQuery.encodings.forEach((s,a)=>{nu(s)||ou(s)||sn(s)&&!s.aggregate&&(i=!0,yc([zu,Fc],s.channel)?e.wildcardIndex.hasEncodingProperty(a,pe.CHANNEL)&&(o=!0):r=!0)}),i&&!r&&(o||n.constraintManuallySpecifiedValue))return!1}return!0}},{name:"omitAggregatePlotWithoutDimension",description:"Aggregate plots without dimension should be omitted",properties:[pe.AGGREGATE,pe.AUTOCOUNT,pe.BIN,pe.TIMEUNIT,pe.TYPE],allowWildcardForProperties:!1,strict:!1,satisfy:(e,t,n)=>e.isAggregate()?Tp(e.getEncodings(),r=>!!(Dm(r)||sn(r)&&r.type==="temporal")):!0},{name:"omitBarLineAreaWithOcclusion",description:"Don't use bar, line or area to visualize raw plot as they often lead to occlusion.",properties:[pe.MARK,pe.AGGREGATE,pe.AUTOCOUNT],allowWildcardForProperties:!1,strict:!1,satisfy:(e,t,n)=>yc([_p,Rk,Kv],e.getMark())?e.isAggregate():!0},{name:"omitBarTickWithSize",description:"Do not map field to size channel with bar and tick mark",properties:[pe.CHANNEL,pe.MARK],allowWildcardForProperties:!0,strict:!1,satisfy:(e,t,n)=>{const r=e.getMark();if(yc([Ak,_p],r)&&e.channelEncodingField(xy)){if(n.constraintManuallySpecifiedValue)return!1;{const i=e.specQuery.encodings;for(let o=0;o<i.length;o++)if(i[o].channel===xy)return!e.wildcardIndex.hasEncodingProperty(o,pe.CHANNEL)}}return!0}},{name:"omitBarAreaForLogScale",description:"Do not use bar and area mark for x and y's log scale",properties:[pe.MARK,pe.CHANNEL,pe.SCALE,Lp("scale","type"),pe.TYPE],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n)=>{const r=e.getMark(),i=e.getEncodings();if(r===Kv||r===_p){for(let o of i)if(sn(o)&&(o.channel===zr||o.channel===Fr)&&o.scale&&db(o)===Qr.LOG)return!1}return!0}},{name:"omitMultipleNonPositionalChannels",description:"Unless manually specified, do not use multiple non-positional encoding channel to avoid over-encoding.",properties:[pe.CHANNEL],allowWildcardForProperties:!0,strict:!1,satisfy:(e,t,n)=>{const r=e.specQuery.encodings;let i=0,o=!1;for(let s=0;s<r.length;s++){const a=r[s];if(nu(a)||ou(a))continue;const l=a.channel;if(!It(l)&&VYt[l+""]&&(i+=1,e.wildcardIndex.hasEncodingProperty(s,pe.CHANNEL)&&(o=!0),i>1&&(o||n.constraintManuallySpecifiedValue)))return!1}return!0}},{name:"omitNonPositionalOrFacetOverPositionalChannels",description:"Do not use non-positional channels unless all positional channels are used",properties:[pe.CHANNEL],allowWildcardForProperties:!1,strict:!1,satisfy:(e,t,n)=>{const r=e.specQuery.encodings;let i=!1,o=!1,s=!1,a=!1;for(let l=0;l<r.length;l++){const c=r[l];if(nu(c)||ou(c))continue;const u=c.channel;u===zr?s=!0:u===Fr?a=!0:It(u)||(i=!0,e.wildcardIndex.hasEncodingProperty(l,pe.CHANNEL)&&(o=!0))}return o||n.constraintManuallySpecifiedValue&&i?s&&a:!0}},{name:"omitRaw",description:"Omit raw plots.",properties:[pe.AGGREGATE,pe.AUTOCOUNT],allowWildcardForProperties:!1,strict:!1,satisfy:(e,t,n)=>!!e.isAggregate()},{name:"omitRawContinuousFieldForAggregatePlot",description:"Aggregate plot should not use raw continuous field as group by values. (Quantitative should be binned. Temporal should have time unit.)",properties:[pe.AGGREGATE,pe.AUTOCOUNT,pe.TIMEUNIT,pe.BIN,pe.TYPE],allowWildcardForProperties:!0,strict:!1,satisfy:(e,t,n)=>{if(e.isAggregate()){const r=e.specQuery.encodings;for(let i=0;i<r.length;i++){const o=r[i];if(!(nu(o)||ou(o))&&(sn(o)&&o.type===Cs&&!o.timeUnit&&(e.wildcardIndex.hasEncodingProperty(i,pe.TIMEUNIT)||n.constraintManuallySpecifiedValue)||o.type===gi&&sn(o)&&!o.bin&&!o.aggregate&&(e.wildcardIndex.hasEncodingProperty(i,pe.BIN)||e.wildcardIndex.hasEncodingProperty(i,pe.AGGREGATE)||e.wildcardIndex.hasEncodingProperty(i,pe.AUTOCOUNT)||n.constraintManuallySpecifiedValue)))return!1}}return!0}},{name:"omitRawDetail",description:"Do not use detail channel with raw plot.",properties:[pe.CHANNEL,pe.AGGREGATE,pe.AUTOCOUNT],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n)=>e.isAggregate()?!0:Qd(e.specQuery.encodings,(r,i)=>nu(r)||ou(r)?!0:!(r.channel===Voe&&(e.wildcardIndex.hasEncodingProperty(i,pe.CHANNEL)||n.constraintManuallySpecifiedValue)))},{name:"omitRepeatedField",description:"Each field should be mapped to only one channel",properties:[pe.FIELD],allowWildcardForProperties:!0,strict:!1,satisfy:(e,t,n)=>{let r={},i={};const o=e.specQuery.encodings;for(let s=0;s<o.length;s++){const a=o[s];if(nu(a)||mo(a))continue;let l;if(a.field&&!It(a.field)&&(l=a.field),mo(a)&&!It(a.autoCount)&&(l="count_*"),l){if(e.wildcardIndex.hasEncodingProperty(s,pe.FIELD)&&(i[l]=!0),r[l]&&(i[l]||n.constraintManuallySpecifiedValue))return!1;r[l]=!0}}return!0}},{name:"omitVerticalDotPlot",description:"Do not output vertical dot plot.",properties:[pe.CHANNEL],allowWildcardForProperties:!0,strict:!1,satisfy:(e,t,n)=>{const r=e.getEncodings();return!(r.length===1&&r[0].channel===Fr)}},{name:"hasAppropriateGraphicTypeForMark",description:"Has appropriate graphic type for mark",properties:[pe.CHANNEL,pe.MARK,pe.TYPE,pe.TIMEUNIT,pe.BIN,pe.AGGREGATE,pe.AUTOCOUNT],allowWildcardForProperties:!1,strict:!1,satisfy:(e,t,n)=>{const r=e.getMark();switch(r){case Kv:case Rk:if(e.isAggregate()){const h=e.getEncodingQueryByChannel(zr),p=e.getEncodingQueryByChannel(Fr),g=x$(h),y=x$(p);return h&&p&&g!==y&&!(sn(h)&&!g&&yc(["nominal","key"],h.type))&&!(sn(p)&&!y&&yc(["nominal","key"],p.type))}return!0;case lL:return!0;case _p:case Ak:if(e.channelEncodingField(xy))return!1;{const h=e.getEncodingQueryByChannel(zr),p=e.getEncodingQueryByChannel(Fr),g=x$(h),y=x$(p);return g!==y}case DH:const i=e.getEncodingQueryByChannel(zr),o=e.getEncodingQueryByChannel(Fr),s=Dm(i),a=Dm(o),l=e.getEncodingQueryByChannel(ch),c=x$(l),u=sn(l)?l.type===rd:!1;return(s&&a||s&&!e.channelUsed(Fr)||a&&!e.channelUsed(zr))&&(!l||l&&(c||u));case cL:case A2:case uL:case NH:return!0}throw new Error("hasAllRequiredChannelsForMark not implemented for mark"+r)}},{name:"omitInvalidStackSpec",description:"If stack is specified, must follow Vega-Lite stack rules",properties:[pe.STACK,pe.FIELD,pe.CHANNEL,pe.MARK,pe.AGGREGATE,pe.AUTOCOUNT,pe.SCALE,Lp("scale","type"),pe.TYPE],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n)=>{if(!e.wildcardIndex.hasProperty(pe.STACK))return!0;const r=e.getVlStack();return!(r===null&&e.getStackOffset()!==null||r.fieldChannel!==e.getStackChannel())}},{name:"omitNonSumStack",description:"Stack specifications that use non-summative aggregates should be omitted (even implicit ones)",properties:[pe.CHANNEL,pe.MARK,pe.AGGREGATE,pe.AUTOCOUNT,pe.SCALE,Lp("scale","type"),pe.TYPE],allowWildcardForProperties:!1,strict:!0,satisfy:(e,t,n)=>{const r=e.getVlStack();if(r!=null){const i=e.getEncodingQueryByChannel(r.fieldChannel);if(!yc(xze,i.aggregate))return!1}return!0}},{name:"omitTableWithOcclusionIfAutoAddCount",description:"Plots without aggregation or autocount where x and y are both discrete should be omitted if autoAddCount is enabled as they often lead to occlusion",properties:[pe.CHANNEL,pe.TYPE,pe.TIMEUNIT,pe.BIN,pe.AGGREGATE,pe.AUTOCOUNT],allowWildcardForProperties:!1,strict:!1,satisfy:(e,t,n)=>{if(n.autoAddCount){const r=e.getEncodingQueryByChannel("x"),i=e.getEncodingQueryByChannel("y");if((!sn(r)||Dm(r))&&(!sn(i)||Dm(i)))return e.isAggregate()?Qd(e.getEncodings(),o=>{let s=o.channel;return!(s!==zr&&s!==Fr&&s!==zu&&s!==Fc&&sn(o)&&!o.aggregate)}):!1}return!0}}].map(e=>new UYt(e));y9e.reduce((e,t)=>(e[t.name()]=t,e),{});const qYt=y9e.reduce((e,t)=>{for(const n of t.properties())e.set(n,e.get(n)||[]),e.get(n).push(t);return e},new nl);function v9e(e,t,n,r,i){const o=qYt.get(e)||[];for(const s of o)if((s.strict()||i[s.name()])&&!s.satisfy(n,r,i)){let l="(spec) "+s.name();return i.verbose&&console.log(l+" failed with "+n.toShorthand()+" for "+t.name),l}return null}const W7=new nl;function YYt(e){return W7.get(e)}W7.set("mark",(e,t,n)=>(r,i)=>(i.getMark().enum.forEach(s=>{i.setMark(s),v9e("mark",e.mark,i,t,n)||r.push(i.duplicate())}),i.resetMark(),r));qoe.forEach(e=>{W7.set(e,b9e(e))});z7.forEach(e=>{W7.set(e,b9e(e))});function b9e(e){return(t,n,r)=>(i,o)=>{const s=t.encodingIndicesByProperty.get(e);function a(l){if(l===s.length){i.push(o.duplicate());return}const c=s[l],u=t.encodings[c].get(e),f=o.getEncodingQueryByIndex(c),d=o.getEncodingProperty(c,e);nu(f)||ou(f)||!d?a(l+1):(u.enum.forEach(h=>{h===null&&(h=void 0),o.setEncodingProperty(c,e,h,u),!(WYt(e,u,c,o,n,r)||v9e(e,u,o,n,r))&&a(l+1)}),o.resetEncodingProperty(c,e,u))}return a(0),i}}function XYt(e){return rn.isObject(e)&&!!e.property}function RR(e,t,n){return t=t||new nl,n=n||new nl,e.forEach(r=>{XYt(r)?(t.setByKey(r.property,!0),n.setByKey(r.property,r.replace)):t.setByKey(r,!0)}),{include:t,replaceIndex:n,replacer:Lqt(n)}}const O9e=[pe.FIELD,pe.TYPE,pe.AGGREGATE,pe.BIN,pe.TIMEUNIT,pe.STACK],HYt=O9e.concat([{property:pe.CHANNEL,replace:{x:"xy",y:"xy",color:"style",size:"style",shape:"style",opacity:"style",row:"facet",column:"facet"}}]);let tse={};function V7(e,t){tse[e]=t}const ZYt="field",GYt="fieldTransform",KYt="encoding",JYt="spec";function eXt(e,t){if(t){const n={name:"",path:"",items:[]};let r={},i=[],o=[],s=[];for(let a=0;a<t.length;a++){i.push(a>0?i[a-1].duplicate():new nl),o.push(a>0?o[a-1].duplicate():new nl);const l=t[a].groupBy;if(rn.isArray(l)){let c=RR(l,i[a],o[a]);s.push(c.replacer)}}return e.forEach(a=>{let l="",c=n;for(let u=0;u<t.length;u++){const f=c.groupBy=t[u].groupBy;c.orderGroupBy=t[u].orderGroupBy;const d=rn.isArray(f)?RS(a.specQuery,i[u],s[u]):tse[f](a.specQuery);l+="/"+d,r[l]||(r[l]={name:d,path:l,items:[]},c.items.push(r[l])),c=r[l]}c.items.push(a)}),n}else return{name:"",path:"",items:e}}const tXt=[pe.FIELD],Pbe=RR(tXt);function nXt(e,t){return tse[t](e)}V7(ZYt,e=>RS(e,Pbe.include,Pbe.replacer));const Rbe=RR(O9e);V7(GYt,e=>RS(e,Rbe.include,Rbe.replacer));const Abe=RR(HYt);V7(KYt,e=>RS(e,Abe.include,Abe.replacer));V7(JYt,e=>JSON.stringify(e));class rXt{constructor(){this._mark=void 0,this._encodings={},this._encodingIndicesByProperty=new nl}setEncodingProperty(t,n,r){const i=this._encodings;(i[t]=i[t]||new nl).set(n,r);const s=this._encodingIndicesByProperty;return s.set(n,s.get(n)||[]),s.get(n).push(t),this}hasEncodingProperty(t,n){return!!this._encodings[t]&&this._encodings[t].has(n)}hasProperty(t){if(mze(t))return this.encodingIndicesByProperty.has(t);if(t==="mark")return!!this.mark;throw new Error("Unimplemented for property "+t)}isEmpty(){return!this.mark&&this.encodingIndicesByProperty.size()===0}setMark(t){return this._mark=t,this}get mark(){return this._mark}get encodings(){return this._encodings}get encodingIndicesByProperty(){return this._encodingIndicesByProperty}}class pL{constructor(t,n,r,i,o){this._rankingScore={},this._spec=t,this._channelFieldCount=t.encodings.reduce((s,a)=>(!It(a.channel)&&(!mo(a)||a.autoCount!==!1)&&(s[a.channel+""]=1),s),{}),this._wildcardIndex=n,this._assignedWildcardIndex=o,this._opt=i,this._schema=r}static build(t,n,r){let i=new rXt;if(It(t.mark)){const o=O$(pe.MARK);t.mark=yW(t.mark,o,r.enum.mark),i.setMark(t.mark)}if(t.encodings.forEach((o,s)=>{mo(o)&&(console.warn("A field with autoCount should not be included as autoCount meant to be an internal object."),o.type=gi),sn(o)&&o.type===void 0&&(o.type=Vr),qoe.forEach(a=>{if(It(o[a])){const l=O$(a)+s,c=bW(a,n,r),u=o[a]=yW(o[a],l,c);i.setEncodingProperty(s,a,u)}}),z7.forEach(a=>{const l=o[a.parent];if(l){const c=a.child;if(It(l[c])){const u=O$(a)+s,f=bW(a,n,r),d=l[c]=yW(l[c],u,f);i.setEncodingProperty(s,a,d)}}})}),r.autoAddCount){const o={name:O$(pe.CHANNEL)+t.encodings.length,enum:bW(pe.CHANNEL,n,r)},s={name:O$(pe.AUTOCOUNT)+t.encodings.length,enum:[!1,!0]},a={channel:o,autoCount:s,type:gi};t.encodings.push(a);const l=t.encodings.length-1;i.setEncodingProperty(l,pe.CHANNEL,o),i.setEncodingProperty(l,pe.AUTOCOUNT,s)}return new pL(t,i,n,r,{})}get wildcardIndex(){return this._wildcardIndex}get schema(){return this._schema}get specQuery(){return this._spec}duplicate(){return new pL(rn.duplicate(this._spec),this._wildcardIndex,this._schema,this._opt,rn.duplicate(this._assignedWildcardIndex))}setMark(t){const n=this._wildcardIndex.mark.name;this._assignedWildcardIndex[n]=this._spec.mark=t}resetMark(){const t=this._spec.mark=this._wildcardIndex.mark;delete this._assignedWildcardIndex[t.name]}getMark(){return this._spec.mark}getEncodingProperty(t,n){const r=this._spec.encodings[t];return uh(n)?r[n.parent][n.child]:r[n]}setEncodingProperty(t,n,r,i){const o=this._spec.encodings[t];n===pe.CHANNEL&&o.channel&&!It(o.channel)&&this._channelFieldCount[o.channel]--,uh(n)?o[n.parent][n.child]=r:Yoe(n)&&r===!0?o[n]=rn.extend({},o[n],{enum:void 0,name:void 0}):o[n]=r,this._assignedWildcardIndex[i.name]=r,n===pe.CHANNEL&&(this._channelFieldCount[r]=(this._channelFieldCount[r]||0)+1)}resetEncodingProperty(t,n,r){const i=this._spec.encodings[t];n===pe.CHANNEL&&this._channelFieldCount[i.channel]--,uh(n)?i[n.parent][n.child]=r:i[n]=r,delete this._assignedWildcardIndex[r.name]}channelUsed(t){return this._channelFieldCount[t]>0}channelEncodingField(t){const n=this.getEncodingQueryByChannel(t);return sn(n)}getEncodings(){return this._spec.encodings.filter(t=>!ou(t))}getEncodingQueryByChannel(t){for(let n of this._spec.encodings)if(n.channel===t)return n}getEncodingQueryByIndex(t){return this._spec.encodings[t]}isAggregate(){return Dqt(this._spec)}getVlStack(){return Cze(this._spec)}getStackOffset(){return Nqt(this._spec)}getStackChannel(){return Mqt(this._spec)}toShorthand(t){if(t){if(rn.isString(t))return nXt(this.specQuery,t);const n=RR(t);return RS(this._spec,n.include,n.replacer)}return RS(this._spec)}toSpec(t){if(It(this._spec.mark))return null;let n={};return t=t||this._spec.data,t&&(n.data=t),this._spec.transform&&(n.transform=this._spec.transform),n.mark=this._spec.mark,n.encoding=kze(this.specQuery.encodings,{schema:this._schema,wildcardMode:"null"}),this._spec.width&&(n.width=this._spec.width),this._spec.height&&(n.height=this._spec.height),this._spec.background&&(n.background=this._spec.background),this._spec.padding&&(n.padding=this._spec.padding),this._spec.title&&(n.title=this._spec.title),n.encoding===null?null:((this._spec.config||this._opt.defaultSpecConfig)&&(n.config=rn.extend({},this._opt.defaultSpecConfig,this._spec.config)),n)}getRankingScore(t){return this._rankingScore[t]}setRankingScore(t,n){this._rankingScore[t]=n}}function iXt(e){if(e.groupBy){let t={groupBy:e.groupBy};e.orderBy&&(t.orderGroupBy=e.orderBy);let n={spec:rn.duplicate(e.spec),nest:[t]};return e.chooseBy&&(n.chooseBy=e.chooseBy),e.config&&(n.config=e.config),n}return rn.duplicate(e)}function x9e(e){return e.items!==void 0}function jH(e){let t=e.items[0];for(;t&&x9e(t);)t=t.items[0];return t}class bC{constructor(t){this.type=t,this.scoreIndex=this.initScore()}getFeatureScore(t){const n=this.type,r=this.scoreIndex[t];if(r!==void 0)return{type:n,feature:t,score:r}}}var Il;(function(e){e[e.Q=gi]="Q",e[e.BIN_Q="bin_"+gi]="BIN_Q",e[e.T=Cs]="T",e[e.TIMEUNIT_T="timeUnit_time"]="TIMEUNIT_T",e[e.TIMEUNIT_O="timeUnit_"+rd]="TIMEUNIT_O",e[e.O=rd]="O",e[e.N=Pu]="N",e[e.K=id.KEY]="K",e[e.NONE="-"]="NONE"})(Il||(Il={}));const w9e=Il.Q,gL=Il.BIN_Q,nse=Il.T,Hx=Il.TIMEUNIT_T,mL=Il.TIMEUNIT_O,yL=Il.O,vL=Il.N,FH=Il.K,bL=Il.NONE;function OL(e){if(e.bin)return Il.BIN_Q;if(e.timeUnit){const t=db(e);return fb(t)?Il.TIMEUNIT_O:Il.TIMEUNIT_T}return e.type}class oXt extends bC{constructor(){super("Axis")}initScore(t={}){t=Object.assign({},PR,t);let n={};return[{feature:gL,opt:"preferredBinAxis"},{feature:nse,opt:"preferredTemporalAxis"},{feature:Hx,opt:"preferredTemporalAxis"},{feature:mL,opt:"preferredTemporalAxis"},{feature:yL,opt:"preferredOrdinalAxis"},{feature:vL,opt:"preferredNominalAxis"}].forEach(i=>{t[i.opt]===zr?n[i.feature+"_"+Fr]=-.01:t[i.opt]===Fr&&(n[i.feature+"_"+zr]=-.01)}),n}featurize(t,n){return t+"_"+n}getScore(t,n,r){return t.getEncodings().reduce((i,o)=>{if(sn(o)||mo(o)){const s=OL(o),a=this.featurize(s,o.channel),l=this.getFeatureScore(a);l&&i.push(l)}return i},[])}}class sXt extends bC{constructor(){super("Dimension")}initScore(){return{row:-2,column:-2,color:0,opacity:0,size:0,shape:0}}getScore(t,n,r){return t.isAggregate()&&t.getEncodings().reduce((i,o)=>{if(mo(o)||sn(o)&&!o.aggregate){const s=this.getFeatureScore(o.channel+"");if(s&&s.score>i.score)return s}return i},{type:"Dimension",feature:"No Dimension",score:-5}),[]}}class aXt extends bC{constructor(){super("Facet")}initScore(t){t=Object.assign({},PR,t);let n={};return t.preferredFacet===zu?n[Fc]=-.01:t.preferredFacet===Fc&&(n[zu]=-.01),n}getScore(t,n,r){return t.getEncodings().reduce((i,o)=>{if(sn(o)||mo(o)){const s=this.getFeatureScore(o.channel);s&&i.push(s)}return i},[])}}class lXt extends bC{constructor(){super("SizeChannel")}initScore(){return{bar_size:-2,tick_size:-2}}getScore(t,n,r){const i=t.getMark();return t.getEncodings().reduce((o,s)=>{if(sn(s)||mo(s)){const a=i+"_"+s.channel,l=this.getFeatureScore(a);l&&o.push(l)}return o},[])}}const uN=-10;class cXt extends bC{constructor(){super("TypeChannel")}initScore(){let t={};const n={x:0,y:0,size:-.575,color:-.725,text:-2,opacity:-3,shape:uN,row:uN,column:uN,detail:2*uN};[w9e,nse,Hx].forEach(o=>{rn.keys(n).forEach(s=>{t[this.featurize(o,s)]=n[s]})});const r=rn.extend({},n,{row:-.75,column:-.75,shape:-3.1,text:-3.2,detail:-4});[gL,mL,yL].forEach(o=>{rn.keys(r).forEach(s=>{t[this.featurize(o,s)]=r[s]})});const i={x:0,y:0,color:-.6,shape:-.65,row:-.7,column:-.7,text:-.8,detail:-2,size:-3,opacity:-3.1};return rn.keys(i).forEach(o=>{t[this.featurize(vL,o)]=i[o],t[this.featurize(FH,o)]=yc(["x","y","detail"],o)?-1:i[o]-2}),t}featurize(t,n){return t+"_"+n}getScore(t,n,r){const i=t.getEncodings().reduce((s,a)=>{if(sn(a)||mo(a)){const l=Eze(a);(s[l]=s[l]||[]).push(a)}return s},{}),o=[];return Ks(i,s=>{const a=s.reduce((l,c)=>{if(sn(c)||mo(c)){const u=OL(c),f=this.featurize(u,c.channel),d=this.getFeatureScore(f);if(l===null||d.score>l.score)return d}return l},null);o.push(a)}),o}}class uXt extends bC{constructor(){super("Mark")}initScore(){return fXt()}getScore(t,n,r){let i=t.getMark();(i===cL||i===uL)&&(i=A2);const o=t.getEncodingQueryByChannel(zr),s=o?OL(o):bL,a=t.getEncodingQueryByChannel(Fr),l=a?OL(a):bL,c=!t.isAggregate(),u=s+"_"+l+"_"+c+"_"+i,f=this.getFeatureScore(u);return f?[f]:(console.error("feature score missing for",u),[])}}function ao(e,t,n,r){return e+"_"+t+"_"+n+"_"+r}function fXt(){const e=[w9e,nse],n=[gL,mL,yL,vL,FH].concat([bL]);let r={};e.forEach(i=>{e.forEach(o=>{Ks({point:0,text:-.2,tick:-.5,rect:-1,bar:-2,line:-2,area:-2,rule:-2.5},(l,c)=>{const u=ao(i,o,!0,c);r[u]=l}),Ks({point:0,text:-.2,tick:-.5,bar:-2,line:-2,area:-2,rule:-2.5},(l,c)=>{const u=ao(i,o,!1,c);r[u]=l})})}),e.forEach(i=>{n.forEach(o=>{Ks({tick:0,point:-.2,text:-.5,bar:-2,line:-2,area:-2,rule:-2.5},(a,l)=>{const c=ao(i,o,!0,l);r[c]=a;const u=ao(o,i,!0,l);r[u]=a})}),[Hx].forEach(o=>{Ks({point:0,text:-.5,tick:-1,bar:-2,line:-2,area:-2,rule:-2.5},(a,l)=>{const c=ao(i,o,!0,l);r[c]=a;const u=ao(o,i,!0,l);r[u]=a})}),[bL,vL,yL,FH].forEach(o=>{Ks({bar:0,point:-.2,tick:-.25,text:-.3,line:-2,area:-2,rule:-2.5},(a,l)=>{const c=ao(i,o,!1,l);r[c]=a;const u=ao(o,i,!1,l);r[u]=a})}),[gL].forEach(o=>{Ks({bar:0,point:-.2,tick:-.25,text:-.3,line:-.5,area:-.5,rule:-2.5},(a,l)=>{const c=ao(i,o,!1,l);r[c]=a;const u=ao(o,i,!1,l);r[u]=a})}),[Hx,mL].forEach(o=>{Ks({line:0,area:-.1,bar:-.2,point:-.3,tick:-.35,text:-.4,rule:-2.5},(a,l)=>{const c=ao(i,o,!1,l);r[c]=a;const u=ao(o,i,!1,l);r[u]=a})})}),[Hx].forEach(i=>{[Hx].forEach(o=>{const s={point:0,rect:-.1,text:-.5,tick:-1,bar:-2,line:-2,area:-2,rule:-2.5};Ks(s,(a,l)=>{const c=ao(i,o,!0,l);r[c]=a}),Ks(s,(a,l)=>{const c=ao(i,o,!1,l);r[c]=a})}),n.forEach(o=>{const s={tick:0,point:-.2,text:-.5,rect:-1,bar:-2,line:-2,area:-2,rule:-2.5};Ks(s,(a,l)=>{const c=ao(i,o,!0,l);r[c]=a}),Ks(s,(a,l)=>{const c=ao(o,i,!0,l);r[c]=a}),Ks(s,(a,l)=>{const c=ao(i,o,!1,l);r[c]=a}),Ks(s,(a,l)=>{const c=ao(o,i,!1,l);r[c]=a})})});for(const i of n)for(const o of n){const s={point:0,rect:0,text:-.1,tick:-1,bar:-2,line:-2,area:-2,rule:-2.5};Ks(s,(a,l)=>{const c=ao(i,o,!0,l);r[c]=a}),Ks(s,(a,l)=>{const c=ao(i,o,!1,l);r[c]=a})}return r}const dXt=[new oXt,new sXt,new aXt,new uXt,new lXt,new cXt];function hXt(e,t,n){const r=dXt.reduce((i,o)=>{const s=o.getScore(e,t,n);return i.concat(s)},[]);return{score:r.reduce((i,o)=>i+o.score,0),features:r}}const pm="aggregationQuality";function pXt(e,t,n){const r=gXt(e);return{score:r.score,features:[r]}}function gXt(e,t,n){const r=e.getEncodings();if(e.isAggregate()){if(Tp(r,o=>sn(o)&&(o.type===gi&&!o.bin&&!o.aggregate||o.type===Cs&&!o.timeUnit)))return{type:pm,score:.1,feature:"Aggregate with raw continuous"};if(Tp(r,o=>sn(o)&&Dm(o))){let o=Tp(r,a=>sn(a)&&a.aggregate==="count"||B7(a)),s=Tp(r,a=>sn(a)&&!!a.bin);return o?{type:pm,score:.8,feature:"Aggregate with count"}:s?{type:pm,score:.7,feature:"Aggregate with bin but without count"}:{type:pm,score:.9,feature:"Aggregate without count and without bin"}}return{type:pm,score:.3,feature:"Aggregate without dimension"}}else return Tp(r,i=>sn(i)&&!Dm(i))?{type:pm,score:1,feature:"Raw with measure"}:{type:pm,score:.2,feature:"Raw without measure"}}const mXt="fieldOrder";function yXt(e,t,n){const r=e.wildcardIndex.encodingIndicesByProperty.get("field");if(!r)return{score:0,features:[]};const i=e.specQuery.encodings,o=t.fieldSchemas.length,s=[];let a=0,l=1;for(let c=r.length-1;c>=0;c--){const u=r[c],f=i[u];let d;if(sn(f))d=f.field;else continue;const h=e.wildcardIndex.encodings[u].get("field"),p=t.fieldSchema(d).index,g=-p*l;a+=g,s.push({score:g,type:"fieldOrder",feature:`field ${h.name} is ${d} (#${p} in the schema)`}),l*=o}return{score:a,features:s}}let S9e={};function rse(e,t){S9e[e]=t}function vXt(e){return S9e[e]}function _9e(e,t,n,r){return!t.nest||r===t.nest.length?(t.orderBy||t.chooseBy)&&(e.items.sort(bXt(t.orderBy||t.chooseBy,n,t.config)),t.chooseBy&&e.items.length>0&&e.items.splice(1)):(e.items.forEach(i=>{_9e(i,t,n,r+1)}),t.nest[r].orderGroupBy&&e.items.sort(OXt(t.nest[r].orderGroupBy,n,t.config))),e}function bXt(e,t,n){return(r,i)=>e instanceof Array?xL(e,r,i,t,n):xL([e],r,i,t,n)}function OXt(e,t,n){return(r,i)=>{const o=jH(r),s=jH(i);return e instanceof Array?xL(e,o,s,t,n):xL([e],o,s,t,n)}}function xL(e,t,n,r,i){for(let o of e){let s=Dbe(n,o,r,i).score-Dbe(t,o,r,i).score;if(s!==0)return s}return 0}function Dbe(e,t,n,r){if(e.getRankingScore(t)!==void 0)return e.getRankingScore(t);const o=vXt(t)(e,n,r);return e.setRankingScore(t,o),o}const xXt="effectiveness";rse(xXt,hXt);rse(pm,pXt);rse(mXt,yXt);function wXt(e,t,n){let r={};return e=e.map(function(i){return n.smallRangeStepForHighCardinalityOrFacet&&(i=SXt(i,t,r,n)),n.nominalColorScaleForHighCardinality&&(i=_Xt(i,t,r,n)),n.xAxisOnTopForHighYCardinalityWithoutColumn&&(i=CXt(i,t,r,n)),i}),e}function SXt(e,t,n,r){[zu,Fr,Fc,zr].forEach(s=>{n[s]=e.getEncodingQueryByChannel(s)});const i=n[Fr];if(i!==void 0&&sn(i)&&(n[zu]||t.cardinality(i)>r.smallRangeStepForHighCardinalityOrFacet.maxCardinality)){i.scale===void 0&&(i.scale={});const s=db(i);i.scale&&(s===void 0||fb(s))&&(i.scale.rangeStep||(i.scale.rangeStep=12))}const o=n[zr];if(sn(o)&&(n[Fc]||t.cardinality(o)>r.smallRangeStepForHighCardinalityOrFacet.maxCardinality)){o.scale===void 0&&(o.scale={});const s=db(o);o.scale&&(s===void 0||fb(s))&&(o.scale.rangeStep||(o.scale.rangeStep=12))}return e}function _Xt(e,t,n,r){n[ch]=e.getEncodingQueryByChannel(ch);const i=n[ch];return sn(i)&&i!==void 0&&(i.type===Pu||i.type===id.KEY)&&t.cardinality(i)>r.nominalColorScaleForHighCardinality.maxCardinality&&(i.scale===void 0&&(i.scale={}),i.scale&&(i.scale.range||(i.scale.scheme=r.nominalColorScaleForHighCardinality.palette))),e}function CXt(e,t,n,r){if([Fc,zr,Fr].forEach(i=>{n[i]=e.getEncodingQueryByChannel(i)}),n[Fc]===void 0){const i=n[zr],o=n[Fr];sn(i)&&sn(o)&&o!==void 0&&o.field&&fb(db(o))&&i!==void 0&&t.cardinality(o)>r.xAxisOnTopForHighYCardinalityWithoutColumn.maxCardinality&&(i.axis===void 0&&(i.axis={}),i.axis&&!i.axis.orient&&(i.axis.orient="top"))}return e}function $Xt(e,t,n=PR){const r=pL.build(e,t,n),i=r.wildcardIndex;let o=[r];return n.propertyPrecedence.forEach(s=>{const a=QUt(s);if(i.hasProperty(a)){const c=YYt(a)(i,t,n);o=o.reduce(c,[])}}),n.stylize&&(n.nominalColorScaleForHighCardinality!==null||n.smallRangeStepForHighCardinalityOrFacet!==null||n.xAxisOnTopForHighYCardinalityWithoutColumn!==null)?wXt(o,t,n):o}function C9e(e,t,n){e=Object.assign({},iXt(e),{config:Object.assign({},PR,n,e.config)});const r=$Xt(e.spec,t,e.config),i=eXt(r,e.nest),o=_9e(i,e,t,0);return{query:e,result:o}}const Nbe={};function zH(e,t){e===void 0&&(e=Nbe),t===void 0&&(t=Nbe);const n=Object.keys(e),r=Object.keys(t);return e===t||n.length===r.length&&n.every(i=>e[i]===t[i])}/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var EXt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),kXt=Object.prototype.hasOwnProperty;function QH(e,t){return kXt.call(e,t)}function BH(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)QH(e,i)&&r.push(i);return r}function Tc(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function WH(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function _v(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function $9e(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function VH(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(VH(e[t]))return!0}else if(typeof e=="object"){for(var r=BH(e),i=r.length,o=0;o<i;o++)if(VH(e[r[o]]))return!0}}return!1}function Mbe(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var E9e=function(e){EXt(t,e);function t(n,r,i,o,s){var a=this.constructor,l=e.call(this,Mbe(n,{name:r,index:i,operation:o,tree:s}))||this;return l.name=r,l.index=i,l.operation=o,l.tree=s,Object.setPrototypeOf(l,a.prototype),l.message=Mbe(n,{name:r,index:i,operation:o,tree:s}),l}return t}(Error),Li=E9e,TXt=Tc,Zx={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=wL(n,this.path);r&&(r=Tc(r));var i=v1(n,{op:"remove",path:this.from}).removed;return v1(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=wL(n,this.from);return v1(n,{op:"add",path:this.path,value:Tc(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:N2(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},PXt={add:function(e,t,n){return WH(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:Zx.move,copy:Zx.copy,test:Zx.test,_get:Zx._get};function wL(e,t){if(t=="")return e;var n={op:"_get",path:t};return v1(e,n),n.value}function v1(e,t,n,r,i,o){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(t,0,e,t.path):SL(t,0)),t.path===""){var s={newDocument:e};if(t.op==="add")return s.newDocument=t.value,s;if(t.op==="replace")return s.newDocument=t.value,s.removed=e,s;if(t.op==="move"||t.op==="copy")return s.newDocument=wL(e,t.from),t.op==="move"&&(s.removed=e),s;if(t.op==="test"){if(s.test=N2(e,t.value),s.test===!1)throw new Li("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s.newDocument=e,s}else{if(t.op==="remove")return s.removed=e,s.newDocument=null,s;if(t.op==="_get")return t.value=e,s;if(n)throw new Li("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return s}}else{r||(e=Tc(e));var a=t.path||"",l=a.split("/"),c=e,u=1,f=l.length,d=void 0,h=void 0,p=void 0;for(typeof n=="function"?p=n:p=SL;;){if(h=l[u],h&&h.indexOf("~")!=-1&&(h=$9e(h)),i&&(h=="__proto__"||h=="prototype"&&u>0&&l[u-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&d===void 0&&(c[h]===void 0?d=l.slice(0,u).join("/"):u==f-1&&(d=t.path),d!==void 0&&p(t,0,e,d)),u++,Array.isArray(c)){if(h==="-")h=c.length;else{if(n&&!WH(h))throw new Li("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);WH(h)&&(h=~~h)}if(u>=f){if(n&&t.op==="add"&&h>c.length)throw new Li("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var s=PXt[t.op].call(t,c,h,e);if(s.test===!1)throw new Li("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}}else if(u>=f){var s=Zx[t.op].call(t,c,h,e);if(s.test===!1)throw new Li("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}if(c=c[h],n&&u<f&&(!c||typeof c!="object"))throw new Li("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function U7(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new Li("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=Tc(e));for(var o=new Array(t.length),s=0,a=t.length;s<a;s++)o[s]=v1(e,t[s],n,!0,i,s),e=o[s].newDocument;return o.newDocument=e,o}function RXt(e,t,n){var r=v1(e,t);if(r.test===!1)throw new Li("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function SL(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new Li("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(Zx[e.op]){if(typeof e.path!="string")throw new Li("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new Li('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new Li("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new Li("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&VH(e.value))throw new Li("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new Li("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new Li("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var s={op:"_get",path:e.from,value:void 0},a=k9e([s],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new Li("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new Li("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function k9e(e,t,n){try{if(!Array.isArray(e))throw new Li("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)U7(Tc(t),Tc(e),n||!0);else{n=n||SL;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof Li)return i;throw i}}function N2(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!N2(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(o=a.length,o!==Object.keys(t).length)return!1;for(i=o;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=o;i--!==0;)if(s=a[i],!N2(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}const AXt=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Li,_areEquals:N2,applyOperation:v1,applyPatch:U7,applyReducer:RXt,deepClone:TXt,getValueByPointer:wL,validate:k9e,validator:SL},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var ise=new WeakMap,DXt=function(){function e(t){this.observers=new Map,this.obj=t}return e}(),NXt=function(){function e(t,n){this.callback=t,this.observer=n}return e}();function MXt(e){return ise.get(e)}function IXt(e,t){return e.observers.get(t)}function LXt(e,t){e.observers.delete(t.callback)}function jXt(e,t){t.unobserve()}function FXt(e,t){var n=[],r,i=MXt(e);if(!i)i=new DXt(e),ise.set(e,i);else{var o=IXt(i,t);r=o&&o.observer}if(r)return r;if(r={},i.value=Tc(e),t){r.callback=t,r.next=null;var s=function(){UH(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(s)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){UH(r),clearTimeout(r.next),LXt(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new NXt(t,r)),r}function UH(e,t){t===void 0&&(t=!1);var n=ise.get(e.object);ose(n.value,e.object,e.patches,"",t),e.patches.length&&U7(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function ose(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=BH(t),s=BH(e),a=!1,l=s.length-1;l>=0;l--){var c=s[l],u=e[c];if(QH(t,c)&&!(t[c]===void 0&&u!==void 0&&Array.isArray(t)===!1)){var f=t[c];typeof u=="object"&&u!=null&&typeof f=="object"&&f!=null&&Array.isArray(u)===Array.isArray(f)?ose(u,f,n,r+"/"+_v(c),i):u!==f&&(i&&n.push({op:"test",path:r+"/"+_v(c),value:Tc(u)}),n.push({op:"replace",path:r+"/"+_v(c),value:Tc(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+_v(c),value:Tc(u)}),n.push({op:"remove",path:r+"/"+_v(c)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&o.length==s.length))for(var l=0;l<o.length;l++){var c=o[l];!QH(e,c)&&t[c]!==void 0&&n.push({op:"add",path:r+"/"+_v(c),value:Tc(t[c])})}}}function zXt(e,t,n){n===void 0&&(n=!1);var r=[];return ose(e,t,r,"",n),r}const QXt=Object.freeze(Object.defineProperty({__proto__:null,compare:zXt,generate:UH,observe:FXt,unobserve:jXt},Symbol.toStringTag,{value:"Module"}));Object.assign({},AXt,QXt,{JsonPatchError:E9e,deepClone:Tc,escapePathComponent:_v,unescapePathComponent:$9e});var BXt=/("(?:[^\\"]|\\.)*")|[:,]/g,WXt=function(t,n){var r,i,o;return n=n||{},r=JSON.stringify([1],void 0,n.indent===void 0?2:n.indent).slice(2,-3),i=r===""?1/0:n.maxLength===void 0?80:n.maxLength,o=n.replacer,function s(a,l,c){var u,f,d,h,p,g,y,v,x,m,w,S;if(a&&typeof a.toJSON=="function"&&(a=a.toJSON()),w=JSON.stringify(a,o),w===void 0)return w;if(y=i-l.length-c,w.length<=y&&(x=w.replace(BXt,function(C,$){return $||C+" "}),x.length<=y))return x;if(o!=null&&(a=JSON.parse(w),o=void 0),typeof a=="object"&&a!==null){if(v=l+r,d=[],f=0,Array.isArray(a))for(m="[",u="]",y=a.length;f<y;f++)d.push(s(a[f],v,f===y-1?0:1)||"null");else for(m="{",u="}",g=Object.keys(a),y=g.length;f<y;f++)h=g[f],p=JSON.stringify(h)+": ",S=s(a[h],v,p.length+(f===y-1?0:1)),S!==void 0&&d.push(p+S);if(d.length>0)return[m,r+d.join(`,
`+v),u].join(`
`+l)}return w}(t,"",0)};const CW=Uu(WXt);function q7(e){const t=e||$a,n=[],r={};return n.add=i=>{const o=t(i);return r[o]||(r[o]=1,n.push(i)),n},n.remove=i=>{const o=t(i);if(r[o]){r[o]=0;const s=n.indexOf(i);s>=0&&n.splice(s,1)}return n},n}async function hI(e,t){try{await t(e)}catch(n){e.error(n)}}const T9e=Symbol("vega_id");let VXt=1;function Y7(e){return!!(e&&Tt(e))}function Tt(e){return e[T9e]}function P9e(e,t){return e[T9e]=t,e}function sr(e){const t=e===Object(e)?e:{data:e};return Tt(t)?t:P9e(t,VXt++)}function sse(e){return X7(e,sr({}))}function X7(e,t){for(const n in e)t[n]=e[n];return t}function R9e(e,t){return P9e(t,Tt(e))}function iO(e,t){return e?t?(n,r)=>e(n,r)||Tt(t(n))-Tt(t(r)):(n,r)=>e(n,r)||Tt(n)-Tt(r):null}function A9e(e){return e&&e.constructor===oO}function oO(){const e=[],t=[],n=[],r=[],i=[];let o=null,s=!1;return{constructor:oO,insert(a){const l=lt(a),c=l.length;for(let u=0;u<c;++u)e.push(l[u]);return this},remove(a){const l=cn(a)?r:t,c=lt(a),u=c.length;for(let f=0;f<u;++f)l.push(c[f]);return this},modify(a,l,c){const u={field:l,value:Ea(c)};return cn(a)?(u.filter=a,i.push(u)):(u.tuple=a,n.push(u)),this},encode(a,l){return cn(a)?i.push({filter:a,field:l}):n.push({tuple:a,field:l}),this},clean(a){return o=a,this},reflow(){return s=!0,this},pulse(a,l){const c={},u={};let f,d,h,p,g,y;for(f=0,d=l.length;f<d;++f)c[Tt(l[f])]=1;for(f=0,d=t.length;f<d;++f)g=t[f],c[Tt(g)]=-1;for(f=0,d=r.length;f<d;++f)p=r[f],l.forEach(x=>{p(x)&&(c[Tt(x)]=-1)});for(f=0,d=e.length;f<d;++f)g=e[f],y=Tt(g),c[y]?c[y]=1:a.add.push(sr(e[f]));for(f=0,d=l.length;f<d;++f)g=l[f],c[Tt(g)]<0&&a.rem.push(g);function v(x,m,w){w?x[m]=w(x):a.encode=m,s||(u[Tt(x)]=x)}for(f=0,d=n.length;f<d;++f)h=n[f],g=h.tuple,p=h.field,y=c[Tt(g)],y>0&&(v(g,p,h.value),a.modifies(p));for(f=0,d=i.length;f<d;++f)h=i[f],p=h.filter,l.forEach(x=>{p(x)&&c[Tt(x)]>0&&v(x,h.field,h.value)}),a.modifies(h.field);if(s)a.mod=t.length||r.length?l.filter(x=>c[Tt(x)]>0):l.slice();else for(y in u)a.mod.push(u[y]);return(o||o==null&&(t.length||r.length))&&a.clean(!0),a}}}const pI="_:mod:_";function H7(){Object.defineProperty(this,pI,{writable:!0,value:{}})}H7.prototype={set(e,t,n,r){const i=this,o=i[e],s=i[pI];return t!=null&&t>=0?(o[t]!==n||r)&&(o[t]=n,s[t+":"+e]=-1,s[e]=-1):(o!==n||r)&&(i[e]=n,s[e]=Me(n)?1+n.length:-1),i},modified(e,t){const n=this[pI];if(arguments.length){if(Me(e)){for(let r=0;r<e.length;++r)if(n[e[r]])return!0;return!1}}else{for(const r in n)if(n[r])return!0;return!1}return t!=null&&t>=0?t+1<n[e]||!!n[t+":"+e]:!!n[e]},clear(){return this[pI]={},this}};let UXt=0;const qXt="pulse",YXt=new H7,XXt=1,HXt=2;function Nr(e,t,n,r){this.id=++UXt,this.value=e,this.stamp=-1,this.rank=-1,this.qrank=-1,this.flags=0,t&&(this._update=t),n&&this.parameters(n,r)}function Ibe(e){return function(t){const n=this.flags;return arguments.length===0?!!(n&e):(this.flags=t?n|e:n&~e,this)}}Nr.prototype={targets(){return this._targets||(this._targets=q7(gR))},set(e){return this.value!==e?(this.value=e,1):0},skip:Ibe(XXt),modified:Ibe(HXt),parameters(e,t,n){t=t!==!1;const r=this._argval=this._argval||new H7,i=this._argops=this._argops||[],o=[];let s,a,l,c;const u=(f,d,h)=>{h instanceof Nr?(h!==this&&(t&&h.targets().add(this),o.push(h)),i.push({op:h,name:f,index:d})):r.set(f,d,h)};for(s in e)if(a=e[s],s===qXt)lt(a).forEach(f=>{f instanceof Nr?f!==this&&(f.targets().add(this),o.push(f)):De("Pulse parameters must be operator instances.")}),this.source=a;else if(Me(a))for(r.set(s,-1,Array(l=a.length)),c=0;c<l;++c)u(s,c,a[c]);else u(s,-1,a);return this.marshall().clear(),n&&(i.initonly=!0),o},marshall(e){const t=this._argval||YXt,n=this._argops;let r,i,o,s;if(n){const a=n.length;for(i=0;i<a;++i)r=n[i],o=r.op,s=o.modified()&&o.stamp===e,t.set(r.name,r.index,o.value,s);if(n.initonly){for(i=0;i<a;++i)r=n[i],r.op.targets().remove(this);this._argops=null,this._update=null}}return t},detach(){const e=this._argops;let t,n,r,i;if(e)for(t=0,n=e.length;t<n;++t)r=e[t],i=r.op,i._targets&&i._targets.remove(this);this.pulse=null,this.source=null},evaluate(e){const t=this._update;if(t){const n=this.marshall(e.stamp),r=t.call(this,n,e);if(n.clear(),r!==this.value)this.value=r;else if(!this.modified())return e.StopPropagation}},run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?(this.skip(!1),t=0):t=this.evaluate(e),this.pulse=t||e}};function ZXt(e,t,n,r){let i=1,o;return e instanceof Nr?o=e:e&&e.prototype instanceof Nr?o=new e:cn(e)?o=new Nr(null,e):(i=0,o=new Nr(e,t)),this.rank(o),i&&(r=n,n=t),n&&this.connect(o,o.parameters(n,r)),this.touch(o),o}function GXt(e,t){const n=e.rank,r=t.length;for(let i=0;i<r;++i)if(n<t[i].rank){this.rerank(e);return}}let KXt=0;function Z7(e,t,n){this.id=++KXt,this.value=null,n&&(this.receive=n),e&&(this._filter=e),t&&(this._apply=t)}function gm(e,t,n){return new Z7(e,t,n)}Z7.prototype={_filter:Lu,_apply:$a,targets(){return this._targets||(this._targets=q7(gR))},consume(e){return arguments.length?(this._consume=!!e,this):!!this._consume},receive(e){if(this._filter(e)){const t=this.value=this._apply(e),n=this._targets,r=n?n.length:0;for(let i=0;i<r;++i)n[i].receive(t);this._consume&&(e.preventDefault(),e.stopPropagation())}},filter(e){const t=gm(e);return this.targets().add(t),t},apply(e){const t=gm(null,e);return this.targets().add(t),t},merge(){const e=gm();this.targets().add(e);for(let t=0,n=arguments.length;t<n;++t)arguments[t].targets().add(e);return e},throttle(e){let t=-1;return this.filter(()=>{const n=Date.now();return n-t>e?(t=n,1):0})},debounce(e){const t=gm();return this.targets().add(gm(null,null,Sie(e,n=>{const r=n.dataflow;t.receive(n),r&&r.run&&r.run()}))),t},between(e,t){let n=!1;return e.targets().add(gm(null,null,()=>n=!0)),t.targets().add(gm(null,null,()=>n=!1)),this.filter(()=>n)},detach(){this._filter=Lu,this._targets=null}};function JXt(e,t,n,r){const i=this,o=gm(n,r),s=function(c){c.dataflow=i;try{o.receive(c)}catch(u){i.error(u)}finally{i.run()}};let a;typeof e=="string"&&typeof document<"u"?a=document.querySelectorAll(e):a=lt(e);const l=a.length;for(let c=0;c<l;++c)a[c].addEventListener(t,s);return o}function eHt(e,t){const n=this.locale();return j3(e,t,n.timeParse,n.utcParse)}function tHt(e,t,n){return t=this.parse(t,n),this.pulse(e,this.changeset().insert(t))}async function nHt(e,t){const n=this;let r=0,i;try{i=await n.loader().load(e,{context:"dataflow",response:y6e(t&&t.type)});try{i=n.parse(i,t)}catch(o){r=-2,n.warn("Data ingestion failed",e,o)}}catch(o){r=-1,n.warn("Loading failed",e,o)}return{data:i,status:r}}async function rHt(e,t,n){const r=this,i=r._pending||iHt(r);i.requests+=1;const o=await r.request(t,n);return r.pulse(e,r.changeset().remove(Lu).insert(o.data||[])),i.done(),o}function iHt(e){let t;const n=new Promise(r=>t=r);return n.requests=0,n.done=()=>{--n.requests===0&&(e._pending=null,t(e))},e._pending=n}const oHt={skip:!0};function sHt(e,t,n,r,i){return(e instanceof Nr?lHt:aHt)(this,e,t,n,r,i),this}function aHt(e,t,n,r,i,o){const s=ln({},o,oHt);let a,l;cn(n)||(n=Ea(n)),r===void 0?a=c=>e.touch(n(c)):cn(r)?(l=new Nr(null,r,i,!1),a=c=>{l.evaluate(c);const u=n(c),f=l.value;A9e(f)?e.pulse(u,f,o):e.update(u,f,s)}):a=c=>e.update(n(c),r,s),t.apply(a)}function lHt(e,t,n,r,i,o){if(r===void 0)t.targets().add(n);else{const s=o||{},a=new Nr(null,cHt(n,r),i,!1);a.modified(s.force),a.rank=t.rank,t.targets().add(a),n&&(a.skip(!0),a.value=n.value,a.targets().add(n),e.connect(n,[a]))}}function cHt(e,t){return t=cn(t)?t:Ea(t),e?function(n,r){const i=t(n,r);return e.skip()||(e.skip(i!==this.value).value=i),i}:t}function uHt(e){e.rank=++this._rank}function fHt(e){const t=[e];let n,r,i;for(;t.length;)if(this.rank(n=t.pop()),r=n._targets)for(i=r.length;--i>=0;)t.push(n=r[i]),n===e&&De("Cycle detected in dataflow graph.")}const _L={},Id=1,Sm=2,Op=4,dHt=Id|Sm,Lbe=Id|Op,UO=Id|Sm|Op,jbe=8,S$=16,Fbe=32,zbe=64;function Sy(e,t,n){this.dataflow=e,this.stamp=t??-1,this.add=[],this.rem=[],this.mod=[],this.fields=null,this.encode=n||null}function $W(e,t){const n=[];return wm(e,t,r=>n.push(r)),n}function Qbe(e,t){const n={};return e.visit(t,r=>{n[Tt(r)]=1}),r=>n[Tt(r)]?null:r}function fN(e,t){return e?(n,r)=>e(n,r)&&t(n,r):t}Sy.prototype={StopPropagation:_L,ADD:Id,REM:Sm,MOD:Op,ADD_REM:dHt,ADD_MOD:Lbe,ALL:UO,REFLOW:jbe,SOURCE:S$,NO_SOURCE:Fbe,NO_FIELDS:zbe,fork(e){return new Sy(this.dataflow).init(this,e)},clone(){const e=this.fork(UO);return e.add=e.add.slice(),e.rem=e.rem.slice(),e.mod=e.mod.slice(),e.source&&(e.source=e.source.slice()),e.materialize(UO|S$)},addAll(){let e=this;return!e.source||e.add===e.rem||!e.rem.length&&e.source.length===e.add.length||(e=new Sy(this.dataflow).init(this),e.add=e.source,e.rem=[]),e},init(e,t){const n=this;return n.stamp=e.stamp,n.encode=e.encode,e.fields&&!(t&zbe)&&(n.fields=e.fields),t&Id?(n.addF=e.addF,n.add=e.add):(n.addF=null,n.add=[]),t&Sm?(n.remF=e.remF,n.rem=e.rem):(n.remF=null,n.rem=[]),t&Op?(n.modF=e.modF,n.mod=e.mod):(n.modF=null,n.mod=[]),t&Fbe?(n.srcF=null,n.source=null):(n.srcF=e.srcF,n.source=e.source,e.cleans&&(n.cleans=e.cleans)),n},runAfter(e){this.dataflow.runAfter(e)},changed(e){const t=e||UO;return t&Id&&this.add.length||t&Sm&&this.rem.length||t&Op&&this.mod.length},reflow(e){if(e)return this.fork(UO).reflow();const t=this.add.length,n=this.source&&this.source.length;return n&&n!==t&&(this.mod=this.source,t&&this.filter(Op,Qbe(this,Id))),this},clean(e){return arguments.length?(this.cleans=!!e,this):this.cleans},modifies(e){const t=this.fields||(this.fields={});return Me(e)?e.forEach(n=>t[n]=!0):t[e]=!0,this},modified(e,t){const n=this.fields;return(t||this.mod.length)&&n?arguments.length?Me(e)?e.some(r=>n[r]):n[e]:!!n:!1},filter(e,t){const n=this;return e&Id&&(n.addF=fN(n.addF,t)),e&Sm&&(n.remF=fN(n.remF,t)),e&Op&&(n.modF=fN(n.modF,t)),e&S$&&(n.srcF=fN(n.srcF,t)),n},materialize(e){e=e||UO;const t=this;return e&Id&&t.addF&&(t.add=$W(t.add,t.addF),t.addF=null),e&Sm&&t.remF&&(t.rem=$W(t.rem,t.remF),t.remF=null),e&Op&&t.modF&&(t.mod=$W(t.mod,t.modF),t.modF=null),e&S$&&t.srcF&&(t.source=t.source.filter(t.srcF),t.srcF=null),t},visit(e,t){const n=this,r=t;if(e&S$)return wm(n.source,n.srcF,r),n;e&Id&&wm(n.add,n.addF,r),e&Sm&&wm(n.rem,n.remF,r),e&Op&&wm(n.mod,n.modF,r);const i=n.source;if(e&jbe&&i){const o=n.add.length+n.mod.length;o===i.length||(o?wm(i,Qbe(n,Lbe),r):wm(i,n.srcF,r))}return n}};function ase(e,t,n,r){const i=this;let o=0;this.dataflow=e,this.stamp=t,this.fields=null,this.encode=r||null,this.pulses=n;for(const s of n)if(s.stamp===t){if(s.fields){const a=i.fields||(i.fields={});for(const l in s.fields)a[l]=1}s.changed(i.ADD)&&(o|=i.ADD),s.changed(i.REM)&&(o|=i.REM),s.changed(i.MOD)&&(o|=i.MOD)}this.changes=o}Ke(ase,Sy,{fork(e){const t=new Sy(this.dataflow).init(this,e&this.NO_FIELDS);return e!==void 0&&(e&t.ADD&&this.visit(t.ADD,n=>t.add.push(n)),e&t.REM&&this.visit(t.REM,n=>t.rem.push(n)),e&t.MOD&&this.visit(t.MOD,n=>t.mod.push(n))),t},changed(e){return this.changes&e},modified(e){const t=this,n=t.fields;return n&&t.changes&t.MOD?Me(e)?e.some(r=>n[r]):n[e]:0},filter(){De("MultiPulse does not support filtering.")},materialize(){De("MultiPulse does not support materialization.")},visit(e,t){const n=this,r=n.pulses,i=r.length;let o=0;if(e&n.SOURCE)for(;o<i;++o)r[o].visit(e,t);else for(;o<i;++o)r[o].stamp===n.stamp&&r[o].visit(e,t);return n}});async function hHt(e,t,n){const r=this,i=[];if(r._pulse)return D9e(r);if(r._pending&&await r._pending,t&&await hI(r,t),!r._touched.length)return r.debug("Dataflow invoked, but nothing to do."),r;const o=++r._clock;r._pulse=new Sy(r,o,e),r._touched.forEach(u=>r._enqueue(u,!0)),r._touched=q7(gR);let s=0,a,l,c;try{for(;r._heap.size()>0;){if(a=r._heap.pop(),a.rank!==a.qrank){r._enqueue(a,!0);continue}l=a.run(r._getPulse(a,e)),l.then?l=await l:l.async&&(i.push(l.async),l=_L),l!==_L&&a._targets&&a._targets.forEach(u=>r._enqueue(u)),++s}}catch(u){r._heap.clear(),c=u}if(r._input={},r._pulse=null,r.debug(`Pulse ${o}: ${s} operators`),c&&(r._postrun=[],r.error(c)),r._postrun.length){const u=r._postrun.sort((f,d)=>d.priority-f.priority);r._postrun=[];for(let f=0;f<u.length;++f)await hI(r,u[f].callback)}return n&&await hI(r,n),i.length&&Promise.all(i).then(u=>r.runAsync(null,()=>{u.forEach(f=>{try{f(r)}catch(d){r.error(d)}})})),r}async function pHt(e,t,n){for(;this._running;)await this._running;const r=()=>this._running=null;return(this._running=this.evaluate(e,t,n)).then(r,r),this._running}function gHt(e,t,n){return this._pulse?D9e(this):(this.evaluate(e,t,n),this)}function mHt(e,t,n){if(this._pulse||t)this._postrun.push({priority:n||0,callback:e});else try{e(this)}catch(r){this.error(r)}}function D9e(e){return e.error("Dataflow already running. Use runAsync() to chain invocations."),e}function yHt(e,t){const n=e.stamp<this._clock;n&&(e.stamp=this._clock),(n||t)&&(e.qrank=e.rank,this._heap.push(e))}function vHt(e,t){const n=e.source,r=this._clock;return n&&Me(n)?new ase(this,r,n.map(i=>i.pulse),t):this._input[e.id]||bHt(this._pulse,n&&n.pulse)}function bHt(e,t){return t&&t.stamp===e.stamp?t:(e=e.fork(),t&&t!==_L&&(e.source=t.source),e)}const lse={skip:!1,force:!1};function OHt(e,t){const n=t||lse;return this._pulse?this._enqueue(e):this._touched.add(e),n.skip&&e.skip(!0),this}function xHt(e,t,n){const r=n||lse;return(e.set(t)||r.force)&&this.touch(e,r),this}function wHt(e,t,n){this.touch(e,n||lse);const r=new Sy(this,this._clock+(this._pulse?0:1)),i=e.pulse&&e.pulse.source||[];return r.target=e,this._input[e.id]=t.pulse(r,i),this}function SHt(e){let t=[];return{clear:()=>t=[],size:()=>t.length,peek:()=>t[0],push:n=>(t.push(n),N9e(t,0,t.length-1,e)),pop:()=>{const n=t.pop();let r;return t.length?(r=t[0],t[0]=n,_Ht(t,0,e)):r=n,r}}}function N9e(e,t,n,r){let i,o;const s=e[n];for(;n>t;){if(o=n-1>>1,i=e[o],r(s,i)<0){e[n]=i,n=o;continue}break}return e[n]=s}function _Ht(e,t,n){const r=t,i=e.length,o=e[t];let s=(t<<1)+1,a;for(;s<i;)a=s+1,a<i&&n(e[s],e[a])>=0&&(s=a),e[t]=e[s],t=s,s=(t<<1)+1;return e[t]=o,N9e(e,r,t,n)}function Aw(){this.logger(vie()),this.logLevel(mie),this._clock=0,this._rank=0,this._locale=Iie();try{this._loader=bR()}catch{}this._touched=q7(gR),this._input={},this._pulse=null,this._heap=SHt((e,t)=>e.qrank-t.qrank),this._postrun=[]}function _$(e){return function(){return this._log[e].apply(this,arguments)}}Aw.prototype={stamp(){return this._clock},loader(e){return arguments.length?(this._loader=e,this):this._loader},locale(e){return arguments.length?(this._locale=e,this):this._locale},logger(e){return arguments.length?(this._log=e,this):this._log},error:_$("error"),warn:_$("warn"),info:_$("info"),debug:_$("debug"),logLevel:_$("level"),cleanThreshold:1e4,add:ZXt,connect:GXt,rank:uHt,rerank:fHt,pulse:wHt,touch:OHt,update:xHt,changeset:oO,ingest:tHt,parse:eHt,preload:rHt,request:nHt,events:JXt,on:sHt,evaluate:hHt,run:gHt,runAsync:pHt,runAfter:mHt,_enqueue:yHt,_getPulse:vHt};function Pe(e,t){Nr.call(this,e,null,t)}Ke(Pe,Nr,{run(e){if(e.stamp<this.stamp)return e.StopPropagation;let t;return this.skip()?this.skip(!1):t=this.evaluate(e),t=t||e,t.then?t=t.then(n=>this.pulse=n):t!==e.StopPropagation&&(this.pulse=t),t},evaluate(e){const t=this.marshall(e.stamp),n=this.transform(t,e);return t.clear(),n},transform(){}});const AS={};function M9e(e){const t=I9e(e);return t&&t.Definition||null}function I9e(e){return e=e&&e.toLowerCase(),Rt(AS,e)?AS[e]:null}function*L9e(e,t){if(t==null)for(let n of e)n!=null&&n!==""&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)r=t(r,++n,e),r!=null&&r!==""&&(r=+r)>=r&&(yield r)}}function cse(e,t,n){const r=Float64Array.from(L9e(e,n));return r.sort(Zp),t.map(i=>S4e(r,i))}function use(e,t){return cse(e,[.25,.5,.75],t)}function fse(e,t){const n=e.length,r=MFt(e,t),i=use(e,t),o=(i[2]-i[0])/1.34;return 1.06*(Math.min(r,o)||r||Math.abs(i[0])||1)*Math.pow(n,-.2)}function j9e(e){const t=e.maxbins||20,n=e.base||10,r=Math.log(n),i=e.divide||[5,2];let o=e.extent[0],s=e.extent[1],a,l,c,u,f,d;const h=e.span||s-o||Math.abs(o)||1;if(e.step)a=e.step;else if(e.steps){for(u=h/t,f=0,d=e.steps.length;f<d&&e.steps[f]<u;++f);a=e.steps[Math.max(0,f-1)]}else{for(l=Math.ceil(Math.log(t)/r),c=e.minstep||0,a=Math.max(c,Math.pow(n,Math.round(Math.log(h)/r)-l));Math.ceil(h/a)>t;)a*=n;for(f=0,d=i.length;f<d;++f)u=a/i[f],u>=c&&h/u<=t&&(a=u)}u=Math.log(a);const p=u>=0?0:~~(-u/r)+1,g=Math.pow(n,-p-1);return(e.nice||e.nice===void 0)&&(u=Math.floor(o/a+g)*a,o=o<u?u-a:u,s=Math.ceil(s/a)*a),{start:o,stop:s===o?o+a:s,step:a}}var Qu=Math.random;function CHt(e){Qu=e}function F9e(e,t,n,r){if(!e.length)return[void 0,void 0];const i=Float64Array.from(L9e(e,r)),o=i.length,s=t;let a,l,c,u;for(c=0,u=Array(s);c<s;++c){for(a=0,l=0;l<o;++l)a+=i[~~(Qu()*o)];u[c]=a/o}return u.sort(Zp),[aH(u,n/2),aH(u,1-n/2)]}function z9e(e,t,n,r){r=r||(d=>d);const i=e.length,o=new Float64Array(i);let s=0,a=1,l=r(e[0]),c=l,u=l+t,f;for(;a<i;++a){if(f=r(e[a]),f>=u){for(c=(l+c)/2;s<a;++s)o[s]=c;u=f+t,l=f}c=f}for(c=(l+c)/2;s<a;++s)o[s]=c;return n?$Ht(o,t+t/4):o}function $Ht(e,t){const n=e.length;let r=0,i=1,o,s;for(;e[r]===e[i];)++i;for(;i<n;){for(o=i+1;e[i]===e[o];)++o;if(e[i]-e[i-1]<t){for(s=i+(r+o-i-i>>1);s<i;)e[s++]=e[i];for(;s>i;)e[s--]=e[r]}r=i,i=o}return e}function EHt(e){return function(){return e=(1103515245*e+12345)%2147483647,e/2147483647}}function kHt(e,t){t==null&&(t=e,e=0);let n,r,i;const o={min(s){return arguments.length?(n=s||0,i=r-n,o):n},max(s){return arguments.length?(r=s||0,i=r-n,o):r},sample(){return n+Math.floor(i*Qu())},pdf(s){return s===Math.floor(s)&&s>=n&&s<r?1/i:0},cdf(s){const a=Math.floor(s);return a<n?0:a>=r?1:(a-n+1)/i},icdf(s){return s>=0&&s<=1?n-1+Math.floor(s*i):NaN}};return o.min(e).max(t)}const Q9e=Math.sqrt(2*Math.PI),THt=Math.SQRT2;let C$=NaN;function G7(e,t){e=e||0,t=t??1;let n=0,r=0,i,o;if(C$===C$)n=C$,C$=NaN;else{do n=Qu()*2-1,r=Qu()*2-1,i=n*n+r*r;while(i===0||i>1);o=Math.sqrt(-2*Math.log(i)/i),n*=o,C$=r*o}return e+n*t}function dse(e,t,n){n=n??1;const r=(e-(t||0))/n;return Math.exp(-.5*r*r)/(n*Q9e)}function K7(e,t,n){t=t||0,n=n??1;const r=(e-t)/n,i=Math.abs(r);let o;if(i>37)o=0;else{const s=Math.exp(-i*i/2);let a;i<7.07106781186547?(a=.0352624965998911*i+.700383064443688,a=a*i+6.37396220353165,a=a*i+33.912866078383,a=a*i+112.079291497871,a=a*i+221.213596169931,a=a*i+220.206867912376,o=s*a,a=.0883883476483184*i+1.75566716318264,a=a*i+16.064177579207,a=a*i+86.7807322029461,a=a*i+296.564248779674,a=a*i+637.333633378831,a=a*i+793.826512519948,a=a*i+440.413735824752,o=o/a):(a=i+.65,a=i+4/a,a=i+3/a,a=i+2/a,a=i+1/a,o=s/a/2.506628274631)}return r>0?1-o:o}function J7(e,t,n){return e<0||e>1?NaN:(t||0)+(n??1)*THt*PHt(2*e-1)}function PHt(e){let t=-Math.log((1-e)*(1+e)),n;return t<6.25?(t-=3.125,n=-364441206401782e-35,n=-16850591381820166e-35+n*t,n=128584807152564e-32+n*t,n=11157877678025181e-33+n*t,n=-1333171662854621e-31+n*t,n=20972767875968562e-33+n*t,n=6637638134358324e-30+n*t,n=-4054566272975207e-29+n*t,n=-8151934197605472e-29+n*t,n=26335093153082323e-28+n*t,n=-12975133253453532e-27+n*t,n=-5415412054294628e-26+n*t,n=10512122733215323e-25+n*t,n=-4112633980346984e-24+n*t,n=-29070369957882005e-24+n*t,n=42347877827932404e-23+n*t,n=-13654692000834679e-22+n*t,n=-13882523362786469e-21+n*t,n=.00018673420803405714+n*t,n=-.000740702534166267+n*t,n=-.006033670871430149+n*t,n=.24015818242558962+n*t,n=1.6536545626831027+n*t):t<16?(t=Math.sqrt(t)-3.25,n=22137376921775787e-25,n=9075656193888539e-23+n*t,n=-27517406297064545e-23+n*t,n=18239629214389228e-24+n*t,n=15027403968909828e-22+n*t,n=-4013867526981546e-21+n*t,n=29234449089955446e-22+n*t,n=12475304481671779e-21+n*t,n=-47318229009055734e-21+n*t,n=6828485145957318e-20+n*t,n=24031110387097894e-21+n*t,n=-.0003550375203628475+n*t,n=.0009532893797373805+n*t,n=-.0016882755560235047+n*t,n=.002491442096107851+n*t,n=-.003751208507569241+n*t,n=.005370914553590064+n*t,n=1.0052589676941592+n*t,n=3.0838856104922208+n*t):Number.isFinite(t)?(t=Math.sqrt(t)-5,n=-27109920616438573e-27,n=-2555641816996525e-25+n*t,n=15076572693500548e-25+n*t,n=-3789465440126737e-24+n*t,n=761570120807834e-23+n*t,n=-1496002662714924e-23+n*t,n=2914795345090108e-23+n*t,n=-6771199775845234e-23+n*t,n=22900482228026655e-23+n*t,n=-99298272942317e-20+n*t,n=4526062597223154e-21+n*t,n=-1968177810553167e-20+n*t,n=7599527703001776e-20+n*t,n=-.00021503011930044477+n*t,n=-.00013871931833623122+n*t,n=1.0103004648645344+n*t,n=4.849906401408584+n*t):n=1/0,n*e}function hse(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>G7(n,r),pdf:o=>dse(o,n,r),cdf:o=>K7(o,n,r),icdf:o=>J7(o,n,r)};return i.mean(e).stdev(t)}function pse(e,t){const n=hse();let r=0;const i={data(o){return arguments.length?(e=o,r=o?o.length:0,i.bandwidth(t)):e},bandwidth(o){return arguments.length?(t=o,!t&&e&&(t=fse(e)),i):t},sample(){return e[~~(Qu()*r)]+t*n.sample()},pdf(o){let s=0,a=0;for(;a<r;++a)s+=n.pdf((o-e[a])/t);return s/t/r},cdf(o){let s=0,a=0;for(;a<r;++a)s+=n.cdf((o-e[a])/t);return s/r},icdf(){throw Error("KDE icdf not supported.")}};return i.data(e)}function gse(e,t){return e=e||0,t=t??1,Math.exp(e+G7()*t)}function mse(e,t,n){if(e<=0)return 0;t=t||0,n=n??1;const r=(Math.log(e)-t)/n;return Math.exp(-.5*r*r)/(n*Q9e*e)}function yse(e,t,n){return K7(Math.log(e),t,n)}function vse(e,t,n){return Math.exp(J7(e,t,n))}function B9e(e,t){let n,r;const i={mean(o){return arguments.length?(n=o||0,i):n},stdev(o){return arguments.length?(r=o??1,i):r},sample:()=>gse(n,r),pdf:o=>mse(o,n,r),cdf:o=>yse(o,n,r),icdf:o=>vse(o,n,r)};return i.mean(e).stdev(t)}function W9e(e,t){let n=0,r;function i(s){const a=[];let l=0,c;for(c=0;c<n;++c)l+=a[c]=s[c]==null?1:+s[c];for(c=0;c<n;++c)a[c]/=l;return a}const o={weights(s){return arguments.length?(r=i(t=s||[]),o):t},distributions(s){return arguments.length?(s?(n=s.length,e=s):(n=0,e=[]),o.weights(t)):e},sample(){const s=Qu();let a=e[n-1],l=r[0],c=0;for(;c<n-1;l+=r[++c])if(s<l){a=e[c];break}return a.sample()},pdf(s){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].pdf(s);return a},cdf(s){let a=0,l=0;for(;l<n;++l)a+=r[l]*e[l].cdf(s);return a},icdf(){throw Error("Mixture icdf not supported.")}};return o.distributions(e).weights(t)}function bse(e,t){return t==null&&(t=e??1,e=0),e+(t-e)*Qu()}function Ose(e,t,n){return n==null&&(n=t??1,t=0),e>=t&&e<=n?1/(n-t):0}function xse(e,t,n){return n==null&&(n=t??1,t=0),e<t?0:e>n?1:(e-t)/(n-t)}function wse(e,t,n){return n==null&&(n=t??1,t=0),e>=0&&e<=1?t+e*(n-t):NaN}function V9e(e,t){let n,r;const i={min(o){return arguments.length?(n=o||0,i):n},max(o){return arguments.length?(r=o??1,i):r},sample:()=>bse(n,r),pdf:o=>Ose(o,n,r),cdf:o=>xse(o,n,r),icdf:o=>wse(o,n,r)};return t==null&&(t=e??1,e=0),i.min(e).max(t)}function Sse(e,t,n){let r=0,i=0;for(const o of e){const s=n(o);t(o)==null||s==null||isNaN(s)||(r+=(s-r)/++i)}return{coef:[r],predict:()=>r,rSquared:0}}function AR(e,t,n,r){const i=r-e*e,o=Math.abs(i)<1e-24?0:(n-e*t)/i;return[t-o*e,o]}function e8(e,t,n,r){e=e.filter(h=>{let p=t(h),g=n(h);return p!=null&&(p=+p)>=p&&g!=null&&(g=+g)>=g}),r&&e.sort((h,p)=>t(h)-t(p));const i=e.length,o=new Float64Array(i),s=new Float64Array(i);let a=0,l=0,c=0,u,f,d;for(d of e)o[a]=u=+t(d),s[a]=f=+n(d),++a,l+=(u-l)/a,c+=(f-c)/a;for(a=0;a<i;++a)o[a]-=l,s[a]-=c;return[o,s,l,c]}function DR(e,t,n,r){let i=-1,o,s;for(const a of e)o=t(a),s=n(a),o!=null&&(o=+o)>=o&&s!=null&&(s=+s)>=s&&r(o,s,++i)}function OC(e,t,n,r,i){let o=0,s=0;return DR(e,t,n,(a,l)=>{const c=l-i(a),u=l-r;o+=c*c,s+=u*u}),1-o/s}function _se(e,t,n){let r=0,i=0,o=0,s=0,a=0;DR(e,t,n,(u,f)=>{++a,r+=(u-r)/a,i+=(f-i)/a,o+=(u*f-o)/a,s+=(u*u-s)/a});const l=AR(r,i,o,s),c=u=>l[0]+l[1]*u;return{coef:l,predict:c,rSquared:OC(e,t,n,i,c)}}function U9e(e,t,n){let r=0,i=0,o=0,s=0,a=0;DR(e,t,n,(u,f)=>{++a,u=Math.log(u),r+=(u-r)/a,i+=(f-i)/a,o+=(u*f-o)/a,s+=(u*u-s)/a});const l=AR(r,i,o,s),c=u=>l[0]+l[1]*Math.log(u);return{coef:l,predict:c,rSquared:OC(e,t,n,i,c)}}function q9e(e,t,n){const[r,i,o,s]=e8(e,t,n);let a=0,l=0,c=0,u=0,f=0,d,h,p;DR(e,t,n,(x,m)=>{d=r[f++],h=Math.log(m),p=d*m,a+=(m*h-a)/f,l+=(p-l)/f,c+=(p*h-c)/f,u+=(d*p-u)/f});const[g,y]=AR(l/s,a/s,c/s,u/s),v=x=>Math.exp(g+y*(x-o));return{coef:[Math.exp(g-y*o),y],predict:v,rSquared:OC(e,t,n,s,v)}}function Y9e(e,t,n){let r=0,i=0,o=0,s=0,a=0,l=0;DR(e,t,n,(f,d)=>{const h=Math.log(f),p=Math.log(d);++l,r+=(h-r)/l,i+=(p-i)/l,o+=(h*p-o)/l,s+=(h*h-s)/l,a+=(d-a)/l});const c=AR(r,i,o,s),u=f=>c[0]*Math.pow(f,c[1]);return c[0]=Math.exp(c[0]),{coef:c,predict:u,rSquared:OC(e,t,n,a,u)}}function Cse(e,t,n){const[r,i,o,s]=e8(e,t,n),a=r.length;let l=0,c=0,u=0,f=0,d=0,h,p,g,y;for(h=0;h<a;)p=r[h],g=i[h++],y=p*p,l+=(y-l)/h,c+=(y*p-c)/h,u+=(y*y-u)/h,f+=(p*g-f)/h,d+=(y*g-d)/h;const v=u-l*l,x=l*v-c*c,m=(d*l-f*c)/x,w=(f*v-d*c)/x,S=-m*l,C=$=>($=$-o,m*$*$+w*$+S+s);return{coef:[S-w*o+m*o*o+s,w-2*m*o,m],predict:C,rSquared:OC(e,t,n,s,C)}}function X9e(e,t,n,r){if(r===0)return Sse(e,t,n);if(r===1)return _se(e,t,n);if(r===2)return Cse(e,t,n);const[i,o,s,a]=e8(e,t,n),l=i.length,c=[],u=[],f=r+1;let d,h,p,g,y;for(d=0;d<f;++d){for(p=0,g=0;p<l;++p)g+=Math.pow(i[p],d)*o[p];for(c.push(g),y=new Float64Array(f),h=0;h<f;++h){for(p=0,g=0;p<l;++p)g+=Math.pow(i[p],d+h);y[h]=g}u.push(y)}u.push(c);const v=AHt(u),x=m=>{m-=s;let w=a+v[0]+v[1]*m+v[2]*m*m;for(d=3;d<f;++d)w+=v[d]*Math.pow(m,d);return w};return{coef:RHt(f,v,-s,a),predict:x,rSquared:OC(e,t,n,a,x)}}function RHt(e,t,n,r){const i=Array(e);let o,s,a,l;for(o=0;o<e;++o)i[o]=0;for(o=e-1;o>=0;--o)for(a=t[o],l=1,i[o]+=a,s=1;s<=o;++s)l*=(o+1-s)/s,i[o-s]+=a*Math.pow(n,s)*l;return i[0]+=r,i}function AHt(e){const t=e.length-1,n=[];let r,i,o,s,a;for(r=0;r<t;++r){for(s=r,i=r+1;i<t;++i)Math.abs(e[r][i])>Math.abs(e[r][s])&&(s=i);for(o=r;o<t+1;++o)a=e[o][r],e[o][r]=e[o][s],e[o][s]=a;for(i=r+1;i<t;++i)for(o=t;o>=r;o--)e[o][i]-=e[o][r]*e[r][i]/e[r][r]}for(i=t-1;i>=0;--i){for(a=0,o=i+1;o<t;++o)a+=e[o][i]*n[o];n[i]=(e[t][i]-a)/e[i][i]}return n}const Bbe=2,Wbe=1e-12;function H9e(e,t,n,r){const[i,o,s,a]=e8(e,t,n,!0),l=i.length,c=Math.max(2,~~(r*l)),u=new Float64Array(l),f=new Float64Array(l),d=new Float64Array(l).fill(1);for(let h=-1;++h<=Bbe;){const p=[0,c-1];for(let y=0;y<l;++y){const v=i[y],x=p[0],m=p[1],w=v-i[x]>i[m]-v?x:m;let S=0,C=0,$=0,E=0,R=0;const N=1/Math.abs(i[w]-v||1);for(let A=x;A<=m;++A){const T=i[A],D=o[A],L=DHt(Math.abs(v-T)*N)*d[A],W=T*L;S+=L,C+=W,$+=D*L,E+=D*W,R+=T*W}const[I,j]=AR(C/S,$/S,E/S,R/S);u[y]=I+j*v,f[y]=Math.abs(o[y]-u[y]),NHt(i,y+1,p)}if(h===Bbe)break;const g=_4e(f);if(Math.abs(g)<Wbe)break;for(let y=0,v,x;y<l;++y)v=f[y]/(6*g),d[y]=v>=1?Wbe:(x=1-v*v)*x}return MHt(i,u,s,a)}function DHt(e){return(e=1-e*e*e)*e*e}function NHt(e,t,n){const r=e[t];let i=n[0],o=n[1]+1;if(!(o>=e.length))for(;t>i&&e[o]-r<=r-e[i];)n[0]=++i,n[1]=o,++o}function MHt(e,t,n,r){const i=e.length,o=[];let s=0,a=0,l=[],c;for(;s<i;++s)c=e[s]+n,l[0]===c?l[1]+=(t[s]-l[1])/++a:(a=0,l[1]+=r,l=[c,t[s]],o.push(l));return l[1]+=r,o}const IHt=.5*Math.PI/180;function t8(e,t,n,r){n=n||25,r=Math.max(n,r||200);const i=g=>[g,e(g)],o=t[0],s=t[1],a=s-o,l=a/r,c=[i(o)],u=[];if(n===r){for(let g=1;g<r;++g)c.push(i(o+g/n*a));return c.push(i(s)),c}else{u.push(i(s));for(let g=n;--g>0;)u.push(i(o+g/n*a))}let f=c[0],d=u[u.length-1];const h=1/a,p=LHt(f[1],u);for(;d;){const g=i((f[0]+d[0])/2);g[0]-f[0]>=l&&jHt(f,g,d,h,p)>IHt?u.push(g):(f=d,c.push(d),u.pop()),d=u[u.length-1]}return c}function LHt(e,t){let n=e,r=e;const i=t.length;for(let o=0;o<i;++o){const s=t[o][1];s<n&&(n=s),s>r&&(r=s)}return 1/(r-n)}function jHt(e,t,n,r,i){const o=Math.atan2(i*(n[1]-e[1]),r*(n[0]-e[0])),s=Math.atan2(i*(t[1]-e[1]),r*(t[0]-e[0]));return Math.abs(o-s)}function FHt(e){return t=>{const n=e.length;let r=1,i=String(e[0](t));for(;r<n;++r)i+="|"+e[r](t);return i}}function qH(e){return!e||!e.length?function(){return""}:e.length===1?e[0]:FHt(e)}function Z9e(e,t,n){return n||e+(t?"_"+t:"")}const EW=()=>{},zHt={init:EW,add:EW,rem:EW,idx:0},M2={values:{init:e=>e.cell.store=!0,value:e=>e.cell.data.values(),idx:-1},count:{value:e=>e.cell.num},__count__:{value:e=>e.missing+e.valid},missing:{value:e=>e.missing},valid:{value:e=>e.valid},sum:{init:e=>e.sum=0,value:e=>e.sum,add:(e,t)=>e.sum+=+t,rem:(e,t)=>e.sum-=t},product:{init:e=>e.product=1,value:e=>e.valid?e.product:void 0,add:(e,t)=>e.product*=t,rem:(e,t)=>e.product/=t},mean:{init:e=>e.mean=0,value:e=>e.valid?e.mean:void 0,add:(e,t)=>(e.mean_d=t-e.mean,e.mean+=e.mean_d/e.valid),rem:(e,t)=>(e.mean_d=t-e.mean,e.mean-=e.valid?e.mean_d/e.valid:e.mean)},average:{value:e=>e.valid?e.mean:void 0,req:["mean"],idx:1},variance:{init:e=>e.dev=0,value:e=>e.valid>1?e.dev/(e.valid-1):void 0,add:(e,t)=>e.dev+=e.mean_d*(t-e.mean),rem:(e,t)=>e.dev-=e.mean_d*(t-e.mean),req:["mean"],idx:1},variancep:{value:e=>e.valid>1?e.dev/e.valid:void 0,req:["variance"],idx:2},stdev:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid-1)):void 0,req:["variance"],idx:2},stdevp:{value:e=>e.valid>1?Math.sqrt(e.dev/e.valid):void 0,req:["variance"],idx:2},stderr:{value:e=>e.valid>1?Math.sqrt(e.dev/(e.valid*(e.valid-1))):void 0,req:["variance"],idx:2},distinct:{value:e=>e.cell.data.distinct(e.get),req:["values"],idx:3},ci0:{value:e=>e.cell.data.ci0(e.get),req:["values"],idx:3},ci1:{value:e=>e.cell.data.ci1(e.get),req:["values"],idx:3},median:{value:e=>e.cell.data.q2(e.get),req:["values"],idx:3},q1:{value:e=>e.cell.data.q1(e.get),req:["values"],idx:3},q3:{value:e=>e.cell.data.q3(e.get),req:["values"],idx:3},min:{init:e=>e.min=void 0,value:e=>e.min=Number.isNaN(e.min)?e.cell.data.min(e.get):e.min,add:(e,t)=>{(t<e.min||e.min===void 0)&&(e.min=t)},rem:(e,t)=>{t<=e.min&&(e.min=NaN)},req:["values"],idx:4},max:{init:e=>e.max=void 0,value:e=>e.max=Number.isNaN(e.max)?e.cell.data.max(e.get):e.max,add:(e,t)=>{(t>e.max||e.max===void 0)&&(e.max=t)},rem:(e,t)=>{t>=e.max&&(e.max=NaN)},req:["values"],idx:4},argmin:{init:e=>e.argmin=void 0,value:e=>e.argmin||e.cell.data.argmin(e.get),add:(e,t,n)=>{t<e.min&&(e.argmin=n)},rem:(e,t)=>{t<=e.min&&(e.argmin=void 0)},req:["min","values"],idx:3},argmax:{init:e=>e.argmax=void 0,value:e=>e.argmax||e.cell.data.argmax(e.get),add:(e,t,n)=>{t>e.max&&(e.argmax=n)},rem:(e,t)=>{t>=e.max&&(e.argmax=void 0)},req:["max","values"],idx:3}},NR=Object.keys(M2).filter(e=>e!=="__count__");function QHt(e,t){return n=>ln({name:e,out:n||e},zHt,t)}[...NR,"__count__"].forEach(e=>{M2[e]=QHt(e,M2[e])});function G9e(e,t){return M2[e](t)}function K9e(e,t){return e.idx-t.idx}function BHt(e){const t={};e.forEach(r=>t[r.name]=r);const n=r=>{r.req&&r.req.forEach(i=>{t[i]||n(t[i]=M2[i]())})};return e.forEach(n),Object.values(t).sort(K9e)}function WHt(){this.valid=0,this.missing=0,this._ops.forEach(e=>e.init(this))}function VHt(e,t){if(e==null||e===""){++this.missing;return}e===e&&(++this.valid,this._ops.forEach(n=>n.add(this,e,t)))}function UHt(e,t){if(e==null||e===""){--this.missing;return}e===e&&(--this.valid,this._ops.forEach(n=>n.rem(this,e,t)))}function qHt(e){return this._out.forEach(t=>e[t.out]=t.value(this)),e}function J9e(e,t){const n=t||$a,r=BHt(e),i=e.slice().sort(K9e);function o(s){this._ops=r,this._out=i,this.cell=s,this.init()}return o.prototype.init=WHt,o.prototype.add=VHt,o.prototype.rem=UHt,o.prototype.set=qHt,o.prototype.get=n,o.fields=e.map(s=>s.out),o}function $se(e){this._key=e?Ql(e):Tt,this.reset()}const Qs=$se.prototype;Qs.reset=function(){this._add=[],this._rem=[],this._ext=null,this._get=null,this._q=null};Qs.add=function(e){this._add.push(e)};Qs.rem=function(e){this._rem.push(e)};Qs.values=function(){if(this._get=null,this._rem.length===0)return this._add;const e=this._add,t=this._rem,n=this._key,r=e.length,i=t.length,o=Array(r-i),s={};let a,l,c;for(a=0;a<i;++a)s[n(t[a])]=1;for(a=0,l=0;a<r;++a)s[n(c=e[a])]?s[n(c)]=0:o[l++]=c;return this._rem=[],this._add=o};Qs.distinct=function(e){const t=this.values(),n={};let r=t.length,i=0,o;for(;--r>=0;)o=e(t[r])+"",Rt(n,o)||(n[o]=1,++i);return i};Qs.extent=function(e){if(this._get!==e||!this._ext){const t=this.values(),n=o4e(t,e);this._ext=[t[n[0]],t[n[1]]],this._get=e}return this._ext};Qs.argmin=function(e){return this.extent(e)[0]||{}};Qs.argmax=function(e){return this.extent(e)[1]||{}};Qs.min=function(e){const t=this.extent(e)[0];return t!=null?e(t):void 0};Qs.max=function(e){const t=this.extent(e)[1];return t!=null?e(t):void 0};Qs.quartile=function(e){return(this._get!==e||!this._q)&&(this._q=use(this.values(),e),this._get=e),this._q};Qs.q1=function(e){return this.quartile(e)[0]};Qs.q2=function(e){return this.quartile(e)[1]};Qs.q3=function(e){return this.quartile(e)[2]};Qs.ci=function(e){return(this._get!==e||!this._ci)&&(this._ci=F9e(this.values(),1e3,.05,e),this._get=e),this._ci};Qs.ci0=function(e){return this.ci(e)[0]};Qs.ci1=function(e){return this.ci(e)[1]};function r0(e){Pe.call(this,null,e),this._adds=[],this._mods=[],this._alen=0,this._mlen=0,this._drop=!0,this._cross=!1,this._dims=[],this._dnames=[],this._measures=[],this._countOnly=!1,this._counts=null,this._prev=null,this._inputs=null,this._outputs=null}r0.Definition={type:"Aggregate",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:NR},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"drop",type:"boolean",default:!0},{name:"cross",type:"boolean",default:!1},{name:"key",type:"field"}]};Ke(r0,Pe,{transform(e,t){const n=this,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.modified();return n.stamp=r.stamp,n.value&&(i||t.modified(n._inputs,!0))?(n._prev=n.value,n.value=i?n.init(e):Object.create(null),t.visit(t.SOURCE,o=>n.add(o))):(n.value=n.value||n.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),r.modifies(n._outputs),n._drop=e.drop!==!1,e.cross&&n._dims.length>1&&(n._drop=!1,n.cross()),t.clean()&&n._drop&&r.clean(!0).runAfter(()=>this.clean()),n.changes(r)},cross(){const e=this,t=e.value,n=e._dnames,r=n.map(()=>({})),i=n.length;function o(a){let l,c,u,f;for(l in a)for(u=a[l].tuple,c=0;c<i;++c)r[c][f=u[n[c]]]=f}o(e._prev),o(t);function s(a,l,c){const u=n[c],f=r[c++];for(const d in f){const h=a?a+"|"+d:d;l[u]=f[d],c<i?s(h,l,c):t[h]||e.cell(h,l)}}s("",{},0)},init(e){const t=this._inputs=[],n=this._outputs=[],r={};function i(y){const v=lt(ya(y)),x=v.length;let m=0,w;for(;m<x;++m)r[w=v[m]]||(r[w]=1,t.push(w))}this._dims=lt(e.groupby),this._dnames=this._dims.map(y=>{const v=Vi(y);return i(y),n.push(v),v}),this.cellkey=e.key?e.key:qH(this._dims),this._countOnly=!0,this._counts=[],this._measures=[];const o=e.fields||[null],s=e.ops||["count"],a=e.as||[],l=o.length,c={};let u,f,d,h,p,g;for(l!==s.length&&De("Unmatched number of fields and aggregate ops."),g=0;g<l;++g){if(u=o[g],f=s[g],u==null&&f!=="count"&&De("Null aggregate field specified."),h=Vi(u),p=Z9e(f,h,a[g]),n.push(p),f==="count"){this._counts.push(p);continue}d=c[h],d||(i(u),d=c[h]=[],d.field=u,this._measures.push(d)),f!=="count"&&(this._countOnly=!1),d.push(G9e(f,p))}return this._measures=this._measures.map(y=>J9e(y,y.field)),Object.create(null)},cellkey:qH(),cell(e,t){let n=this.value[e];return n?n.num===0&&this._drop&&n.stamp<this.stamp?(n.stamp=this.stamp,this._adds[this._alen++]=n):n.stamp<this.stamp&&(n.stamp=this.stamp,this._mods[this._mlen++]=n):(n=this.value[e]=this.newcell(e,t),this._adds[this._alen++]=n),n},newcell(e,t){const n={key:e,num:0,agg:null,tuple:this.newtuple(t,this._prev&&this._prev[e]),stamp:this.stamp,store:!1};if(!this._countOnly){const r=this._measures,i=r.length;n.agg=Array(i);for(let o=0;o<i;++o)n.agg[o]=new r[o](n)}return n.store&&(n.data=new $se),n},newtuple(e,t){const n=this._dnames,r=this._dims,i=r.length,o={};for(let s=0;s<i;++s)o[n[s]]=r[s](e);return t?R9e(t.tuple,o):sr(o)},clean(){const e=this.value;for(const t in e)e[t].num===0&&delete e[t]},add(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num+=1,this._countOnly)return;n.store&&n.data.add(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].add(r[i].get(e),e)},rem(e){const t=this.cellkey(e),n=this.cell(t,e);if(n.num-=1,this._countOnly)return;n.store&&n.data.rem(e);const r=n.agg;for(let i=0,o=r.length;i<o;++i)r[i].rem(r[i].get(e),e)},celltuple(e){const t=e.tuple,n=this._counts;e.store&&e.data.values();for(let r=0,i=n.length;r<i;++r)t[n[r]]=e.num;if(!this._countOnly){const r=e.agg;for(let i=0,o=r.length;i<o;++i)r[i].set(t)}return t},changes(e){const t=this._adds,n=this._mods,r=this._prev,i=this._drop,o=e.add,s=e.rem,a=e.mod;let l,c,u,f;if(r)for(c in r)l=r[c],(!i||l.num)&&s.push(l.tuple);for(u=0,f=this._alen;u<f;++u)o.push(this.celltuple(t[u])),t[u]=null;for(u=0,f=this._mlen;u<f;++u)l=n[u],(l.num===0&&i?s:a).push(this.celltuple(l)),n[u]=null;return this._alen=this._mlen=0,this._prev=null,e}});const YHt=1e-14;function Ese(e){Pe.call(this,null,e)}Ese.Definition={type:"Bin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"anchor",type:"number"},{name:"maxbins",type:"number",default:20},{name:"base",type:"number",default:10},{name:"divide",type:"number",array:!0,default:[5,2]},{name:"extent",type:"number",array:!0,length:2,required:!0},{name:"span",type:"number"},{name:"step",type:"number"},{name:"steps",type:"number",array:!0},{name:"minstep",type:"number",default:0},{name:"nice",type:"boolean",default:!0},{name:"name",type:"string"},{name:"as",type:"string",array:!0,length:2,default:["bin0","bin1"]}]};Ke(Ese,Pe,{transform(e,t){const n=e.interval!==!1,r=this._bins(e),i=r.start,o=r.step,s=e.as||["bin0","bin1"],a=s[0],l=s[1];let c;return e.modified()?(t=t.reflow(!0),c=t.SOURCE):c=t.modified(ya(e.field))?t.ADD_MOD:t.ADD,t.visit(c,n?u=>{const f=r(u);u[a]=f,u[l]=f==null?null:i+o*(1+(f-i)/o)}:u=>u[a]=r(u)),t.modifies(n?s:a)},_bins(e){if(this.value&&!e.modified())return this.value;const t=e.field,n=j9e(e),r=n.step;let i=n.start,o=i+Math.ceil((n.stop-i)/r)*r,s,a;(s=e.anchor)!=null&&(a=s-(i+r*Math.floor((s-i)/r)),i+=a,o+=a);const l=function(c){let u=pa(t(c));return u==null?null:u<i?-1/0:u>o?1/0:(u=Math.max(i,Math.min(u,o-r)),i+r*Math.floor(YHt+(u-i)/r))};return l.start=i,l.stop=n.stop,l.step=r,this.value=ec(l,ya(t),e.name||"bin_"+Vi(t))}});function eQe(e,t,n){const r=e;let i=t||[],o=n||[],s={},a=0;return{add:l=>o.push(l),remove:l=>s[r(l)]=++a,size:()=>i.length,data:(l,c)=>(a&&(i=i.filter(u=>!s[r(u)]),s={},a=0),c&&l&&i.sort(l),o.length&&(i=l?f4e(l,i,o.sort(l)):i.concat(o),o=[]),i)}}function kse(e){Pe.call(this,[],e)}kse.Definition={type:"Collect",metadata:{source:!0},params:[{name:"sort",type:"compare"}]};Ke(kse,Pe,{transform(e,t){const n=t.fork(t.ALL),r=eQe(Tt,this.value,n.materialize(n.ADD).add),i=e.sort,o=t.changed()||i&&(e.modified("sort")||t.modified(i.fields));return n.visit(n.REM,r.remove),this.modified(o),this.value=n.source=r.data(iO(i),o),t.source&&t.source.root&&(this.value.root=t.source.root),n}});function tQe(e){Nr.call(this,null,XHt,e)}Ke(tQe,Nr);function XHt(e){return this.value&&!e.modified()?this.value:wie(e.fields,e.orders)}function Tse(e){Pe.call(this,null,e)}Tse.Definition={type:"CountPattern",metadata:{generates:!0,changes:!0},params:[{name:"field",type:"field",required:!0},{name:"case",type:"enum",values:["upper","lower","mixed"],default:"mixed"},{name:"pattern",type:"string",default:'[\\w"]+'},{name:"stopwords",type:"string",default:""},{name:"as",type:"string",array:!0,length:2,default:["text","count"]}]};function HHt(e,t,n){switch(t){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break}return e.match(n)}Ke(Tse,Pe,{transform(e,t){const n=f=>d=>{for(var h=HHt(a(d),e.case,o)||[],p,g=0,y=h.length;g<y;++g)s.test(p=h[g])||f(p)},r=this._parameterCheck(e,t),i=this._counts,o=this._match,s=this._stop,a=e.field,l=e.as||["text","count"],c=n(f=>i[f]=1+(i[f]||0)),u=n(f=>i[f]-=1);return r?t.visit(t.SOURCE,c):(t.visit(t.ADD,c),t.visit(t.REM,u)),this._finish(t,l)},_parameterCheck(e,t){let n=!1;return(e.modified("stopwords")||!this._stop)&&(this._stop=new RegExp("^"+(e.stopwords||"")+"$","i"),n=!0),(e.modified("pattern")||!this._match)&&(this._match=new RegExp(e.pattern||"[\\w']+","g"),n=!0),(e.modified("field")||t.modified(e.field.fields))&&(n=!0),n&&(this._counts={}),n},_finish(e,t){const n=this._counts,r=this._tuples||(this._tuples={}),i=t[0],o=t[1],s=e.fork(e.NO_SOURCE|e.NO_FIELDS);let a,l,c;for(a in n)l=r[a],c=n[a]||0,!l&&c?(r[a]=l=sr({}),l[i]=a,l[o]=c,s.add.push(l)):c===0?(l&&s.rem.push(l),n[a]=null,r[a]=null):l[o]!==c&&(l[o]=c,s.mod.push(l));return s.modifies(t)}});function Pse(e){Pe.call(this,null,e)}Pse.Definition={type:"Cross",metadata:{generates:!0},params:[{name:"filter",type:"expr"},{name:"as",type:"string",array:!0,length:2,default:["a","b"]}]};Ke(Pse,Pe,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.as||["a","b"],i=r[0],o=r[1],s=!this.value||t.changed(t.ADD_REM)||e.modified("as")||e.modified("filter");let a=this.value;return s?(a&&(n.rem=a),a=t.materialize(t.SOURCE).source,n.add=this.value=ZHt(a,i,o,e.filter||Lu)):n.mod=a,n.source=this.value,n.modifies(r)}});function ZHt(e,t,n,r){for(var i=[],o={},s=e.length,a=0,l,c;a<s;++a)for(o[t]=c=e[a],l=0;l<s;++l)o[n]=e[l],r(o)&&(i.push(sr(o)),o={},o[t]=c);return i}const Vbe={kde:pse,mixture:W9e,normal:hse,lognormal:B9e,uniform:V9e},GHt="distributions",Ube="function",KHt="field";function nQe(e,t){const n=e[Ube];Rt(Vbe,n)||De("Unknown distribution function: "+n);const r=Vbe[n]();for(const i in e)i===KHt?r.data((e.from||t()).map(e[i])):i===GHt?r[i](e[i].map(o=>nQe(o,t))):typeof r[i]===Ube&&r[i](e[i]);return r}function Rse(e){Pe.call(this,null,e)}const rQe=[{key:{function:"normal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"lognormal"},params:[{name:"mean",type:"number",default:0},{name:"stdev",type:"number",default:1}]},{key:{function:"uniform"},params:[{name:"min",type:"number",default:0},{name:"max",type:"number",default:1}]},{key:{function:"kde"},params:[{name:"field",type:"field",required:!0},{name:"from",type:"data"},{name:"bandwidth",type:"number",default:0}]}],JHt={key:{function:"mixture"},params:[{name:"distributions",type:"param",array:!0,params:rQe},{name:"weights",type:"number",array:!0}]};Rse.Definition={type:"Density",metadata:{generates:!0},params:[{name:"extent",type:"number",array:!0,length:2},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"method",type:"string",default:"pdf",values:["pdf","cdf"]},{name:"distribution",type:"param",params:rQe.concat(JHt)},{name:"as",type:"string",array:!0,default:["value","density"]}]};Ke(Rse,Pe,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=nQe(e.distribution,eZt(t)),i=e.steps||e.minsteps||25,o=e.steps||e.maxsteps||200;let s=e.method||"pdf";s!=="pdf"&&s!=="cdf"&&De("Invalid density method: "+s),!e.extent&&!r.data&&De("Missing density extent parameter."),s=r[s];const a=e.as||["value","density"],l=e.extent||_h(r.data()),c=t8(s,l,i,o).map(u=>{const f={};return f[a[0]]=u[0],f[a[1]]=u[1],sr(f)});this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n}});function eZt(e){return()=>e.materialize(e.SOURCE).source}function iQe(e,t){return e?e.map((n,r)=>t[r]||Vi(n)):null}function Ase(e,t,n){const r=[],i=f=>f(l);let o,s,a,l,c,u;if(t==null)r.push(e.map(n));else for(o={},s=0,a=e.length;s<a;++s)l=e[s],c=t.map(i),u=o[c],u||(o[c]=u=[],u.dims=c,r.push(u)),u.push(n(l));return r}const oQe="bin";function Dse(e){Pe.call(this,null,e)}Dse.Definition={type:"DotBin",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"step",type:"number"},{name:"smooth",type:"boolean",default:!1},{name:"as",type:"string",default:oQe}]};const tZt=(e,t)=>mR(_h(e,t))/30;Ke(Dse,Pe,{transform(e,t){if(this.value&&!(e.modified()||t.changed()))return t;const n=t.materialize(t.SOURCE).source,r=Ase(t.source,e.groupby,$a),i=e.smooth||!1,o=e.field,s=e.step||tZt(n,o),a=iO((p,g)=>o(p)-o(g)),l=e.as||oQe,c=r.length;let u=1/0,f=-1/0,d=0,h;for(;d<c;++d){const p=r[d].sort(a);h=-1;for(const g of z9e(p,s,i,o))g<u&&(u=g),g>f&&(f=g),p[++h][l]=g}return this.value={start:u,stop:f,step:s},t.reflow(!0).modifies(l)}});function sQe(e){Nr.call(this,null,nZt,e),this.modified(!0)}Ke(sQe,Nr);function nZt(e){const t=e.expr;return this.value&&!e.modified("expr")?this.value:ec(n=>t(n,e),ya(t),Vi(t))}function Nse(e){Pe.call(this,[void 0,void 0],e)}Nse.Definition={type:"Extent",metadata:{},params:[{name:"field",type:"field",required:!0}]};Ke(Nse,Pe,{transform(e,t){const n=this.value,r=e.field,i=t.changed()||t.modified(r.fields)||e.modified("field");let o=n[0],s=n[1];if((i||o==null)&&(o=1/0,s=-1/0),t.visit(i?t.SOURCE:t.ADD,a=>{const l=pa(r(a));l!=null&&(l<o&&(o=l),l>s&&(s=l))}),!Number.isFinite(o)||!Number.isFinite(s)){let a=Vi(r);a&&(a=` for field "${a}"`),t.dataflow.warn(`Infinite extent${a}: [${o}, ${s}]`),o=s=void 0}this.value=[o,s]}});function Mse(e,t){Nr.call(this,e),this.parent=t,this.count=0}Ke(Mse,Nr,{connect(e){return this.detachSubflow=e.detachSubflow,this.targets().add(e),e.source=this},add(e){this.count+=1,this.value.add.push(e)},rem(e){this.count-=1,this.value.rem.push(e)},mod(e){this.value.mod.push(e)},init(e){this.value.init(e,e.NO_SOURCE)},evaluate(){return this.value}});function n8(e){Pe.call(this,{},e),this._keys=sC();const t=this._targets=[];t.active=0,t.forEach=n=>{for(let r=0,i=t.active;r<i;++r)n(t[r],r,t)}}Ke(n8,Pe,{activate(e){this._targets[this._targets.active++]=e},subflow(e,t,n,r){const i=this.value;let o=Rt(i,e)&&i[e],s,a;return o?o.value.stamp<n.stamp&&(o.init(n),this.activate(o)):(a=r||(a=this._group[e])&&a.tuple,s=n.dataflow,o=new Mse(n.fork(n.NO_SOURCE),this),s.add(o).connect(t(s,e,a)),i[e]=o,this.activate(o)),o},clean(){const e=this.value;let t=0;for(const n in e)if(e[n].count===0){const r=e[n].detachSubflow;r&&r(),delete e[n],++t}if(t){const n=this._targets.filter(r=>r&&r.count>0);this.initTargets(n)}},initTargets(e){const t=this._targets,n=t.length,r=e?e.length:0;let i=0;for(;i<r;++i)t[i]=e[i];for(;i<n&&t[i]!=null;++i)t[i]=null;t.active=r},transform(e,t){const n=t.dataflow,r=e.key,i=e.subflow,o=this._keys,s=e.modified("key"),a=l=>this.subflow(l,i,t);return this._group=e.group||{},this.initTargets(),t.visit(t.REM,l=>{const c=Tt(l),u=o.get(c);u!==void 0&&(o.delete(c),a(u).rem(l))}),t.visit(t.ADD,l=>{const c=r(l);o.set(Tt(l),c),a(c).add(l)}),s||t.modified(r.fields)?t.visit(t.MOD,l=>{const c=Tt(l),u=o.get(c),f=r(l);u===f?a(f).mod(l):(o.set(c,f),a(u).rem(l),a(f).add(l))}):t.changed(t.MOD)&&t.visit(t.MOD,l=>{a(o.get(Tt(l))).mod(l)}),s&&t.visit(t.REFLOW,l=>{const c=Tt(l),u=o.get(c),f=r(l);u!==f&&(o.set(c,f),a(u).rem(l),a(f).add(l))}),t.clean()?n.runAfter(()=>{this.clean(),o.clean()}):o.empty>n.cleanThreshold&&n.runAfter(o.clean),t}});function aQe(e){Nr.call(this,null,rZt,e)}Ke(aQe,Nr);function rZt(e){return this.value&&!e.modified()?this.value:Me(e.name)?lt(e.name).map(t=>Ql(t)):Ql(e.name,e.as)}function Ise(e){Pe.call(this,sC(),e)}Ise.Definition={type:"Filter",metadata:{changes:!0},params:[{name:"expr",type:"expr",required:!0}]};Ke(Ise,Pe,{transform(e,t){const n=t.dataflow,r=this.value,i=t.fork(),o=i.add,s=i.rem,a=i.mod,l=e.expr;let c=!0;t.visit(t.REM,f=>{const d=Tt(f);r.has(d)?r.delete(d):s.push(f)}),t.visit(t.ADD,f=>{l(f,e)?o.push(f):r.set(Tt(f),1)});function u(f){const d=Tt(f),h=l(f,e),p=r.get(d);h&&p?(r.delete(d),o.push(f)):!h&&!p?(r.set(d,1),s.push(f)):c&&h&&!p&&a.push(f)}return t.visit(t.MOD,u),e.modified()&&(c=!1,t.visit(t.REFLOW,u)),r.empty>n.cleanThreshold&&n.runAfter(r.clean),i}});function Lse(e){Pe.call(this,[],e)}Lse.Definition={type:"Flatten",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"index",type:"string"},{name:"as",type:"string",array:!0}]};Ke(Lse,Pe,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=iQe(r,e.as||[]),o=e.index||null,s=i.length;return n.rem=this.value,t.visit(t.SOURCE,a=>{const l=r.map(p=>p(a)),c=l.reduce((p,g)=>Math.max(p,g.length),0);let u=0,f,d,h;for(;u<c;++u){for(d=sse(a),f=0;f<s;++f)d[i[f]]=(h=l[f][u])==null?null:h;o&&(d[o]=u),n.add.push(d)}}),this.value=n.source=n.add,o&&n.modifies(o),n.modifies(i)}});function jse(e){Pe.call(this,[],e)}jse.Definition={type:"Fold",metadata:{generates:!0},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0,length:2,default:["key","value"]}]};Ke(jse,Pe,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=r.map(Vi),o=e.as||["key","value"],s=o[0],a=o[1],l=r.length;return n.rem=this.value,t.visit(t.SOURCE,c=>{for(let u=0,f;u<l;++u)f=sse(c),f[s]=i[u],f[a]=r[u](c),n.add.push(f)}),this.value=n.source=n.add,n.modifies(o)}});function Fse(e){Pe.call(this,null,e)}Fse.Definition={type:"Formula",metadata:{modifies:!0},params:[{name:"expr",type:"expr",required:!0},{name:"as",type:"string",required:!0},{name:"initonly",type:"boolean"}]};Ke(Fse,Pe,{transform(e,t){const n=e.expr,r=e.as,i=e.modified(),o=e.initonly?t.ADD:i?t.SOURCE:t.modified(n.fields)||t.modified(r)?t.ADD_MOD:t.ADD;return i&&(t=t.materialize().reflow(!0)),e.initonly||t.modifies(r),t.visit(o,s=>s[r]=n(s,e))}});function lQe(e){Pe.call(this,[],e)}Ke(lQe,Pe,{transform(e,t){const n=t.fork(t.ALL),r=e.generator;let i=this.value,o=e.size-i.length,s,a,l;if(o>0){for(s=[];--o>=0;)s.push(l=sr(r(e))),i.push(l);n.add=n.add.length?n.materialize(n.ADD).add.concat(s):s}else a=i.slice(0,-o),n.rem=n.rem.length?n.materialize(n.REM).rem.concat(a):a,i=i.slice(-o);return n.source=this.value=i,n}});const dN={value:"value",median:_4e,mean:QFt,min:sH,max:m1},iZt=[];function zse(e){Pe.call(this,[],e)}zse.Definition={type:"Impute",metadata:{changes:!0},params:[{name:"field",type:"field",required:!0},{name:"key",type:"field",required:!0},{name:"keyvals",array:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"enum",default:"value",values:["value","mean","median","max","min"]},{name:"value",default:0}]};function oZt(e){var t=e.method||dN.value,n;if(dN[t]==null)De("Unrecognized imputation method: "+t);else return t===dN.value?(n=e.value!==void 0?e.value:0,()=>n):dN[t]}function sZt(e){const t=e.field;return n=>n?t(n):NaN}Ke(zse,Pe,{transform(e,t){var n=t.fork(t.ALL),r=oZt(e),i=sZt(e),o=Vi(e.field),s=Vi(e.key),a=(e.groupby||[]).map(Vi),l=aZt(t.source,e.groupby,e.key,e.keyvals),c=[],u=this.value,f=l.domain.length,d,h,p,g,y,v,x,m,w,S;for(y=0,m=l.length;y<m;++y)for(d=l[y],p=d.values,h=NaN,x=0;x<f;++x)if(d[x]==null){for(g=l.domain[x],S={_impute:!0},v=0,w=p.length;v<w;++v)S[a[v]]=p[v];S[s]=g,S[o]=Number.isNaN(h)?h=r(d,i):h,c.push(sr(S))}return c.length&&(n.add=n.materialize(n.ADD).add.concat(c)),u.length&&(n.rem=n.materialize(n.REM).rem.concat(u)),this.value=c,n}});function aZt(e,t,n,r){var i=v=>v(y),o=[],s=r?r.slice():[],a={},l={},c,u,f,d,h,p,g,y;for(s.forEach((v,x)=>a[v]=x+1),d=0,g=e.length;d<g;++d)y=e[d],p=n(y),h=a[p]||(a[p]=s.push(p)),u=(c=t?t.map(i):iZt)+"",(f=l[u])||(f=l[u]=[],o.push(f),f.values=c),f[h-1]=y;return o.domain=s,o}function Qse(e){r0.call(this,e)}Qse.Definition={type:"JoinAggregate",metadata:{modifies:!0},params:[{name:"groupby",type:"field",array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"ops",type:"enum",array:!0,values:NR},{name:"as",type:"string",null:!0,array:!0},{name:"key",type:"field"}]};Ke(Qse,r0,{transform(e,t){const n=this,r=e.modified();let i;return n.value&&(r||t.modified(n._inputs,!0))?(i=n.value=r?n.init(e):{},t.visit(t.SOURCE,o=>n.add(o))):(i=n.value=n.value||this.init(e),t.visit(t.REM,o=>n.rem(o)),t.visit(t.ADD,o=>n.add(o))),n.changes(),t.visit(t.SOURCE,o=>{ln(o,i[n.cellkey(o)].tuple)}),t.reflow(r).modifies(this._outputs)},changes(){const e=this._adds,t=this._mods;let n,r;for(n=0,r=this._alen;n<r;++n)this.celltuple(e[n]),e[n]=null;for(n=0,r=this._mlen;n<r;++n)this.celltuple(t[n]),t[n]=null;this._alen=this._mlen=0}});function Bse(e){Pe.call(this,null,e)}Bse.Definition={type:"KDE",metadata:{generates:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"cumulative",type:"boolean",default:!1},{name:"counts",type:"boolean",default:!1},{name:"bandwidth",type:"number",default:0},{name:"extent",type:"number",array:!0,length:2},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"steps",type:"number"},{name:"minsteps",type:"number",default:25},{name:"maxsteps",type:"number",default:200},{name:"as",type:"string",array:!0,default:["value","density"]}]};Ke(Bse,Pe,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=Ase(r,e.groupby,e.field),o=(e.groupby||[]).map(Vi),s=e.bandwidth,a=e.cumulative?"cdf":"pdf",l=e.as||["value","density"],c=[];let u=e.extent,f=e.steps||e.minsteps||25,d=e.steps||e.maxsteps||200;a!=="pdf"&&a!=="cdf"&&De("Invalid density method: "+a),e.resolve==="shared"&&(u||(u=_h(r,e.field)),f=d=e.steps||d),i.forEach(h=>{const p=pse(h,s)[a],g=e.counts?h.length:1,y=u||_h(h);t8(p,y,f,d).forEach(v=>{const x={};for(let m=0;m<o.length;++m)x[o[m]]=h.dims[m];x[l[0]]=v[0],x[l[1]]=v[1]*g,c.push(sr(x))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=c}return n}});function cQe(e){Nr.call(this,null,lZt,e)}Ke(cQe,Nr);function lZt(e){return this.value&&!e.modified()?this.value:_ie(e.fields,e.flat)}function uQe(e){Pe.call(this,[],e),this._pending=null}Ke(uQe,Pe,{transform(e,t){const n=t.dataflow;return this._pending?kW(this,t,this._pending):cZt(e)?t.StopPropagation:e.values?kW(this,t,n.parse(e.values,e.format)):e.async?{async:n.request(e.url,e.format).then(i=>(this._pending=lt(i.data),o=>o.touch(this)))}:n.request(e.url,e.format).then(r=>kW(this,t,lt(r.data)))}});function cZt(e){return e.modified("async")&&!(e.modified("values")||e.modified("url")||e.modified("format"))}function kW(e,t,n){n.forEach(sr);const r=t.fork(t.NO_FIELDS&t.NO_SOURCE);return r.rem=e.value,e.value=r.source=r.add=n,e._pending=null,r.rem.length&&r.clean(!0),r}function Wse(e){Pe.call(this,{},e)}Wse.Definition={type:"Lookup",metadata:{modifies:!0},params:[{name:"index",type:"index",params:[{name:"from",type:"data",required:!0},{name:"key",type:"field",required:!0}]},{name:"values",type:"field",array:!0},{name:"fields",type:"field",array:!0,required:!0},{name:"as",type:"string",array:!0},{name:"default",default:null}]};Ke(Wse,Pe,{transform(e,t){const n=e.fields,r=e.index,i=e.values,o=e.default==null?null:e.default,s=e.modified(),a=n.length;let l=s?t.SOURCE:t.ADD,c=t,u=e.as,f,d,h;return i?(d=i.length,a>1&&!u&&De('Multi-field lookup requires explicit "as" parameter.'),u&&u.length!==a*d&&De('The "as" parameter has too few output field names.'),u=u||i.map(Vi),f=function(p){for(var g=0,y=0,v,x;g<a;++g)if(x=r.get(n[g](p)),x==null)for(v=0;v<d;++v,++y)p[u[y]]=o;else for(v=0;v<d;++v,++y)p[u[y]]=i[v](x)}):(u||De("Missing output field names."),f=function(p){for(var g=0,y;g<a;++g)y=r.get(n[g](p)),p[u[g]]=y??o}),s?c=t.reflow(!0):(h=n.some(p=>t.modified(p.fields)),l|=h?t.MOD:0),t.visit(l,f),c.modifies(u)}});function fQe(e){Nr.call(this,null,uZt,e)}Ke(fQe,Nr);function uZt(e){if(this.value&&!e.modified())return this.value;const t=e.extents,n=t.length;let r=1/0,i=-1/0,o,s;for(o=0;o<n;++o)s=t[o],s[0]<r&&(r=s[0]),s[1]>i&&(i=s[1]);return[r,i]}function dQe(e){Nr.call(this,null,fZt,e)}Ke(dQe,Nr);function fZt(e){return this.value&&!e.modified()?this.value:e.values.reduce((t,n)=>t.concat(n),[])}function hQe(e){Pe.call(this,null,e)}Ke(hQe,Pe,{transform(e,t){return this.modified(e.modified()),this.value=e,t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function Vse(e){r0.call(this,e)}Vse.Definition={type:"Pivot",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"value",type:"field",required:!0},{name:"op",type:"enum",values:NR,default:"sum"},{name:"limit",type:"number",default:0},{name:"key",type:"field"}]};Ke(Vse,r0,{_transform:r0.prototype.transform,transform(e,t){return this._transform(dZt(e,t),t)}});function dZt(e,t){const n=e.field,r=e.value,i=(e.op==="count"?"__count__":e.op)||"sum",o=ya(n).concat(ya(r)),s=pZt(n,e.limit||0,t);return t.changed()&&e.set("__pivot__",null,null,!0),{key:e.key,groupby:e.groupby,ops:s.map(()=>i),fields:s.map(a=>hZt(a,n,r,o)),as:s.map(a=>a+""),modified:e.modified.bind(e)}}function hZt(e,t,n,r){return ec(i=>t(i)===e?n(i):NaN,r,e+"")}function pZt(e,t,n){const r={},i=[];return n.visit(n.SOURCE,o=>{const s=e(o);r[s]||(r[s]=1,i.push(s))}),i.sort(r7),t?i.slice(0,t):i}function pQe(e){n8.call(this,e)}Ke(pQe,n8,{transform(e,t){const n=e.subflow,r=e.field,i=o=>this.subflow(Tt(o),n,t,o);return(e.modified("field")||r&&t.modified(ya(r)))&&De("PreFacet does not support field modification."),this.initTargets(),r?(t.visit(t.MOD,o=>{const s=i(o);r(o).forEach(a=>s.mod(a))}),t.visit(t.ADD,o=>{const s=i(o);r(o).forEach(a=>s.add(sr(a)))}),t.visit(t.REM,o=>{const s=i(o);r(o).forEach(a=>s.rem(a))})):(t.visit(t.MOD,o=>i(o).mod(o)),t.visit(t.ADD,o=>i(o).add(o)),t.visit(t.REM,o=>i(o).rem(o))),t.clean()&&t.runAfter(()=>this.clean()),t}});function Use(e){Pe.call(this,null,e)}Use.Definition={type:"Project",metadata:{generates:!0,changes:!0},params:[{name:"fields",type:"field",array:!0},{name:"as",type:"string",null:!0,array:!0}]};Ke(Use,Pe,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.fields,i=iQe(e.fields,e.as||[]),o=r?(a,l)=>gZt(a,l,r,i):X7;let s;return this.value?s=this.value:(t=t.addAll(),s=this.value={}),t.visit(t.REM,a=>{const l=Tt(a);n.rem.push(s[l]),s[l]=null}),t.visit(t.ADD,a=>{const l=o(a,sr({}));s[Tt(a)]=l,n.add.push(l)}),t.visit(t.MOD,a=>{n.mod.push(o(a,s[Tt(a)]))}),n}});function gZt(e,t,n,r){for(let i=0,o=n.length;i<o;++i)t[r[i]]=n[i](e);return t}function gQe(e){Pe.call(this,null,e)}Ke(gQe,Pe,{transform(e,t){return this.value=e.value,e.modified("value")?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function qse(e){Pe.call(this,null,e)}qse.Definition={type:"Quantile",metadata:{generates:!0,changes:!0},params:[{name:"groupby",type:"field",array:!0},{name:"field",type:"field",required:!0},{name:"probs",type:"number",array:!0},{name:"step",type:"number",default:.01},{name:"as",type:"string",array:!0,default:["prob","value"]}]};const mZt=1e-14;Ke(qse,Pe,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=e.as||["prob","value"];if(this.value&&!e.modified()&&!t.changed())return n.source=this.value,n;const i=t.materialize(t.SOURCE).source,o=Ase(i,e.groupby,e.field),s=(e.groupby||[]).map(Vi),a=[],l=e.step||.01,c=e.probs||Cc(l/2,1-mZt,l),u=c.length;return o.forEach(f=>{const d=cse(f,c);for(let h=0;h<u;++h){const p={};for(let g=0;g<s.length;++g)p[s[g]]=f.dims[g];p[r[0]]=c[h],p[r[1]]=d[h],a.push(sr(p))}}),this.value&&(n.rem=this.value),this.value=n.add=n.source=a,n}});function mQe(e){Pe.call(this,null,e)}Ke(mQe,Pe,{transform(e,t){let n,r;return this.value?r=this.value:(n=t=t.addAll(),r=this.value={}),e.derive&&(n=t.fork(t.NO_SOURCE),t.visit(t.REM,i=>{const o=Tt(i);n.rem.push(r[o]),r[o]=null}),t.visit(t.ADD,i=>{const o=sse(i);r[Tt(i)]=o,n.add.push(o)}),t.visit(t.MOD,i=>{const o=r[Tt(i)];for(const s in i)o[s]=i[s],n.modifies(s);n.mod.push(o)})),n}});function Yse(e){Pe.call(this,[],e),this.count=0}Yse.Definition={type:"Sample",metadata:{},params:[{name:"size",type:"number",default:1e3}]};Ke(Yse,Pe,{transform(e,t){const n=t.fork(t.NO_SOURCE),r=e.modified("size"),i=e.size,o=this.value.reduce((u,f)=>(u[Tt(f)]=1,u),{});let s=this.value,a=this.count,l=0;function c(u){let f,d;s.length<i?s.push(u):(d=~~((a+1)*Qu()),d<s.length&&d>=l&&(f=s[d],o[Tt(f)]&&n.rem.push(f),s[d]=u)),++a}if(t.rem.length&&(t.visit(t.REM,u=>{const f=Tt(u);o[f]&&(o[f]=-1,n.rem.push(u)),--a}),s=s.filter(u=>o[Tt(u)]!==-1)),(t.rem.length||r)&&s.length<i&&t.source&&(l=a=s.length,t.visit(t.SOURCE,u=>{o[Tt(u)]||c(u)}),l=-1),r&&s.length>i){const u=s.length-i;for(let f=0;f<u;++f)o[Tt(s[f])]=-1,n.rem.push(s[f]);s=s.slice(u)}return t.mod.length&&t.visit(t.MOD,u=>{o[Tt(u)]&&n.mod.push(u)}),t.add.length&&t.visit(t.ADD,c),(t.add.length||l<0)&&(n.add=s.filter(u=>!o[Tt(u)])),this.count=a,this.value=n.source=s,n}});function Xse(e){Pe.call(this,null,e)}Xse.Definition={type:"Sequence",metadata:{generates:!0,changes:!0},params:[{name:"start",type:"number",required:!0},{name:"stop",type:"number",required:!0},{name:"step",type:"number",default:1},{name:"as",type:"string",default:"data"}]};Ke(Xse,Pe,{transform(e,t){if(this.value&&!e.modified())return;const n=t.materialize().fork(t.MOD),r=e.as||"data";return n.rem=this.value?t.rem.concat(this.value):t.rem,this.value=Cc(e.start,e.stop,e.step||1).map(i=>{const o={};return o[r]=i,sr(o)}),n.add=t.add.concat(this.value),n}});function yQe(e){Pe.call(this,null,e),this.modified(!0)}Ke(yQe,Pe,{transform(e,t){return this.value=t.source,t.changed()?t.fork(t.NO_SOURCE|t.NO_FIELDS):t.StopPropagation}});function Hse(e){Pe.call(this,null,e)}const vQe=["unit0","unit1"];Hse.Definition={type:"TimeUnit",metadata:{modifies:!0},params:[{name:"field",type:"field",required:!0},{name:"interval",type:"boolean",default:!0},{name:"units",type:"enum",values:Rie,array:!0},{name:"step",type:"number",default:1},{name:"maxbins",type:"number",default:40},{name:"extent",type:"date",array:!0},{name:"timezone",type:"enum",default:"local",values:["local","utc"]},{name:"as",type:"string",array:!0,length:2,default:vQe}]};Ke(Hse,Pe,{transform(e,t){const n=e.field,r=e.interval!==!1,i=e.timezone==="utc",o=this._floor(e,t),s=(i?uC:cC)(o.unit).offset,a=e.as||vQe,l=a[0],c=a[1],u=o.step;let f=o.start||1/0,d=o.stop||-1/0,h=t.ADD;return(e.modified()||t.changed(t.REM)||t.modified(ya(n)))&&(t=t.reflow(!0),h=t.SOURCE,f=1/0,d=-1/0),t.visit(h,p=>{const g=n(p);let y,v;g==null?(p[l]=null,r&&(p[c]=null)):(p[l]=y=v=o(g),r&&(p[c]=v=s(y,u)),y<f&&(f=y),v>d&&(d=v))}),o.start=f,o.stop=d,t.modifies(r?a:l)},_floor(e,t){const n=e.timezone==="utc",{units:r,step:i}=e.units?{units:e.units,step:e.step||1}:K4e({extent:e.extent||_h(t.materialize(t.SOURCE).source,e.field),maxbins:e.maxbins}),o=Aie(r),s=this.value||{},a=(n?W4e:B4e)(o,i);return a.unit=In(o),a.units=o,a.step=i,a.start=s.start,a.stop=s.stop,this.value=a}});function bQe(e){Pe.call(this,sC(),e)}Ke(bQe,Pe,{transform(e,t){const n=t.dataflow,r=e.field,i=this.value,o=a=>i.set(r(a),a);let s=!0;return e.modified("field")||t.modified(r.fields)?(i.clear(),t.visit(t.SOURCE,o)):t.changed()?(t.visit(t.REM,a=>i.delete(r(a))),t.visit(t.ADD,o)):s=!1,this.modified(s),i.empty>n.cleanThreshold&&n.runAfter(i.clean),t.fork()}});function OQe(e){Pe.call(this,null,e)}Ke(OQe,Pe,{transform(e,t){(!this.value||e.modified("field")||e.modified("sort")||t.changed()||e.sort&&t.modified(e.sort.fields))&&(this.value=(e.sort?t.source.slice().sort(iO(e.sort)):t.source).map(e.field))}});function yZt(e,t,n,r){const i=I2[e](t,n);return{init:i.init||Am,update:function(o,s){s[r]=i.next(o)}}}const I2={row_number:function(){return{next:e=>e.index+1}},rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?e=n+1:e}}},dense_rank:function(){let e;return{init:()=>e=1,next:t=>{const n=t.index,r=t.data;return n&&t.compare(r[n-1],r[n])?++e:e}}},percent_rank:function(){const e=I2.rank(),t=e.next;return{init:e.init,next:n=>(t(n)-1)/(n.data.length-1)}},cume_dist:function(){let e;return{init:()=>e=0,next:t=>{const n=t.data,r=t.compare;let i=t.index;if(e<i){for(;i+1<n.length&&!r(n[i],n[i+1]);)++i;e=i}return(1+e)/n.length}}},ntile:function(e,t){t=+t,t>0||De("ntile num must be greater than zero.");const n=I2.cume_dist(),r=n.next;return{init:n.init,next:i=>Math.ceil(t*r(i))}},lag:function(e,t){return t=+t||1,{next:n=>{const r=n.index-t;return r>=0?e(n.data[r]):null}}},lead:function(e,t){return t=+t||1,{next:n=>{const r=n.index+t,i=n.data;return r<i.length?e(i[r]):null}}},first_value:function(e){return{next:t=>e(t.data[t.i0])}},last_value:function(e){return{next:t=>e(t.data[t.i1-1])}},nth_value:function(e,t){return t=+t,t>0||De("nth_value nth must be greater than zero."),{next:n=>{const r=n.i0+(t-1);return r<n.i1?e(n.data[r]):null}}},prev_value:function(e){let t;return{init:()=>t=null,next:n=>{const r=e(n.data[n.index]);return r!=null?t=r:t}}},next_value:function(e){let t,n;return{init:()=>(t=null,n=-1),next:r=>{const i=r.data;return r.index<=n?t:(n=vZt(e,i,r.index))<0?(n=i.length,t=null):t=e(i[n])}}}};function vZt(e,t,n){for(let r=t.length;n<r;++n)if(e(t[n])!=null)return n;return-1}const bZt=Object.keys(I2);function xQe(e){const t=lt(e.ops),n=lt(e.fields),r=lt(e.params),i=lt(e.as),o=this.outputs=[],s=this.windows=[],a={},l={},c=[],u=[];let f=!0;function d(h){lt(ya(h)).forEach(p=>a[p]=1)}d(e.sort),t.forEach((h,p)=>{const g=n[p],y=Vi(g),v=Z9e(h,y,i[p]);if(d(g),o.push(v),Rt(I2,h))s.push(yZt(h,n[p],r[p],v));else{if(g==null&&h!=="count"&&De("Null aggregate field specified."),h==="count"){c.push(v);return}f=!1;let x=l[y];x||(x=l[y]=[],x.field=g,u.push(x)),x.push(G9e(h,v))}}),(c.length||u.length)&&(this.cell=OZt(u,c,f)),this.inputs=Object.keys(a)}const wQe=xQe.prototype;wQe.init=function(){this.windows.forEach(e=>e.init()),this.cell&&this.cell.init()};wQe.update=function(e,t){const n=this.cell,r=this.windows,i=e.data,o=r&&r.length;let s;if(n){for(s=e.p0;s<e.i0;++s)n.rem(i[s]);for(s=e.p1;s<e.i1;++s)n.add(i[s]);n.set(t)}for(s=0;s<o;++s)r[s].update(e,t)};function OZt(e,t,n){e=e.map(l=>J9e(l,l.field));const r={num:0,agg:null,store:!1,count:t};if(!n)for(var i=e.length,o=r.agg=Array(i),s=0;s<i;++s)o[s]=new e[s](r);if(r.store)var a=r.data=new $se;return r.add=function(l){if(r.num+=1,!n){a&&a.add(l);for(let c=0;c<i;++c)o[c].add(o[c].get(l),l)}},r.rem=function(l){if(r.num-=1,!n){a&&a.rem(l);for(let c=0;c<i;++c)o[c].rem(o[c].get(l),l)}},r.set=function(l){let c,u;for(a&&a.values(),c=0,u=t.length;c<u;++c)l[t[c]]=r.num;if(!n)for(c=0,u=o.length;c<u;++c)o[c].set(l)},r.init=function(){r.num=0,a&&a.reset();for(let l=0;l<i;++l)o[l].init()},r}function Zse(e){Pe.call(this,{},e),this._mlen=0,this._mods=[]}Zse.Definition={type:"Window",metadata:{modifies:!0},params:[{name:"sort",type:"compare"},{name:"groupby",type:"field",array:!0},{name:"ops",type:"enum",array:!0,values:bZt.concat(NR)},{name:"params",type:"number",null:!0,array:!0},{name:"fields",type:"field",null:!0,array:!0},{name:"as",type:"string",null:!0,array:!0},{name:"frame",type:"number",null:!0,array:!0,length:2,default:[null,0]},{name:"ignorePeers",type:"boolean",default:!1}]};Ke(Zse,Pe,{transform(e,t){this.stamp=t.stamp;const n=e.modified(),r=iO(e.sort),i=qH(e.groupby),o=a=>this.group(i(a));let s=this.state;(!s||n)&&(s=this.state=new xQe(e)),n||t.modified(s.inputs)?(this.value={},t.visit(t.SOURCE,a=>o(a).add(a))):(t.visit(t.REM,a=>o(a).remove(a)),t.visit(t.ADD,a=>o(a).add(a)));for(let a=0,l=this._mlen;a<l;++a)xZt(this._mods[a],s,r,e);return this._mlen=0,this._mods=[],t.reflow(n).modifies(s.outputs)},group(e){let t=this.value[e];return t||(t=this.value[e]=eQe(Tt),t.stamp=-1),t.stamp<this.stamp&&(t.stamp=this.stamp,this._mods[this._mlen++]=t),t}});function xZt(e,t,n,r){const i=r.sort,o=i&&!r.ignorePeers,s=r.frame||[null,0],a=e.data(n),l=a.length,c=o?yR(i):null,u={i0:0,i1:0,p0:0,p1:0,index:0,data:a,compare:i||Ea(-1)};t.init();for(let f=0;f<l;++f)wZt(u,s,f,l),o&&SZt(u,c),t.update(u,a[f])}function wZt(e,t,n,r){e.p0=e.i0,e.p1=e.i1,e.i0=t[0]==null?0:Math.max(0,n-Math.abs(t[0])),e.i1=t[1]==null?r:Math.min(r,n+Math.abs(t[1])+1),e.index=n}function SZt(e,t){const n=e.i0,r=e.i1-1,i=e.compare,o=e.data,s=o.length-1;n>0&&!i(o[n],o[n-1])&&(e.i0=t.left(o,o[n])),r<s&&!i(o[r],o[r+1])&&(e.i1=t.right(o,o[r]))}const _Zt=Object.freeze(Object.defineProperty({__proto__:null,aggregate:r0,bin:Ese,collect:kse,compare:tQe,countpattern:Tse,cross:Pse,density:Rse,dotbin:Dse,expression:sQe,extent:Nse,facet:n8,field:aQe,filter:Ise,flatten:Lse,fold:jse,formula:Fse,generate:lQe,impute:zse,joinaggregate:Qse,kde:Bse,key:cQe,load:uQe,lookup:Wse,multiextent:fQe,multivalues:dQe,params:hQe,pivot:Vse,prefacet:pQe,project:Use,proxy:gQe,quantile:qse,relay:mQe,sample:Yse,sequence:Xse,sieve:yQe,subflow:Mse,timeunit:Hse,tupleindex:bQe,values:OQe,window:Zse},Symbol.toStringTag,{value:"Module"}));function fr(e){return function(){return e}}const qbe=Math.abs,Ys=Math.atan2,tv=Math.cos,CZt=Math.max,TW=Math.min,kd=Math.sin,Jv=Math.sqrt,ea=1e-12,DS=Math.PI,CL=DS/2,SQe=2*DS;function $Zt(e){return e>1?0:e<-1?DS:Math.acos(e)}function Ybe(e){return e>=1?CL:e<=-1?-CL:Math.asin(e)}const YH=Math.PI,XH=2*YH,Cv=1e-6,EZt=XH-Cv;function _Qe(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function kZt(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return _Qe;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let Gse=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?_Qe:kZt(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,l=r-t,c=i-n,u=s-t,f=a-n,d=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>Cv)if(!(Math.abs(f*l-c*u)>Cv)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-s,p=i-a,g=l*l+c*c,y=h*h+p*p,v=Math.sqrt(g),x=Math.sqrt(d),m=o*Math.tan((YH-Math.acos((g+d-y)/(2*v*x)))/2),w=m/x,S=m/v;Math.abs(w-1)>Cv&&this._append`L${t+w*u},${n+w*f}`,this._append`A${o},${o},0,0,${+(f*h>u*p)},${this._x1=t+S*l},${this._y1=n+S*c}`}}arc(t,n,r,i,o,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),c=t+a,u=n+l,f=1^s,d=s?i-o:o-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Cv||Math.abs(this._y1-u)>Cv)&&this._append`L${c},${u}`,r&&(d<0&&(d=d%XH+XH),d>EZt?this._append`A${r},${r},0,1,${f},${t-a},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:d>Cv&&this._append`A${r},${r},0,${+(d>=YH)},${f},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function r8(){return new Gse}r8.prototype=Gse.prototype;function i8(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Gse(t)}function TZt(e){return e.innerRadius}function PZt(e){return e.outerRadius}function RZt(e){return e.startAngle}function AZt(e){return e.endAngle}function DZt(e){return e&&e.padAngle}function NZt(e,t,n,r,i,o,s,a){var l=n-e,c=r-t,u=s-i,f=a-o,d=f*l-u*c;if(!(d*d<ea))return d=(u*(t-o)-f*(e-i))/d,[e+d*l,t+d*c]}function hN(e,t,n,r,i,o,s){var a=e-n,l=t-r,c=(s?o:-o)/Jv(a*a+l*l),u=c*l,f=-c*a,d=e+u,h=t+f,p=n+u,g=r+f,y=(d+p)/2,v=(h+g)/2,x=p-d,m=g-h,w=x*x+m*m,S=i-o,C=d*g-p*h,$=(m<0?-1:1)*Jv(CZt(0,S*S*w-C*C)),E=(C*m-x*$)/w,R=(-C*x-m*$)/w,N=(C*m+x*$)/w,I=(-C*x+m*$)/w,j=E-y,A=R-v,T=N-y,D=I-v;return j*j+A*A>T*T+D*D&&(E=N,R=I),{cx:E,cy:R,x01:-u,y01:-f,x11:E*(i/S-1),y11:R*(i/S-1)}}function MZt(){var e=TZt,t=PZt,n=fr(0),r=null,i=RZt,o=AZt,s=DZt,a=null,l=i8(c);function c(){var u,f,d=+e.apply(this,arguments),h=+t.apply(this,arguments),p=i.apply(this,arguments)-CL,g=o.apply(this,arguments)-CL,y=qbe(g-p),v=g>p;if(a||(a=u=l()),h<d&&(f=h,h=d,d=f),!(h>ea))a.moveTo(0,0);else if(y>SQe-ea)a.moveTo(h*tv(p),h*kd(p)),a.arc(0,0,h,p,g,!v),d>ea&&(a.moveTo(d*tv(g),d*kd(g)),a.arc(0,0,d,g,p,v));else{var x=p,m=g,w=p,S=g,C=y,$=y,E=s.apply(this,arguments)/2,R=E>ea&&(r?+r.apply(this,arguments):Jv(d*d+h*h)),N=TW(qbe(h-d)/2,+n.apply(this,arguments)),I=N,j=N,A,T;if(R>ea){var D=Ybe(R/d*kd(E)),L=Ybe(R/h*kd(E));(C-=D*2)>ea?(D*=v?1:-1,w+=D,S-=D):(C=0,w=S=(p+g)/2),($-=L*2)>ea?(L*=v?1:-1,x+=L,m-=L):($=0,x=m=(p+g)/2)}var W=h*tv(x),V=h*kd(x),Q=d*tv(S),B=d*kd(S);if(N>ea){var Y=h*tv(m),U=h*kd(m),q=d*tv(w),Z=d*kd(w),oe;if(y<DS)if(oe=NZt(W,V,q,Z,Y,U,Q,B)){var ce=W-oe[0],re=V-oe[1],fe=Y-oe[0],ae=U-oe[1],ue=1/kd($Zt((ce*fe+re*ae)/(Jv(ce*ce+re*re)*Jv(fe*fe+ae*ae)))/2),me=Jv(oe[0]*oe[0]+oe[1]*oe[1]);I=TW(N,(d-me)/(ue-1)),j=TW(N,(h-me)/(ue+1))}else I=j=0}$>ea?j>ea?(A=hN(q,Z,W,V,h,j,v),T=hN(Y,U,Q,B,h,j,v),a.moveTo(A.cx+A.x01,A.cy+A.y01),j<N?a.arc(A.cx,A.cy,j,Ys(A.y01,A.x01),Ys(T.y01,T.x01),!v):(a.arc(A.cx,A.cy,j,Ys(A.y01,A.x01),Ys(A.y11,A.x11),!v),a.arc(0,0,h,Ys(A.cy+A.y11,A.cx+A.x11),Ys(T.cy+T.y11,T.cx+T.x11),!v),a.arc(T.cx,T.cy,j,Ys(T.y11,T.x11),Ys(T.y01,T.x01),!v))):(a.moveTo(W,V),a.arc(0,0,h,x,m,!v)):a.moveTo(W,V),!(d>ea)||!(C>ea)?a.lineTo(Q,B):I>ea?(A=hN(Q,B,Y,U,d,-I,v),T=hN(W,V,q,Z,d,-I,v),a.lineTo(A.cx+A.x01,A.cy+A.y01),I<N?a.arc(A.cx,A.cy,I,Ys(A.y01,A.x01),Ys(T.y01,T.x01),!v):(a.arc(A.cx,A.cy,I,Ys(A.y01,A.x01),Ys(A.y11,A.x11),!v),a.arc(0,0,d,Ys(A.cy+A.y11,A.cx+A.x11),Ys(T.cy+T.y11,T.cx+T.x11),v),a.arc(T.cx,T.cy,I,Ys(T.y11,T.x11),Ys(T.y01,T.x01),!v))):a.arc(0,0,d,S,w,v)}if(a.closePath(),u)return a=null,u+""||null}return c.centroid=function(){var u=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,f=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-DS/2;return[tv(f)*u,kd(f)*u]},c.innerRadius=function(u){return arguments.length?(e=typeof u=="function"?u:fr(+u),c):e},c.outerRadius=function(u){return arguments.length?(t=typeof u=="function"?u:fr(+u),c):t},c.cornerRadius=function(u){return arguments.length?(n=typeof u=="function"?u:fr(+u),c):n},c.padRadius=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:fr(+u),c):r},c.startAngle=function(u){return arguments.length?(i=typeof u=="function"?u:fr(+u),c):i},c.endAngle=function(u){return arguments.length?(o=typeof u=="function"?u:fr(+u),c):o},c.padAngle=function(u){return arguments.length?(s=typeof u=="function"?u:fr(+u),c):s},c.context=function(u){return arguments.length?(a=u??null,c):a},c}function CQe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function $Qe(e){this._context=e}$Qe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Kse(e){return new $Qe(e)}function EQe(e){return e[0]}function kQe(e){return e[1]}function TQe(e,t){var n=fr(!0),r=null,i=Kse,o=null,s=i8(a);e=typeof e=="function"?e:e===void 0?EQe:fr(e),t=typeof t=="function"?t:t===void 0?kQe:fr(t);function a(l){var c,u=(l=CQe(l)).length,f,d=!1,h;for(r==null&&(o=i(h=s())),c=0;c<=u;++c)!(c<u&&n(f=l[c],c,l))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(f,c,l),+t(f,c,l));if(h)return o=null,h+""||null}return a.x=function(l){return arguments.length?(e=typeof l=="function"?l:fr(+l),a):e},a.y=function(l){return arguments.length?(t=typeof l=="function"?l:fr(+l),a):t},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:fr(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),a):r},a}function PQe(e,t,n){var r=null,i=fr(!0),o=null,s=Kse,a=null,l=i8(c);e=typeof e=="function"?e:e===void 0?EQe:fr(+e),t=typeof t=="function"?t:fr(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?kQe:fr(+n);function c(f){var d,h,p,g=(f=CQe(f)).length,y,v=!1,x,m=new Array(g),w=new Array(g);for(o==null&&(a=s(x=l())),d=0;d<=g;++d){if(!(d<g&&i(y=f[d],d,f))===v)if(v=!v)h=d,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),p=d-1;p>=h;--p)a.point(m[p],w[p]);a.lineEnd(),a.areaEnd()}v&&(m[d]=+e(y,d,f),w[d]=+t(y,d,f),a.point(r?+r(y,d,f):m[d],n?+n(y,d,f):w[d]))}if(x)return a=null,x+""||null}function u(){return TQe().defined(i).curve(s).context(o)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:fr(+f),r=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:fr(+f),c):e},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:fr(+f),c):r},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:fr(+f),n=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:fr(+f),c):t},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:fr(+f),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:fr(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,o!=null&&(a=s(o)),c):s},c.context=function(f){return arguments.length?(f==null?o=a=null:a=s(o=f),c):o},c}const IZt={draw(e,t){const n=Jv(t/DS);e.moveTo(n,0),e.arc(0,0,n,0,SQe)}};function LZt(e,t){let n=null,r=i8(i);e=typeof e=="function"?e:fr(e||IZt),t=typeof t=="function"?t:fr(t===void 0?64:+t);function i(){let o;if(n||(n=o=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(e=typeof o=="function"?o:fr(o),i):e},i.size=function(o){return arguments.length?(t=typeof o=="function"?o:fr(+o),i):t},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function i0(){}function $L(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function o8(e){this._context=e}o8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$L(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$L(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jZt(e){return new o8(e)}function RQe(e){this._context=e}RQe.prototype={areaStart:i0,areaEnd:i0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:$L(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function FZt(e){return new RQe(e)}function AQe(e){this._context=e}AQe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:$L(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function zZt(e){return new AQe(e)}function DQe(e,t){this._basis=new o8(e),this._beta=t}DQe.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],o=e[n]-r,s=t[n]-i,a=-1,l;++a<=n;)l=a/n,this._basis.point(this._beta*e[a]+(1-this._beta)*(r+l*o),this._beta*t[a]+(1-this._beta)*(i+l*s));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const QZt=function e(t){function n(r){return t===1?new o8(r):new DQe(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function EL(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Jse(e,t){this._context=e,this._k=(1-t)/6}Jse.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:EL(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:EL(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const BZt=function e(t){function n(r){return new Jse(r,t)}return n.tension=function(r){return e(+r)},n}(0);function eae(e,t){this._context=e,this._k=(1-t)/6}eae.prototype={areaStart:i0,areaEnd:i0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:EL(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const WZt=function e(t){function n(r){return new eae(r,t)}return n.tension=function(r){return e(+r)},n}(0);function tae(e,t){this._context=e,this._k=(1-t)/6}tae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:EL(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const VZt=function e(t){function n(r){return new tae(r,t)}return n.tension=function(r){return e(+r)},n}(0);function nae(e,t,n){var r=e._x1,i=e._y1,o=e._x2,s=e._y2;if(e._l01_a>ea){var a=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*a-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,i=(i*a-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>ea){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/u,s=(s*c+e._y1*e._l23_2a-n*e._l12_2a)/u}e._context.bezierCurveTo(r,i,o,s,e._x2,e._y2)}function NQe(e,t){this._context=e,this._alpha=t}NQe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:nae(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const UZt=function e(t){function n(r){return t?new NQe(r,t):new Jse(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function MQe(e,t){this._context=e,this._alpha=t}MQe.prototype={areaStart:i0,areaEnd:i0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:nae(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const qZt=function e(t){function n(r){return t?new MQe(r,t):new eae(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function IQe(e,t){this._context=e,this._alpha=t}IQe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:nae(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const YZt=function e(t){function n(r){return t?new IQe(r,t):new tae(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function LQe(e){this._context=e}LQe.prototype={areaStart:i0,areaEnd:i0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function XZt(e){return new LQe(e)}function Xbe(e){return e<0?-1:1}function Hbe(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(Xbe(o)+Xbe(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function Zbe(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function PW(e,t,n){var r=e._x0,i=e._y0,o=e._x1,s=e._y1,a=(o-r)/3;e._context.bezierCurveTo(r+a,i+a*t,o-a,s-a*n,o,s)}function kL(e){this._context=e}kL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:PW(this,this._t0,Zbe(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,PW(this,Zbe(this,n=Hbe(this,e,t)),n);break;default:PW(this,this._t0,n=Hbe(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function jQe(e){this._context=new FQe(e)}(jQe.prototype=Object.create(kL.prototype)).point=function(e,t){kL.prototype.point.call(this,t,e)};function FQe(e){this._context=e}FQe.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function HZt(e){return new kL(e)}function ZZt(e){return new jQe(e)}function zQe(e){this._context=e}zQe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Gbe(e),i=Gbe(t),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Gbe(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function GZt(e){return new zQe(e)}function s8(e,t){this._context=e,this._t=t}s8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function KZt(e){return new s8(e,.5)}function JZt(e){return new s8(e,0)}function eGt(e){return new s8(e,1)}function _y(e,t){if(typeof document<"u"&&document.createElement){const n=document.createElement("canvas");if(n&&n.getContext)return n.width=e,n.height=t,n}return null}const tGt=()=>typeof Image<"u"?Image:null;function Yh(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function F0(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const HH=Symbol("implicit");function rae(){var e=new Yve,t=[],n=[],r=HH;function i(o){let s=e.get(o);if(s===void 0){if(r!==HH)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Yve;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return rae(t,n).unknown(r)},Yh.apply(i,arguments),i}function xC(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function MR(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function z0(){}var hb=.7,NS=1/hb,Dw="\\s*([+-]?\\d+)\\s*",L2="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nGt=/^#([0-9a-f]{3,8})$/,rGt=new RegExp(`^rgb\\(${Dw},${Dw},${Dw}\\)$`),iGt=new RegExp(`^rgb\\(${fh},${fh},${fh}\\)$`),oGt=new RegExp(`^rgba\\(${Dw},${Dw},${Dw},${L2}\\)$`),sGt=new RegExp(`^rgba\\(${fh},${fh},${fh},${L2}\\)$`),aGt=new RegExp(`^hsl\\(${L2},${fh},${fh}\\)$`),lGt=new RegExp(`^hsla\\(${L2},${fh},${fh},${L2}\\)$`),Kbe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xC(z0,pb,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Jbe,formatHex:Jbe,formatHex8:cGt,formatHsl:uGt,formatRgb:eOe,toString:eOe});function Jbe(){return this.rgb().formatHex()}function cGt(){return this.rgb().formatHex8()}function uGt(){return QQe(this).formatHsl()}function eOe(){return this.rgb().formatRgb()}function pb(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=nGt.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?tOe(t):n===3?new rs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?pN(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?pN(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=rGt.exec(e))?new rs(t[1],t[2],t[3],1):(t=iGt.exec(e))?new rs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=oGt.exec(e))?pN(t[1],t[2],t[3],t[4]):(t=sGt.exec(e))?pN(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=aGt.exec(e))?iOe(t[1],t[2]/100,t[3]/100,1):(t=lGt.exec(e))?iOe(t[1],t[2]/100,t[3]/100,t[4]):Kbe.hasOwnProperty(e)?tOe(Kbe[e]):e==="transparent"?new rs(NaN,NaN,NaN,0):null}function tOe(e){return new rs(e>>16&255,e>>8&255,e&255,1)}function pN(e,t,n,r){return r<=0&&(e=t=n=NaN),new rs(e,t,n,r)}function iae(e){return e instanceof z0||(e=pb(e)),e?(e=e.rgb(),new rs(e.r,e.g,e.b,e.opacity)):new rs}function o0(e,t,n,r){return arguments.length===1?iae(e):new rs(e,t,n,r??1)}function rs(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}xC(rs,o0,MR(z0,{brighter(e){return e=e==null?NS:Math.pow(NS,e),new rs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?hb:Math.pow(hb,e),new rs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new rs(b1(this.r),b1(this.g),b1(this.b),TL(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nOe,formatHex:nOe,formatHex8:fGt,formatRgb:rOe,toString:rOe}));function nOe(){return`#${e1(this.r)}${e1(this.g)}${e1(this.b)}`}function fGt(){return`#${e1(this.r)}${e1(this.g)}${e1(this.b)}${e1((isNaN(this.opacity)?1:this.opacity)*255)}`}function rOe(){const e=TL(this.opacity);return`${e===1?"rgb(":"rgba("}${b1(this.r)}, ${b1(this.g)}, ${b1(this.b)}${e===1?")":`, ${e})`}`}function TL(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function b1(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function e1(e){return e=b1(e),(e<16?"0":"")+e.toString(16)}function iOe(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new bf(e,t,n,r)}function QQe(e){if(e instanceof bf)return new bf(e.h,e.s,e.l,e.opacity);if(e instanceof z0||(e=pb(e)),!e)return new bf;if(e instanceof bf)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new bf(s,a,l,e.opacity)}function PL(e,t,n,r){return arguments.length===1?QQe(e):new bf(e,t,n,r??1)}function bf(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}xC(bf,PL,MR(z0,{brighter(e){return e=e==null?NS:Math.pow(NS,e),new bf(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?hb:Math.pow(hb,e),new bf(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new rs(RW(e>=240?e-240:e+120,i,r),RW(e,i,r),RW(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new bf(oOe(this.h),gN(this.s),gN(this.l),TL(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=TL(this.opacity);return`${e===1?"hsl(":"hsla("}${oOe(this.h)}, ${gN(this.s)*100}%, ${gN(this.l)*100}%${e===1?")":`, ${e})`}`}}));function oOe(e){return e=(e||0)%360,e<0?e+360:e}function gN(e){return Math.max(0,Math.min(1,e||0))}function RW(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const BQe=Math.PI/180,WQe=180/Math.PI,RL=18,VQe=.96422,UQe=1,qQe=.82521,YQe=4/29,Nw=6/29,XQe=3*Nw*Nw,dGt=Nw*Nw*Nw;function HQe(e){if(e instanceof dh)return new dh(e.l,e.a,e.b,e.opacity);if(e instanceof jp)return ZQe(e);e instanceof rs||(e=iae(e));var t=MW(e.r),n=MW(e.g),r=MW(e.b),i=AW((.2225045*t+.7168786*n+.0606169*r)/UQe),o,s;return t===n&&n===r?o=s=i:(o=AW((.4360747*t+.3850649*n+.1430804*r)/VQe),s=AW((.0139322*t+.0971045*n+.7141733*r)/qQe)),new dh(116*i-16,500*(o-i),200*(i-s),e.opacity)}function AL(e,t,n,r){return arguments.length===1?HQe(e):new dh(e,t,n,r??1)}function dh(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}xC(dh,AL,MR(z0,{brighter(e){return new dh(this.l+RL*(e??1),this.a,this.b,this.opacity)},darker(e){return new dh(this.l-RL*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=VQe*DW(t),e=UQe*DW(e),n=qQe*DW(n),new rs(NW(3.1338561*t-1.6168667*e-.4906146*n),NW(-.9787684*t+1.9161415*e+.033454*n),NW(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function AW(e){return e>dGt?Math.pow(e,1/3):e/XQe+YQe}function DW(e){return e>Nw?e*e*e:XQe*(e-YQe)}function NW(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function MW(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function hGt(e){if(e instanceof jp)return new jp(e.h,e.c,e.l,e.opacity);if(e instanceof dh||(e=HQe(e)),e.a===0&&e.b===0)return new jp(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*WQe;return new jp(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function DL(e,t,n,r){return arguments.length===1?hGt(e):new jp(e,t,n,r??1)}function jp(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function ZQe(e){if(isNaN(e.h))return new dh(e.l,0,0,e.opacity);var t=e.h*BQe;return new dh(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}xC(jp,DL,MR(z0,{brighter(e){return new jp(this.h,this.c,this.l+RL*(e??1),this.opacity)},darker(e){return new jp(this.h,this.c,this.l-RL*(e??1),this.opacity)},rgb(){return ZQe(this).rgb()}}));var GQe=-.14861,oae=1.78277,sae=-.29227,a8=-.90649,j2=1.97294,sOe=j2*a8,aOe=j2*oae,lOe=oae*sae-a8*GQe;function pGt(e){if(e instanceof O1)return new O1(e.h,e.s,e.l,e.opacity);e instanceof rs||(e=iae(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(lOe*r+sOe*t-aOe*n)/(lOe+sOe-aOe),o=r-i,s=(j2*(n-i)-sae*o)/a8,a=Math.sqrt(s*s+o*o)/(j2*i*(1-i)),l=a?Math.atan2(s,o)*WQe-120:NaN;return new O1(l<0?l+360:l,a,i,e.opacity)}function ZH(e,t,n,r){return arguments.length===1?pGt(e):new O1(e,t,n,r??1)}function O1(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}xC(O1,ZH,MR(z0,{brighter(e){return e=e==null?NS:Math.pow(NS,e),new O1(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?hb:Math.pow(hb,e),new O1(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*BQe,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new rs(255*(t+n*(GQe*r+oae*i)),255*(t+n*(sae*r+a8*i)),255*(t+n*(j2*r)),this.opacity)}}));function KQe(e,t,n,r,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*r+s*i)/6}function JQe(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],s=r>0?e[r-1]:2*i-o,a=r<t-1?e[r+2]:2*o-i;return KQe((n-r/t)*t,s,i,o,a)}}function eBe(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],s=e[(r+1)%t],a=e[(r+2)%t];return KQe((n-r/t)*t,i,o,s,a)}}const l8=e=>()=>e;function tBe(e,t){return function(n){return e+n*t}}function gGt(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function c8(e,t){var n=t-e;return n?tBe(e,n>180||n<-180?n-360*Math.round(n/360):n):l8(isNaN(e)?t:e)}function mGt(e){return(e=+e)==1?is:function(t,n){return n-t?gGt(t,n,e):l8(isNaN(t)?n:t)}}function is(e,t){var n=t-e;return n?tBe(e,n):l8(isNaN(e)?t:e)}const F2=function e(t){var n=mGt(t);function r(i,o){var s=n((i=o0(i)).r,(o=o0(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),c=is(i.opacity,o.opacity);return function(u){return i.r=s(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=e,r}(1);function nBe(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),s,a;for(s=0;s<n;++s)a=o0(t[s]),r[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return r=e(r),i=e(i),o=e(o),a.opacity=1,function(l){return a.r=r(l),a.g=i(l),a.b=o(l),a+""}}}var yGt=nBe(JQe),vGt=nBe(eBe);function aae(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function rBe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function bGt(e,t){return(rBe(t)?aae:iBe)(e,t)}function iBe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Q0(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function oBe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function cu(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function sBe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Q0(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var GH=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,IW=new RegExp(GH.source,"g");function OGt(e){return function(){return e}}function xGt(e){return function(t){return e(t)+""}}function lae(e,t){var n=GH.lastIndex=IW.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=GH.exec(e))&&(i=IW.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:cu(r,i)})),n=IW.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?xGt(l[0].x):OGt(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)a[(f=l[u]).i]=f.x(c);return a.join("")})}function Q0(e,t){var n=typeof t,r;return t==null||n==="boolean"?l8(t):(n==="number"?cu:n==="string"?(r=pb(t))?(t=r,F2):lae:t instanceof pb?F2:t instanceof Date?oBe:rBe(t)?aae:Array.isArray(t)?iBe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?sBe:cu)(e,t)}function wGt(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function SGt(e,t){var n=c8(+e,+t);return function(r){var i=n(r);return i-360*Math.floor(i/360)}}function IR(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var cOe=180/Math.PI,KH={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function aBe(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*cOe,skewX:Math.atan(l)*cOe,scaleX:s,scaleY:a}}var mN;function _Gt(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?KH:aBe(t.a,t.b,t.c,t.d,t.e,t.f)}function CGt(e){return e==null||(mN||(mN=document.createElementNS("http://www.w3.org/2000/svg","g")),mN.setAttribute("transform",e),!(e=mN.transform.baseVal.consolidate()))?KH:(e=e.matrix,aBe(e.a,e.b,e.c,e.d,e.e,e.f))}function lBe(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,u,f,d,h,p){if(c!==f||u!==d){var g=h.push("translate(",null,t,null,n);p.push({i:g-4,x:cu(c,f)},{i:g-2,x:cu(u,d)})}else(f||d)&&h.push("translate("+f+t+d+n)}function s(c,u,f,d){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:cu(c,u)})):u&&f.push(i(f)+"rotate("+u+r)}function a(c,u,f,d){c!==u?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:cu(c,u)}):u&&f.push(i(f)+"skewX("+u+r)}function l(c,u,f,d,h,p){if(c!==f||u!==d){var g=h.push(i(h)+"scale(",null,",",null,")");p.push({i:g-4,x:cu(c,f)},{i:g-2,x:cu(u,d)})}else(f!==1||d!==1)&&h.push(i(h)+"scale("+f+","+d+")")}return function(c,u){var f=[],d=[];return c=e(c),u=e(u),o(c.translateX,c.translateY,u.translateX,u.translateY,f,d),s(c.rotate,u.rotate,f,d),a(c.skewX,u.skewX,f,d),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,f,d),c=u=null,function(h){for(var p=-1,g=d.length,y;++p<g;)f[(y=d[p]).i]=y.x(h);return f.join("")}}}var cBe=lBe(_Gt,"px, ","px)","deg)"),uBe=lBe(CGt,", ",")",")"),$Gt=1e-12;function uOe(e){return((e=Math.exp(e))+1/e)/2}function EGt(e){return((e=Math.exp(e))-1/e)/2}function kGt(e){return((e=Math.exp(2*e))-1)/(e+1)}const fBe=function e(t,n,r){function i(o,s){var a=o[0],l=o[1],c=o[2],u=s[0],f=s[1],d=s[2],h=u-a,p=f-l,g=h*h+p*p,y,v;if(g<$Gt)v=Math.log(d/c)/t,y=function($){return[a+$*h,l+$*p,c*Math.exp(t*$*v)]};else{var x=Math.sqrt(g),m=(d*d-c*c+r*g)/(2*c*n*x),w=(d*d-c*c-r*g)/(2*d*n*x),S=Math.log(Math.sqrt(m*m+1)-m),C=Math.log(Math.sqrt(w*w+1)-w);v=(C-S)/t,y=function($){var E=$*v,R=uOe(S),N=c/(n*x)*(R*kGt(t*E+S)-EGt(S));return[a+N*h,l+N*p,c*R/uOe(t*E+S)]}}return y.duration=v*1e3*t/Math.SQRT2,y}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return e(s,a,l)},i}(Math.SQRT2,2,4);function dBe(e){return function(t,n){var r=e((t=PL(t)).h,(n=PL(n)).h),i=is(t.s,n.s),o=is(t.l,n.l),s=is(t.opacity,n.opacity);return function(a){return t.h=r(a),t.s=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const TGt=dBe(c8);var PGt=dBe(is);function RGt(e,t){var n=is((e=AL(e)).l,(t=AL(t)).l),r=is(e.a,t.a),i=is(e.b,t.b),o=is(e.opacity,t.opacity);return function(s){return e.l=n(s),e.a=r(s),e.b=i(s),e.opacity=o(s),e+""}}function hBe(e){return function(t,n){var r=e((t=DL(t)).h,(n=DL(n)).h),i=is(t.c,n.c),o=is(t.l,n.l),s=is(t.opacity,n.opacity);return function(a){return t.h=r(a),t.c=i(a),t.l=o(a),t.opacity=s(a),t+""}}}const AGt=hBe(c8);var DGt=hBe(is);function pBe(e){return function t(n){n=+n;function r(i,o){var s=e((i=ZH(i)).h,(o=ZH(o)).h),a=is(i.s,o.s),l=is(i.l,o.l),c=is(i.opacity,o.opacity);return function(u){return i.h=s(u),i.s=a(u),i.l=l(Math.pow(u,n)),i.opacity=c(u),i+""}}return r.gamma=t,r}(1)}const NGt=pBe(c8);var MGt=pBe(is);function cae(e,t){t===void 0&&(t=e,e=Q0);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(s){var a=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[a](s-a)}}function IGt(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}const LGt=Object.freeze(Object.defineProperty({__proto__:null,interpolate:Q0,interpolateArray:bGt,interpolateBasis:JQe,interpolateBasisClosed:eBe,interpolateCubehelix:NGt,interpolateCubehelixLong:MGt,interpolateDate:oBe,interpolateDiscrete:wGt,interpolateHcl:AGt,interpolateHclLong:DGt,interpolateHsl:TGt,interpolateHslLong:PGt,interpolateHue:SGt,interpolateLab:RGt,interpolateNumber:cu,interpolateNumberArray:aae,interpolateObject:sBe,interpolateRgb:F2,interpolateRgbBasis:yGt,interpolateRgbBasisClosed:vGt,interpolateRound:IR,interpolateString:lae,interpolateTransformCss:cBe,interpolateTransformSvg:uBe,interpolateZoom:fBe,piecewise:cae,quantize:IGt},Symbol.toStringTag,{value:"Module"}));function jGt(e){return function(){return e}}function JH(e){return+e}var fOe=[0,1];function El(e){return e}function eZ(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:jGt(isNaN(t)?NaN:.5)}function FGt(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function zGt(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=eZ(i,r),o=n(s,o)):(r=eZ(r,i),o=n(o,s)),function(a){return o(r(a))}}function QGt(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=eZ(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var l=vR(e,a,1,r)-1;return o[l](i[l](a))}}function LR(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function u8(){var e=fOe,t=fOe,n=Q0,r,i,o,s=El,a,l,c;function u(){var d=Math.min(e.length,t.length);return s!==El&&(s=FGt(e[0],e[d-1])),a=d>2?QGt:zGt,l=c=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=a(e.map(r),t,n)))(r(s(d)))}return f.invert=function(d){return s(i((c||(c=a(t,e.map(r),cu)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,JH),u()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),u()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=IR,u()},f.clamp=function(d){return arguments.length?(s=d?!0:El,u()):s!==El},f.interpolate=function(d){return arguments.length?(n=d,u()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,h){return r=d,i=h,u()}}function gBe(){return u8()(El,El)}function mBe(e,t,n,r){var i=e0(e,t,n),o;switch(r=sb(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=P4e(i,s))&&(r.precision=o),Tie(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=R4e(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=T4e(i))&&(r.precision=o-(r.type==="%")*2);break}}return i7(r)}function sO(e){var t=e.domain;return e.ticks=function(n){var r=t();return iH(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return mBe(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],l,c,u=10;for(a<s&&(c=s,s=a,a=c,c=i,i=o,o=c);u-- >0;){if(c=oH(s,a,n),c===l)return r[i]=s,r[o]=a,t(r);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else if(c<0)s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c;else break;l=c}return e},e}function yBe(){var e=gBe();return e.copy=function(){return LR(e,yBe())},Yh.apply(e,arguments),sO(e)}function vBe(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,JH),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return vBe(e).unknown(t)},e=arguments.length?Array.from(e,JH):[0,1],sO(n)}function bBe(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),e[n]=t.floor(i),e[r]=t.ceil(o),e}function dOe(e){return Math.log(e)}function hOe(e){return Math.exp(e)}function BGt(e){return-Math.log(-e)}function WGt(e){return-Math.exp(-e)}function VGt(e){return isFinite(e)?+("1e"+e):e<0?0:e}function UGt(e){return e===10?VGt:e===Math.E?Math.exp:t=>Math.pow(e,t)}function qGt(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function pOe(e){return(t,n)=>-e(-t,n)}function uae(e){const t=e(dOe,hOe),n=t.domain;let r=10,i,o;function s(){return i=qGt(r),o=UGt(r),n()[0]<0?(i=pOe(i),o=pOe(o),e(BGt,WGt)):e(dOe,hOe),t}return t.base=function(a){return arguments.length?(r=+a,s()):r},t.domain=function(a){return arguments.length?(n(a),s()):n()},t.ticks=a=>{const l=n();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let d=i(c),h=i(u),p,g;const y=a==null?10:+a;let v=[];if(!(r%1)&&h-d<y){if(d=Math.floor(d),h=Math.ceil(h),c>0){for(;d<=h;++d)for(p=1;p<r;++p)if(g=d<0?p/o(-d):p*o(d),!(g<c)){if(g>u)break;v.push(g)}}else for(;d<=h;++d)for(p=r-1;p>=1;--p)if(g=d>0?p/o(-d):p*o(d),!(g<c)){if(g>u)break;v.push(g)}v.length*2<y&&(v=iH(c,u,y))}else v=iH(d,h,Math.min(h-d,y)).map(o);return f?v.reverse():v},t.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=sb(l)).precision==null&&(l.trim=!0),l=i7(l)),a===1/0)return l;const c=Math.max(1,r*a/t.ticks().length);return u=>{let f=u/o(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=c?l(u):""}},t.nice=()=>n(bBe(n(),{floor:a=>o(Math.floor(i(a))),ceil:a=>o(Math.ceil(i(a)))})),t}function OBe(){const e=uae(u8()).domain([1,10]);return e.copy=()=>LR(e,OBe()).base(e.base()),Yh.apply(e,arguments),e}function gOe(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function mOe(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function fae(e){var t=1,n=e(gOe(t),mOe(t));return n.constant=function(r){return arguments.length?e(gOe(t=+r),mOe(t)):t},sO(n)}function xBe(){var e=fae(u8());return e.copy=function(){return LR(e,xBe()).constant(e.constant())},Yh.apply(e,arguments)}function yOe(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function YGt(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function XGt(e){return e<0?-e*e:e*e}function dae(e){var t=e(El,El),n=1;function r(){return n===1?e(El,El):n===.5?e(YGt,XGt):e(yOe(n),yOe(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},sO(t)}function hae(){var e=dae(u8());return e.copy=function(){return LR(e,hae()).exponent(e.exponent())},Yh.apply(e,arguments),e}function HGt(){return hae.apply(null,arguments).exponent(.5)}function wBe(){var e=[],t=[],n=[],r;function i(){var s=0,a=Math.max(1,t.length);for(n=new Array(a-1);++s<a;)n[s-1]=S4e(e,s/a);return o}function o(s){return s==null||isNaN(s=+s)?r:t[vR(n,s)]}return o.invertExtent=function(s){var a=t.indexOf(s);return a<0?[NaN,NaN]:[a>0?n[a-1]:e[0],a<n.length?n[a]:e[e.length-1]]},o.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let a of s)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Zp),i()},o.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return wBe().domain(e).range(t).unknown(r)},Yh.apply(o,arguments)}function SBe(){var e=0,t=1,n=1,r=[.5],i=[0,1],o;function s(l){return l!=null&&l<=l?i[vR(r,l,0,n)]:o}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,a()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,r[0]]:c>=n?[r[n-1],t]:[r[c-1],r[c]]},s.unknown=function(l){return arguments.length&&(o=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return SBe().domain([e,t]).range(i).unknown(o)},Yh.apply(sO(s),arguments)}function _Be(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[vR(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var s=t.indexOf(o);return[e[s-1],e[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return _Be().domain(e).range(t).unknown(n)},Yh.apply(i,arguments)}function ZGt(e){return new Date(e)}function GGt(e){return e instanceof Date?+e:+new Date(+e)}function pae(e,t,n,r,i,o,s,a,l,c){var u=gBe(),f=u.invert,d=u.domain,h=c(".%L"),p=c(":%S"),g=c("%I:%M"),y=c("%I %p"),v=c("%a %d"),x=c("%b %d"),m=c("%B"),w=c("%Y");function S(C){return(l(C)<C?h:a(C)<C?p:s(C)<C?g:o(C)<C?y:r(C)<C?i(C)<C?v:x:n(C)<C?m:w)(C)}return u.invert=function(C){return new Date(f(C))},u.domain=function(C){return arguments.length?d(Array.from(C,GGt)):d().map(ZGt)},u.ticks=function(C){var $=d();return e($[0],$[$.length-1],C??10)},u.tickFormat=function(C,$){return $==null?S:c($)},u.nice=function(C){var $=d();return(!C||typeof C.range!="function")&&(C=t($[0],$[$.length-1],C??10)),C?d(bBe($,C)):u},u.copy=function(){return LR(u,pae(e,t,n,r,i,o,s,a,l,c))},u}function KGt(){return Yh.apply(pae(s4t,a4t,Ch,O2,aC,Gp,a7,o7,Ip,Nie).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function JGt(){return Yh.apply(pae(i4t,o4t,$h,x2,lC,vy,l7,s7,Ip,Mie).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function f8(){var e=0,t=1,n,r,i,o,s=El,a=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(o(f)-n)*i,a?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,n=o(e=+e),r=o(t=+t),i=n===r?0:1/(r-n),c):[e,t]},c.clamp=function(f){return arguments.length?(a=!!f,c):a},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(d){var h,p;return arguments.length?([h,p]=d,s=f(h,p),c):[s(0),s(1)]}}return c.range=u(Q0),c.rangeRound=u(IR),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return o=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),c}}function B0(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function gae(){var e=sO(f8()(El));return e.copy=function(){return B0(e,gae())},F0.apply(e,arguments)}function CBe(){var e=uae(f8()).domain([1,10]);return e.copy=function(){return B0(e,CBe()).base(e.base())},F0.apply(e,arguments)}function $Be(){var e=fae(f8());return e.copy=function(){return B0(e,$Be()).constant(e.constant())},F0.apply(e,arguments)}function mae(){var e=dae(f8());return e.copy=function(){return B0(e,mae()).exponent(e.exponent())},F0.apply(e,arguments)}function eKt(){return mae.apply(null,arguments).exponent(.5)}function d8(){var e=0,t=.5,n=1,r=1,i,o,s,a,l,c=El,u,f=!1,d;function h(g){return isNaN(g=+g)?d:(g=.5+((g=+u(g))-o)*(r*g<r*o?a:l),c(f?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([e,t,n]=g,i=u(e=+e),o=u(t=+t),s=u(n=+n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,h):[e,t,n]},h.clamp=function(g){return arguments.length?(f=!!g,h):f},h.interpolator=function(g){return arguments.length?(c=g,h):c};function p(g){return function(y){var v,x,m;return arguments.length?([v,x,m]=y,c=cae(g,[v,x,m]),h):[c(0),c(.5),c(1)]}}return h.range=p(Q0),h.rangeRound=p(IR),h.unknown=function(g){return arguments.length?(d=g,h):d},function(g){return u=g,i=g(e),o=g(t),s=g(n),a=i===o?0:.5/(o-i),l=o===s?0:.5/(s-o),r=o<i?-1:1,h}}function EBe(){var e=sO(d8()(El));return e.copy=function(){return B0(e,EBe())},F0.apply(e,arguments)}function kBe(){var e=uae(d8()).domain([.1,1,10]);return e.copy=function(){return B0(e,kBe()).base(e.base())},F0.apply(e,arguments)}function TBe(){var e=fae(d8());return e.copy=function(){return B0(e,TBe()).constant(e.constant())},F0.apply(e,arguments)}function yae(){var e=dae(d8());return e.copy=function(){return B0(e,yae()).exponent(e.exponent())},F0.apply(e,arguments)}function tKt(){return yae.apply(null,arguments).exponent(.5)}function vae(e,t,n){const r=e-t+n*2;return e?r>0?r:1:0}const nKt="identity",MS="linear",bg="log",jR="pow",FR="sqrt",h8="symlog",gb="time",mb="utc",hh="sequential",wC="diverging",IS="quantile",p8="quantize",g8="threshold",bae="ordinal",tZ="point",PBe="band",Oae="bin-ordinal",Xo="continuous",zR="discrete",QR="discretizing",Xu="interpolating",xae="temporal";function rKt(e){return function(t){let n=t[0],r=t[1],i;return r<n&&(i=n,n=r,r=i),[e.invert(n),e.invert(r)]}}function iKt(e){return function(t){const n=e.range();let r=t[0],i=t[1],o=-1,s,a,l,c;for(i<r&&(a=r,r=i,i=a),l=0,c=n.length;l<c;++l)n[l]>=r&&n[l]<=i&&(o<0&&(o=l),s=l);if(!(o<0))return r=e.invertExtent(n[o]),i=e.invertExtent(n[s]),[r[0]===void 0?r[1]:r[0],i[1]===void 0?i[0]:i[1]]}}function wae(){const e=rae().unknown(void 0),t=e.domain,n=e.range;let r=[0,1],i,o,s=!1,a=0,l=0,c=.5;delete e.unknown;function u(){const f=t().length,d=r[1]<r[0],h=r[1-d],p=vae(f,a,l);let g=r[d-0];i=(h-g)/(p||1),s&&(i=Math.floor(i)),g+=(h-g-i*(f-a))*c,o=i*(1-a),s&&(g=Math.round(g),o=Math.round(o));const y=Cc(f).map(v=>g+i*v);return n(d?y.reverse():y)}return e.domain=function(f){return arguments.length?(t(f),u()):t()},e.range=function(f){return arguments.length?(r=[+f[0],+f[1]],u()):r.slice()},e.rangeRound=function(f){return r=[+f[0],+f[1]],s=!0,u()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(s=!!f,u()):s},e.padding=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),a=l,u()):a},e.paddingInner=function(f){return arguments.length?(a=Math.max(0,Math.min(1,f)),u()):a},e.paddingOuter=function(f){return arguments.length?(l=Math.max(0,Math.min(1,f)),u()):l},e.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),u()):c},e.invertRange=function(f){if(f[0]==null||f[1]==null)return;const d=r[1]<r[0],h=d?n().reverse():n(),p=h.length-1;let g=+f[0],y=+f[1],v,x,m;if(!(g!==g||y!==y)&&(y<g&&(m=g,g=y,y=m),!(y<h[0]||g>r[1-d])))return v=Math.max(0,P3(h,g)-1),x=g===y?v:P3(h,y)-1,g-h[v]>o+1e-10&&++v,d&&(m=v,v=p-x,x=p-m),v>x?void 0:t().slice(v,x+1)},e.invert=function(f){const d=e.invertRange([f,f]);return d&&d[0]},e.copy=function(){return wae().domain(t()).range(r).round(s).paddingInner(a).paddingOuter(l).align(c)},u()}function RBe(e){const t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,e.copy=function(){return RBe(t())},e}function oKt(){return RBe(wae().paddingInner(1))}var sKt=Array.prototype.map;function aKt(e){return sKt.call(e,pa)}const lKt=Array.prototype.slice;function ABe(){let e=[],t=[];function n(r){return r==null||r!==r?void 0:t[(vR(e,r)-1)%t.length]}return n.domain=function(r){return arguments.length?(e=aKt(r),n):e.slice()},n.range=function(r){return arguments.length?(t=lKt.call(r),n):t.slice()},n.tickFormat=function(r,i){return mBe(e[0],In(e),r??10,i)},n.copy=function(){return ABe().domain(n.domain()).range(n.range())},n}const NL=new Map,DBe=Symbol("vega_scale");function NBe(e){return e[DBe]=!0,e}function cKt(e){return e&&e[DBe]===!0}function uKt(e,t,n){const r=function(){const o=t();return o.invertRange||(o.invertRange=o.invert?rKt(o):o.invertExtent?iKt(o):void 0),o.type=e,NBe(o)};return r.metadata=td(lt(n)),r}function Kn(e,t,n){return arguments.length>1?(NL.set(e,uKt(e,t,n)),this):MBe(e)?NL.get(e):void 0}Kn(nKt,vBe);Kn(MS,yBe,Xo);Kn(bg,OBe,[Xo,bg]);Kn(jR,hae,Xo);Kn(FR,HGt,Xo);Kn(h8,xBe,Xo);Kn(gb,KGt,[Xo,xae]);Kn(mb,JGt,[Xo,xae]);Kn(hh,gae,[Xo,Xu]);Kn(`${hh}-${MS}`,gae,[Xo,Xu]);Kn(`${hh}-${bg}`,CBe,[Xo,Xu,bg]);Kn(`${hh}-${jR}`,mae,[Xo,Xu]);Kn(`${hh}-${FR}`,eKt,[Xo,Xu]);Kn(`${hh}-${h8}`,$Be,[Xo,Xu]);Kn(`${wC}-${MS}`,EBe,[Xo,Xu]);Kn(`${wC}-${bg}`,kBe,[Xo,Xu,bg]);Kn(`${wC}-${jR}`,yae,[Xo,Xu]);Kn(`${wC}-${FR}`,tKt,[Xo,Xu]);Kn(`${wC}-${h8}`,TBe,[Xo,Xu]);Kn(IS,wBe,[QR,IS]);Kn(p8,SBe,QR);Kn(g8,_Be,QR);Kn(Oae,ABe,[zR,QR]);Kn(bae,rae,zR);Kn(PBe,wae,zR);Kn(tZ,oKt,zR);function MBe(e){return NL.has(e)}function aO(e,t){const n=NL.get(e);return n&&n.metadata[t]}function Sae(e){return aO(e,Xo)}function LS(e){return aO(e,zR)}function nZ(e){return aO(e,QR)}function IBe(e){return aO(e,bg)}function fKt(e){return aO(e,xae)}function LBe(e){return aO(e,Xu)}function jBe(e){return aO(e,IS)}const dKt=["clamp","base","constant","exponent"];function FBe(e,t){const n=t[0],r=In(t)-n;return function(i){return e(n+i*r)}}function m8(e,t,n){return cae(_ae(t||"rgb",n),e)}function zBe(e,t){const n=new Array(t),r=t+1;for(let i=0;i<t;)n[i]=e(++i/r);return n}function QBe(e,t,n){const r=n-t;let i,o,s;return!r||!Number.isFinite(r)?Ea(.5):(i=(o=e.type).indexOf("-"),o=i<0?o:o.slice(i+1),s=Kn(o)().domain([t,n]).range([0,1]),dKt.forEach(a=>e[a]?s[a](e[a]()):0),s)}function _ae(e,t){const n=LGt[hKt(e)];return t!=null&&n&&n.gamma?n.gamma(t):n}function hKt(e){return"interpolate"+e.toLowerCase().split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}const pKt={blues:"cfe1f2bed8eca8cee58fc1de74b2d75ba3cf4592c63181bd206fb2125ca40a4a90",greens:"d3eecdc0e6baabdda594d3917bc77d60ba6c46ab5e329a512089430e7735036429",greys:"e2e2e2d4d4d4c4c4c4b1b1b19d9d9d8888887575756262624d4d4d3535351e1e1e",oranges:"fdd8b3fdc998fdb87bfda55efc9244f87f2cf06b18e4580bd14904b93d029f3303",purples:"e2e1efd4d4e8c4c5e0b4b3d6a3a0cc928ec3827cb97566ae684ea25c3696501f8c",reds:"fdc9b4fcb49afc9e80fc8767fa7051f6573fec3f2fdc2a25c81b1db21218970b13",blueGreen:"d5efedc1e8e0a7ddd18bd2be70c6a958ba9144ad77319c5d2089460e7736036429",bluePurple:"ccddecbad0e4a8c2dd9ab0d4919cc98d85be8b6db28a55a6873c99822287730f71",greenBlue:"d3eecec5e8c3b1e1bb9bd8bb82cec269c2ca51b2cd3c9fc7288abd1675b10b60a1",orangeRed:"fddcaffdcf9bfdc18afdad77fb9562f67d53ee6545e24932d32d1ebf130da70403",purpleBlue:"dbdaebc8cee4b1c3de97b7d87bacd15b9fc93a90c01e7fb70b70ab056199045281",purpleBlueGreen:"dbd8eac8cee4b0c3de93b7d872acd1549fc83892bb1c88a3097f8702736b016353",purpleRed:"dcc9e2d3b3d7ce9eccd186c0da6bb2e14da0e23189d91e6fc61159ab07498f023a",redPurple:"fccfccfcbec0faa9b8f98faff571a5ec539ddb3695c41b8aa908808d0179700174",yellowGreen:"e4f4acd1eca0b9e2949ed68880c97c62bb6e47aa5e3297502083440e723b036034",yellowOrangeBrown:"feeaa1fedd84fecc63feb746fca031f68921eb7215db5e0bc54c05ab3d038f3204",yellowOrangeRed:"fee087fed16ffebd59fea849fd903efc7335f9522bee3423de1b20ca0b22af0225",blueOrange:"134b852f78b35da2cb9dcae1d2e5eff2f0ebfce0bafbbf74e8932fc5690d994a07",brownBlueGreen:"704108a0651ac79548e3c78af3e6c6eef1eac9e9e48ed1c74da79e187a72025147",purpleGreen:"5b1667834792a67fb6c9aed3e6d6e8eff0efd9efd5aedda971bb75368e490e5e29",purpleOrange:"4114696647968f83b7b9b4d6dadbebf3eeeafce0bafbbf74e8932fc5690d994a07",redBlue:"8c0d25bf363adf745ef4ae91fbdbc9f2efeed2e5ef9dcae15da2cb2f78b3134b85",redGrey:"8c0d25bf363adf745ef4ae91fcdccbfaf4f1e2e2e2c0c0c0969696646464343434",yellowGreenBlue:"eff9bddbf1b4bde5b594d5b969c5be45b4c22c9ec02182b82163aa23479c1c3185",redYellowBlue:"a50026d4322cf16e43fcac64fedd90faf8c1dcf1ecabd6e875abd04a74b4313695",redYellowGreen:"a50026d4322cf16e43fcac63fedd8df9f7aed7ee8ea4d86e64bc6122964f006837",pinkYellowGreen:"8e0152c0267edd72adf0b3d6faddedf5f3efe1f2cab6de8780bb474f9125276419",spectral:"9e0142d13c4bf0704afcac63fedd8dfbf8b0e0f3a1a9dda269bda94288b55e4fa2",viridis:"440154470e61481a6c482575472f7d443a834144873d4e8a39568c35608d31688e2d708e2a788e27818e23888e21918d1f988b1fa08822a8842ab07f35b77943bf7154c56866cc5d7ad1518fd744a5db36bcdf27d2e21be9e51afde725",magma:"0000040404130b0924150e3720114b2c11603b0f704a107957157e651a80721f817f24828c29819a2e80a8327db6377ac43c75d1426fde4968e95462f1605df76f5cfa7f5efc8f65fe9f6dfeaf78febf84fece91fddea0fcedaffcfdbf",inferno:"0000040403130c0826170c3b240c4f330a5f420a68500d6c5d126e6b176e781c6d86216b932667a12b62ae305cbb3755c73e4cd24644dd513ae65c30ed6925f3771af8850ffb9506fca50afcb519fac62df6d645f2e661f3f484fcffa4",plasma:"0d088723069033059742039d5002a25d01a66a00a87801a88405a7900da49c179ea72198b12a90ba3488c33d80cb4779d35171da5a69e16462e76e5bed7953f2834cf68f44fa9a3dfca636fdb32ffec029fcce25f9dc24f5ea27f0f921",cividis:"00205100235800265d002961012b65042e670831690d346b11366c16396d1c3c6e213f6e26426e2c456e31476e374a6e3c4d6e42506e47536d4c566d51586e555b6e5a5e6e5e616e62646f66676f6a6a706e6d717270717573727976737c79747f7c75827f758682768985778c8877908b78938e789691789a94789e9778a19b78a59e77a9a177aea575b2a874b6ab73bbaf71c0b26fc5b66dc9b96acebd68d3c065d8c462ddc85fe2cb5ce7cf58ebd355f0d652f3da4ff7de4cfae249fce647",rainbow:"6e40aa883eb1a43db3bf3cafd83fa4ee4395fe4b83ff576eff6659ff7847ff8c38f3a130e2b72fcfcc36bee044aff05b8ff4576ff65b52f6673af27828ea8d1ddfa319d0b81cbecb23abd82f96e03d82e14c6edb5a5dd0664dbf6e40aa",sinebow:"ff4040fc582af47218e78d0bd5a703bfbf00a7d5038de70b72f41858fc2a40ff402afc5818f4720be78d03d5a700bfbf03a7d50b8de71872f42a58fc4040ff582afc7218f48d0be7a703d5bf00bfd503a7e70b8df41872fc2a58ff4040",turbo:"23171b32204a3e2a71453493493eae4b49c54a53d7485ee44569ee4074f53c7ff8378af93295f72e9ff42ba9ef28b3e926bce125c5d925cdcf27d5c629dcbc2de3b232e9a738ee9d3ff39347f68950f9805afc7765fd6e70fe667cfd5e88fc5795fb51a1f84badf545b9f140c5ec3cd0e637dae034e4d931ecd12ef4c92bfac029ffb626ffad24ffa223ff9821ff8d1fff821dff771cfd6c1af76118f05616e84b14df4111d5380fcb2f0dc0260ab61f07ac1805a313029b0f00950c00910b00",browns:"eedbbdecca96e9b97ae4a865dc9856d18954c7784cc0673fb85536ad44339f3632",tealBlues:"bce4d89dd3d181c3cb65b3c245a2b9368fae347da0306a932c5985",teals:"bbdfdfa2d4d58ac9c975bcbb61b0af4da5a43799982b8b8c1e7f7f127273006667",warmGreys:"dcd4d0cec5c1c0b8b4b3aaa7a59c9998908c8b827f7e7673726866665c5a59504e",goldGreen:"f4d166d5ca60b6c35c98bb597cb25760a6564b9c533f8f4f33834a257740146c36",goldOrange:"f4d166f8be5cf8aa4cf5983bf3852aef701be2621fd65322c54923b142239e3a26",goldRed:"f4d166f6be59f9aa51fc964ef6834bee734ae56249db5247cf4244c43141b71d3e",lightGreyRed:"efe9e6e1dad7d5cbc8c8bdb9bbaea9cd967ddc7b43e15f19df4011dc000b",lightGreyTeal:"e4eaead6dcddc8ced2b7c2c7a6b4bc64b0bf22a6c32295c11f85be1876bc",lightMulti:"e0f1f2c4e9d0b0de9fd0e181f6e072f6c053f3993ef77440ef4a3c",lightOrange:"f2e7daf7d5baf9c499fab184fa9c73f68967ef7860e8645bde515bd43d5b",lightTealBlue:"e3e9e0c0dccf9aceca7abfc859afc0389fb9328dad2f7ca0276b95255988",darkBlue:"3232322d46681a5c930074af008cbf05a7ce25c0dd38daed50f3faffffff",darkGold:"3c3c3c584b37725e348c7631ae8b2bcfa424ecc31ef9de30fff184ffffff",darkGreen:"3a3a3a215748006f4d048942489e4276b340a6c63dd2d836ffeb2cffffaa",darkMulti:"3737371f5287197d8c29a86995ce3fffe800ffffff",darkRed:"3434347036339e3c38cc4037e75d1eec8620eeab29f0ce32ffeb2c"},gKt={category10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf",category20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",category20b:"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6",category20c:"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9",tableau10:"4c78a8f58518e4575672b7b254a24beeca3bb279a2ff9da69d755dbab0ac",tableau20:"4c78a89ecae9f58518ffbf7954a24b88d27ab79a20f2cf5b43989483bcb6e45756ff9d9879706ebab0acd67195fcbfd2b279a2d6a5c99e765fd8b5a5",accent:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666",dark2:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666",paired:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928",pastel1:"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2",pastel2:"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc",set1:"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999",set2:"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3",set3:"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"};function BBe(e){const t=e.length/6|0,n=new Array(t);for(let r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}function WBe(e,t){for(const n in e)Cae(n,t(e[n]))}const vOe={};WBe(gKt,BBe);WBe(pKt,e=>m8(BBe(e)));function Cae(e,t){return e=e&&e.toLowerCase(),arguments.length>1?(vOe[e]=t,this):vOe[e]}const gI="symbol",mKt="discrete",yKt="gradient",vKt=e=>Me(e)?e.map(t=>String(t)):String(e),bKt=(e,t)=>e[1]-t[1],OKt=(e,t)=>t[1]-e[1];function $ae(e,t,n){let r;return Un(t)&&(e.bins&&(t=Math.max(t,e.bins.length)),n!=null&&(t=Math.min(t,Math.floor(mR(e.domain())/n||1)))),ut(t)&&(r=t.step,t=t.interval),at(t)&&(t=e.type===gb?cC(t):e.type==mb?uC(t):De("Only time and utc scales accept interval strings."),r&&(t=t.every(r))),t}function VBe(e,t,n){let r=e.range(),i=r[0],o=In(r),s=bKt;if(i>o&&(r=o,o=i,i=r,s=OKt),i=Math.floor(i),o=Math.ceil(o),t=t.map(a=>[a,e(a)]).filter(a=>i<=a[1]&&a[1]<=o).sort(s).map(a=>a[0]),n>0&&t.length>1){const a=[t[0],In(t)];for(;t.length>n&&t.length>=3;)t=t.filter((l,c)=>!(c%2));t.length<3&&(t=a)}return t}function Eae(e,t){return e.bins?VBe(e,e.bins):e.ticks?e.ticks(t):e.domain()}function UBe(e,t,n,r,i,o){const s=t.type;let a=vKt;if(s===gb||i===gb)a=e.timeFormat(r);else if(s===mb||i===mb)a=e.utcFormat(r);else if(IBe(s)){const l=e.formatFloat(r);if(o||t.bins)a=l;else{const c=qBe(t,n,!1);a=u=>c(u)?l(u):""}}else if(t.tickFormat){const l=t.domain();a=e.formatSpan(l[0],l[l.length-1],n,r)}else r&&(a=e.format(r));return a}function qBe(e,t,n){const r=Eae(e,t),i=e.base(),o=Math.log(i),s=Math.max(1,i*t/r.length),a=l=>{let c=l/Math.pow(i,Math.round(Math.log(l)/o));return c*i<i-.5&&(c*=i),c<=s};return n?r.filter(a):a}const rZ={[IS]:"quantiles",[p8]:"thresholds",[g8]:"domain"},YBe={[IS]:"quantiles",[p8]:"domain"};function XBe(e,t){return e.bins?SKt(e.bins):e.type===bg?qBe(e,t,!0):rZ[e.type]?wKt(e[rZ[e.type]]()):Eae(e,t)}function xKt(e,t,n){const r=t[YBe[t.type]](),i=r.length;let o=i>1?r[1]-r[0]:r[0],s;for(s=1;s<i;++s)o=Math.min(o,r[s]-r[s-1]);return e.formatSpan(0,o,3*10,n)}function wKt(e){const t=[-1/0].concat(e);return t.max=1/0,t}function SKt(e){const t=e.slice(0,-1);return t.max=In(e),t}const _Kt=e=>rZ[e.type]||e.bins;function HBe(e,t,n,r,i,o,s){const a=YBe[t.type]&&o!==gb&&o!==mb?xKt(e,t,i):UBe(e,t,n,i,o,s);return r===gI&&_Kt(t)?CKt(a):r===mKt?$Kt(a):EKt(a)}const CKt=e=>(t,n,r)=>{const i=bOe(r[n+1],bOe(r.max,1/0)),o=OOe(t,e),s=OOe(i,e);return o&&s?o+"  "+s:s?"< "+s:" "+o},bOe=(e,t)=>e??t,$Kt=e=>(t,n)=>n?e(t):null,EKt=e=>t=>e(t),OOe=(e,t)=>Number.isFinite(e)?t(e):null;function kKt(e){const t=e.domain(),n=t.length-1;let r=+t[0],i=+In(t),o=i-r;if(e.type===g8){const s=n?o/n:.1;r-=s,i+=s,o=i-r}return s=>(s-r)/o}function TKt(e,t,n,r){const i=r||t.type;return at(n)&&fKt(i)&&(n=n.replace(/%a/g,"%A").replace(/%b/g,"%B")),!n&&i===gb?e.timeFormat("%A, %d %B %Y, %X"):!n&&i===mb?e.utcFormat("%A, %d %B %Y, %X UTC"):HBe(e,t,5,null,n,r,!0)}function ZBe(e,t,n){n=n||{};const r=Math.max(3,n.maxlen||7),i=TKt(e,t,n.format,n.formatType);if(nZ(t.type)){const o=XBe(t).slice(1).map(i),s=o.length;return`${s} boundar${s===1?"y":"ies"}: ${o.join(", ")}`}else if(LS(t.type)){const o=t.domain(),s=o.length,a=s>r?o.slice(0,r-2).map(i).join(", ")+", ending with "+o.slice(-1).map(i):o.map(i).join(", ");return`${s} value${s===1?"":"s"}: ${a}`}else{const o=t.domain();return`values from ${i(o[0])} to ${i(In(o))}`}}let GBe=0;function PKt(){GBe=0}const ML="p_";function kae(e){return e&&e.gradient}function KBe(e,t,n){const r=e.gradient;let i=e.id,o=r==="radial"?ML:"";return i||(i=e.id="gradient_"+GBe++,r==="radial"?(e.x1=Td(e.x1,.5),e.y1=Td(e.y1,.5),e.r1=Td(e.r1,0),e.x2=Td(e.x2,.5),e.y2=Td(e.y2,.5),e.r2=Td(e.r2,.5),o=ML):(e.x1=Td(e.x1,0),e.y1=Td(e.y1,0),e.x2=Td(e.x2,1),e.y2=Td(e.y2,0))),t[i]=e,"url("+(n||"")+"#"+o+i+")"}function Td(e,t){return e??t}function JBe(e,t){var n=[],r;return r={gradient:"linear",x1:e?e[0]:0,y1:e?e[1]:0,x2:t?t[0]:1,y2:t?t[1]:0,stops:n,stop:function(i,o){return n.push({offset:i,color:o}),r}}}const xOe={basis:{curve:jZt},"basis-closed":{curve:FZt},"basis-open":{curve:zZt},bundle:{curve:QZt,tension:"beta",value:.85},cardinal:{curve:BZt,tension:"tension",value:0},"cardinal-open":{curve:VZt,tension:"tension",value:0},"cardinal-closed":{curve:WZt,tension:"tension",value:0},"catmull-rom":{curve:UZt,tension:"alpha",value:.5},"catmull-rom-closed":{curve:qZt,tension:"alpha",value:.5},"catmull-rom-open":{curve:YZt,tension:"alpha",value:.5},linear:{curve:Kse},"linear-closed":{curve:XZt},monotone:{horizontal:ZZt,vertical:HZt},natural:{curve:GZt},step:{curve:KZt},"step-after":{curve:eGt},"step-before":{curve:JZt}};function Tae(e,t,n){var r=Rt(xOe,e)&&xOe[e],i=null;return r&&(i=r.curve||r[t||"vertical"],r.tension&&n!=null&&(i=i[r.tension](n))),i}const RKt={m:2,l:2,h:1,v:1,z:0,c:6,s:4,q:4,t:2,a:7},AKt=/[mlhvzcsqta]([^mlhvzcsqta]+|$)/gi,DKt=/^[+-]?(([0-9]*\.[0-9]+)|([0-9]+\.)|([0-9]+))([eE][+-]?[0-9]+)?/,NKt=/^((\s+,?\s*)|(,\s*))/,MKt=/^[01]/;function jS(e){const t=[];return(e.match(AKt)||[]).forEach(r=>{let i=r[0];const o=i.toLowerCase(),s=RKt[o],a=IKt(o,s,r.slice(1).trim()),l=a.length;if(l<s||l&&l%s!==0)throw Error("Invalid SVG path, incorrect parameter count");if(t.push([i,...a.slice(0,s)]),l!==s){o==="m"&&(i=i==="M"?"L":"l");for(let c=s;c<l;c+=s)t.push([i,...a.slice(c,c+s)])}}),t}function IKt(e,t,n){const r=[];for(let i=0;t&&i<n.length;)for(let o=0;o<t;++o){const s=e==="a"&&(o===3||o===4)?MKt:DKt,a=n.slice(i).match(s);if(a===null)throw Error("Invalid SVG path, incorrect parameter type");i+=a[0].length,r.push(+a[0]);const l=n.slice(i).match(NKt);l!==null&&(i+=l[0].length)}return r}const s0=Math.PI/180,LKt=1e-14,jv=Math.PI/2,Xd=Math.PI*2,qO=Math.sqrt(3)/2;var LW={},jW={},eWe=[].join;function jKt(e,t,n,r,i,o,s,a,l){const c=eWe.call(arguments);if(LW[c])return LW[c];const u=s*s0,f=Math.sin(u),d=Math.cos(u);n=Math.abs(n),r=Math.abs(r);const h=d*(a-e)*.5+f*(l-t)*.5,p=d*(l-t)*.5-f*(a-e)*.5;let g=h*h/(n*n)+p*p/(r*r);g>1&&(g=Math.sqrt(g),n*=g,r*=g);const y=d/n,v=f/n,x=-f/r,m=d/r,w=y*a+v*l,S=x*a+m*l,C=y*e+v*t,$=x*e+m*t;let R=1/((C-w)*(C-w)+($-S)*($-S))-.25;R<0&&(R=0);let N=Math.sqrt(R);o==i&&(N=-N);const I=.5*(w+C)-N*($-S),j=.5*(S+$)+N*(C-w),A=Math.atan2(S-j,w-I);let D=Math.atan2($-j,C-I)-A;D<0&&o===1?D+=Xd:D>0&&o===0&&(D-=Xd);const L=Math.ceil(Math.abs(D/(jv+.001))),W=[];for(let V=0;V<L;++V){const Q=A+V*D/L,B=A+(V+1)*D/L;W[V]=[I,j,Q,B,n,r,f,d]}return LW[c]=W}function FKt(e){const t=eWe.call(e);if(jW[t])return jW[t];var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7];const u=c*s,f=-l*a,d=l*s,h=c*a,p=Math.cos(i),g=Math.sin(i),y=Math.cos(o),v=Math.sin(o),x=.5*(o-i),m=Math.sin(x*.5),w=8/3*m*m/Math.sin(x),S=n+p-w*g,C=r+g+w*p,$=n+y,E=r+v,R=$+w*v,N=E-w*y;return jW[t]=[u*S+f*C,d*S+h*C,u*R+f*N,d*R+h*N,u*$+f*E,d*$+h*E]}const Hc=["l",0,0,0,0,0,0,0];function zKt(e,t,n){const r=Hc[0]=e[0];if(r==="a"||r==="A")Hc[1]=t*e[1],Hc[2]=n*e[2],Hc[3]=e[3],Hc[4]=e[4],Hc[5]=e[5],Hc[6]=t*e[6],Hc[7]=n*e[7];else if(r==="h"||r==="H")Hc[1]=t*e[1];else if(r==="v"||r==="V")Hc[1]=n*e[1];else for(var i=1,o=e.length;i<o;++i)Hc[i]=(i%2==1?t:n)*e[i];return Hc}function z2(e,t,n,r,i,o){var s,a=null,l=0,c=0,u=0,f=0,d,h,p,g,y=0,v=0;n==null&&(n=0),r==null&&(r=0),i==null&&(i=1),o==null&&(o=i),e.beginPath&&e.beginPath();for(var x=0,m=t.length;x<m;++x){switch(s=t[x],(i!==1||o!==1)&&(s=zKt(s,i,o)),s[0]){case"l":l+=s[1],c+=s[2],e.lineTo(l+n,c+r);break;case"L":l=s[1],c=s[2],e.lineTo(l+n,c+r);break;case"h":l+=s[1],e.lineTo(l+n,c+r);break;case"H":l=s[1],e.lineTo(l+n,c+r);break;case"v":c+=s[1],e.lineTo(l+n,c+r);break;case"V":c=s[1],e.lineTo(l+n,c+r);break;case"m":l+=s[1],c+=s[2],y=l,v=c,e.moveTo(l+n,c+r);break;case"M":l=s[1],c=s[2],y=l,v=c,e.moveTo(l+n,c+r);break;case"c":d=l+s[5],h=c+s[6],u=l+s[3],f=c+s[4],e.bezierCurveTo(l+s[1]+n,c+s[2]+r,u+n,f+r,d+n,h+r),l=d,c=h;break;case"C":l=s[5],c=s[6],u=s[3],f=s[4],e.bezierCurveTo(s[1]+n,s[2]+r,u+n,f+r,l+n,c+r);break;case"s":d=l+s[3],h=c+s[4],u=2*l-u,f=2*c-f,e.bezierCurveTo(u+n,f+r,l+s[1]+n,c+s[2]+r,d+n,h+r),u=l+s[1],f=c+s[2],l=d,c=h;break;case"S":d=s[3],h=s[4],u=2*l-u,f=2*c-f,e.bezierCurveTo(u+n,f+r,s[1]+n,s[2]+r,d+n,h+r),l=d,c=h,u=s[1],f=s[2];break;case"q":d=l+s[3],h=c+s[4],u=l+s[1],f=c+s[2],e.quadraticCurveTo(u+n,f+r,d+n,h+r),l=d,c=h;break;case"Q":d=s[3],h=s[4],e.quadraticCurveTo(s[1]+n,s[2]+r,d+n,h+r),l=d,c=h,u=s[1],f=s[2];break;case"t":d=l+s[1],h=c+s[2],a[0].match(/[QqTt]/)===null?(u=l,f=c):a[0]==="t"?(u=2*l-p,f=2*c-g):a[0]==="q"&&(u=2*l-u,f=2*c-f),p=u,g=f,e.quadraticCurveTo(u+n,f+r,d+n,h+r),l=d,c=h,u=l+s[1],f=c+s[2];break;case"T":d=s[1],h=s[2],u=2*l-u,f=2*c-f,e.quadraticCurveTo(u+n,f+r,d+n,h+r),l=d,c=h;break;case"a":wOe(e,l+n,c+r,[s[1],s[2],s[3],s[4],s[5],s[6]+l+n,s[7]+c+r]),l+=s[6],c+=s[7];break;case"A":wOe(e,l+n,c+r,[s[1],s[2],s[3],s[4],s[5],s[6]+n,s[7]+r]),l=s[6],c=s[7];break;case"z":case"Z":l=y,c=v,e.closePath();break}a=s}}function wOe(e,t,n,r){const i=jKt(r[5],r[6],r[0],r[1],r[3],r[4],r[2],t,n);for(let o=0;o<i.length;++o){const s=FKt(i[o]);e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5])}}const SOe=.5773502691896257,_Oe={circle:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(n,0),e.arc(0,0,n,0,Xd)}},cross:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/2.5;e.moveTo(-n,-r),e.lineTo(-n,r),e.lineTo(-r,r),e.lineTo(-r,n),e.lineTo(r,n),e.lineTo(r,r),e.lineTo(n,r),e.lineTo(n,-r),e.lineTo(r,-r),e.lineTo(r,-n),e.lineTo(-r,-n),e.lineTo(-r,-r),e.closePath()}},diamond:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.closePath()}},square:{draw:function(e,t){var n=Math.sqrt(t),r=-n/2;e.rect(r,r,n,n)}},arrow:{draw:function(e,t){var n=Math.sqrt(t)/2,r=n/7,i=n/2.5,o=n/8;e.moveTo(-r,n),e.lineTo(r,n),e.lineTo(r,-o),e.lineTo(i,-o),e.lineTo(0,-n),e.lineTo(-i,-o),e.lineTo(-r,-o),e.closePath()}},wedge:{draw:function(e,t){var n=Math.sqrt(t)/2,r=qO*n,i=r-n*SOe,o=n/4;e.moveTo(0,-r-i),e.lineTo(-o,r-i),e.lineTo(o,r-i),e.closePath()}},triangle:{draw:function(e,t){var n=Math.sqrt(t)/2,r=qO*n,i=r-n*SOe;e.moveTo(0,-r-i),e.lineTo(-n,r-i),e.lineTo(n,r-i),e.closePath()}},"triangle-up":{draw:function(e,t){var n=Math.sqrt(t)/2,r=qO*n;e.moveTo(0,-r),e.lineTo(-n,r),e.lineTo(n,r),e.closePath()}},"triangle-down":{draw:function(e,t){var n=Math.sqrt(t)/2,r=qO*n;e.moveTo(0,r),e.lineTo(-n,-r),e.lineTo(n,-r),e.closePath()}},"triangle-right":{draw:function(e,t){var n=Math.sqrt(t)/2,r=qO*n;e.moveTo(r,0),e.lineTo(-r,-n),e.lineTo(-r,n),e.closePath()}},"triangle-left":{draw:function(e,t){var n=Math.sqrt(t)/2,r=qO*n;e.moveTo(-r,0),e.lineTo(r,-n),e.lineTo(r,n),e.closePath()}},stroke:{draw:function(e,t){const n=Math.sqrt(t)/2;e.moveTo(-n,0),e.lineTo(n,0)}}};function tWe(e){return Rt(_Oe,e)?_Oe[e]:QKt(e)}var FW={};function QKt(e){if(!Rt(FW,e)){const t=jS(e);FW[e]={draw:function(n,r){z2(n,t,0,0,Math.sqrt(r)/2)}}}return FW[e]}const nm=.448084975506;function BKt(e){return e.x}function WKt(e){return e.y}function VKt(e){return e.width}function UKt(e){return e.height}function fp(e){return typeof e=="function"?e:()=>+e}function yN(e,t,n){return Math.max(t,Math.min(e,n))}function nWe(){var e=BKt,t=WKt,n=VKt,r=UKt,i=fp(0),o=i,s=i,a=i,l=null;function c(u,f,d){var h,p=f??+e.call(this,u),g=d??+t.call(this,u),y=+n.call(this,u),v=+r.call(this,u),x=Math.min(y,v)/2,m=yN(+i.call(this,u),0,x),w=yN(+o.call(this,u),0,x),S=yN(+s.call(this,u),0,x),C=yN(+a.call(this,u),0,x);if(l||(l=h=r8()),m<=0&&w<=0&&S<=0&&C<=0)l.rect(p,g,y,v);else{var $=p+y,E=g+v;l.moveTo(p+m,g),l.lineTo($-w,g),l.bezierCurveTo($-nm*w,g,$,g+nm*w,$,g+w),l.lineTo($,E-C),l.bezierCurveTo($,E-nm*C,$-nm*C,E,$-C,E),l.lineTo(p+S,E),l.bezierCurveTo(p+nm*S,E,p,E-nm*S,p,E-S),l.lineTo(p,g+m),l.bezierCurveTo(p,g+nm*m,p+nm*m,g,p+m,g),l.closePath()}if(h)return l=null,h+""||null}return c.x=function(u){return arguments.length?(e=fp(u),c):e},c.y=function(u){return arguments.length?(t=fp(u),c):t},c.width=function(u){return arguments.length?(n=fp(u),c):n},c.height=function(u){return arguments.length?(r=fp(u),c):r},c.cornerRadius=function(u,f,d,h){return arguments.length?(i=fp(u),o=f!=null?fp(f):i,a=d!=null?fp(d):i,s=h!=null?fp(h):o,c):i},c.context=function(u){return arguments.length?(l=u??null,c):l},c}function rWe(){var e,t,n,r,i=null,o,s,a,l;function c(f,d,h){const p=h/2;if(o){var g=a-d,y=f-s;if(g||y){var v=Math.sqrt(g*g+y*y),x=(g/=v)*l,m=(y/=v)*l,w=Math.atan2(y,g);i.moveTo(s-x,a-m),i.lineTo(f-g*p,d-y*p),i.arc(f,d,p,w-Math.PI,w),i.lineTo(s+x,a+m),i.arc(s,a,l,w,w+Math.PI)}else i.arc(f,d,p,0,Xd);i.closePath()}else o=1;s=f,a=d,l=p}function u(f){var d,h=f.length,p,g=!1,y;for(i==null&&(i=y=r8()),d=0;d<=h;++d)!(d<h&&r(p=f[d],d,f))===g&&(g=!g)&&(o=0),g&&c(+e(p,d,f),+t(p,d,f),+n(p,d,f));if(y)return i=null,y+""||null}return u.x=function(f){return arguments.length?(e=f,u):e},u.y=function(f){return arguments.length?(t=f,u):t},u.size=function(f){return arguments.length?(n=f,u):n},u.defined=function(f){return arguments.length?(r=f,u):r},u.context=function(f){return arguments.length?(f==null?i=null:i=f,u):i},u}function BR(e,t){return e??t}const WR=e=>e.x||0,VR=e=>e.y||0,qKt=e=>e.width||0,YKt=e=>e.height||0,XKt=e=>(e.x||0)+(e.width||0),HKt=e=>(e.y||0)+(e.height||0),ZKt=e=>e.startAngle||0,GKt=e=>e.endAngle||0,KKt=e=>e.padAngle||0,JKt=e=>e.innerRadius||0,eJt=e=>e.outerRadius||0,tJt=e=>e.cornerRadius||0,nJt=e=>BR(e.cornerRadiusTopLeft,e.cornerRadius)||0,rJt=e=>BR(e.cornerRadiusTopRight,e.cornerRadius)||0,iJt=e=>BR(e.cornerRadiusBottomRight,e.cornerRadius)||0,oJt=e=>BR(e.cornerRadiusBottomLeft,e.cornerRadius)||0,sJt=e=>BR(e.size,64),aJt=e=>e.size||1,y8=e=>e.defined!==!1,lJt=e=>tWe(e.shape||"circle"),cJt=MZt().startAngle(ZKt).endAngle(GKt).padAngle(KKt).innerRadius(JKt).outerRadius(eJt).cornerRadius(tJt),uJt=PQe().x(WR).y1(VR).y0(HKt).defined(y8),fJt=PQe().y(VR).x1(WR).x0(XKt).defined(y8),dJt=TQe().x(WR).y(VR).defined(y8),hJt=nWe().x(WR).y(VR).width(qKt).height(YKt).cornerRadius(nJt,rJt,iJt,oJt),pJt=LZt().type(lJt).size(sJt),gJt=rWe().x(WR).y(VR).defined(y8).size(aJt);function Pae(e){return e.cornerRadius||e.cornerRadiusTopLeft||e.cornerRadiusTopRight||e.cornerRadiusBottomRight||e.cornerRadiusBottomLeft}function mJt(e,t){return cJt.context(e)(t)}function yJt(e,t){const n=t[0],r=n.interpolate||"linear";return(n.orient==="horizontal"?fJt:uJt).curve(Tae(r,n.orient,n.tension)).context(e)(t)}function vJt(e,t){const n=t[0],r=n.interpolate||"linear";return dJt.curve(Tae(r,n.orient,n.tension)).context(e)(t)}function SC(e,t,n,r){return hJt.context(e)(t,n,r)}function bJt(e,t){return(t.mark.shape||t.shape).context(e)(t)}function OJt(e,t){return pJt.context(e)(t)}function xJt(e,t){return gJt.context(e)(t)}var iWe=1;function oWe(){iWe=1}function Rae(e,t,n){var r=t.clip,i=e._defs,o=t.clip_id||(t.clip_id="clip"+iWe++),s=i.clipping[o]||(i.clipping[o]={id:o});return cn(r)?s.path=r(null):Pae(n)?s.path=SC(null,n,0,0):(s.width=n.width||0,s.height=n.height||0),"url(#"+o+")"}function bo(e){this.clear(),e&&this.union(e)}bo.prototype={clone(){return new bo(this)},clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this},empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE},equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2},set(e,t,n,r){return n<e?(this.x2=e,this.x1=n):(this.x1=e,this.x2=n),r<t?(this.y2=t,this.y1=r):(this.y1=t,this.y2=r),this},add(e,t){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this},expand(e){return this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e,this},round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this},scale(e){return this.x1*=e,this.y1*=e,this.x2*=e,this.y2*=e,this},translate(e,t){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this},rotate(e,t,n){const r=this.rotatedPoints(e,t,n);return this.clear().add(r[0],r[1]).add(r[2],r[3]).add(r[4],r[5]).add(r[6],r[7])},rotatedPoints(e,t,n){var{x1:r,y1:i,x2:o,y2:s}=this,a=Math.cos(e),l=Math.sin(e),c=t-t*a+n*l,u=n-t*l-n*a;return[a*r-l*i+c,l*r+a*i+u,a*r-l*s+c,l*r+a*s+u,a*o-l*i+c,l*o+a*i+u,a*o-l*s+c,l*o+a*s+u]},union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this},intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this},encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2},alignsWith(e){return e&&(this.x1==e.x1||this.x2==e.x2||this.y1==e.y1||this.y2==e.y2)},intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)},contains(e,t){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)},width(){return this.x2-this.x1},height(){return this.y2-this.y1}};function v8(e){this.mark=e,this.bounds=this.bounds||new bo}function b8(e){v8.call(this,e),this.items=this.items||[]}Ke(b8,v8);function Aae(e){this._pending=0,this._loader=e||bR()}function COe(e){e._pending+=1}function $$(e){e._pending-=1}Aae.prototype={pending(){return this._pending},sanitizeURL(e){const t=this;return COe(t),t._loader.sanitize(e,{context:"href"}).then(n=>($$(t),n)).catch(()=>($$(t),null))},loadImage(e){const t=this,n=tGt();return COe(t),t._loader.sanitize(e,{context:"image"}).then(r=>{const i=r.href;if(!i||!n)throw{url:i};const o=new n,s=Rt(r,"crossOrigin")?r.crossOrigin:"anonymous";return s!=null&&(o.crossOrigin=s),o.onload=()=>$$(t),o.onerror=()=>$$(t),o.src=i,o}).catch(r=>($$(t),{complete:!1,width:0,height:0,src:r&&r.url||""}))},ready(){const e=this;return new Promise(t=>{function n(r){e.pending()?setTimeout(()=>{n(!0)},10):t(r)}n(!1)})}};function Ig(e,t,n){if(t.stroke&&t.opacity!==0&&t.strokeOpacity!==0){const r=t.strokeWidth!=null?+t.strokeWidth:1;e.expand(r+(n?wJt(t,r):0))}return e}function wJt(e,t){return e.strokeJoin&&e.strokeJoin!=="miter"?0:t}const SJt=Xd-1e-8;let O8,mI,yI,t1,iZ,vI,oZ,sZ;const Xm=(e,t)=>O8.add(e,t),bI=(e,t)=>Xm(mI=e,yI=t),$Oe=e=>Xm(e,O8.y1),EOe=e=>Xm(O8.x1,e),Fv=(e,t)=>iZ*e+oZ*t,zv=(e,t)=>vI*e+sZ*t,zW=(e,t)=>Xm(Fv(e,t),zv(e,t)),QW=(e,t)=>bI(Fv(e,t),zv(e,t));function UR(e,t){return O8=e,t?(t1=t*s0,iZ=sZ=Math.cos(t1),vI=Math.sin(t1),oZ=-vI):(iZ=sZ=1,t1=vI=oZ=0),_Jt}const _Jt={beginPath(){},closePath(){},moveTo:QW,lineTo:QW,rect(e,t,n,r){t1?(zW(e+n,t),zW(e+n,t+r),zW(e,t+r),QW(e,t)):(Xm(e+n,t+r),bI(e,t))},quadraticCurveTo(e,t,n,r){const i=Fv(e,t),o=zv(e,t),s=Fv(n,r),a=zv(n,r);kOe(mI,i,s,$Oe),kOe(yI,o,a,EOe),bI(s,a)},bezierCurveTo(e,t,n,r,i,o){const s=Fv(e,t),a=zv(e,t),l=Fv(n,r),c=zv(n,r),u=Fv(i,o),f=zv(i,o);TOe(mI,s,l,u,$Oe),TOe(yI,a,c,f,EOe),bI(u,f)},arc(e,t,n,r,i,o){if(r+=t1,i+=t1,mI=n*Math.cos(i)+e,yI=n*Math.sin(i)+t,Math.abs(i-r)>SJt)Xm(e-n,t-n),Xm(e+n,t+n);else{const s=c=>Xm(n*Math.cos(c)+e,n*Math.sin(c)+t);let a,l;if(s(r),s(i),i!==r)if(r=r%Xd,r<0&&(r+=Xd),i=i%Xd,i<0&&(i+=Xd),i<r&&(o=!o,a=r,r=i,i=a),o)for(i-=Xd,a=r-r%jv,l=0;l<4&&a>i;++l,a-=jv)s(a);else for(a=r-r%jv+jv,l=0;l<4&&a<i;++l,a=a+jv)s(a)}}};function kOe(e,t,n,r){const i=(e-t)/(e+n-2*t);0<i&&i<1&&r(e+(t-e)*i)}function TOe(e,t,n,r,i){const o=r-e+3*t-3*n,s=e+n-2*t,a=e-t;let l=0,c=0,u;Math.abs(o)>LKt?(u=s*s+a*o,u>=0&&(u=Math.sqrt(u),l=(-s+u)/o,c=(-s-u)/o)):l=.5*a/s,0<l&&l<1&&i(POe(l,e,t,n,r)),0<c&&c<1&&i(POe(c,e,t,n,r))}function POe(e,t,n,r,i){const o=1-e,s=o*o,a=e*e;return s*o*t+3*s*e*n+3*o*a*r+a*e*i}var Cy=(Cy=_y(1,1))?Cy.getContext("2d"):null;const aZ=new bo;function Dae(e){return function(t,n){if(!Cy)return!0;e(Cy,t),aZ.clear().union(t.bounds).intersect(n).round();const{x1:r,y1:i,x2:o,y2:s}=aZ;for(let a=i;a<=s;++a)for(let l=r;l<=o;++l)if(Cy.isPointInPath(l,a))return!0;return!1}}function Nae(e,t){return t.contains(e.x||0,e.y||0)}function sWe(e,t){const n=e.x||0,r=e.y||0,i=e.width||0,o=e.height||0;return t.intersects(aZ.set(n,r,n+i,r+o))}function aWe(e,t){const n=e.x||0,r=e.y||0,i=e.x2!=null?e.x2:n,o=e.y2!=null?e.y2:r;return Gx(t,n,r,i,o)}function Gx(e,t,n,r,i){const{x1:o,y1:s,x2:a,y2:l}=e,c=r-t,u=i-n;let f=0,d=1,h,p,g,y;for(y=0;y<4;++y){if(y===0&&(h=-c,p=-(o-t)),y===1&&(h=c,p=a-t),y===2&&(h=-u,p=-(s-n)),y===3&&(h=u,p=l-n),Math.abs(h)<1e-10&&p<0)return!1;if(g=p/h,h<0){if(g>d)return!1;g>f&&(f=g)}else if(h>0){if(g<f)return!1;g<d&&(d=g)}}return!0}function FS(e,t){e.globalCompositeOperation=t.blend||"source-over"}function sf(e,t){return e??t}function ROe(e,t){const n=t.length;for(let r=0;r<n;++r)e.addColorStop(t[r].offset,t[r].color);return e}function CJt(e,t,n){const r=n.width(),i=n.height();let o;if(t.gradient==="radial")o=e.createRadialGradient(n.x1+sf(t.x1,.5)*r,n.y1+sf(t.y1,.5)*i,Math.max(r,i)*sf(t.r1,0),n.x1+sf(t.x2,.5)*r,n.y1+sf(t.y2,.5)*i,Math.max(r,i)*sf(t.r2,.5));else{const s=sf(t.x1,0),a=sf(t.y1,0),l=sf(t.x2,1),c=sf(t.y2,0);if(s===l||a===c||r===i)o=e.createLinearGradient(n.x1+s*r,n.y1+a*i,n.x1+l*r,n.y1+c*i);else{const u=_y(Math.ceil(r),Math.ceil(i)),f=u.getContext("2d");return f.scale(r,i),f.fillStyle=ROe(f.createLinearGradient(s,a,l,c),t.stops),f.fillRect(0,0,r,i),e.createPattern(u,"no-repeat")}}return ROe(o,t.stops)}function lWe(e,t,n){return kae(n)?CJt(e,n,t.bounds):n}function IL(e,t,n){return n*=t.fillOpacity==null?1:t.fillOpacity,n>0?(e.globalAlpha=n,e.fillStyle=lWe(e,t,t.fill),!0):!1}var $Jt=[];function zS(e,t,n){var r=(r=t.strokeWidth)!=null?r:1;return r<=0?!1:(n*=t.strokeOpacity==null?1:t.strokeOpacity,n>0?(e.globalAlpha=n,e.strokeStyle=lWe(e,t,t.stroke),e.lineWidth=r,e.lineCap=t.strokeCap||"butt",e.lineJoin=t.strokeJoin||"miter",e.miterLimit=t.strokeMiterLimit||10,e.setLineDash&&(e.setLineDash(t.strokeDash||$Jt),e.lineDashOffset=t.strokeDashOffset||0),!0):!1)}function EJt(e,t){return e.zindex-t.zindex||e.index-t.index}function Mae(e){if(!e.zdirty)return e.zitems;var t=e.items,n=[],r,i,o;for(i=0,o=t.length;i<o;++i)r=t[i],r.index=i,r.zindex&&n.push(r);return e.zdirty=!1,e.zitems=n.sort(EJt)}function od(e,t){var n=e.items,r,i;if(!n||!n.length)return;const o=Mae(e);if(o&&o.length){for(r=0,i=n.length;r<i;++r)n[r].zindex||t(n[r]);n=o}for(r=0,i=n.length;r<i;++r)t(n[r])}function LL(e,t){var n=e.items,r,i;if(!n||!n.length)return null;const o=Mae(e);for(o&&o.length&&(n=o),i=n.length;--i>=0;)if(r=t(n[i]))return r;if(n===o){for(n=e.items,i=n.length;--i>=0;)if(!n[i].zindex&&(r=t(n[i])))return r}return null}function Iae(e){return function(t,n,r){od(n,i=>{(!r||r.intersects(i.bounds))&&cWe(e,t,i,i)})}}function kJt(e){return function(t,n,r){n.items.length&&(!r||r.intersects(n.bounds))&&cWe(e,t,n.items[0],n.items)}}function cWe(e,t,n,r){var i=n.opacity==null?1:n.opacity;i!==0&&(e(t,r)||(FS(t,n),n.fill&&IL(t,n,i)&&t.fill(),n.stroke&&zS(t,n,i)&&t.stroke()))}function x8(e){return e=e||Lu,function(t,n,r,i,o,s){return r*=t.pixelRatio,i*=t.pixelRatio,LL(n,a=>{const l=a.bounds;if(!(l&&!l.contains(o,s)||!l)&&e(t,a,r,i,o,s))return a})}}function qR(e,t){return function(n,r,i,o){var s=Array.isArray(r)?r[0]:r,a=t??s.fill,l=s.stroke&&n.isPointInStroke,c,u;return l&&(c=s.strokeWidth,u=s.strokeCap,n.lineWidth=c??1,n.lineCap=u??"butt"),e(n,r)?!1:a&&n.isPointInPath(i,o)||l&&n.isPointInStroke(i,o)}}function Lae(e){return x8(qR(e))}function x1(e,t){return"translate("+e+","+t+")"}function jae(e){return"rotate("+e+")"}function TJt(e,t){return"scale("+e+","+t+")"}function uWe(e){return x1(e.x||0,e.y||0)}function PJt(e){return x1(e.x||0,e.y||0)+(e.angle?" "+jae(e.angle):"")}function RJt(e){return x1(e.x||0,e.y||0)+(e.angle?" "+jae(e.angle):"")+(e.scaleX||e.scaleY?" "+TJt(e.scaleX||1,e.scaleY||1):"")}function Fae(e,t,n){function r(s,a){s("transform",PJt(a)),s("d",t(null,a))}function i(s,a){return t(UR(s,a.angle),a),Ig(s,a).translate(a.x||0,a.y||0)}function o(s,a){var l=a.x||0,c=a.y||0,u=a.angle||0;s.translate(l,c),u&&s.rotate(u*=s0),s.beginPath(),t(s,a),u&&s.rotate(-u),s.translate(-l,-c)}return{type:e,tag:"path",nested:!1,attr:r,bound:i,draw:Iae(o),pick:Lae(o),isect:n||Dae(o)}}var AJt=Fae("arc",mJt);function DJt(e,t){for(var n=e[0].orient==="horizontal"?t[1]:t[0],r=e[0].orient==="horizontal"?"y":"x",i=e.length,o=1/0,s,a;--i>=0;)e[i].defined!==!1&&(a=Math.abs(e[i][r]-n),a<o&&(o=a,s=e[i]));return s}function NJt(e,t){for(var n=Math.pow(e[0].strokeWidth||1,2),r=e.length,i,o,s;--r>=0;)if(e[r].defined!==!1&&(i=e[r].x-t[0],o=e[r].y-t[1],s=i*i+o*o,s<n))return e[r];return null}function MJt(e,t){for(var n=e.length,r,i,o;--n>=0;)if(e[n].defined!==!1&&(r=e[n].x-t[0],i=e[n].y-t[1],o=r*r+i*i,r=e[n].size||1,o<r*r))return e[n];return null}function zae(e,t,n){function r(l,c){var u=c.mark.items;u.length&&l("d",t(null,u))}function i(l,c){var u=c.items;return u.length===0?l:(t(UR(l),u),Ig(l,u[0]))}function o(l,c){l.beginPath(),t(l,c)}const s=qR(o);function a(l,c,u,f,d,h){var p=c.items,g=c.bounds;return!p||!p.length||g&&!g.contains(d,h)?null:(u*=l.pixelRatio,f*=l.pixelRatio,s(l,p,u,f)?p[0]:null)}return{type:e,tag:"path",nested:!0,attr:r,bound:i,draw:kJt(o),pick:a,isect:Nae,tip:n}}var IJt=zae("area",yJt,DJt);function LJt(e,t){var n=t.clip;e.save(),cn(n)?(e.beginPath(),n(e),e.clip()):fWe(e,t.group)}function fWe(e,t){e.beginPath(),Pae(t)?SC(e,t,0,0):e.rect(0,0,t.width||0,t.height||0),e.clip()}function dWe(e){const t=sf(e.strokeWidth,1);return e.strokeOffset!=null?e.strokeOffset:e.stroke&&t>.5&&t<1.5?.5-Math.abs(t-1):0}function jJt(e,t){e("transform",uWe(t))}function hWe(e,t){const n=dWe(t);e("d",SC(null,t,n,n))}function FJt(e,t){e("class","background"),e("aria-hidden",!0),hWe(e,t)}function zJt(e,t){e("class","foreground"),e("aria-hidden",!0),t.strokeForeground?hWe(e,t):e("d","")}function QJt(e,t,n){const r=t.clip?Rae(n,t,t):null;e("clip-path",r)}function BJt(e,t){if(!t.clip&&t.items){const n=t.items,r=n.length;for(let i=0;i<r;++i)e.union(n[i].bounds)}return(t.clip||t.width||t.height)&&!t.noBound&&e.add(0,0).add(t.width||0,t.height||0),Ig(e,t),e.translate(t.x||0,t.y||0)}function Q2(e,t,n,r){const i=dWe(t);e.beginPath(),SC(e,t,(n||0)+i,(r||0)+i)}const WJt=qR(Q2),VJt=qR(Q2,!1),UJt=qR(Q2,!0);function qJt(e,t,n){od(t,r=>{const i=r.x||0,o=r.y||0,s=r.strokeForeground,a=r.opacity==null?1:r.opacity;(r.stroke||r.fill)&&a&&(Q2(e,r,i,o),FS(e,r),r.fill&&IL(e,r,a)&&e.fill(),r.stroke&&!s&&zS(e,r,a)&&e.stroke()),e.save(),e.translate(i,o),r.clip&&fWe(e,r),n&&n.translate(-i,-o),od(r,l=>{this.draw(e,l,n)}),n&&n.translate(i,o),e.restore(),s&&r.stroke&&a&&(Q2(e,r,i,o),FS(e,r),zS(e,r,a)&&e.stroke())})}function YJt(e,t,n,r,i,o){if(t.bounds&&!t.bounds.contains(i,o)||!t.items)return null;const s=n*e.pixelRatio,a=r*e.pixelRatio;return LL(t,l=>{let c,u,f;const d=l.bounds;if(d&&!d.contains(i,o))return;u=l.x||0,f=l.y||0;const h=u+(l.width||0),p=f+(l.height||0),g=l.clip;if(g&&(i<u||i>h||o<f||o>p))return;if(e.save(),e.translate(u,f),u=i-u,f=o-f,g&&Pae(l)&&!UJt(e,l,s,a))return e.restore(),null;const y=l.strokeForeground,v=t.interactive!==!1;return v&&y&&l.stroke&&VJt(e,l,s,a)?(e.restore(),l):(c=LL(l,x=>XJt(x,u,f)?this.pick(x,n,r,u,f):null),!c&&v&&(l.fill||!y&&l.stroke)&&WJt(e,l,s,a)&&(c=l),e.restore(),c||null)})}function XJt(e,t,n){return(e.interactive!==!1||e.marktype==="group")&&e.bounds&&e.bounds.contains(t,n)}var HJt={type:"group",tag:"g",nested:!1,attr:jJt,bound:BJt,draw:qJt,pick:YJt,isect:sWe,content:QJt,background:FJt,foreground:zJt},B2={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"};function Qae(e,t){var n=e.image;return(!n||e.url&&e.url!==n.url)&&(n={complete:!1,width:0,height:0},t.loadImage(e.url).then(r=>{e.image=r,e.image.url=e.url})),n}function Bae(e,t){return e.width!=null?e.width:!t||!t.width?0:e.aspect!==!1&&e.height?e.height*t.width/t.height:t.width}function Wae(e,t){return e.height!=null?e.height:!t||!t.height?0:e.aspect!==!1&&e.width?e.width*t.height/t.width:t.height}function w8(e,t){return e==="center"?t/2:e==="right"?t:0}function S8(e,t){return e==="middle"?t/2:e==="bottom"?t:0}function ZJt(e,t,n){const r=Qae(t,n),i=Bae(t,r),o=Wae(t,r),s=(t.x||0)-w8(t.align,i),a=(t.y||0)-S8(t.baseline,o),l=!r.src&&r.toDataURL?r.toDataURL():r.src||"";e("href",l,B2["xmlns:xlink"],"xlink:href"),e("transform",x1(s,a)),e("width",i),e("height",o),e("preserveAspectRatio",t.aspect===!1?"none":"xMidYMid")}function GJt(e,t){const n=t.image,r=Bae(t,n),i=Wae(t,n),o=(t.x||0)-w8(t.align,r),s=(t.y||0)-S8(t.baseline,i);return e.set(o,s,o+r,s+i)}function KJt(e,t,n){od(t,r=>{if(n&&!n.intersects(r.bounds))return;const i=Qae(r,this);let o=Bae(r,i),s=Wae(r,i);if(o===0||s===0)return;let a=(r.x||0)-w8(r.align,o),l=(r.y||0)-S8(r.baseline,s),c,u,f,d;r.aspect!==!1&&(u=i.width/i.height,f=r.width/r.height,u===u&&f===f&&u!==f&&(f<u?(d=o/u,l+=(s-d)/2,s=d):(d=s*u,a+=(o-d)/2,o=d))),(i.complete||i.toDataURL)&&(FS(e,r),e.globalAlpha=(c=r.opacity)!=null?c:1,e.imageSmoothingEnabled=r.smooth!==!1,e.drawImage(i,a,l,o,s))})}var JJt={type:"image",tag:"image",nested:!1,attr:ZJt,bound:GJt,draw:KJt,pick:x8(),isect:Lu,get:Qae,xOffset:w8,yOffset:S8},een=zae("line",vJt,NJt);function ten(e,t){var n=t.scaleX||1,r=t.scaleY||1;(n!==1||r!==1)&&e("vector-effect","non-scaling-stroke"),e("transform",RJt(t)),e("d",t.path)}function OI(e,t){var n=t.path;if(n==null)return!0;var r=t.x||0,i=t.y||0,o=t.scaleX||1,s=t.scaleY||1,a=(t.angle||0)*s0,l=t.pathCache;(!l||l.path!==n)&&((t.pathCache=l=jS(n)).path=n),a&&e.rotate&&e.translate?(e.translate(r,i),e.rotate(a),z2(e,l,0,0,o,s),e.rotate(-a),e.translate(-r,-i)):z2(e,l,r,i,o,s)}function nen(e,t){return OI(UR(e,t.angle),t)?e.set(0,0,0,0):Ig(e,t,!0)}var ren={type:"path",tag:"path",nested:!1,attr:ten,bound:nen,draw:Iae(OI),pick:Lae(OI),isect:Dae(OI)};function ien(e,t){e("d",SC(null,t))}function oen(e,t){var n,r;return Ig(e.set(n=t.x||0,r=t.y||0,n+t.width||0,r+t.height||0),t)}function AOe(e,t){e.beginPath(),SC(e,t)}var sen={type:"rect",tag:"path",nested:!1,attr:ien,bound:oen,draw:Iae(AOe),pick:Lae(AOe),isect:sWe};function aen(e,t){e("transform",uWe(t)),e("x2",t.x2!=null?t.x2-(t.x||0):0),e("y2",t.y2!=null?t.y2-(t.y||0):0)}function len(e,t){var n,r;return Ig(e.set(n=t.x||0,r=t.y||0,t.x2!=null?t.x2:n,t.y2!=null?t.y2:r),t)}function pWe(e,t,n){var r,i,o,s;return t.stroke&&zS(e,t,n)?(r=t.x||0,i=t.y||0,o=t.x2!=null?t.x2:r,s=t.y2!=null?t.y2:i,e.beginPath(),e.moveTo(r,i),e.lineTo(o,s),!0):!1}function cen(e,t,n){od(t,r=>{if(!(n&&!n.intersects(r.bounds))){var i=r.opacity==null?1:r.opacity;i&&pWe(e,r,i)&&(FS(e,r),e.stroke())}})}function uen(e,t,n,r){return e.isPointInStroke?pWe(e,t,1)&&e.isPointInStroke(n,r):!1}var fen={type:"rule",tag:"line",nested:!1,attr:aen,bound:len,draw:cen,pick:x8(uen),isect:aWe},den=Fae("shape",bJt),hen=Fae("symbol",OJt,Nae);const DOe=u4e();var zf={height:Xh,measureWidth:Vae,estimateWidth:lZ,width:lZ,canvas:gWe};gWe(!0);function gWe(e){zf.width=e&&Cy?Vae:lZ}function lZ(e,t){return mWe(l0(e,t),Xh(e))}function mWe(e,t){return~~(.8*e.length*t)}function Vae(e,t){return Xh(e)<=0||!(t=l0(e,t))?0:yWe(t,_8(e))}function yWe(e,t){const n=`(${t}) ${e}`;let r=DOe.get(n);return r===void 0&&(Cy.font=t,r=Cy.measureText(e).width,DOe.set(n,r)),r}function Xh(e){return e.fontSize!=null?+e.fontSize||0:11}function a0(e){return e.lineHeight!=null?e.lineHeight:Xh(e)+2}function pen(e){return Me(e)?e.length>1?e:e[0]:e}function YR(e){return pen(e.lineBreak&&e.text&&!Me(e.text)?e.text.split(e.lineBreak):e.text)}function Uae(e){const t=YR(e);return(Me(t)?t.length-1:0)*a0(e)}function l0(e,t){const n=t==null?"":(t+"").trim();return e.limit>0&&n.length?men(e,n):n}function gen(e){if(zf.width===Vae){const t=_8(e);return n=>yWe(n,t)}else{const t=Xh(e);return n=>mWe(n,t)}}function men(e,t){var n=+e.limit,r=gen(e);if(r(t)<n)return t;var i=e.ellipsis||"",o=e.dir==="rtl",s=0,a=t.length,l;if(n-=r(i),o){for(;s<a;)l=s+a>>>1,r(t.slice(l))>n?s=l+1:a=l;return i+t.slice(s)}else{for(;s<a;)l=1+(s+a>>>1),r(t.slice(0,l))<n?s=l:a=l-1;return t.slice(0,s)+i}}function XR(e,t){var n=e.font;return(t&&n?String(n).replace(/"/g,"'"):n)||"sans-serif"}function _8(e,t){return(e.fontStyle?e.fontStyle+" ":"")+(e.fontVariant?e.fontVariant+" ":"")+(e.fontWeight?e.fontWeight+" ":"")+Xh(e)+"px "+XR(e,t)}function qae(e){var t=e.baseline,n=Xh(e);return Math.round(t==="top"?.79*n:t==="middle"?.3*n:t==="bottom"?-.21*n:t==="line-top"?.29*n+.5*a0(e):t==="line-bottom"?.29*n-.5*a0(e):0)}const yen={left:"start",center:"middle",right:"end"},Dk=new bo;function C8(e){var t=e.x||0,n=e.y||0,r=e.radius||0,i;return r&&(i=(e.theta||0)-jv,t+=r*Math.cos(i),n+=r*Math.sin(i)),Dk.x1=t,Dk.y1=n,Dk}function ven(e,t){var n=t.dx||0,r=(t.dy||0)+qae(t),i=C8(t),o=i.x1,s=i.y1,a=t.angle||0,l;e("text-anchor",yen[t.align]||"start"),a?(l=x1(o,s)+" "+jae(a),(n||r)&&(l+=" "+x1(n,r))):l=x1(o+n,s+r),e("transform",l)}function Yae(e,t,n){var r=zf.height(t),i=t.align,o=C8(t),s=o.x1,a=o.y1,l=t.dx||0,c=(t.dy||0)+qae(t)-Math.round(.8*r),u=YR(t),f;if(Me(u)?(r+=a0(t)*(u.length-1),f=u.reduce((d,h)=>Math.max(d,zf.width(t,h)),0)):f=zf.width(t,u),i==="center"?l-=f/2:i==="right"&&(l-=f),e.set(l+=s,c+=a,l+f,c+r),t.angle&&!n)e.rotate(t.angle*s0,s,a);else if(n===2)return e.rotatedPoints(t.angle*s0,s,a);return e}function ben(e,t,n){od(t,r=>{var i=r.opacity==null?1:r.opacity,o,s,a,l,c,u,f;if(!(n&&!n.intersects(r.bounds)||i===0||r.fontSize<=0||r.text==null||r.text.length===0)){if(e.font=_8(r),e.textAlign=r.align||"left",o=C8(r),s=o.x1,a=o.y1,r.angle&&(e.save(),e.translate(s,a),e.rotate(r.angle*s0),s=a=0),s+=r.dx||0,a+=(r.dy||0)+qae(r),u=YR(r),FS(e,r),Me(u))for(c=a0(r),l=0;l<u.length;++l)f=l0(r,u[l]),r.fill&&IL(e,r,i)&&e.fillText(f,s,a),r.stroke&&zS(e,r,i)&&e.strokeText(f,s,a),a+=c;else f=l0(r,u),r.fill&&IL(e,r,i)&&e.fillText(f,s,a),r.stroke&&zS(e,r,i)&&e.strokeText(f,s,a);r.angle&&e.restore()}})}function Oen(e,t,n,r,i,o){if(t.fontSize<=0)return!1;if(!t.angle)return!0;var s=C8(t),a=s.x1,l=s.y1,c=Yae(Dk,t,1),u=-t.angle*s0,f=Math.cos(u),d=Math.sin(u),h=f*i-d*o+(a-f*a+d*l),p=d*i+f*o+(l-d*a-f*l);return c.contains(h,p)}function xen(e,t){const n=Yae(Dk,e,2);return Gx(t,n[0],n[1],n[2],n[3])||Gx(t,n[0],n[1],n[4],n[5])||Gx(t,n[4],n[5],n[6],n[7])||Gx(t,n[2],n[3],n[6],n[7])}var wen={type:"text",tag:"text",nested:!1,attr:ven,bound:Yae,draw:ben,pick:x8(Oen),isect:xen},Sen=zae("trail",xJt,MJt),zc={arc:AJt,area:IJt,group:HJt,image:JJt,line:een,path:ren,rect:sen,rule:fen,shape:den,symbol:hen,text:wen,trail:Sen};function cZ(e,t,n){var r=zc[e.mark.marktype],i=t||r.bound;return r.nested&&(e=e.mark),i(e.bounds||(e.bounds=new bo),e,n)}var NOe={mark:null};function vWe(e,t,n){var r=zc[e.marktype],i=r.bound,o=e.items,s=o&&o.length,a,l,c,u;if(r.nested)return s?c=o[0]:(NOe.mark=e,c=NOe),u=cZ(c,i,n),t=t&&t.union(u)||u,t;if(t=t||e.bounds&&e.bounds.clear()||new bo,s)for(a=0,l=o.length;a<l;++a)t.union(cZ(o[a],i,n));return e.bounds=t}const _en=["marktype","name","role","interactive","clip","items","zindex","x","y","width","height","align","baseline","fill","fillOpacity","opacity","blend","stroke","strokeOpacity","strokeWidth","strokeCap","strokeDash","strokeDashOffset","strokeForeground","strokeOffset","startAngle","endAngle","innerRadius","outerRadius","cornerRadius","padAngle","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight","interpolate","tension","orient","defined","url","aspect","smooth","path","scaleX","scaleY","x2","y2","size","shape","text","angle","theta","radius","dir","dx","dy","ellipsis","limit","lineBreak","lineHeight","font","fontSize","fontWeight","fontStyle","fontVariant","description","aria","ariaRole","ariaRoleDescription"];function bWe(e,t){return JSON.stringify(e,_en,t)}function OWe(e){const t=typeof e=="string"?JSON.parse(e):e;return xWe(t)}function xWe(e){var t=e.marktype,n=e.items,r,i,o;if(n)for(i=0,o=n.length;i<o;++i)r=t?"mark":"group",n[i][r]=e,n[i].zindex&&(n[i][r].zdirty=!0),(t||r)==="group"&&xWe(n[i]);return t&&vWe(e),e}function Xae(e){arguments.length?this.root=OWe(e):(this.root=wWe({marktype:"group",name:"root",role:"frame"}),this.root.items=[new b8(this.root)])}Xae.prototype={toJSON(e){return bWe(this.root,e||0)},mark(e,t,n){t=t||this.root.items[0];const r=wWe(e,t);return t.items[n]=r,r.zindex&&(r.group.zdirty=!0),r}};function wWe(e,t){const n={bounds:new bo,clip:!!e.clip,group:t,interactive:e.interactive!==!1,items:[],marktype:e.marktype,name:e.name||void 0,role:e.role||void 0,zindex:e.zindex||0};return e.aria!=null&&(n.aria=e.aria),e.description&&(n.description=e.description),n}function Hm(e,t,n){return!e&&typeof document<"u"&&document.createElement&&(e=document),e?n?e.createElementNS(n,t):e.createElement(t):null}function Hae(e,t){t=t.toLowerCase();for(var n=e.childNodes,r=0,i=n.length;r<i;++r)if(n[r].tagName.toLowerCase()===t)return n[r]}function wl(e,t,n,r){var i=e.childNodes[t],o;return(!i||i.tagName.toLowerCase()!==n.toLowerCase())&&(o=i||null,i=Hm(e.ownerDocument,n,r),e.insertBefore(i,o)),i}function Of(e,t){for(var n=e.childNodes,r=n.length;r>t;)e.removeChild(n[--r]);return e}function SWe(e){return"mark-"+e.marktype+(e.role?" role-"+e.role:"")+(e.name?" "+e.name:"")}function $8(e,t){const n=t.getBoundingClientRect();return[e.clientX-n.left-(t.clientLeft||0),e.clientY-n.top-(t.clientTop||0)]}function Cen(e,t,n,r){var i=e&&e.mark,o,s;if(i&&(o=zc[i.marktype]).tip){for(s=$8(t,n),s[0]-=r[0],s[1]-=r[1];e=e.mark.group;)s[0]-=e.x||0,s[1]-=e.y||0;e=o.tip(i.items,s)}return e}function c0(e,t){this._active=null,this._handlers={},this._loader=e||bR(),this._tooltip=t||$en}function $en(e,t,n,r){e.element().setAttribute("title",r||"")}c0.prototype={initialize(e,t,n){return this._el=e,this._obj=n||null,this.origin(t)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},origin(e){return arguments.length?(this._origin=e||[0,0],this):this._origin.slice()},scene(e){return arguments.length?(this._scene=e,this):this._scene},on(){},off(){},_handlerIndex(e,t,n){for(let r=e?e.length:0;--r>=0;)if(e[r].type===t&&(!n||e[r].handler===n))return r;return-1},handlers(e){const t=this._handlers,n=[];if(e)n.push(...t[this.eventName(e)]);else for(const r in t)n.push(...t[r]);return n},eventName(e){const t=e.indexOf(".");return t<0?e:e.slice(0,t)},handleHref(e,t,n){this._loader.sanitize(n,{context:"href"}).then(r=>{const i=new MouseEvent(e.type,e),o=Hm(null,"a");for(const s in r)o.setAttribute(s,r[s]);o.dispatchEvent(i)}).catch(()=>{})},handleTooltip(e,t,n){if(t&&t.tooltip!=null){t=Cen(t,e,this.canvas(),this._origin);const r=n&&t&&t.tooltip||null;this._tooltip.call(this._obj,this,e,t,r)}},getItemBoundingClientRect(e){const t=this.canvas();if(!t)return;const n=t.getBoundingClientRect(),r=this._origin,i=e.bounds,o=i.width(),s=i.height();let a=i.x1+r[0]+n.left,l=i.y1+r[1]+n.top;for(;e.mark&&(e=e.mark.group);)a+=e.x||0,l+=e.y||0;return{x:a,y:l,width:o,height:s,left:a,top:l,right:a+o,bottom:l+s}}};function Hh(e){this._el=null,this._bgcolor=null,this._loader=new Aae(e)}Hh.prototype={initialize(e,t,n,r,i){return this._el=e,this.resize(t,n,r,i)},element(){return this._el},canvas(){return this._el&&this._el.firstChild},background(e){return arguments.length===0?this._bgcolor:(this._bgcolor=e,this)},resize(e,t,n,r){return this._width=e,this._height=t,this._origin=n||[0,0],this._scale=r||1,this},dirty(){},render(e){const t=this;return t._call=function(){t._render(e)},t._call(),t._call=null,t},_render(){},renderAsync(e){const t=this.render(e);return this._ready?this._ready.then(()=>t):Promise.resolve(t)},_load(e,t){var n=this,r=n._loader[e](t);if(!n._ready){const i=n._call;n._ready=n._loader.ready().then(o=>{o&&i(),n._ready=null})}return r},sanitizeURL(e){return this._load("sanitizeURL",e)},loadImage(e){return this._load("loadImage",e)}};const Een="keydown",ken="keypress",Ten="keyup",_We="dragenter",xI="dragleave",CWe="dragover",uZ="mousedown",Pen="mouseup",jL="mousemove",Nk="mouseout",$We="mouseover",FL="click",Ren="dblclick",Aen="wheel",EWe="mousewheel",zL="touchstart",QL="touchmove",BL="touchend",Den=[Een,ken,Ten,_We,xI,CWe,uZ,Pen,jL,Nk,$We,FL,Ren,Aen,EWe,zL,QL,BL],fZ=jL,W2=Nk,dZ=FL;function HR(e,t){c0.call(this,e,t),this._down=null,this._touch=null,this._first=!0,this._events={}}const Nen=e=>e===zL||e===QL||e===BL?[zL,QL,BL]:[e];function MOe(e,t){Nen(t).forEach(n=>Men(e,n))}function Men(e,t){const n=e.canvas();n&&!e._events[t]&&(e._events[t]=1,n.addEventListener(t,e[t]?r=>e[t](r):r=>e.fire(t,r)))}function IOe(e,t,n){return function(r){const i=this._active,o=this.pickEvent(r);o===i?this.fire(e,r):((!i||!i.exit)&&this.fire(n,r),this._active=o,this.fire(t,r),this.fire(e,r))}}function LOe(e){return function(t){this.fire(e,t),this._active=null}}Ke(HR,c0,{initialize(e,t,n){return this._canvas=e&&Hae(e,"canvas"),[FL,uZ,jL,Nk,xI].forEach(r=>MOe(this,r)),c0.prototype.initialize.call(this,e,t,n)},canvas(){return this._canvas},context(){return this._canvas.getContext("2d")},events:Den,DOMMouseScroll(e){this.fire(EWe,e)},mousemove:IOe(jL,$We,Nk),dragover:IOe(CWe,_We,xI),mouseout:LOe(Nk),dragleave:LOe(xI),mousedown(e){this._down=this._active,this.fire(uZ,e)},click(e){this._down===this._active&&(this.fire(FL,e),this._down=null)},touchstart(e){this._touch=this.pickEvent(e.changedTouches[0]),this._first&&(this._active=this._touch,this._first=!1),this.fire(zL,e,!0)},touchmove(e){this.fire(QL,e,!0)},touchend(e){this.fire(BL,e,!0),this._touch=null},fire(e,t,n){const r=n?this._touch:this._active,i=this._handlers[e];if(t.vegaType=e,e===dZ&&r&&r.href?this.handleHref(t,r,r.href):(e===fZ||e===W2)&&this.handleTooltip(t,r,e!==W2),i)for(let o=0,s=i.length;o<s;++o)i[o].handler.call(this._obj,t,r)},on(e,t){const n=this.eventName(e),r=this._handlers;return this._handlerIndex(r[n],e,t)<0&&(MOe(this,e),(r[n]||(r[n]=[])).push({type:e,handler:t})),this},off(e,t){const n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&r.splice(i,1),this},pickEvent(e){const t=$8(e,this._canvas),n=this._origin;return this.pick(this._scene,t[0],t[1],t[0]-n[0],t[1]-n[1])},pick(e,t,n,r,i){const o=this.context();return zc[e.marktype].pick.call(this,o,e,t,n,r,i)}});function Ien(){return typeof window<"u"&&window.devicePixelRatio||1}var Len=Ien();function jen(e,t,n,r,i,o){const s=typeof HTMLElement<"u"&&e instanceof HTMLElement&&e.parentNode!=null,a=e.getContext("2d"),l=s?Len:i;e.width=t*l,e.height=n*l;for(const c in o)a[c]=o[c];return s&&l!==1&&(e.style.width=t+"px",e.style.height=n+"px"),a.pixelRatio=l,a.setTransform(l,0,0,l,l*r[0],l*r[1]),e}function WL(e){Hh.call(this,e),this._options={},this._redraw=!1,this._dirty=new bo,this._tempb=new bo}const jOe=Hh.prototype,Fen=(e,t,n)=>new bo().set(0,0,t,n).translate(-e[0],-e[1]);function zen(e,t,n){return t.expand(1).round(),e.pixelRatio%1&&t.scale(e.pixelRatio).round().scale(1/e.pixelRatio),t.translate(-(n[0]%1),-(n[1]%1)),e.beginPath(),e.rect(t.x1,t.y1,t.width(),t.height()),e.clip(),t}Ke(WL,Hh,{initialize(e,t,n,r,i,o){return this._options=o||{},this._canvas=this._options.externalContext?null:_y(1,1,this._options.type),e&&this._canvas&&(Of(e,0).appendChild(this._canvas),this._canvas.setAttribute("class","marks")),jOe.initialize.call(this,e,t,n,r,i)},resize(e,t,n,r){if(jOe.resize.call(this,e,t,n,r),this._canvas)jen(this._canvas,this._width,this._height,this._origin,this._scale,this._options.context);else{const i=this._options.externalContext;i||De("CanvasRenderer is missing a valid canvas or context"),i.scale(this._scale,this._scale),i.translate(this._origin[0],this._origin[1])}return this._redraw=!0,this},canvas(){return this._canvas},context(){return this._options.externalContext||(this._canvas?this._canvas.getContext("2d"):null)},dirty(e){const t=this._tempb.clear().union(e.bounds);let n=e.mark.group;for(;n;)t.translate(n.x||0,n.y||0),n=n.mark.group;this._dirty.union(t)},_render(e){const t=this.context(),n=this._origin,r=this._width,i=this._height,o=this._dirty,s=Fen(n,r,i);t.save();const a=this._redraw||o.empty()?(this._redraw=!1,s.expand(1)):zen(t,s.intersect(o),n);return this.clear(-n[0],-n[1],r,i),this.draw(t,e,a),t.restore(),o.clear(),this},draw(e,t,n){const r=zc[t.marktype];t.clip&&LJt(e,t),r.draw.call(this,e,t,n),t.clip&&e.restore()},clear(e,t,n,r){const i=this._options,o=this.context();i.type!=="pdf"&&!i.externalContext&&o.clearRect(e,t,n,r),this._bgcolor!=null&&(o.fillStyle=this._bgcolor,o.fillRect(e,t,n,r))}});function Zae(e,t){c0.call(this,e,t);const n=this;n._hrefHandler=hZ(n,(r,i)=>{i&&i.href&&n.handleHref(r,i,i.href)}),n._tooltipHandler=hZ(n,(r,i)=>{n.handleTooltip(r,i,r.type!==W2)})}const hZ=(e,t)=>n=>{let r=n.target.__data__;r=Array.isArray(r)?r[0]:r,n.vegaType=n.type,t.call(e._obj,n,r)};Ke(Zae,c0,{initialize(e,t,n){let r=this._svg;return r&&(r.removeEventListener(dZ,this._hrefHandler),r.removeEventListener(fZ,this._tooltipHandler),r.removeEventListener(W2,this._tooltipHandler)),this._svg=r=e&&Hae(e,"svg"),r&&(r.addEventListener(dZ,this._hrefHandler),r.addEventListener(fZ,this._tooltipHandler),r.addEventListener(W2,this._tooltipHandler)),c0.prototype.initialize.call(this,e,t,n)},canvas(){return this._svg},on(e,t){const n=this.eventName(e),r=this._handlers;if(this._handlerIndex(r[n],e,t)<0){const o={type:e,handler:t,listener:hZ(this,t)};(r[n]||(r[n]=[])).push(o),this._svg&&this._svg.addEventListener(n,o.listener)}return this},off(e,t){const n=this.eventName(e),r=this._handlers[n],i=this._handlerIndex(r,e,t);return i>=0&&(this._svg&&this._svg.removeEventListener(n,r[i].listener),r.splice(i,1)),this}});const kWe="aria-hidden",Gae="aria-label",Kae="role",Jae="aria-roledescription",TWe="graphics-object",ele="graphics-symbol",PWe=(e,t,n)=>({[Kae]:e,[Jae]:t,[Gae]:n||void 0}),Qen=td(["axis-domain","axis-grid","axis-label","axis-tick","axis-title","legend-band","legend-entry","legend-gradient","legend-label","legend-title","legend-symbol","title"]),FOe={axis:{desc:"axis",caption:Ven},legend:{desc:"legend",caption:Uen},"title-text":{desc:"title",caption:e=>`Title text '${QOe(e)}'`},"title-subtitle":{desc:"subtitle",caption:e=>`Subtitle text '${QOe(e)}'`}},zOe={ariaRole:Kae,ariaRoleDescription:Jae,description:Gae};function RWe(e,t){const n=t.aria===!1;if(e(kWe,n||void 0),n||t.description==null)for(const r in zOe)e(zOe[r],void 0);else{const r=t.mark.marktype;e(Gae,t.description),e(Kae,t.ariaRole||(r==="group"?TWe:ele)),e(Jae,t.ariaRoleDescription||`${r} mark`)}}function AWe(e){return e.aria===!1?{[kWe]:!0}:Qen[e.role]?null:FOe[e.role]?Wen(e,FOe[e.role]):Ben(e)}function Ben(e){const t=e.marktype,n=t==="group"||t==="text"||e.items.some(r=>r.description!=null&&r.aria!==!1);return PWe(n?TWe:ele,`${t} mark container`,e.description)}function Wen(e,t){try{const n=e.items[0],r=t.caption||(()=>"");return PWe(t.role||ele,t.desc,n.description||r(n))}catch{return null}}function QOe(e){return lt(e.text).join(" ")}function Ven(e){const t=e.datum,n=e.orient,r=t.title?DWe(e):null,i=e.context,o=i.scales[t.scale].value,s=i.dataflow.locale(),a=o.type;return`${n==="left"||n==="right"?"Y":"X"}-axis`+(r?` titled '${r}'`:"")+` for a ${LS(a)?"discrete":a} scale with ${ZBe(s,o,e)}`}function Uen(e){const t=e.datum,n=t.title?DWe(e):null,r=`${t.type||""} legend`.trim(),i=t.scales,o=Object.keys(i),s=e.context,a=s.scales[i[o[0]]].value,l=s.dataflow.locale();return Yen(r)+(n?` titled '${n}'`:"")+` for ${qen(o)} with ${ZBe(l,a,e)}`}function DWe(e){try{return lt(In(e.items).items[0].text).join(" ")}catch{return null}}function qen(e){return e=e.map(t=>t+(t==="fill"||t==="stroke"?" color":"")),e.length<2?e[0]:e.slice(0,-1).join(", ")+" and "+In(e)}function Yen(e){return e.length?e[0].toUpperCase()+e.slice(1):e}const NWe=e=>(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Xen=e=>NWe(e).replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;");function tle(){let e="",t="",n="";const r=[],i=()=>t=n="",o=l=>{t&&(e+=`${t}>${n}`,i()),r.push(l)},s=(l,c)=>(c!=null&&(t+=` ${l}="${Xen(c)}"`),a),a={open(l){o(l),t="<"+l;for(var c=arguments.length,u=new Array(c>1?c-1:0),f=1;f<c;f++)u[f-1]=arguments[f];for(const d of u)for(const h in d)s(h,d[h]);return a},close(){const l=r.pop();return t?e+=t+(n?`>${n}</${l}>`:"/>"):e+=`</${l}>`,i(),a},attr:s,text:l=>(n+=NWe(l),a),toString:()=>e};return a}const MWe=e=>IWe(tle(),e)+"";function IWe(e,t){if(e.open(t.tagName),t.hasAttributes()){const n=t.attributes,r=n.length;for(let i=0;i<r;++i)e.attr(n[i].name,n[i].value)}if(t.hasChildNodes()){const n=t.childNodes;for(const r of n)r.nodeType===3?e.text(r.nodeValue):IWe(e,r)}return e.close()}const VL={fill:"fill",fillOpacity:"fill-opacity",stroke:"stroke",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",strokeCap:"stroke-linecap",strokeJoin:"stroke-linejoin",strokeDash:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeMiterLimit:"stroke-miterlimit",opacity:"opacity"},UL={blend:"mix-blend-mode"},LWe={fill:"none","stroke-miterlimit":10},E$=0,BOe="http://www.w3.org/2000/xmlns/",Mo=B2.xmlns;function nle(e){Hh.call(this,e),this._dirtyID=0,this._dirty=[],this._svg=null,this._root=null,this._defs=null}const BW=Hh.prototype;Ke(nle,Hh,{initialize(e,t,n,r,i){return this._defs={},this._clearDefs(),e&&(this._svg=wl(e,0,"svg",Mo),this._svg.setAttributeNS(BOe,"xmlns",Mo),this._svg.setAttributeNS(BOe,"xmlns:xlink",B2["xmlns:xlink"]),this._svg.setAttribute("version",B2.version),this._svg.setAttribute("class","marks"),Of(e,1),this._root=wl(this._svg,E$,"g",Mo),Zm(this._root,LWe),Of(this._svg,E$+1)),this.background(this._bgcolor),BW.initialize.call(this,e,t,n,r,i)},background(e){return arguments.length&&this._svg&&this._svg.style.setProperty("background-color",e),BW.background.apply(this,arguments)},resize(e,t,n,r){return BW.resize.call(this,e,t,n,r),this._svg&&(Zm(this._svg,{width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}),this._root.setAttribute("transform",`translate(${this._origin})`)),this._dirty=[],this},canvas(){return this._svg},svg(){const e=this._svg,t=this._bgcolor;if(!e)return null;let n;t&&(e.removeAttribute("style"),n=wl(e,E$,"rect",Mo),Zm(n,{width:this._width,height:this._height,fill:t}));const r=MWe(e);return t&&(e.removeChild(n),this._svg.style.setProperty("background-color",t)),r},_render(e){return this._dirtyCheck()&&(this._dirtyAll&&this._clearDefs(),this.mark(this._root,e),Of(this._root,1)),this.defs(),this._dirty=[],++this._dirtyID,this},dirty(e){e.dirty!==this._dirtyID&&(e.dirty=this._dirtyID,this._dirty.push(e))},isDirty(e){return this._dirtyAll||!e._svg||!e._svg.ownerSVGElement||e.dirty===this._dirtyID},_dirtyCheck(){this._dirtyAll=!0;const e=this._dirty;if(!e.length||!this._dirtyID)return!0;const t=++this._dirtyID;let n,r,i,o,s,a,l;for(s=0,a=e.length;s<a;++s)if(n=e[s],r=n.mark,r.marktype!==i&&(i=r.marktype,o=zc[i]),r.zdirty&&r.dirty!==t&&(this._dirtyAll=!1,WOe(n,t),r.items.forEach(c=>{c.dirty=t})),!r.zdirty){if(n.exit){o.nested&&r.items.length?(l=r.items[0],l._svg&&this._update(o,l._svg,l)):n._svg&&(l=n._svg.parentNode,l&&l.removeChild(n._svg)),n._svg=null;continue}n=o.nested?r.items[0]:n,n._update!==t&&(!n._svg||!n._svg.ownerSVGElement?(this._dirtyAll=!1,WOe(n,t)):this._update(o,n._svg,n),n._update=t)}return!this._dirtyAll},mark(e,t,n){if(!this.isDirty(t))return t._svg;const r=this._svg,i=zc[t.marktype],o=t.interactive===!1?"none":null,s=i.tag==="g",a=VOe(t,e,n,"g",r);a.setAttribute("class",SWe(t));const l=AWe(t);for(const d in l)Ma(a,d,l[d]);s||Ma(a,"pointer-events",o),Ma(a,"clip-path",t.clip?Rae(this,t,t.group):null);let c=null,u=0;const f=d=>{const h=this.isDirty(d),p=VOe(d,a,c,i.tag,r);h&&(this._update(i,p,d),s&&Gen(this,p,d)),c=p,++u};return i.nested?t.items.length&&f(t.items[0]):od(t,f),Of(a,u),a},_update(e,t,n){Fp=t,oa=t.__values__,RWe(Mk,n),e.attr(Mk,n,this);const r=Jen[e.type];r&&r.call(this,e,t,n),Fp&&this.style(Fp,n)},style(e,t){if(t!=null){for(const n in VL){let r=n==="font"?XR(t):t[n];if(r===oa[n])continue;const i=VL[n];r==null?e.removeAttribute(i):(kae(r)&&(r=KBe(r,this._defs.gradient,jWe())),e.setAttribute(i,r+"")),oa[n]=r}for(const n in UL)wI(e,UL[n],t[n])}},defs(){const e=this._svg,t=this._defs;let n=t.el,r=0;for(const i in t.gradient)n||(t.el=n=wl(e,E$+1,"defs",Mo)),r=Hen(n,t.gradient[i],r);for(const i in t.clipping)n||(t.el=n=wl(e,E$+1,"defs",Mo)),r=Zen(n,t.clipping[i],r);n&&(r===0?(e.removeChild(n),t.el=null):Of(n,r))},_clearDefs(){const e=this._defs;e.gradient={},e.clipping={}}});function WOe(e,t){for(;e&&e.dirty!==t;e=e.mark.group)if(e.dirty=t,e.mark&&e.mark.dirty!==t)e.mark.dirty=t;else return}function Hen(e,t,n){let r,i,o;if(t.gradient==="radial"){let s=wl(e,n++,"pattern",Mo);Zm(s,{id:ML+t.id,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),s=wl(s,0,"rect",Mo),Zm(s,{width:1,height:1,fill:`url(${jWe()}#${t.id})`}),e=wl(e,n++,"radialGradient",Mo),Zm(e,{id:t.id,fx:t.x1,fy:t.y1,fr:t.r1,cx:t.x2,cy:t.y2,r:t.r2})}else e=wl(e,n++,"linearGradient",Mo),Zm(e,{id:t.id,x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2});for(r=0,i=t.stops.length;r<i;++r)o=wl(e,r,"stop",Mo),o.setAttribute("offset",t.stops[r].offset),o.setAttribute("stop-color",t.stops[r].color);return Of(e,r),n}function Zen(e,t,n){let r;return e=wl(e,n,"clipPath",Mo),e.setAttribute("id",t.id),t.path?(r=wl(e,0,"path",Mo),r.setAttribute("d",t.path)):(r=wl(e,0,"rect",Mo),Zm(r,{x:0,y:0,width:t.width,height:t.height})),Of(e,1),n+1}function Gen(e,t,n){t=t.lastChild.previousSibling;let r,i=0;od(n,o=>{r=e.mark(t,o,r),++i}),Of(t,1+i)}function VOe(e,t,n,r,i){let o=e._svg,s;if(!o&&(s=t.ownerDocument,o=Hm(s,r,Mo),e._svg=o,e.mark&&(o.__data__=e,o.__values__={fill:"default"},r==="g"))){const a=Hm(s,"path",Mo);o.appendChild(a),a.__data__=e;const l=Hm(s,"g",Mo);o.appendChild(l),l.__data__=e;const c=Hm(s,"path",Mo);o.appendChild(c),c.__data__=e,c.__values__={fill:"default"}}return(o.ownerSVGElement!==i||Ken(o,n))&&t.insertBefore(o,n?n.nextSibling:t.firstChild),o}function Ken(e,t){return e.parentNode&&e.parentNode.childNodes.length>1&&e.previousSibling!=t}let Fp=null,oa=null;const Jen={group(e,t,n){const r=Fp=t.childNodes[2];oa=r.__values__,e.foreground(Mk,n,this),oa=t.__values__,Fp=t.childNodes[1],e.content(Mk,n,this);const i=Fp=t.childNodes[0];e.background(Mk,n,this);const o=n.mark.interactive===!1?"none":null;if(o!==oa.events&&(Ma(r,"pointer-events",o),Ma(i,"pointer-events",o),oa.events=o),n.strokeForeground&&n.stroke){const s=n.fill;Ma(r,"display",null),this.style(i,n),Ma(i,"stroke",null),s&&(n.fill=null),oa=r.__values__,this.style(r,n),s&&(n.fill=s),Fp=null}else Ma(r,"display","none")},image(e,t,n){n.smooth===!1?(wI(t,"image-rendering","optimizeSpeed"),wI(t,"image-rendering","pixelated")):wI(t,"image-rendering",null)},text(e,t,n){const r=YR(n);let i,o,s,a;Me(r)?(o=r.map(l=>l0(n,l)),i=o.join(`
`),i!==oa.text&&(Of(t,0),s=t.ownerDocument,a=a0(n),o.forEach((l,c)=>{const u=Hm(s,"tspan",Mo);u.__data__=n,u.textContent=l,c&&(u.setAttribute("x",0),u.setAttribute("dy",a)),t.appendChild(u)}),oa.text=i)):(o=l0(n,r),o!==oa.text&&(t.textContent=o,oa.text=o)),Ma(t,"font-family",XR(n)),Ma(t,"font-size",Xh(n)+"px"),Ma(t,"font-style",n.fontStyle),Ma(t,"font-variant",n.fontVariant),Ma(t,"font-weight",n.fontWeight)}};function Mk(e,t,n){t!==oa[e]&&(n?etn(Fp,e,t,n):Ma(Fp,e,t),oa[e]=t)}function wI(e,t,n){n!==oa[t]&&(n==null?e.style.removeProperty(t):e.style.setProperty(t,n+""),oa[t]=n)}function Zm(e,t){for(const n in t)Ma(e,n,t[n])}function Ma(e,t,n){n!=null?e.setAttribute(t,n):e.removeAttribute(t)}function etn(e,t,n,r){n!=null?e.setAttributeNS(r,t,n):e.removeAttributeNS(r,t)}function jWe(){let e;return typeof window>"u"?"":(e=window.location).hash?e.href.slice(0,-e.hash.length):e.href}function rle(e){Hh.call(this,e),this._text=null,this._defs={gradient:{},clipping:{}}}Ke(rle,Hh,{svg(){return this._text},_render(e){const t=tle();t.open("svg",ln({},B2,{class:"marks",width:this._width*this._scale,height:this._height*this._scale,viewBox:`0 0 ${this._width} ${this._height}`}));const n=this._bgcolor;return n&&n!=="transparent"&&n!=="none"&&t.open("rect",{width:this._width,height:this._height,fill:n}).close(),t.open("g",LWe,{transform:"translate("+this._origin+")"}),this.mark(t,e),t.close(),this.defs(t),this._text=t.close()+"",this},mark(e,t){const n=zc[t.marktype],r=n.tag,i=[RWe,n.attr];e.open("g",{class:SWe(t),"clip-path":t.clip?Rae(this,t,t.group):null},AWe(t),{"pointer-events":r!=="g"&&t.interactive===!1?"none":null});const o=s=>{const a=this.href(s);if(a&&e.open("a",a),e.open(r,this.attr(t,s,i,r!=="g"?r:null)),r==="text"){const l=YR(s);if(Me(l)){const c={x:0,dy:a0(s)};for(let u=0;u<l.length;++u)e.open("tspan",u?c:null).text(l0(s,l[u])).close()}else e.text(l0(s,l))}else if(r==="g"){const l=s.strokeForeground,c=s.fill,u=s.stroke;l&&u&&(s.stroke=null),e.open("path",this.attr(t,s,n.background,"bgrect")).close(),e.open("g",this.attr(t,s,n.content)),od(s,f=>this.mark(e,f)),e.close(),l&&u?(c&&(s.fill=null),s.stroke=u,e.open("path",this.attr(t,s,n.foreground,"bgrect")).close(),c&&(s.fill=c)):e.open("path",this.attr(t,s,n.foreground,"bgfore")).close()}e.close(),a&&e.close()};return n.nested?t.items&&t.items.length&&o(t.items[0]):od(t,o),e.close()},href(e){const t=e.href;let n;if(t){if(n=this._hrefs&&this._hrefs[t])return n;this.sanitizeURL(t).then(r=>{r["xlink:href"]=r.href,r.href=null,(this._hrefs||(this._hrefs={}))[t]=r})}return null},attr(e,t,n,r){const i={},o=(s,a,l,c)=>{i[c||s]=a};return Array.isArray(n)?n.forEach(s=>s(o,t,this)):n(o,t,this),r&&ttn(i,t,e,r,this._defs),i},defs(e){const t=this._defs.gradient,n=this._defs.clipping;if(Object.keys(t).length+Object.keys(n).length!==0){e.open("defs");for(const i in t){const o=t[i],s=o.stops;o.gradient==="radial"?(e.open("pattern",{id:ML+i,viewBox:"0,0,1,1",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice"}),e.open("rect",{width:"1",height:"1",fill:"url(#"+i+")"}).close(),e.close(),e.open("radialGradient",{id:i,fx:o.x1,fy:o.y1,fr:o.r1,cx:o.x2,cy:o.y2,r:o.r2})):e.open("linearGradient",{id:i,x1:o.x1,x2:o.x2,y1:o.y1,y2:o.y2});for(let a=0;a<s.length;++a)e.open("stop",{offset:s[a].offset,"stop-color":s[a].color}).close();e.close()}for(const i in n){const o=n[i];e.open("clipPath",{id:i}),o.path?e.open("path",{d:o.path}).close():e.open("rect",{x:0,y:0,width:o.width,height:o.height}).close(),e.close()}e.close()}}});function ttn(e,t,n,r,i){let o;if(t==null||(r==="bgrect"&&n.interactive===!1&&(e["pointer-events"]="none"),r==="bgfore"&&(n.interactive===!1&&(e["pointer-events"]="none"),e.display="none",t.fill!==null)))return e;r==="image"&&t.smooth===!1&&(o=["image-rendering: optimizeSpeed;","image-rendering: pixelated;"]),r==="text"&&(e["font-family"]=XR(t),e["font-size"]=Xh(t)+"px",e["font-style"]=t.fontStyle,e["font-variant"]=t.fontVariant,e["font-weight"]=t.fontWeight);for(const s in VL){let a=t[s];const l=VL[s];a==="transparent"&&(l==="fill"||l==="stroke")||a!=null&&(kae(a)&&(a=KBe(a,i.gradient,"")),e[l]=a)}for(const s in UL){const a=t[s];a!=null&&(o=o||[],o.push(`${UL[s]}: ${a};`))}return o&&(e.style=o.join(" ")),e}const FWe="canvas",zWe="png",QWe="svg",BWe="none",Gm={Canvas:FWe,PNG:zWe,SVG:QWe,None:BWe},QS={};QS[FWe]=QS[zWe]={renderer:WL,headless:WL,handler:HR};QS[QWe]={renderer:nle,headless:rle,handler:Zae};QS[BWe]={};function E8(e,t){return e=String(e||"").toLowerCase(),arguments.length>1?(QS[e]=t,this):QS[e]}function WWe(e,t,n){const r=[],i=new bo().union(t),o=e.marktype;return o?VWe(e,i,n,r):o==="group"?UWe(e,i,n,r):De("Intersect scene must be mark node or group item.")}function VWe(e,t,n,r){if(ntn(e,t,n)){const i=e.items,o=e.marktype,s=i.length;let a=0;if(o==="group")for(;a<s;++a)UWe(i[a],t,n,r);else for(const l=zc[o].isect;a<s;++a){const c=i[a];qWe(c,t,l)&&r.push(c)}}return r}function ntn(e,t,n){return e.bounds&&t.intersects(e.bounds)&&(e.marktype==="group"||e.interactive!==!1&&(!n||n(e)))}function UWe(e,t,n,r){n&&n(e.mark)&&qWe(e,t,zc.group.isect)&&r.push(e);const i=e.items,o=i&&i.length;if(o){const s=e.x||0,a=e.y||0;t.translate(-s,-a);for(let l=0;l<o;++l)VWe(i[l],t,n,r);t.translate(s,a)}return r}function qWe(e,t,n){const r=e.bounds;return t.encloses(r)||t.intersects(r)&&n(e,t)}const WW=new bo;function YWe(e){const t=e.clip;if(cn(t))t(UR(WW.clear()));else if(t)WW.set(0,0,e.group.width,e.group.height);else return;e.bounds.intersect(WW)}const rtn=1e-9;function ile(e,t,n){return e===t?!0:n==="path"?XWe(e,t):e instanceof Date&&t instanceof Date?+e==+t:Un(e)&&Un(t)?Math.abs(e-t)<=rtn:!e||!t||!ut(e)&&!ut(t)?e==t:itn(e,t)}function XWe(e,t){return ile(jS(e),jS(t))}function itn(e,t){var n=Object.keys(e),r=Object.keys(t),i,o;if(n.length!==r.length)return!1;for(n.sort(),r.sort(),o=n.length-1;o>=0;o--)if(n[o]!=r[o])return!1;for(o=n.length-1;o>=0;o--)if(i=n[o],!ile(e[i],t[i],i))return!1;return typeof e==typeof t}function otn(){oWe(),PKt()}const BS="top",xf="left",Cf="right",u0="bottom",stn="top-left",atn="top-right",ltn="bottom-left",ctn="bottom-right",ole="start",pZ="middle",za="end",utn="x",ftn="y",k8="group",sle="axis",ale="title",dtn="frame",htn="scope",lle="legend",HWe="row-header",ZWe="row-footer",GWe="row-title",KWe="column-header",JWe="column-footer",eVe="column-title",ptn="padding",gtn="symbol",tVe="fit",nVe="fit-x",rVe="fit-y",mtn="pad",cle="none",vN="all",gZ="each",ule="flush",Km="column",Jm="row";function iVe(e){Pe.call(this,null,e)}Ke(iVe,Pe,{transform(e,t){const n=t.dataflow,r=e.mark,i=r.marktype,o=zc[i],s=o.bound;let a=r.bounds,l;if(o.nested)r.items.length&&n.dirty(r.items[0]),a=bN(r,s),r.items.forEach(c=>{c.bounds.clear().union(a)});else if(i===k8||e.modified())switch(t.visit(t.MOD,c=>n.dirty(c)),a.clear(),r.items.forEach(c=>a.union(bN(c,s))),r.role){case sle:case lle:case ale:t.reflow()}else l=t.changed(t.REM),t.visit(t.ADD,c=>{a.union(bN(c,s))}),t.visit(t.MOD,c=>{l=l||a.alignsWith(c.bounds),n.dirty(c),a.union(bN(c,s))}),l&&(a.clear(),r.items.forEach(c=>a.union(c.bounds)));return YWe(r),t.modifies("bounds")}});function bN(e,t,n){return t(e.bounds.clear(),e,n)}const UOe=":vega_identifier:";function fle(e){Pe.call(this,0,e)}fle.Definition={type:"Identifier",metadata:{modifies:!0},params:[{name:"as",type:"string",required:!0}]};Ke(fle,Pe,{transform(e,t){const n=ytn(t.dataflow),r=e.as;let i=n.value;return t.visit(t.ADD,o=>o[r]=o[r]||++i),n.set(this.value=i),t}});function ytn(e){return e._signals[UOe]||(e._signals[UOe]=e.add(0))}function oVe(e){Pe.call(this,null,e)}Ke(oVe,Pe,{transform(e,t){let n=this.value;n||(n=t.dataflow.scenegraph().mark(e.markdef,vtn(e),e.index),n.group.context=e.context,e.context.group||(e.context.group=n.group),n.source=this.source,n.clip=e.clip,n.interactive=e.interactive,this.value=n);const r=n.marktype===k8?b8:v8;return t.visit(t.ADD,i=>r.call(i,n)),(e.modified("clip")||e.modified("interactive"))&&(n.clip=e.clip,n.interactive=!!e.interactive,n.zdirty=!0,t.reflow()),n.items=t.source,t}});function vtn(e){const t=e.groups,n=e.parent;return t&&t.size===1?t.get(Object.keys(t.object)[0]):t&&n?t.lookup(n):null}function sVe(e){Pe.call(this,null,e)}const qOe={parity:e=>e.filter((t,n)=>n%2?t.opacity=0:1),greedy:(e,t)=>{let n;return e.filter((r,i)=>!i||!aVe(n.bounds,r.bounds,t)?(n=r,1):r.opacity=0)}},aVe=(e,t,n)=>n>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2),YOe=(e,t)=>{for(var n=1,r=e.length,i=e[0].bounds,o;n<r;i=o,++n)if(aVe(i,o=e[n].bounds,t))return!0},btn=e=>{const t=e.bounds;return t.width()>1&&t.height()>1},Otn=(e,t,n)=>{var r=e.range(),i=new bo;return t===BS||t===u0?i.set(r[0],-1/0,r[1],1/0):i.set(-1/0,r[0],1/0,r[1]),i.expand(n||1),o=>i.encloses(o.bounds)},XOe=e=>(e.forEach(t=>t.opacity=1),e),HOe=(e,t)=>e.reflow(t.modified()).modifies("opacity");Ke(sVe,Pe,{transform(e,t){const n=qOe[e.method]||qOe.parity,r=e.separation||0;let i=t.materialize(t.SOURCE).source,o,s;if(!i||!i.length)return;if(!e.method)return e.modified("method")&&(XOe(i),t=HOe(t,e)),t;if(i=i.filter(btn),!i.length)return;if(e.sort&&(i=i.slice().sort(e.sort)),o=XOe(i),t=HOe(t,e),o.length>=3&&YOe(o,r)){do o=n(o,r);while(o.length>=3&&YOe(o,r));o.length<3&&!In(i).opacity&&(o.length>1&&(In(o).opacity=0),In(i).opacity=1)}e.boundScale&&e.boundTolerance>=0&&(s=Otn(e.boundScale,e.boundOrient,+e.boundTolerance),i.forEach(l=>{s(l)||(l.opacity=0)}));const a=o[0].mark.bounds.clear();return i.forEach(l=>{l.opacity&&a.union(l.bounds)}),t}});function lVe(e){Pe.call(this,null,e)}Ke(lVe,Pe,{transform(e,t){const n=t.dataflow;if(t.visit(t.ALL,r=>n.dirty(r)),t.fields&&t.fields.zindex){const r=t.source&&t.source[0];r&&(r.mark.zdirty=!0)}}});const ta=new bo;function Kx(e,t,n){return e[t]===n?0:(e[t]=n,1)}function xtn(e){var t=e.items[0].orient;return t===xf||t===Cf}function wtn(e){let t=+e.grid;return[e.ticks?t++:-1,e.labels?t++:-1,t+ +e.domain]}function Stn(e,t,n,r){var i=t.items[0],o=i.datum,s=i.translate!=null?i.translate:.5,a=i.orient,l=wtn(o),c=i.range,u=i.offset,f=i.position,d=i.minExtent,h=i.maxExtent,p=o.title&&i.items[l[2]].items[0],g=i.titlePadding,y=i.bounds,v=p&&Uae(p),x=0,m=0,w,S;switch(ta.clear().union(y),y.clear(),(w=l[0])>-1&&y.union(i.items[w].bounds),(w=l[1])>-1&&y.union(i.items[w].bounds),a){case BS:x=f||0,m=-u,S=Math.max(d,Math.min(h,-y.y1)),y.add(0,-S).add(c,0),p&&ON(e,p,S,g,v,0,-1,y);break;case xf:x=-u,m=f||0,S=Math.max(d,Math.min(h,-y.x1)),y.add(-S,0).add(0,c),p&&ON(e,p,S,g,v,1,-1,y);break;case Cf:x=n+u,m=f||0,S=Math.max(d,Math.min(h,y.x2)),y.add(0,0).add(S,c),p&&ON(e,p,S,g,v,1,1,y);break;case u0:x=f||0,m=r+u,S=Math.max(d,Math.min(h,y.y2)),y.add(0,0).add(c,S),p&&ON(e,p,S,g,0,0,1,y);break;default:x=i.x,m=i.y}return Ig(y.translate(x,m),i),Kx(i,"x",x+s)|Kx(i,"y",m+s)&&(i.bounds=ta,e.dirty(i),i.bounds=y,e.dirty(i)),i.mark.bounds.clear().union(y)}function ON(e,t,n,r,i,o,s,a){const l=t.bounds;if(t.auto){const c=s*(n+i+r);let u=0,f=0;e.dirty(t),o?u=(t.x||0)-(t.x=c):f=(t.y||0)-(t.y=c),t.mark.bounds.clear().union(l.translate(-u,-f)),e.dirty(t)}a.union(l)}const ZOe=(e,t)=>Math.floor(Math.min(e,t)),GOe=(e,t)=>Math.ceil(Math.max(e,t));function _tn(e){var t=e.items,n=t.length,r=0,i,o;const s={marks:[],rowheaders:[],rowfooters:[],colheaders:[],colfooters:[],rowtitle:null,coltitle:null};for(;r<n;++r)if(i=t[r],o=i.items,i.marktype===k8)switch(i.role){case sle:case lle:case ale:break;case HWe:s.rowheaders.push(...o);break;case ZWe:s.rowfooters.push(...o);break;case KWe:s.colheaders.push(...o);break;case JWe:s.colfooters.push(...o);break;case GWe:s.rowtitle=o[0];break;case eVe:s.coltitle=o[0];break;default:s.marks.push(...o)}return s}function Ctn(e){return new bo().set(0,0,e.width||0,e.height||0)}function $tn(e){const t=e.bounds.clone();return t.empty()?t.set(0,0,0,0):t.translate(-(e.x||0),-(e.y||0))}function hi(e,t,n){const r=ut(e)?e[t]:e;return r??(n!==void 0?n:0)}function KOe(e){return e<0?Math.ceil(-e):0}function cVe(e,t,n){var r=!n.nodirty,i=n.bounds===ule?Ctn:$tn,o=ta.set(0,0,0,0),s=hi(n.align,Km),a=hi(n.align,Jm),l=hi(n.padding,Km),c=hi(n.padding,Jm),u=n.columns||t.length,f=u<=0?1:Math.ceil(t.length/u),d=t.length,h=Array(d),p=Array(u),g=0,y=Array(d),v=Array(f),x=0,m=Array(d),w=Array(d),S=Array(d),C,$,E,R,N,I,j,A,T,D,L;for($=0;$<u;++$)p[$]=0;for($=0;$<f;++$)v[$]=0;for($=0;$<d;++$)I=t[$],N=S[$]=i(I),I.x=I.x||0,m[$]=0,I.y=I.y||0,w[$]=0,E=$%u,R=~~($/u),g=Math.max(g,j=Math.ceil(N.x2)),x=Math.max(x,A=Math.ceil(N.y2)),p[E]=Math.max(p[E],j),v[R]=Math.max(v[R],A),h[$]=l+KOe(N.x1),y[$]=c+KOe(N.y1),r&&e.dirty(t[$]);for($=0;$<d;++$)$%u===0&&(h[$]=0),$<u&&(y[$]=0);if(s===gZ)for(E=1;E<u;++E){for(L=0,$=E;$<d;$+=u)L<h[$]&&(L=h[$]);for($=E;$<d;$+=u)h[$]=L+p[E-1]}else if(s===vN){for(L=0,$=0;$<d;++$)$%u&&L<h[$]&&(L=h[$]);for($=0;$<d;++$)$%u&&(h[$]=L+g)}else for(s=!1,E=1;E<u;++E)for($=E;$<d;$+=u)h[$]+=p[E-1];if(a===gZ)for(R=1;R<f;++R){for(L=0,$=R*u,C=$+u;$<C;++$)L<y[$]&&(L=y[$]);for($=R*u;$<C;++$)y[$]=L+v[R-1]}else if(a===vN){for(L=0,$=u;$<d;++$)L<y[$]&&(L=y[$]);for($=u;$<d;++$)y[$]=L+x}else for(a=!1,R=1;R<f;++R)for($=R*u,C=$+u;$<C;++$)y[$]+=v[R-1];for(T=0,$=0;$<d;++$)T=h[$]+($%u?T:0),m[$]+=T-t[$].x;for(E=0;E<u;++E)for(D=0,$=E;$<d;$+=u)D+=y[$],w[$]+=D-t[$].y;if(s&&hi(n.center,Km)&&f>1)for($=0;$<d;++$)N=s===vN?g:p[$%u],T=N-S[$].x2-t[$].x-m[$],T>0&&(m[$]+=T/2);if(a&&hi(n.center,Jm)&&u!==1)for($=0;$<d;++$)N=a===vN?x:v[~~($/u)],D=N-S[$].y2-t[$].y-w[$],D>0&&(w[$]+=D/2);for($=0;$<d;++$)o.union(S[$].translate(m[$],w[$]));switch(T=hi(n.anchor,utn),D=hi(n.anchor,ftn),hi(n.anchor,Km)){case za:T-=o.width();break;case pZ:T-=o.width()/2}switch(hi(n.anchor,Jm)){case za:D-=o.height();break;case pZ:D-=o.height()/2}for(T=Math.round(T),D=Math.round(D),o.clear(),$=0;$<d;++$)t[$].mark.bounds.clear();for($=0;$<d;++$)I=t[$],I.x+=m[$]+=T,I.y+=w[$]+=D,o.union(I.mark.bounds.union(I.bounds.translate(m[$],w[$]))),r&&e.dirty(I);return o}function Etn(e,t,n){var r=_tn(t),i=r.marks,o=n.bounds===ule?ktn:Ttn,s=n.offset,a=n.columns||i.length,l=a<=0?1:Math.ceil(i.length/a),c=l*a,u,f,d,h,p,g,y;const v=cVe(e,i,n);v.empty()&&v.set(0,0,0,0),r.rowheaders&&(g=hi(n.headerBand,Jm,null),u=xN(e,r.rowheaders,i,a,l,-hi(s,"rowHeader"),ZOe,0,o,"x1",0,a,1,g)),r.colheaders&&(g=hi(n.headerBand,Km,null),f=xN(e,r.colheaders,i,a,a,-hi(s,"columnHeader"),ZOe,1,o,"y1",0,1,a,g)),r.rowfooters&&(g=hi(n.footerBand,Jm,null),d=xN(e,r.rowfooters,i,a,l,hi(s,"rowFooter"),GOe,0,o,"x2",a-1,a,1,g)),r.colfooters&&(g=hi(n.footerBand,Km,null),h=xN(e,r.colfooters,i,a,a,hi(s,"columnFooter"),GOe,1,o,"y2",c-a,1,a,g)),r.rowtitle&&(p=hi(n.titleAnchor,Jm),y=hi(s,"rowTitle"),y=p===za?d+y:u-y,g=hi(n.titleBand,Jm,.5),JOe(e,r.rowtitle,y,0,v,g)),r.coltitle&&(p=hi(n.titleAnchor,Km),y=hi(s,"columnTitle"),y=p===za?h+y:f-y,g=hi(n.titleBand,Km,.5),JOe(e,r.coltitle,y,1,v,g))}function ktn(e,t){return t==="x1"?e.x||0:t==="y1"?e.y||0:t==="x2"?(e.x||0)+(e.width||0):t==="y2"?(e.y||0)+(e.height||0):void 0}function Ttn(e,t){return e.bounds[t]}function xN(e,t,n,r,i,o,s,a,l,c,u,f,d,h){var p=n.length,g=0,y=0,v,x,m,w,S,C,$,E,R;if(!p)return g;for(v=u;v<p;v+=f)n[v]&&(g=s(g,l(n[v],c)));if(!t.length)return g;for(t.length>i&&(e.warn("Grid headers exceed limit: "+i),t=t.slice(0,i)),g+=o,x=0,w=t.length;x<w;++x)e.dirty(t[x]),t[x].mark.bounds.clear();for(v=u,x=0,w=t.length;x<w;++x,v+=f){for(C=t[x],S=C.mark.bounds,m=v;m>=0&&($=n[m])==null;m-=d);a?(E=h==null?$.x:Math.round($.bounds.x1+h*$.bounds.width()),R=g):(E=g,R=h==null?$.y:Math.round($.bounds.y1+h*$.bounds.height())),S.union(C.bounds.translate(E-(C.x||0),R-(C.y||0))),C.x=E,C.y=R,e.dirty(C),y=s(y,S[c])}return y}function JOe(e,t,n,r,i,o){if(t){e.dirty(t);var s=n,a=n;r?s=Math.round(i.x1+o*i.width()):a=Math.round(i.y1+o*i.height()),t.bounds.translate(s-(t.x||0),a-(t.y||0)),t.mark.bounds.clear().union(t.bounds),t.x=s,t.y=a,e.dirty(t)}}function Ptn(e,t){const n=e[t]||{};return(r,i)=>n[r]!=null?n[r]:e[r]!=null?e[r]:i}function Rtn(e,t){let n=-1/0;return e.forEach(r=>{r.offset!=null&&(n=Math.max(n,r.offset))}),n>-1/0?n:t}function Atn(e,t,n,r,i,o,s){const a=Ptn(n,t),l=Rtn(e,a("offset",0)),c=a("anchor",ole),u=c===za?1:c===pZ?.5:0,f={align:gZ,bounds:a("bounds",ule),columns:a("direction")==="vertical"?1:e.length,padding:a("margin",8),center:a("center"),nodirty:!0};switch(t){case xf:f.anchor={x:Math.floor(r.x1)-l,column:za,y:u*(s||r.height()+2*r.y1),row:c};break;case Cf:f.anchor={x:Math.ceil(r.x2)+l,y:u*(s||r.height()+2*r.y1),row:c};break;case BS:f.anchor={y:Math.floor(i.y1)-l,row:za,x:u*(o||i.width()+2*i.x1),column:c};break;case u0:f.anchor={y:Math.ceil(i.y2)+l,x:u*(o||i.width()+2*i.x1),column:c};break;case stn:f.anchor={x:l,y:l};break;case atn:f.anchor={x:o-l,y:l,column:za};break;case ltn:f.anchor={x:l,y:s-l,row:za};break;case ctn:f.anchor={x:o-l,y:s-l,column:za,row:za};break}return f}function Dtn(e,t){var n=t.items[0],r=n.datum,i=n.orient,o=n.bounds,s=n.x,a=n.y,l,c;return n._bounds?n._bounds.clear().union(o):n._bounds=o.clone(),o.clear(),Mtn(e,n,n.items[0].items[0]),o=Ntn(n,o),l=2*n.padding,c=2*n.padding,o.empty()||(l=Math.ceil(o.width()+l),c=Math.ceil(o.height()+c)),r.type===gtn&&Itn(n.items[0].items[0].items[0].items),i!==cle&&(n.x=s=0,n.y=a=0),n.width=l,n.height=c,Ig(o.set(s,a,s+l,a+c),n),n.mark.bounds.clear().union(o),n}function Ntn(e,t){return e.items.forEach(n=>t.union(n.bounds)),t.x1=e.padding,t.y1=e.padding,t}function Mtn(e,t,n){var r=t.padding,i=r-n.x,o=r-n.y;if(!t.datum.title)(i||o)&&k$(e,n,i,o);else{var s=t.items[1].items[0],a=s.anchor,l=t.titlePadding||0,c=r-s.x,u=r-s.y;switch(s.orient){case xf:i+=Math.ceil(s.bounds.width())+l;break;case Cf:case u0:break;default:o+=s.bounds.height()+l}switch((i||o)&&k$(e,n,i,o),s.orient){case xf:u+=YO(t,n,s,a,1,1);break;case Cf:c+=YO(t,n,s,za,0,0)+l,u+=YO(t,n,s,a,1,1);break;case u0:c+=YO(t,n,s,a,0,0),u+=YO(t,n,s,za,-1,0,1)+l;break;default:c+=YO(t,n,s,a,0,0)}(c||u)&&k$(e,s,c,u),(c=Math.round(s.bounds.x1-r))<0&&(k$(e,n,-c,0),k$(e,s,-c,0))}}function YO(e,t,n,r,i,o,s){const a=e.datum.type!=="symbol",l=n.datum.vgrad,c=a&&(o||!l)&&!s?t.items[0]:t,u=c.bounds[i?"y2":"x2"]-e.padding,f=l&&o?u:0,d=l&&o?0:u,h=i<=0?0:Uae(n);return Math.round(r===ole?f:r===za?d-h:.5*(u-h))}function k$(e,t,n,r){t.x+=n,t.y+=r,t.bounds.translate(n,r),t.mark.bounds.translate(n,r),e.dirty(t)}function Itn(e){const t=e.reduce((n,r)=>(n[r.column]=Math.max(r.bounds.x2-r.x,n[r.column]||0),n),{});e.forEach(n=>{n.width=t[n.column],n.height=n.bounds.y2-n.y})}function Ltn(e,t,n,r,i){var o=t.items[0],s=o.frame,a=o.orient,l=o.anchor,c=o.offset,u=o.padding,f=o.items[0].items[0],d=o.items[1]&&o.items[1].items[0],h=a===xf||a===Cf?r:n,p=0,g=0,y=0,v=0,x=0,m;if(s!==k8?a===xf?(p=i.y2,h=i.y1):a===Cf?(p=i.y1,h=i.y2):(p=i.x1,h=i.x2):a===xf&&(p=r,h=0),m=l===ole?p:l===za?h:(p+h)/2,d&&d.text){switch(a){case BS:case u0:x=f.bounds.height()+u;break;case xf:v=f.bounds.width()+u;break;case Cf:v=-f.bounds.width()-u;break}ta.clear().union(d.bounds),ta.translate(v-(d.x||0),x-(d.y||0)),Kx(d,"x",v)|Kx(d,"y",x)&&(e.dirty(d),d.bounds.clear().union(ta),d.mark.bounds.clear().union(ta),e.dirty(d)),ta.clear().union(d.bounds)}else ta.clear();switch(ta.union(f.bounds),a){case BS:g=m,y=i.y1-ta.height()-c;break;case xf:g=i.x1-ta.width()-c,y=m;break;case Cf:g=i.x2+ta.width()+c,y=m;break;case u0:g=m,y=i.y2+c;break;default:g=o.x,y=o.y}return Kx(o,"x",g)|Kx(o,"y",y)&&(ta.translate(g,y),e.dirty(o),o.bounds.clear().union(ta),t.bounds.clear().union(ta),e.dirty(o)),o.bounds}function uVe(e){Pe.call(this,null,e)}Ke(uVe,Pe,{transform(e,t){const n=t.dataflow;return e.mark.items.forEach(r=>{e.layout&&Etn(n,r,e.layout),Ftn(n,r,e)}),jtn(e.mark.group)?t.reflow():t}});function jtn(e){return e&&e.mark.role!=="legend-entry"}function Ftn(e,t,n){var r=t.items,i=Math.max(0,t.width||0),o=Math.max(0,t.height||0),s=new bo().set(0,0,i,o),a=s.clone(),l=s.clone(),c=[],u,f,d,h,p,g;for(p=0,g=r.length;p<g;++p)switch(f=r[p],f.role){case sle:h=xtn(f)?a:l,h.union(Stn(e,f,i,o));break;case ale:u=f;break;case lle:c.push(Dtn(e,f));break;case dtn:case htn:case HWe:case ZWe:case GWe:case KWe:case JWe:case eVe:a.union(f.bounds),l.union(f.bounds);break;default:s.union(f.bounds)}if(c.length){const y={};c.forEach(v=>{d=v.orient||Cf,d!==cle&&(y[d]||(y[d]=[])).push(v)});for(const v in y){const x=y[v];cVe(e,x,Atn(x,v,n.legends,a,l,i,o))}c.forEach(v=>{const x=v.bounds;if(x.equals(v._bounds)||(v.bounds=v._bounds,e.dirty(v),v.bounds=x,e.dirty(v)),n.autosize&&(n.autosize.type===tVe||n.autosize.type===nVe||n.autosize.type===rVe))switch(v.orient){case xf:case Cf:s.add(x.x1,0).add(x.x2,0);break;case BS:case u0:s.add(0,x.y1).add(0,x.y2)}else s.union(x)})}s.union(a).union(l),u&&s.union(Ltn(e,u,i,o,s)),t.clip&&s.set(0,0,t.width||0,t.height||0),ztn(e,t,s,n)}function ztn(e,t,n,r){const i=r.autosize||{},o=i.type;if(e._autosize<1||!o)return;let s=e._width,a=e._height,l=Math.max(0,t.width||0),c=Math.max(0,Math.ceil(-n.x1)),u=Math.max(0,t.height||0),f=Math.max(0,Math.ceil(-n.y1));const d=Math.max(0,Math.ceil(n.x2-l)),h=Math.max(0,Math.ceil(n.y2-u));if(i.contains===ptn){const p=e.padding();s-=p.left+p.right,a-=p.top+p.bottom}o===cle?(c=0,f=0,l=s,u=a):o===tVe?(l=Math.max(0,s-c-d),u=Math.max(0,a-f-h)):o===nVe?(l=Math.max(0,s-c-d),a=u+f+h):o===rVe?(s=l+c+d,u=Math.max(0,a-f-h)):o===mtn&&(s=l+c+d,a=u+f+h),e._resizeView(s,a,l,u,[c,f],i.resize)}const Qtn=Object.freeze(Object.defineProperty({__proto__:null,bound:iVe,identifier:fle,mark:oVe,overlap:sVe,render:lVe,viewlayout:uVe},Symbol.toStringTag,{value:"Module"}));function fVe(e){Pe.call(this,null,e)}Ke(fVe,Pe,{transform(e,t){if(this.value&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.scale,s=e.count==null?e.values?e.values.length:10:e.count,a=$ae(o,s,e.minstep),l=e.format||UBe(n,o,a,e.formatSpecifier,e.formatType,!!e.values),c=e.values?VBe(o,e.values,a):Eae(o,a);return i&&(r.rem=i),i=c.map((u,f)=>sr({index:f/(c.length-1||1),value:u,label:l(u)})),e.extra&&i.length&&i.push(sr({index:-1,extra:{value:i[0].value},label:""})),r.source=i,r.add=i,this.value=i,r}});function dVe(e){Pe.call(this,null,e)}function Btn(){return sr({})}function Wtn(e){const t=sC().test(n=>n.exit);return t.lookup=n=>t.get(e(n)),t}Ke(dVe,Pe,{transform(e,t){var n=t.dataflow,r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=e.item||Btn,o=e.key||Tt,s=this.value;return Me(r.encode)&&(r.encode=null),s&&(e.modified("key")||t.modified(o))&&De("DataJoin does not support modified key function or fields."),s||(t=t.addAll(),this.value=s=Wtn(o)),t.visit(t.ADD,a=>{const l=o(a);let c=s.get(l);c?c.exit?(s.empty--,r.add.push(c)):r.mod.push(c):(c=i(a),s.set(l,c),r.add.push(c)),c.datum=a,c.exit=!1}),t.visit(t.MOD,a=>{const l=o(a),c=s.get(l);c&&(c.datum=a,r.mod.push(c))}),t.visit(t.REM,a=>{const l=o(a),c=s.get(l);a===c.datum&&!c.exit&&(r.rem.push(c),c.exit=!0,++s.empty)}),t.changed(t.ADD_MOD)&&r.modifies("datum"),(t.clean()||e.clean&&s.empty>n.cleanThreshold)&&n.runAfter(s.clean),r}});function hVe(e){Pe.call(this,null,e)}Ke(hVe,Pe,{transform(e,t){var n=t.fork(t.ADD_REM),r=e.mod||!1,i=e.encoders,o=t.encode;if(Me(o))if(n.changed()||o.every(f=>i[f]))o=o[0],n.encode=null;else return t.StopPropagation;var s=o==="enter",a=i.update||hm,l=i.enter||hm,c=i.exit||hm,u=(o&&!s?i[o]:a)||hm;if(t.changed(t.ADD)&&(t.visit(t.ADD,f=>{l(f,e),a(f,e)}),n.modifies(l.output),n.modifies(a.output),u!==hm&&u!==a&&(t.visit(t.ADD,f=>{u(f,e)}),n.modifies(u.output))),t.changed(t.REM)&&c!==hm&&(t.visit(t.REM,f=>{c(f,e)}),n.modifies(c.output)),s||u!==hm){const f=t.MOD|(e.modified()?t.REFLOW:0);s?(t.visit(f,d=>{const h=l(d,e)||r;(u(d,e)||h)&&n.mod.push(d)}),n.mod.length&&n.modifies(l.output)):t.visit(f,d=>{(u(d,e)||r)&&n.mod.push(d)}),n.mod.length&&n.modifies(u.output)}return n.changed()?n:t.StopPropagation}});function pVe(e){Pe.call(this,[],e)}Ke(pVe,Pe,{transform(e,t){if(this.value!=null&&!e.modified())return t.StopPropagation;var n=t.dataflow.locale(),r=t.fork(t.NO_SOURCE|t.NO_FIELDS),i=this.value,o=e.type||gI,s=e.scale,a=+e.limit,l=$ae(s,e.count==null?5:e.count,e.minstep),c=!!e.values||o===gI,u=e.format||HBe(n,s,l,o,e.formatSpecifier,e.formatType,c),f=e.values||XBe(s,l),d,h,p,g,y;return i&&(r.rem=i),o===gI?(a&&f.length>a?(t.dataflow.warn("Symbol legend count exceeds limit, filtering items."),i=f.slice(0,a-1),y=!0):i=f,cn(p=e.size)?(!e.values&&s(i[0])===0&&(i=i.slice(1)),g=i.reduce((v,x)=>Math.max(v,p(x,e)),0)):p=Ea(g=p||8),i=i.map((v,x)=>sr({index:x,label:u(v,x,i),value:v,offset:g,size:p(v,e)})),y&&(y=f[i.length],i.push(sr({index:i.length,label:`${f.length-i.length} entries`,value:y,offset:g,size:p(y,e)})))):o===yKt?(d=s.domain(),h=QBe(s,d[0],In(d)),f.length<3&&!e.values&&d[0]!==In(d)&&(f=[d[0],In(d)]),i=f.map((v,x)=>sr({index:x,label:u(v,x,f),value:v,perc:h(v)}))):(p=f.length-1,h=kKt(s),i=f.map((v,x)=>sr({index:x,label:u(v,x,f),value:v,perc:x?h(v):0,perc2:x===p?1:h(f[x+1])}))),r.source=i,r.add=i,this.value=i,r}});const Vtn=e=>e.source.x,Utn=e=>e.source.y,qtn=e=>e.target.x,Ytn=e=>e.target.y;function dle(e){Pe.call(this,{},e)}dle.Definition={type:"LinkPath",metadata:{modifies:!0},params:[{name:"sourceX",type:"field",default:"source.x"},{name:"sourceY",type:"field",default:"source.y"},{name:"targetX",type:"field",default:"target.x"},{name:"targetY",type:"field",default:"target.y"},{name:"orient",type:"enum",default:"vertical",values:["horizontal","vertical","radial"]},{name:"shape",type:"enum",default:"line",values:["line","arc","curve","diagonal","orthogonal"]},{name:"require",type:"signal"},{name:"as",type:"string",default:"path"}]};Ke(dle,Pe,{transform(e,t){var n=e.sourceX||Vtn,r=e.sourceY||Utn,i=e.targetX||qtn,o=e.targetY||Ytn,s=e.as||"path",a=e.orient||"vertical",l=e.shape||"line",c=exe.get(l+"-"+a)||exe.get(l);return c||De("LinkPath unsupported type: "+e.shape+(e.orient?"-"+e.orient:"")),t.visit(t.SOURCE,u=>{u[s]=c(n(u),r(u),i(u),o(u))}),t.reflow(e.modified()).modifies(s)}});const gVe=(e,t,n,r)=>"M"+e+","+t+"L"+n+","+r,Xtn=(e,t,n,r)=>gVe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),mVe=(e,t,n,r)=>{var i=n-e,o=r-t,s=Math.hypot(i,o)/2,a=180*Math.atan2(o,i)/Math.PI;return"M"+e+","+t+"A"+s+","+s+" "+a+" 0 1 "+n+","+r},Htn=(e,t,n,r)=>mVe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),yVe=(e,t,n,r)=>{const i=n-e,o=r-t,s=.2*(i+o),a=.2*(o-i);return"M"+e+","+t+"C"+(e+s)+","+(t+a)+" "+(n+a)+","+(r-s)+" "+n+","+r},Ztn=(e,t,n,r)=>yVe(t*Math.cos(e),t*Math.sin(e),r*Math.cos(n),r*Math.sin(n)),Gtn=(e,t,n,r)=>"M"+e+","+t+"V"+r+"H"+n,Ktn=(e,t,n,r)=>"M"+e+","+t+"H"+n+"V"+r,Jtn=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n),l=Math.abs(n-e)>Math.PI?n<=e:n>e;return"M"+t*i+","+t*o+"A"+t+","+t+" 0 0,"+(l?1:0)+" "+t*s+","+t*a+"L"+r*s+","+r*a},enn=(e,t,n,r)=>{const i=(e+n)/2;return"M"+e+","+t+"C"+i+","+t+" "+i+","+r+" "+n+","+r},tnn=(e,t,n,r)=>{const i=(t+r)/2;return"M"+e+","+t+"C"+e+","+i+" "+n+","+i+" "+n+","+r},nnn=(e,t,n,r)=>{const i=Math.cos(e),o=Math.sin(e),s=Math.cos(n),a=Math.sin(n),l=(t+r)/2;return"M"+t*i+","+t*o+"C"+l*i+","+l*o+" "+l*s+","+l*a+" "+r*s+","+r*a},exe=sC({line:gVe,"line-radial":Xtn,arc:mVe,"arc-radial":Htn,curve:yVe,"curve-radial":Ztn,"orthogonal-horizontal":Gtn,"orthogonal-vertical":Ktn,"orthogonal-radial":Jtn,"diagonal-horizontal":enn,"diagonal-vertical":tnn,"diagonal-radial":nnn});function hle(e){Pe.call(this,null,e)}hle.Definition={type:"Pie",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"startAngle",type:"number",default:0},{name:"endAngle",type:"number",default:6.283185307179586},{name:"sort",type:"boolean",default:!1},{name:"as",type:"string",array:!0,length:2,default:["startAngle","endAngle"]}]};Ke(hle,Pe,{transform(e,t){var n=e.as||["startAngle","endAngle"],r=n[0],i=n[1],o=e.field||rC,s=e.startAngle||0,a=e.endAngle!=null?e.endAngle:2*Math.PI,l=t.source,c=l.map(o),u=c.length,f=s,d=(a-s)/$4e(c),h=Cc(u),p,g,y;for(e.sort&&h.sort((v,x)=>c[v]-c[x]),p=0;p<u;++p)y=c[h[p]],g=l[h[p]],g[r]=f,g[i]=f+=y*d;return this.value=c,t.reflow(e.modified()).modifies(n)}});const rnn=5;function inn(e){const t=e.type;return!e.bins&&(t===MS||t===jR||t===FR)}function vVe(e){return Sae(e)&&e!==hh}const onn=td(["set","modified","clear","type","scheme","schemeExtent","schemeCount","domain","domainMin","domainMid","domainMax","domainRaw","domainImplicit","nice","zero","bins","range","rangeStep","round","reverse","interpolate","interpolateGamma"]);function bVe(e){Pe.call(this,null,e),this.modified(!0)}Ke(bVe,Pe,{transform(e,t){var n=t.dataflow,r=this.value,i=snn(e);(!r||i!==r.type)&&(this.value=r=Kn(i)());for(i in e)if(!onn[i]){if(i==="padding"&&vVe(r.type))continue;cn(r[i])?r[i](e[i]):n.warn("Unsupported scale property: "+i)}return dnn(r,e,fnn(r,e,lnn(r,e,n))),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function snn(e){var t=e.type,n="",r;return t===hh?hh+"-"+MS:(ann(e)&&(r=e.rawDomain?e.rawDomain.length:e.domain?e.domain.length+ +(e.domainMid!=null):0,n=r===2?hh+"-":r===3?wC+"-":""),(n+t||MS).toLowerCase())}function ann(e){const t=e.type;return Sae(t)&&t!==gb&&t!==mb&&(e.scheme||e.range&&e.range.length&&e.range.every(at))}function lnn(e,t,n){const r=cnn(e,t.domainRaw,n);if(r>-1)return r;var i=t.domain,o=e.type,s=t.zero||t.zero===void 0&&inn(e),a,l;if(!i)return 0;if(vVe(o)&&t.padding&&i[0]!==In(i)&&(i=unn(o,i,t.range,t.padding,t.exponent,t.constant)),(s||t.domainMin!=null||t.domainMax!=null||t.domainMid!=null)&&(a=(i=i.slice()).length-1||1,s&&(i[0]>0&&(i[0]=0),i[a]<0&&(i[a]=0)),t.domainMin!=null&&(i[0]=t.domainMin),t.domainMax!=null&&(i[a]=t.domainMax),t.domainMid!=null)){l=t.domainMid;const c=l>i[a]?a+1:l<i[0]?0:a;c!==a&&n.warn("Scale domainMid exceeds domain min or max.",l),i.splice(c,0,l)}return e.domain(OVe(o,i,n)),o===bae&&e.unknown(t.domainImplicit?HH:void 0),t.nice&&e.nice&&e.nice(t.nice!==!0&&$ae(e,t.nice)||null),i.length}function cnn(e,t,n){return t?(e.domain(OVe(e.type,t,n)),t.length):-1}function unn(e,t,n,r,i,o){var s=Math.abs(In(n)-n[0]),a=s/(s-2*r),l=e===bg?Oie(t,null,a):e===FR?T3(t,null,a,.5):e===jR?T3(t,null,a,i||1):e===h8?xie(t,null,a,o||1):bie(t,null,a);return t=t.slice(),t[0]=l[0],t[t.length-1]=l[1],t}function OVe(e,t,n){if(IBe(e)){var r=Math.abs(t.reduce((i,o)=>i+(o<0?-1:o>0?1:0),0));r!==t.length&&n.warn("Log scale domain includes zero: "+Ge(t))}return t}function fnn(e,t,n){let r=t.bins;if(r&&!Me(r)){const i=e.domain(),o=i[0],s=In(i),a=r.step;let l=r.start==null?o:r.start,c=r.stop==null?s:r.stop;a||De("Scale bins parameter missing step property."),l<o&&(l=a*Math.ceil(o/a)),c>s&&(c=a*Math.floor(s/a)),r=Cc(l,c+a/2,a)}return r?e.bins=r:e.bins&&delete e.bins,e.type===Oae&&(r?!t.domain&&!t.domainRaw&&(e.domain(r),n=r.length):e.bins=e.domain()),n}function dnn(e,t,n){var r=e.type,i=t.round||!1,o=t.range;if(t.rangeStep!=null)o=hnn(r,t,n);else if(t.scheme&&(o=pnn(r,t,n),cn(o))){if(e.interpolator)return e.interpolator(o);De(`Scale type ${r} does not support interpolating color schemes.`)}if(o&&LBe(r))return e.interpolator(m8(mZ(o,t.reverse),t.interpolate,t.interpolateGamma));o&&t.interpolate&&e.interpolate?e.interpolate(_ae(t.interpolate,t.interpolateGamma)):cn(e.round)?e.round(i):cn(e.rangeRound)&&e.interpolate(i?IR:Q0),o&&e.range(mZ(o,t.reverse))}function hnn(e,t,n){e!==PBe&&e!==tZ&&De("Only band and point scales support rangeStep.");var r=(t.paddingOuter!=null?t.paddingOuter:t.padding)||0,i=e===tZ?1:(t.paddingInner!=null?t.paddingInner:t.padding)||0;return[0,t.rangeStep*vae(n,i,r)]}function pnn(e,t,n){var r=t.schemeExtent,i,o;return Me(t.scheme)?o=m8(t.scheme,t.interpolate,t.interpolateGamma):(i=t.scheme.toLowerCase(),o=Cae(i),o||De(`Unrecognized scheme name: ${t.scheme}`)),n=e===g8?n+1:e===Oae?n-1:e===IS||e===p8?+t.schemeCount||rnn:n,LBe(e)?txe(o,r,t.reverse):cn(o)?zBe(txe(o,r),n):e===bae?o:o.slice(0,n)}function txe(e,t,n){return cn(e)&&(t||n)?FBe(e,mZ(t||[0,1],n)):e}function mZ(e,t){return t?e.slice().reverse():e}function xVe(e){Pe.call(this,null,e)}Ke(xVe,Pe,{transform(e,t){const n=e.modified("sort")||t.changed(t.ADD)||t.modified(e.sort.fields)||t.modified("datum");return n&&t.source.sort(iO(e.sort)),this.modified(n),t}});const nxe="zero",wVe="center",SVe="normalize",_Ve=["y0","y1"];function ple(e){Pe.call(this,null,e)}ple.Definition={type:"Stack",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"groupby",type:"field",array:!0},{name:"sort",type:"compare"},{name:"offset",type:"enum",default:nxe,values:[nxe,wVe,SVe]},{name:"as",type:"string",array:!0,length:2,default:_Ve}]};Ke(ple,Pe,{transform(e,t){var n=e.as||_Ve,r=n[0],i=n[1],o=iO(e.sort),s=e.field||rC,a=e.offset===wVe?gnn:e.offset===SVe?mnn:ynn,l,c,u,f;for(l=vnn(t.source,e.groupby,o,s),c=0,u=l.length,f=l.max;c<u;++c)a(l[c],f,s,r,i);return t.reflow(e.modified()).modifies(n)}});function gnn(e,t,n,r,i){for(var o=(t-e.sum)/2,s=e.length,a=0,l;a<s;++a)l=e[a],l[r]=o,l[i]=o+=Math.abs(n(l))}function mnn(e,t,n,r,i){for(var o=1/e.sum,s=0,a=e.length,l=0,c=0,u;l<a;++l)u=e[l],u[r]=s,u[i]=s=o*(c+=Math.abs(n(u)))}function ynn(e,t,n,r,i){for(var o=0,s=0,a=e.length,l=0,c,u;l<a;++l)u=e[l],c=+n(u),c<0?(u[r]=s,u[i]=s+=c):(u[r]=o,u[i]=o+=c)}function vnn(e,t,n,r){var i=[],o=g=>g(u),s,a,l,c,u,f,d,h,p;if(t==null)i.push(e.slice());else for(s={},a=0,l=e.length;a<l;++a)u=e[a],f=t.map(o),d=s[f],d||(s[f]=d=[],i.push(d)),d.push(u);for(f=0,p=0,c=i.length;f<c;++f){for(d=i[f],a=0,h=0,l=d.length;a<l;++a)h+=Math.abs(r(d[a]));d.sum=h,h>p&&(p=h),n&&d.sort(n)}return i.max=p,i}const bnn=Object.freeze(Object.defineProperty({__proto__:null,axisticks:fVe,datajoin:dVe,encode:hVe,legendentries:pVe,linkpath:dle,pie:hle,scale:bVe,sortitems:xVe,stack:ple},Symbol.toStringTag,{value:"Module"}));var Lt=1e-6,qL=1e-12,xn=Math.PI,Wi=xn/2,YL=xn/4,rl=xn*2,Gi=180/xn,mn=xn/180,Mn=Math.abs,_C=Math.atan,Bu=Math.atan2,Ft=Math.cos,wN=Math.ceil,CVe=Math.exp,yZ=Math.hypot,XL=Math.log,VW=Math.pow,Pt=Math.sin,xu=Math.sign||function(e){return e>0?1:e<0?-1:0},il=Math.sqrt,gle=Math.tan;function $Ve(e){return e>1?0:e<-1?xn:Math.acos(e)}function Vl(e){return e>1?Wi:e<-1?-Wi:Math.asin(e)}function Rs(){}function HL(e,t){e&&ixe.hasOwnProperty(e.type)&&ixe[e.type](e,t)}var rxe={Feature:function(e,t){HL(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)HL(n[r].geometry,t)}},ixe={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){vZ(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)vZ(n[r],t,0)},Polygon:function(e,t){oxe(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)oxe(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)HL(n[r],t)}};function vZ(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function oxe(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)vZ(e[n],t,1);t.polygonEnd()}function Pp(e,t){e&&rxe.hasOwnProperty(e.type)?rxe[e.type](e,t):HL(e,t)}var ZL=new Ka,GL=new Ka,EVe,kVe,bZ,OZ,xZ,Th={point:Rs,lineStart:Rs,lineEnd:Rs,polygonStart:function(){ZL=new Ka,Th.lineStart=Onn,Th.lineEnd=xnn},polygonEnd:function(){var e=+ZL;GL.add(e<0?rl+e:e),this.lineStart=this.lineEnd=this.point=Rs},sphere:function(){GL.add(rl)}};function Onn(){Th.point=wnn}function xnn(){TVe(EVe,kVe)}function wnn(e,t){Th.point=TVe,EVe=e,kVe=t,e*=mn,t*=mn,bZ=e,OZ=Ft(t=t/2+YL),xZ=Pt(t)}function TVe(e,t){e*=mn,t*=mn,t=t/2+YL;var n=e-bZ,r=n>=0?1:-1,i=r*n,o=Ft(t),s=Pt(t),a=xZ*s,l=OZ*o+a*Ft(i),c=a*r*Pt(i);ZL.add(Bu(c,l)),bZ=e,OZ=o,xZ=s}function Snn(e){return GL=new Ka,Pp(e,Th),GL*2}function KL(e){return[Bu(e[1],e[0]),Vl(e[2])]}function yb(e){var t=e[0],n=e[1],r=Ft(n);return[r*Ft(t),r*Pt(t),Pt(n)]}function SN(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function WS(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function UW(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function _N(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function JL(e){var t=il(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var wi,vl,Ii,bc,$v,PVe,RVe,Mw,Ik,_m,Og,Cp={point:wZ,lineStart:sxe,lineEnd:axe,polygonStart:function(){Cp.point=DVe,Cp.lineStart=_nn,Cp.lineEnd=Cnn,Ik=new Ka,Th.polygonStart()},polygonEnd:function(){Th.polygonEnd(),Cp.point=wZ,Cp.lineStart=sxe,Cp.lineEnd=axe,ZL<0?(wi=-(Ii=180),vl=-(bc=90)):Ik>Lt?bc=90:Ik<-Lt&&(vl=-90),Og[0]=wi,Og[1]=Ii},sphere:function(){wi=-(Ii=180),vl=-(bc=90)}};function wZ(e,t){_m.push(Og=[wi=e,Ii=e]),t<vl&&(vl=t),t>bc&&(bc=t)}function AVe(e,t){var n=yb([e*mn,t*mn]);if(Mw){var r=WS(Mw,n),i=[r[1],-r[0],0],o=WS(i,r);JL(o),o=KL(o);var s=e-$v,a=s>0?1:-1,l=o[0]*Gi*a,c,u=Mn(s)>180;u^(a*$v<l&&l<a*e)?(c=o[1]*Gi,c>bc&&(bc=c)):(l=(l+360)%360-180,u^(a*$v<l&&l<a*e)?(c=-o[1]*Gi,c<vl&&(vl=c)):(t<vl&&(vl=t),t>bc&&(bc=t))),u?e<$v?gc(wi,e)>gc(wi,Ii)&&(Ii=e):gc(e,Ii)>gc(wi,Ii)&&(wi=e):Ii>=wi?(e<wi&&(wi=e),e>Ii&&(Ii=e)):e>$v?gc(wi,e)>gc(wi,Ii)&&(Ii=e):gc(e,Ii)>gc(wi,Ii)&&(wi=e)}else _m.push(Og=[wi=e,Ii=e]);t<vl&&(vl=t),t>bc&&(bc=t),Mw=n,$v=e}function sxe(){Cp.point=AVe}function axe(){Og[0]=wi,Og[1]=Ii,Cp.point=wZ,Mw=null}function DVe(e,t){if(Mw){var n=e-$v;Ik.add(Mn(n)>180?n+(n>0?360:-360):n)}else PVe=e,RVe=t;Th.point(e,t),AVe(e,t)}function _nn(){Th.lineStart()}function Cnn(){DVe(PVe,RVe),Th.lineEnd(),Mn(Ik)>Lt&&(wi=-(Ii=180)),Og[0]=wi,Og[1]=Ii,Mw=null}function gc(e,t){return(t-=e)<0?t+360:t}function $nn(e,t){return e[0]-t[0]}function lxe(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function Enn(e){var t,n,r,i,o,s,a;if(bc=Ii=-(wi=vl=1/0),_m=[],Pp(e,Cp),n=_m.length){for(_m.sort($nn),t=1,r=_m[0],o=[r];t<n;++t)i=_m[t],lxe(r,i[0])||lxe(r,i[1])?(gc(r[0],i[1])>gc(r[0],r[1])&&(r[1]=i[1]),gc(i[0],r[1])>gc(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(s=-1/0,n=o.length-1,t=0,r=o[n];t<=n;r=i,++t)i=o[t],(a=gc(r[1],i[0]))>s&&(s=a,wi=i[0],Ii=r[1])}return _m=Og=null,wi===1/0||vl===1/0?[[NaN,NaN],[NaN,NaN]]:[[wi,vl],[Ii,bc]]}var CE,ej,tj,nj,rj,ij,oj,sj,SZ,_Z,CZ,NVe,MVe,Qa,Ba,Wa,$f={sphere:Rs,point:mle,lineStart:cxe,lineEnd:uxe,polygonStart:function(){$f.lineStart=Pnn,$f.lineEnd=Rnn},polygonEnd:function(){$f.lineStart=cxe,$f.lineEnd=uxe}};function mle(e,t){e*=mn,t*=mn;var n=Ft(t);ZR(n*Ft(e),n*Pt(e),Pt(t))}function ZR(e,t,n){++CE,tj+=(e-tj)/CE,nj+=(t-nj)/CE,rj+=(n-rj)/CE}function cxe(){$f.point=knn}function knn(e,t){e*=mn,t*=mn;var n=Ft(t);Qa=n*Ft(e),Ba=n*Pt(e),Wa=Pt(t),$f.point=Tnn,ZR(Qa,Ba,Wa)}function Tnn(e,t){e*=mn,t*=mn;var n=Ft(t),r=n*Ft(e),i=n*Pt(e),o=Pt(t),s=Bu(il((s=Ba*o-Wa*i)*s+(s=Wa*r-Qa*o)*s+(s=Qa*i-Ba*r)*s),Qa*r+Ba*i+Wa*o);ej+=s,ij+=s*(Qa+(Qa=r)),oj+=s*(Ba+(Ba=i)),sj+=s*(Wa+(Wa=o)),ZR(Qa,Ba,Wa)}function uxe(){$f.point=mle}function Pnn(){$f.point=Ann}function Rnn(){IVe(NVe,MVe),$f.point=mle}function Ann(e,t){NVe=e,MVe=t,e*=mn,t*=mn,$f.point=IVe;var n=Ft(t);Qa=n*Ft(e),Ba=n*Pt(e),Wa=Pt(t),ZR(Qa,Ba,Wa)}function IVe(e,t){e*=mn,t*=mn;var n=Ft(t),r=n*Ft(e),i=n*Pt(e),o=Pt(t),s=Ba*o-Wa*i,a=Wa*r-Qa*o,l=Qa*i-Ba*r,c=yZ(s,a,l),u=Vl(c),f=c&&-u/c;SZ.add(f*s),_Z.add(f*a),CZ.add(f*l),ej+=u,ij+=u*(Qa+(Qa=r)),oj+=u*(Ba+(Ba=i)),sj+=u*(Wa+(Wa=o)),ZR(Qa,Ba,Wa)}function Dnn(e){CE=ej=tj=nj=rj=ij=oj=sj=0,SZ=new Ka,_Z=new Ka,CZ=new Ka,Pp(e,$f);var t=+SZ,n=+_Z,r=+CZ,i=yZ(t,n,r);return i<qL&&(t=ij,n=oj,r=sj,ej<Lt&&(t=tj,n=nj,r=rj),i=yZ(t,n,r),i<qL)?[NaN,NaN]:[Bu(n,t)*Gi,Vl(r/i)*Gi]}function $Z(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function EZ(e,t){return Mn(e)>xn&&(e-=Math.round(e/rl)*rl),[e,t]}EZ.invert=EZ;function LVe(e,t,n){return(e%=rl)?t||n?$Z(dxe(e),hxe(t,n)):dxe(e):t||n?hxe(t,n):EZ}function fxe(e){return function(t,n){return t+=e,Mn(t)>xn&&(t-=Math.round(t/rl)*rl),[t,n]}}function dxe(e){var t=fxe(e);return t.invert=fxe(-e),t}function hxe(e,t){var n=Ft(e),r=Pt(e),i=Ft(t),o=Pt(t);function s(a,l){var c=Ft(l),u=Ft(a)*c,f=Pt(a)*c,d=Pt(l),h=d*n+u*r;return[Bu(f*i-h*o,u*n-d*r),Vl(h*i+f*o)]}return s.invert=function(a,l){var c=Ft(l),u=Ft(a)*c,f=Pt(a)*c,d=Pt(l),h=d*i-f*o;return[Bu(f*i+d*o,u*n+h*r),Vl(h*n-u*r)]},s}function Nnn(e){e=LVe(e[0]*mn,e[1]*mn,e.length>2?e[2]*mn:0);function t(n){return n=e(n[0]*mn,n[1]*mn),n[0]*=Gi,n[1]*=Gi,n}return t.invert=function(n){return n=e.invert(n[0]*mn,n[1]*mn),n[0]*=Gi,n[1]*=Gi,n},t}function Mnn(e,t,n,r,i,o){if(n){var s=Ft(t),a=Pt(t),l=r*n;i==null?(i=t+r*rl,o=t-l/2):(i=pxe(s,i),o=pxe(s,o),(r>0?i<o:i>o)&&(i+=r*rl));for(var c,u=i;r>0?u>o:u<o;u-=l)c=KL([s,-a*Ft(u),-a*Pt(u)]),e.point(c[0],c[1])}}function pxe(e,t){t=yb(t),t[0]-=e,JL(t);var n=$Ve(-t[1]);return((-t[2]<0?-n:n)+rl-Lt)%rl}function jVe(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Rs,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function SI(e,t){return Mn(e[0]-t[0])<Lt&&Mn(e[1]-t[1])<Lt}function CN(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function FVe(e,t,n,r,i){var o=[],s=[],a,l;if(e.forEach(function(p){if(!((g=p.length-1)<=0)){var g,y=p[0],v=p[g],x;if(SI(y,v)){if(!y[2]&&!v[2]){for(i.lineStart(),a=0;a<g;++a)i.point((y=p[a])[0],y[1]);i.lineEnd();return}v[0]+=2*Lt}o.push(x=new CN(y,p,null,!0)),s.push(x.o=new CN(y,null,x,!1)),o.push(x=new CN(v,p,null,!1)),s.push(x.o=new CN(v,null,x,!0))}}),!!o.length){for(s.sort(t),gxe(o),gxe(s),a=0,l=s.length;a<l;++a)s[a].e=n=!n;for(var c=o[0],u,f;;){for(var d=c,h=!0;d.v;)if((d=d.n)===c)return;u=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(a=0,l=u.length;a<l;++a)i.point((f=u[a])[0],f[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(u=d.p.z,a=u.length-1;a>=0;--a)i.point((f=u[a])[0],f[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,u=d.z,h=!h}while(!d.v);i.lineEnd()}}}function gxe(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function qW(e){return Mn(e[0])<=xn?e[0]:xu(e[0])*((Mn(e[0])+xn)%rl-xn)}function Inn(e,t){var n=qW(t),r=t[1],i=Pt(r),o=[Pt(n),-Ft(n),0],s=0,a=0,l=new Ka;i===1?r=Wi+Lt:i===-1&&(r=-Wi-Lt);for(var c=0,u=e.length;c<u;++c)if(d=(f=e[c]).length)for(var f,d,h=f[d-1],p=qW(h),g=h[1]/2+YL,y=Pt(g),v=Ft(g),x=0;x<d;++x,p=w,y=C,v=$,h=m){var m=f[x],w=qW(m),S=m[1]/2+YL,C=Pt(S),$=Ft(S),E=w-p,R=E>=0?1:-1,N=R*E,I=N>xn,j=y*C;if(l.add(Bu(j*R*Pt(N),v*$+j*Ft(N))),s+=I?E+R*rl:E,I^p>=n^w>=n){var A=WS(yb(h),yb(m));JL(A);var T=WS(o,A);JL(T);var D=(I^E>=0?-1:1)*Vl(T[2]);(r>D||r===D&&(A[0]||A[1]))&&(a+=I^E>=0?1:-1)}}return(s<-Lt||s<Lt&&l<-qL)^a&1}function zVe(e,t,n,r){return function(i){var o=t(i),s=jVe(),a=t(s),l=!1,c,u,f,d={point:h,lineStart:g,lineEnd:y,polygonStart:function(){d.point=v,d.lineStart=x,d.lineEnd=m,u=[],c=[]},polygonEnd:function(){d.point=h,d.lineStart=g,d.lineEnd=y,u=C4e(u);var w=Inn(c,r);u.length?(l||(i.polygonStart(),l=!0),FVe(u,jnn,w,n,i)):w&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(w,S){e(w,S)&&i.point(w,S)}function p(w,S){o.point(w,S)}function g(){d.point=p,o.lineStart()}function y(){d.point=h,o.lineEnd()}function v(w,S){f.push([w,S]),a.point(w,S)}function x(){a.lineStart(),f=[]}function m(){v(f[0][0],f[0][1]),a.lineEnd();var w=a.clean(),S=s.result(),C,$=S.length,E,R,N;if(f.pop(),c.push(f),f=null,!!$){if(w&1){if(R=S[0],(E=R.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),C=0;C<E;++C)i.point((N=R[C])[0],N[1]);i.lineEnd()}return}$>1&&w&2&&S.push(S.pop().concat(S.shift())),u.push(S.filter(Lnn))}}return d}}function Lnn(e){return e.length>1}function jnn(e,t){return((e=e.x)[0]<0?e[1]-Wi-Lt:Wi-e[1])-((t=t.x)[0]<0?t[1]-Wi-Lt:Wi-t[1])}const mxe=zVe(function(){return!0},Fnn,Qnn,[-xn,-Wi]);function Fnn(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,s){var a=o>0?xn:-xn,l=Mn(o-t);Mn(l-xn)<Lt?(e.point(t,n=(n+s)/2>0?Wi:-Wi),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),e.point(o,n),i=0):r!==a&&l>=xn&&(Mn(t-r)<Lt&&(t-=r*Lt),Mn(o-a)<Lt&&(o-=a*Lt),n=znn(t,n,o,s),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(a,n),i=0),e.point(t=o,n=s),r=a},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function znn(e,t,n,r){var i,o,s=Pt(e-n);return Mn(s)>Lt?_C((Pt(t)*(o=Ft(r))*Pt(n)-Pt(r)*(i=Ft(t))*Pt(e))/(i*o*s)):(t+r)/2}function Qnn(e,t,n,r){var i;if(e==null)i=n*Wi,r.point(-xn,i),r.point(0,i),r.point(xn,i),r.point(xn,0),r.point(xn,-i),r.point(0,-i),r.point(-xn,-i),r.point(-xn,0),r.point(-xn,i);else if(Mn(e[0]-t[0])>Lt){var o=e[0]<t[0]?xn:-xn;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function Bnn(e){var t=Ft(e),n=6*mn,r=t>0,i=Mn(t)>Lt;function o(u,f,d,h){Mnn(h,e,n,d,u,f)}function s(u,f){return Ft(u)*Ft(f)>t}function a(u){var f,d,h,p,g;return{lineStart:function(){p=h=!1,g=1},point:function(y,v){var x=[y,v],m,w=s(y,v),S=r?w?0:c(y,v):w?c(y+(y<0?xn:-xn),v):0;if(!f&&(p=h=w)&&u.lineStart(),w!==h&&(m=l(f,x),(!m||SI(f,m)||SI(x,m))&&(x[2]=1)),w!==h)g=0,w?(u.lineStart(),m=l(x,f),u.point(m[0],m[1])):(m=l(f,x),u.point(m[0],m[1],2),u.lineEnd()),f=m;else if(i&&f&&r^w){var C;!(S&d)&&(C=l(x,f,!0))&&(g=0,r?(u.lineStart(),u.point(C[0][0],C[0][1]),u.point(C[1][0],C[1][1]),u.lineEnd()):(u.point(C[1][0],C[1][1]),u.lineEnd(),u.lineStart(),u.point(C[0][0],C[0][1],3)))}w&&(!f||!SI(f,x))&&u.point(x[0],x[1]),f=x,h=w,d=S},lineEnd:function(){h&&u.lineEnd(),f=null},clean:function(){return g|(p&&h)<<1}}}function l(u,f,d){var h=yb(u),p=yb(f),g=[1,0,0],y=WS(h,p),v=SN(y,y),x=y[0],m=v-x*x;if(!m)return!d&&u;var w=t*v/m,S=-t*x/m,C=WS(g,y),$=_N(g,w),E=_N(y,S);UW($,E);var R=C,N=SN($,R),I=SN(R,R),j=N*N-I*(SN($,$)-1);if(!(j<0)){var A=il(j),T=_N(R,(-N-A)/I);if(UW(T,$),T=KL(T),!d)return T;var D=u[0],L=f[0],W=u[1],V=f[1],Q;L<D&&(Q=D,D=L,L=Q);var B=L-D,Y=Mn(B-xn)<Lt,U=Y||B<Lt;if(!Y&&V<W&&(Q=W,W=V,V=Q),U?Y?W+V>0^T[1]<(Mn(T[0]-D)<Lt?W:V):W<=T[1]&&T[1]<=V:B>xn^(D<=T[0]&&T[0]<=L)){var q=_N(R,(-N+A)/I);return UW(q,$),[T,KL(q)]}}}function c(u,f){var d=r?e:xn-e,h=0;return u<-d?h|=1:u>d&&(h|=2),f<-d?h|=4:f>d&&(h|=8),h}return zVe(s,a,o,r?[0,-e]:[-xn,e-xn])}function Wnn(e,t,n,r,i,o){var s=e[0],a=e[1],l=t[0],c=t[1],u=0,f=1,d=l-s,h=c-a,p;if(p=n-s,!(!d&&p>0)){if(p/=d,d<0){if(p<u)return;p<f&&(f=p)}else if(d>0){if(p>f)return;p>u&&(u=p)}if(p=i-s,!(!d&&p<0)){if(p/=d,d<0){if(p>f)return;p>u&&(u=p)}else if(d>0){if(p<u)return;p<f&&(f=p)}if(p=r-a,!(!h&&p>0)){if(p/=h,h<0){if(p<u)return;p<f&&(f=p)}else if(h>0){if(p>f)return;p>u&&(u=p)}if(p=o-a,!(!h&&p<0)){if(p/=h,h<0){if(p>f)return;p>u&&(u=p)}else if(h>0){if(p<u)return;p<f&&(f=p)}return u>0&&(e[0]=s+u*d,e[1]=a+u*h),f<1&&(t[0]=s+f*d,t[1]=a+f*h),!0}}}}}var $E=1e9,$N=-$E;function QVe(e,t,n,r){function i(c,u){return e<=c&&c<=n&&t<=u&&u<=r}function o(c,u,f,d){var h=0,p=0;if(c==null||(h=s(c,f))!==(p=s(u,f))||l(c,u)<0^f>0)do d.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+f+4)%4)!==p);else d.point(u[0],u[1])}function s(c,u){return Mn(c[0]-e)<Lt?u>0?0:3:Mn(c[0]-n)<Lt?u>0?2:1:Mn(c[1]-t)<Lt?u>0?1:0:u>0?3:2}function a(c,u){return l(c.x,u.x)}function l(c,u){var f=s(c,1),d=s(u,1);return f!==d?f-d:f===0?u[1]-c[1]:f===1?c[0]-u[0]:f===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,f=jVe(),d,h,p,g,y,v,x,m,w,S,C,$={point:E,lineStart:j,lineEnd:A,polygonStart:N,polygonEnd:I};function E(D,L){i(D,L)&&u.point(D,L)}function R(){for(var D=0,L=0,W=h.length;L<W;++L)for(var V=h[L],Q=1,B=V.length,Y=V[0],U,q,Z=Y[0],oe=Y[1];Q<B;++Q)U=Z,q=oe,Y=V[Q],Z=Y[0],oe=Y[1],q<=r?oe>r&&(Z-U)*(r-q)>(oe-q)*(e-U)&&++D:oe<=r&&(Z-U)*(r-q)<(oe-q)*(e-U)&&--D;return D}function N(){u=f,d=[],h=[],C=!0}function I(){var D=R(),L=C&&D,W=(d=C4e(d)).length;(L||W)&&(c.polygonStart(),L&&(c.lineStart(),o(null,null,1,c),c.lineEnd()),W&&FVe(d,a,D,o,c),c.polygonEnd()),u=c,d=h=p=null}function j(){$.point=T,h&&h.push(p=[]),S=!0,w=!1,x=m=NaN}function A(){d&&(T(g,y),v&&w&&f.rejoin(),d.push(f.result())),$.point=E,w&&u.lineEnd()}function T(D,L){var W=i(D,L);if(h&&p.push([D,L]),S)g=D,y=L,v=W,S=!1,W&&(u.lineStart(),u.point(D,L));else if(W&&w)u.point(D,L);else{var V=[x=Math.max($N,Math.min($E,x)),m=Math.max($N,Math.min($E,m))],Q=[D=Math.max($N,Math.min($E,D)),L=Math.max($N,Math.min($E,L))];Wnn(V,Q,e,t,n,r)?(w||(u.lineStart(),u.point(V[0],V[1])),u.point(Q[0],Q[1]),W||u.lineEnd(),C=!1):W&&(u.lineStart(),u.point(D,L),C=!1)}x=D,m=L,w=W}return $}}function yxe(e,t,n){var r=Cc(e,t-Lt,n).concat(t);return function(i){return r.map(function(o){return[i,o]})}}function vxe(e,t,n){var r=Cc(e,t-Lt,n).concat(t);return function(i){return r.map(function(o){return[o,i]})}}function Vnn(){var e,t,n,r,i,o,s,a,l=10,c=l,u=90,f=360,d,h,p,g,y=2.5;function v(){return{type:"MultiLineString",coordinates:x()}}function x(){return Cc(wN(r/u)*u,n,u).map(p).concat(Cc(wN(a/f)*f,s,f).map(g)).concat(Cc(wN(t/l)*l,e,l).filter(function(m){return Mn(m%u)>Lt}).map(d)).concat(Cc(wN(o/c)*c,i,c).filter(function(m){return Mn(m%f)>Lt}).map(h))}return v.lines=function(){return x().map(function(m){return{type:"LineString",coordinates:m}})},v.outline=function(){return{type:"Polygon",coordinates:[p(r).concat(g(s).slice(1),p(n).reverse().slice(1),g(a).reverse().slice(1))]}},v.extent=function(m){return arguments.length?v.extentMajor(m).extentMinor(m):v.extentMinor()},v.extentMajor=function(m){return arguments.length?(r=+m[0][0],n=+m[1][0],a=+m[0][1],s=+m[1][1],r>n&&(m=r,r=n,n=m),a>s&&(m=a,a=s,s=m),v.precision(y)):[[r,a],[n,s]]},v.extentMinor=function(m){return arguments.length?(t=+m[0][0],e=+m[1][0],o=+m[0][1],i=+m[1][1],t>e&&(m=t,t=e,e=m),o>i&&(m=o,o=i,i=m),v.precision(y)):[[t,o],[e,i]]},v.step=function(m){return arguments.length?v.stepMajor(m).stepMinor(m):v.stepMinor()},v.stepMajor=function(m){return arguments.length?(u=+m[0],f=+m[1],v):[u,f]},v.stepMinor=function(m){return arguments.length?(l=+m[0],c=+m[1],v):[l,c]},v.precision=function(m){return arguments.length?(y=+m,d=yxe(o,i,90),h=vxe(t,e,y),p=yxe(a,s,90),g=vxe(r,n,y),v):y},v.extentMajor([[-180,-90+Lt],[180,90-Lt]]).extentMinor([[-180,-80-Lt],[180,80+Lt]])}const V2=e=>e;var YW=new Ka,kZ=new Ka,BVe,WVe,TZ,PZ,Nm={point:Rs,lineStart:Rs,lineEnd:Rs,polygonStart:function(){Nm.lineStart=Unn,Nm.lineEnd=Ynn},polygonEnd:function(){Nm.lineStart=Nm.lineEnd=Nm.point=Rs,YW.add(Mn(kZ)),kZ=new Ka},result:function(){var e=YW/2;return YW=new Ka,e}};function Unn(){Nm.point=qnn}function qnn(e,t){Nm.point=VVe,BVe=TZ=e,WVe=PZ=t}function VVe(e,t){kZ.add(PZ*e-TZ*t),TZ=e,PZ=t}function Ynn(){VVe(BVe,WVe)}const bxe=Nm;var VS=1/0,aj=VS,U2=-VS,lj=U2,Xnn={point:Hnn,lineStart:Rs,lineEnd:Rs,polygonStart:Rs,polygonEnd:Rs,result:function(){var e=[[VS,aj],[U2,lj]];return U2=lj=-(aj=VS=1/0),e}};function Hnn(e,t){e<VS&&(VS=e),e>U2&&(U2=e),t<aj&&(aj=t),t>lj&&(lj=t)}const cj=Xnn;var RZ=0,AZ=0,EE=0,uj=0,fj=0,Jx=0,DZ=0,NZ=0,kE=0,UVe,qVe,Hd,Zd,wf={point:vb,lineStart:Oxe,lineEnd:xxe,polygonStart:function(){wf.lineStart=Knn,wf.lineEnd=Jnn},polygonEnd:function(){wf.point=vb,wf.lineStart=Oxe,wf.lineEnd=xxe},result:function(){var e=kE?[DZ/kE,NZ/kE]:Jx?[uj/Jx,fj/Jx]:EE?[RZ/EE,AZ/EE]:[NaN,NaN];return RZ=AZ=EE=uj=fj=Jx=DZ=NZ=kE=0,e}};function vb(e,t){RZ+=e,AZ+=t,++EE}function Oxe(){wf.point=Znn}function Znn(e,t){wf.point=Gnn,vb(Hd=e,Zd=t)}function Gnn(e,t){var n=e-Hd,r=t-Zd,i=il(n*n+r*r);uj+=i*(Hd+e)/2,fj+=i*(Zd+t)/2,Jx+=i,vb(Hd=e,Zd=t)}function xxe(){wf.point=vb}function Knn(){wf.point=ern}function Jnn(){YVe(UVe,qVe)}function ern(e,t){wf.point=YVe,vb(UVe=Hd=e,qVe=Zd=t)}function YVe(e,t){var n=e-Hd,r=t-Zd,i=il(n*n+r*r);uj+=i*(Hd+e)/2,fj+=i*(Zd+t)/2,Jx+=i,i=Zd*e-Hd*t,DZ+=i*(Hd+e),NZ+=i*(Zd+t),kE+=i*3,vb(Hd=e,Zd=t)}const wxe=wf;function XVe(e){this._context=e}XVe.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,rl);break}}},result:Rs};var MZ=new Ka,XW,HVe,ZVe,TE,PE,dj={point:Rs,lineStart:function(){dj.point=trn},lineEnd:function(){XW&&GVe(HVe,ZVe),dj.point=Rs},polygonStart:function(){XW=!0},polygonEnd:function(){XW=null},result:function(){var e=+MZ;return MZ=new Ka,e}};function trn(e,t){dj.point=GVe,HVe=TE=e,ZVe=PE=t}function GVe(e,t){TE-=e,PE-=t,MZ.add(il(TE*TE+PE*PE)),TE=e,PE=t}const Sxe=dj;let _xe,hj,Cxe,$xe;class Exe{constructor(t){this._append=t==null?KVe:nrn(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==Cxe||this._append!==hj){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Cxe=r,hj=this._append,$xe=this._,this._=i}this._+=$xe;break}}}result(){const t=this._;return this._="",t.length?t:null}}function KVe(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function nrn(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return KVe;if(t!==_xe){const n=10**t;_xe=t,hj=function(i){let o=1;this._+=i[0];for(const s=i.length;o<s;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return hj}function JVe(e,t){let n=3,r=4.5,i,o;function s(a){return a&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),Pp(a,i(o))),o.result()}return s.area=function(a){return Pp(a,i(bxe)),bxe.result()},s.measure=function(a){return Pp(a,i(Sxe)),Sxe.result()},s.bounds=function(a){return Pp(a,i(cj)),cj.result()},s.centroid=function(a){return Pp(a,i(wxe)),wxe.result()},s.projection=function(a){return arguments.length?(i=a==null?(e=null,V2):(e=a).stream,s):e},s.context=function(a){return arguments.length?(o=a==null?(t=null,new Exe(n)):new XVe(t=a),typeof r!="function"&&o.pointRadius(r),s):t},s.pointRadius=function(a){return arguments.length?(r=typeof a=="function"?a:(o.pointRadius(+a),+a),s):r},s.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const l=Math.floor(a);if(!(l>=0))throw new RangeError(`invalid digits: ${a}`);n=l}return t===null&&(o=new Exe(n)),s},s.projection(e).digits(n).context(t)}function T8(e){return function(t){var n=new IZ;for(var r in e)n[r]=e[r];return n.stream=t,n}}function IZ(){}IZ.prototype={constructor:IZ,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function yle(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Pp(n,e.stream(cj)),t(cj.result()),r!=null&&e.clipExtent(r),e}function P8(e,t,n){return yle(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],s=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),a=+t[0][0]+(i-s*(r[1][0]+r[0][0]))/2,l=+t[0][1]+(o-s*(r[1][1]+r[0][1]))/2;e.scale(150*s).translate([a,l])},n)}function vle(e,t,n){return P8(e,[[0,0],t],n)}function ble(e,t,n){return yle(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),s=(i-o*(r[1][0]+r[0][0]))/2,a=-o*r[0][1];e.scale(150*o).translate([s,a])},n)}function Ole(e,t,n){return yle(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),s=-o*r[0][0],a=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([s,a])},n)}var kxe=16,rrn=Ft(30*mn);function Txe(e,t){return+t?orn(e,t):irn(e)}function irn(e){return T8({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function orn(e,t){function n(r,i,o,s,a,l,c,u,f,d,h,p,g,y){var v=c-r,x=u-i,m=v*v+x*x;if(m>4*t&&g--){var w=s+d,S=a+h,C=l+p,$=il(w*w+S*S+C*C),E=Vl(C/=$),R=Mn(Mn(C)-1)<Lt||Mn(o-f)<Lt?(o+f)/2:Bu(S,w),N=e(R,E),I=N[0],j=N[1],A=I-r,T=j-i,D=x*A-v*T;(D*D/m>t||Mn((v*A+x*T)/m-.5)>.3||s*d+a*h+l*p<rrn)&&(n(r,i,o,s,a,l,I,j,R,w/=$,S/=$,C,g,y),y.point(I,j),n(I,j,R,w,S,C,c,u,f,d,h,p,g,y))}}return function(r){var i,o,s,a,l,c,u,f,d,h,p,g,y={point:v,lineStart:x,lineEnd:w,polygonStart:function(){r.polygonStart(),y.lineStart=S},polygonEnd:function(){r.polygonEnd(),y.lineStart=x}};function v(E,R){E=e(E,R),r.point(E[0],E[1])}function x(){f=NaN,y.point=m,r.lineStart()}function m(E,R){var N=yb([E,R]),I=e(E,R);n(f,d,u,h,p,g,f=I[0],d=I[1],u=E,h=N[0],p=N[1],g=N[2],kxe,r),r.point(f,d)}function w(){y.point=v,r.lineEnd()}function S(){x(),y.point=C,y.lineEnd=$}function C(E,R){m(i=E,R),o=f,s=d,a=h,l=p,c=g,y.point=m}function $(){n(f,d,u,h,p,g,o,s,i,a,l,c,kxe,r),y.lineEnd=w,w()}return y}}var srn=T8({point:function(e,t){this.stream.point(e*mn,t*mn)}});function arn(e){return T8({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function lrn(e,t,n,r,i){function o(s,a){return s*=r,a*=i,[t+e*s,n-e*a]}return o.invert=function(s,a){return[(s-t)/e*r,(n-a)/e*i]},o}function Pxe(e,t,n,r,i,o){if(!o)return lrn(e,t,n,r,i);var s=Ft(o),a=Pt(o),l=s*e,c=a*e,u=s/e,f=a/e,d=(a*n-s*t)/e,h=(a*t+s*n)/e;function p(g,y){return g*=r,y*=i,[l*g-c*y+t,n-c*g-l*y]}return p.invert=function(g,y){return[r*(u*g-f*y+d),i*(h-f*g-u*y)]},p}function Zh(e){return eUe(function(){return e})()}function eUe(e){var t,n=150,r=480,i=250,o=0,s=0,a=0,l=0,c=0,u,f=0,d=1,h=1,p=null,g=mxe,y=null,v,x,m,w=V2,S=.5,C,$,E,R,N;function I(D){return E(D[0]*mn,D[1]*mn)}function j(D){return D=E.invert(D[0],D[1]),D&&[D[0]*Gi,D[1]*Gi]}I.stream=function(D){return R&&N===D?R:R=srn(arn(u)(g(C(w(N=D)))))},I.preclip=function(D){return arguments.length?(g=D,p=void 0,T()):g},I.postclip=function(D){return arguments.length?(w=D,y=v=x=m=null,T()):w},I.clipAngle=function(D){return arguments.length?(g=+D?Bnn(p=D*mn):(p=null,mxe),T()):p*Gi},I.clipExtent=function(D){return arguments.length?(w=D==null?(y=v=x=m=null,V2):QVe(y=+D[0][0],v=+D[0][1],x=+D[1][0],m=+D[1][1]),T()):y==null?null:[[y,v],[x,m]]},I.scale=function(D){return arguments.length?(n=+D,A()):n},I.translate=function(D){return arguments.length?(r=+D[0],i=+D[1],A()):[r,i]},I.center=function(D){return arguments.length?(o=D[0]%360*mn,s=D[1]%360*mn,A()):[o*Gi,s*Gi]},I.rotate=function(D){return arguments.length?(a=D[0]%360*mn,l=D[1]%360*mn,c=D.length>2?D[2]%360*mn:0,A()):[a*Gi,l*Gi,c*Gi]},I.angle=function(D){return arguments.length?(f=D%360*mn,A()):f*Gi},I.reflectX=function(D){return arguments.length?(d=D?-1:1,A()):d<0},I.reflectY=function(D){return arguments.length?(h=D?-1:1,A()):h<0},I.precision=function(D){return arguments.length?(C=Txe($,S=D*D),T()):il(S)},I.fitExtent=function(D,L){return P8(I,D,L)},I.fitSize=function(D,L){return vle(I,D,L)},I.fitWidth=function(D,L){return ble(I,D,L)},I.fitHeight=function(D,L){return Ole(I,D,L)};function A(){var D=Pxe(n,0,0,d,h,f).apply(null,t(o,s)),L=Pxe(n,r-D[0],i-D[1],d,h,f);return u=LVe(a,l,c),$=$Z(t,L),E=$Z(u,$),C=Txe($,S),T()}function T(){return R=N=null,I}return function(){return t=e.apply(this,arguments),I.invert=t.invert&&j,A()}}function xle(e){var t=0,n=xn/3,r=eUe(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*mn,n=o[1]*mn):[t*Gi,n*Gi]},i}function crn(e){var t=Ft(e);function n(r,i){return[r*t,Pt(i)/t]}return n.invert=function(r,i){return[r/t,Vl(i*t)]},n}function urn(e,t){var n=Pt(e),r=(n+Pt(t))/2;if(Mn(r)<Lt)return crn(e);var i=1+n*(2*r-n),o=il(i)/r;function s(a,l){var c=il(i-2*r*Pt(l))/r;return[c*Pt(a*=r),o-c*Ft(a)]}return s.invert=function(a,l){var c=o-l,u=Bu(a,Mn(c))*xu(c);return c*r<0&&(u-=xn*xu(a)*xu(c)),[u/r,Vl((i-(a*a+c*c)*r*r)/(2*r))]},s}function pj(){return xle(urn).scale(155.424).center([0,33.6442])}function tUe(){return pj().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function frn(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function drn(){var e,t,n=tUe(),r,i=pj().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,s=pj().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,l,c={point:function(d,h){l=[d,h]}};function u(d){var h=d[0],p=d[1];return l=null,r.point(h,p),l||(o.point(h,p),l)||(a.point(h,p),l)}u.invert=function(d){var h=n.scale(),p=n.translate(),g=(d[0]-p[0])/h,y=(d[1]-p[1])/h;return(y>=.12&&y<.234&&g>=-.425&&g<-.214?i:y>=.166&&y<.234&&g>=-.214&&g<-.115?s:n).invert(d)},u.stream=function(d){return e&&t===d?e:e=frn([n.stream(t=d),i.stream(d),s.stream(d)])},u.precision=function(d){return arguments.length?(n.precision(d),i.precision(d),s.precision(d),f()):n.precision()},u.scale=function(d){return arguments.length?(n.scale(d),i.scale(d*.35),s.scale(d),u.translate(n.translate())):n.scale()},u.translate=function(d){if(!arguments.length)return n.translate();var h=n.scale(),p=+d[0],g=+d[1];return r=n.translate(d).clipExtent([[p-.455*h,g-.238*h],[p+.455*h,g+.238*h]]).stream(c),o=i.translate([p-.307*h,g+.201*h]).clipExtent([[p-.425*h+Lt,g+.12*h+Lt],[p-.214*h-Lt,g+.234*h-Lt]]).stream(c),a=s.translate([p-.205*h,g+.212*h]).clipExtent([[p-.214*h+Lt,g+.166*h+Lt],[p-.115*h-Lt,g+.234*h-Lt]]).stream(c),f()},u.fitExtent=function(d,h){return P8(u,d,h)},u.fitSize=function(d,h){return vle(u,d,h)},u.fitWidth=function(d,h){return ble(u,d,h)},u.fitHeight=function(d,h){return Ole(u,d,h)};function f(){return e=t=null,u}return u.scale(1070)}function nUe(e){return function(t,n){var r=Ft(t),i=Ft(n),o=e(r*i);return o===1/0?[2,0]:[o*i*Pt(t),o*Pt(n)]}}function GR(e){return function(t,n){var r=il(t*t+n*n),i=e(r),o=Pt(i),s=Ft(i);return[Bu(t*o,r*s),Vl(r&&n*o/r)]}}var rUe=nUe(function(e){return il(2/(1+e))});rUe.invert=GR(function(e){return 2*Vl(e/2)});function hrn(){return Zh(rUe).scale(124.75).clipAngle(180-.001)}var iUe=nUe(function(e){return(e=$Ve(e))&&e/Pt(e)});iUe.invert=GR(function(e){return e});function prn(){return Zh(iUe).scale(79.4188).clipAngle(180-.001)}function R8(e,t){return[e,XL(gle((Wi+t)/2))]}R8.invert=function(e,t){return[e,2*_C(CVe(t))-Wi]};function grn(){return oUe(R8).scale(961/rl)}function oUe(e){var t=Zh(e),n=t.center,r=t.scale,i=t.translate,o=t.clipExtent,s=null,a,l,c;t.scale=function(f){return arguments.length?(r(f),u()):r()},t.translate=function(f){return arguments.length?(i(f),u()):i()},t.center=function(f){return arguments.length?(n(f),u()):n()},t.clipExtent=function(f){return arguments.length?(f==null?s=a=l=c=null:(s=+f[0][0],a=+f[0][1],l=+f[1][0],c=+f[1][1]),u()):s==null?null:[[s,a],[l,c]]};function u(){var f=xn*r(),d=t(Nnn(t.rotate()).invert([0,0]));return o(s==null?[[d[0]-f,d[1]-f],[d[0]+f,d[1]+f]]:e===R8?[[Math.max(d[0]-f,s),a],[Math.min(d[0]+f,l),c]]:[[s,Math.max(d[1]-f,a)],[l,Math.min(d[1]+f,c)]])}return u()}function EN(e){return gle((Wi+e)/2)}function mrn(e,t){var n=Ft(e),r=e===t?Pt(e):XL(n/Ft(t))/XL(EN(t)/EN(e)),i=n*VW(EN(e),r)/r;if(!r)return R8;function o(s,a){i>0?a<-Wi+Lt&&(a=-Wi+Lt):a>Wi-Lt&&(a=Wi-Lt);var l=i/VW(EN(a),r);return[l*Pt(r*s),i-l*Ft(r*s)]}return o.invert=function(s,a){var l=i-a,c=xu(r)*il(s*s+l*l),u=Bu(s,Mn(l))*xu(l);return l*r<0&&(u-=xn*xu(s)*xu(l)),[u/r,2*_C(VW(i/c,1/r))-Wi]},o}function yrn(){return xle(mrn).scale(109.5).parallels([30,30])}function gj(e,t){return[e,t]}gj.invert=gj;function vrn(){return Zh(gj).scale(152.63)}function brn(e,t){var n=Ft(e),r=e===t?Pt(e):(n-Ft(t))/(t-e),i=n/r+e;if(Mn(r)<Lt)return gj;function o(s,a){var l=i-a,c=r*s;return[l*Pt(c),i-l*Ft(c)]}return o.invert=function(s,a){var l=i-a,c=Bu(s,Mn(l))*xu(l);return l*r<0&&(c-=xn*xu(s)*xu(l)),[c/r,i-xu(r)*il(s*s+l*l)]},o}function Orn(){return xle(brn).scale(131.154).center([0,13.9389])}var Lk=1.340264,jk=-.081106,Fk=893e-6,zk=.003796,mj=il(3)/2,xrn=12;function sUe(e,t){var n=Vl(mj*Pt(t)),r=n*n,i=r*r*r;return[e*Ft(n)/(mj*(Lk+3*jk*r+i*(7*Fk+9*zk*r))),n*(Lk+jk*r+i*(Fk+zk*r))]}sUe.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,o=0,s,a,l;o<xrn&&(a=n*(Lk+jk*r+i*(Fk+zk*r))-t,l=Lk+3*jk*r+i*(7*Fk+9*zk*r),n-=s=a/l,r=n*n,i=r*r*r,!(Mn(s)<qL));++o);return[mj*e*(Lk+3*jk*r+i*(7*Fk+9*zk*r))/Ft(n),Vl(Pt(n)/mj)]};function wrn(){return Zh(sUe).scale(177.158)}function aUe(e,t){var n=Ft(t),r=Ft(e)*n;return[n*Pt(e)/r,Pt(t)/r]}aUe.invert=GR(_C);function Srn(){return Zh(aUe).scale(144.049).clipAngle(60)}function _rn(){var e=1,t=0,n=0,r=1,i=1,o=0,s,a,l=null,c,u,f,d=1,h=1,p=T8({point:function(w,S){var C=m([w,S]);this.stream.point(C[0],C[1])}}),g=V2,y,v;function x(){return d=e*r,h=e*i,y=v=null,m}function m(w){var S=w[0]*d,C=w[1]*h;if(o){var $=C*s-S*a;S=S*s+C*a,C=$}return[S+t,C+n]}return m.invert=function(w){var S=w[0]-t,C=w[1]-n;if(o){var $=C*s+S*a;S=S*s-C*a,C=$}return[S/d,C/h]},m.stream=function(w){return y&&v===w?y:y=p(g(v=w))},m.postclip=function(w){return arguments.length?(g=w,l=c=u=f=null,x()):g},m.clipExtent=function(w){return arguments.length?(g=w==null?(l=c=u=f=null,V2):QVe(l=+w[0][0],c=+w[0][1],u=+w[1][0],f=+w[1][1]),x()):l==null?null:[[l,c],[u,f]]},m.scale=function(w){return arguments.length?(e=+w,x()):e},m.translate=function(w){return arguments.length?(t=+w[0],n=+w[1],x()):[t,n]},m.angle=function(w){return arguments.length?(o=w%360*mn,a=Pt(o),s=Ft(o),x()):o*Gi},m.reflectX=function(w){return arguments.length?(r=w?-1:1,x()):r<0},m.reflectY=function(w){return arguments.length?(i=w?-1:1,x()):i<0},m.fitExtent=function(w,S){return P8(m,w,S)},m.fitSize=function(w,S){return vle(m,w,S)},m.fitWidth=function(w,S){return ble(m,w,S)},m.fitHeight=function(w,S){return Ole(m,w,S)},m}function lUe(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),t*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}lUe.invert=function(e,t){var n=t,r=25,i;do{var o=n*n,s=o*o;n-=i=(n*(1.007226+o*(.015085+s*(-.044475+.028874*o-.005916*s)))-t)/(1.007226+o*(.015085*3+s*(-.044475*7+.028874*9*o-.005916*11*s)))}while(Mn(i)>Lt&&--r>0);return[e/(.8707+(o=n*n)*(-.131979+o*(-.013791+o*o*o*(.003971-.001529*o)))),n]};function Crn(){return Zh(lUe).scale(175.295)}function cUe(e,t){return[Ft(t)*Pt(e),Pt(t)]}cUe.invert=GR(Vl);function $rn(){return Zh(cUe).scale(249.5).clipAngle(90+Lt)}function uUe(e,t){var n=Ft(t),r=1+Ft(e)*n;return[n*Pt(e)/r,Pt(t)/r]}uUe.invert=GR(function(e){return 2*_C(e)});function Ern(){return Zh(uUe).scale(250).clipAngle(142)}function fUe(e,t){return[XL(gle((Wi+t)/2)),-e]}fUe.invert=function(e,t){return[-t,2*_C(CVe(e))-Wi]};function krn(){var e=oUe(fUe),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}var Trn=Math.abs,LZ=Math.cos,yj=Math.sin,Prn=1e-6,dUe=Math.PI,jZ=dUe/2,Rxe=Rrn(2);function Axe(e){return e>1?jZ:e<-1?-jZ:Math.asin(e)}function Rrn(e){return e>0?Math.sqrt(e):0}function Arn(e,t){var n=e*yj(t),r=30,i;do t-=i=(t+yj(t)-n)/(1+LZ(t));while(Trn(i)>Prn&&--r>0);return t/2}function Drn(e,t,n){function r(i,o){return[e*i*LZ(o=Arn(n,o)),t*yj(o)]}return r.invert=function(i,o){return o=Axe(o/t),[i/(e*LZ(o)),Axe((2*o+yj(2*o))/n)]},r}var Nrn=Drn(Rxe/jZ,Rxe,dUe);function Mrn(){return Zh(Nrn).scale(169.529)}const Irn=JVe(),FZ=["clipAngle","clipExtent","scale","translate","center","rotate","parallels","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];function Lrn(e,t){return function n(){const r=t();return r.type=e,r.path=JVe().projection(r),r.copy=r.copy||function(){const i=n();return FZ.forEach(o=>{r[o]&&i[o](r[o]())}),i.path.pointRadius(r.path.pointRadius()),i},NBe(r)}}function wle(e,t){if(!e||typeof e!="string")throw new Error("Projection type must be a name string.");return e=e.toLowerCase(),arguments.length>1?(vj[e]=Lrn(e,t),this):vj[e]||null}function hUe(e){return e&&e.path||Irn}const vj={albers:tUe,albersusa:drn,azimuthalequalarea:hrn,azimuthalequidistant:prn,conicconformal:yrn,conicequalarea:pj,conicequidistant:Orn,equalEarth:wrn,equirectangular:vrn,gnomonic:Srn,identity:_rn,mercator:grn,mollweide:Mrn,naturalEarth1:Crn,orthographic:$rn,stereographic:Ern,transversemercator:krn};for(const e in vj)wle(e,vj[e]);function jrn(){}const dp=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function pUe(){var e=1,t=1,n=a;function r(l,c){return c.map(u=>i(l,u))}function i(l,c){var u=[],f=[];return o(l,c,d=>{n(d,l,c),Frn(d)>0?u.push([d]):f.push(d)}),f.forEach(d=>{for(var h=0,p=u.length,g;h<p;++h)if(zrn((g=u[h])[0],d)!==-1){g.push(d);return}}),{type:"MultiPolygon",value:c,coordinates:u}}function o(l,c,u){var f=new Array,d=new Array,h,p,g,y,v,x;for(h=p=-1,y=l[0]>=c,dp[y<<1].forEach(m);++h<e-1;)g=y,y=l[h+1]>=c,dp[g|y<<1].forEach(m);for(dp[y<<0].forEach(m);++p<t-1;){for(h=-1,y=l[p*e+e]>=c,v=l[p*e]>=c,dp[y<<1|v<<2].forEach(m);++h<e-1;)g=y,y=l[p*e+e+h+1]>=c,x=v,v=l[p*e+h+1]>=c,dp[g|y<<1|v<<2|x<<3].forEach(m);dp[y|v<<3].forEach(m)}for(h=-1,v=l[p*e]>=c,dp[v<<2].forEach(m);++h<e-1;)x=v,v=l[p*e+h+1]>=c,dp[v<<2|x<<3].forEach(m);dp[v<<3].forEach(m);function m(w){var S=[w[0][0]+h,w[0][1]+p],C=[w[1][0]+h,w[1][1]+p],$=s(S),E=s(C),R,N;(R=d[$])?(N=f[E])?(delete d[R.end],delete f[N.start],R===N?(R.ring.push(C),u(R.ring)):f[R.start]=d[N.end]={start:R.start,end:N.end,ring:R.ring.concat(N.ring)}):(delete d[R.end],R.ring.push(C),d[R.end=E]=R):(R=f[E])?(N=d[$])?(delete f[R.start],delete d[N.end],R===N?(R.ring.push(C),u(R.ring)):f[N.start]=d[R.end]={start:N.start,end:R.end,ring:N.ring.concat(R.ring)}):(delete f[R.start],R.ring.unshift(S),f[R.start=$]=R):f[$]=d[E]={start:$,end:E,ring:[S,C]}}}function s(l){return l[0]*2+l[1]*(e+1)*4}function a(l,c,u){l.forEach(f=>{var d=f[0],h=f[1],p=d|0,g=h|0,y,v=c[g*e+p];d>0&&d<e&&p===d&&(y=c[g*e+p-1],f[0]=d+(u-y)/(v-y)-.5),h>0&&h<t&&g===h&&(y=c[(g-1)*e+p],f[1]=h+(u-y)/(v-y)-.5)})}return r.contour=i,r.size=function(l){if(!arguments.length)return[e,t];var c=Math.floor(l[0]),u=Math.floor(l[1]);return c>=0&&u>=0||De("invalid size"),e=c,t=u,r},r.smooth=function(l){return arguments.length?(n=l?a:jrn,r):n===a},r}function Frn(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}function zrn(e,t){for(var n=-1,r=t.length,i;++n<r;)if(i=Qrn(e,t[n]))return i;return 0}function Qrn(e,t){for(var n=t[0],r=t[1],i=-1,o=0,s=e.length,a=s-1;o<s;a=o++){var l=e[o],c=l[0],u=l[1],f=e[a],d=f[0],h=f[1];if(Brn(l,f,t))return 0;u>r!=h>r&&n<(d-c)*(r-u)/(h-u)+c&&(i=-i)}return i}function Brn(e,t,n){var r;return Wrn(e,t,n)&&Vrn(e[r=+(e[0]===t[0])],n[r],t[r])}function Wrn(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}function Vrn(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}function gUe(e,t,n){return function(r){var i=_h(r),o=n?Math.min(i[0],0):i[0],s=i[1],a=s-o,l=t?e0(o,s,e):a/(e+1);return Cc(o+l,s,l)}}function Sle(e){Pe.call(this,null,e)}Sle.Definition={type:"Isocontour",metadata:{generates:!0},params:[{name:"field",type:"field"},{name:"thresholds",type:"number",array:!0},{name:"levels",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"zero",type:"boolean",default:!0},{name:"smooth",type:"boolean",default:!0},{name:"scale",type:"number",expr:!0},{name:"translate",type:"number",array:!0,expr:!0},{name:"as",type:"string",null:!0,default:"contour"}]};Ke(Sle,Pe,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=e.field||$a,o=pUe().smooth(e.smooth!==!1),s=e.thresholds||Urn(r,i,e),a=e.as===null?null:e.as||"contour",l=[];return r.forEach(c=>{const u=i(c),f=o.size([u.width,u.height])(u.values,Me(s)?s:s(u.values));qrn(f,u,c,e),f.forEach(d=>{l.push(X7(c,sr(a!=null?{[a]:d}:d)))})}),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function Urn(e,t,n){const r=gUe(n.levels||10,n.nice,n.zero!==!1);return n.resolve!=="shared"?r:r(e.map(i=>m1(t(i).values)))}function qrn(e,t,n,r){let i=r.scale||t.scale,o=r.translate||t.translate;if(cn(i)&&(i=i(n,r)),cn(o)&&(o=o(n,r)),(i===1||i==null)&&!o)return;const s=(Un(i)?i:i[0])||1,a=(Un(i)?i:i[1])||1,l=o&&o[0]||0,c=o&&o[1]||0;e.forEach(mUe(t,s,a,l,c))}function mUe(e,t,n,r,i){const o=e.x1||0,s=e.y1||0,a=t*n<0;function l(f){f.forEach(c)}function c(f){a&&f.reverse(),f.forEach(u)}function u(f){f[0]=(f[0]-o)*t+r,f[1]=(f[1]-s)*n+i}return function(f){return f.coordinates.forEach(l),f}}function Dxe(e,t,n){const r=e>=0?e:fse(t,n);return Math.round((Math.sqrt(4*r*r+1)-1)/2)}function HW(e){return cn(e)?e:Ea(+e)}function yUe(){var e=l=>l[0],t=l=>l[1],n=rC,r=[-1,-1],i=960,o=500,s=2;function a(l,c){const u=Dxe(r[0],l,e)>>s,f=Dxe(r[1],l,t)>>s,d=u?u+2:0,h=f?f+2:0,p=2*d+(i>>s),g=2*h+(o>>s),y=new Float32Array(p*g),v=new Float32Array(p*g);let x=y;l.forEach(w=>{const S=d+(+e(w)>>s),C=h+(+t(w)>>s);S>=0&&S<p&&C>=0&&C<g&&(y[S+C*p]+=+n(w))}),u>0&&f>0?(XO(p,g,y,v,u),HO(p,g,v,y,f),XO(p,g,y,v,u),HO(p,g,v,y,f),XO(p,g,y,v,u),HO(p,g,v,y,f)):u>0?(XO(p,g,y,v,u),XO(p,g,v,y,u),XO(p,g,y,v,u),x=v):f>0&&(HO(p,g,y,v,f),HO(p,g,v,y,f),HO(p,g,y,v,f),x=v);const m=c?Math.pow(2,-2*s):1/$4e(x);for(let w=0,S=p*g;w<S;++w)x[w]*=m;return{values:x,scale:1<<s,width:p,height:g,x1:d,y1:h,x2:d+(i>>s),y2:h+(o>>s)}}return a.x=function(l){return arguments.length?(e=HW(l),a):e},a.y=function(l){return arguments.length?(t=HW(l),a):t},a.weight=function(l){return arguments.length?(n=HW(l),a):n},a.size=function(l){if(!arguments.length)return[i,o];var c=+l[0],u=+l[1];return c>=0&&u>=0||De("invalid size"),i=c,o=u,a},a.cellSize=function(l){return arguments.length?((l=+l)>=1||De("invalid cell size"),s=Math.floor(Math.log(l)/Math.LN2),a):1<<s},a.bandwidth=function(l){return arguments.length?(l=lt(l),l.length===1&&(l=[+l[0],+l[0]]),l.length!==2&&De("invalid bandwidth"),r=l,a):r},a}function XO(e,t,n,r,i){const o=(i<<1)+1;for(let s=0;s<t;++s)for(let a=0,l=0;a<e+i;++a)a<e&&(l+=n[a+s*e]),a>=i&&(a>=o&&(l-=n[a-o+s*e]),r[a-i+s*e]=l/Math.min(a+1,e-1+o-a,o))}function HO(e,t,n,r,i){const o=(i<<1)+1;for(let s=0;s<e;++s)for(let a=0,l=0;a<t+i;++a)a<t&&(l+=n[s+a*e]),a>=i&&(a>=o&&(l-=n[s+(a-o)*e]),r[s+(a-i)*e]=l/Math.min(a+1,t-1+o-a,o))}function _le(e){Pe.call(this,null,e)}_le.Definition={type:"KDE2D",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"weight",type:"field"},{name:"groupby",type:"field",array:!0},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number",array:!0,length:2},{name:"counts",type:"boolean",default:!1},{name:"as",type:"string",default:"grid"}]};const Yrn=["x","y","weight","size","cellSize","bandwidth"];function vUe(e,t){return Yrn.forEach(n=>t[n]!=null?e[n](t[n]):0),e}Ke(_le,Pe,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=t.materialize(t.SOURCE).source,i=Xrn(r,e.groupby),o=(e.groupby||[]).map(Vi),s=vUe(yUe(),e),a=e.as||"grid",l=[];function c(u,f){for(let d=0;d<o.length;++d)u[o[d]]=f[d];return u}return l=i.map(u=>sr(c({[a]:s(u,e.counts)},u.dims))),this.value&&(n.rem=this.value),this.value=n.source=n.add=l,n}});function Xrn(e,t){var n=[],r=u=>u(a),i,o,s,a,l,c;if(t==null)n.push(e);else for(i={},o=0,s=e.length;o<s;++o)a=e[o],l=t.map(r),c=i[l],c||(i[l]=c=[],c.dims=l,n.push(c)),c.push(a);return n}function Cle(e){Pe.call(this,null,e)}Cle.Definition={type:"Contour",metadata:{generates:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"values",type:"number",array:!0},{name:"x",type:"field"},{name:"y",type:"field"},{name:"weight",type:"field"},{name:"cellSize",type:"number"},{name:"bandwidth",type:"number"},{name:"count",type:"number"},{name:"nice",type:"boolean",default:!1},{name:"thresholds",type:"number",array:!0},{name:"smooth",type:"boolean",default:!0}]};Ke(Cle,Pe,{transform(e,t){if(this.value&&!t.changed()&&!e.modified())return t.StopPropagation;var n=t.fork(t.NO_SOURCE|t.NO_FIELDS),r=pUe().smooth(e.smooth!==!1),i=e.values,o=e.thresholds||gUe(e.count||10,e.nice,!!i),s=e.size,a,l;return i||(i=t.materialize(t.SOURCE).source,a=vUe(yUe(),e)(i,!0),l=mUe(a,a.scale||1,a.scale||1,0,0),s=[a.width,a.height],i=a.values),o=Me(o)?o:o(i),i=r.size(s)(i,o),l&&i.forEach(l),this.value&&(n.rem=this.value),this.value=n.source=n.add=(i||[]).map(sr),n}});const zZ="Feature",$le="FeatureCollection",Hrn="MultiPoint";function Ele(e){Pe.call(this,null,e)}Ele.Definition={type:"GeoJSON",metadata:{},params:[{name:"fields",type:"field",array:!0,length:2},{name:"geojson",type:"field"}]};Ke(Ele,Pe,{transform(e,t){var n=this._features,r=this._points,i=e.fields,o=i&&i[0],s=i&&i[1],a=e.geojson||!i&&$a,l=t.ADD,c;c=e.modified()||t.changed(t.REM)||t.modified(ya(a))||o&&t.modified(ya(o))||s&&t.modified(ya(s)),(!this.value||c)&&(l=t.SOURCE,this._features=n=[],this._points=r=[]),a&&t.visit(l,u=>n.push(a(u))),o&&s&&(t.visit(l,u=>{var f=o(u),d=s(u);f!=null&&d!=null&&(f=+f)===f&&(d=+d)===d&&r.push([f,d])}),n=n.concat({type:zZ,geometry:{type:Hrn,coordinates:r}})),this.value={type:$le,features:n}}});function kle(e){Pe.call(this,null,e)}kle.Definition={type:"GeoPath",metadata:{modifies:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"path"}]};Ke(kle,Pe,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.field||$a,o=e.as||"path",s=n.SOURCE;!r||e.modified()?(this.value=r=hUe(e.projection),n.materialize().reflow()):s=i===$a||t.modified(i.fields)?n.ADD_MOD:n.ADD;const a=Zrn(r,e.pointRadius);return n.visit(s,l=>l[o]=r(i(l))),r.pointRadius(a),n.modifies(o)}});function Zrn(e,t){const n=e.pointRadius();return e.context(null),t!=null&&e.pointRadius(t),n}function Tle(e){Pe.call(this,null,e)}Tle.Definition={type:"GeoPoint",metadata:{modifies:!0},params:[{name:"projection",type:"projection",required:!0},{name:"fields",type:"field",array:!0,required:!0,length:2},{name:"as",type:"string",array:!0,length:2,default:["x","y"]}]};Ke(Tle,Pe,{transform(e,t){var n=e.projection,r=e.fields[0],i=e.fields[1],o=e.as||["x","y"],s=o[0],a=o[1],l;function c(u){const f=n([r(u),i(u)]);f?(u[s]=f[0],u[a]=f[1]):(u[s]=void 0,u[a]=void 0)}return e.modified()?t=t.materialize().reflow(!0).visit(t.SOURCE,c):(l=t.modified(r.fields)||t.modified(i.fields),t.visit(l?t.ADD_MOD:t.ADD,c)),t.modifies(o)}});function Ple(e){Pe.call(this,null,e)}Ple.Definition={type:"GeoShape",metadata:{modifies:!0,nomod:!0},params:[{name:"projection",type:"projection"},{name:"field",type:"field",default:"datum"},{name:"pointRadius",type:"number",expr:!0},{name:"as",type:"string",default:"shape"}]};Ke(Ple,Pe,{transform(e,t){var n=t.fork(t.ALL),r=this.value,i=e.as||"shape",o=n.ADD;return(!r||e.modified())&&(this.value=r=Grn(hUe(e.projection),e.field||Ql("datum"),e.pointRadius),n.materialize().reflow(),o=n.SOURCE),n.visit(o,s=>s[i]=r),n.modifies(i)}});function Grn(e,t,n){const r=n==null?i=>e(t(i)):i=>{var o=e.pointRadius(),s=e.pointRadius(n)(t(i));return e.pointRadius(o),s};return r.context=i=>(e.context(i),r),r}function Rle(e){Pe.call(this,[],e),this.generator=Vnn()}Rle.Definition={type:"Graticule",metadata:{changes:!0,generates:!0},params:[{name:"extent",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMajor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"extentMinor",type:"array",array:!0,length:2,content:{type:"number",array:!0,length:2}},{name:"step",type:"number",array:!0,length:2},{name:"stepMajor",type:"number",array:!0,length:2,default:[90,360]},{name:"stepMinor",type:"number",array:!0,length:2,default:[10,10]},{name:"precision",type:"number",default:2.5}]};Ke(Rle,Pe,{transform(e,t){var n=this.value,r=this.generator,i;if(!n.length||e.modified())for(const o in e)cn(r[o])&&r[o](e[o]);return i=r(),n.length?t.mod.push(R9e(n[0],i)):t.add.push(sr(i)),n[0]=i,t}});function Ale(e){Pe.call(this,null,e)}Ale.Definition={type:"heatmap",metadata:{modifies:!0},params:[{name:"field",type:"field"},{name:"color",type:"string",expr:!0},{name:"opacity",type:"number",expr:!0},{name:"resolve",type:"enum",values:["shared","independent"],default:"independent"},{name:"as",type:"string",default:"image"}]};Ke(Ale,Pe,{transform(e,t){if(!t.changed()&&!e.modified())return t.StopPropagation;var n=t.materialize(t.SOURCE).source,r=e.resolve==="shared",i=e.field||$a,o=Jrn(e.opacity,e),s=Krn(e.color,e),a=e.as||"image",l={$x:0,$y:0,$value:0,$max:r?m1(n.map(c=>m1(i(c).values))):0};return n.forEach(c=>{const u=i(c),f=ln({},c,l);r||(f.$max=m1(u.values||[])),c[a]=ein(u,f,s.dep?s:Ea(s(f)),o.dep?o:Ea(o(f)))}),t.reflow(!0).modifies(a)}});function Krn(e,t){let n;return cn(e)?(n=r=>o0(e(r,t)),n.dep=bUe(e)):n=Ea(o0(e||"#888")),n}function Jrn(e,t){let n;return cn(e)?(n=r=>e(r,t),n.dep=bUe(e)):e?n=Ea(e):(n=r=>r.$value/r.$max||0,n.dep=!0),n}function bUe(e){if(!cn(e))return!1;const t=td(ya(e));return t.$x||t.$y||t.$value||t.$max}function ein(e,t,n,r){const i=e.width,o=e.height,s=e.x1||0,a=e.y1||0,l=e.x2||i,c=e.y2||o,u=e.values,f=u?y=>u[y]:Am,d=_y(l-s,c-a),h=d.getContext("2d"),p=h.getImageData(0,0,l-s,c-a),g=p.data;for(let y=a,v=0;y<c;++y){t.$y=y-a;for(let x=s,m=y*i;x<l;++x,v+=4){t.$x=x-s,t.$value=f(x+m);const w=n(t);g[v+0]=w.r,g[v+1]=w.g,g[v+2]=w.b,g[v+3]=~~(255*r(t))}}return h.putImageData(p,0,0),d}function OUe(e){Pe.call(this,null,e),this.modified(!0)}Ke(OUe,Pe,{transform(e,t){let n=this.value;return!n||e.modified("type")?(this.value=n=nin(e.type),FZ.forEach(r=>{e[r]!=null&&Nxe(n,r,e[r])})):FZ.forEach(r=>{e.modified(r)&&Nxe(n,r,e[r])}),e.pointRadius!=null&&n.path.pointRadius(e.pointRadius),e.fit&&tin(n,e),t.fork(t.NO_SOURCE|t.NO_FIELDS)}});function tin(e,t){const n=rin(t.fit);t.extent?e.fitExtent(t.extent,n):t.size&&e.fitSize(t.size,n)}function nin(e){const t=wle((e||"mercator").toLowerCase());return t||De("Unrecognized projection type: "+e),t()}function Nxe(e,t,n){cn(e[t])&&e[t](n)}function rin(e){return e=lt(e),e.length===1?e[0]:{type:$le,features:e.reduce((t,n)=>t.concat(iin(n)),[])}}function iin(e){return e.type===$le?e.features:lt(e).filter(t=>t!=null).map(t=>t.type===zZ?t:{type:zZ,geometry:t})}const oin=Object.freeze(Object.defineProperty({__proto__:null,contour:Cle,geojson:Ele,geopath:kle,geopoint:Tle,geoshape:Ple,graticule:Rle,heatmap:Ale,isocontour:Sle,kde2d:_le,projection:OUe},Symbol.toStringTag,{value:"Module"}));function sin(e,t){var n,r=1;e==null&&(e=0),t==null&&(t=0);function i(){var o,s=n.length,a,l=0,c=0;for(o=0;o<s;++o)a=n[o],l+=a.x,c+=a.y;for(l=(l/s-e)*r,c=(c/s-t)*r,o=0;o<s;++o)a=n[o],a.x-=l,a.y-=c}return i.initialize=function(o){n=o},i.x=function(o){return arguments.length?(e=+o,i):e},i.y=function(o){return arguments.length?(t=+o,i):t},i.strength=function(o){return arguments.length?(r=+o,i):r},i}function ain(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return xUe(this.cover(t,n),t,n,e)}function xUe(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o=e._root,s={data:r},a=e._x0,l=e._y0,c=e._x1,u=e._y1,f,d,h,p,g,y,v,x;if(!o)return e._root=s,e;for(;o.length;)if((g=t>=(f=(a+c)/2))?a=f:c=f,(y=n>=(d=(l+u)/2))?l=d:u=d,i=o,!(o=o[v=y<<1|g]))return i[v]=s,e;if(h=+e._x.call(null,o.data),p=+e._y.call(null,o.data),t===h&&n===p)return s.next=o,i?i[v]=s:e._root=s,e;do i=i?i[v]=new Array(4):e._root=new Array(4),(g=t>=(f=(a+c)/2))?a=f:c=f,(y=n>=(d=(l+u)/2))?l=d:u=d;while((v=y<<1|g)===(x=(p>=d)<<1|h>=f));return i[x]=o,i[v]=s,e}function lin(e){var t,n,r=e.length,i,o,s=new Array(r),a=new Array(r),l=1/0,c=1/0,u=-1/0,f=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,t=e[n]))||isNaN(o=+this._y.call(null,t))||(s[n]=i,a[n]=o,i<l&&(l=i),i>u&&(u=i),o<c&&(c=o),o>f&&(f=o));if(l>u||c>f)return this;for(this.cover(l,c).cover(u,f),n=0;n<r;++n)xUe(this,s[n],a[n],e[n]);return this}function cin(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var s=i-n||1,a=this._root,l,c;n>e||e>=i||r>t||t>=o;)switch(c=(t<r)<<1|e<n,l=new Array(4),l[c]=a,a=l,s*=2,c){case 0:i=n+s,o=r+s;break;case 1:n=i-s,o=r+s;break;case 2:i=n+s,r=o-s;break;case 3:n=i-s,r=o-s;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function uin(){var e=[];return this.visit(function(t){if(!t.length)do e.push(t.data);while(t=t.next)}),e}function fin(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function qa(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function din(e,t,n){var r,i=this._x0,o=this._y0,s,a,l,c,u=this._x1,f=this._y1,d=[],h=this._root,p,g;for(h&&d.push(new qa(h,i,o,u,f)),n==null?n=1/0:(i=e-n,o=t-n,u=e+n,f=t+n,n*=n);p=d.pop();)if(!(!(h=p.node)||(s=p.x0)>u||(a=p.y0)>f||(l=p.x1)<i||(c=p.y1)<o))if(h.length){var y=(s+l)/2,v=(a+c)/2;d.push(new qa(h[3],y,v,l,c),new qa(h[2],s,v,y,c),new qa(h[1],y,a,l,v),new qa(h[0],s,a,y,v)),(g=(t>=v)<<1|e>=y)&&(p=d[d.length-1],d[d.length-1]=d[d.length-1-g],d[d.length-1-g]=p)}else{var x=e-+this._x.call(null,h.data),m=t-+this._y.call(null,h.data),w=x*x+m*m;if(w<n){var S=Math.sqrt(n=w);i=e-S,o=t-S,u=e+S,f=t+S,r=h.data}}return r}function hin(e){if(isNaN(u=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var t,n=this._root,r,i,o,s=this._x0,a=this._y0,l=this._x1,c=this._y1,u,f,d,h,p,g,y,v;if(!n)return this;if(n.length)for(;;){if((p=u>=(d=(s+l)/2))?s=d:l=d,(g=f>=(h=(a+c)/2))?a=h:c=h,t=n,!(n=n[y=g<<1|p]))return this;if(!n.length)break;(t[y+1&3]||t[y+2&3]||t[y+3&3])&&(r=t,v=y)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):t?(o?t[y]=o:delete t[y],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(r?r[v]=n:this._root=n),this):(this._root=o,this)}function pin(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this}function gin(){return this._root}function min(){var e=0;return this.visit(function(t){if(!t.length)do++e;while(t=t.next)}),e}function yin(e){var t=[],n,r=this._root,i,o,s,a,l;for(r&&t.push(new qa(r,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!e(r=n.node,o=n.x0,s=n.y0,a=n.x1,l=n.y1)&&r.length){var c=(o+a)/2,u=(s+l)/2;(i=r[3])&&t.push(new qa(i,c,u,a,l)),(i=r[2])&&t.push(new qa(i,o,u,c,l)),(i=r[1])&&t.push(new qa(i,c,s,a,u)),(i=r[0])&&t.push(new qa(i,o,s,c,u))}return this}function vin(e){var t=[],n=[],r;for(this._root&&t.push(new qa(this._root,this._x0,this._y0,this._x1,this._y1));r=t.pop();){var i=r.node;if(i.length){var o,s=r.x0,a=r.y0,l=r.x1,c=r.y1,u=(s+l)/2,f=(a+c)/2;(o=i[0])&&t.push(new qa(o,s,a,u,f)),(o=i[1])&&t.push(new qa(o,u,a,l,f)),(o=i[2])&&t.push(new qa(o,s,f,u,c)),(o=i[3])&&t.push(new qa(o,u,f,l,c))}n.push(r)}for(;r=n.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function bin(e){return e[0]}function Oin(e){return arguments.length?(this._x=e,this):this._x}function xin(e){return e[1]}function win(e){return arguments.length?(this._y=e,this):this._y}function Dle(e,t,n){var r=new Nle(t??bin,n??xin,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function Nle(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Mxe(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var cl=Dle.prototype=Nle.prototype;cl.copy=function(){var e=new Nle(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,r;if(!t)return e;if(!t.length)return e._root=Mxe(t),e;for(n=[{source:t,target:e._root=new Array(4)}];t=n.pop();)for(var i=0;i<4;++i)(r=t.source[i])&&(r.length?n.push({source:r,target:t.target[i]=new Array(4)}):t.target[i]=Mxe(r));return e};cl.add=ain;cl.addAll=lin;cl.cover=cin;cl.data=uin;cl.extent=fin;cl.find=din;cl.remove=hin;cl.removeAll=pin;cl.root=gin;cl.size=min;cl.visit=yin;cl.visitAfter=vin;cl.x=Oin;cl.y=win;function Ya(e){return function(){return e}}function ey(e){return(e()-.5)*1e-6}function Sin(e){return e.x+e.vx}function _in(e){return e.y+e.vy}function Cin(e){var t,n,r,i=1,o=1;typeof e!="function"&&(e=Ya(e==null?1:+e));function s(){for(var c,u=t.length,f,d,h,p,g,y,v=0;v<o;++v)for(f=Dle(t,Sin,_in).visitAfter(a),c=0;c<u;++c)d=t[c],g=n[d.index],y=g*g,h=d.x+d.vx,p=d.y+d.vy,f.visit(x);function x(m,w,S,C,$){var E=m.data,R=m.r,N=g+R;if(E){if(E.index>d.index){var I=h-E.x-E.vx,j=p-E.y-E.vy,A=I*I+j*j;A<N*N&&(I===0&&(I=ey(r),A+=I*I),j===0&&(j=ey(r),A+=j*j),A=(N-(A=Math.sqrt(A)))/A*i,d.vx+=(I*=A)*(N=(R*=R)/(y+R)),d.vy+=(j*=A)*N,E.vx-=I*(N=1-N),E.vy-=j*N)}return}return w>h+N||C<h-N||S>p+N||$<p-N}}function a(c){if(c.data)return c.r=n[c.data.index];for(var u=c.r=0;u<4;++u)c[u]&&c[u].r>c.r&&(c.r=c[u].r)}function l(){if(t){var c,u=t.length,f;for(n=new Array(u),c=0;c<u;++c)f=t[c],n[f.index]=+e(f,c,t)}}return s.initialize=function(c,u){t=c,r=u,l()},s.iterations=function(c){return arguments.length?(o=+c,s):o},s.strength=function(c){return arguments.length?(i=+c,s):i},s.radius=function(c){return arguments.length?(e=typeof c=="function"?c:Ya(+c),l(),s):e},s}function $in(e){return e.index}function Ixe(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function Ein(e){var t=$in,n=f,r,i=Ya(30),o,s,a,l,c,u=1;e==null&&(e=[]);function f(y){return 1/Math.min(a[y.source.index],a[y.target.index])}function d(y){for(var v=0,x=e.length;v<u;++v)for(var m=0,w,S,C,$,E,R,N;m<x;++m)w=e[m],S=w.source,C=w.target,$=C.x+C.vx-S.x-S.vx||ey(c),E=C.y+C.vy-S.y-S.vy||ey(c),R=Math.sqrt($*$+E*E),R=(R-o[m])/R*y*r[m],$*=R,E*=R,C.vx-=$*(N=l[m]),C.vy-=E*N,S.vx+=$*(N=1-N),S.vy+=E*N}function h(){if(s){var y,v=s.length,x=e.length,m=new Map(s.map((S,C)=>[t(S,C,s),S])),w;for(y=0,a=new Array(v);y<x;++y)w=e[y],w.index=y,typeof w.source!="object"&&(w.source=Ixe(m,w.source)),typeof w.target!="object"&&(w.target=Ixe(m,w.target)),a[w.source.index]=(a[w.source.index]||0)+1,a[w.target.index]=(a[w.target.index]||0)+1;for(y=0,l=new Array(x);y<x;++y)w=e[y],l[y]=a[w.source.index]/(a[w.source.index]+a[w.target.index]);r=new Array(x),p(),o=new Array(x),g()}}function p(){if(s)for(var y=0,v=e.length;y<v;++y)r[y]=+n(e[y],y,e)}function g(){if(s)for(var y=0,v=e.length;y<v;++y)o[y]=+i(e[y],y,e)}return d.initialize=function(y,v){s=y,c=v,h()},d.links=function(y){return arguments.length?(e=y,h(),d):e},d.id=function(y){return arguments.length?(t=y,d):t},d.iterations=function(y){return arguments.length?(u=+y,d):u},d.strength=function(y){return arguments.length?(n=typeof y=="function"?y:Ya(+y),p(),d):n},d.distance=function(y){return arguments.length?(i=typeof y=="function"?y:Ya(+y),g(),d):i},d}var kin={value:()=>{}};function KR(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new _I(n)}function _I(e){this._=e}function Tin(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}_I.prototype=KR.prototype={constructor:_I,on:function(e,t){var n=this._,r=Tin(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=Pin(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=Lxe(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Lxe(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new _I(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function Pin(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Lxe(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=kin,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var US=0,RE=0,T$=0,wUe=1e3,bj,AE,Oj=0,bb=0,A8=0,q2=typeof performance=="object"&&performance.now?performance:Date,SUe=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function D8(){return bb||(SUe(Rin),bb=q2.now()+A8)}function Rin(){bb=0}function Y2(){this._call=this._time=this._next=null}Y2.prototype=Mle.prototype={constructor:Y2,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?D8():+n)+(t==null?0:+t),!this._next&&AE!==this&&(AE?AE._next=this:bj=this,AE=this),this._call=e,this._time=n,QZ()},stop:function(){this._call&&(this._call=null,this._time=1/0,QZ())}};function Mle(e,t,n){var r=new Y2;return r.restart(e,t,n),r}function Ain(){D8(),++US;for(var e=bj,t;e;)(t=bb-e._time)>=0&&e._call.call(void 0,t),e=e._next;--US}function jxe(){bb=(Oj=q2.now())+A8,US=RE=0;try{Ain()}finally{US=0,Nin(),bb=0}}function Din(){var e=q2.now(),t=e-Oj;t>wUe&&(A8-=t,Oj=e)}function Nin(){for(var e,t=bj,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:bj=n);AE=e,QZ(r)}function QZ(e){if(!US){RE&&(RE=clearTimeout(RE));var t=e-bb;t>24?(e<1/0&&(RE=setTimeout(jxe,e-q2.now()-A8)),T$&&(T$=clearInterval(T$))):(T$||(Oj=q2.now(),T$=setInterval(Din,wUe)),US=1,SUe(jxe))}}function Fxe(e,t,n){var r=new Y2;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}function Min(e,t,n){var r=new Y2,i=t;return t==null?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(o,s,a){s=+s,a=a==null?D8():+a,r._restart(function l(c){c+=i,r._restart(l,i+=s,a),o(c)},s,a)},r.restart(e,t,n),r)}const Iin=1664525,Lin=1013904223,zxe=4294967296;function jin(){let e=1;return()=>(e=(Iin*e+Lin)%zxe)/zxe}function Fin(e){return e.x}function zin(e){return e.y}var Qin=10,Bin=Math.PI*(3-Math.sqrt(5));function Win(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,a=new Map,l=Mle(f),c=KR("tick","end"),u=jin();e==null&&(e=[]);function f(){d(),c.call("tick",t),n<r&&(l.stop(),c.call("end",t))}function d(g){var y,v=e.length,x;g===void 0&&(g=1);for(var m=0;m<g;++m)for(n+=(o-n)*i,a.forEach(function(w){w(n)}),y=0;y<v;++y)x=e[y],x.fx==null?x.x+=x.vx*=s:(x.x=x.fx,x.vx=0),x.fy==null?x.y+=x.vy*=s:(x.y=x.fy,x.vy=0);return t}function h(){for(var g=0,y=e.length,v;g<y;++g){if(v=e[g],v.index=g,v.fx!=null&&(v.x=v.fx),v.fy!=null&&(v.y=v.fy),isNaN(v.x)||isNaN(v.y)){var x=Qin*Math.sqrt(.5+g),m=g*Bin;v.x=x*Math.cos(m),v.y=x*Math.sin(m)}(isNaN(v.vx)||isNaN(v.vy))&&(v.vx=v.vy=0)}}function p(g){return g.initialize&&g.initialize(e,u),g}return h(),t={tick:d,restart:function(){return l.restart(f),t},stop:function(){return l.stop(),t},nodes:function(g){return arguments.length?(e=g,h(),a.forEach(p),t):e},alpha:function(g){return arguments.length?(n=+g,t):n},alphaMin:function(g){return arguments.length?(r=+g,t):r},alphaDecay:function(g){return arguments.length?(i=+g,t):+i},alphaTarget:function(g){return arguments.length?(o=+g,t):o},velocityDecay:function(g){return arguments.length?(s=1-g,t):1-s},randomSource:function(g){return arguments.length?(u=g,a.forEach(p),t):u},force:function(g,y){return arguments.length>1?(y==null?a.delete(g):a.set(g,p(y)),t):a.get(g)},find:function(g,y,v){var x=0,m=e.length,w,S,C,$,E;for(v==null?v=1/0:v*=v,x=0;x<m;++x)$=e[x],w=g-$.x,S=y-$.y,C=w*w+S*S,C<v&&(E=$,v=C);return E},on:function(g,y){return arguments.length>1?(c.on(g,y),t):c.on(g)}}}function Vin(){var e,t,n,r,i=Ya(-30),o,s=1,a=1/0,l=.81;function c(h){var p,g=e.length,y=Dle(e,Fin,zin).visitAfter(f);for(r=h,p=0;p<g;++p)t=e[p],y.visit(d)}function u(){if(e){var h,p=e.length,g;for(o=new Array(p),h=0;h<p;++h)g=e[h],o[g.index]=+i(g,h,e)}}function f(h){var p=0,g,y,v=0,x,m,w;if(h.length){for(x=m=w=0;w<4;++w)(g=h[w])&&(y=Math.abs(g.value))&&(p+=g.value,v+=y,x+=y*g.x,m+=y*g.y);h.x=x/v,h.y=m/v}else{g=h,g.x=g.data.x,g.y=g.data.y;do p+=o[g.data.index];while(g=g.next)}h.value=p}function d(h,p,g,y){if(!h.value)return!0;var v=h.x-t.x,x=h.y-t.y,m=y-p,w=v*v+x*x;if(m*m/l<w)return w<a&&(v===0&&(v=ey(n),w+=v*v),x===0&&(x=ey(n),w+=x*x),w<s&&(w=Math.sqrt(s*w)),t.vx+=v*h.value*r/w,t.vy+=x*h.value*r/w),!0;if(h.length||w>=a)return;(h.data!==t||h.next)&&(v===0&&(v=ey(n),w+=v*v),x===0&&(x=ey(n),w+=x*x),w<s&&(w=Math.sqrt(s*w)));do h.data!==t&&(m=o[h.data.index]*r/w,t.vx+=v*m,t.vy+=x*m);while(h=h.next)}return c.initialize=function(h,p){e=h,n=p,u()},c.strength=function(h){return arguments.length?(i=typeof h=="function"?h:Ya(+h),u(),c):i},c.distanceMin=function(h){return arguments.length?(s=h*h,c):Math.sqrt(s)},c.distanceMax=function(h){return arguments.length?(a=h*h,c):Math.sqrt(a)},c.theta=function(h){return arguments.length?(l=h*h,c):Math.sqrt(l)},c}function Uin(e){var t=Ya(.1),n,r,i;typeof e!="function"&&(e=Ya(e==null?0:+e));function o(a){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vx+=(i[l]-u.x)*r[l]*a}function s(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:Ya(+a),s(),o):t},o.x=function(a){return arguments.length?(e=typeof a=="function"?a:Ya(+a),s(),o):e},o}function qin(e){var t=Ya(.1),n,r,i;typeof e!="function"&&(e=Ya(e==null?0:+e));function o(a){for(var l=0,c=n.length,u;l<c;++l)u=n[l],u.vy+=(i[l]-u.y)*r[l]*a}function s(){if(n){var a,l=n.length;for(r=new Array(l),i=new Array(l),a=0;a<l;++a)r[a]=isNaN(i[a]=+e(n[a],a,n))?0:+t(n[a],a,n)}}return o.initialize=function(a){n=a,s()},o.strength=function(a){return arguments.length?(t=typeof a=="function"?a:Ya(+a),s(),o):t},o.y=function(a){return arguments.length?(e=typeof a=="function"?a:Ya(+a),s(),o):e},o}const Qxe={center:sin,collide:Cin,nbody:Vin,link:Ein,x:Uin,y:qin},DE="forces",BZ=["alpha","alphaMin","alphaTarget","velocityDecay","forces"],Yin=["static","iterations"],_Ue=["x","y","vx","vy"];function Ile(e){Pe.call(this,null,e)}Ile.Definition={type:"Force",metadata:{modifies:!0},params:[{name:"static",type:"boolean",default:!1},{name:"restart",type:"boolean",default:!1},{name:"iterations",type:"number",default:300},{name:"alpha",type:"number",default:1},{name:"alphaMin",type:"number",default:.001},{name:"alphaTarget",type:"number",default:0},{name:"velocityDecay",type:"number",default:.4},{name:"forces",type:"param",array:!0,params:[{key:{force:"center"},params:[{name:"x",type:"number",default:0},{name:"y",type:"number",default:0}]},{key:{force:"collide"},params:[{name:"radius",type:"number",expr:!0},{name:"strength",type:"number",default:.7},{name:"iterations",type:"number",default:1}]},{key:{force:"nbody"},params:[{name:"strength",type:"number",default:-30,expr:!0},{name:"theta",type:"number",default:.9},{name:"distanceMin",type:"number",default:1},{name:"distanceMax",type:"number"}]},{key:{force:"link"},params:[{name:"links",type:"data"},{name:"id",type:"field"},{name:"distance",type:"number",default:30,expr:!0},{name:"strength",type:"number",expr:!0},{name:"iterations",type:"number",default:1}]},{key:{force:"x"},params:[{name:"strength",type:"number",default:.1},{name:"x",type:"field"}]},{key:{force:"y"},params:[{name:"strength",type:"number",default:.1},{name:"y",type:"field"}]}]},{name:"as",type:"string",array:!0,modify:!1,default:_Ue}]};Ke(Ile,Pe,{transform(e,t){var n=this.value,r=t.changed(t.ADD_REM),i=e.modified(BZ),o=e.iterations||300;if(n?(r&&(t.modifies("index"),n.nodes(t.source)),(i||t.changed(t.MOD))&&CUe(n,e,0,t)):(this.value=n=Hin(t.source,e),n.on("tick",Xin(t.dataflow,this)),e.static||(r=!0,n.tick()),t.modifies("index")),i||r||e.modified(Yin)||t.changed()&&e.restart){if(n.alpha(Math.max(n.alpha(),e.alpha||1)).alphaDecay(1-Math.pow(n.alphaMin(),1/o)),e.static)for(n.stop();--o>=0;)n.tick();else if(n.stopped()&&n.restart(),!r)return t.StopPropagation}return this.finish(e,t)},finish(e,t){const n=t.dataflow;for(let a=this._argops,l=0,c=a.length,u;l<c;++l)if(u=a[l],!(u.name!==DE||u.op._argval.force!=="link")){for(var r=u.op._argops,i=0,o=r.length,s;i<o;++i)if(r[i].name==="links"&&(s=r[i].op.source)){n.pulse(s,n.changeset().reflow());break}}return t.reflow(e.modified()).modifies(_Ue)}});function Xin(e,t){return()=>e.touch(t).run()}function Hin(e,t){const n=Win(e),r=n.stop,i=n.restart;let o=!1;return n.stopped=()=>o,n.restart=()=>(o=!1,i()),n.stop=()=>(o=!0,r()),CUe(n,t,!0).on("end",()=>o=!0)}function CUe(e,t,n,r){var i=lt(t.forces),o,s,a,l;for(o=0,s=BZ.length;o<s;++o)a=BZ[o],a!==DE&&t.modified(a)&&e[a](t[a]);for(o=0,s=i.length;o<s;++o)l=DE+o,a=n||t.modified(DE,o)?Gin(i[o]):r&&Zin(i[o],r)?e.force(l):null,a&&e.force(l,a);for(s=e.numForces||0;o<s;++o)e.force(DE+o,null);return e.numForces=i.length,e}function Zin(e,t){var n,r;for(n in e)if(cn(r=e[n])&&t.modified(ya(r)))return 1;return 0}function Gin(e){var t,n;Rt(Qxe,e.force)||De("Unrecognized force: "+e.force),t=Qxe[e.force]();for(n in e)cn(t[n])&&Kin(t[n],e[n],e);return t}function Kin(e,t,n){e(cn(t)?r=>t(r,n):t)}const Jin=Object.freeze(Object.defineProperty({__proto__:null,force:Ile},Symbol.toStringTag,{value:"Module"}));function eon(e,t){return e.parent===t.parent?1:2}function ton(e){return e.reduce(non,0)/e.length}function non(e,t){return e+t.x}function ron(e){return 1+e.reduce(ion,0)}function ion(e,t){return Math.max(e,t.y)}function oon(e){for(var t;t=e.children;)e=t[0];return e}function son(e){for(var t;t=e.children;)e=t[t.length-1];return e}function aon(){var e=eon,t=1,n=1,r=!1;function i(o){var s,a=0;o.eachAfter(function(d){var h=d.children;h?(d.x=ton(h),d.y=ron(h)):(d.x=s?a+=e(d,s):0,d.y=0,s=d)});var l=oon(o),c=son(o),u=l.x-e(l,c)/2,f=c.x+e(c,l)/2;return o.eachAfter(r?function(d){d.x=(d.x-o.x)*t,d.y=(o.y-d.y)*n}:function(d){d.x=(d.x-u)/(f-u)*t,d.y=(1-(o.y?d.y/o.y:1))*n})}return i.separation=function(o){return arguments.length?(e=o,i):e},i.size=function(o){return arguments.length?(r=!1,t=+o[0],n=+o[1],i):r?null:[t,n]},i.nodeSize=function(o){return arguments.length?(r=!0,t=+o[0],n=+o[1],i):r?[t,n]:null},i}function lon(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function con(){return this.eachAfter(lon)}function uon(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function fon(e,t){for(var n=this,r=[n],i,o,s=-1;n=r.pop();)if(e.call(t,n,++s,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function don(e,t){for(var n=this,r=[n],i=[],o,s,a,l=-1;n=r.pop();)if(i.push(n),o=n.children)for(s=0,a=o.length;s<a;++s)r.push(o[s]);for(;n=i.pop();)e.call(t,n,++l,this);return this}function hon(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function pon(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function gon(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function mon(e){for(var t=this,n=yon(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function yon(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function von(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function bon(){return Array.from(this)}function Oon(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function xon(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*won(){var e=this,t,n=[e],r,i,o;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function Lle(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=Con)):t===void 0&&(t=_on);for(var n=new qS(e),r,i=[n],o,s,a,l;r=i.pop();)if((s=t(r.data))&&(l=(s=Array.from(s)).length))for(r.children=s,a=l-1;a>=0;--a)i.push(o=s[a]=new qS(s[a])),o.parent=r,o.depth=r.depth+1;return n.eachBefore($Ue)}function Son(){return Lle(this).eachBefore($on)}function _on(e){return e.children}function Con(e){return Array.isArray(e)?e[1]:null}function $on(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function $Ue(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function qS(e){this.data=e,this.depth=this.height=0,this.parent=null}qS.prototype=Lle.prototype={constructor:qS,count:con,each:uon,eachAfter:don,eachBefore:fon,find:hon,sum:pon,sort:gon,path:mon,ancestors:von,descendants:bon,leaves:Oon,links:xon,copy:Son,[Symbol.iterator]:won};function CI(e){return e==null?null:EUe(e)}function EUe(e){if(typeof e!="function")throw new Error;return e}function Qv(){return 0}function Cx(e){return function(){return e}}const Eon=1664525,kon=1013904223,Bxe=4294967296;function Ton(){let e=1;return()=>(e=(Eon*e+kon)%Bxe)/Bxe}function Pon(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ron(e,t){let n=e.length,r,i;for(;n;)i=t()*n--|0,r=e[n],e[n]=e[i],e[i]=r;return e}function Aon(e,t){for(var n=0,r=(e=Ron(Array.from(e),t)).length,i=[],o,s;n<r;)o=e[n],s&&kUe(s,o)?++n:(s=Non(i=Don(i,o)),n=0);return s}function Don(e,t){var n,r;if(ZW(t,e))return[t];for(n=0;n<e.length;++n)if(kN(t,e[n])&&ZW(NE(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(kN(NE(e[n],e[r]),t)&&kN(NE(e[n],t),e[r])&&kN(NE(e[r],t),e[n])&&ZW(TUe(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function kN(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function kUe(e,t){var n=e.r-t.r+Math.max(e.r,t.r,1)*1e-9,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function ZW(e,t){for(var n=0;n<t.length;++n)if(!kUe(e,t[n]))return!1;return!0}function Non(e){switch(e.length){case 1:return Mon(e[0]);case 2:return NE(e[0],e[1]);case 3:return TUe(e[0],e[1],e[2])}}function Mon(e){return{x:e.x,y:e.y,r:e.r}}function NE(e,t){var n=e.x,r=e.y,i=e.r,o=t.x,s=t.y,a=t.r,l=o-n,c=s-r,u=a-i,f=Math.sqrt(l*l+c*c);return{x:(n+o+l/f*u)/2,y:(r+s+c/f*u)/2,r:(f+i+a)/2}}function TUe(e,t,n){var r=e.x,i=e.y,o=e.r,s=t.x,a=t.y,l=t.r,c=n.x,u=n.y,f=n.r,d=r-s,h=r-c,p=i-a,g=i-u,y=l-o,v=f-o,x=r*r+i*i-o*o,m=x-s*s-a*a+l*l,w=x-c*c-u*u+f*f,S=h*p-d*g,C=(p*w-g*m)/(S*2)-r,$=(g*y-p*v)/S,E=(h*m-d*w)/(S*2)-i,R=(d*v-h*y)/S,N=$*$+R*R-1,I=2*(o+C*$+E*R),j=C*C+E*E-o*o,A=-(Math.abs(N)>1e-6?(I+Math.sqrt(I*I-4*N*j))/(2*N):j/I);return{x:r+C+$*A,y:i+E+R*A,r:A}}function Wxe(e,t,n){var r=e.x-t.x,i,o,s=e.y-t.y,a,l,c=r*r+s*s;c?(o=t.r+n.r,o*=o,l=e.r+n.r,l*=l,o>l?(i=(c+l-o)/(2*c),a=Math.sqrt(Math.max(0,l/c-i*i)),n.x=e.x-i*r-a*s,n.y=e.y-i*s+a*r):(i=(c+o-l)/(2*c),a=Math.sqrt(Math.max(0,o/c-i*i)),n.x=t.x+i*r-a*s,n.y=t.y+i*s+a*r)):(n.x=t.x+n.r,n.y=t.y)}function Vxe(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function Uxe(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,o=(t.y*n.r+n.y*t.r)/r;return i*i+o*o}function TN(e){this._=e,this.next=null,this.previous=null}function Ion(e,t){if(!(o=(e=Pon(e)).length))return 0;var n,r,i,o,s,a,l,c,u,f,d;if(n=e[0],n.x=0,n.y=0,!(o>1))return n.r;if(r=e[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;Wxe(r,n,i=e[2]),n=new TN(n),r=new TN(r),i=new TN(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;e:for(l=3;l<o;++l){Wxe(n._,r._,i=e[l]),i=new TN(i),c=r.next,u=n.previous,f=r._.r,d=n._.r;do if(f<=d){if(Vxe(c._,i._)){r=c,n.next=r,r.previous=n,--l;continue e}f+=c._.r,c=c.next}else{if(Vxe(u._,i._)){n=u,n.next=r,r.previous=n,--l;continue e}d+=u._.r,u=u.previous}while(c!==u.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,s=Uxe(n);(i=i.next)!==r;)(a=Uxe(i))<s&&(n=i,s=a);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=Aon(n,t),l=0;l<o;++l)n=e[l],n.x-=i.x,n.y-=i.y;return i.r}function Lon(e){return Math.sqrt(e.value)}function jon(){var e=null,t=1,n=1,r=Qv;function i(o){const s=Ton();return o.x=t/2,o.y=n/2,e?o.eachBefore(qxe(e)).eachAfter(GW(r,.5,s)).eachBefore(Yxe(1)):o.eachBefore(qxe(Lon)).eachAfter(GW(Qv,1,s)).eachAfter(GW(r,o.r/Math.min(t,n),s)).eachBefore(Yxe(Math.min(t,n)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(e=CI(o),i):e},i.size=function(o){return arguments.length?(t=+o[0],n=+o[1],i):[t,n]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:Cx(+o),i):r},i}function qxe(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function GW(e,t,n){return function(r){if(i=r.children){var i,o,s=i.length,a=e(r)*t||0,l;if(a)for(o=0;o<s;++o)i[o].r+=a;if(l=Ion(i,n),a)for(o=0;o<s;++o)i[o].r-=a;r.r=l+a}}}function Yxe(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function PUe(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function JR(e,t,n,r,i){for(var o=e.children,s,a=-1,l=o.length,c=e.value&&(r-t)/e.value;++a<l;)s=o[a],s.y0=n,s.y1=i,s.x0=t,s.x1=t+=s.value*c}function Fon(){var e=1,t=1,n=0,r=!1;function i(s){var a=s.height+1;return s.x0=s.y0=n,s.x1=e,s.y1=t/a,s.eachBefore(o(t,a)),r&&s.eachBefore(PUe),s}function o(s,a){return function(l){l.children&&JR(l,l.x0,s*(l.depth+1)/a,l.x1,s*(l.depth+2)/a);var c=l.x0,u=l.y0,f=l.x1-n,d=l.y1-n;f<c&&(c=f=(c+f)/2),d<u&&(u=d=(u+d)/2),l.x0=c,l.y0=u,l.x1=f,l.y1=d}}return i.round=function(s){return arguments.length?(r=!!s,i):r},i.size=function(s){return arguments.length?(e=+s[0],t=+s[1],i):[e,t]},i.padding=function(s){return arguments.length?(n=+s,i):n},i}var zon={depth:-1},Xxe={},KW={};function Qon(e){return e.id}function Bon(e){return e.parentId}function Hxe(){var e=Qon,t=Bon,n;function r(i){var o=Array.from(i),s=e,a=t,l,c,u,f,d,h,p,g,y=new Map;if(n!=null){const v=o.map((w,S)=>Won(n(w,S,i))),x=v.map(Zxe),m=new Set(v).add("");for(const w of x)m.has(w)||(m.add(w),v.push(w),x.push(Zxe(w)),o.push(KW));s=(w,S)=>v[S],a=(w,S)=>x[S]}for(u=0,l=o.length;u<l;++u)c=o[u],h=o[u]=new qS(c),(p=s(c,u,i))!=null&&(p+="")&&(g=h.id=p,y.set(g,y.has(g)?Xxe:h)),(p=a(c,u,i))!=null&&(p+="")&&(h.parent=p);for(u=0;u<l;++u)if(h=o[u],p=h.parent){if(d=y.get(p),!d)throw new Error("missing: "+p);if(d===Xxe)throw new Error("ambiguous: "+p);d.children?d.children.push(h):d.children=[h],h.parent=d}else{if(f)throw new Error("multiple roots");f=h}if(!f)throw new Error("no root");if(n!=null){for(;f.data===KW&&f.children.length===1;)f=f.children[0],--l;for(let v=o.length-1;v>=0&&(h=o[v],h.data===KW);--v)h.data=null}if(f.parent=zon,f.eachBefore(function(v){v.depth=v.parent.depth+1,--l}).eachBefore($Ue),f.parent=null,l>0)throw new Error("cycle");return f}return r.id=function(i){return arguments.length?(e=CI(i),r):e},r.parentId=function(i){return arguments.length?(t=CI(i),r):t},r.path=function(i){return arguments.length?(n=CI(i),r):n},r}function Won(e){e=`${e}`;let t=e.length;return WZ(e,t-1)&&!WZ(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function Zxe(e){let t=e.length;if(t<2)return"";for(;--t>1&&!WZ(e,t););return e.slice(0,t)}function WZ(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if(!(n&1))return!0}return!1}function Von(e,t){return e.parent===t.parent?1:2}function JW(e){var t=e.children;return t?t[0]:e.t}function eV(e){var t=e.children;return t?t[t.length-1]:e.t}function Uon(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function qon(e){for(var t=0,n=0,r=e.children,i=r.length,o;--i>=0;)o=r[i],o.z+=t,o.m+=t,t+=o.s+(n+=o.c)}function Yon(e,t,n){return e.a.parent===t.parent?e.a:n}function $I(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}$I.prototype=Object.create(qS.prototype);function Xon(e){for(var t=new $I(e,0),n,r=[t],i,o,s,a;n=r.pop();)if(o=n._.children)for(n.children=new Array(a=o.length),s=a-1;s>=0;--s)r.push(i=n.children[s]=new $I(o[s],s)),i.parent=n;return(t.parent=new $I(null,0)).children=[t],t}function Hon(){var e=Von,t=1,n=1,r=null;function i(c){var u=Xon(c);if(u.eachAfter(o),u.parent.m=-u.z,u.eachBefore(s),r)c.eachBefore(l);else{var f=c,d=c,h=c;c.eachBefore(function(x){x.x<f.x&&(f=x),x.x>d.x&&(d=x),x.depth>h.depth&&(h=x)});var p=f===d?1:e(f,d)/2,g=p-f.x,y=t/(d.x+p+g),v=n/(h.depth||1);c.eachBefore(function(x){x.x=(x.x+g)*y,x.y=x.depth*v})}return c}function o(c){var u=c.children,f=c.parent.children,d=c.i?f[c.i-1]:null;if(u){qon(c);var h=(u[0].z+u[u.length-1].z)/2;d?(c.z=d.z+e(c._,d._),c.m=c.z-h):c.z=h}else d&&(c.z=d.z+e(c._,d._));c.parent.A=a(c,d,c.parent.A||f[0])}function s(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function a(c,u,f){if(u){for(var d=c,h=c,p=u,g=d.parent.children[0],y=d.m,v=h.m,x=p.m,m=g.m,w;p=eV(p),d=JW(d),p&&d;)g=JW(g),h=eV(h),h.a=c,w=p.z+x-d.z-y+e(p._,d._),w>0&&(Uon(Yon(p,c,f),c,w),y+=w,v+=w),x+=p.m,y+=d.m,m+=g.m,v+=h.m;p&&!eV(h)&&(h.t=p,h.m+=x-v),d&&!JW(g)&&(g.t=d,g.m+=y-m,f=c)}return f}function l(c){c.x*=t,c.y=c.depth*n}return i.separation=function(c){return arguments.length?(e=c,i):e},i.size=function(c){return arguments.length?(r=!1,t=+c[0],n=+c[1],i):r?null:[t,n]},i.nodeSize=function(c){return arguments.length?(r=!0,t=+c[0],n=+c[1],i):r?[t,n]:null},i}function N8(e,t,n,r,i){for(var o=e.children,s,a=-1,l=o.length,c=e.value&&(i-n)/e.value;++a<l;)s=o[a],s.x0=t,s.x1=r,s.y0=n,s.y1=n+=s.value*c}var RUe=(1+Math.sqrt(5))/2;function AUe(e,t,n,r,i,o){for(var s=[],a=t.children,l,c,u=0,f=0,d=a.length,h,p,g=t.value,y,v,x,m,w,S,C;u<d;){h=i-n,p=o-r;do y=a[f++].value;while(!y&&f<d);for(v=x=y,S=Math.max(p/h,h/p)/(g*e),C=y*y*S,w=Math.max(x/C,C/v);f<d;++f){if(y+=c=a[f].value,c<v&&(v=c),c>x&&(x=c),C=y*y*S,m=Math.max(x/C,C/v),m>w){y-=c;break}w=m}s.push(l={value:y,dice:h<p,children:a.slice(u,f)}),l.dice?JR(l,n,r,i,g?r+=p*y/g:o):N8(l,n,r,g?n+=h*y/g:i,o),g-=y,u=f}return s}const DUe=function e(t){function n(r,i,o,s,a){AUe(t,r,i,o,s,a)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(RUe);function Zon(){var e=DUe,t=!1,n=1,r=1,i=[0],o=Qv,s=Qv,a=Qv,l=Qv,c=Qv;function u(d){return d.x0=d.y0=0,d.x1=n,d.y1=r,d.eachBefore(f),i=[0],t&&d.eachBefore(PUe),d}function f(d){var h=i[d.depth],p=d.x0+h,g=d.y0+h,y=d.x1-h,v=d.y1-h;y<p&&(p=y=(p+y)/2),v<g&&(g=v=(g+v)/2),d.x0=p,d.y0=g,d.x1=y,d.y1=v,d.children&&(h=i[d.depth+1]=o(d)/2,p+=c(d)-h,g+=s(d)-h,y-=a(d)-h,v-=l(d)-h,y<p&&(p=y=(p+y)/2),v<g&&(g=v=(g+v)/2),e(d,p,g,y,v))}return u.round=function(d){return arguments.length?(t=!!d,u):t},u.size=function(d){return arguments.length?(n=+d[0],r=+d[1],u):[n,r]},u.tile=function(d){return arguments.length?(e=EUe(d),u):e},u.padding=function(d){return arguments.length?u.paddingInner(d).paddingOuter(d):u.paddingInner()},u.paddingInner=function(d){return arguments.length?(o=typeof d=="function"?d:Cx(+d),u):o},u.paddingOuter=function(d){return arguments.length?u.paddingTop(d).paddingRight(d).paddingBottom(d).paddingLeft(d):u.paddingTop()},u.paddingTop=function(d){return arguments.length?(s=typeof d=="function"?d:Cx(+d),u):s},u.paddingRight=function(d){return arguments.length?(a=typeof d=="function"?d:Cx(+d),u):a},u.paddingBottom=function(d){return arguments.length?(l=typeof d=="function"?d:Cx(+d),u):l},u.paddingLeft=function(d){return arguments.length?(c=typeof d=="function"?d:Cx(+d),u):c},u}function Gon(e,t,n,r,i){var o=e.children,s,a=o.length,l,c=new Array(a+1);for(c[0]=l=s=0;s<a;++s)c[s+1]=l+=o[s].value;u(0,a,e.value,t,n,r,i);function u(f,d,h,p,g,y,v){if(f>=d-1){var x=o[f];x.x0=p,x.y0=g,x.x1=y,x.y1=v;return}for(var m=c[f],w=h/2+m,S=f+1,C=d-1;S<C;){var $=S+C>>>1;c[$]<w?S=$+1:C=$}w-c[S-1]<c[S]-w&&f+1<S&&--S;var E=c[S]-m,R=h-E;if(y-p>v-g){var N=h?(p*R+y*E)/h:y;u(f,S,E,p,g,N,v),u(S,d,R,N,g,y,v)}else{var I=h?(g*R+v*E)/h:v;u(f,S,E,p,g,y,I),u(S,d,R,p,I,y,v)}}}function Kon(e,t,n,r,i){(e.depth&1?N8:JR)(e,t,n,r,i)}const Jon=function e(t){function n(r,i,o,s,a){if((l=r._squarify)&&l.ratio===t)for(var l,c,u,f,d=-1,h,p=l.length,g=r.value;++d<p;){for(c=l[d],u=c.children,f=c.value=0,h=u.length;f<h;++f)c.value+=u[f].value;c.dice?JR(c,i,o,s,g?o+=(a-o)*c.value/g:a):N8(c,i,o,g?i+=(s-i)*c.value/g:s,a),g-=c.value}else r._squarify=l=AUe(t,r,i,o,s,a),l.ratio=t}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(RUe);function VZ(e,t,n){const r={};return e.each(i=>{const o=i.data;n(o)&&(r[t(o)]=i)}),e.lookup=r,e}function jle(e){Pe.call(this,null,e)}jle.Definition={type:"Nest",metadata:{treesource:!0,changes:!0},params:[{name:"keys",type:"field",array:!0},{name:"generate",type:"boolean"}]};const esn=e=>e.values;Ke(jle,Pe,{transform(e,t){t.source||De("Nest transform requires an upstream data source.");var n=e.generate,r=e.modified(),i=t.clone(),o=this.value;return(!o||r||t.changed())&&(o&&o.each(s=>{s.children&&Y7(s.data)&&i.rem.push(s.data)}),this.value=o=Lle({values:lt(e.keys).reduce((s,a)=>(s.key(a),s),tsn()).entries(i.source)},esn),n&&o.each(s=>{s.children&&(s=sr(s.data),i.add.push(s),i.source.push(s))}),VZ(o,Tt,Tt)),i.source.root=o,i}});function tsn(){const e=[],t={entries:i=>r(n(i,0),0),key:i=>(e.push(i),t)};function n(i,o){if(o>=e.length)return i;const s=i.length,a=e[o++],l={},c={};let u=-1,f,d,h;for(;++u<s;)f=a(d=i[u])+"",(h=l[f])?h.push(d):l[f]=[d];for(f in l)c[f]=n(l[f],o);return c}function r(i,o){if(++o>e.length)return i;const s=[];for(const a in i)s.push({key:a,values:r(i[a],o)});return s}return t}function Lg(e){Pe.call(this,null,e)}const nsn=(e,t)=>e.parent===t.parent?1:2;Ke(Lg,Pe,{transform(e,t){(!t.source||!t.source.root)&&De(this.constructor.name+" transform requires a backing tree data source.");const n=this.layout(e.method),r=this.fields,i=t.source.root,o=e.as||r;e.field?i.sum(e.field):i.count(),e.sort&&i.sort(iO(e.sort,s=>s.data)),rsn(n,this.params,e),n.separation&&n.separation(e.separation!==!1?nsn:rC);try{this.value=n(i)}catch(s){De(s)}return i.each(s=>isn(s,r,o)),t.reflow(e.modified()).modifies(o).modifies("leaf")}});function rsn(e,t,n){for(let r,i=0,o=t.length;i<o;++i)r=t[i],r in n&&e[r](n[r])}function isn(e,t,n){const r=e.data,i=t.length-1;for(let o=0;o<i;++o)r[n[o]]=e[t[o]];r[n[i]]=e.children?e.children.length:0}const UZ=["x","y","r","depth","children"];function Fle(e){Lg.call(this,e)}Fle.Definition={type:"Pack",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"radius",type:"field",default:null},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:UZ.length,default:UZ}]};Ke(Fle,Lg,{layout:jon,params:["radius","size","padding"],fields:UZ});const qZ=["x0","y0","x1","y1","depth","children"];function zle(e){Lg.call(this,e)}zle.Definition={type:"Partition",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"padding",type:"number",default:0},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:qZ.length,default:qZ}]};Ke(zle,Lg,{layout:Fon,params:["size","round","padding"],fields:qZ});function Qle(e){Pe.call(this,null,e)}Qle.Definition={type:"Stratify",metadata:{treesource:!0},params:[{name:"key",type:"field",required:!0},{name:"parentKey",type:"field",required:!0}]};Ke(Qle,Pe,{transform(e,t){t.source||De("Stratify transform requires an upstream data source.");let n=this.value;const r=e.modified(),i=t.fork(t.ALL).materialize(t.SOURCE),o=!n||r||t.changed(t.ADD_REM)||t.modified(e.key.fields)||t.modified(e.parentKey.fields);return i.source=i.source.slice(),o&&(n=i.source.length?VZ(Hxe().id(e.key).parentId(e.parentKey)(i.source),e.key,Lu):VZ(Hxe()([{}]),e.key,e.key)),i.source.root=this.value=n,i}});const Gxe={tidy:Hon,cluster:aon},YZ=["x","y","depth","children"];function Ble(e){Lg.call(this,e)}Ble.Definition={type:"Tree",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"tidy",values:["tidy","cluster"]},{name:"size",type:"number",array:!0,length:2},{name:"nodeSize",type:"number",array:!0,length:2},{name:"separation",type:"boolean",default:!0},{name:"as",type:"string",array:!0,length:YZ.length,default:YZ}]};Ke(Ble,Lg,{layout(e){const t=e||"tidy";if(Rt(Gxe,t))return Gxe[t]();De("Unrecognized Tree layout method: "+t)},params:["size","nodeSize"],fields:YZ});function Wle(e){Pe.call(this,[],e)}Wle.Definition={type:"TreeLinks",metadata:{tree:!0,generates:!0,changes:!0},params:[]};Ke(Wle,Pe,{transform(e,t){const n=this.value,r=t.source&&t.source.root,i=t.fork(t.NO_SOURCE),o={};return r||De("TreeLinks transform requires a tree data source."),t.changed(t.ADD_REM)?(i.rem=n,t.visit(t.SOURCE,s=>o[Tt(s)]=1),r.each(s=>{const a=s.data,l=s.parent&&s.parent.data;l&&o[Tt(a)]&&o[Tt(l)]&&i.add.push(sr({source:l,target:a}))}),this.value=i.add):t.changed(t.MOD)&&(t.visit(t.MOD,s=>o[Tt(s)]=1),n.forEach(s=>{(o[Tt(s.source)]||o[Tt(s.target)])&&i.mod.push(s)})),i}});const Kxe={binary:Gon,dice:JR,slice:N8,slicedice:Kon,squarify:DUe,resquarify:Jon},XZ=["x0","y0","x1","y1","depth","children"];function Vle(e){Lg.call(this,e)}Vle.Definition={type:"Treemap",metadata:{tree:!0,modifies:!0},params:[{name:"field",type:"field"},{name:"sort",type:"compare"},{name:"method",type:"enum",default:"squarify",values:["squarify","resquarify","binary","dice","slice","slicedice"]},{name:"padding",type:"number",default:0},{name:"paddingInner",type:"number",default:0},{name:"paddingOuter",type:"number",default:0},{name:"paddingTop",type:"number",default:0},{name:"paddingRight",type:"number",default:0},{name:"paddingBottom",type:"number",default:0},{name:"paddingLeft",type:"number",default:0},{name:"ratio",type:"number",default:1.618033988749895},{name:"round",type:"boolean",default:!1},{name:"size",type:"number",array:!0,length:2},{name:"as",type:"string",array:!0,length:XZ.length,default:XZ}]};Ke(Vle,Lg,{layout(){const e=Zon();return e.ratio=t=>{const n=e.tile();n.ratio&&e.tile(n.ratio(t))},e.method=t=>{Rt(Kxe,t)?e.tile(Kxe[t]):De("Unrecognized Treemap layout method: "+t)},e},params:["method","ratio","size","round","padding","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft"],fields:XZ});const osn=Object.freeze(Object.defineProperty({__proto__:null,nest:jle,pack:Fle,partition:zle,stratify:Qle,tree:Ble,treelinks:Wle,treemap:Vle},Symbol.toStringTag,{value:"Module"})),tV=4278190080;function ssn(e,t){const n=e.bitmap();return(t||[]).forEach(r=>n.set(e(r.boundary[0]),e(r.boundary[3]))),[n,void 0]}function asn(e,t,n,r,i){const o=e.width,s=e.height,a=r||i,l=_y(o,s).getContext("2d"),c=_y(o,s).getContext("2d"),u=a&&_y(o,s).getContext("2d");n.forEach(E=>EI(l,E,!1)),EI(c,t,!1),a&&EI(u,t,!0);const f=nV(l,o,s),d=nV(c,o,s),h=a&&nV(u,o,s),p=e.bitmap(),g=a&&e.bitmap();let y,v,x,m,w,S,C,$;for(v=0;v<s;++v)for(y=0;y<o;++y)w=v*o+y,S=f[w]&tV,$=d[w]&tV,C=a&&h[w]&tV,(S||C||$)&&(x=e(y),m=e(v),!i&&(S||$)&&p.set(x,m),a&&(S||C)&&g.set(x,m));return[p,g]}function nV(e,t,n){return new Uint32Array(e.getImageData(0,0,t,n).data.buffer)}function EI(e,t,n){if(!t.length)return;const r=t[0].mark.marktype;r==="group"?t.forEach(i=>{i.items.forEach(o=>EI(e,o.items,n))}):zc[r].draw(e,{items:n?t.map(lsn):t})}function lsn(e){const t=X7(e,{});return t.stroke&&t.strokeOpacity!==0||t.fill&&t.fillOpacity!==0?{...t,strokeOpacity:1,stroke:"#000",fillOpacity:0}:t}const hp=5,Aa=31,X2=32,Cm=new Uint32Array(X2+1),yf=new Uint32Array(X2+1);yf[0]=0;Cm[0]=~yf[0];for(let e=1;e<=X2;++e)yf[e]=yf[e-1]<<1|1,Cm[e]=~yf[e];function csn(e,t){const n=new Uint32Array(~~((e*t+X2)/X2));function r(o,s){n[o]|=s}function i(o,s){n[o]&=s}return{array:n,get:(o,s)=>{const a=s*e+o;return n[a>>>hp]&1<<(a&Aa)},set:(o,s)=>{const a=s*e+o;r(a>>>hp,1<<(a&Aa))},clear:(o,s)=>{const a=s*e+o;i(a>>>hp,~(1<<(a&Aa)))},getRange:(o,s,a,l)=>{let c=l,u,f,d,h;for(;c>=s;--c)if(u=c*e+o,f=c*e+a,d=u>>>hp,h=f>>>hp,d===h){if(n[d]&Cm[u&Aa]&yf[(f&Aa)+1])return!0}else{if(n[d]&Cm[u&Aa]||n[h]&yf[(f&Aa)+1])return!0;for(let p=d+1;p<h;++p)if(n[p])return!0}return!1},setRange:(o,s,a,l)=>{let c,u,f,d,h;for(;s<=l;++s)if(c=s*e+o,u=s*e+a,f=c>>>hp,d=u>>>hp,f===d)r(f,Cm[c&Aa]&yf[(u&Aa)+1]);else for(r(f,Cm[c&Aa]),r(d,yf[(u&Aa)+1]),h=f+1;h<d;++h)r(h,4294967295)},clearRange:(o,s,a,l)=>{let c,u,f,d,h;for(;s<=l;++s)if(c=s*e+o,u=s*e+a,f=c>>>hp,d=u>>>hp,f===d)i(f,yf[c&Aa]|Cm[(u&Aa)+1]);else for(i(f,yf[c&Aa]),i(d,Cm[(u&Aa)+1]),h=f+1;h<d;++h)i(h,0)},outOfBounds:(o,s,a,l)=>o<0||s<0||l>=t||a>=e}}function usn(e,t,n){const r=Math.max(1,Math.sqrt(e*t/1e6)),i=~~((e+2*n+r)/r),o=~~((t+2*n+r)/r),s=a=>~~((a+n)/r);return s.invert=a=>a*r-n,s.bitmap=()=>csn(i,o),s.ratio=r,s.padding=n,s.width=e,s.height=t,s}function fsn(e,t,n,r){const i=e.width,o=e.height;return function(s){const a=s.datum.datum.items[r].items,l=a.length,c=s.datum.fontSize,u=zf.width(s.datum,s.datum.text);let f=0,d,h,p,g,y,v,x;for(let m=0;m<l;++m)d=a[m].x,p=a[m].y,h=a[m].x2===void 0?d:a[m].x2,g=a[m].y2===void 0?p:a[m].y2,y=(d+h)/2,v=(p+g)/2,x=Math.abs(h-d+g-p),x>=f&&(f=x,s.x=y,s.y=v);return y=u/2,v=c/2,d=s.x-y,h=s.x+y,p=s.y-v,g=s.y+v,s.align="center",d<0&&h<=i?s.align="left":0<=d&&i<h&&(s.align="right"),s.baseline="middle",p<0&&g<=o?s.baseline="top":0<=p&&o<g&&(s.baseline="bottom"),!0}}function xj(e,t,n,r,i,o){let s=n/2;return e-s<0||e+s>i||t-(s=r/2)<0||t+s>o}function ty(e,t,n,r,i,o,s,a){const l=i*o/(r*2),c=e(t-l),u=e(t+l),f=e(n-(o=o/2)),d=e(n+o);return s.outOfBounds(c,f,u,d)||s.getRange(c,f,u,d)||a&&a.getRange(c,f,u,d)}function dsn(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1];function l(c,u,f,d,h){const p=e.invert(c),g=e.invert(u);let y=f,v=o,x;if(!xj(p,g,d,h,i,o)&&!ty(e,p,g,h,d,y,s,a)&&!ty(e,p,g,h,d,h,s,null)){for(;v-y>=1;)x=(y+v)/2,ty(e,p,g,h,d,x,s,a)?v=x:y=x;if(y>f)return[p,g,y,!0]}}return function(c){const u=c.datum.datum.items[r].items,f=u.length,d=c.datum.fontSize,h=zf.width(c.datum,c.datum.text);let p=n?d:0,g=!1,y=!1,v=0,x,m,w,S,C,$,E,R,N,I,j,A,T,D,L,W,V;for(let Q=0;Q<f;++Q){for(x=u[Q].x,w=u[Q].y,m=u[Q].x2===void 0?x:u[Q].x2,S=u[Q].y2===void 0?w:u[Q].y2,x>m&&(V=x,x=m,m=V),w>S&&(V=w,w=S,S=V),N=e(x),j=e(m),I=~~((N+j)/2),A=e(w),D=e(S),T=~~((A+D)/2),E=I;E>=N;--E)for(R=T;R>=A;--R)W=l(E,R,p,h,d),W&&([c.x,c.y,p,g]=W);for(E=I;E<=j;++E)for(R=T;R<=D;++R)W=l(E,R,p,h,d),W&&([c.x,c.y,p,g]=W);!g&&!n&&(L=Math.abs(m-x+S-w),C=(x+m)/2,$=(w+S)/2,L>=v&&!xj(C,$,h,d,i,o)&&!ty(e,C,$,d,h,d,s,null)&&(v=L,c.x=C,c.y=$,y=!0))}return g||y?(C=h/2,$=d/2,s.setRange(e(c.x-C),e(c.y-$),e(c.x+C),e(c.y+$)),c.align="center",c.baseline="middle",!0):!1}}const hsn=[-1,-1,1,1],psn=[-1,1,-1,1];function gsn(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1],l=e.bitmap();return function(c){const u=c.datum.datum.items[r].items,f=u.length,d=c.datum.fontSize,h=zf.width(c.datum,c.datum.text),p=[];let g=n?d:0,y=!1,v=!1,x=0,m,w,S,C,$,E,R,N,I,j,A,T;for(let D=0;D<f;++D){for(m=u[D].x,S=u[D].y,w=u[D].x2===void 0?m:u[D].x2,C=u[D].y2===void 0?S:u[D].y2,p.push([e((m+w)/2),e((S+C)/2)]);p.length;)if([R,N]=p.pop(),!(s.get(R,N)||a.get(R,N)||l.get(R,N))){l.set(R,N);for(let L=0;L<4;++L)$=R+hsn[L],E=N+psn[L],l.outOfBounds($,E,$,E)||p.push([$,E]);if($=e.invert(R),E=e.invert(N),I=g,j=o,!xj($,E,h,d,i,o)&&!ty(e,$,E,d,h,I,s,a)&&!ty(e,$,E,d,h,d,s,null)){for(;j-I>=1;)A=(I+j)/2,ty(e,$,E,d,h,A,s,a)?j=A:I=A;I>g&&(c.x=$,c.y=E,g=I,y=!0)}}!y&&!n&&(T=Math.abs(w-m+C-S),$=(m+w)/2,E=(S+C)/2,T>=x&&!xj($,E,h,d,i,o)&&!ty(e,$,E,d,h,d,s,null)&&(x=T,c.x=$,c.y=E,v=!0))}return y||v?($=h/2,E=d/2,s.setRange(e(c.x-$),e(c.y-E),e(c.x+$),e(c.y+E)),c.align="center",c.baseline="middle",!0):!1}}const msn=["right","center","left"],ysn=["bottom","middle","top"];function vsn(e,t,n,r){const i=e.width,o=e.height,s=t[0],a=t[1],l=r.length;return function(c){const u=c.boundary,f=c.datum.fontSize;if(u[2]<0||u[5]<0||u[0]>i||u[3]>o)return!1;let d=c.textWidth??0,h,p,g,y,v,x,m,w,S,C,$,E,R,N,I;for(let j=0;j<l;++j){if(h=(n[j]&3)-1,p=(n[j]>>>2&3)-1,g=h===0&&p===0||r[j]<0,y=h&&p?Math.SQRT1_2:1,v=r[j]<0?-1:1,x=u[1+h]+r[j]*h*y,$=u[4+p]+v*f*p/2+r[j]*p*y,w=$-f/2,S=$+f/2,E=e(x),N=e(w),I=e(S),!d)if(Jxe(E,E,N,I,s,a,x,x,w,S,u,g))d=zf.width(c.datum,c.datum.text);else continue;if(C=x+v*d*h/2,x=C-d/2,m=C+d/2,E=e(x),R=e(m),Jxe(E,R,N,I,s,a,x,m,w,S,u,g))return c.x=h?h*v<0?m:x:C,c.y=p?p*v<0?S:w:$,c.align=msn[h*v+1],c.baseline=ysn[p*v+1],s.setRange(E,N,R,I),!0}return!1}}function Jxe(e,t,n,r,i,o,s,a,l,c,u,f){return!(i.outOfBounds(e,n,t,r)||(f&&o||i).getRange(e,n,t,r))}const rV=0,iV=4,oV=8,sV=0,aV=1,lV=2,bsn={"top-left":rV+sV,top:rV+aV,"top-right":rV+lV,left:iV+sV,middle:iV+aV,right:iV+lV,"bottom-left":oV+sV,bottom:oV+aV,"bottom-right":oV+lV},Osn={naive:fsn,"reduced-search":dsn,floodfill:gsn};function xsn(e,t,n,r,i,o,s,a,l,c,u){if(!e.length)return e;const f=Math.max(r.length,i.length),d=wsn(r,f),h=Ssn(i,f),p=_sn(e[0].datum),g=p==="group"&&e[0].datum.items[l].marktype,y=g==="area",v=Csn(p,g,a,l),x=c===null||c===1/0,m=y&&u==="naive";let w=-1,S=-1;const C=e.map(N=>{const I=x?zf.width(N,N.text):void 0;return w=Math.max(w,I),S=Math.max(S,N.fontSize),{datum:N,opacity:0,x:void 0,y:void 0,align:void 0,baseline:void 0,boundary:v(N),textWidth:I}});c=c===null||c===1/0?Math.max(w,S)+Math.max(...r):c;const $=usn(t[0],t[1],c);let E;if(!m){n&&C.sort((j,A)=>n(j.datum,A.datum));let N=!1;for(let j=0;j<h.length&&!N;++j)N=h[j]===5||d[j]<0;const I=(p&&s||y)&&e.map(j=>j.datum);E=o.length||I?asn($,I||[],o,N,y):ssn($,s&&C)}const R=y?Osn[u]($,E,s,l):vsn($,E,h,d);return C.forEach(N=>N.opacity=+R(N)),C}function wsn(e,t){const n=new Float64Array(t),r=e.length;for(let i=0;i<r;++i)n[i]=e[i]||0;for(let i=r;i<t;++i)n[i]=n[r-1];return n}function Ssn(e,t){const n=new Int8Array(t),r=e.length;for(let i=0;i<r;++i)n[i]|=bsn[e[i]];for(let i=r;i<t;++i)n[i]=n[r-1];return n}function _sn(e){return e&&e.mark&&e.mark.marktype}function Csn(e,t,n,r){const i=o=>[o.x,o.x,o.x,o.y,o.y,o.y];return e?e==="line"||e==="area"?o=>i(o.datum):t==="line"?o=>{const s=o.datum.items[r].items;return i(s.length?s[n==="start"?0:s.length-1]:{x:NaN,y:NaN})}:o=>{const s=o.datum.bounds;return[s.x1,(s.x1+s.x2)/2,s.x2,s.y1,(s.y1+s.y2)/2,s.y2]}:i}const HZ=["x","y","opacity","align","baseline"],NUe=["top-left","left","bottom-left","top","bottom","top-right","right","bottom-right"];function Ule(e){Pe.call(this,null,e)}Ule.Definition={type:"Label",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2,required:!0},{name:"sort",type:"compare"},{name:"anchor",type:"string",array:!0,default:NUe},{name:"offset",type:"number",array:!0,default:[1]},{name:"padding",type:"number",default:0,null:!0},{name:"lineAnchor",type:"string",values:["start","end"],default:"end"},{name:"markIndex",type:"number",default:0},{name:"avoidBaseMark",type:"boolean",default:!0},{name:"avoidMarks",type:"data",array:!0},{name:"method",type:"string",default:"naive"},{name:"as",type:"string",array:!0,length:HZ.length,default:HZ}]};Ke(Ule,Pe,{transform(e,t){function n(o){const s=e[o];return cn(s)&&t.modified(s.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||n("sort")))return;(!e.size||e.size.length!==2)&&De("Size parameter should be specified as a [width, height] array.");const i=e.as||HZ;return xsn(t.materialize(t.SOURCE).source||[],e.size,e.sort,lt(e.offset==null?1:e.offset),lt(e.anchor||NUe),e.avoidMarks||[],e.avoidBaseMark!==!1,e.lineAnchor||"end",e.markIndex||0,e.padding===void 0?0:e.padding,e.method||"naive").forEach(o=>{const s=o.datum;s[i[0]]=o.x,s[i[1]]=o.y,s[i[2]]=o.opacity,s[i[3]]=o.align,s[i[4]]=o.baseline}),t.reflow(r).modifies(i)}});const $sn=Object.freeze(Object.defineProperty({__proto__:null,label:Ule},Symbol.toStringTag,{value:"Module"}));function MUe(e,t){var n=[],r=function(u){return u(a)},i,o,s,a,l,c;if(t==null)n.push(e);else for(i={},o=0,s=e.length;o<s;++o)a=e[o],l=t.map(r),c=i[l],c||(i[l]=c=[],c.dims=l,n.push(c)),c.push(a);return n}function qle(e){Pe.call(this,null,e)}qle.Definition={type:"Loess",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"bandwidth",type:"number",default:.3},{name:"as",type:"string",array:!0}]};Ke(qle,Pe,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=MUe(r,e.groupby),o=(e.groupby||[]).map(Vi),s=o.length,a=e.as||[Vi(e.x),Vi(e.y)],l=[];i.forEach(c=>{H9e(c,e.x,e.y,e.bandwidth||.3).forEach(u=>{const f={};for(let d=0;d<s;++d)f[o[d]]=c.dims[d];f[a[0]]=u[0],f[a[1]]=u[1],l.push(sr(f))})}),this.value&&(n.rem=this.value),this.value=n.add=n.source=l}return n}});const ZZ={constant:Sse,linear:_se,log:U9e,exp:q9e,pow:Y9e,quad:Cse,poly:X9e},Esn=(e,t)=>e==="poly"?t:e==="quad"?2:1;function Yle(e){Pe.call(this,null,e)}Yle.Definition={type:"Regression",metadata:{generates:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"groupby",type:"field",array:!0},{name:"method",type:"string",default:"linear",values:Object.keys(ZZ)},{name:"order",type:"number",default:3},{name:"extent",type:"number",array:!0,length:2},{name:"params",type:"boolean",default:!1},{name:"as",type:"string",array:!0}]};Ke(Yle,Pe,{transform(e,t){const n=t.fork(t.NO_SOURCE|t.NO_FIELDS);if(!this.value||t.changed()||e.modified()){const r=t.materialize(t.SOURCE).source,i=MUe(r,e.groupby),o=(e.groupby||[]).map(Vi),s=e.method||"linear",a=e.order==null?3:e.order,l=Esn(s,a),c=e.as||[Vi(e.x),Vi(e.y)],u=ZZ[s],f=[];let d=e.extent;Rt(ZZ,s)||De("Invalid regression method: "+s),d!=null&&s==="log"&&d[0]<=0&&(t.dataflow.warn("Ignoring extent with values <= 0 for log regression."),d=null),i.forEach(h=>{if(h.length<=l){t.dataflow.warn("Skipping regression with more parameters than data points.");return}const g=u(h,e.x,e.y,a);if(e.params){f.push(sr({keys:h.dims,coef:g.coef,rSquared:g.rSquared}));return}const y=d||_h(h,e.x),v=x=>{const m={};for(let w=0;w<o.length;++w)m[o[w]]=h.dims[w];m[c[0]]=x[0],m[c[1]]=x[1],f.push(sr(m))};s==="linear"||s==="constant"?y.forEach(x=>v([x,g.predict(x)])):t8(g.predict,y,25,200).forEach(v)}),this.value&&(n.rem=this.value),this.value=n.add=n.source=f}return n}});const ksn=Object.freeze(Object.defineProperty({__proto__:null,loess:qle,regression:Yle},Symbol.toStringTag,{value:"Module"})),Kp=11102230246251565e-32,Xs=134217729,Tsn=(3+8*Kp)*Kp;function cV(e,t,n,r,i){let o,s,a,l,c=t[0],u=r[0],f=0,d=0;u>c==u>-c?(o=c,c=t[++f]):(o=u,u=r[++d]);let h=0;if(f<e&&d<n)for(u>c==u>-c?(s=c+o,a=o-(s-c),c=t[++f]):(s=u+o,a=o-(s-u),u=r[++d]),o=s,a!==0&&(i[h++]=a);f<e&&d<n;)u>c==u>-c?(s=o+c,l=s-o,a=o-(s-l)+(c-l),c=t[++f]):(s=o+u,l=s-o,a=o-(s-l)+(u-l),u=r[++d]),o=s,a!==0&&(i[h++]=a);for(;f<e;)s=o+c,l=s-o,a=o-(s-l)+(c-l),c=t[++f],o=s,a!==0&&(i[h++]=a);for(;d<n;)s=o+u,l=s-o,a=o-(s-l)+(u-l),u=r[++d],o=s,a!==0&&(i[h++]=a);return(o!==0||h===0)&&(i[h++]=o),h}function Psn(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function eA(e){return new Float64Array(e)}const Rsn=(3+16*Kp)*Kp,Asn=(2+12*Kp)*Kp,Dsn=(9+64*Kp)*Kp*Kp,ZO=eA(4),ewe=eA(8),twe=eA(12),nwe=eA(16),Da=eA(4);function Nsn(e,t,n,r,i,o,s){let a,l,c,u,f,d,h,p,g,y,v,x,m,w,S,C,$,E;const R=e-i,N=n-i,I=t-o,j=r-o;w=R*j,d=Xs*R,h=d-(d-R),p=R-h,d=Xs*j,g=d-(d-j),y=j-g,S=p*y-(w-h*g-p*g-h*y),C=I*N,d=Xs*I,h=d-(d-I),p=I-h,d=Xs*N,g=d-(d-N),y=N-g,$=p*y-(C-h*g-p*g-h*y),v=S-$,f=S-v,ZO[0]=S-(v+f)+(f-$),x=w+v,f=x-w,m=w-(x-f)+(v-f),v=m-C,f=m-v,ZO[1]=m-(v+f)+(f-C),E=x+v,f=E-x,ZO[2]=x-(E-f)+(v-f),ZO[3]=E;let A=Psn(4,ZO),T=Asn*s;if(A>=T||-A>=T||(f=e-R,a=e-(R+f)+(f-i),f=n-N,c=n-(N+f)+(f-i),f=t-I,l=t-(I+f)+(f-o),f=r-j,u=r-(j+f)+(f-o),a===0&&l===0&&c===0&&u===0)||(T=Dsn*s+Tsn*Math.abs(A),A+=R*u+j*a-(I*c+N*l),A>=T||-A>=T))return A;w=a*j,d=Xs*a,h=d-(d-a),p=a-h,d=Xs*j,g=d-(d-j),y=j-g,S=p*y-(w-h*g-p*g-h*y),C=l*N,d=Xs*l,h=d-(d-l),p=l-h,d=Xs*N,g=d-(d-N),y=N-g,$=p*y-(C-h*g-p*g-h*y),v=S-$,f=S-v,Da[0]=S-(v+f)+(f-$),x=w+v,f=x-w,m=w-(x-f)+(v-f),v=m-C,f=m-v,Da[1]=m-(v+f)+(f-C),E=x+v,f=E-x,Da[2]=x-(E-f)+(v-f),Da[3]=E;const D=cV(4,ZO,4,Da,ewe);w=R*u,d=Xs*R,h=d-(d-R),p=R-h,d=Xs*u,g=d-(d-u),y=u-g,S=p*y-(w-h*g-p*g-h*y),C=I*c,d=Xs*I,h=d-(d-I),p=I-h,d=Xs*c,g=d-(d-c),y=c-g,$=p*y-(C-h*g-p*g-h*y),v=S-$,f=S-v,Da[0]=S-(v+f)+(f-$),x=w+v,f=x-w,m=w-(x-f)+(v-f),v=m-C,f=m-v,Da[1]=m-(v+f)+(f-C),E=x+v,f=E-x,Da[2]=x-(E-f)+(v-f),Da[3]=E;const L=cV(D,ewe,4,Da,twe);w=a*u,d=Xs*a,h=d-(d-a),p=a-h,d=Xs*u,g=d-(d-u),y=u-g,S=p*y-(w-h*g-p*g-h*y),C=l*c,d=Xs*l,h=d-(d-l),p=l-h,d=Xs*c,g=d-(d-c),y=c-g,$=p*y-(C-h*g-p*g-h*y),v=S-$,f=S-v,Da[0]=S-(v+f)+(f-$),x=w+v,f=x-w,m=w-(x-f)+(v-f),v=m-C,f=m-v,Da[1]=m-(v+f)+(f-C),E=x+v,f=E-x,Da[2]=x-(E-f)+(v-f),Da[3]=E;const W=cV(L,twe,4,Da,nwe);return nwe[W-1]}function PN(e,t,n,r,i,o){const s=(t-o)*(n-i),a=(e-i)*(r-o),l=s-a,c=Math.abs(s+a);return Math.abs(l)>=Rsn*c?l:-Nsn(e,t,n,r,i,o,c)}const rwe=Math.pow(2,-52),RN=new Uint32Array(512);class wj{static from(t,n=Fsn,r=zsn){const i=t.length,o=new Float64Array(i*2);for(let s=0;s<i;s++){const a=t[s];o[2*s]=n(a),o[2*s+1]=r(a)}return new wj(o)}constructor(t){const n=t.length>>1;if(n>0&&typeof t[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=t;const r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:o}=this,s=t.length>>1;let a=1/0,l=1/0,c=-1/0,u=-1/0;for(let N=0;N<s;N++){const I=t[2*N],j=t[2*N+1];I<a&&(a=I),j<l&&(l=j),I>c&&(c=I),j>u&&(u=j),this._ids[N]=N}const f=(a+c)/2,d=(l+u)/2;let h=1/0,p,g,y;for(let N=0;N<s;N++){const I=uV(f,d,t[2*N],t[2*N+1]);I<h&&(p=N,h=I)}const v=t[2*p],x=t[2*p+1];h=1/0;for(let N=0;N<s;N++){if(N===p)continue;const I=uV(v,x,t[2*N],t[2*N+1]);I<h&&I>0&&(g=N,h=I)}let m=t[2*g],w=t[2*g+1],S=1/0;for(let N=0;N<s;N++){if(N===p||N===g)continue;const I=Lsn(v,x,m,w,t[2*N],t[2*N+1]);I<S&&(y=N,S=I)}let C=t[2*y],$=t[2*y+1];if(S===1/0){for(let j=0;j<s;j++)this._dists[j]=t[2*j]-t[0]||t[2*j+1]-t[1];ew(this._ids,this._dists,0,s-1);const N=new Uint32Array(s);let I=0;for(let j=0,A=-1/0;j<s;j++){const T=this._ids[j];this._dists[T]>A&&(N[I++]=T,A=this._dists[T])}this.hull=N.subarray(0,I),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(PN(v,x,m,w,C,$)<0){const N=g,I=m,j=w;g=y,m=C,w=$,y=N,C=I,$=j}const E=jsn(v,x,m,w,C,$);this._cx=E.x,this._cy=E.y;for(let N=0;N<s;N++)this._dists[N]=uV(t[2*N],t[2*N+1],E.x,E.y);ew(this._ids,this._dists,0,s-1),this._hullStart=p;let R=3;r[p]=n[y]=g,r[g]=n[p]=y,r[y]=n[g]=p,i[p]=0,i[g]=1,i[y]=2,o.fill(-1),o[this._hashKey(v,x)]=p,o[this._hashKey(m,w)]=g,o[this._hashKey(C,$)]=y,this.trianglesLen=0,this._addTriangle(p,g,y,-1,-1,-1);for(let N=0,I,j;N<this._ids.length;N++){const A=this._ids[N],T=t[2*A],D=t[2*A+1];if(N>0&&Math.abs(T-I)<=rwe&&Math.abs(D-j)<=rwe||(I=T,j=D,A===p||A===g||A===y))continue;let L=0;for(let Y=0,U=this._hashKey(T,D);Y<this._hashSize&&(L=o[(U+Y)%this._hashSize],!(L!==-1&&L!==r[L]));Y++);L=n[L];let W=L,V;for(;V=r[W],PN(T,D,t[2*W],t[2*W+1],t[2*V],t[2*V+1])>=0;)if(W=V,W===L){W=-1;break}if(W===-1)continue;let Q=this._addTriangle(W,A,r[W],-1,-1,i[W]);i[A]=this._legalize(Q+2),i[W]=Q,R++;let B=r[W];for(;V=r[B],PN(T,D,t[2*B],t[2*B+1],t[2*V],t[2*V+1])<0;)Q=this._addTriangle(B,A,V,i[A],-1,i[B]),i[A]=this._legalize(Q+2),r[B]=B,R--,B=V;if(W===L)for(;V=n[W],PN(T,D,t[2*V],t[2*V+1],t[2*W],t[2*W+1])<0;)Q=this._addTriangle(V,A,W,-1,i[W],i[V]),this._legalize(Q+2),i[V]=Q,r[W]=W,R--,W=V;this._hullStart=n[A]=W,r[W]=n[B]=A,r[A]=B,o[this._hashKey(T,D)]=A,o[this._hashKey(t[2*W],t[2*W+1])]=W}this.hull=new Uint32Array(R);for(let N=0,I=this._hullStart;N<R;N++)this.hull[N]=I,I=r[I];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(Msn(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:r,coords:i}=this;let o=0,s=0;for(;;){const a=r[t],l=t-t%3;if(s=l+(t+2)%3,a===-1){if(o===0)break;t=RN[--o];continue}const c=a-a%3,u=l+(t+1)%3,f=c+(a+2)%3,d=n[s],h=n[t],p=n[u],g=n[f];if(Isn(i[2*d],i[2*d+1],i[2*h],i[2*h+1],i[2*p],i[2*p+1],i[2*g],i[2*g+1])){n[t]=g,n[a]=d;const v=r[f];if(v===-1){let m=this._hullStart;do{if(this._hullTri[m]===f){this._hullTri[m]=t;break}m=this._hullPrev[m]}while(m!==this._hullStart)}this._link(t,v),this._link(a,r[s]),this._link(s,f);const x=c+(a+1)%3;o<RN.length&&(RN[o++]=x)}else{if(o===0)break;t=RN[--o]}}return s}_link(t,n){this._halfedges[t]=n,n!==-1&&(this._halfedges[n]=t)}_addTriangle(t,n,r,i,o,s){const a=this.trianglesLen;return this._triangles[a]=t,this._triangles[a+1]=n,this._triangles[a+2]=r,this._link(a,i),this._link(a+1,o),this._link(a+2,s),this.trianglesLen+=3,a}}function Msn(e,t){const n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}function uV(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}function Isn(e,t,n,r,i,o,s,a){const l=e-s,c=t-a,u=n-s,f=r-a,d=i-s,h=o-a,p=l*l+c*c,g=u*u+f*f,y=d*d+h*h;return l*(f*y-g*h)-c*(u*y-g*d)+p*(u*h-f*d)<0}function Lsn(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,c=o-t,u=s*s+a*a,f=l*l+c*c,d=.5/(s*c-a*l),h=(c*u-a*f)*d,p=(s*f-l*u)*d;return h*h+p*p}function jsn(e,t,n,r,i,o){const s=n-e,a=r-t,l=i-e,c=o-t,u=s*s+a*a,f=l*l+c*c,d=.5/(s*c-a*l),h=e+(c*u-a*f)*d,p=t+(s*f-l*u)*d;return{x:h,y:p}}function ew(e,t,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){const o=e[i],s=t[o];let a=i-1;for(;a>=n&&t[e[a]]>s;)e[a+1]=e[a--];e[a+1]=o}else{const i=n+r>>1;let o=n+1,s=r;P$(e,i,o),t[e[n]]>t[e[r]]&&P$(e,n,r),t[e[o]]>t[e[r]]&&P$(e,o,r),t[e[n]]>t[e[o]]&&P$(e,n,o);const a=e[o],l=t[a];for(;;){do o++;while(t[e[o]]<l);do s--;while(t[e[s]]>l);if(s<o)break;P$(e,o,s)}e[n+1]=e[s],e[s]=a,r-o+1>=s-n?(ew(e,t,o,r),ew(e,t,n,s-1)):(ew(e,t,n,s-1),ew(e,t,o,r))}}function P$(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Fsn(e){return e[0]}function zsn(e){return e[1]}const iwe=1e-6;class n1{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,r){t=+t,n=+n,r=+r;const i=t+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>iwe||Math.abs(this._y1-o)>iwe)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${t-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(t,n,r,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class GZ{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}let Qsn=class{constructor(t,[n,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(t.points.length*2),this.vectors=new Float64Array(t.points.length*2),this.xmax=i,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:r},vectors:i}=this;let o,s;const a=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let g=0,y=0,v=r.length,x,m;g<v;g+=3,y+=2){const w=r[g]*2,S=r[g+1]*2,C=r[g+2]*2,$=t[w],E=t[w+1],R=t[S],N=t[S+1],I=t[C],j=t[C+1],A=R-$,T=N-E,D=I-$,L=j-E,W=(A*L-T*D)*2;if(Math.abs(W)<1e-9){if(o===void 0){o=s=0;for(const Q of n)o+=t[Q*2],s+=t[Q*2+1];o/=n.length,s/=n.length}const V=1e9*Math.sign((o-$)*L-(s-E)*D);x=($+I)/2-V*L,m=(E+j)/2+V*D}else{const V=1/W,Q=A*A+T*T,B=D*D+L*L;x=$+(L*Q-T*B)*V,m=E+(A*B-D*Q)*V}a[y]=x,a[y+1]=m}let l=n[n.length-1],c,u=l*4,f,d=t[2*l],h,p=t[2*l+1];i.fill(0);for(let g=0;g<n.length;++g)l=n[g],c=u,f=d,h=p,u=l*4,d=t[2*l],p=t[2*l+1],i[c+2]=i[u]=h-p,i[c+3]=i[u+1]=d-f}render(t){const n=t==null?t=new n1:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:s,vectors:a}=this;if(o.length<=1)return null;for(let u=0,f=r.length;u<f;++u){const d=r[u];if(d<u)continue;const h=Math.floor(u/3)*2,p=Math.floor(d/3)*2,g=s[h],y=s[h+1],v=s[p],x=s[p+1];this._renderSegment(g,y,v,x,t)}let l,c=o[o.length-1];for(let u=0;u<o.length;++u){l=c,c=o[u];const f=Math.floor(i[c]/3)*2,d=s[f],h=s[f+1],p=l*4,g=this._project(d,h,a[p+2],a[p+3]);g&&this._renderSegment(d,h,g[0],g[1],t)}return n&&n.value()}renderBounds(t){const n=t==null?t=new n1:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const r=n==null?n=new n1:void 0,i=this._clip(t);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let s=2;s<o;s+=2)(i[s]!==i[s-2]||i[s+1]!==i[s-1])&&n.lineTo(i[s],i[s+1]);return n.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,r=t.length/2;n<r;++n){const i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(t){const n=new GZ;return this.renderCell(t,n),n.value()}_renderSegment(t,n,r,i,o){let s;const a=this._regioncode(t,n),l=this._regioncode(r,i);a===0&&l===0?(o.moveTo(t,n),o.lineTo(r,i)):(s=this._clipSegment(t,n,r,i,a,l))&&(o.moveTo(s[0],s[1]),o.lineTo(s[2],s[3]))}contains(t,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(t,n,r)===t}*neighbors(t){const n=this._clip(t);if(n)for(const r of this.delaunay.neighbors(t)){const i=this._clip(r);if(i){e:for(let o=0,s=n.length;o<s;o+=2)for(let a=0,l=i.length;a<l;a+=2)if(n[o]===i[a]&&n[o+1]===i[a+1]&&n[(o+2)%s]===i[(a+l-2)%l]&&n[(o+3)%s]===i[(a+l-1)%l]){yield r;break e}}}}_cell(t){const{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,s=r[t];if(s===-1)return null;const a=[];let l=s;do{const c=Math.floor(l/3);if(a.push(n[c*2],n[c*2+1]),l=l%3===2?l-2:l+1,o[l]!==t)break;l=i[l]}while(l!==s&&l!==-1);return a}_clip(t){if(t===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(n===null)return null;const{vectors:r}=this,i=t*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(t,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(t,n))}_clipFinite(t,n){const r=n.length;let i=null,o,s,a=n[r-2],l=n[r-1],c,u=this._regioncode(a,l),f,d=0;for(let h=0;h<r;h+=2)if(o=a,s=l,a=n[h],l=n[h+1],c=u,u=this._regioncode(a,l),c===0&&u===0)f=d,d=0,i?i.push(a,l):i=[a,l];else{let p,g,y,v,x;if(c===0){if((p=this._clipSegment(o,s,a,l,c,u))===null)continue;[g,y,v,x]=p}else{if((p=this._clipSegment(a,l,o,s,u,c))===null)continue;[v,x,g,y]=p,f=d,d=this._edgecode(g,y),f&&d&&this._edge(t,f,d,i,i.length),i?i.push(g,y):i=[g,y]}f=d,d=this._edgecode(v,x),f&&d&&this._edge(t,f,d,i,i.length),i?i.push(v,x):i=[v,x]}if(i)f=d,d=this._edgecode(i[0],i[1]),f&&d&&this._edge(t,f,d,i,i.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(t,n,r,i,o,s){const a=o<s;for(a&&([t,n,r,i,o,s]=[r,i,t,n,s,o]);;){if(o===0&&s===0)return a?[r,i,t,n]:[t,n,r,i];if(o&s)return null;let l,c,u=o||s;u&8?(l=t+(r-t)*(this.ymax-n)/(i-n),c=this.ymax):u&4?(l=t+(r-t)*(this.ymin-n)/(i-n),c=this.ymin):u&2?(c=n+(i-n)*(this.xmax-t)/(r-t),l=this.xmax):(c=n+(i-n)*(this.xmin-t)/(r-t),l=this.xmin),o?(t=l,n=c,o=this._regioncode(t,n)):(r=l,i=c,s=this._regioncode(r,i))}}_clipInfinite(t,n,r,i,o,s){let a=Array.from(n),l;if((l=this._project(a[0],a[1],r,i))&&a.unshift(l[0],l[1]),(l=this._project(a[a.length-2],a[a.length-1],o,s))&&a.push(l[0],l[1]),a=this._clipFinite(t,a))for(let c=0,u=a.length,f,d=this._edgecode(a[u-2],a[u-1]);c<u;c+=2)f=d,d=this._edgecode(a[c],a[c+1]),f&&d&&(c=this._edge(t,f,d,a,c),u=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,n,r,i,o){for(;n!==r;){let s,a;switch(n){case 5:n=4;continue;case 4:n=6,s=this.xmax,a=this.ymin;break;case 6:n=2;continue;case 2:n=10,s=this.xmax,a=this.ymax;break;case 10:n=8;continue;case 8:n=9,s=this.xmin,a=this.ymax;break;case 9:n=1;continue;case 1:n=5,s=this.xmin,a=this.ymin;break}(i[o]!==s||i[o+1]!==a)&&this.contains(t,s,a)&&(i.splice(o,0,s,a),o+=2)}return o}_project(t,n,r,i){let o=1/0,s,a,l;if(i<0){if(n<=this.ymin)return null;(s=(this.ymin-n)/i)<o&&(l=this.ymin,a=t+(o=s)*r)}else if(i>0){if(n>=this.ymax)return null;(s=(this.ymax-n)/i)<o&&(l=this.ymax,a=t+(o=s)*r)}if(r>0){if(t>=this.xmax)return null;(s=(this.xmax-t)/r)<o&&(a=this.xmax,l=n+(o=s)*i)}else if(r<0){if(t<=this.xmin)return null;(s=(this.xmin-t)/r)<o&&(a=this.xmin,l=n+(o=s)*i)}return[a,l]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(t){if(t&&t.length>4){for(let n=0;n<t.length;n+=2){const r=(n+2)%t.length,i=(n+4)%t.length;(t[n]===t[r]&&t[r]===t[i]||t[n+1]===t[r+1]&&t[r+1]===t[i+1])&&(t.splice(r,2),n-=2)}t.length||(t=null)}return t}};const Bsn=2*Math.PI,GO=Math.pow;function Wsn(e){return e[0]}function Vsn(e){return e[1]}function Usn(e){const{triangles:t,coords:n}=e;for(let r=0;r<t.length;r+=3){const i=2*t[r],o=2*t[r+1],s=2*t[r+2];if((n[s]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[s+1]-n[i+1])>1e-10)return!1}return!0}function qsn(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}class Xle{static from(t,n=Wsn,r=Vsn,i){return new Xle("length"in t?Ysn(t,n,r,i):Float64Array.from(Xsn(t,n,r,i)))}constructor(t){this._delaunator=new wj(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&Usn(t)){this.collinear=Int32Array.from({length:n.length/2},(d,h)=>h).sort((d,h)=>n[2*d]-n[2*h]||n[2*d+1]-n[2*h+1]);const l=this.collinear[0],c=this.collinear[this.collinear.length-1],u=[n[2*l],n[2*l+1],n[2*c],n[2*c+1]],f=1e-8*Math.hypot(u[3]-u[1],u[2]-u[0]);for(let d=0,h=n.length/2;d<h;++d){const p=qsn(n[2*d],n[2*d+1],f);n[2*d]=p[0],n[2*d+1]=p[1]}this._delaunator=new wj(n)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let l=0,c=r.length;l<c;++l){const u=o[l%3===2?l-2:l+1];(r[l]===-1||s[u]===-1)&&(s[u]=l)}for(let l=0,c=i.length;l<c;++l)a[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],s[i[0]]=1,i.length===2&&(s[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(t){return new Qsn(this,t)}*neighbors(t){const{inedges:n,hull:r,_hullIndex:i,halfedges:o,triangles:s,collinear:a}=this;if(a){const f=a.indexOf(t);f>0&&(yield a[f-1]),f<a.length-1&&(yield a[f+1]);return}const l=n[t];if(l===-1)return;let c=l,u=-1;do{if(yield u=s[c],c=c%3===2?c-2:c+1,s[c]!==t)return;if(c=o[c],c===-1){const f=r[(i[t]+1)%r.length];f!==u&&(yield f);return}}while(c!==l)}find(t,n,r=0){if(t=+t,t!==t||(n=+n,n!==n))return-1;const i=r;let o;for(;(o=this._step(r,t,n))>=0&&o!==r&&o!==i;)r=o;return o}_step(t,n,r){const{inedges:i,hull:o,_hullIndex:s,halfedges:a,triangles:l,points:c}=this;if(i[t]===-1||!c.length)return(t+1)%(c.length>>1);let u=t,f=GO(n-c[t*2],2)+GO(r-c[t*2+1],2);const d=i[t];let h=d;do{let p=l[h];const g=GO(n-c[p*2],2)+GO(r-c[p*2+1],2);if(g<f&&(f=g,u=p),h=h%3===2?h-2:h+1,l[h]!==t)break;if(h=a[h],h===-1){if(h=o[(s[t]+1)%o.length],h!==p&&GO(n-c[h*2],2)+GO(r-c[h*2+1],2)<f)return h;break}}while(h!==d);return u}render(t){const n=t==null?t=new n1:void 0,{points:r,halfedges:i,triangles:o}=this;for(let s=0,a=i.length;s<a;++s){const l=i[s];if(l<s)continue;const c=o[s]*2,u=o[l]*2;t.moveTo(r[c],r[c+1]),t.lineTo(r[u],r[u+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n){n===void 0&&(!t||typeof t.moveTo!="function")&&(n=t,t=null),n=n==null?2:+n;const r=t==null?t=new n1:void 0,{points:i}=this;for(let o=0,s=i.length;o<s;o+=2){const a=i[o],l=i[o+1];t.moveTo(a+n,l),t.arc(a,l,n,0,Bsn)}return r&&r.value()}renderHull(t){const n=t==null?t=new n1:void 0,{hull:r,points:i}=this,o=r[0]*2,s=r.length;t.moveTo(i[o],i[o+1]);for(let a=1;a<s;++a){const l=2*r[a];t.lineTo(i[l],i[l+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new GZ;return this.renderHull(t),t.value()}renderTriangle(t,n){const r=n==null?n=new n1:void 0,{points:i,triangles:o}=this,s=o[t*=3]*2,a=o[t+1]*2,l=o[t+2]*2;return n.moveTo(i[s],i[s+1]),n.lineTo(i[a],i[a+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,r=t.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new GZ;return this.renderTriangle(t,n),n.value()}}function Ysn(e,t,n,r){const i=e.length,o=new Float64Array(i*2);for(let s=0;s<i;++s){const a=e[s];o[s*2]=t.call(r,a,s,e),o[s*2+1]=n.call(r,a,s,e)}return o}function*Xsn(e,t,n,r){let i=0;for(const o of e)yield t.call(r,o,i,e),yield n.call(r,o,i,e),++i}function Hle(e){Pe.call(this,null,e)}Hle.Definition={type:"Voronoi",metadata:{modifies:!0},params:[{name:"x",type:"field",required:!0},{name:"y",type:"field",required:!0},{name:"size",type:"number",array:!0,length:2},{name:"extent",type:"array",array:!0,length:2,default:[[-1e5,-1e5],[1e5,1e5]],content:{type:"number",array:!0,length:2}},{name:"as",type:"string",default:"path"}]};const Hsn=[-1e5,-1e5,1e5,1e5];Ke(Hle,Pe,{transform(e,t){const n=e.as||"path",r=t.source;if(!r||!r.length)return t;let i=e.size;i=i?[0,0,i[0],i[1]]:(i=e.extent)?[i[0][0],i[0][1],i[1][0],i[1][1]]:Hsn;const o=this.value=Xle.from(r,e.x,e.y).voronoi(i);for(let s=0,a=r.length;s<a;++s){const l=o.cellPolygon(s);r[s][n]=l?Zsn(l):null}return t.reflow(e.modified()).modifies(n)}});function Zsn(e){const t=e[0][0],n=e[0][1];let r=e.length-1;for(;e[r][0]===t&&e[r][1]===n;--r);return"M"+e.slice(0,r+1).join("L")+"Z"}const Gsn=Object.freeze(Object.defineProperty({__proto__:null,voronoi:Hle},Symbol.toStringTag,{value:"Module"}));var fV=Math.PI/180,ME=64,kI=2048;function Ksn(){var e=[256,256],t,n,r,i,o,s,a,l=IUe,c=[],u=Math.random,f={};f.layout=function(){for(var p=d(_y()),g=ian((e[0]>>5)*e[1]),y=null,v=c.length,x=-1,m=[],w=c.map(C=>({text:t(C),font:n(C),style:i(C),weight:o(C),rotate:s(C),size:~~(r(C)+1e-14),padding:a(C),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:C})).sort((C,$)=>$.size-C.size);++x<v;){var S=w[x];S.x=e[0]*(u()+.5)>>1,S.y=e[1]*(u()+.5)>>1,Jsn(p,S,w,x),S.hasText&&h(g,S,y)&&(m.push(S),y?tan(y,S):y=[{x:S.x+S.x0,y:S.y+S.y0},{x:S.x+S.x1,y:S.y+S.y1}],S.x-=e[0]>>1,S.y-=e[1]>>1)}return m};function d(p){p.width=p.height=1;var g=Math.sqrt(p.getContext("2d").getImageData(0,0,1,1).data.length>>2);p.width=(ME<<5)/g,p.height=kI/g;var y=p.getContext("2d");return y.fillStyle=y.strokeStyle="red",y.textAlign="center",{context:y,ratio:g}}function h(p,g,y){for(var v=g.x,x=g.y,m=Math.sqrt(e[0]*e[0]+e[1]*e[1]),w=l(e),S=u()<.5?1:-1,C=-S,$,E,R;($=w(C+=S))&&(E=~~$[0],R=~~$[1],!(Math.min(Math.abs(E),Math.abs(R))>=m));)if(g.x=v+E,g.y=x+R,!(g.x+g.x0<0||g.y+g.y0<0||g.x+g.x1>e[0]||g.y+g.y1>e[1])&&(!y||!ean(g,p,e[0]))&&(!y||nan(g,y))){for(var N=g.sprite,I=g.width>>5,j=e[0]>>5,A=g.x-(I<<4),T=A&127,D=32-T,L=g.y1-g.y0,W=(g.y+g.y0)*j+(A>>5),V,Q=0;Q<L;Q++){V=0;for(var B=0;B<=I;B++)p[W+B]|=V<<D|(B<I?(V=N[Q*I+B])>>>T:0);W+=j}return g.sprite=null,!0}return!1}return f.words=function(p){return arguments.length?(c=p,f):c},f.size=function(p){return arguments.length?(e=[+p[0],+p[1]],f):e},f.font=function(p){return arguments.length?(n=nv(p),f):n},f.fontStyle=function(p){return arguments.length?(i=nv(p),f):i},f.fontWeight=function(p){return arguments.length?(o=nv(p),f):o},f.rotate=function(p){return arguments.length?(s=nv(p),f):s},f.text=function(p){return arguments.length?(t=nv(p),f):t},f.spiral=function(p){return arguments.length?(l=oan[p]||p,f):l},f.fontSize=function(p){return arguments.length?(r=nv(p),f):r},f.padding=function(p){return arguments.length?(a=nv(p),f):a},f.random=function(p){return arguments.length?(u=p,f):u},f}function Jsn(e,t,n,r){if(!t.sprite){var i=e.context,o=e.ratio;i.clearRect(0,0,(ME<<5)/o,kI/o);var s=0,a=0,l=0,c=n.length,u,f,d,h,p;for(--r;++r<c;){if(t=n[r],i.save(),i.font=t.style+" "+t.weight+" "+~~((t.size+1)/o)+"px "+t.font,u=i.measureText(t.text+"m").width*o,d=t.size<<1,t.rotate){var g=Math.sin(t.rotate*fV),y=Math.cos(t.rotate*fV),v=u*y,x=u*g,m=d*y,w=d*g;u=Math.max(Math.abs(v+w),Math.abs(v-w))+31>>5<<5,d=~~Math.max(Math.abs(x+m),Math.abs(x-m))}else u=u+31>>5<<5;if(d>l&&(l=d),s+u>=ME<<5&&(s=0,a+=l,l=0),a+d>=kI)break;i.translate((s+(u>>1))/o,(a+(d>>1))/o),t.rotate&&i.rotate(t.rotate*fV),i.fillText(t.text,0,0),t.padding&&(i.lineWidth=2*t.padding,i.strokeText(t.text,0,0)),i.restore(),t.width=u,t.height=d,t.xoff=s,t.yoff=a,t.x1=u>>1,t.y1=d>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,s+=u}for(var S=i.getImageData(0,0,(ME<<5)/o,kI/o).data,C=[];--r>=0;)if(t=n[r],!!t.hasText){for(u=t.width,f=u>>5,d=t.y1-t.y0,h=0;h<d*f;h++)C[h]=0;if(s=t.xoff,s==null)return;a=t.yoff;var $=0,E=-1;for(p=0;p<d;p++){for(h=0;h<u;h++){var R=f*p+(h>>5),N=S[(a+p)*(ME<<5)+(s+h)<<2]?1<<31-h%32:0;C[R]|=N,$|=N}$?E=p:(t.y0++,d--,p--,a++)}t.y1=t.y0+E,t.sprite=C.slice(0,(t.y1-t.y0)*f)}}}function ean(e,t,n){n>>=5;for(var r=e.sprite,i=e.width>>5,o=e.x-(i<<4),s=o&127,a=32-s,l=e.y1-e.y0,c=(e.y+e.y0)*n+(o>>5),u,f=0;f<l;f++){u=0;for(var d=0;d<=i;d++)if((u<<a|(d<i?(u=r[f*i+d])>>>s:0))&t[c+d])return!0;c+=n}return!1}function tan(e,t){var n=e[0],r=e[1];t.x+t.x0<n.x&&(n.x=t.x+t.x0),t.y+t.y0<n.y&&(n.y=t.y+t.y0),t.x+t.x1>r.x&&(r.x=t.x+t.x1),t.y+t.y1>r.y&&(r.y=t.y+t.y1)}function nan(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}function IUe(e){var t=e[0]/e[1];return function(n){return[t*(n*=.1)*Math.cos(n),n*Math.sin(n)]}}function ran(e){var t=4,n=t*e[0]/e[1],r=0,i=0;return function(o){var s=o<0?-1:1;switch(Math.sqrt(1+4*s*o)-s&3){case 0:r+=n;break;case 1:i+=t;break;case 2:r-=n;break;default:i-=t;break}return[r,i]}}function ian(e){for(var t=[],n=-1;++n<e;)t[n]=0;return t}function nv(e){return typeof e=="function"?e:function(){return e}}var oan={archimedean:IUe,rectangular:ran};const LUe=["x","y","font","fontSize","fontStyle","fontWeight","angle"],san=["text","font","rotate","fontSize","fontStyle","fontWeight"];function Zle(e){Pe.call(this,Ksn(),e)}Zle.Definition={type:"Wordcloud",metadata:{modifies:!0},params:[{name:"size",type:"number",array:!0,length:2},{name:"font",type:"string",expr:!0,default:"sans-serif"},{name:"fontStyle",type:"string",expr:!0,default:"normal"},{name:"fontWeight",type:"string",expr:!0,default:"normal"},{name:"fontSize",type:"number",expr:!0,default:14},{name:"fontSizeRange",type:"number",array:"nullable",default:[10,50]},{name:"rotate",type:"number",expr:!0,default:0},{name:"text",type:"field"},{name:"spiral",type:"string",values:["archimedean","rectangular"]},{name:"padding",type:"number",expr:!0},{name:"as",type:"string",array:!0,length:7,default:LUe}]};Ke(Zle,Pe,{transform(e,t){e.size&&!(e.size[0]&&e.size[1])&&De("Wordcloud size dimensions must be non-zero.");function n(p){const g=e[p];return cn(g)&&t.modified(g.fields)}const r=e.modified();if(!(r||t.changed(t.ADD_REM)||san.some(n)))return;const i=t.materialize(t.SOURCE).source,o=this.value,s=e.as||LUe;let a=e.fontSize||14,l;if(cn(a)?l=e.fontSizeRange:a=Ea(a),l){const p=a,g=Kn("sqrt")().domain(_h(i,p)).range(l);a=y=>g(p(y))}i.forEach(p=>{p[s[0]]=NaN,p[s[1]]=NaN,p[s[3]]=0});const c=o.words(i).text(e.text).size(e.size||[500,500]).padding(e.padding||1).spiral(e.spiral||"archimedean").rotate(e.rotate||0).font(e.font||"sans-serif").fontStyle(e.fontStyle||"normal").fontWeight(e.fontWeight||"normal").fontSize(a).random(Qu).layout(),u=o.size(),f=u[0]>>1,d=u[1]>>1,h=c.length;for(let p=0,g,y;p<h;++p)g=c[p],y=g.datum,y[s[0]]=g.x+f,y[s[1]]=g.y+d,y[s[2]]=g.font,y[s[3]]=g.size,y[s[4]]=g.style,y[s[5]]=g.weight,y[s[6]]=g.rotate;return t.reflow(r).modifies(s)}});const aan=Object.freeze(Object.defineProperty({__proto__:null,wordcloud:Zle},Symbol.toStringTag,{value:"Module"})),lan=e=>new Uint8Array(e),can=e=>new Uint16Array(e),Qk=e=>new Uint32Array(e);function uan(){let e=8,t=[],n=Qk(0),r=AN(0,e),i=AN(0,e);return{data:()=>t,seen:()=>n=fan(n,t.length),add(o){for(let s=0,a=t.length,l=o.length,c;s<l;++s)c=o[s],c._index=a++,t.push(c)},remove(o,s){const a=t.length,l=Array(a-o),c=t;let u,f,d;for(f=0;!s[f]&&f<a;++f)l[f]=t[f],c[f]=f;for(d=f;f<a;++f)u=t[f],s[f]?c[f]=-1:(c[f]=d,r[d]=r[f],i[d]=i[f],l[d]=u,u._index=d++),r[f]=0;return t=l,c},size:()=>t.length,curr:()=>r,prev:()=>i,reset:o=>i[o]=r[o],all:()=>e<257?255:e<65537?65535:4294967295,set(o,s){r[o]|=s},clear(o,s){r[o]&=~s},resize(o,s){const a=r.length;(o>a||s>e)&&(e=Math.max(s,e),r=AN(o,e,r),i=AN(o,e))}}}function fan(e,t,n){return e.length>=t?e:(n=n||new e.constructor(t),n.set(e),n)}function AN(e,t,n){const r=(t<257?lan:t<65537?can:Qk)(e);return n&&r.set(n),r}function owe(e,t,n){const r=1<<t;return{one:r,zero:~r,range:n.slice(),bisect:e.bisect,index:e.index,size:e.size,onAdd(i,o){const s=this,a=s.bisect(s.range,i.value),l=i.index,c=a[0],u=a[1],f=l.length;let d;for(d=0;d<c;++d)o[l[d]]|=r;for(d=u;d<f;++d)o[l[d]]|=r;return s}}}function swe(){let e=Qk(0),t=[],n=0;function r(a,l,c){if(!l.length)return[];const u=n,f=l.length,d=Qk(f);let h=Array(f),p,g,y;for(y=0;y<f;++y)h[y]=a(l[y]),d[y]=y;if(h=dan(h,d),u)p=t,g=e,t=Array(u+f),e=Qk(u+f),han(c,p,g,u,h,d,f,t,e);else{if(c>0)for(y=0;y<f;++y)d[y]+=c;t=h,e=d}return n=u+f,{index:d,value:h}}function i(a,l){const c=n;let u,f,d;for(f=0;!l[e[f]]&&f<c;++f);for(d=f;f<c;++f)l[u=e[f]]||(e[d]=u,t[d]=t[f],++d);n=c-a}function o(a){for(let l=0,c=n;l<c;++l)e[l]=a[e[l]]}function s(a,l){let c;return l?c=l.length:(l=t,c=n),[DFt(l,a[0],0,c),P3(l,a[1],0,c)]}return{insert:r,remove:i,bisect:s,reindex:o,index:()=>e,size:()=>n}}function dan(e,t){return e.sort.call(t,(n,r)=>{const i=e[n],o=e[r];return i<o?-1:i>o?1:0}),IFt(e,t)}function han(e,t,n,r,i,o,s,a,l){let c=0,u=0,f;for(f=0;c<r&&u<s;++f)t[c]<i[u]?(a[f]=t[c],l[f]=n[c++]):(a[f]=i[u],l[f]=o[u++]+e);for(;c<r;++c,++f)a[f]=t[c],l[f]=n[c];for(;u<s;++u,++f)a[f]=i[u],l[f]=o[u]+e}function Gle(e){Pe.call(this,uan(),e),this._indices=null,this._dims=null}Gle.Definition={type:"CrossFilter",metadata:{},params:[{name:"fields",type:"field",array:!0,required:!0},{name:"query",type:"array",array:!0,required:!0,content:{type:"number",array:!0,length:2}}]};Ke(Gle,Pe,{transform(e,t){if(this._dims){var n=e.modified("fields")||e.fields.some(r=>t.modified(r.fields));return n?this.reinit(e,t):this.eval(e,t)}else return this.init(e,t)},init(e,t){const n=e.fields,r=e.query,i=this._indices={},o=this._dims=[],s=r.length;let a=0,l,c;for(;a<s;++a)l=n[a].fname,c=i[l]||(i[l]=swe()),o.push(owe(c,a,r[a]));return this.eval(e,t)},reinit(e,t){const n=t.materialize().fork(),r=e.fields,i=e.query,o=this._indices,s=this._dims,a=this.value,l=a.curr(),c=a.prev(),u=a.all(),f=n.rem=n.add,d=n.mod,h=i.length,p={};let g,y,v,x,m,w,S,C,$;if(c.set(l),t.rem.length&&(m=this.remove(e,t,n)),t.add.length&&a.add(t.add),t.mod.length)for(w={},x=t.mod,S=0,C=x.length;S<C;++S)w[x[S]._index]=1;for(S=0;S<h;++S)$=r[S],(!s[S]||e.modified("fields",S)||t.modified($.fields))&&(v=$.fname,(g=p[v])||(o[v]=y=swe(),p[v]=g=y.insert($,t.source,0)),s[S]=owe(y,S,i[S]).onAdd(g,l));for(S=0,C=a.data().length;S<C;++S)m[S]||(c[S]!==l[S]?f.push(S):w[S]&&l[S]!==u&&d.push(S));return a.mask=(1<<h)-1,n},eval(e,t){const n=t.materialize().fork(),r=this._dims.length;let i=0;return t.rem.length&&(this.remove(e,t,n),i|=(1<<r)-1),e.modified("query")&&!e.modified("fields")&&(i|=this.update(e,t,n)),t.add.length&&(this.insert(e,t,n),i|=(1<<r)-1),t.mod.length&&(this.modify(t,n),i|=(1<<r)-1),this.value.mask=i,n},insert(e,t,n){const r=t.add,i=this.value,o=this._dims,s=this._indices,a=e.fields,l={},c=n.add,u=i.size()+r.length,f=o.length;let d=i.size(),h,p,g;i.resize(u,f),i.add(r);const y=i.curr(),v=i.prev(),x=i.all();for(h=0;h<f;++h)p=a[h].fname,g=l[p]||(l[p]=s[p].insert(a[h],r,d)),o[h].onAdd(g,y);for(;d<u;++d)v[d]=x,y[d]!==x&&c.push(d)},modify(e,t){const n=t.mod,r=this.value,i=r.curr(),o=r.all(),s=e.mod;let a,l,c;for(a=0,l=s.length;a<l;++a)c=s[a]._index,i[c]!==o&&n.push(c)},remove(e,t,n){const r=this._indices,i=this.value,o=i.curr(),s=i.prev(),a=i.all(),l={},c=n.rem,u=t.rem;let f,d,h,p;for(f=0,d=u.length;f<d;++f)h=u[f]._index,l[h]=1,s[h]=p=o[h],o[h]=a,p!==a&&c.push(h);for(h in r)r[h].remove(d,l);return this.reindex(t,d,l),l},reindex(e,t,n){const r=this._indices,i=this.value;e.runAfter(()=>{const o=i.remove(t,n);for(const s in r)r[s].reindex(o)})},update(e,t,n){const r=this._dims,i=e.query,o=t.stamp,s=r.length;let a=0,l,c;for(n.filters=0,c=0;c<s;++c)e.modified("query",c)&&(l=c,++a);if(a===1)a=r[l].one,this.incrementOne(r[l],i[l],n.add,n.rem);else for(c=0,a=0;c<s;++c)e.modified("query",c)&&(a|=r[c].one,this.incrementAll(r[c],i[c],o,n.add),n.rem=n.add);return a},incrementAll(e,t,n,r){const i=this.value,o=i.seen(),s=i.curr(),a=i.prev(),l=e.index(),c=e.bisect(e.range),u=e.bisect(t),f=u[0],d=u[1],h=c[0],p=c[1],g=e.one;let y,v,x;if(f<h)for(y=f,v=Math.min(h,d);y<v;++y)x=l[y],o[x]!==n&&(a[x]=s[x],o[x]=n,r.push(x)),s[x]^=g;else if(f>h)for(y=h,v=Math.min(f,p);y<v;++y)x=l[y],o[x]!==n&&(a[x]=s[x],o[x]=n,r.push(x)),s[x]^=g;if(d>p)for(y=Math.max(f,p),v=d;y<v;++y)x=l[y],o[x]!==n&&(a[x]=s[x],o[x]=n,r.push(x)),s[x]^=g;else if(d<p)for(y=Math.max(h,d),v=p;y<v;++y)x=l[y],o[x]!==n&&(a[x]=s[x],o[x]=n,r.push(x)),s[x]^=g;e.range=t.slice()},incrementOne(e,t,n,r){const i=this.value,o=i.curr(),s=e.index(),a=e.bisect(e.range),l=e.bisect(t),c=l[0],u=l[1],f=a[0],d=a[1],h=e.one;let p,g,y;if(c<f)for(p=c,g=Math.min(f,u);p<g;++p)y=s[p],o[y]^=h,n.push(y);else if(c>f)for(p=f,g=Math.min(c,d);p<g;++p)y=s[p],o[y]^=h,r.push(y);if(u>d)for(p=Math.max(c,d),g=u;p<g;++p)y=s[p],o[y]^=h,n.push(y);else if(u<d)for(p=Math.max(f,u),g=d;p<g;++p)y=s[p],o[y]^=h,r.push(y);e.range=t.slice()}});function Kle(e){Pe.call(this,null,e)}Kle.Definition={type:"ResolveFilter",metadata:{},params:[{name:"ignore",type:"number",required:!0,description:"A bit mask indicating which filters to ignore."},{name:"filter",type:"object",required:!0,description:"Per-tuple filter bitmaps from a CrossFilter transform."}]};Ke(Kle,Pe,{transform(e,t){const n=~(e.ignore||0),r=e.filter,i=r.mask;if(!(i&n))return t.StopPropagation;const o=t.fork(t.ALL),s=r.data(),a=r.curr(),l=r.prev(),c=u=>a[u]&n?null:s[u];return o.filter(o.MOD,c),i&i-1?(o.filter(o.ADD,u=>{const f=a[u]&n;return!f&&f^l[u]&n?s[u]:null}),o.filter(o.REM,u=>{const f=a[u]&n;return f&&!(f^(f^l[u]&n))?s[u]:null})):(o.filter(o.ADD,c),o.filter(o.REM,u=>(a[u]&n)===i?s[u]:null)),o.filter(o.SOURCE,u=>c(u._index))}});const pan=Object.freeze(Object.defineProperty({__proto__:null,crossfilter:Gle,resolvefilter:Kle},Symbol.toStringTag,{value:"Module"})),gan="RawCode",Ob="Literal",man="Property",yan="Identifier",van="ArrayExpression",ban="BinaryExpression",jUe="CallExpression",Oan="ConditionalExpression",xan="LogicalExpression",wan="MemberExpression",San="ObjectExpression",_an="UnaryExpression";function dd(e){this.type=e}dd.prototype.visit=function(e){let t,n,r;if(e(this))return 1;for(t=Can(this),n=0,r=t.length;n<r;++n)if(t[n].visit(e))return 1};function Can(e){switch(e.type){case van:return e.elements;case ban:case xan:return[e.left,e.right];case jUe:return[e.callee].concat(e.arguments);case Oan:return[e.test,e.consequent,e.alternate];case wan:return[e.object,e.property];case San:return e.properties;case man:return[e.key,e.value];case _an:return[e.argument];case yan:case Ob:case gan:default:return[]}}var Gh,xt,Ae,ba,yr,M8=1,tA=2,xb=3,W0=4,I8=5,lO=6,pl=7,nA=8,$an=9;Gh={};Gh[M8]="Boolean";Gh[tA]="<end>";Gh[xb]="Identifier";Gh[W0]="Keyword";Gh[I8]="Null";Gh[lO]="Numeric";Gh[pl]="Punctuator";Gh[nA]="String";Gh[$an]="RegularExpression";var Ean="ArrayExpression",kan="BinaryExpression",Tan="CallExpression",Pan="ConditionalExpression",FUe="Identifier",Ran="Literal",Aan="LogicalExpression",Dan="MemberExpression",Nan="ObjectExpression",Man="Property",Ian="UnaryExpression",os="Unexpected token %0",Lan="Unexpected number",jan="Unexpected string",Fan="Unexpected identifier",zan="Unexpected reserved word",Qan="Unexpected end of input",KZ="Invalid regular expression",dV="Invalid regular expression: missing /",zUe="Octal literals are not allowed in strict mode.",Ban="Duplicate data property in object literal not allowed in strict mode",As="ILLEGAL",H2="Disabled.",Wan=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),Van=new RegExp("[\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0300-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u0483-\\u0487\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0610-\\u061A\\u0620-\\u0669\\u066E-\\u06D3\\u06D5-\\u06DC\\u06DF-\\u06E8\\u06EA-\\u06FC\\u06FF\\u0710-\\u074A\\u074D-\\u07B1\\u07C0-\\u07F5\\u07FA\\u0800-\\u082D\\u0840-\\u085B\\u08A0-\\u08B2\\u08E4-\\u0963\\u0966-\\u096F\\u0971-\\u0983\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BC-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CE\\u09D7\\u09DC\\u09DD\\u09DF-\\u09E3\\u09E6-\\u09F1\\u0A01-\\u0A03\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A59-\\u0A5C\\u0A5E\\u0A66-\\u0A75\\u0A81-\\u0A83\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABC-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AD0\\u0AE0-\\u0AE3\\u0AE6-\\u0AEF\\u0B01-\\u0B03\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3C-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B5C\\u0B5D\\u0B5F-\\u0B63\\u0B66-\\u0B6F\\u0B71\\u0B82\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD0\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C03\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C58\\u0C59\\u0C60-\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBC-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CDE\\u0CE0-\\u0CE3\\u0CE6-\\u0CEF\\u0CF1\\u0CF2\\u0D01-\\u0D03\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4E\\u0D57\\u0D60-\\u0D63\\u0D66-\\u0D6F\\u0D7A-\\u0D7F\\u0D82\\u0D83\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E01-\\u0E3A\\u0E40-\\u0E4E\\u0E50-\\u0E59\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB9\\u0EBB-\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0EDC-\\u0EDF\\u0F00\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E-\\u0F47\\u0F49-\\u0F6C\\u0F71-\\u0F84\\u0F86-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u1000-\\u1049\\u1050-\\u109D\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u135D-\\u135F\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1714\\u1720-\\u1734\\u1740-\\u1753\\u1760-\\u176C\\u176E-\\u1770\\u1772\\u1773\\u1780-\\u17D3\\u17D7\\u17DC\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u1820-\\u1877\\u1880-\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u19D0-\\u19D9\\u1A00-\\u1A1B\\u1A20-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AA7\\u1AB0-\\u1ABD\\u1B00-\\u1B4B\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1BF3\\u1C00-\\u1C37\\u1C40-\\u1C49\\u1C4D-\\u1C7D\\u1CD0-\\u1CD2\\u1CD4-\\u1CF6\\u1CF8\\u1CF9\\u1D00-\\u1DF5\\u1DFC-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u200C\\u200D\\u203F\\u2040\\u2054\\u2071\\u207F\\u2090-\\u209C\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D7F-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2DE0-\\u2DFF\\u2E2F\\u3005-\\u3007\\u3021-\\u302F\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u3099\\u309A\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA62B\\uA640-\\uA66F\\uA674-\\uA67D\\uA67F-\\uA69D\\uA69F-\\uA6F1\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA827\\uA840-\\uA873\\uA880-\\uA8C4\\uA8D0-\\uA8D9\\uA8E0-\\uA8F7\\uA8FB\\uA900-\\uA92D\\uA930-\\uA953\\uA960-\\uA97C\\uA980-\\uA9C0\\uA9CF-\\uA9D9\\uA9E0-\\uA9FE\\uAA00-\\uAA36\\uAA40-\\uAA4D\\uAA50-\\uAA59\\uAA60-\\uAA76\\uAA7A-\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEF\\uAAF2-\\uAAF6\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE00-\\uFE0F\\uFE20-\\uFE2D\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF10-\\uFF19\\uFF21-\\uFF3A\\uFF3F\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]");function L8(e,t){if(!e)throw new Error("ASSERT: "+t)}function $p(e){return e>=48&&e<=57}function Jle(e){return"0123456789abcdefABCDEF".indexOf(e)>=0}function Bk(e){return"01234567".indexOf(e)>=0}function Uan(e){return e===32||e===9||e===11||e===12||e===160||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0}function Z2(e){return e===10||e===13||e===8232||e===8233}function rA(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e===92||e>=128&&Wan.test(String.fromCharCode(e))}function Sj(e){return e===36||e===95||e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===92||e>=128&&Van.test(String.fromCharCode(e))}const qan={if:1,in:1,do:1,var:1,for:1,new:1,try:1,let:1,this:1,else:1,case:1,void:1,with:1,enum:1,while:1,break:1,catch:1,throw:1,const:1,yield:1,class:1,super:1,return:1,typeof:1,delete:1,switch:1,export:1,import:1,public:1,static:1,default:1,finally:1,extends:1,package:1,private:1,function:1,continue:1,debugger:1,interface:1,protected:1,instanceof:1,implements:1};function QUe(){for(;Ae<ba;){const e=xt.charCodeAt(Ae);if(Uan(e)||Z2(e))++Ae;else break}}function JZ(e){var t,n,r,i=0;for(n=e==="u"?4:2,t=0;t<n;++t)Ae<ba&&Jle(xt[Ae])?(r=xt[Ae++],i=i*16+"0123456789abcdef".indexOf(r.toLowerCase())):Hn({},os,As);return String.fromCharCode(i)}function Yan(){var e,t,n,r;for(e=xt[Ae],t=0,e==="}"&&Hn({},os,As);Ae<ba&&(e=xt[Ae++],!!Jle(e));)t=t*16+"0123456789abcdef".indexOf(e.toLowerCase());return(t>1114111||e!=="}")&&Hn({},os,As),t<=65535?String.fromCharCode(t):(n=(t-65536>>10)+55296,r=(t-65536&1023)+56320,String.fromCharCode(n,r))}function BUe(){var e,t;for(e=xt.charCodeAt(Ae++),t=String.fromCharCode(e),e===92&&(xt.charCodeAt(Ae)!==117&&Hn({},os,As),++Ae,e=JZ("u"),(!e||e==="\\"||!rA(e.charCodeAt(0)))&&Hn({},os,As),t=e);Ae<ba&&(e=xt.charCodeAt(Ae),!!Sj(e));)++Ae,t+=String.fromCharCode(e),e===92&&(t=t.substr(0,t.length-1),xt.charCodeAt(Ae)!==117&&Hn({},os,As),++Ae,e=JZ("u"),(!e||e==="\\"||!Sj(e.charCodeAt(0)))&&Hn({},os,As),t+=e);return t}function Xan(){var e,t;for(e=Ae++;Ae<ba;){if(t=xt.charCodeAt(Ae),t===92)return Ae=e,BUe();if(Sj(t))++Ae;else break}return xt.slice(e,Ae)}function Han(){var e,t,n;return e=Ae,t=xt.charCodeAt(Ae)===92?BUe():Xan(),t.length===1?n=xb:qan.hasOwnProperty(t)?n=W0:t==="null"?n=I8:t==="true"||t==="false"?n=M8:n=xb,{type:n,value:t,start:e,end:Ae}}function hV(){var e=Ae,t=xt.charCodeAt(Ae),n,r=xt[Ae],i,o,s;switch(t){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++Ae,{type:pl,value:String.fromCharCode(t),start:e,end:Ae};default:if(n=xt.charCodeAt(Ae+1),n===61)switch(t){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return Ae+=2,{type:pl,value:String.fromCharCode(t)+String.fromCharCode(n),start:e,end:Ae};case 33:case 61:return Ae+=2,xt.charCodeAt(Ae)===61&&++Ae,{type:pl,value:xt.slice(e,Ae),start:e,end:Ae}}}if(s=xt.substr(Ae,4),s===">>>=")return Ae+=4,{type:pl,value:s,start:e,end:Ae};if(o=s.substr(0,3),o===">>>"||o==="<<="||o===">>=")return Ae+=3,{type:pl,value:o,start:e,end:Ae};if(i=o.substr(0,2),r===i[1]&&"+-<>&|".indexOf(r)>=0||i==="=>")return Ae+=2,{type:pl,value:i,start:e,end:Ae};if(i==="//"&&Hn({},os,As),"<>=!+-*%&|^/".indexOf(r)>=0)return++Ae,{type:pl,value:r,start:e,end:Ae};Hn({},os,As)}function Zan(e){let t="";for(;Ae<ba&&Jle(xt[Ae]);)t+=xt[Ae++];return t.length===0&&Hn({},os,As),rA(xt.charCodeAt(Ae))&&Hn({},os,As),{type:lO,value:parseInt("0x"+t,16),start:e,end:Ae}}function Gan(e){let t="0"+xt[Ae++];for(;Ae<ba&&Bk(xt[Ae]);)t+=xt[Ae++];return(rA(xt.charCodeAt(Ae))||$p(xt.charCodeAt(Ae)))&&Hn({},os,As),{type:lO,value:parseInt(t,8),octal:!0,start:e,end:Ae}}function awe(){var e,t,n;if(n=xt[Ae],L8($p(n.charCodeAt(0))||n===".","Numeric literal must start with a decimal digit or a decimal point"),t=Ae,e="",n!=="."){if(e=xt[Ae++],n=xt[Ae],e==="0"){if(n==="x"||n==="X")return++Ae,Zan(t);if(Bk(n))return Gan(t);n&&$p(n.charCodeAt(0))&&Hn({},os,As)}for(;$p(xt.charCodeAt(Ae));)e+=xt[Ae++];n=xt[Ae]}if(n==="."){for(e+=xt[Ae++];$p(xt.charCodeAt(Ae));)e+=xt[Ae++];n=xt[Ae]}if(n==="e"||n==="E")if(e+=xt[Ae++],n=xt[Ae],(n==="+"||n==="-")&&(e+=xt[Ae++]),$p(xt.charCodeAt(Ae)))for(;$p(xt.charCodeAt(Ae));)e+=xt[Ae++];else Hn({},os,As);return rA(xt.charCodeAt(Ae))&&Hn({},os,As),{type:lO,value:parseFloat(e),start:t,end:Ae}}function Kan(){var e="",t,n,r,i,o=!1;for(t=xt[Ae],L8(t==="'"||t==='"',"String literal must starts with a quote"),n=Ae,++Ae;Ae<ba;)if(r=xt[Ae++],r===t){t="";break}else if(r==="\\")if(r=xt[Ae++],!r||!Z2(r.charCodeAt(0)))switch(r){case"u":case"x":xt[Ae]==="{"?(++Ae,e+=Yan()):e+=JZ(r);break;case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:Bk(r)?(i="01234567".indexOf(r),i!==0&&(o=!0),Ae<ba&&Bk(xt[Ae])&&(o=!0,i=i*8+"01234567".indexOf(xt[Ae++]),"0123".indexOf(r)>=0&&Ae<ba&&Bk(xt[Ae])&&(i=i*8+"01234567".indexOf(xt[Ae++]))),e+=String.fromCharCode(i)):e+=r;break}else r==="\r"&&xt[Ae]===`
`&&++Ae;else{if(Z2(r.charCodeAt(0)))break;e+=r}return t!==""&&Hn({},os,As),{type:nA,value:e,octal:o,start:n,end:Ae}}function Jan(e,t){let n=e;t.indexOf("u")>=0&&(n=n.replace(/\\u\{([0-9a-fA-F]+)\}/g,(r,i)=>{if(parseInt(i,16)<=1114111)return"x";Hn({},KZ)}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"x"));try{new RegExp(n)}catch{Hn({},KZ)}try{return new RegExp(e,t)}catch{return null}}function eln(){var e,t,n,r,i;for(e=xt[Ae],L8(e==="/","Regular expression literal must start with a slash"),t=xt[Ae++],n=!1,r=!1;Ae<ba;)if(e=xt[Ae++],t+=e,e==="\\")e=xt[Ae++],Z2(e.charCodeAt(0))&&Hn({},dV),t+=e;else if(Z2(e.charCodeAt(0)))Hn({},dV);else if(n)e==="]"&&(n=!1);else if(e==="/"){r=!0;break}else e==="["&&(n=!0);return r||Hn({},dV),i=t.substr(1,t.length-2),{value:i,literal:t}}function tln(){var e,t,n;for(t="",n="";Ae<ba&&(e=xt[Ae],!!Sj(e.charCodeAt(0)));)++Ae,e==="\\"&&Ae<ba?Hn({},os,As):(n+=e,t+=e);return n.search(/[^gimuy]/g)>=0&&Hn({},KZ,n),{value:n,literal:t}}function nln(){var e,t,n,r;return yr=null,QUe(),e=Ae,t=eln(),n=tln(),r=Jan(t.value,n.value),{literal:t.literal+n.literal,value:r,regex:{pattern:t.value,flags:n.value},start:e,end:Ae}}function rln(e){return e.type===xb||e.type===W0||e.type===M8||e.type===I8}function WUe(){if(QUe(),Ae>=ba)return{type:tA,start:Ae,end:Ae};const e=xt.charCodeAt(Ae);return rA(e)?Han():e===40||e===41||e===59?hV():e===39||e===34?Kan():e===46?$p(xt.charCodeAt(Ae+1))?awe():hV():$p(e)?awe():hV()}function Sl(){const e=yr;return Ae=e.end,yr=WUe(),Ae=e.end,e}function VUe(){const e=Ae;yr=WUe(),Ae=e}function iln(e){const t=new dd(Ean);return t.elements=e,t}function lwe(e,t,n){const r=new dd(e==="||"||e==="&&"?Aan:kan);return r.operator=e,r.left=t,r.right=n,r}function oln(e,t){const n=new dd(Tan);return n.callee=e,n.arguments=t,n}function sln(e,t,n){const r=new dd(Pan);return r.test=e,r.consequent=t,r.alternate=n,r}function ece(e){const t=new dd(FUe);return t.name=e,t}function IE(e){const t=new dd(Ran);return t.value=e.value,t.raw=xt.slice(e.start,e.end),e.regex&&(t.raw==="//"&&(t.raw="/(?:)/"),t.regex=e.regex),t}function cwe(e,t,n){const r=new dd(Dan);return r.computed=e==="[",r.object=t,r.property=n,r.computed||(n.member=!0),r}function aln(e){const t=new dd(Nan);return t.properties=e,t}function uwe(e,t,n){const r=new dd(Man);return r.key=t,r.value=n,r.kind=e,r}function lln(e,t){const n=new dd(Ian);return n.operator=e,n.argument=t,n.prefix=!0,n}function Hn(e,t){var n,r=Array.prototype.slice.call(arguments,2),i=t.replace(/%(\d)/g,(o,s)=>(L8(s<r.length,"Message reference must be in range"),r[s]));throw n=new Error(i),n.index=Ae,n.description=i,n}function j8(e){e.type===tA&&Hn(e,Qan),e.type===lO&&Hn(e,Lan),e.type===nA&&Hn(e,jan),e.type===xb&&Hn(e,Fan),e.type===W0&&Hn(e,zan),Hn(e,os,e.value)}function Oa(e){const t=Sl();(t.type!==pl||t.value!==e)&&j8(t)}function si(e){return yr.type===pl&&yr.value===e}function pV(e){return yr.type===W0&&yr.value===e}function cln(){const e=[];for(Ae=yr.start,Oa("[");!si("]");)si(",")?(Sl(),e.push(null)):(e.push(wb()),si("]")||Oa(","));return Sl(),iln(e)}function fwe(){Ae=yr.start;const e=Sl();return e.type===nA||e.type===lO?(e.octal&&Hn(e,zUe),IE(e)):ece(e.value)}function uln(){var e,t,n,r;if(Ae=yr.start,e=yr,e.type===xb)return n=fwe(),Oa(":"),r=wb(),uwe("init",n,r);if(e.type===tA||e.type===pl)j8(e);else return t=fwe(),Oa(":"),r=wb(),uwe("init",t,r)}function fln(){var e=[],t,n,r,i={},o=String;for(Ae=yr.start,Oa("{");!si("}");)t=uln(),t.key.type===FUe?n=t.key.name:n=o(t.key.value),r="$"+n,Object.prototype.hasOwnProperty.call(i,r)?Hn({},Ban):i[r]=!0,e.push(t),si("}")||Oa(",");return Oa("}"),aln(e)}function dln(){Oa("(");const e=tce();return Oa(")"),e}const hln={if:1};function pln(){var e,t,n;if(si("("))return dln();if(si("["))return cln();if(si("{"))return fln();if(e=yr.type,Ae=yr.start,e===xb||hln[yr.value])n=ece(Sl().value);else if(e===nA||e===lO)yr.octal&&Hn(yr,zUe),n=IE(Sl());else{if(e===W0)throw new Error(H2);e===M8?(t=Sl(),t.value=t.value==="true",n=IE(t)):e===I8?(t=Sl(),t.value=null,n=IE(t)):si("/")||si("/=")?(n=IE(nln()),VUe()):j8(Sl())}return n}function gln(){const e=[];if(Oa("("),!si(")"))for(;Ae<ba&&(e.push(wb()),!si(")"));)Oa(",");return Oa(")"),e}function mln(){Ae=yr.start;const e=Sl();return rln(e)||j8(e),ece(e.value)}function yln(){return Oa("."),mln()}function vln(){Oa("[");const e=tce();return Oa("]"),e}function bln(){var e,t,n;for(e=pln();;)if(si("."))n=yln(),e=cwe(".",e,n);else if(si("("))t=gln(),e=oln(e,t);else if(si("["))n=vln(),e=cwe("[",e,n);else break;return e}function dwe(){const e=bln();if(yr.type===pl&&(si("++")||si("--")))throw new Error(H2);return e}function TI(){var e,t;if(yr.type!==pl&&yr.type!==W0)t=dwe();else{if(si("++")||si("--"))throw new Error(H2);if(si("+")||si("-")||si("~")||si("!"))e=Sl(),t=TI(),t=lln(e.value,t);else{if(pV("delete")||pV("void")||pV("typeof"))throw new Error(H2);t=dwe()}}return t}function hwe(e){let t=0;if(e.type!==pl&&e.type!==W0)return 0;switch(e.value){case"||":t=1;break;case"&&":t=2;break;case"|":t=3;break;case"^":t=4;break;case"&":t=5;break;case"==":case"!=":case"===":case"!==":t=6;break;case"<":case">":case"<=":case">=":case"instanceof":case"in":t=7;break;case"<<":case">>":case">>>":t=8;break;case"+":case"-":t=9;break;case"*":case"/":case"%":t=11;break}return t}function Oln(){var e,t,n,r,i,o,s,a,l,c;if(e=yr,l=TI(),r=yr,i=hwe(r),i===0)return l;for(r.prec=i,Sl(),t=[e,yr],s=TI(),o=[l,r,s];(i=hwe(yr))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)s=o.pop(),a=o.pop().value,l=o.pop(),t.pop(),n=lwe(a,l,s),o.push(n);r=Sl(),r.prec=i,o.push(r),t.push(yr),n=TI(),o.push(n)}for(c=o.length-1,n=o[c],t.pop();c>1;)t.pop(),n=lwe(o[c-1].value,o[c-2],n),c-=2;return n}function wb(){var e,t,n;return e=Oln(),si("?")&&(Sl(),t=wb(),Oa(":"),n=wb(),e=sln(e,t,n)),e}function tce(){const e=wb();if(si(","))throw new Error(H2);return e}function nce(e){xt=e,Ae=0,ba=xt.length,yr=null,VUe();const t=tce();if(yr.type!==tA)throw new Error("Unexpect token after expression.");return t}var UUe={NaN:"NaN",E:"Math.E",LN2:"Math.LN2",LN10:"Math.LN10",LOG2E:"Math.LOG2E",LOG10E:"Math.LOG10E",PI:"Math.PI",SQRT1_2:"Math.SQRT1_2",SQRT2:"Math.SQRT2",MIN_VALUE:"Number.MIN_VALUE",MAX_VALUE:"Number.MAX_VALUE"};function qUe(e){function t(s,a,l,c){let u=e(a[0]);return l&&(u=l+"("+u+")",l.lastIndexOf("new ",0)===0&&(u="("+u+")")),u+"."+s+(c<0?"":c===0?"()":"("+a.slice(1).map(e).join(",")+")")}function n(s,a,l){return c=>t(s,c,a,l)}const r="new Date",i="String",o="RegExp";return{isNaN:"Number.isNaN",isFinite:"Number.isFinite",abs:"Math.abs",acos:"Math.acos",asin:"Math.asin",atan:"Math.atan",atan2:"Math.atan2",ceil:"Math.ceil",cos:"Math.cos",exp:"Math.exp",floor:"Math.floor",hypot:"Math.hypot",log:"Math.log",max:"Math.max",min:"Math.min",pow:"Math.pow",random:"Math.random",round:"Math.round",sin:"Math.sin",sqrt:"Math.sqrt",tan:"Math.tan",clamp:function(s){s.length<3&&De("Missing arguments to clamp function."),s.length>3&&De("Too many arguments to clamp function.");const a=s.map(e);return"Math.max("+a[1]+", Math.min("+a[2]+","+a[0]+"))"},now:"Date.now",utc:"Date.UTC",datetime:r,date:n("getDate",r,0),day:n("getDay",r,0),year:n("getFullYear",r,0),month:n("getMonth",r,0),hours:n("getHours",r,0),minutes:n("getMinutes",r,0),seconds:n("getSeconds",r,0),milliseconds:n("getMilliseconds",r,0),time:n("getTime",r,0),timezoneoffset:n("getTimezoneOffset",r,0),utcdate:n("getUTCDate",r,0),utcday:n("getUTCDay",r,0),utcyear:n("getUTCFullYear",r,0),utcmonth:n("getUTCMonth",r,0),utchours:n("getUTCHours",r,0),utcminutes:n("getUTCMinutes",r,0),utcseconds:n("getUTCSeconds",r,0),utcmilliseconds:n("getUTCMilliseconds",r,0),length:n("length",null,-1),parseFloat:"parseFloat",parseInt:"parseInt",upper:n("toUpperCase",i,0),lower:n("toLowerCase",i,0),substring:n("substring",i),split:n("split",i),trim:n("trim",i,0),regexp:o,test:n("test",o),if:function(s){s.length<3&&De("Missing arguments to if function."),s.length>3&&De("Too many arguments to if function.");const a=s.map(e);return"("+a[0]+"?"+a[1]+":"+a[2]+")"}}}function xln(e){const t=e&&e.length-1;return t&&(e[0]==='"'&&e[t]==='"'||e[0]==="'"&&e[t]==="'")?e.slice(1,-1):e}function YUe(e){e=e||{};const t=e.allowed?td(e.allowed):{},n=e.forbidden?td(e.forbidden):{},r=e.constants||UUe,i=(e.functions||qUe)(f),o=e.globalvar,s=e.fieldvar,a=cn(o)?o:p=>`${o}["${p}"]`;let l={},c={},u=0;function f(p){if(at(p))return p;const g=d[p.type];return g==null&&De("Unsupported type: "+p.type),g(p)}const d={Literal:p=>p.raw,Identifier:p=>{const g=p.name;return u>0?g:Rt(n,g)?De("Illegal identifier: "+g):Rt(r,g)?r[g]:Rt(t,g)?g:(l[g]=1,a(g))},MemberExpression:p=>{const g=!p.computed,y=f(p.object);g&&(u+=1);const v=f(p.property);return y===s&&(c[xln(v)]=1),g&&(u-=1),y+(g?"."+v:"["+v+"]")},CallExpression:p=>{p.callee.type!=="Identifier"&&De("Illegal callee type: "+p.callee.type);const g=p.callee.name,y=p.arguments,v=Rt(i,g)&&i[g];return v||De("Unrecognized function: "+g),cn(v)?v(y):v+"("+y.map(f).join(",")+")"},ArrayExpression:p=>"["+p.elements.map(f).join(",")+"]",BinaryExpression:p=>"("+f(p.left)+" "+p.operator+" "+f(p.right)+")",UnaryExpression:p=>"("+p.operator+f(p.argument)+")",ConditionalExpression:p=>"("+f(p.test)+"?"+f(p.consequent)+":"+f(p.alternate)+")",LogicalExpression:p=>"("+f(p.left)+p.operator+f(p.right)+")",ObjectExpression:p=>"{"+p.properties.map(f).join(",")+"}",Property:p=>{u+=1;const g=f(p.key);return u-=1,g+":"+f(p.value)}};function h(p){const g={code:f(p),globals:Object.keys(l),fields:Object.keys(c)};return l={},c={},g}return h.functions=i,h.constants=r,h}function gV(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wln(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Sln(e){let t,n,r;e.length!==2?(t=gV,n=(a,l)=>gV(e(a),l),r=(a,l)=>e(a)-l):(t=e===gV||e===wln?e:_ln,n=e,r=e);function i(a,l,c=0,u=a.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;n(a[f],l)<0?c=f+1:u=f}while(c<u)}return c}function o(a,l,c=0,u=a.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;n(a[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(a,l,c=0,u=a.length){const f=i(a,l,c,u-1);return f>c&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function _ln(){return 0}function Cln(e,...t){e=new R3(e),t=t.map($ln);e:for(const n of e)for(const r of t)if(!r.has(n)){e.delete(n);continue e}return e}function $ln(e){return e instanceof R3?e:new R3(e)}function Eln(...e){const t=new R3;for(const n of e)for(const r of n)t.add(r);return t}const rce="intersect",pwe="union",kln="vlMulti",Tln="vlPoint",gwe="or",Pln="and",Bd="_vgsid_",G2=Ql(Bd),Rln="E",Aln="R",Dln="R-E",Nln="R-LE",Mln="R-RE",_j="index:unit";function mwe(e,t){for(var n=t.fields,r=t.values,i=n.length,o=0,s,a;o<i;++o)if(a=n[o],a.getter=Ql.getter||Ql(a.field),s=a.getter(e),yy(s)&&(s=pa(s)),yy(r[o])&&(r[o]=pa(r[o])),yy(r[o][0])&&(r[o]=r[o].map(pa)),a.type===Rln){if(Me(r[o])?r[o].indexOf(s)<0:s!==r[o])return!1}else if(a.type===Aln){if(!Ux(s,r[o]))return!1}else if(a.type===Mln){if(!Ux(s,r[o],!0,!1))return!1}else if(a.type===Dln){if(!Ux(s,r[o],!1,!1))return!1}else if(a.type===Nln&&!Ux(s,r[o],!1,!0))return!1;return!0}function Iln(e,t,n){for(var r=this.context.data[e],i=r?r.values.value:[],o=r?r[_j]&&r[_j].value:void 0,s=n===rce,a=i.length,l=0,c,u,f,d,h;l<a;++l)if(c=i[l],o&&s){if(u=u||{},f=u[d=c.unit]||0,f===-1)continue;if(h=mwe(t,c),u[d]=h?-1:++f,h&&o.size===1)return!0;if(!h&&f===o.get(d).count)return!1}else if(h=mwe(t,c),s^h)return h;return a&&s}const XUe=Sln(G2),Lln=XUe.left,jln=XUe.right;function Fln(e,t,n){const r=this.context.data[e],i=r?r.values.value:[],o=r?r[_j]&&r[_j].value:void 0,s=n===rce,a=G2(t),l=Lln(i,a);if(l===i.length||G2(i[l])!==a)return!1;if(o&&s){if(o.size===1)return!0;if(jln(i,a)-l<o.size)return!1}return!0}function zln(e,t){return e.map(n=>ln(t.fields?{values:t.fields.map(r=>(r.getter||(r.getter=Ql(r.field)))(n.datum))}:{[Bd]:G2(n.datum)},t))}function Qln(e,t,n,r){for(var i=this.context.data[e],o=i?i.values.value:[],s={},a={},l={},c,u,f,d,h,p,g,y,v,x,m=o.length,w=0,S,C;w<m;++w)if(c=o[w],d=c.unit,u=c.fields,f=c.values,u&&f){for(S=0,C=u.length;S<C;++S)h=u[S],g=s[h.field]||(s[h.field]={}),y=g[d]||(g[d]=[]),l[h.field]=v=h.type.charAt(0),x=mV[`${v}_union`],g[d]=x(y,lt(f[S]));n&&(y=a[d]||(a[d]=[]),y.push(lt(f).reduce(($,E,R)=>($[u[R].field]=E,$),{})))}else h=Bd,p=G2(c),g=s[h]||(s[h]={}),y=g[d]||(g[d]=[]),y.push(p),n&&(y=a[d]||(a[d]=[]),y.push({[Bd]:p}));if(t=t||pwe,s[Bd]?s[Bd]=mV[`${Bd}_${t}`](...Object.values(s[Bd])):Object.keys(s).forEach($=>{s[$]=Object.keys(s[$]).map(E=>s[$][E]).reduce((E,R)=>E===void 0?R:mV[`${l[$]}_${t}`](E,R))}),o=Object.keys(a),n&&o.length){const $=r?Tln:kln;s[$]=t===pwe?{[gwe]:o.reduce((E,R)=>(E.push(...a[R]),E),[])}:{[Pln]:o.map(E=>({[gwe]:a[E]}))}}return s}var mV={[`${Bd}_union`]:Eln,[`${Bd}_intersect`]:Cln,E_union:function(e,t){if(!e.length)return t;for(var n=0,r=t.length;n<r;++n)e.indexOf(t[n])<0&&e.push(t[n]);return e},E_intersect:function(e,t){return e.length?e.filter(n=>t.indexOf(n)>=0):t},R_union:function(e,t){var n=pa(t[0]),r=pa(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?(e[0]>n&&(e[0]=n),e[1]<r&&(e[1]=r),e):[n,r]},R_intersect:function(e,t){var n=pa(t[0]),r=pa(t[1]);return n>r&&(n=t[1],r=t[0]),e.length?r<e[0]||e[1]<n?[]:(e[0]<n&&(e[0]=n),e[1]>r&&(e[1]=r),e):[n,r]}};const Bln=":",Wln="@";function ice(e,t,n,r){t[0].type!==Ob&&De("First argument to selection functions must be a string literal.");const i=t[0].value,o=t.length>=2&&In(t).value,s="unit",a=Wln+s,l=Bln+i;o===rce&&!Rt(r,a)&&(r[a]=n.getData(i).indataRef(n,s)),Rt(r,l)||(r[l]=n.getData(i).tuplesRef())}function HUe(e){const t=this.context.data[e];return t?t.values.value:[]}function Vln(e,t,n){const r=this.context.data[e]["index:"+t],i=r?r.value.get(n):void 0;return i&&i.count}function Uln(e,t){const n=this.context.dataflow,r=this.context.data[e],i=r.input;return n.pulse(i,n.changeset().remove(Lu).insert(t)),1}function qln(e,t,n){if(e){const r=this.context.dataflow,i=e.mark.source;r.pulse(i,r.changeset().encode(e,t))}return n!==void 0?n:e}const iA=e=>function(t,n){return this.context.dataflow.locale()[e](n)(t)},Yln=iA("format"),ZUe=iA("timeFormat"),Xln=iA("utcFormat"),Hln=iA("timeParse"),Zln=iA("utcParse"),DN=new Date(2e3,0,1);function F8(e,t,n){return!Number.isInteger(e)||!Number.isInteger(t)?"":(DN.setYear(2e3),DN.setMonth(e),DN.setDate(t),ZUe.call(this,DN,n))}function Gln(e){return F8.call(this,e,1,"%B")}function Kln(e){return F8.call(this,e,1,"%b")}function Jln(e){return F8.call(this,0,2+e,"%A")}function ecn(e){return F8.call(this,0,2+e,"%a")}const tcn=":",ncn="@",eG="%",GUe="$";function oce(e,t,n,r){t[0].type!==Ob&&De("First argument to data functions must be a string literal.");const i=t[0].value,o=tcn+i;if(!Rt(o,r))try{r[o]=n.getData(i).tuplesRef()}catch{}}function rcn(e,t,n,r){t[0].type!==Ob&&De("First argument to indata must be a string literal."),t[1].type!==Ob&&De("Second argument to indata must be a string literal.");const i=t[0].value,o=t[1].value,s=ncn+o;Rt(s,r)||(r[s]=n.getData(i).indataRef(n,o))}function Ll(e,t,n,r){if(t[0].type===Ob)ywe(n,r,t[0].value);else for(e in n.scales)ywe(n,r,e)}function ywe(e,t,n){const r=eG+n;if(!Rt(t,r))try{t[r]=e.scaleRef(n)}catch{}}function jg(e,t){if(cn(e))return e;if(at(e)){const n=t.scales[e];return n&&cKt(n.value)?n.value:void 0}}function icn(e,t,n){t.__bandwidth=i=>i&&i.bandwidth?i.bandwidth():0,n._bandwidth=Ll,n._range=Ll,n._scale=Ll;const r=i=>"_["+(i.type===Ob?Ge(eG+i.value):Ge(eG)+"+"+e(i))+"]";return{_bandwidth:i=>`this.__bandwidth(${r(i[0])})`,_range:i=>`${r(i[0])}.range()`,_scale:i=>`${r(i[0])}(${e(i[1])})`}}function sce(e,t){return function(n,r,i){if(n){const o=jg(n,(i||this).context);return o&&o.path[e](r)}else return t(r)}}const ocn=sce("area",Snn),scn=sce("bounds",Enn),acn=sce("centroid",Dnn);function lcn(e){const t=this.context.group;let n=!1;if(t)for(;e;){if(e===t){n=!0;break}e=e.mark.group}return n}function ace(e,t,n){try{e[t].apply(e,["EXPRESSION"].concat([].slice.call(n)))}catch(r){e.warn(r)}return n[n.length-1]}function ccn(){return ace(this.context.dataflow,"warn",arguments)}function ucn(){return ace(this.context.dataflow,"info",arguments)}function fcn(){return ace(this.context.dataflow,"debug",arguments)}function yV(e){const t=e/255;return t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)}function tG(e){const t=o0(e),n=yV(t.r),r=yV(t.g),i=yV(t.b);return .2126*n+.7152*r+.0722*i}function dcn(e,t){const n=tG(e),r=tG(t),i=Math.max(n,r),o=Math.min(n,r);return(i+.05)/(o+.05)}function hcn(){const e=[].slice.call(arguments);return e.unshift({}),ln(...e)}function KUe(e,t){return e===t||e!==e&&t!==t?!0:Me(e)?Me(t)&&e.length===t.length?pcn(e,t):!1:ut(e)&&ut(t)?JUe(e,t):!1}function pcn(e,t){for(let n=0,r=e.length;n<r;++n)if(!KUe(e[n],t[n]))return!1;return!0}function JUe(e,t){for(const n in e)if(!KUe(e[n],t[n]))return!1;return!0}function vwe(e){return t=>JUe(e,t)}function gcn(e,t,n,r,i,o){const s=this.context.dataflow,a=this.context.data[e],l=a.input,c=s.stamp();let u=a.changes,f,d;if(s._trigger===!1||!(l.value.length||t||r))return 0;if((!u||u.stamp<c)&&(a.changes=u=s.changeset(),u.stamp=c,s.runAfter(()=>{a.modified=!0,s.pulse(l,u).run()},!0,1)),n&&(f=n===!0?Lu:Me(n)||Y7(n)?n:vwe(n),u.remove(f)),t&&u.insert(t),r&&(f=vwe(r),l.value.some(f)?u.remove(f):u.insert(r)),i)for(d in o)u.modify(i,d,o[d]);return 1}function mcn(e){const t=e.touches,n=t[0].clientX-t[1].clientX,r=t[0].clientY-t[1].clientY;return Math.hypot(n,r)}function ycn(e){const t=e.touches;return Math.atan2(t[0].clientY-t[1].clientY,t[0].clientX-t[1].clientX)}const bwe={};function vcn(e,t){const n=bwe[t]||(bwe[t]=Ql(t));return Me(e)?e.map(n):n(e)}function lce(e){return Me(e)||ArrayBuffer.isView(e)?e:null}function cce(e){return lce(e)||(at(e)?e:null)}function bcn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return lce(e).join(...n)}function Ocn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return cce(e).indexOf(...n)}function xcn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return cce(e).lastIndexOf(...n)}function wcn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return cce(e).slice(...n)}function Scn(e,t,n){return cn(n)&&De("Function argument passed to replace."),String(e).replace(t,n)}function _cn(e){return lce(e).slice().reverse()}function Ccn(e,t,n){return vae(e||0,t||0,n||0)}function $cn(e,t){const n=jg(e,(t||this).context);return n&&n.bandwidth?n.bandwidth():0}function Ecn(e,t){const n=jg(e,(t||this).context);return n?n.copy():void 0}function kcn(e,t){const n=jg(e,(t||this).context);return n?n.domain():[]}function Tcn(e,t,n){const r=jg(e,(n||this).context);return r?Me(t)?(r.invertRange||r.invert)(t):(r.invert||r.invertExtent)(t):void 0}function Pcn(e,t){const n=jg(e,(t||this).context);return n&&n.range?n.range():[]}function Rcn(e,t,n){const r=jg(e,(n||this).context);return r?r(t):void 0}function Acn(e,t,n,r,i){e=jg(e,(i||this).context);const o=JBe(t,n);let s=e.domain(),a=s[0],l=In(s),c=$a;return l-a?c=QBe(e,a,l):e=(e.interpolator?Kn("sequential")().interpolator(e.interpolator()):Kn("linear")().interpolate(e.interpolate()).range(e.range())).domain([a=0,l=1]),e.ticks&&(s=e.ticks(+r||15),a!==s[0]&&s.unshift(a),l!==In(s)&&s.push(l)),s.forEach(u=>o.stop(c(u),e(u))),o}function Dcn(e,t,n){const r=jg(e,(n||this).context);return function(i){return r?r.path.context(i)(t):""}}function Ncn(e){let t=null;return function(n){return n?z2(n,t=t||jS(e)):e}}const eqe=e=>e.data;function tqe(e,t){const n=HUe.call(t,e);return n.root&&n.root.lookup||{}}function Mcn(e,t,n){const r=tqe(e,this),i=r[t],o=r[n];return i&&o?i.path(o).map(eqe):void 0}function Icn(e,t){const n=tqe(e,this)[t];return n?n.ancestors().map(eqe):void 0}const nqe=()=>typeof window<"u"&&window||null;function Lcn(){const e=nqe();return e?e.screen:{}}function jcn(){const e=nqe();return e?[e.innerWidth,e.innerHeight]:[void 0,void 0]}function Fcn(){const e=this.context.dataflow,t=e.container&&e.container();return t?[t.clientWidth,t.clientHeight]:[void 0,void 0]}function rqe(e,t,n){if(!e)return[];const[r,i]=e,o=new bo().set(r[0],r[1],i[0],i[1]),s=n||this.context.dataflow.scenegraph().root;return WWe(s,o,zcn(t))}function zcn(e){let t=null;if(e){const n=lt(e.marktype),r=lt(e.markname);t=i=>(!n.length||n.some(o=>i.marktype===o))&&(!r.length||r.some(o=>i.name===o))}return t}function Qcn(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:5;e=lt(e);const i=e[e.length-1];return i===void 0||Math.hypot(i[0]-t,i[1]-n)>r?[...e,[t,n]]:e}function Bcn(e){return lt(e).reduce((t,n,r)=>{let[i,o]=n;return t+=r==0?`M ${i},${o} `:r===e.length-1?" Z":`L ${i},${o} `},"")}function Wcn(e,t,n){const{x:r,y:i,mark:o}=n,s=new bo().set(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER);for(const[l,c]of t)l<s.x1&&(s.x1=l),l>s.x2&&(s.x2=l),c<s.y1&&(s.y1=c),c>s.y2&&(s.y2=c);return s.translate(r,i),rqe([[s.x1,s.y1],[s.x2,s.y2]],e,o).filter(l=>Vcn(l.x,l.y,t))}function Vcn(e,t,n){let r=0;for(let i=0,o=n.length-1;i<n.length;o=i++){const[s,a]=n[o],[l,c]=n[i];c>t!=a>t&&e<(s-l)*(t-c)/(a-c)+l&&r++}return r&1}const K2={random(){return Qu()},cumulativeNormal:K7,cumulativeLogNormal:yse,cumulativeUniform:xse,densityNormal:dse,densityLogNormal:mse,densityUniform:Ose,quantileNormal:J7,quantileLogNormal:vse,quantileUniform:wse,sampleNormal:G7,sampleLogNormal:gse,sampleUniform:bse,isArray:Me,isBoolean:M0,isDate:yy,isDefined(e){return e!==void 0},isNumber:Un,isObject:ut,isRegExp:l4e,isString:at,isTuple:Y7,isValid(e){return e!=null&&e===e},toBoolean:Cie,toDate(e){return $ie(e)},toNumber:pa,toString:Eie,indexof:Ocn,join:bcn,lastindexof:xcn,replace:Scn,reverse:_cn,slice:wcn,flush:s4e,lerp:c4e,merge:hcn,pad:d4e,peek:In,pluck:vcn,span:mR,inrange:Ux,truncate:h4e,rgb:o0,lab:AL,hcl:DL,hsl:PL,luminance:tG,contrast:dcn,sequence:Cc,format:Yln,utcFormat:Xln,utcParse:Zln,utcOffset:q4e,utcSequence:H4e,timeFormat:ZUe,timeParse:Hln,timeOffset:U4e,timeSequence:X4e,timeUnitSpecifier:N4e,monthFormat:Gln,monthAbbrevFormat:Kln,dayFormat:Jln,dayAbbrevFormat:ecn,quarter:n4e,utcquarter:r4e,week:I4e,utcweek:F4e,dayofyear:M4e,utcdayofyear:j4e,warn:ccn,info:ucn,debug:fcn,extent(e){return _h(e)},inScope:lcn,intersect:rqe,clampRange:i4e,pinchDistance:mcn,pinchAngle:ycn,screen:Lcn,containerSize:Fcn,windowSize:jcn,bandspace:Ccn,setdata:Uln,pathShape:Ncn,panLinear:KFe,panLog:JFe,panPow:e4e,panSymlog:t4e,zoomLinear:bie,zoomLog:Oie,zoomPow:T3,zoomSymlog:xie,encode:qln,modify:gcn,lassoAppend:Qcn,lassoPath:Bcn,intersectLasso:Wcn},Ucn=["view","item","group","xy","x","y"],qcn="event.vega.",iqe="this.",uce={},oqe={forbidden:["_"],allowed:["datum","event","item"],fieldvar:"datum",globalvar:e=>`_[${Ge(GUe+e)}]`,functions:Ycn,constants:UUe,visitors:uce},nG=YUe(oqe);function Ycn(e){const t=qUe(e);Ucn.forEach(n=>t[n]=qcn+n);for(const n in K2)t[n]=iqe+n;return ln(t,icn(e,K2,uce)),t}function xo(e,t,n){return arguments.length===1?K2[e]:(K2[e]=t,n&&(uce[e]=n),nG&&(nG.functions[e]=iqe+e),this)}xo("bandwidth",$cn,Ll);xo("copy",Ecn,Ll);xo("domain",kcn,Ll);xo("range",Pcn,Ll);xo("invert",Tcn,Ll);xo("scale",Rcn,Ll);xo("gradient",Acn,Ll);xo("geoArea",ocn,Ll);xo("geoBounds",scn,Ll);xo("geoCentroid",acn,Ll);xo("geoShape",Dcn,Ll);xo("indata",Vln,rcn);xo("data",HUe,oce);xo("treePath",Mcn,oce);xo("treeAncestors",Icn,oce);xo("vlSelectionTest",Iln,ice);xo("vlSelectionIdTest",Fln,ice);xo("vlSelectionResolve",Qln,ice);xo("vlSelectionTuples",zln);function Ph(e,t){const n={};let r;try{e=at(e)?e:Ge(e)+"",r=nce(e)}catch{De("Expression parse error: "+e)}r.visit(o=>{if(o.type!==jUe)return;const s=o.callee.name,a=oqe.visitors[s];a&&a(s,o.arguments,t,n)});const i=nG(r);return i.globals.forEach(o=>{const s=GUe+o;!Rt(n,s)&&t.getSignal(o)&&(n[s]=t.signalRef(o))}),{$expr:ln({code:i.code},t.options.ast?{ast:r}:null),$fields:i.fields,$params:n}}function Xcn(e){const t=this,n=e.operators||[];return e.background&&(t.background=e.background),e.eventConfig&&(t.eventConfig=e.eventConfig),e.locale&&(t.locale=e.locale),n.forEach(r=>t.parseOperator(r)),n.forEach(r=>t.parseOperatorParameters(r)),(e.streams||[]).forEach(r=>t.parseStream(r)),(e.updates||[]).forEach(r=>t.parseUpdate(r)),t.resolve()}const Hcn=td(["rule"]),Owe=td(["group","image","rect"]);function Zcn(e,t){let n="";return Hcn[t]||(e.x2&&(e.x?(Owe[t]&&(n+="if(o.x>o.x2)$=o.x,o.x=o.x2,o.x2=$;"),n+="o.width=o.x2-o.x;"):n+="o.x=o.x2-(o.width||0);"),e.xc&&(n+="o.x=o.xc-(o.width||0)/2;"),e.y2&&(e.y?(Owe[t]&&(n+="if(o.y>o.y2)$=o.y,o.y=o.y2,o.y2=$;"),n+="o.height=o.y2-o.y;"):n+="o.y=o.y2-(o.height||0);"),e.yc&&(n+="o.y=o.yc-(o.height||0)/2;")),n}function fce(e){return(e+"").toLowerCase()}function Gcn(e){return fce(e)==="operator"}function Kcn(e){return fce(e)==="collect"}function R$(e,t,n){n.endsWith(";")||(n="return("+n+");");const r=Function(...t.concat(n));return e&&e.functions?r.bind(e.functions):r}function Jcn(e,t,n,r){return`((u = ${e}) < (v = ${t}) || u == null) && v != null ? ${n}
  : (u > v || v == null) && u != null ? ${r}
  : ((v = v instanceof Date ? +v : v), (u = u instanceof Date ? +u : u)) !== u && v === v ? ${n}
  : v !== v && u === u ? ${r} : `}var eun={operator:(e,t)=>R$(e,["_"],t.code),parameter:(e,t)=>R$(e,["datum","_"],t.code),event:(e,t)=>R$(e,["event"],t.code),handler:(e,t)=>{const n=`var datum=event.item&&event.item.datum;return ${t.code};`;return R$(e,["_","event"],n)},encode:(e,t)=>{const{marktype:n,channels:r}=t;let i="var o=item,datum=o.datum,m=0,$;";for(const o in r){const s="o["+Ge(o)+"]";i+=`$=${r[o].code};if(${s}!==$)${s}=$,m=1;`}return i+=Zcn(r,n),i+="return m;",R$(e,["item","_"],i)},codegen:{get(e){const t=`[${e.map(Ge).join("][")}]`,n=Function("_",`return _${t};`);return n.path=t,n},comparator(e,t){let n;const r=(o,s)=>{const a=t[s];let l,c;return o.path?(l=`a${o.path}`,c=`b${o.path}`):((n=n||{})["f"+s]=o,l=`this.f${s}(a)`,c=`this.f${s}(b)`),Jcn(l,c,-a,a)},i=Function("a","b","var u, v; return "+e.map(r).join("")+"0;");return n?i.bind(n):i}}};function tun(e){const t=this;Gcn(e.type)||!e.type?t.operator(e,e.update?t.operatorExpression(e.update):null):t.transform(e,e.type)}function nun(e){const t=this;if(e.params){const n=t.get(e.id);n||De("Invalid operator id: "+e.id),t.dataflow.connect(n,n.parameters(t.parseParameters(e.params),e.react,e.initonly))}}function run(e,t){t=t||{};const n=this;for(const r in e){const i=e[r];t[r]=Me(i)?i.map(o=>xwe(o,n,t)):xwe(i,n,t)}return t}function xwe(e,t,n){if(!e||!ut(e))return e;for(let r=0,i=wwe.length,o;r<i;++r)if(o=wwe[r],Rt(e,o.key))return o.parse(e,t,n);return e}var wwe=[{key:"$ref",parse:iun},{key:"$key",parse:sun},{key:"$expr",parse:oun},{key:"$field",parse:aun},{key:"$encode",parse:cun},{key:"$compare",parse:lun},{key:"$context",parse:uun},{key:"$subflow",parse:fun},{key:"$tupleid",parse:dun}];function iun(e,t){return t.get(e.$ref)||De("Operator not defined: "+e.$ref)}function oun(e,t,n){e.$params&&t.parseParameters(e.$params,n);const r="e:"+e.$expr.code;return t.fn[r]||(t.fn[r]=ec(t.parameterExpression(e.$expr),e.$fields))}function sun(e,t){const n="k:"+e.$key+"_"+!!e.$flat;return t.fn[n]||(t.fn[n]=_ie(e.$key,e.$flat,t.expr.codegen))}function aun(e,t){if(!e.$field)return null;const n="f:"+e.$field+"_"+e.$name;return t.fn[n]||(t.fn[n]=Ql(e.$field,e.$name,t.expr.codegen))}function lun(e,t){const n="c:"+e.$compare+"_"+e.$order,r=lt(e.$compare).map(i=>i&&i.$tupleid?Tt:i);return t.fn[n]||(t.fn[n]=wie(r,e.$order,t.expr.codegen))}function cun(e,t){const n=e.$encode,r={};for(const i in n){const o=n[i];r[i]=ec(t.encodeExpression(o.$expr),o.$fields),r[i].output=o.$output}return r}function uun(e,t){return t}function fun(e,t){const n=e.$subflow;return function(r,i,o){const s=t.fork().parse(n),a=s.get(n.operators[0].id),l=s.signals.parent;return l&&l.set(o),a.detachSubflow=()=>t.detach(s),a}}function dun(){return Tt}function hun(e){var t=this,n=e.filter!=null?t.eventExpression(e.filter):void 0,r=e.stream!=null?t.get(e.stream):void 0,i;e.source?r=t.events(e.source,e.type,n):e.merge&&(i=e.merge.map(o=>t.get(o)),r=i[0].merge.apply(i[0],i.slice(1))),e.between&&(i=e.between.map(o=>t.get(o)),r=r.between(i[0],i[1])),e.filter&&(r=r.filter(n)),e.throttle!=null&&(r=r.throttle(+e.throttle)),e.debounce!=null&&(r=r.debounce(+e.debounce)),r==null&&De("Invalid stream definition: "+JSON.stringify(e)),e.consume&&r.consume(!0),t.stream(e,r)}function pun(e){var t=this,n=ut(n=e.source)?n.$ref:n,r=t.get(n),i=null,o=e.update,s=void 0;r||De("Source not defined: "+e.source),i=e.target&&e.target.$expr?t.eventExpression(e.target.$expr):t.get(e.target),o&&o.$expr&&(o.$params&&(s=t.parseParameters(o.$params)),o=t.handlerExpression(o.$expr)),t.update(e,r,i,o,s)}const gun={skip:!0};function mun(e){var t=this,n={};if(e.signals){var r=n.signals={};Object.keys(t.signals).forEach(o=>{const s=t.signals[o];e.signals(o,s)&&(r[o]=s.value)})}if(e.data){var i=n.data={};Object.keys(t.data).forEach(o=>{const s=t.data[o];e.data(o,s)&&(i[o]=s.input.value)})}return t.subcontext&&e.recurse!==!1&&(n.subcontext=t.subcontext.map(o=>o.getState(e))),n}function yun(e){var t=this,n=t.dataflow,r=e.data,i=e.signals;Object.keys(i||{}).forEach(o=>{n.update(t.signals[o],i[o],gun)}),Object.keys(r||{}).forEach(o=>{n.pulse(t.data[o].input,n.changeset().remove(Lu).insert(r[o]))}),(e.subcontext||[]).forEach((o,s)=>{const a=t.subcontext[s];a&&a.setState(o)})}function sqe(e,t,n,r){return new aqe(e,t,n,r)}function aqe(e,t,n,r){this.dataflow=e,this.transforms=t,this.events=e.events.bind(e),this.expr=r||eun,this.signals={},this.scales={},this.nodes={},this.data={},this.fn={},n&&(this.functions=Object.create(n),this.functions.context=this)}function Swe(e){this.dataflow=e.dataflow,this.transforms=e.transforms,this.events=e.events,this.expr=e.expr,this.signals=Object.create(e.signals),this.scales=Object.create(e.scales),this.nodes=Object.create(e.nodes),this.data=Object.create(e.data),this.fn=Object.create(e.fn),e.functions&&(this.functions=Object.create(e.functions),this.functions.context=this)}aqe.prototype=Swe.prototype={fork(){const e=new Swe(this);return(this.subcontext||(this.subcontext=[])).push(e),e},detach(e){this.subcontext=this.subcontext.filter(n=>n!==e);const t=Object.keys(e.nodes);for(const n of t)e.nodes[n]._targets=null;for(const n of t)e.nodes[n].detach();e.nodes=null},get(e){return this.nodes[e]},set(e,t){return this.nodes[e]=t},add(e,t){const n=this,r=n.dataflow,i=e.value;if(n.set(e.id,t),Kcn(e.type)&&i&&(i.$ingest?r.ingest(t,i.$ingest,i.$format):i.$request?r.preload(t,i.$request,i.$format):r.pulse(t,r.changeset().insert(i))),e.root&&(n.root=t),e.parent){let o=n.get(e.parent.$ref);o?(r.connect(o,[t]),t.targets().add(o)):(n.unresolved=n.unresolved||[]).push(()=>{o=n.get(e.parent.$ref),r.connect(o,[t]),t.targets().add(o)})}if(e.signal&&(n.signals[e.signal]=t),e.scale&&(n.scales[e.scale]=t),e.data)for(const o in e.data){const s=n.data[o]||(n.data[o]={});e.data[o].forEach(a=>s[a]=t)}},resolve(){return(this.unresolved||[]).forEach(e=>e()),delete this.unresolved,this},operator(e,t){this.add(e,this.dataflow.add(e.value,t))},transform(e,t){this.add(e,this.dataflow.add(this.transforms[fce(t)]))},stream(e,t){this.set(e.id,t)},update(e,t,n,r,i){this.dataflow.on(t,n,r,i,e.options)},operatorExpression(e){return this.expr.operator(this,e)},parameterExpression(e){return this.expr.parameter(this,e)},eventExpression(e){return this.expr.event(this,e)},handlerExpression(e){return this.expr.handler(this,e)},encodeExpression(e){return this.expr.encode(this,e)},parse:Xcn,parseOperator:tun,parseOperatorParameters:nun,parseParameters:run,parseStream:hun,parseUpdate:pun,getState:mun,setState:yun};function vun(e){const t=e.container();t&&(t.setAttribute("role","graphics-document"),t.setAttribute("aria-roleDescription","visualization"),lqe(t,e.description()))}function lqe(e,t){e&&(t==null?e.removeAttribute("aria-label"):e.setAttribute("aria-label",t))}function bun(e){e.add(null,t=>(e._background=t.bg,e._resize=1,t.bg),{bg:e._signals.background})}const vV="default";function Oun(e){const t=e._signals.cursor||(e._signals.cursor=e.add({user:vV,item:null}));e.on(e.events("view","mousemove"),t,(n,r)=>{const i=t.value,o=i?at(i)?i:i.user:vV,s=r.item&&r.item.cursor||null;return i&&o===i.user&&s==i.item?i:{user:o,item:s}}),e.add(null,function(n){let r=n.cursor,i=this.value;return at(r)||(i=r.item,r=r.user),rG(e,r&&r!==vV?r:i||r),i},{cursor:t})}function rG(e,t){const n=e.globalCursor()?typeof document<"u"&&document.body:e.container();if(n)return t==null?n.style.removeProperty("cursor"):n.style.cursor=t}function Cj(e,t){var n=e._runtime.data;return Rt(n,t)||De("Unrecognized data set: "+t),n[t]}function xun(e,t){return arguments.length<2?Cj(this,e).values.value:z8.call(this,e,oO().remove(Lu).insert(t))}function z8(e,t){A9e(t)||De("Second argument to changes must be a changeset.");const n=Cj(this,e);return n.modified=!0,this.pulse(n.input,t)}function wun(e,t){return z8.call(this,e,oO().insert(t))}function Sun(e,t){return z8.call(this,e,oO().remove(t))}function cqe(e){var t=e.padding();return Math.max(0,e._viewWidth+t.left+t.right)}function uqe(e){var t=e.padding();return Math.max(0,e._viewHeight+t.top+t.bottom)}function Q8(e){var t=e.padding(),n=e._origin;return[t.left+n[0],t.top+n[1]]}function _un(e){var t=Q8(e),n=cqe(e),r=uqe(e);e._renderer.background(e.background()),e._renderer.resize(n,r,t),e._handler.origin(t),e._resizeListeners.forEach(i=>{try{i(n,r)}catch(o){e.error(o)}})}function Cun(e,t,n){var r=e._renderer,i=r&&r.canvas(),o,s,a;return i&&(a=Q8(e),s=t.changedTouches?t.changedTouches[0]:t,o=$8(s,i),o[0]-=a[0],o[1]-=a[1]),t.dataflow=e,t.item=n,t.vega=$un(e,n,o),t}function $un(e,t,n){const r=t?t.mark.marktype==="group"?t:t.mark.group:null;function i(s){var a=r,l;if(s){for(l=t;l;l=l.mark.group)if(l.mark.name===s){a=l;break}}return a&&a.mark&&a.mark.interactive?a:{}}function o(s){if(!s)return n;at(s)&&(s=i(s));const a=n.slice();for(;s;)a[0]-=s.x||0,a[1]-=s.y||0,s=s.mark&&s.mark.group;return a}return{view:Ea(e),item:Ea(t||{}),group:i,xy:o,x:s=>o(s)[0],y:s=>o(s)[1]}}const _we="view",Eun="timer",kun="window",Tun={trap:!1};function Pun(e){const t=ln({defaults:{}},e),n=(r,i)=>{i.forEach(o=>{Me(r[o])&&(r[o]=td(r[o]))})};return n(t.defaults,["prevent","allow"]),n(t,["view","window","selector"]),t}function fqe(e,t,n,r){e._eventListeners.push({type:n,sources:lt(t),handler:r})}function Run(e,t){var n=e._eventConfig.defaults,r=n.prevent,i=n.allow;return r===!1||i===!0?!1:r===!0||i===!1?!0:r?r[t]:i?!i[t]:e.preventDefault()}function NN(e,t,n){const r=e._eventConfig&&e._eventConfig[t];return r===!1||ut(r)&&!r[n]?(e.warn(`Blocked ${t} ${n} event listener.`),!1):!0}function Aun(e,t,n){var r=this,i=new Z7(n),o=function(c,u){r.runAsync(null,()=>{e===_we&&Run(r,t)&&c.preventDefault(),i.receive(Cun(r,c,u))})},s;if(e===Eun)NN(r,"timer",t)&&r.timer(o,t);else if(e===_we)NN(r,"view",t)&&r.addEventListener(t,o,Tun);else if(e===kun?NN(r,"window",t)&&typeof window<"u"&&(s=[window]):typeof document<"u"&&NN(r,"selector",t)&&(s=Array.from(document.querySelectorAll(e))),!s)r.warn("Can not resolve event source: "+e);else{for(var a=0,l=s.length;a<l;++a)s[a].addEventListener(t,o);fqe(r,s,t,o)}return i}function Cwe(e){return e.item}function $we(e){return e.item.mark.source}function Ewe(e){return function(t,n){return n.vega.view().changeset().encode(n.item,e)}}function Dun(e,t){return e=[e||"hover"],t=[t||"update",e[0]],this.on(this.events("view","mouseover",Cwe),$we,Ewe(e)),this.on(this.events("view","mouseout",Cwe),$we,Ewe(t)),this}function Nun(){var e=this._tooltip,t=this._timers,n=this._eventListeners,r,i,o;for(r=t.length;--r>=0;)t[r].stop();for(r=n.length;--r>=0;)for(o=n[r],i=o.sources.length;--i>=0;)o.sources[i].removeEventListener(o.type,o.handler);return e&&e.call(this,this._handler,null,null,null),this}function Dc(e,t,n){const r=document.createElement(e);for(const i in t)r.setAttribute(i,t[i]);return n!=null&&(r.textContent=n),r}const Mun="vega-bind",Iun="vega-bind-name",Lun="vega-bind-radio";function jun(e,t,n){if(!t)return;const r=n.param;let i=n.state;return i||(i=n.state={elements:null,active:!1,set:null,update:s=>{s!=e.signal(r.signal)&&e.runAsync(null,()=>{i.source=!0,e.signal(r.signal,s)})}},r.debounce&&(i.update=Sie(r.debounce,i.update))),(r.input==null&&r.element?Fun:Qun)(i,t,r,e),i.active||(e.on(e._signals[r.signal],null,()=>{i.source?i.source=!1:i.set(e.signal(r.signal))}),i.active=!0),i}function Fun(e,t,n,r){const i=n.event||"input",o=()=>e.update(t.value);r.signal(n.signal,t.value),t.addEventListener(i,o),fqe(r,t,i,o),e.set=s=>{t.value=s,t.dispatchEvent(zun(i))}}function zun(e){return typeof Event<"u"?new Event(e):{type:e}}function Qun(e,t,n,r){const i=r.signal(n.signal),o=Dc("div",{class:Mun}),s=n.input==="radio"?o:o.appendChild(Dc("label"));s.appendChild(Dc("span",{class:Iun},n.name||n.signal)),t.appendChild(o);let a=Bun;switch(n.input){case"checkbox":a=Wun;break;case"select":a=Vun;break;case"radio":a=Uun;break;case"range":a=qun;break}a(e,s,n,i)}function Bun(e,t,n,r){const i=Dc("input");for(const o in n)o!=="signal"&&o!=="element"&&i.setAttribute(o==="input"?"type":o,n[o]);i.setAttribute("name",n.signal),i.value=r,t.appendChild(i),i.addEventListener("input",()=>e.update(i.value)),e.elements=[i],e.set=o=>i.value=o}function Wun(e,t,n,r){const i={type:"checkbox",name:n.signal};r&&(i.checked=!0);const o=Dc("input",i);t.appendChild(o),o.addEventListener("change",()=>e.update(o.checked)),e.elements=[o],e.set=s=>o.checked=!!s||null}function Vun(e,t,n,r){const i=Dc("select",{name:n.signal}),o=n.labels||[];n.options.forEach((s,a)=>{const l={value:s};$j(s,r)&&(l.selected=!0),i.appendChild(Dc("option",l,(o[a]||s)+""))}),t.appendChild(i),i.addEventListener("change",()=>{e.update(n.options[i.selectedIndex])}),e.elements=[i],e.set=s=>{for(let a=0,l=n.options.length;a<l;++a)if($j(n.options[a],s)){i.selectedIndex=a;return}}}function Uun(e,t,n,r){const i=Dc("span",{class:Lun}),o=n.labels||[];t.appendChild(i),e.elements=n.options.map((s,a)=>{const l={type:"radio",name:n.signal,value:s};$j(s,r)&&(l.checked=!0);const c=Dc("input",l);c.addEventListener("change",()=>e.update(s));const u=Dc("label",{},(o[a]||s)+"");return u.prepend(c),i.appendChild(u),c}),e.set=s=>{const a=e.elements,l=a.length;for(let c=0;c<l;++c)$j(a[c].value,s)&&(a[c].checked=!0)}}function qun(e,t,n,r){r=r!==void 0?r:(+n.max+ +n.min)/2;const i=n.max!=null?n.max:Math.max(100,+r)||100,o=n.min||Math.min(0,i,+r)||0,s=n.step||e0(o,i,100),a=Dc("input",{type:"range",name:n.signal,min:o,max:i,step:s});a.value=r;const l=Dc("span",{},+r);t.appendChild(a),t.appendChild(l);const c=()=>{l.textContent=a.value,e.update(+a.value)};a.addEventListener("input",c),a.addEventListener("change",c),e.elements=[a],e.set=u=>{a.value=u,l.textContent=u}}function $j(e,t){return e===t||e+""==t+""}function dqe(e,t,n,r,i,o){return t=t||new r(e.loader()),t.initialize(n,cqe(e),uqe(e),Q8(e),i,o).background(e.background())}function dce(e,t){return t?function(){try{t.apply(this,arguments)}catch(n){e.error(n)}}:null}function Yun(e,t,n,r){const i=new r(e.loader(),dce(e,e.tooltip())).scene(e.scenegraph().root).initialize(n,Q8(e),e);return t&&t.handlers().forEach(o=>{i.on(o.type,o.handler)}),i}function Xun(e,t){const n=this,r=n._renderType,i=n._eventConfig.bind,o=E8(r);e=n._el=e?bV(n,e,!0):null,vun(n),o||n.error("Unrecognized renderer type: "+r);const s=o.handler||HR,a=e?o.renderer:o.headless;return n._renderer=a?dqe(n,n._renderer,e,a):null,n._handler=Yun(n,n._handler,e,s),n._redraw=!0,e&&i!=="none"&&(t=t?n._elBind=bV(n,t,!0):e.appendChild(Dc("form",{class:"vega-bindings"})),n._bind.forEach(l=>{l.param.element&&i!=="container"&&(l.element=bV(n,l.param.element,!!l.param.input))}),n._bind.forEach(l=>{jun(n,l.element||t,l)})),n}function bV(e,t,n){if(typeof t=="string")if(typeof document<"u"){if(t=document.querySelector(t),!t)return e.error("Signal bind element not found: "+t),null}else return e.error("DOM document instance not found."),null;if(t&&n)try{t.textContent=""}catch(r){t=null,e.error(r)}return t}const A$=e=>+e||0,Hun=e=>({top:e,bottom:e,left:e,right:e});function kwe(e){return ut(e)?{top:A$(e.top),bottom:A$(e.bottom),left:A$(e.left),right:A$(e.right)}:Hun(A$(e))}async function hce(e,t,n,r){const i=E8(t),o=i&&i.headless;return o||De("Unrecognized renderer type: "+t),await e.runAsync(),dqe(e,null,null,o,n,r).renderAsync(e._scenegraph.root)}async function Zun(e,t){e!==Gm.Canvas&&e!==Gm.SVG&&e!==Gm.PNG&&De("Unrecognized image type: "+e);const n=await hce(this,e,t);return e===Gm.SVG?Gun(n.svg(),"image/svg+xml"):n.canvas().toDataURL("image/png")}function Gun(e,t){const n=new Blob([e],{type:t});return window.URL.createObjectURL(n)}async function Kun(e,t){return(await hce(this,Gm.Canvas,e,t)).canvas()}async function Jun(e){return(await hce(this,Gm.SVG,e)).svg()}function efn(e,t,n){return sqe(e,AS,K2,n).parse(t)}function tfn(e){var t=this._runtime.scales;return Rt(t,e)||De("Unrecognized scale or projection: "+e),t[e].value}var hqe="width",pqe="height",pce="padding",Twe={skip:!0};function gqe(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===pce?r.left+r.right:0)}function mqe(e,t){var n=e.autosize(),r=e.padding();return t-(n&&n.contains===pce?r.top+r.bottom:0)}function nfn(e){var t=e._signals,n=t[hqe],r=t[pqe],i=t[pce];function o(){e._autosize=e._resize=1}e._resizeWidth=e.add(null,a=>{e._width=a.size,e._viewWidth=gqe(e,a.size),o()},{size:n}),e._resizeHeight=e.add(null,a=>{e._height=a.size,e._viewHeight=mqe(e,a.size),o()},{size:r});const s=e.add(null,o,{pad:i});e._resizeWidth.rank=n.rank+1,e._resizeHeight.rank=r.rank+1,s.rank=i.rank+1}function rfn(e,t,n,r,i,o){this.runAfter(s=>{let a=0;s._autosize=0,s.width()!==n&&(a=1,s.signal(hqe,n,Twe),s._resizeWidth.skip(!0)),s.height()!==r&&(a=1,s.signal(pqe,r,Twe),s._resizeHeight.skip(!0)),s._viewWidth!==e&&(s._resize=1,s._viewWidth=e),s._viewHeight!==t&&(s._resize=1,s._viewHeight=t),(s._origin[0]!==i[0]||s._origin[1]!==i[1])&&(s._resize=1,s._origin=i),a&&s.run("enter"),o&&s.runAfter(l=>l.resize())},!1,1)}function ifn(e){return this._runtime.getState(e||{data:ofn,signals:sfn,recurse:!0})}function ofn(e,t){return t.modified&&Me(t.input.value)&&e.indexOf("_:vega:_")}function sfn(e,t){return!(e==="parent"||t instanceof AS.proxy)}function afn(e){return this.runAsync(null,t=>{t._trigger=!1,t._runtime.setState(e)},t=>{t._trigger=!0}),this}function lfn(e,t){function n(r){e({timestamp:Date.now(),elapsed:r})}this._timers.push(Min(n,t))}function cfn(e,t,n,r){const i=e.element();i&&i.setAttribute("title",ufn(r))}function ufn(e){return e==null?"":Me(e)?yqe(e):ut(e)&&!yy(e)?ffn(e):e+""}function ffn(e){return Object.keys(e).map(t=>{const n=e[t];return t+": "+(Me(n)?yqe(n):vqe(n))}).join(`
`)}function yqe(e){return"["+e.map(vqe).join(", ")+"]"}function vqe(e){return Me(e)?"[]":ut(e)&&!yy(e)?"{}":e}function bqe(e,t){const n=this;if(t=t||{},Aw.call(n),t.loader&&n.loader(t.loader),t.logger&&n.logger(t.logger),t.logLevel!=null&&n.logLevel(t.logLevel),t.locale||e.locale){const o=ln({},e.locale,t.locale);n.locale(d6e(o.number,o.time))}n._el=null,n._elBind=null,n._renderType=t.renderer||Gm.Canvas,n._scenegraph=new Xae;const r=n._scenegraph.root;n._renderer=null,n._tooltip=t.tooltip||cfn,n._redraw=!0,n._handler=new HR().scene(r),n._globalCursor=!1,n._preventDefault=!1,n._timers=[],n._eventListeners=[],n._resizeListeners=[],n._eventConfig=Pun(e.eventConfig),n.globalCursor(n._eventConfig.globalCursor);const i=efn(n,e,t.expr);n._runtime=i,n._signals=i.signals,n._bind=(e.bindings||[]).map(o=>({state:null,param:ln({},o)})),i.root&&i.root.set(r),r.source=i.data.root.input,n.pulse(i.data.root.input,n.changeset().insert(r.items)),n._width=n.width(),n._height=n.height(),n._viewWidth=gqe(n,n._width),n._viewHeight=mqe(n,n._height),n._origin=[0,0],n._resize=0,n._autosize=1,nfn(n),bun(n),Oun(n),n.description(e.description),t.hover&&n.hover(),t.container&&n.initialize(t.container,t.bind)}function MN(e,t){return Rt(e._signals,t)?e._signals[t]:De("Unrecognized signal name: "+Ge(t))}function Oqe(e,t){const n=(e._targets||[]).filter(r=>r._update&&r._update.handler===t);return n.length?n[0]:null}function Pwe(e,t,n,r){let i=Oqe(n,r);return i||(i=dce(e,()=>r(t,n.value)),i.handler=r,e.on(n,null,i)),e}function Rwe(e,t,n){const r=Oqe(t,n);return r&&t._targets.remove(r),e}Ke(bqe,Aw,{async evaluate(e,t,n){if(await Aw.prototype.evaluate.call(this,e,t),this._redraw||this._resize)try{this._renderer&&(this._resize&&(this._resize=0,_un(this)),await this._renderer.renderAsync(this._scenegraph.root)),this._redraw=!1}catch(r){this.error(r)}return n&&hI(this,n),this},dirty(e){this._redraw=!0,this._renderer&&this._renderer.dirty(e)},description(e){if(arguments.length){const t=e!=null?e+"":null;return t!==this._desc&&lqe(this._el,this._desc=t),this}return this._desc},container(){return this._el},scenegraph(){return this._scenegraph},origin(){return this._origin.slice()},signal(e,t,n){const r=MN(this,e);return arguments.length===1?r.value:this.update(r,t,n)},width(e){return arguments.length?this.signal("width",e):this.signal("width")},height(e){return arguments.length?this.signal("height",e):this.signal("height")},padding(e){return arguments.length?this.signal("padding",kwe(e)):kwe(this.signal("padding"))},autosize(e){return arguments.length?this.signal("autosize",e):this.signal("autosize")},background(e){return arguments.length?this.signal("background",e):this.signal("background")},renderer(e){return arguments.length?(E8(e)||De("Unrecognized renderer type: "+e),e!==this._renderType&&(this._renderType=e,this._resetRenderer()),this):this._renderType},tooltip(e){return arguments.length?(e!==this._tooltip&&(this._tooltip=e,this._resetRenderer()),this):this._tooltip},loader(e){return arguments.length?(e!==this._loader&&(Aw.prototype.loader.call(this,e),this._resetRenderer()),this):this._loader},resize(){return this._autosize=1,this.touch(MN(this,"autosize"))},_resetRenderer(){this._renderer&&(this._renderer=null,this.initialize(this._el,this._elBind))},_resizeView:rfn,addEventListener(e,t,n){let r=t;return n&&n.trap===!1||(r=dce(this,t),r.raw=t),this._handler.on(e,r),this},removeEventListener(e,t){for(var n=this._handler.handlers(e),r=n.length,i,o;--r>=0;)if(o=n[r].type,i=n[r].handler,e===o&&(t===i||t===i.raw)){this._handler.off(o,i);break}return this},addResizeListener(e){const t=this._resizeListeners;return t.indexOf(e)<0&&t.push(e),this},removeResizeListener(e){var t=this._resizeListeners,n=t.indexOf(e);return n>=0&&t.splice(n,1),this},addSignalListener(e,t){return Pwe(this,e,MN(this,e),t)},removeSignalListener(e,t){return Rwe(this,MN(this,e),t)},addDataListener(e,t){return Pwe(this,e,Cj(this,e).values,t)},removeDataListener(e,t){return Rwe(this,Cj(this,e).values,t)},globalCursor(e){if(arguments.length){if(this._globalCursor!==!!e){const t=rG(this,null);this._globalCursor=!!e,t&&rG(this,t)}return this}else return this._globalCursor},preventDefault(e){return arguments.length?(this._preventDefault=e,this):this._preventDefault},timer:lfn,events:Aun,finalize:Nun,hover:Dun,data:xun,change:z8,insert:wun,remove:Sun,scale:tfn,initialize:Xun,toImageURL:Zun,toCanvas:Kun,toSVG:Jun,getState:ifn,setState:afn});const dfn="view",Ej="[",kj="]",xqe="{",wqe="}",hfn=":",Sqe=",",pfn="@",gfn=">",mfn=/[[\]{}]/,yfn={"*":1,arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1};let _qe,Cqe;function V0(e,t,n){return _qe=t||dfn,Cqe=n||yfn,$qe(e.trim()).map(iG)}function vfn(e){return Cqe[e]}function Wk(e,t,n,r,i){const o=e.length;let s=0,a;for(;t<o;++t){if(a=e[t],!s&&a===n)return t;i&&i.indexOf(a)>=0?--s:r&&r.indexOf(a)>=0&&++s}return t}function $qe(e){const t=[],n=e.length;let r=0,i=0;for(;i<n;)i=Wk(e,i,Sqe,Ej+xqe,kj+wqe),t.push(e.substring(r,i).trim()),r=++i;if(t.length===0)throw"Empty event selector: "+e;return t}function iG(e){return e[0]==="["?bfn(e):Ofn(e)}function bfn(e){const t=e.length;let n=1,r;if(n=Wk(e,n,kj,Ej,kj),n===t)throw"Empty between selector: "+e;if(r=$qe(e.substring(1,n)),r.length!==2)throw"Between selector must have two elements: "+e;if(e=e.slice(n+1).trim(),e[0]!==gfn)throw"Expected '>' after between selector: "+e;r=r.map(iG);const i=iG(e.slice(1).trim());return i.between?{between:r,stream:i}:(i.between=r,i)}function Ofn(e){const t={source:_qe},n=[];let r=[0,0],i=0,o=0,s=e.length,a=0,l,c;if(e[s-1]===wqe){if(a=e.lastIndexOf(xqe),a>=0){try{r=xfn(e.substring(a+1,s-1))}catch{throw"Invalid throttle specification: "+e}e=e.slice(0,a).trim(),s=e.length}else throw"Unmatched right brace: "+e;a=0}if(!s)throw e;if(e[0]===pfn&&(i=++a),l=Wk(e,a,hfn),l<s&&(n.push(e.substring(o,l).trim()),o=a=++l),a=Wk(e,a,Ej),a===s)n.push(e.substring(o,s).trim());else if(n.push(e.substring(o,a).trim()),c=[],o=++a,o===s)throw"Unmatched left bracket: "+e;for(;a<s;){if(a=Wk(e,a,kj),a===s)throw"Unmatched left bracket: "+e;if(c.push(e.substring(o,a).trim()),a<s-1&&e[++a]!==Ej)throw"Expected left bracket: "+e;o=++a}if(!(s=n.length)||mfn.test(n[s-1]))throw"Invalid event selector: "+e;return s>1?(t.type=n[1],i?t.markname=n[0].slice(1):vfn(n[0])?t.marktype=n[0]:t.source=n[0]):t.type=n[0],t.type.slice(-1)==="!"&&(t.consume=!0,t.type=t.type.slice(0,-1)),c!=null&&(t.filter=c),r[0]&&(t.throttle=r[0]),r[1]&&(t.debounce=r[1]),t}function xfn(e){const t=e.split(Sqe);if(!e.length||t.length>2)throw e;return t.map(n=>{const r=+n;if(r!==r)throw e;return r})}function wfn(e){return ut(e)?e:{type:e||"pad"}}const D$=e=>+e||0,Sfn=e=>({top:e,bottom:e,left:e,right:e});function _fn(e){return ut(e)?e.signal?e:{top:D$(e.top),bottom:D$(e.bottom),left:D$(e.left),right:D$(e.right)}:Sfn(D$(e))}const ss=e=>ut(e)&&!Me(e)?ln({},e):{value:e};function Awe(e,t,n,r){return n!=null?(ut(n)&&!Me(n)||Me(n)&&n.length&&ut(n[0])?e.update[t]=n:e[r||"enter"][t]={value:n},1):0}function Fs(e,t,n){for(const r in t)Awe(e,r,t[r]);for(const r in n)Awe(e,r,n[r],"update")}function CC(e,t,n){for(const r in t)n&&Rt(n,r)||(e[r]=ln(e[r]||{},t[r]));return e}function $x(e,t){return t&&(t.enter&&t.enter[e]||t.update&&t.update[e])}const gce="mark",mce="frame",yce="scope",Cfn="axis",$fn="axis-domain",Efn="axis-grid",kfn="axis-label",Tfn="axis-tick",Pfn="axis-title",Rfn="legend",Afn="legend-band",Dfn="legend-entry",Nfn="legend-gradient",Eqe="legend-label",Mfn="legend-symbol",Ifn="legend-title",Lfn="title",jfn="title-text",Ffn="title-subtitle";function zfn(e,t,n,r,i){const o={},s={};let a,l,c,u;l="lineBreak",t==="text"&&i[l]!=null&&!$x(l,e)&&OV(o,l,i[l]),(n=="legend"||String(n).startsWith("axis"))&&(n=null),u=n===mce?i.group:n===gce?ln({},i.mark,i[t]):null;for(l in u)c=$x(l,e)||(l==="fill"||l==="stroke")&&($x("fill",e)||$x("stroke",e)),c||OV(o,l,u[l]);lt(r).forEach(f=>{const d=i.style&&i.style[f];for(const h in d)$x(h,e)||OV(o,h,d[h])}),e=ln({},e);for(l in o)u=o[l],u.signal?(a=a||{})[l]=u:s[l]=u;return e.enter=ln(s,e.enter),a&&(e.update=ln(a,e.update)),e}function OV(e,t,n){e[t]=n&&n.signal?{signal:n.signal}:{value:n}}const kqe=e=>at(e)?Ge(e):e.signal?`(${e.signal})`:Tqe(e);function B8(e){if(e.gradient!=null)return Bfn(e);let t=e.signal?`(${e.signal})`:e.color?Qfn(e.color):e.field!=null?Tqe(e.field):e.value!==void 0?Ge(e.value):void 0;return e.scale!=null&&(t=Wfn(e,t)),t===void 0&&(t=null),e.exponent!=null&&(t=`pow(${t},${PI(e.exponent)})`),e.mult!=null&&(t+=`*${PI(e.mult)}`),e.offset!=null&&(t+=`+${PI(e.offset)}`),e.round&&(t=`round(${t})`),t}const IN=(e,t,n,r)=>`(${e}(${[t,n,r].map(B8).join(",")})+'')`;function Qfn(e){return e.c?IN("hcl",e.h,e.c,e.l):e.h||e.s?IN("hsl",e.h,e.s,e.l):e.l||e.a?IN("lab",e.l,e.a,e.b):e.r||e.g||e.b?IN("rgb",e.r,e.g,e.b):null}function Bfn(e){const t=[e.start,e.stop,e.count].map(n=>n==null?null:Ge(n));for(;t.length&&In(t)==null;)t.pop();return t.unshift(kqe(e.gradient)),`gradient(${t.join(",")})`}function PI(e){return ut(e)?"("+B8(e)+")":e}function Tqe(e){return Pqe(ut(e)?e:{datum:e})}function Pqe(e){let t,n,r;if(e.signal)t="datum",r=e.signal;else if(e.group||e.parent){for(n=Math.max(1,e.level||1),t="item";n-- >0;)t+=".mark.group";e.parent?(r=e.parent,t+=".datum"):r=e.group}else e.datum?(t="datum",r=e.datum):De("Invalid field reference: "+Ge(e));return e.signal||(r=at(r)?Uh(r).map(Ge).join("]["):Pqe(r)),t+"["+r+"]"}function Wfn(e,t){const n=kqe(e.scale);return e.range!=null?t=`lerp(_range(${n}), ${+e.range})`:(t!==void 0&&(t=`_scale(${n}, ${t})`),e.band&&(t=(t?t+"+":"")+`_bandwidth(${n})`+(+e.band==1?"":"*"+PI(e.band)),e.extra&&(t=`(datum.extra ? _scale(${n}, datum.extra.value) : ${t})`)),t==null&&(t="0")),t}function Vfn(e){let t="";return e.forEach(n=>{const r=B8(n);t+=n.test?`(${n.test})?${r}:`:r}),In(t)===":"&&(t+="null"),t}function Rqe(e,t,n,r,i,o){const s={};o=o||{},o.encoders={$encode:s},e=zfn(e,t,n,r,i.config);for(const a in e)s[a]=Ufn(e[a],t,o,i);return o}function Ufn(e,t,n,r){const i={},o={};for(const s in e)e[s]!=null&&(i[s]=Yfn(qfn(e[s]),r,n,o));return{$expr:{marktype:t,channels:i},$fields:Object.keys(o),$output:Object.keys(e)}}function qfn(e){return Me(e)?Vfn(e):B8(e)}function Yfn(e,t,n,r){const i=Ph(e,t);return i.$fields.forEach(o=>r[o]=1),ln(n,i.$params),i.$expr}const Xfn="outer",Hfn=["value","update","init","react","bind"];function Dwe(e,t){De(e+' for "outer" push: '+Ge(t))}function Aqe(e,t){const n=e.name;if(e.push===Xfn)t.signals[n]||Dwe("No prior signal definition",n),Hfn.forEach(r=>{e[r]!==void 0&&Dwe("Invalid property ",r)});else{const r=t.addSignal(n,e.value);e.react===!1&&(r.react=!1),e.bind&&t.addBinding(n,e.bind)}}function oG(e,t,n,r){this.id=-1,this.type=e,this.value=t,this.params=n,r&&(this.parent=r)}function W8(e,t,n,r){return new oG(e,t,n,r)}function Tj(e,t){return W8("operator",e,t)}function kt(e){const t={$ref:e.id};return e.id<0&&(e.refs=e.refs||[]).push(t),t}function J2(e,t){return t?{$field:e,$name:t}:{$field:e}}const sG=J2("key");function Nwe(e,t){return{$compare:e,$order:t}}function Zfn(e,t){const n={$key:e};return t&&(n.$flat=!0),n}const Gfn="ascending",Kfn="descending";function Jfn(e){return ut(e)?(e.order===Kfn?"-":"+")+V8(e.op,e.field):""}function V8(e,t){return(e&&e.signal?"$"+e.signal:e||"")+(e&&t?"_":"")+(t&&t.signal?"$"+t.signal:t||"")}const vce="scope",aG="view";function Bo(e){return e&&e.signal}function edn(e){return e&&e.expr}function RI(e){if(Bo(e))return!0;if(ut(e)){for(const t in e)if(RI(e[t]))return!0}return!1}function hf(e,t){return e??t}function w1(e){return e&&e.signal||e}const Mwe="timer";function eP(e,t){return(e.merge?ndn:e.stream?rdn:e.type?idn:De("Invalid stream specification: "+Ge(e)))(e,t)}function tdn(e){return e===vce?aG:e||aG}function ndn(e,t){const n=e.merge.map(i=>eP(i,t)),r=bce({merge:n},e,t);return t.addStream(r).id}function rdn(e,t){const n=eP(e.stream,t),r=bce({stream:n},e,t);return t.addStream(r).id}function idn(e,t){let n;e.type===Mwe?(n=t.event(Mwe,e.throttle),e={between:e.between,filter:e.filter}):n=t.event(tdn(e.source),e.type);const r=bce({stream:n},e,t);return Object.keys(r).length===1?n:t.addStream(r).id}function bce(e,t,n){let r=t.between;return r&&(r.length!==2&&De('Stream "between" parameter must have 2 entries: '+Ge(t)),e.between=[eP(r[0],n),eP(r[1],n)]),r=t.filter?[].concat(t.filter):[],(t.marktype||t.markname||t.markrole)&&r.push(odn(t.marktype,t.markname,t.markrole)),t.source===vce&&r.push("inScope(event.item)"),r.length&&(e.filter=Ph("("+r.join(")&&(")+")",n).$expr),(r=t.throttle)!=null&&(e.throttle=+r),(r=t.debounce)!=null&&(e.debounce=+r),t.consume&&(e.consume=!0),e}function odn(e,t,n){const r="event.item";return r+(e&&e!=="*"?"&&"+r+".mark.marktype==='"+e+"'":"")+(n?"&&"+r+".mark.role==='"+n+"'":"")+(t?"&&"+r+".mark.name==='"+t+"'":"")}const sdn={code:"_.$value",ast:{type:"Identifier",value:"value"}};function adn(e,t,n){const r=e.encode,i={target:n};let o=e.events,s=e.update,a=[];o||De("Signal update missing events specification."),at(o)&&(o=V0(o,t.isSubscope()?vce:aG)),o=lt(o).filter(l=>l.signal||l.scale?(a.push(l),0):1),a.length>1&&(a=[cdn(a)]),o.length&&a.push(o.length>1?{merge:o}:o[0]),r!=null&&(s&&De("Signal encode and update are mutually exclusive."),s="encode(item(),"+Ge(r)+")"),i.update=at(s)?Ph(s,t):s.expr!=null?Ph(s.expr,t):s.value!=null?s.value:s.signal!=null?{$expr:sdn,$params:{$value:t.signalRef(s.signal)}}:De("Invalid signal update specification."),e.force&&(i.options={force:!0}),a.forEach(l=>t.addUpdate(ln(ldn(l,t),i)))}function ldn(e,t){return{source:e.signal?t.signalRef(e.signal):e.scale?t.scaleRef(e.scale):eP(e,t)}}function cdn(e){return{signal:"["+e.map(t=>t.scale?'scale("'+t.scale+'")':t.signal)+"]"}}function udn(e,t){const n=t.getSignal(e.name);let r=e.update;e.init&&(r?De("Signals can not include both init and update expressions."):(r=e.init,n.initonly=!0)),r&&(r=Ph(r,t),n.update=r.$expr,n.params=r.$params),e.on&&e.on.forEach(i=>adn(i,t,n.id))}const kr=e=>(t,n,r)=>W8(e,n,t||void 0,r),Dqe=kr("aggregate"),fdn=kr("axisticks"),Nqe=kr("bound"),hd=kr("collect"),Iwe=kr("compare"),ddn=kr("datajoin"),Mqe=kr("encode"),hdn=kr("expression"),pdn=kr("facet"),gdn=kr("field"),mdn=kr("key"),ydn=kr("legendentries"),vdn=kr("load"),bdn=kr("mark"),Odn=kr("multiextent"),xdn=kr("multivalues"),wdn=kr("overlap"),Sdn=kr("params"),Iqe=kr("prefacet"),_dn=kr("projection"),Cdn=kr("proxy"),$dn=kr("relay"),Lqe=kr("render"),Edn=kr("scale"),cO=kr("sieve"),kdn=kr("sortitems"),jqe=kr("viewlayout"),Tdn=kr("values");let Pdn=0;const Fqe={min:"min",max:"max",count:"sum"};function Rdn(e,t){const n=e.type||"linear";MBe(n)||De("Unrecognized scale type: "+Ge(n)),t.addScale(e.name,{type:n,domain:void 0})}function Adn(e,t){const n=t.getScale(e.name).params;let r;n.domain=zqe(e.domain,e,t),e.range!=null&&(n.range=Bqe(e,t,n)),e.interpolate!=null&&Bdn(e.interpolate,n),e.nice!=null&&(n.nice=Qdn(e.nice)),e.bins!=null&&(n.bins=zdn(e.bins,t));for(r in e)Rt(n,r)||r==="name"||(n[r]=wu(e[r],t))}function wu(e,t){return ut(e)?e.signal?t.signalRef(e.signal):De("Unsupported object: "+Ge(e)):e}function AI(e,t){return e.signal?t.signalRef(e.signal):e.map(n=>wu(n,t))}function U8(e){De("Can not find data set: "+Ge(e))}function zqe(e,t,n){if(!e){(t.domainMin!=null||t.domainMax!=null)&&De("No scale domain defined for domainMin/domainMax to override.");return}return e.signal?n.signalRef(e.signal):(Me(e)?Ddn:e.fields?Mdn:Ndn)(e,t,n)}function Ddn(e,t,n){return e.map(r=>wu(r,n))}function Ndn(e,t,n){const r=n.getData(e.data);return r||U8(e.data),LS(t.type)?r.valuesRef(n,e.field,Qqe(e.sort,!1)):jBe(t.type)?r.domainRef(n,e.field):r.extentRef(n,e.field)}function Mdn(e,t,n){const r=e.data,i=e.fields.reduce((o,s)=>(s=at(s)?{data:r,field:s}:Me(s)||s.signal?Idn(s,n):s,o.push(s),o),[]);return(LS(t.type)?Ldn:jBe(t.type)?jdn:Fdn)(e,n,i)}function Idn(e,t){const n="_:vega:_"+Pdn++,r=hd({});if(Me(e))r.value={$ingest:e};else if(e.signal){const i="setdata("+Ge(n)+","+e.signal+")";r.params.input=t.signalRef(i)}return t.addDataPipeline(n,[r,cO({})]),{data:n,field:"data"}}function Ldn(e,t,n){const r=Qqe(e.sort,!0);let i,o;const s=n.map(c=>{const u=t.getData(c.data);return u||U8(c.data),u.countsRef(t,c.field,r)}),a={groupby:sG,pulse:s};r&&(i=r.op||"count",o=r.field?V8(i,r.field):"count",a.ops=[Fqe[i]],a.fields=[t.fieldRef(o)],a.as=[o]),i=t.add(Dqe(a));const l=t.add(hd({pulse:kt(i)}));return o=t.add(Tdn({field:sG,sort:t.sortRef(r),pulse:kt(l)})),kt(o)}function Qqe(e,t){return e&&(!e.field&&!e.op?ut(e)?e.field="key":e={field:"key"}:!e.field&&e.op!=="count"?De("No field provided for sort aggregate op: "+e.op):t&&e.field&&e.op&&!Fqe[e.op]&&De("Multiple domain scales can not be sorted using "+e.op)),e}function jdn(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||U8(i.data),o.domainRef(t,i.field)});return kt(t.add(xdn({values:r})))}function Fdn(e,t,n){const r=n.map(i=>{const o=t.getData(i.data);return o||U8(i.data),o.extentRef(t,i.field)});return kt(t.add(Odn({extents:r})))}function zdn(e,t){return e.signal||Me(e)?AI(e,t):t.objectProperty(e)}function Qdn(e){return ut(e)?{interval:wu(e.interval),step:wu(e.step)}:wu(e)}function Bdn(e,t){t.interpolate=wu(e.type||e),e.gamma!=null&&(t.interpolateGamma=wu(e.gamma))}function Bqe(e,t,n){const r=t.config.range;let i=e.range;if(i.signal)return t.signalRef(i.signal);if(at(i)){if(r&&Rt(r,i))return e=ln({},e,{range:r[i]}),Bqe(e,t,n);i==="width"?i=[0,{signal:"width"}]:i==="height"?i=LS(e.type)?[0,{signal:"height"}]:[{signal:"height"},0]:De("Unrecognized scale range value: "+Ge(i))}else if(i.scheme){n.scheme=Me(i.scheme)?AI(i.scheme,t):wu(i.scheme,t),i.extent&&(n.schemeExtent=AI(i.extent,t)),i.count&&(n.schemeCount=wu(i.count,t));return}else if(i.step){n.rangeStep=wu(i.step,t);return}else{if(LS(e.type)&&!Me(i))return zqe(i,e,t);Me(i)||De("Unsupported range type: "+Ge(i))}return i.map(o=>(Me(o)?AI:wu)(o,t))}function Wdn(e,t){const n=t.config.projection||{},r={};for(const i in e)i!=="name"&&(r[i]=lG(e[i],i,t));for(const i in n)r[i]==null&&(r[i]=lG(n[i],i,t));t.addProjection(e.name,r)}function lG(e,t,n){return Me(e)?e.map(r=>lG(r,t,n)):ut(e)?e.signal?n.signalRef(e.signal):t==="fit"?e:De("Unsupported parameter object: "+Ge(e)):e}const pd="top",$C="left",EC="right",f0="bottom",Wqe="center",Vdn="vertical",Udn="start",qdn="middle",Ydn="end",cG="index",Oce="label",Xdn="offset",YS="perc",Hdn="perc2",Ru="value",oA="guide-label",xce="guide-title",Zdn="group-title",Gdn="group-subtitle",Lwe="symbol",DI="gradient",uG="discrete",fG="size",Kdn="shape",Jdn="fill",ehn="stroke",thn="strokeWidth",nhn="strokeDash",rhn="opacity",wce=[fG,Kdn,Jdn,ehn,thn,nhn,rhn],sA={name:1,style:1,interactive:1},zn={value:0},Au={value:1},q8="group",Vqe="rect",Sce="rule",ihn="symbol",uO="text";function tP(e){return e.type=q8,e.interactive=e.interactive||!1,e}function nc(e,t){const n=(r,i)=>hf(e[r],hf(t[r],i));return n.isVertical=r=>Vdn===hf(e.direction,t.direction||(r?t.symbolDirection:t.gradientDirection)),n.gradientLength=()=>hf(e.gradientLength,t.gradientLength||t.gradientWidth),n.gradientThickness=()=>hf(e.gradientThickness,t.gradientThickness||t.gradientHeight),n.entryColumns=()=>hf(e.columns,hf(t.columns,+n.isVertical(!0))),n}function Uqe(e,t){const n=t&&(t.update&&t.update[e]||t.enter&&t.enter[e]);return n&&n.signal?n:n?n.value:null}function ohn(e,t,n){const r=t.config.style[n];return r&&r[e]}function Y8(e,t,n){return`item.anchor === '${Udn}' ? ${e} : item.anchor === '${Ydn}' ? ${t} : ${n}`}const _ce=Y8(Ge($C),Ge(EC),Ge(Wqe));function shn(e){const t=e("tickBand");let n=e("tickOffset"),r,i;return t?t.signal?(r={signal:`(${t.signal}) === 'extent' ? 1 : 0.5`},i={signal:`(${t.signal}) === 'extent'`},ut(n)||(n={signal:`(${t.signal}) === 'extent' ? 0 : ${n}`})):t==="extent"?(r=1,i=!0,n=0):(r=.5,i=!1):(r=e("bandPosition"),i=e("tickExtra")),{extra:i,band:r,offset:n}}function qqe(e,t){return t?e?ut(e)?Object.assign({},e,{offset:qqe(e.offset,t)}):{value:e,offset:t}:t:e}function Qc(e,t){return t?(e.name=t.name,e.style=t.style||e.style,e.interactive=!!t.interactive,e.encode=CC(e.encode,t,sA)):e.interactive=!1,e}function ahn(e,t,n,r){const i=nc(e,n),o=i.isVertical(),s=i.gradientThickness(),a=i.gradientLength();let l,c,u,f,d;o?(c=[0,1],u=[0,0],f=s,d=a):(c=[0,0],u=[1,0],f=a,d=s);const h={enter:l={opacity:zn,x:zn,y:zn,width:ss(f),height:ss(d)},update:ln({},l,{opacity:Au,fill:{gradient:t,start:c,stop:u}}),exit:{opacity:zn}};return Fs(h,{stroke:i("gradientStrokeColor"),strokeWidth:i("gradientStrokeWidth")},{opacity:i("gradientOpacity")}),Qc({type:Vqe,role:Nfn,encode:h},r)}function lhn(e,t,n,r,i){const o=nc(e,n),s=o.isVertical(),a=o.gradientThickness(),l=o.gradientLength();let c,u,f,d,h="";s?(c="y",f="y2",u="x",d="width",h="1-"):(c="x",f="x2",u="y",d="height");const p={opacity:zn,fill:{scale:t,field:Ru}};p[c]={signal:h+"datum."+YS,mult:l},p[u]=zn,p[f]={signal:h+"datum."+Hdn,mult:l},p[d]=ss(a);const g={enter:p,update:ln({},p,{opacity:Au}),exit:{opacity:zn}};return Fs(g,{stroke:o("gradientStrokeColor"),strokeWidth:o("gradientStrokeWidth")},{opacity:o("gradientOpacity")}),Qc({type:Vqe,role:Afn,key:Ru,from:i,encode:g},r)}const chn=`datum.${YS}<=0?"${$C}":datum.${YS}>=1?"${EC}":"${Wqe}"`,uhn=`datum.${YS}<=0?"${f0}":datum.${YS}>=1?"${pd}":"${qdn}"`;function jwe(e,t,n,r){const i=nc(e,t),o=i.isVertical(),s=ss(i.gradientThickness()),a=i.gradientLength();let l=i("labelOverlap"),c,u,f,d,h="";const p={enter:c={opacity:zn},update:u={opacity:Au,text:{field:Oce}},exit:{opacity:zn}};return Fs(p,{fill:i("labelColor"),fillOpacity:i("labelOpacity"),font:i("labelFont"),fontSize:i("labelFontSize"),fontStyle:i("labelFontStyle"),fontWeight:i("labelFontWeight"),limit:hf(e.labelLimit,t.gradientLabelLimit)}),o?(c.align={value:"left"},c.baseline=u.baseline={signal:uhn},f="y",d="x",h="1-"):(c.align=u.align={signal:chn},c.baseline={value:"top"},f="x",d="y"),c[f]=u[f]={signal:h+"datum."+YS,mult:a},c[d]=u[d]=s,s.offset=hf(e.labelOffset,t.gradientLabelOffset)||0,l=l?{separation:i("labelSeparation"),method:l,order:"datum."+cG}:void 0,Qc({type:uO,role:Eqe,style:oA,key:Ru,from:r,encode:p,overlap:l},n)}function fhn(e,t,n,r,i){const o=nc(e,t),s=n.entries,a=!!(s&&s.interactive),l=s?s.name:void 0,c=o("clipHeight"),u=o("symbolOffset"),f={data:"value"},d=`(${i}) ? datum.${Xdn} : datum.${fG}`,h=c?ss(c):{field:fG},p=`datum.${cG}`,g=`max(1, ${i})`;let y,v,x,m,w;h.mult=.5,y={enter:v={opacity:zn,x:{signal:d,mult:.5,offset:u},y:h},update:x={opacity:Au,x:v.x,y:v.y},exit:{opacity:zn}};let S=null,C=null;e.fill||(S=t.symbolBaseFillColor,C=t.symbolBaseStrokeColor),Fs(y,{fill:o("symbolFillColor",S),shape:o("symbolType"),size:o("symbolSize"),stroke:o("symbolStrokeColor",C),strokeDash:o("symbolDash"),strokeDashOffset:o("symbolDashOffset"),strokeWidth:o("symbolStrokeWidth")},{opacity:o("symbolOpacity")}),wce.forEach(N=>{e[N]&&(x[N]=v[N]={scale:e[N],field:Ru})});const $=Qc({type:ihn,role:Mfn,key:Ru,from:f,clip:c?!0:void 0,encode:y},n.symbols),E=ss(u);E.offset=o("labelOffset"),y={enter:v={opacity:zn,x:{signal:d,offset:E},y:h},update:x={opacity:Au,text:{field:Oce},x:v.x,y:v.y},exit:{opacity:zn}},Fs(y,{align:o("labelAlign"),baseline:o("labelBaseline"),fill:o("labelColor"),fillOpacity:o("labelOpacity"),font:o("labelFont"),fontSize:o("labelFontSize"),fontStyle:o("labelFontStyle"),fontWeight:o("labelFontWeight"),limit:o("labelLimit")});const R=Qc({type:uO,role:Eqe,style:oA,key:Ru,from:f,encode:y},n.labels);return y={enter:{noBound:{value:!c},width:zn,height:c?ss(c):zn,opacity:zn},exit:{opacity:zn},update:x={opacity:Au,row:{signal:null},column:{signal:null}}},o.isVertical(!0)?(m=`ceil(item.mark.items.length / ${g})`,x.row.signal=`${p}%${m}`,x.column.signal=`floor(${p} / ${m})`,w={field:["row",p]}):(x.row.signal=`floor(${p} / ${g})`,x.column.signal=`${p} % ${g}`,w={field:p}),x.column.signal=`(${i})?${x.column.signal}:${p}`,r={facet:{data:r,name:"value",groupby:cG}},tP({role:yce,from:r,encode:CC(y,s,sA),marks:[$,R],name:l,interactive:a,sort:w})}function dhn(e,t){const n=nc(e,t);return{align:n("gridAlign"),columns:n.entryColumns(),center:{row:!0,column:!1},padding:{row:n("rowPadding"),column:n("columnPadding")}}}const Cce='item.orient === "left"',$ce='item.orient === "right"',X8=`(${Cce} || ${$ce})`,hhn=`datum.vgrad && ${X8}`,phn=Y8('"top"','"bottom"','"middle"'),ghn=Y8('"right"','"left"','"center"'),mhn=`datum.vgrad && ${$ce} ? (${ghn}) : (${X8} && !(datum.vgrad && ${Cce})) ? "left" : ${_ce}`,yhn=`item._anchor || (${X8} ? "middle" : "start")`,vhn=`${hhn} ? (${Cce} ? -90 : 90) : 0`,bhn=`${X8} ? (datum.vgrad ? (${$ce} ? "bottom" : "top") : ${phn}) : "top"`;function Ohn(e,t,n,r){const i=nc(e,t),o={enter:{opacity:zn},update:{opacity:Au,x:{field:{group:"padding"}},y:{field:{group:"padding"}}},exit:{opacity:zn}};return Fs(o,{orient:i("titleOrient"),_anchor:i("titleAnchor"),anchor:{signal:yhn},angle:{signal:vhn},align:{signal:mhn},baseline:{signal:bhn},text:e.title,fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),baseline:i("titleBaseline")}),Qc({type:uO,role:Ifn,style:xce,from:r,encode:o},n)}function xhn(e,t){let n;return ut(e)&&(e.signal?n=e.signal:e.path?n="pathShape("+Fwe(e.path)+")":e.sphere&&(n="geoShape("+Fwe(e.sphere)+', {type: "Sphere"})')),n?t.signalRef(n):!!e}function Fwe(e){return ut(e)&&e.signal?e.signal:Ge(e)}function Yqe(e){const t=e.role||"";return!t.indexOf("axis")||!t.indexOf("legend")||!t.indexOf("title")?t:e.type===q8?yce:t||gce}function whn(e){return{marktype:e.type,name:e.name||void 0,role:e.role||Yqe(e),zindex:+e.zindex||void 0,aria:e.aria,description:e.description}}function Shn(e,t){return e&&e.signal?t.signalRef(e.signal):e!==!1}function Ece(e,t){const n=M9e(e.type);n||De("Unrecognized transform type: "+Ge(e.type));const r=W8(n.type.toLowerCase(),null,Xqe(n,e,t));return e.signal&&t.addSignal(e.signal,t.proxy(r)),r.metadata=n.metadata||{},r}function Xqe(e,t,n){const r={},i=e.params.length;for(let o=0;o<i;++o){const s=e.params[o];r[s.name]=_hn(s,t,n)}return r}function _hn(e,t,n){const r=e.type,i=t[e.name];if(r==="index")return Chn(e,t,n);if(i===void 0){e.required&&De("Missing required "+Ge(t.type)+" parameter: "+Ge(e.name));return}else{if(r==="param")return $hn(e,t,n);if(r==="projection")return n.projectionRef(t[e.name])}return e.array&&!Bo(i)?i.map(o=>zwe(e,o,n)):zwe(e,i,n)}function zwe(e,t,n){const r=e.type;if(Bo(t))return Bwe(r)?De("Expression references can not be signals."):xV(r)?n.fieldRef(t):Wwe(r)?n.compareRef(t):n.signalRef(t.signal);{const i=e.expr||xV(r);return i&&Ehn(t)?n.exprRef(t.expr,t.as):i&&khn(t)?J2(t.field,t.as):Bwe(r)?Ph(t,n):Thn(r)?kt(n.getData(t).values):xV(r)?J2(t):Wwe(r)?n.compareRef(t):t}}function Chn(e,t,n){return at(t.from)||De('Lookup "from" parameter must be a string literal.'),n.getData(t.from).lookupRef(n,t.key)}function $hn(e,t,n){const r=t[e.name];return e.array?(Me(r)||De("Expected an array of sub-parameters. Instead: "+Ge(r)),r.map(i=>Qwe(e,i,n))):Qwe(e,r,n)}function Qwe(e,t,n){const r=e.params.length;let i;for(let s=0;s<r;++s){i=e.params[s];for(const a in i.key)if(i.key[a]!==t[a]){i=null;break}if(i)break}i||De("Unsupported parameter: "+Ge(t));const o=ln(Xqe(i,t,n),i.key);return kt(n.add(Sdn(o)))}const Ehn=e=>e&&e.expr,khn=e=>e&&e.field,Thn=e=>e==="data",Bwe=e=>e==="expr",xV=e=>e==="field",Wwe=e=>e==="compare";function Phn(e,t,n){let r,i,o,s,a;return e?(r=e.facet)&&(t||De("Only group marks can be faceted."),r.field!=null?s=a=NI(r,n):(e.data?a=kt(n.getData(e.data).aggregate):(o=Ece(ln({type:"aggregate",groupby:lt(r.groupby)},r.aggregate),n),o.params.key=n.keyRef(r.groupby),o.params.pulse=NI(r,n),s=a=kt(n.add(o))),i=n.keyRef(r.groupby,!0))):s=kt(n.add(hd(null,[{}]))),s||(s=NI(e,n)),{key:i,pulse:s,parent:a}}function NI(e,t){return e.$ref?e:e.data&&e.data.$ref?e.data:kt(t.getData(e.data).output)}function Sb(e,t,n,r,i){this.scope=e,this.input=t,this.output=n,this.values=r,this.aggregate=i,this.index={}}Sb.fromEntries=function(e,t){const n=t.length,r=t[n-1],i=t[n-2];let o=t[0],s=null,a=1;for(o&&o.type==="load"&&(o=t[1]),e.add(t[0]);a<n;++a)t[a].params.pulse=kt(t[a-1]),e.add(t[a]),t[a].type==="aggregate"&&(s=t[a]);return new Sb(e,o,i,r,s)};function Hqe(e){return at(e)?e:null}function Vwe(e,t,n){const r=V8(n.op,n.field);let i;if(t.ops){for(let o=0,s=t.as.length;o<s;++o)if(t.as[o]===r)return}else t.ops=["count"],t.fields=[null],t.as=["count"];n.op&&(t.ops.push((i=n.op.signal)?e.signalRef(i):n.op),t.fields.push(e.fieldRef(n.field)),t.as.push(r))}function N$(e,t,n,r,i,o,s){const a=t[n]||(t[n]={}),l=Jfn(o);let c=Hqe(i),u,f;if(c!=null&&(e=t.scope,c=c+(l?"|"+l:""),u=a[c]),!u){const d=o?{field:sG,pulse:t.countsRef(e,i,o)}:{field:e.fieldRef(i),pulse:kt(t.output)};l&&(d.sort=e.sortRef(o)),f=e.add(W8(r,void 0,d)),s&&(t.index[i]=f),u=kt(f),c!=null&&(a[c]=u)}return u}Sb.prototype={countsRef(e,t,n){const r=this,i=r.counts||(r.counts={}),o=Hqe(t);let s,a,l;return o!=null&&(e=r.scope,s=i[o]),s?n&&n.field&&Vwe(e,s.agg.params,n):(l={groupby:e.fieldRef(t,"key"),pulse:kt(r.output)},n&&n.field&&Vwe(e,l,n),a=e.add(Dqe(l)),s=e.add(hd({pulse:kt(a)})),s={agg:a,ref:kt(s)},o!=null&&(i[o]=s)),s.ref},tuplesRef(){return kt(this.values)},extentRef(e,t){return N$(e,this,"extent","extent",t,!1)},domainRef(e,t){return N$(e,this,"domain","values",t,!1)},valuesRef(e,t,n){return N$(e,this,"vals","values",t,n||!0)},lookupRef(e,t){return N$(e,this,"lookup","tupleindex",t,!1)},indataRef(e,t){return N$(e,this,"indata","tupleindex",t,!0,!0)}};function Rhn(e,t,n){const r=e.from.facet,i=r.name,o=NI(r,t);let s;r.name||De("Facet must have a name: "+Ge(r)),r.data||De("Facet must reference a data set: "+Ge(r)),r.field?s=t.add(Iqe({field:t.fieldRef(r.field),pulse:o})):r.groupby?s=t.add(pdn({key:t.keyRef(r.groupby),group:kt(t.proxy(n.parent)),pulse:o})):De("Facet must specify groupby or field: "+Ge(r));const a=t.fork(),l=a.add(hd()),c=a.add(cO({pulse:kt(l)}));a.addData(i,new Sb(a,l,l,c)),a.addSignal("parent",null),s.params.subflow={$subflow:a.parse(e).toRuntime()}}function Ahn(e,t,n){const r=t.add(Iqe({pulse:n.pulse})),i=t.fork();i.add(cO()),i.addSignal("parent",null),r.params.subflow={$subflow:i.parse(e).toRuntime()}}function Zqe(e,t,n){const r=e.remove,i=e.insert,o=e.toggle,s=e.modify,a=e.values,l=t.add(Tj()),c="if("+e.trigger+',modify("'+n+'",'+[i,r,o,s,a].map(f=>f??"null").join(",")+"),0)",u=Ph(c,t);l.update=u.$expr,l.params=u.$params}function H8(e,t){const n=Yqe(e),r=e.type===q8,i=e.from&&e.from.facet,o=e.overlap;let s=e.layout||n===yce||n===mce,a,l,c,u,f,d,h;const p=n===gce||s||i,g=Phn(e.from,r,t);l=t.add(ddn({key:g.key||(e.key?J2(e.key):void 0),pulse:g.pulse,clean:!r}));const y=kt(l);l=c=t.add(hd({pulse:y})),l=t.add(bdn({markdef:whn(e),interactive:Shn(e.interactive,t),clip:xhn(e.clip,t),context:{$context:!0},groups:t.lookup(),parent:t.signals.parent?t.signalRef("parent"):null,index:t.markpath(),pulse:kt(l)}));const v=kt(l);l=u=t.add(Mqe(Rqe(e.encode,e.type,n,e.style,t,{mod:!1,pulse:v}))),l.params.parent=t.encode(),e.transform&&e.transform.forEach(C=>{const $=Ece(C,t),E=$.metadata;(E.generates||E.changes)&&De("Mark transforms should not generate new data."),E.nomod||(u.params.mod=!0),$.params.pulse=kt(l),t.add(l=$)}),e.sort&&(l=t.add(kdn({sort:t.compareRef(e.sort),pulse:kt(l)})));const x=kt(l);(i||s)&&(s=t.add(jqe({layout:t.objectProperty(e.layout),legends:t.legends,mark:v,pulse:x})),d=kt(s));const m=t.add(Nqe({mark:v,pulse:d||x}));h=kt(m),r&&(p&&(a=t.operators,a.pop(),s&&a.pop()),t.pushState(x,d||h,y),i?Rhn(e,t,g):p?Ahn(e,t,g):t.parse(e),t.popState(),p&&(s&&a.push(s),a.push(m))),o&&(h=Dhn(o,h,t));const w=t.add(Lqe({pulse:h})),S=t.add(cO({pulse:kt(w)},void 0,t.parent()));e.name!=null&&(f=e.name,t.addData(f,new Sb(t,c,w,S)),e.on&&e.on.forEach(C=>{(C.insert||C.remove||C.toggle)&&De("Marks only support modify triggers."),Zqe(C,t,f)}))}function Dhn(e,t,n){const r=e.method,i=e.bound,o=e.separation,s={separation:Bo(o)?n.signalRef(o.signal):o,method:Bo(r)?n.signalRef(r.signal):r,pulse:t};if(e.order&&(s.sort=n.compareRef({field:e.order})),i){const a=i.tolerance;s.boundTolerance=Bo(a)?n.signalRef(a.signal):+a,s.boundScale=n.scaleRef(i.scale),s.boundOrient=i.orient}return kt(n.add(wdn(s)))}function Nhn(e,t){const n=t.config.legend,r=e.encode||{},i=nc(e,n),o=r.legend||{},s=o.name||void 0,a=o.interactive,l=o.style,c={};let u=0,f,d,h;wce.forEach(m=>e[m]?(c[m]=e[m],u=u||e[m]):0),u||De("Missing valid scale for legend.");const p=Mhn(e,t.scaleType(u)),g={title:e.title!=null,scales:c,type:p,vgrad:p!=="symbol"&&i.isVertical()},y=kt(t.add(hd(null,[g]))),v={enter:{x:{value:0},y:{value:0}}},x=kt(t.add(ydn(d={type:p,scale:t.scaleRef(u),count:t.objectProperty(i("tickCount")),limit:t.property(i("symbolLimit")),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)})));return p===DI?(h=[ahn(e,u,n,r.gradient),jwe(e,n,r.labels,x)],d.count=d.count||t.signalRef(`max(2,2*floor((${w1(i.gradientLength())})/100))`)):p===uG?h=[lhn(e,u,n,r.gradient,x),jwe(e,n,r.labels,x)]:(f=dhn(e,n),h=[fhn(e,n,r,x,w1(f.columns))],d.size=jhn(e,t,h[0].marks)),h=[tP({role:Dfn,from:y,encode:v,marks:h,layout:f,interactive:a})],g.title&&h.push(Ohn(e,n,r.title,y)),H8(tP({role:Rfn,from:y,encode:CC(Lhn(i,e,n),o,sA),marks:h,aria:i("aria"),description:i("description"),zindex:i("zindex"),name:s,interactive:a,style:l}),t)}function Mhn(e,t){let n=e.type||Lwe;return!e.type&&Ihn(e)===1&&(e.fill||e.stroke)&&(n=Sae(t)?DI:nZ(t)?uG:Lwe),n!==DI?n:nZ(t)?uG:DI}function Ihn(e){return wce.reduce((t,n)=>t+(e[n]?1:0),0)}function Lhn(e,t,n){const r={enter:{},update:{}};return Fs(r,{orient:e("orient"),offset:e("offset"),padding:e("padding"),titlePadding:e("titlePadding"),cornerRadius:e("cornerRadius"),fill:e("fillColor"),stroke:e("strokeColor"),strokeWidth:n.strokeWidth,strokeDash:n.strokeDash,x:e("legendX"),y:e("legendY"),format:t.format,formatType:t.formatType}),r}function jhn(e,t,n){const r=w1(Uwe("size",e,n)),i=w1(Uwe("strokeWidth",e,n)),o=w1(Fhn(n[1].encode,t,oA));return Ph(`max(ceil(sqrt(${r})+${i}),${o})`,t)}function Uwe(e,t,n){return t[e]?`scale("${t[e]}",datum)`:Uqe(e,n[0].encode)}function Fhn(e,t,n){return Uqe("fontSize",e)||ohn("fontSize",t,n)}const zhn=`item.orient==="${$C}"?-90:item.orient==="${EC}"?90:0`;function Qhn(e,t){e=at(e)?{text:e}:e;const n=nc(e,t.config.title),r=e.encode||{},i=r.group||{},o=i.name||void 0,s=i.interactive,a=i.style,l=[],c={},u=kt(t.add(hd(null,[c])));return l.push(Vhn(e,n,Bhn(e),u)),e.subtitle&&l.push(Uhn(e,n,r.subtitle,u)),H8(tP({role:Lfn,from:u,encode:Whn(n,i),marks:l,aria:n("aria"),description:n("description"),zindex:n("zindex"),name:o,interactive:s,style:a}),t)}function Bhn(e){const t=e.encode;return t&&t.title||ln({name:e.name,interactive:e.interactive,style:e.style},t)}function Whn(e,t){const n={enter:{},update:{}};return Fs(n,{orient:e("orient"),anchor:e("anchor"),align:{signal:_ce},angle:{signal:zhn},limit:e("limit"),frame:e("frame"),offset:e("offset")||0,padding:e("subtitlePadding")}),CC(n,t,sA)}function Vhn(e,t,n,r){const i={value:0},o=e.text,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Fs(s,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("color"),font:t("font"),fontSize:t("fontSize"),fontStyle:t("fontStyle"),fontWeight:t("fontWeight"),lineHeight:t("lineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Qc({type:uO,role:jfn,style:Zdn,from:r,encode:s},n)}function Uhn(e,t,n,r){const i={value:0},o=e.subtitle,s={enter:{opacity:i},update:{opacity:{value:1}},exit:{opacity:i}};return Fs(s,{text:o,align:{signal:"item.mark.group.align"},angle:{signal:"item.mark.group.angle"},limit:{signal:"item.mark.group.limit"},baseline:"top",dx:t("dx"),dy:t("dy"),fill:t("subtitleColor"),font:t("subtitleFont"),fontSize:t("subtitleFontSize"),fontStyle:t("subtitleFontStyle"),fontWeight:t("subtitleFontWeight"),lineHeight:t("subtitleLineHeight")},{align:t("align"),angle:t("angle"),baseline:t("baseline")}),Qc({type:uO,role:Ffn,style:Gdn,from:r,encode:s},n)}function qhn(e,t){const n=[];e.transform&&e.transform.forEach(r=>{n.push(Ece(r,t))}),e.on&&e.on.forEach(r=>{Zqe(r,t,e.name)}),t.addDataPipeline(e.name,Yhn(e,t,n))}function Yhn(e,t,n){const r=[];let i=null,o=!1,s=!1,a,l,c,u,f;for(e.values?Bo(e.values)||RI(e.format)?(r.push(qwe(t,e)),r.push(i=rv())):r.push(i=rv({$ingest:e.values,$format:e.format})):e.url?RI(e.url)||RI(e.format)?(r.push(qwe(t,e)),r.push(i=rv())):r.push(i=rv({$request:e.url,$format:e.format})):e.source&&(i=a=lt(e.source).map(d=>kt(t.getData(d).output)),r.push(null)),l=0,c=n.length;l<c;++l)u=n[l],f=u.metadata,!i&&!f.source&&r.push(i=rv()),r.push(u),f.generates&&(s=!0),f.modifies&&!s&&(o=!0),f.source?i=u:f.changes&&(i=null);return a&&(c=a.length-1,r[0]=$dn({derive:o,pulse:c?a:a[0]}),(o||c)&&r.splice(1,0,rv())),i||r.push(rv()),r.push(cO({})),r}function rv(e){const t=hd({},e);return t.metadata={source:!0},t}function qwe(e,t){return vdn({url:t.url?e.property(t.url):void 0,async:t.async?e.property(t.async):void 0,values:t.values?e.property(t.values):void 0,format:e.objectProperty(t.format)})}const Gqe=e=>e===f0||e===pd,Z8=(e,t,n)=>Bo(e)?Ghn(e.signal,t,n):e===$C||e===pd?t:n,as=(e,t,n)=>Bo(e)?Hhn(e.signal,t,n):Gqe(e)?t:n,Qf=(e,t,n)=>Bo(e)?Zhn(e.signal,t,n):Gqe(e)?n:t,Kqe=(e,t,n)=>Bo(e)?Khn(e.signal,t,n):e===pd?{value:t}:{value:n},Xhn=(e,t,n)=>Bo(e)?Jhn(e.signal,t,n):e===EC?{value:t}:{value:n},Hhn=(e,t,n)=>Jqe(`${e} === '${pd}' || ${e} === '${f0}'`,t,n),Zhn=(e,t,n)=>Jqe(`${e} !== '${pd}' && ${e} !== '${f0}'`,t,n),Ghn=(e,t,n)=>kce(`${e} === '${$C}' || ${e} === '${pd}'`,t,n),Khn=(e,t,n)=>kce(`${e} === '${pd}'`,t,n),Jhn=(e,t,n)=>kce(`${e} === '${EC}'`,t,n),Jqe=(e,t,n)=>(t=t!=null?ss(t):t,n=n!=null?ss(n):n,Ywe(t)&&Ywe(n)?(t=t?t.signal||Ge(t.value):null,n=n?n.signal||Ge(n.value):null,{signal:`${e} ? (${t}) : (${n})`}):[ln({test:e},t)].concat(n||[])),Ywe=e=>e==null||Object.keys(e).length===1,kce=(e,t,n)=>({signal:`${e} ? (${tw(t)}) : (${tw(n)})`}),epn=(e,t,n,r,i)=>({signal:(r!=null?`${e} === '${$C}' ? (${tw(r)}) : `:"")+(n!=null?`${e} === '${f0}' ? (${tw(n)}) : `:"")+(i!=null?`${e} === '${EC}' ? (${tw(i)}) : `:"")+(t!=null?`${e} === '${pd}' ? (${tw(t)}) : `:"")+"(null)"}),tw=e=>Bo(e)?e.signal:e==null?null:Ge(e),tpn=(e,t)=>t===0?0:Bo(e)?{signal:`(${e.signal}) * ${t}`}:{value:e*t},Iw=(e,t)=>{const n=e.signal;return n&&n.endsWith("(null)")?{signal:n.slice(0,-6)+t.signal}:e};function KO(e,t,n,r){let i;if(t&&Rt(t,e))return t[e];if(Rt(n,e))return n[e];if(e.startsWith("title")){switch(e){case"titleColor":i="fill";break;case"titleFont":case"titleFontSize":case"titleFontWeight":i=e[5].toLowerCase()+e.slice(6)}return r[xce][i]}else if(e.startsWith("label")){switch(e){case"labelColor":i="fill";break;case"labelFont":case"labelFontSize":i=e[5].toLowerCase()+e.slice(6)}return r[oA][i]}return null}function Xwe(e){const t={};for(const n of e)if(n)for(const r in n)t[r]=1;return Object.keys(t)}function npn(e,t){var n=t.config,r=n.style,i=n.axis,o=t.scaleType(e.scale)==="band"&&n.axisBand,s=e.orient,a,l,c;if(Bo(s)){const f=Xwe([n.axisX,n.axisY]),d=Xwe([n.axisTop,n.axisBottom,n.axisLeft,n.axisRight]);a={};for(c of f)a[c]=as(s,KO(c,n.axisX,i,r),KO(c,n.axisY,i,r));l={};for(c of d)l[c]=epn(s.signal,KO(c,n.axisTop,i,r),KO(c,n.axisBottom,i,r),KO(c,n.axisLeft,i,r),KO(c,n.axisRight,i,r))}else a=s===pd||s===f0?n.axisX:n.axisY,l=n["axis"+s[0].toUpperCase()+s.slice(1)];return a||l||o?ln({},i,a,l,o):i}function rpn(e,t,n,r){const i=nc(e,t),o=e.orient;let s,a;const l={enter:s={opacity:zn},update:a={opacity:Au},exit:{opacity:zn}};Fs(l,{stroke:i("domainColor"),strokeCap:i("domainCap"),strokeDash:i("domainDash"),strokeDashOffset:i("domainDashOffset"),strokeWidth:i("domainWidth"),strokeOpacity:i("domainOpacity")});const c=Hwe(e,0),u=Hwe(e,1);return s.x=a.x=as(o,c,zn),s.x2=a.x2=as(o,u),s.y=a.y=Qf(o,c,zn),s.y2=a.y2=Qf(o,u),Qc({type:Sce,role:$fn,from:r,encode:l},n)}function Hwe(e,t){return{scale:e.scale,range:t}}function ipn(e,t,n,r,i){const o=nc(e,t),s=e.orient,a=e.gridScale,l=Z8(s,1,-1),c=opn(e.offset,l);let u,f,d;const h={enter:u={opacity:zn},update:d={opacity:Au},exit:f={opacity:zn}};Fs(h,{stroke:o("gridColor"),strokeCap:o("gridCap"),strokeDash:o("gridDash"),strokeDashOffset:o("gridDashOffset"),strokeOpacity:o("gridOpacity"),strokeWidth:o("gridWidth")});const p={scale:e.scale,field:Ru,band:i.band,extra:i.extra,offset:i.offset,round:o("tickRound")},g=as(s,{signal:"height"},{signal:"width"}),y=a?{scale:a,range:0,mult:l,offset:c}:{value:0,offset:c},v=a?{scale:a,range:1,mult:l,offset:c}:ln(g,{mult:l,offset:c});return u.x=d.x=as(s,p,y),u.y=d.y=Qf(s,p,y),u.x2=d.x2=Qf(s,v),u.y2=d.y2=as(s,v),f.x=as(s,p),f.y=Qf(s,p),Qc({type:Sce,role:Efn,key:Ru,from:r,encode:h},n)}function opn(e,t){if(t!==1)if(!ut(e))e=Bo(t)?{signal:`(${t.signal}) * (${e||0})`}:t*(e||0);else{let n=e=ln({},e);for(;n.mult!=null;)if(ut(n.mult))n=n.mult=ln({},n.mult);else return n.mult=Bo(t)?{signal:`(${n.mult}) * (${t.signal})`}:n.mult*t,e;n.mult=t}return e}function spn(e,t,n,r,i,o){const s=nc(e,t),a=e.orient,l=Z8(a,-1,1);let c,u,f;const d={enter:c={opacity:zn},update:f={opacity:Au},exit:u={opacity:zn}};Fs(d,{stroke:s("tickColor"),strokeCap:s("tickCap"),strokeDash:s("tickDash"),strokeDashOffset:s("tickDashOffset"),strokeOpacity:s("tickOpacity"),strokeWidth:s("tickWidth")});const h=ss(i);h.mult=l;const p={scale:e.scale,field:Ru,band:o.band,extra:o.extra,offset:o.offset,round:s("tickRound")};return f.y=c.y=as(a,zn,p),f.y2=c.y2=as(a,h),u.x=as(a,p),f.x=c.x=Qf(a,zn,p),f.x2=c.x2=Qf(a,h),u.y=Qf(a,p),Qc({type:Sce,role:Tfn,key:Ru,from:r,encode:d},n)}function wV(e,t,n,r,i){return{signal:'flush(range("'+e+'"), scale("'+e+'", datum.value), '+t+","+n+","+r+","+i+")"}}function apn(e,t,n,r,i,o){const s=nc(e,t),a=e.orient,l=e.scale,c=Z8(a,-1,1),u=w1(s("labelFlush")),f=w1(s("labelFlushOffset")),d=s("labelAlign"),h=s("labelBaseline");let p=u===0||!!u,g;const y=ss(i);y.mult=c,y.offset=ss(s("labelPadding")||0),y.offset.mult=c;const v={scale:l,field:Ru,band:.5,offset:qqe(o.offset,s("labelOffset"))},x=as(a,p?wV(l,u,'"left"','"right"','"center"'):{value:"center"},Xhn(a,"left","right")),m=as(a,Kqe(a,"bottom","top"),p?wV(l,u,'"top"','"bottom"','"middle"'):{value:"middle"}),w=wV(l,u,`-(${f})`,f,0);p=p&&f;const S={opacity:zn,x:as(a,v,y),y:Qf(a,v,y)},C={enter:S,update:g={opacity:Au,text:{field:Oce},x:S.x,y:S.y,align:x,baseline:m},exit:{opacity:zn,x:S.x,y:S.y}};Fs(C,{dx:!d&&p?as(a,w):null,dy:!h&&p?Qf(a,w):null}),Fs(C,{angle:s("labelAngle"),fill:s("labelColor"),fillOpacity:s("labelOpacity"),font:s("labelFont"),fontSize:s("labelFontSize"),fontWeight:s("labelFontWeight"),fontStyle:s("labelFontStyle"),limit:s("labelLimit"),lineHeight:s("labelLineHeight")},{align:d,baseline:h});const $=s("labelBound");let E=s("labelOverlap");return E=E||$?{separation:s("labelSeparation"),method:E,order:"datum.index",bound:$?{scale:l,orient:a,tolerance:$}:null}:void 0,g.align!==x&&(g.align=Iw(g.align,x)),g.baseline!==m&&(g.baseline=Iw(g.baseline,m)),Qc({type:uO,role:kfn,style:oA,key:Ru,from:r,encode:C,overlap:E},n)}function lpn(e,t,n,r){const i=nc(e,t),o=e.orient,s=Z8(o,-1,1);let a,l;const c={enter:a={opacity:zn,anchor:ss(i("titleAnchor",null)),align:{signal:_ce}},update:l=ln({},a,{opacity:Au,text:ss(e.title)}),exit:{opacity:zn}},u={signal:`lerp(range("${e.scale}"), ${Y8(0,1,.5)})`};return l.x=as(o,u),l.y=Qf(o,u),a.angle=as(o,zn,tpn(s,90)),a.baseline=as(o,Kqe(o,f0,pd),{value:f0}),l.angle=a.angle,l.baseline=a.baseline,Fs(c,{fill:i("titleColor"),fillOpacity:i("titleOpacity"),font:i("titleFont"),fontSize:i("titleFontSize"),fontStyle:i("titleFontStyle"),fontWeight:i("titleFontWeight"),limit:i("titleLimit"),lineHeight:i("titleLineHeight")},{align:i("titleAlign"),angle:i("titleAngle"),baseline:i("titleBaseline")}),cpn(i,o,c,n),c.update.align=Iw(c.update.align,a.align),c.update.angle=Iw(c.update.angle,a.angle),c.update.baseline=Iw(c.update.baseline,a.baseline),Qc({type:uO,role:Pfn,style:xce,from:r,encode:c},n)}function cpn(e,t,n,r){const i=(a,l)=>a!=null?(n.update[l]=Iw(ss(a),n.update[l]),!1):!$x(l,r),o=i(e("titleX"),"x"),s=i(e("titleY"),"y");n.enter.auto=s===o?ss(s):as(t,ss(s),ss(o))}function upn(e,t){const n=npn(e,t),r=e.encode||{},i=r.axis||{},o=i.name||void 0,s=i.interactive,a=i.style,l=nc(e,n),c=shn(l),u={scale:e.scale,ticks:!!l("ticks"),labels:!!l("labels"),grid:!!l("grid"),domain:!!l("domain"),title:e.title!=null},f=kt(t.add(hd({},[u]))),d=kt(t.add(fdn({scale:t.scaleRef(e.scale),extra:t.property(c.extra),count:t.objectProperty(e.tickCount),values:t.objectProperty(e.values),minstep:t.property(e.tickMinStep),formatType:t.property(e.formatType),formatSpecifier:t.property(e.format)}))),h=[];let p;return u.grid&&h.push(ipn(e,n,r.grid,d,c)),u.ticks&&(p=l("tickSize"),h.push(spn(e,n,r.ticks,d,p,c))),u.labels&&(p=u.ticks?p:0,h.push(apn(e,n,r.labels,d,p,c))),u.domain&&h.push(rpn(e,n,r.domain,f)),u.title&&h.push(lpn(e,n,r.title,f)),H8(tP({role:Cfn,from:f,encode:CC(fpn(l,e),i,sA),marks:h,aria:l("aria"),description:l("description"),zindex:l("zindex"),name:o,interactive:s,style:a}),t)}function fpn(e,t){const n={enter:{},update:{}};return Fs(n,{orient:e("orient"),offset:e("offset")||0,position:hf(t.position,0),titlePadding:e("titlePadding"),minExtent:e("minExtent"),maxExtent:e("maxExtent"),range:{signal:`abs(span(range("${t.scale}")))`},translate:e("translate"),format:t.format,formatType:t.formatType}),n}function eYe(e,t,n){const r=lt(e.signals),i=lt(e.scales);return n||r.forEach(o=>Aqe(o,t)),lt(e.projections).forEach(o=>Wdn(o,t)),i.forEach(o=>Rdn(o,t)),lt(e.data).forEach(o=>qhn(o,t)),i.forEach(o=>Adn(o,t)),(n||r).forEach(o=>udn(o,t)),lt(e.axes).forEach(o=>upn(o,t)),lt(e.marks).forEach(o=>H8(o,t)),lt(e.legends).forEach(o=>Nhn(o,t)),e.title&&Qhn(e.title,t),t.parseLambdas(),t}const dpn=e=>CC({enter:{x:{value:0},y:{value:0}},update:{width:{signal:"width"},height:{signal:"height"}}},e);function hpn(e,t){const n=t.config,r=kt(t.root=t.add(Tj())),i=ppn(e,n);i.forEach(c=>Aqe(c,t)),t.description=e.description||n.description,t.eventConfig=n.events,t.legends=t.objectProperty(n.legend&&n.legend.layout),t.locale=n.locale;const o=t.add(hd()),s=t.add(Mqe(Rqe(dpn(e.encode),q8,mce,e.style,t,{pulse:kt(o)}))),a=t.add(jqe({layout:t.objectProperty(e.layout),legends:t.legends,autosize:t.signalRef("autosize"),mark:r,pulse:kt(s)}));t.operators.pop(),t.pushState(kt(s),kt(a),null),eYe(e,t,i),t.operators.push(a);let l=t.add(Nqe({mark:r,pulse:kt(a)}));return l=t.add(Lqe({pulse:kt(l)})),l=t.add(cO({pulse:kt(l)})),t.addData("root",new Sb(t,o,o,l)),t}function M$(e,t){return t&&t.signal?{name:e,update:t.signal}:{name:e,value:t}}function ppn(e,t){const n=s=>hf(e[s],t[s]),r=[M$("background",n("background")),M$("autosize",wfn(n("autosize"))),M$("padding",_fn(n("padding"))),M$("width",n("width")||0),M$("height",n("height")||0)],i=r.reduce((s,a)=>(s[a.name]=a,s),{}),o={};return lt(e.signals).forEach(s=>{Rt(i,s.name)?s=ln(i[s.name],s):r.push(s),o[s.name]=s}),lt(t.signals).forEach(s=>{!Rt(o,s.name)&&!Rt(i,s.name)&&r.push(s)}),r}function tYe(e,t){this.config=e||{},this.options=t||{},this.bindings=[],this.field={},this.signals={},this.lambdas={},this.scales={},this.events={},this.data={},this.streams=[],this.updates=[],this.operators=[],this.eventConfig=null,this.locale=null,this._id=0,this._subid=0,this._nextsub=[0],this._parent=[],this._encode=[],this._lookup=[],this._markpath=[]}function Zwe(e){this.config=e.config,this.options=e.options,this.legends=e.legends,this.field=Object.create(e.field),this.signals=Object.create(e.signals),this.lambdas=Object.create(e.lambdas),this.scales=Object.create(e.scales),this.events=Object.create(e.events),this.data=Object.create(e.data),this.streams=[],this.updates=[],this.operators=[],this._id=0,this._subid=++e._nextsub[0],this._nextsub=e._nextsub,this._parent=e._parent.slice(),this._encode=e._encode.slice(),this._lookup=e._lookup.slice(),this._markpath=e._markpath}tYe.prototype=Zwe.prototype={parse(e){return eYe(e,this)},fork(){return new Zwe(this)},isSubscope(){return this._subid>0},toRuntime(){return this.finish(),{description:this.description,operators:this.operators,streams:this.streams,updates:this.updates,bindings:this.bindings,eventConfig:this.eventConfig,locale:this.locale}},id(){return(this._subid?this._subid+":":0)+this._id++},add(e){return this.operators.push(e),e.id=this.id(),e.refs&&(e.refs.forEach(t=>{t.$ref=e.id}),e.refs=null),e},proxy(e){const t=e instanceof oG?kt(e):e;return this.add(Cdn({value:t}))},addStream(e){return this.streams.push(e),e.id=this.id(),e},addUpdate(e){return this.updates.push(e),e},finish(){let e,t;this.root&&(this.root.root=!0);for(e in this.signals)this.signals[e].signal=e;for(e in this.scales)this.scales[e].scale=e;function n(r,i,o){let s,a;r&&(s=r.data||(r.data={}),a=s[i]||(s[i]=[]),a.push(o))}for(e in this.data){t=this.data[e],n(t.input,e,"input"),n(t.output,e,"output"),n(t.values,e,"values");for(const r in t.index)n(t.index[r],e,"index:"+r)}return this},pushState(e,t,n){this._encode.push(kt(this.add(cO({pulse:e})))),this._parent.push(t),this._lookup.push(n?kt(this.proxy(n)):null),this._markpath.push(-1)},popState(){this._encode.pop(),this._parent.pop(),this._lookup.pop(),this._markpath.pop()},parent(){return In(this._parent)},encode(){return In(this._encode)},lookup(){return In(this._lookup)},markpath(){const e=this._markpath;return++e[e.length-1]},fieldRef(e,t){if(at(e))return J2(e,t);e.signal||De("Unsupported field reference: "+Ge(e));const n=e.signal;let r=this.field[n];if(!r){const i={name:this.signalRef(n)};t&&(i.as=t),this.field[n]=r=kt(this.add(gdn(i)))}return r},compareRef(e){let t=!1;const n=o=>Bo(o)?(t=!0,this.signalRef(o.signal)):edn(o)?(t=!0,this.exprRef(o.expr)):o,r=lt(e.field).map(n),i=lt(e.order).map(n);return t?kt(this.add(Iwe({fields:r,orders:i}))):Nwe(r,i)},keyRef(e,t){let n=!1;const r=o=>Bo(o)?(n=!0,kt(i[o.signal])):o,i=this.signals;return e=lt(e).map(r),n?kt(this.add(mdn({fields:e,flat:t}))):Zfn(e,t)},sortRef(e){if(!e)return e;const t=V8(e.op,e.field),n=e.order||Gfn;return n.signal?kt(this.add(Iwe({fields:t,orders:this.signalRef(n.signal)}))):Nwe(t,n)},event(e,t){const n=e+":"+t;if(!this.events[n]){const r=this.id();this.streams.push({id:r,source:e,type:t}),this.events[n]=r}return this.events[n]},hasOwnSignal(e){return Rt(this.signals,e)},addSignal(e,t){this.hasOwnSignal(e)&&De("Duplicate signal name: "+Ge(e));const n=t instanceof oG?t:this.add(Tj(t));return this.signals[e]=n},getSignal(e){return this.signals[e]||De("Unrecognized signal name: "+Ge(e)),this.signals[e]},signalRef(e){return this.signals[e]?kt(this.signals[e]):(Rt(this.lambdas,e)||(this.lambdas[e]=this.add(Tj(null))),kt(this.lambdas[e]))},parseLambdas(){const e=Object.keys(this.lambdas);for(let t=0,n=e.length;t<n;++t){const r=e[t],i=Ph(r,this),o=this.lambdas[r];o.params=i.$params,o.update=i.$expr}},property(e){return e&&e.signal?this.signalRef(e.signal):e},objectProperty(e){return!e||!ut(e)?e:this.signalRef(e.signal||Tce(e))},exprRef(e,t){const n={expr:Ph(e,this)};return t&&(n.expr.$name=t),kt(this.add(hdn(n)))},addBinding(e,t){this.bindings||De("Nested signals do not support binding: "+Ge(e)),this.bindings.push(ln({signal:e},t))},addScaleProj(e,t){Rt(this.scales,e)&&De("Duplicate scale or projection name: "+Ge(e)),this.scales[e]=this.add(t)},addScale(e,t){this.addScaleProj(e,Edn(t))},addProjection(e,t){this.addScaleProj(e,_dn(t))},getScale(e){return this.scales[e]||De("Unrecognized scale name: "+Ge(e)),this.scales[e]},scaleRef(e){return kt(this.getScale(e))},scaleType(e){return this.getScale(e).params.type},projectionRef(e){return this.scaleRef(e)},projectionType(e){return this.scaleType(e)},addData(e,t){return Rt(this.data,e)&&De("Duplicate data set name: "+Ge(e)),this.data[e]=t},getData(e){return this.data[e]||De("Undefined data set name: "+Ge(e)),this.data[e]},addDataPipeline(e,t){return Rt(this.data,e)&&De("Duplicate data set name: "+Ge(e)),this.addData(e,Sb.fromEntries(this,t))}};function Tce(e){return(Me(e)?gpn:mpn)(e)}function gpn(e){const t=e.length;let n="[";for(let r=0;r<t;++r){const i=e[r];n+=(r>0?",":"")+(ut(i)?i.signal||Tce(i):Ge(i))}return n+"]"}function mpn(e){let t="{",n=0,r,i;for(r in e)i=e[r],t+=(++n>1?",":"")+Ge(r)+":"+(ut(i)?i.signal||Tce(i):Ge(i));return t+"}"}function ypn(){const e="sans-serif",r="#4c78a8",i="#000",o="#888",s="#ddd";return{description:"Vega visualization",padding:0,autosize:"pad",background:null,events:{defaults:{allow:["wheel"]}},group:null,mark:null,arc:{fill:r},area:{fill:r},image:null,line:{stroke:r,strokeWidth:2},path:{stroke:r},rect:{fill:r},rule:{stroke:i},shape:{stroke:r},symbol:{fill:r,size:64},text:{fill:i,font:e,fontSize:11},trail:{fill:r,size:2},style:{"guide-label":{fill:i,font:e,fontSize:10},"guide-title":{fill:i,font:e,fontSize:11,fontWeight:"bold"},"group-title":{fill:i,font:e,fontSize:13,fontWeight:"bold"},"group-subtitle":{fill:i,font:e,fontSize:12},point:{size:30,strokeWidth:2,shape:"circle"},circle:{size:30,strokeWidth:2},square:{size:30,strokeWidth:2,shape:"square"},cell:{fill:"transparent",stroke:s},view:{fill:"transparent"}},title:{orient:"top",anchor:"middle",offset:4,subtitlePadding:3},axis:{minExtent:0,maxExtent:200,bandPosition:.5,domain:!0,domainWidth:1,domainColor:o,grid:!1,gridWidth:1,gridColor:s,labels:!0,labelAngle:0,labelLimit:180,labelOffset:0,labelPadding:2,ticks:!0,tickColor:o,tickOffset:0,tickRound:!0,tickSize:5,tickWidth:1,titlePadding:4},axisBand:{tickOffset:-.5},projection:{type:"mercator"},legend:{orient:"right",padding:0,gridAlign:"each",columnPadding:10,rowPadding:2,symbolDirection:"vertical",gradientDirection:"vertical",gradientLength:200,gradientThickness:16,gradientStrokeColor:s,gradientStrokeWidth:0,gradientLabelOffset:2,labelAlign:"left",labelBaseline:"middle",labelLimit:160,labelOffset:4,labelOverlap:!0,symbolLimit:30,symbolType:"circle",symbolSize:100,symbolOffset:0,symbolStrokeWidth:1.5,symbolBaseFillColor:"transparent",symbolBaseStrokeColor:o,titleLimit:180,titleOrient:"top",titlePadding:5,layout:{offset:18,direction:"horizontal",left:{direction:"vertical"},right:{direction:"vertical"}}},range:{category:{scheme:"tableau10"},ordinal:{scheme:"blues"},heatmap:{scheme:"yellowgreenblue"},ramp:{scheme:"blues"},diverging:{scheme:"blueorange",extent:[1,0]},symbol:["circle","square","triangle-up","cross","diamond","triangle-right","triangle-down","triangle-left"]}}}function vpn(e,t,n){return ut(e)||De("Input Vega specification must be an object."),t=iC(ypn(),t,e.config),hpn(e,new tYe(t,n)).toRuntime()}var bpn="5.25.0";ln(AS,_Zt,Qtn,bnn,oin,Jin,$sn,osn,ksn,Gsn,aan,pan);const Opn=Object.freeze(Object.defineProperty({__proto__:null,Bounds:bo,CanvasHandler:HR,CanvasRenderer:WL,DATE:Wl,DAY:da,DAYOFYEAR:Eh,Dataflow:Aw,Debug:YFe,Error:mie,EventStream:Z7,Gradient:JBe,GroupItem:b8,HOURS:Lc,Handler:c0,Info:qFe,Item:v8,MILLISECONDS:nd,MINUTES:jc,MONTH:va,Marks:zc,MultiPulse:ase,None:UFe,Operator:Nr,Parameters:H7,Pulse:Sy,QUARTER:Bl,RenderType:Gm,Renderer:Hh,ResourceLoader:Aae,SECONDS:ju,SVGHandler:Zae,SVGRenderer:nle,SVGStringRenderer:rle,Scenegraph:Xae,TIME_UNITS:Rie,Transform:Pe,View:bqe,WEEK:Fo,Warn:yie,YEAR:Ms,accessor:ec,accessorFields:ya,accessorName:Vi,array:lt,ascending:r7,bandwidthNRD:fse,bin:j9e,bootstrapCI:F9e,boundClip:YWe,boundContext:UR,boundItem:cZ,boundMark:vWe,boundStroke:Ig,changeset:oO,clampRange:i4e,codegenExpression:YUe,compare:wie,constant:Ea,cumulativeLogNormal:yse,cumulativeNormal:K7,cumulativeUniform:xse,dayofyear:M4e,debounce:Sie,defaultLocale:Iie,definition:M9e,densityLogNormal:mse,densityNormal:dse,densityUniform:Ose,domChild:wl,domClear:Of,domCreate:Hm,domFind:Hae,dotbin:z9e,error:De,expressionFunction:xo,extend:ln,extent:_h,extentIndex:o4e,falsy:hm,fastmap:sC,field:Ql,flush:s4e,font:_8,fontFamily:XR,fontSize:Xh,format:oI,formatLocale:I3,formats:Fie,hasOwnProperty:Rt,id:gR,identity:$a,inferType:p6e,inferTypes:g6e,ingest:sr,inherits:Ke,inrange:Ux,interpolate:_ae,interpolateColors:m8,interpolateRange:FBe,intersect:WWe,intersectBoxLine:Gx,intersectPath:Dae,intersectPoint:Nae,intersectRule:aWe,isArray:Me,isBoolean:M0,isDate:yy,isFunction:cn,isIterable:a4e,isNumber:Un,isObject:ut,isRegExp:l4e,isString:at,isTuple:Y7,key:_ie,lerp:c4e,lineHeight:a0,loader:bR,locale:d6e,logger:vie,lruCache:u4e,markup:tle,merge:f4e,mergeConfig:iC,multiLineOffset:Uae,one:rC,pad:d4e,panLinear:KFe,panLog:JFe,panPow:e4e,panSymlog:t4e,parse:vpn,parseExpression:nce,parseSelector:V0,path:r8,pathCurves:Tae,pathEqual:XWe,pathParse:jS,pathRectangle:nWe,pathRender:z2,pathSymbols:tWe,pathTrail:rWe,peek:In,point:$8,projection:wle,quantileLogNormal:vse,quantileNormal:J7,quantileUniform:wse,quantiles:cse,quantizeInterpolator:zBe,quarter:n4e,quartiles:use,get random(){return Qu},randomInteger:kHt,randomKDE:pse,randomLCG:EHt,randomLogNormal:B9e,randomMixture:W9e,randomNormal:hse,randomUniform:V9e,read:j3,regressionConstant:Sse,regressionExp:q9e,regressionLinear:_se,regressionLoess:H9e,regressionLog:U9e,regressionPoly:X9e,regressionPow:Y9e,regressionQuad:Cse,renderModule:E8,repeat:gE,resetDefaultLocale:S6t,resetSVGClipId:oWe,resetSVGDefIds:otn,responseType:y6e,runtimeContext:sqe,sampleCurve:t8,sampleLogNormal:gse,sampleNormal:G7,sampleUniform:bse,scale:Kn,sceneEqual:ile,sceneFromJSON:OWe,scenePickVisit:LL,sceneToJSON:bWe,sceneVisit:od,sceneZOrder:Mae,scheme:Cae,serializeXML:MWe,setRandom:CHt,span:mR,splitAccessPath:Uh,stringValue:Ge,textMetrics:zf,timeBin:K4e,timeFloor:B4e,timeFormatLocale:w2,timeInterval:cC,timeOffset:U4e,timeSequence:X4e,timeUnitSpecifier:N4e,timeUnits:Aie,toBoolean:Cie,toDate:$ie,toNumber:pa,toSet:td,toString:Eie,transform:I9e,transforms:AS,truncate:h4e,truthy:Lu,tupleid:Tt,typeParsers:L3,utcFloor:W4e,utcInterval:uC,utcOffset:q4e,utcSequence:H4e,utcdayofyear:j4e,utcquarter:r4e,utcweek:F4e,version:bpn,visitArray:wm,week:I4e,writeConfig:oC,zero:Am,zoomLinear:bie,zoomLog:Oie,zoomPow:T3,zoomSymlog:xie},Symbol.toStringTag,{value:"Module"}));function xpn(e,t,n){let r;t.x2&&(t.x?(n&&e.x>e.x2&&(r=e.x,e.x=e.x2,e.x2=r),e.width=e.x2-e.x):e.x=e.x2-(e.width||0)),t.xc&&(e.x=e.xc-(e.width||0)/2),t.y2&&(t.y?(n&&e.y>e.y2&&(r=e.y,e.y=e.y2,e.y2=r),e.height=e.y2-e.y):e.y=e.y2-(e.height||0)),t.yc&&(e.y=e.yc-(e.height||0)/2)}var wpn={NaN:NaN,E:Math.E,LN2:Math.LN2,LN10:Math.LN10,LOG2E:Math.LOG2E,LOG10E:Math.LOG10E,PI:Math.PI,SQRT1_2:Math.SQRT1_2,SQRT2:Math.SQRT2,MIN_VALUE:Number.MIN_VALUE,MAX_VALUE:Number.MAX_VALUE},Spn={"*":(e,t)=>e*t,"+":(e,t)=>e+t,"-":(e,t)=>e-t,"/":(e,t)=>e/t,"%":(e,t)=>e%t,">":(e,t)=>e>t,"<":(e,t)=>e<t,"<=":(e,t)=>e<=t,">=":(e,t)=>e>=t,"==":(e,t)=>e==t,"!=":(e,t)=>e!=t,"===":(e,t)=>e===t,"!==":(e,t)=>e!==t,"&":(e,t)=>e&t,"|":(e,t)=>e|t,"^":(e,t)=>e^t,"<<":(e,t)=>e<<t,">>":(e,t)=>e>>t,">>>":(e,t)=>e>>>t},_pn={"+":e=>+e,"-":e=>-e,"~":e=>~e,"!":e=>!e};const Cpn=Array.prototype.slice,iv=(e,t,n)=>{const r=n?n(t[0]):t[0];return r[e].apply(r,Cpn.call(t,1))},$pn=(e,t,n,r,i,o,s)=>new Date(e,t||0,n??1,r||0,i||0,o||0,s||0);var Epn={isNaN:Number.isNaN,isFinite:Number.isFinite,abs:Math.abs,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,cos:Math.cos,exp:Math.exp,floor:Math.floor,log:Math.log,max:Math.max,min:Math.min,pow:Math.pow,random:Math.random,round:Math.round,sin:Math.sin,sqrt:Math.sqrt,tan:Math.tan,clamp:(e,t,n)=>Math.max(t,Math.min(n,e)),now:Date.now,utc:Date.UTC,datetime:$pn,date:e=>new Date(e).getDate(),day:e=>new Date(e).getDay(),year:e=>new Date(e).getFullYear(),month:e=>new Date(e).getMonth(),hours:e=>new Date(e).getHours(),minutes:e=>new Date(e).getMinutes(),seconds:e=>new Date(e).getSeconds(),milliseconds:e=>new Date(e).getMilliseconds(),time:e=>new Date(e).getTime(),timezoneoffset:e=>new Date(e).getTimezoneOffset(),utcdate:e=>new Date(e).getUTCDate(),utcday:e=>new Date(e).getUTCDay(),utcyear:e=>new Date(e).getUTCFullYear(),utcmonth:e=>new Date(e).getUTCMonth(),utchours:e=>new Date(e).getUTCHours(),utcminutes:e=>new Date(e).getUTCMinutes(),utcseconds:e=>new Date(e).getUTCSeconds(),utcmilliseconds:e=>new Date(e).getUTCMilliseconds(),length:e=>e.length,join:function(){return iv("join",arguments)},indexof:function(){return iv("indexOf",arguments)},lastindexof:function(){return iv("lastIndexOf",arguments)},slice:function(){return iv("slice",arguments)},reverse:e=>e.slice().reverse(),parseFloat,parseInt,upper:e=>String(e).toUpperCase(),lower:e=>String(e).toLowerCase(),substring:function(){return iv("substring",arguments,String)},split:function(){return iv("split",arguments,String)},replace:function(){return iv("replace",arguments,String)},trim:e=>String(e).trim(),regexp:RegExp,test:(e,t)=>RegExp(e).test(t)};const kpn=["view","item","group","xy","x","y"],dG=new Set([Function,eval,setTimeout,setInterval]);typeof setImmediate=="function"&&dG.add(setImmediate);const Tpn={Literal:(e,t)=>t.value,Identifier:(e,t)=>{const n=t.name;return e.memberDepth>0?n:n==="datum"?e.datum:n==="event"?e.event:n==="item"?e.item:wpn[n]||e.params["$"+n]},MemberExpression:(e,t)=>{const n=!t.computed,r=e(t.object);n&&(e.memberDepth+=1);const i=e(t.property);if(n&&(e.memberDepth-=1),dG.has(r[i])){console.error(`Prevented interpretation of member "${i}" which could lead to insecure code execution`);return}return r[i]},CallExpression:(e,t)=>{const n=t.arguments;let r=t.callee.name;return r.startsWith("_")&&(r=r.slice(1)),r==="if"?e(n[0])?e(n[1]):e(n[2]):(e.fn[r]||Epn[r]).apply(e.fn,n.map(e))},ArrayExpression:(e,t)=>t.elements.map(e),BinaryExpression:(e,t)=>Spn[t.operator](e(t.left),e(t.right)),UnaryExpression:(e,t)=>_pn[t.operator](e(t.argument)),ConditionalExpression:(e,t)=>e(t.test)?e(t.consequent):e(t.alternate),LogicalExpression:(e,t)=>t.operator==="&&"?e(t.left)&&e(t.right):e(t.left)||e(t.right),ObjectExpression:(e,t)=>t.properties.reduce((n,r)=>{e.memberDepth+=1;const i=e(r.key);return e.memberDepth-=1,dG.has(e(r.value))?console.error(`Prevented interpretation of property "${i}" which could lead to insecure code execution`):n[i]=e(r.value),n},{})};function I$(e,t,n,r,i,o){const s=a=>Tpn[a.type](s,a);return s.memberDepth=0,s.fn=Object.create(t),s.params=n,s.datum=r,s.event=i,s.item=o,kpn.forEach(a=>s.fn[a]=function(){return i.vega[a](...arguments)}),s(e)}var Ppn={operator(e,t){const n=t.ast,r=e.functions;return i=>I$(n,r,i)},parameter(e,t){const n=t.ast,r=e.functions;return(i,o)=>I$(n,r,o,i)},event(e,t){const n=t.ast,r=e.functions;return i=>I$(n,r,void 0,void 0,i)},handler(e,t){const n=t.ast,r=e.functions;return(i,o)=>{const s=o.item&&o.item.datum;return I$(n,r,i,s,o)}},encode(e,t){const{marktype:n,channels:r}=t,i=e.functions,o=n==="group"||n==="image"||n==="rect";return(s,a)=>{const l=s.datum;let c=0,u;for(const f in r)u=I$(r[f].ast,i,a,l,void 0,s),s[f]!==u&&(s[f]=u,c=1);return n!=="rule"&&xpn(s,r,o),c}}};const Rpn="vega-lite",Apn='Dominik Moritz, Kanit "Ham" Wongsuphasawat, Arvind Satyanarayan, Jeffrey Heer',Dpn="5.16.3",Npn=["Kanit Wongsuphasawat (http://kanitw.yellowpigz.com)","Dominik Moritz (https://www.domoritz.de)","Arvind Satyanarayan (https://arvindsatya.com)","Jeffrey Heer (https://jheer.org)"],Mpn="https://vega.github.io/vega-lite/",Ipn="Vega-Lite is a concise high-level language for interactive visualization.",Lpn=["vega","chart","visualization"],jpn="build/vega-lite.js",Fpn="build/vega-lite.min.js",zpn="build/vega-lite.min.js",Qpn="build/src/index",Bpn="build/src/index.d.ts",Wpn={vl2pdf:"./bin/vl2pdf",vl2png:"./bin/vl2png",vl2svg:"./bin/vl2svg",vl2vg:"./bin/vl2vg"},Vpn=["bin","build","src","vega-lite*","tsconfig.json"],Upn={changelog:"conventional-changelog -p angular -r 2",prebuild:"yarn clean:build",build:"yarn build:only","build:only":"tsc -p tsconfig.build.json && rollup -c","prebuild:examples":"yarn build:only","build:examples":"yarn data && TZ=America/Los_Angeles scripts/build-examples.sh","prebuild:examples-full":"yarn build:only","build:examples-full":"TZ=America/Los_Angeles scripts/build-examples.sh 1","build:example":"TZ=America/Los_Angeles scripts/build-example.sh","build:toc":"yarn build:jekyll && scripts/generate-toc","build:site":"rollup -c site/rollup.config.mjs","build:jekyll":"pushd site && bundle exec jekyll build -q && popd","build:versions":"scripts/update-version.sh",clean:"yarn clean:build && del-cli 'site/data/*' 'examples/compiled/*.png' && find site/examples ! -name 'index.md' ! -name 'data' -type f -delete","clean:build":"del-cli 'build/*' !build/vega-lite-schema.json",data:"rsync -r node_modules/vega-datasets/data/* site/data",schema:"mkdir -p build && ts-json-schema-generator -f tsconfig.json -p src/index.ts -t TopLevelSpec --no-type-check --no-ref-encode > build/vega-lite-schema.json && yarn renameschema && cp build/vega-lite-schema.json site/_data/",renameschema:"scripts/rename-schema.sh",presite:"yarn data && yarn schema && yarn build:site && yarn build:versions && scripts/create-example-pages.sh",site:"yarn site:only","site:only":"pushd site && bundle exec jekyll serve -I -l && popd",prettierbase:"prettier '**/*.{md,css,yml}'",format:"eslint . --fix && yarn prettierbase --write",lint:"eslint . && yarn prettierbase --check",jest:"NODE_OPTIONS=--experimental-vm-modules npx jest",test:"yarn jest test/ && yarn lint && yarn schema && yarn jest examples/ && yarn test:runtime","test:cover":"yarn jest --collectCoverage test/","test:inspect":"node --inspect-brk --experimental-vm-modules ./node_modules/.bin/jest --runInBand test","test:runtime":"NODE_OPTIONS=--experimental-vm-modules TZ=America/Los_Angeles npx jest test-runtime/ --config test-runtime/jest-config.json","test:runtime:generate":"yarn build:only && del-cli test-runtime/resources && VL_GENERATE_TESTS=true yarn test:runtime",watch:"tsc -p tsconfig.build.json -w","watch:site":"yarn build:site -w","watch:test":"yarn jest --watch test/","watch:test:runtime":"NODE_OPTIONS=--experimental-vm-modules TZ=America/Los_Angeles npx jest --watch test-runtime/ --config test-runtime/jest-config.json",release:"release-it"},qpn={type:"git",url:"https://github.com/vega/vega-lite.git"},Ypn="BSD-3-Clause",Xpn={url:"https://github.com/vega/vega-lite/issues"},Hpn={"@babel/core":"^7.22.10","@babel/plugin-proposal-class-properties":"^7.18.6","@babel/preset-env":"^7.22.10","@babel/preset-typescript":"^7.22.5","@release-it/conventional-changelog":"^7.0.0","@rollup/plugin-alias":"^5.0.0","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^25.0.4","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.2.1","@rollup/plugin-terser":"^0.4.3","@types/chai":"^4.3.5","@types/d3":"^7.4.0","@types/jest":"^29.5.4","@types/pako":"^2.0.0","@typescript-eslint/eslint-plugin":"^6.4.1","@typescript-eslint/parser":"^6.4.1",ajv:"^8.12.0","ajv-formats":"^2.1.1",chai:"^4.3.7",cheerio:"^1.0.0-rc.12","conventional-changelog-cli":"^4.0.0",d3:"^7.8.5","del-cli":"^5.0.0",eslint:"^8.47.0","eslint-config-prettier":"^9.0.0","eslint-plugin-jest":"^27.2.3","eslint-plugin-prettier":"^5.0.0","fast-json-stable-stringify":"~2.1.0","highlight.js":"^11.8.0",jest:"^29.6.3","jest-dev-server":"^9.0.0",mkdirp:"^3.0.1",pako:"^2.1.0",prettier:"^3.0.2",puppeteer:"^15.0.0","release-it":"^16.1.5",rollup:"^3.28.1","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-sourcemaps":"^0.6.3",serve:"^14.2.1",terser:"^5.19.2","ts-jest":"^29.1.1","ts-json-schema-generator":"^1.3.0",typescript:"~5.2.2","vega-cli":"^5.25.0","vega-datasets":"^2.7.0","vega-embed":"^6.22.2","vega-tooltip":"^0.33.0","yaml-front-matter":"^4.1.1"},Zpn={"json-stringify-pretty-compact":"~3.0.0",tslib:"~2.6.2","vega-event-selector":"~3.0.1","vega-expression":"~5.1.0","vega-util":"~1.17.2",yargs:"~17.7.2"},Gpn={vega:"^5.24.0"},Kpn={node:">=18"},Jpn={name:Rpn,author:Apn,version:Dpn,collaborators:Npn,homepage:Mpn,description:Ipn,keywords:Lpn,main:jpn,unpkg:Fpn,jsdelivr:zpn,module:Qpn,types:Bpn,bin:Wpn,files:Vpn,scripts:Upn,repository:qpn,license:Ypn,bugs:Xpn,devDependencies:Hpn,dependencies:Zpn,peerDependencies:Gpn,engines:Kpn},Jp="row",eg="column",G8="facet",vi="x",gs="y",gd="x2",Kh="y2",U0="xOffset",kC="yOffset",md="radius",Fg="radius2",Hu="theta",zg="theta2",yd="latitude",vd="longitude",bd="latitude2",Wu="longitude2",Ul="color",Jh="fill",ep="stroke",ql="shape",Qg="size",fO="angle",Bg="opacity",q0="fillOpacity",Y0="strokeOpacity",X0="strokeWidth",H0="strokeDash",aA="text",XS="order",lA="detail",K8="key",_b="tooltip",J8="href",ez="url",tz="description",egn={x:1,y:1,x2:1,y2:1},nYe={theta:1,theta2:1,radius:1,radius2:1};function rYe(e){return e in nYe}const Pce={longitude:1,longitude2:1,latitude:1,latitude2:1};function iYe(e){switch(e){case yd:return"y";case bd:return"y2";case vd:return"x";case Wu:return"x2"}}function oYe(e){return e in Pce}const tgn=Ue(Pce),Rce={...egn,...nYe,...Pce,xOffset:1,yOffset:1,color:1,fill:1,stroke:1,opacity:1,fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeDash:1,size:1,angle:1,shape:1,order:1,text:1,detail:1,key:1,tooltip:1,href:1,url:1,description:1};function Lw(e){return e===Ul||e===Jh||e===ep}const sYe={row:1,column:1,facet:1},Su=Ue(sYe),Ace={...Rce,...sYe},ngn=Ue(Ace),{order:NQn,detail:MQn,tooltip:IQn,...rgn}=Ace,{row:LQn,column:jQn,facet:FQn,...ign}=rgn;function ogn(e){return!!ign[e]}function aYe(e){return!!Ace[e]}const sgn=[gd,Kh,bd,Wu,zg,Fg];function lYe(e){return dO(e)!==e}function dO(e){switch(e){case gd:return vi;case Kh:return gs;case bd:return yd;case Wu:return vd;case zg:return Hu;case Fg:return md}return e}function d0(e){if(rYe(e))switch(e){case Hu:return"startAngle";case zg:return"endAngle";case md:return"outerRadius";case Fg:return"innerRadius"}return e}function tp(e){switch(e){case vi:return gd;case gs:return Kh;case yd:return bd;case vd:return Wu;case Hu:return zg;case md:return Fg}}function Yl(e){switch(e){case vi:case gd:return"width";case gs:case Kh:return"height"}}function cYe(e){switch(e){case vi:return"xOffset";case gs:return"yOffset";case gd:return"x2Offset";case Kh:return"y2Offset";case Hu:return"thetaOffset";case md:return"radiusOffset";case zg:return"theta2Offset";case Fg:return"radius2Offset"}}function Dce(e){switch(e){case vi:return"xOffset";case gs:return"yOffset"}}function agn(e){switch(e){case"xOffset":return"x";case"yOffset":return"y"}}const lgn=Ue(Rce),{x:zQn,y:QQn,x2:BQn,y2:WQn,xOffset:VQn,yOffset:UQn,latitude:qQn,longitude:YQn,latitude2:XQn,longitude2:HQn,theta:ZQn,theta2:GQn,radius:KQn,radius2:JQn,...Nce}=Rce,cgn=Ue(Nce),Mce={x:1,y:1},np=Ue(Mce);function no(e){return e in Mce}const Ice={theta:1,radius:1},ugn=Ue(Ice);function nz(e){return e==="width"?vi:gs}const uYe={xOffset:1,yOffset:1};function cA(e){return e in uYe}const{text:eBn,tooltip:tBn,href:nBn,url:rBn,description:iBn,detail:oBn,key:sBn,order:aBn,...fYe}=Nce,dYe=Ue(fYe);function fgn(e){return!!Nce[e]}function dgn(e){switch(e){case Ul:case Jh:case ep:case Qg:case ql:case Bg:case X0:case H0:return!0;case q0:case Y0:case fO:return!1}}const hYe={...Mce,...Ice,...uYe,...fYe},rz=Ue(hYe);function Wg(e){return!!hYe[e]}function hgn(e,t){return ggn(e)[t]}const pYe={arc:"always",area:"always",bar:"always",circle:"always",geoshape:"always",image:"always",line:"always",rule:"always",point:"always",rect:"always",square:"always",trail:"always",text:"always",tick:"always"},{geoshape:lBn,...pgn}=pYe;function ggn(e){switch(e){case Ul:case Jh:case ep:case tz:case lA:case K8:case _b:case J8:case XS:case Bg:case q0:case Y0:case X0:case G8:case Jp:case eg:return pYe;case vi:case gs:case U0:case kC:case yd:case vd:return pgn;case gd:case Kh:case bd:case Wu:return{area:"always",bar:"always",image:"always",rect:"always",rule:"always",circle:"binned",point:"binned",square:"binned",tick:"binned",line:"binned",trail:"binned"};case Qg:return{point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",text:"always",line:"always",trail:"always"};case H0:return{line:"always",point:"always",tick:"always",rule:"always",circle:"always",square:"always",bar:"always",geoshape:"always"};case ql:return{point:"always",geoshape:"always"};case aA:return{text:"always"};case fO:return{point:"always",square:"always",text:"always"};case ez:return{image:"always"};case Hu:return{text:"always",arc:"always"};case md:return{text:"always",arc:"always"};case zg:case Fg:return{arc:"always"}}}function SV(e){switch(e){case vi:case gs:case Hu:case md:case U0:case kC:case Qg:case fO:case X0:case Bg:case q0:case Y0:case gd:case Kh:case zg:case Fg:return;case G8:case Jp:case eg:case ql:case H0:case aA:case _b:case J8:case ez:case tz:return"discrete";case Ul:case Jh:case ep:return"flexible";case yd:case vd:case bd:case Wu:case lA:case K8:case XS:return}}const mgn={argmax:1,argmin:1,average:1,count:1,distinct:1,product:1,max:1,mean:1,median:1,min:1,missing:1,q1:1,q3:1,ci0:1,ci1:1,stderr:1,stdev:1,stdevp:1,sum:1,valid:1,values:1,variance:1,variancep:1},ygn={count:1,min:1,max:1};function xg(e){return!!e&&!!e.argmin}function Z0(e){return!!e&&!!e.argmax}function iz(e){return at(e)&&!!mgn[e]}const vgn=new Set(["count","valid","missing","distinct"]);function gYe(e){return at(e)&&vgn.has(e)}function bgn(e){return at(e)&&kn(["min","max"],e)}const Ogn=new Set(["count","sum","distinct","valid","missing"]),xgn=new Set(["mean","average","median","q1","q3","min","max"]);function mYe(e){return M0(e)&&(e=dz(e,void 0)),"bin"+Ue(e).map(t=>oz(e[t])?yi(`_${t}_${t0(e[t])}`):yi(`_${t}_${e[t]}`)).join("")}function Xr(e){return e===!0||hO(e)&&!e.binned}function xs(e){return e==="binned"||hO(e)&&e.binned===!0}function hO(e){return ut(e)}function oz(e){return e==null?void 0:e.param}function Gwe(e){switch(e){case Jp:case eg:case Qg:case Ul:case Jh:case ep:case X0:case Bg:case q0:case Y0:case ql:return 6;case H0:return 4;default:return 10}}function uA(e){return!!(e!=null&&e.expr)}function bl(e){const t=Ue(e||{}),n={};for(const r of t)n[r]=wc(e[r]);return n}function yYe(e){const{anchor:t,frame:n,offset:r,orient:i,angle:o,limit:s,color:a,subtitleColor:l,subtitleFont:c,subtitleFontSize:u,subtitleFontStyle:f,subtitleFontWeight:d,subtitleLineHeight:h,subtitlePadding:p,...g}=e,y={...g,...a?{fill:a}:{}},v={...t?{anchor:t}:{},...n?{frame:n}:{},...r?{offset:r}:{},...i?{orient:i}:{},...o!==void 0?{angle:o}:{},...s!==void 0?{limit:s}:{}},x={...l?{subtitleColor:l}:{},...c?{subtitleFont:c}:{},...u?{subtitleFontSize:u}:{},...f?{subtitleFontStyle:f}:{},...d?{subtitleFontWeight:d}:{},...h?{subtitleLineHeight:h}:{},...p?{subtitlePadding:p}:{}},m=$S(e,["align","baseline","dx","dy","limit"]);return{titleMarkConfig:y,subtitleMarkConfig:m,nonMarkTitleProperties:v,subtitle:x}}function $m(e){return at(e)||Me(e)&&at(e[0])}function St(e){return!!(e!=null&&e.signal)}function G0(e){return!!e.step}function wgn(e){return Me(e)?!1:"fields"in e&&!("data"in e)}function Sgn(e){return Me(e)?!1:"fields"in e&&"data"in e}function zp(e){return Me(e)?!1:"field"in e&&"data"in e}const _gn={aria:1,description:1,ariaRole:1,ariaRoleDescription:1,blend:1,opacity:1,fill:1,fillOpacity:1,stroke:1,strokeCap:1,strokeWidth:1,strokeOpacity:1,strokeDash:1,strokeDashOffset:1,strokeJoin:1,strokeOffset:1,strokeMiterLimit:1,startAngle:1,endAngle:1,padAngle:1,innerRadius:1,outerRadius:1,size:1,shape:1,interpolate:1,tension:1,orient:1,align:1,baseline:1,text:1,dir:1,dx:1,dy:1,ellipsis:1,limit:1,radius:1,theta:1,angle:1,font:1,fontSize:1,fontWeight:1,fontStyle:1,lineBreak:1,lineHeight:1,cursor:1,href:1,tooltip:1,cornerRadius:1,cornerRadiusTopLeft:1,cornerRadiusTopRight:1,cornerRadiusBottomLeft:1,cornerRadiusBottomRight:1,aspect:1,width:1,height:1,url:1,smooth:1},Cgn=Ue(_gn),$gn={arc:1,area:1,group:1,image:1,line:1,path:1,rect:1,rule:1,shape:1,symbol:1,text:1,trail:1},hG=["cornerRadius","cornerRadiusTopLeft","cornerRadiusTopRight","cornerRadiusBottomLeft","cornerRadiusBottomRight"];function vYe(e){const t=Me(e.condition)?e.condition.map(Kwe):Kwe(e.condition);return{...wc(e),condition:t}}function wc(e){if(uA(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function Kwe(e){if(uA(e)){const{expr:t,...n}=e;return{signal:t,...n}}return e}function ai(e){if(uA(e)){const{expr:t,...n}=e;return{signal:t,...n}}return St(e)?e:e!==void 0?{value:e}:void 0}function Egn(e){return St(e)?e.signal:Ge(e)}function Jwe(e){return St(e)?e.signal:Ge(e.value)}function Ef(e){return St(e)?e.signal:e==null?null:Ge(e)}function kgn(e,t,n){for(const r of n){const i=wg(r,t.markDef,t.config);i!==void 0&&(e[r]=ai(i))}return e}function bYe(e){return[].concat(e.type,e.style??[])}function hr(e,t,n,r={}){const{vgChannel:i,ignoreVgConfig:o}=r;return i&&t[i]!==void 0?t[i]:t[e]!==void 0?t[e]:o&&(!i||i===e)?void 0:wg(e,t,n,r)}function wg(e,t,n,{vgChannel:r}={}){return to(r?Pj(e,t,n.style):void 0,Pj(e,t,n.style),r?n[t.type][r]:void 0,n[t.type][e],r?n.mark[r]:n.mark[e])}function Pj(e,t,n){return OYe(e,bYe(t),n)}function OYe(e,t,n){t=lt(t);let r;for(const i of t){const o=n[i];o&&o[e]!==void 0&&(r=o[e])}return r}function xYe(e,t){return lt(e).reduce((n,r)=>(n.field.push(tt(r,t)),n.order.push(r.sort??"ascending"),n),{field:[],order:[]})}function wYe(e,t){const n=[...e];return t.forEach(r=>{for(const i of n)if($c(i,r))return;n.push(r)}),n}function SYe(e,t){return $c(e,t)||!t?e:e?[...lt(e),...lt(t)].join(", "):t}function _Ye(e,t){const n=e.value,r=t.value;if(n==null||r===null)return{explicit:e.explicit,value:null};if(($m(n)||St(n))&&($m(r)||St(r)))return{explicit:e.explicit,value:SYe(n,r)};if($m(n)||St(n))return{explicit:e.explicit,value:n};if($m(r)||St(r))return{explicit:e.explicit,value:r};if(!$m(n)&&!St(n)&&!$m(r)&&!St(r))return{explicit:e.explicit,value:wYe(n,r)};throw new Error("It should never reach here")}function Lce(e){return`Invalid specification ${$r(e)}. Make sure the specification includes at least one of the following properties: "mark", "layer", "facet", "hconcat", "vconcat", "concat", or "repeat".`}const Tgn='Autosize "fit" only works for single views and layered views.';function eSe(e){return`${e=="width"?"Width":"Height"} "container" only works for single views and layered views.`}function tSe(e){const t=e=="width"?"Width":"Height",n=e=="width"?"x":"y";return`${t} "container" only works well with autosize "fit" or "fit-${n}".`}function nSe(e){return e?`Dropping "fit-${e}" because spec has discrete ${Yl(e)}.`:'Dropping "fit" because spec has discrete size.'}function jce(e){return`Unknown field for ${e}. Cannot calculate view size.`}function rSe(e){return`Cannot project a selection on encoding channel "${e}", which has no field.`}function Pgn(e,t){return`Cannot project a selection on encoding channel "${e}" as it uses an aggregate function ("${t}").`}function Rgn(e){return`The "nearest" transform is not supported for ${e} marks.`}function CYe(e){return`Selection not supported for ${e} yet.`}function Agn(e){return`Cannot find a selection named "${e}".`}const Dgn="Scale bindings are currently only supported for scales with unbinned, continuous domains.",Ngn="Legend bindings are only supported for selections over an individual field or encoding channel.";function Mgn(e){return`Lookups can only be performed on selection parameters. "${e}" is a variable parameter.`}function Ign(e){return`Cannot define and lookup the "${e}" selection in the same view. Try moving the lookup into a second, layered view?`}const Lgn="The same selection must be used to override scale domains in a layered view.",jgn='Interval selections should be initialized using "x", "y", "longitude", or "latitude" keys.';function Fgn(e){return`Unknown repeated value "${e}".`}function iSe(e){return`The "columns" property cannot be used when "${e}" has nested row/column.`}const zgn="Axes cannot be shared in concatenated or repeated views yet (https://github.com/vega/vega-lite/issues/2415).";function Qgn(e){return`Unrecognized parse "${e}".`}function oSe(e,t,n){return`An ancestor parsed field "${e}" as ${n} but a child wants to parse the field as ${t}.`}const Bgn="Attempt to add the same child twice.";function Wgn(e){return`Ignoring an invalid transform: ${$r(e)}.`}const Vgn='If "from.fields" is not specified, "as" has to be a string that specifies the key to be used for the data from the secondary source.';function sSe(e){return`Config.customFormatTypes is not true, thus custom format type and format for channel ${e} are dropped.`}function Ugn(e){const{parentProjection:t,projection:n}=e;return`Layer's shared projection ${$r(t)} is overridden by a child projection ${$r(n)}.`}const qgn="Arc marks uses theta channel rather than angle, replacing angle with theta.";function Ygn(e){return`${e}Offset dropped because ${e} is continuous`}function Xgn(e,t,n){return`Channel ${e} is a ${t}. Converted to {value: ${$r(n)}}.`}function $Ye(e){return`Invalid field type "${e}".`}function Hgn(e,t){return`Invalid field type "${e}" for aggregate: "${t}", using "quantitative" instead.`}function Zgn(e){return`Invalid aggregation operator "${e}".`}function EYe(e,t){const{fill:n,stroke:r}=t;return`Dropping color ${e} as the plot also has ${n&&r?"fill and stroke":n?"fill":"stroke"}.`}function Ggn(e){return`Position range does not support relative band size for ${e}.`}function pG(e,t){return`Dropping ${$r(e)} from channel "${t}" since it does not contain any data field, datum, value, or signal.`}const Kgn="Line marks cannot encode size with a non-groupby field. You may want to use trail marks instead.";function sz(e,t,n){return`${e} dropped as it is incompatible with "${t}"${n?` when ${n}`:""}.`}function Jgn(e){return`${e}-encoding is dropped as ${e} is not a valid encoding channel.`}function emn(e){return`${e} encoding should be discrete (ordinal / nominal / binned).`}function tmn(e){return`${e} encoding should be discrete (ordinal / nominal / binned) or use a discretizing scale (e.g. threshold).`}function nmn(e){return`Facet encoding dropped as ${e.join(" and ")} ${e.length>1?"are":"is"} also specified.`}function _V(e,t){return`Using discrete channel "${e}" to encode "${t}" field can be misleading as it does not encode ${t==="ordinal"?"order":"magnitude"}.`}function rmn(e){return`The ${e} for range marks cannot be an expression`}function imn(e,t){return`Line mark is for continuous lines and thus cannot be used with ${e&&t?"x2 and y2":e?"x2":"y2"}. We will use the rule mark (line segments) instead.`}function omn(e,t){return`Specified orient "${e}" overridden with "${t}".`}function smn(e){return`Cannot use the scale property "${e}" with non-color channel.`}function amn(e){return`Cannot use the relative band size with ${e} scale.`}function lmn(e){return`Using unaggregated domain with raw field has no effect (${$r(e)}).`}function cmn(e){return`Unaggregated domain not applicable for "${e}" since it produces values outside the origin domain of the source data.`}function umn(e){return`Unaggregated domain is currently unsupported for log scale (${$r(e)}).`}function fmn(e){return`Cannot apply size to non-oriented mark "${e}".`}function dmn(e,t,n){return`Channel "${e}" does not work with "${t}" scale. We are using "${n}" scale instead.`}function hmn(e,t){return`FieldDef does not work with "${e}" scale. We are using "${t}" scale instead.`}function kYe(e,t,n){return`${n}-scale's "${t}" is dropped as it does not work with ${e} scale.`}function TYe(e){return`The step for "${e}" is dropped because the ${e==="width"?"x":"y"} is continuous.`}function pmn(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${$r(n)} and ${$r(r)}). Using ${$r(n)}.`}function gmn(e,t,n,r){return`Conflicting ${t.toString()} property "${e.toString()}" (${$r(n)} and ${$r(r)}). Using the union of the two domains.`}function mmn(e){return`Setting the scale to be independent for "${e}" means we also have to set the guide (axis or legend) to be independent.`}function ymn(e){return`Dropping sort property ${$r(e)} as unioned domains only support boolean or op "count", "min", and "max".`}const aSe="Domains that should be unioned has conflicting sort properties. Sort will be set to true.",vmn="Detected faceted independent scales that union domain of multiple fields from different data sources. We will use the first field. The result view size may be incorrect.",bmn="Detected faceted independent scales that union domain of the same fields from different source. We will assume that this is the same field from a different fork of the same data source. However, if this is not the case, the result view size may be incorrect.",Omn="Detected faceted independent scales that union domain of multiple fields from the same data source. We will use the first field. The result view size may be incorrect.";function xmn(e){return`Cannot stack "${e}" if there is already "${e}2".`}function wmn(e){return`Cannot stack non-linear scale (${e}).`}function Smn(e){return`Stacking is applied even though the aggregate function is non-summative ("${e}").`}function Rj(e,t){return`Invalid ${e}: ${$r(t)}.`}function _mn(e){return`Dropping day from datetime ${$r(e)} as day cannot be combined with other units.`}function Cmn(e,t){return`${t?"extent ":""}${t&&e?"and ":""}${e?"center ":""}${t&&e?"are ":"is "}not needed when data are aggregated.`}function $mn(e,t,n){return`${e} is not usually used with ${t} for ${n}.`}function Emn(e,t){return`Continuous axis should not have customized aggregation function ${e}; ${t} already agregates the axis.`}function lSe(e){return`1D error band does not support ${e}.`}function PYe(e){return`Channel ${e} is required for "binned" bin.`}function kmn(e){return`Channel ${e} should not be used with "binned" bin.`}function Tmn(e){return`Domain for ${e} is required for threshold scale.`}const RYe=vie(yie);let HS=RYe;function Pmn(e){return HS=e,HS}function Rmn(){return HS=RYe,HS}function He(...e){HS.warn(...e)}function Amn(...e){HS.debug(...e)}function pO(e){if(e&&ut(e)){for(const t of zce)if(t in e)return!0}return!1}const AYe=["january","february","march","april","may","june","july","august","september","october","november","december"],Dmn=AYe.map(e=>e.substr(0,3)),DYe=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],Nmn=DYe.map(e=>e.substr(0,3));function Mmn(e){if(f7(e)&&(e=+e),Un(e))return e>4&&He(Rj("quarter",e)),e-1;throw new Error(Rj("quarter",e))}function Imn(e){if(f7(e)&&(e=+e),Un(e))return e-1;{const t=e.toLowerCase(),n=AYe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=Dmn.indexOf(r);if(i!==-1)return i;throw new Error(Rj("month",e))}}function Lmn(e){if(f7(e)&&(e=+e),Un(e))return e%7;{const t=e.toLowerCase(),n=DYe.indexOf(t);if(n!==-1)return n;const r=t.substr(0,3),i=Nmn.indexOf(r);if(i!==-1)return i;throw new Error(Rj("day",e))}}function Fce(e,t){const n=[];if(t&&e.day!==void 0&&Ue(e).length>1&&(He(_mn(e)),e=qt(e),delete e.day),e.year!==void 0?n.push(e.year):n.push(2012),e.month!==void 0){const r=t?Imn(e.month):e.month;n.push(r)}else if(e.quarter!==void 0){const r=t?Mmn(e.quarter):e.quarter;n.push(Un(r)?r*3:`${r}*3`)}else n.push(0);if(e.date!==void 0)n.push(e.date);else if(e.day!==void 0){const r=t?Lmn(e.day):e.day;n.push(Un(r)?r+1:`${r}+1`)}else n.push(1);for(const r of["hours","minutes","seconds","milliseconds"]){const i=e[r];n.push(typeof i>"u"?0:i)}return n}function Cb(e){const n=Fce(e,!0).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function jmn(e){const n=Fce(e,!1).join(", ");return e.utc?`utc(${n})`:`datetime(${n})`}function Fmn(e){const t=Fce(e,!0);return e.utc?+new Date(Date.UTC(...t)):+new Date(...t)}const NYe={year:1,quarter:1,month:1,week:1,day:1,dayofyear:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1},zce=Ue(NYe);function zmn(e){return!!NYe[e]}function gO(e){return ut(e)?e.binned:MYe(e)}function MYe(e){return e&&e.startsWith("binned")}function Qce(e){return e.startsWith("utc")}function Qmn(e){return e.substring(3)}const Bmn={"year-month":"%b %Y ","year-month-date":"%b %d, %Y "};function az(e){return zce.filter(t=>LYe(e,t))}function IYe(e){const t=az(e);return t[t.length-1]}function LYe(e,t){const n=e.indexOf(t);return!(n<0||n>0&&t==="seconds"&&e.charAt(n-1)==="i"||e.length>n+3&&t==="day"&&e.charAt(n+3)==="o"||n>0&&t==="year"&&e.charAt(n-1)==="f")}function Wmn(e,t,{end:n}={end:!1}){const r=Hie(t),i=Qce(e)?"utc":"";function o(l){return l==="quarter"?`(${i}quarter(${r})-1)`:`${i}${l}(${r})`}let s;const a={};for(const l of zce)LYe(e,l)&&(a[l]=o(l),s=l);return n&&(a[s]+="+1"),jmn(a)}function jYe(e){if(!e)return;const t=az(e);return`timeUnitSpecifier(${$r(t)}, ${$r(Bmn)})`}function Vmn(e,t,n){if(!e)return;const r=jYe(e);return`${n||Qce(e)?"utc":"time"}Format(${t}, ${r})`}function cs(e){if(!e)return;let t;return at(e)?MYe(e)?t={unit:e.substring(6),binned:!0}:t={unit:e}:ut(e)&&(t={...e,...e.unit?{unit:e.unit}:{}}),Qce(t.unit)&&(t.utc=!0,t.unit=Qmn(t.unit)),t}function Umn(e){const{utc:t,...n}=cs(e);return n.unit?(t?"utc":"")+Ue(n).map(r=>yi(`${r==="unit"?"":`_${r}_`}${n[r]}`)).join(""):(t?"utc":"")+"timeunit"+Ue(n).map(r=>yi(`_${r}_${n[r]}`)).join("")}function FYe(e,t=n=>n){const n=cs(e),r=IYe(n.unit);if(r&&r!=="day"){const i={year:2001,month:1,date:1,hours:0,minutes:0,seconds:0,milliseconds:0},{step:o,part:s}=zYe(r,n.step),a={...i,[s]:+i[s]+o};return`${t(Cb(a))} - ${t(Cb(i))}`}}const qmn={year:1,month:1,date:1,hours:1,minutes:1,seconds:1,milliseconds:1};function Ymn(e){return!!qmn[e]}function zYe(e,t=1){if(Ymn(e))return{part:e,step:t};switch(e){case"day":case"dayofyear":return{part:"date",step:t};case"quarter":return{part:"month",step:t*3};case"week":return{part:"date",step:t*7}}}function Xmn(e){return e==null?void 0:e.param}function Bce(e){return!!(e!=null&&e.field)&&e.equal!==void 0}function Wce(e){return!!(e!=null&&e.field)&&e.lt!==void 0}function Vce(e){return!!(e!=null&&e.field)&&e.lte!==void 0}function Uce(e){return!!(e!=null&&e.field)&&e.gt!==void 0}function qce(e){return!!(e!=null&&e.field)&&e.gte!==void 0}function Yce(e){if(e!=null&&e.field){if(Me(e.range)&&e.range.length===2)return!0;if(St(e.range))return!0}return!1}function Xce(e){return!!(e!=null&&e.field)&&(Me(e.oneOf)||Me(e.in))}function Hmn(e){return!!(e!=null&&e.field)&&e.valid!==void 0}function QYe(e){return Xce(e)||Bce(e)||Yce(e)||Wce(e)||Uce(e)||Vce(e)||qce(e)}function Ad(e,t){return hz(e,{timeUnit:t,wrapTime:!0})}function Zmn(e,t){return e.map(n=>Ad(n,t))}function BYe(e,t=!0){const{field:n}=e,r=cs(e.timeUnit),{unit:i,binned:o}=r||{},s=tt(e,{expr:"datum"}),a=i?`time(${o?s:Wmn(i,n)})`:s;if(Bce(e))return`${a}===${Ad(e.equal,i)}`;if(Wce(e)){const l=e.lt;return`${a}<${Ad(l,i)}`}else if(Uce(e)){const l=e.gt;return`${a}>${Ad(l,i)}`}else if(Vce(e)){const l=e.lte;return`${a}<=${Ad(l,i)}`}else if(qce(e)){const l=e.gte;return`${a}>=${Ad(l,i)}`}else{if(Xce(e))return`indexof([${Zmn(e.oneOf,i).join(",")}], ${a}) !== -1`;if(Hmn(e))return Hce(a,e.valid);if(Yce(e)){const{range:l}=e,c=St(l)?{signal:`${l.signal}[0]`}:l[0],u=St(l)?{signal:`${l.signal}[1]`}:l[1];if(c!==null&&u!==null&&t)return"inrange("+a+", ["+Ad(c,i)+", "+Ad(u,i)+"])";const f=[];return c!==null&&f.push(`${a} >= ${Ad(c,i)}`),u!==null&&f.push(`${a} <= ${Ad(u,i)}`),f.length>0?f.join(" && "):"true"}}throw new Error(`Invalid field predicate: ${$r(e)}`)}function Hce(e,t=!0){return t?`isValid(${e}) && isFinite(+${e})`:`!isValid(${e}) || !isFinite(+${e})`}function Gmn(e){return QYe(e)&&e.timeUnit?{...e,timeUnit:cs(e.timeUnit)}:e}const fA={quantitative:"quantitative",ordinal:"ordinal",temporal:"temporal",nominal:"nominal",geojson:"geojson"};function Kmn(e){return e==="quantitative"||e==="temporal"}function WYe(e){return e==="ordinal"||e==="nominal"}const $b=fA.quantitative,Zce=fA.ordinal,ZS=fA.temporal,Gce=fA.nominal,TC=fA.geojson;function Jmn(e){if(e)switch(e=e.toLowerCase(),e){case"q":case $b:return"quantitative";case"t":case ZS:return"temporal";case"o":case Zce:return"ordinal";case"n":case Gce:return"nominal";case TC:return"geojson"}}const jl={LINEAR:"linear",LOG:"log",POW:"pow",SQRT:"sqrt",SYMLOG:"symlog",IDENTITY:"identity",SEQUENTIAL:"sequential",TIME:"time",UTC:"utc",QUANTILE:"quantile",QUANTIZE:"quantize",THRESHOLD:"threshold",BIN_ORDINAL:"bin-ordinal",ORDINAL:"ordinal",POINT:"point",BAND:"band"},gG={linear:"numeric",log:"numeric",pow:"numeric",sqrt:"numeric",symlog:"numeric",identity:"numeric",sequential:"numeric",time:"time",utc:"time",ordinal:"ordinal","bin-ordinal":"bin-ordinal",point:"ordinal-position",band:"ordinal-position",quantile:"discretizing",quantize:"discretizing",threshold:"discretizing"};function eyn(e,t){const n=gG[e],r=gG[t];return n===r||n==="ordinal-position"&&r==="time"||r==="ordinal-position"&&n==="time"}const tyn={linear:0,log:1,pow:1,sqrt:1,symlog:1,identity:1,sequential:1,time:0,utc:0,point:10,band:11,ordinal:0,"bin-ordinal":0,quantile:0,quantize:0,threshold:0};function cSe(e){return tyn[e]}const VYe=new Set(["linear","log","pow","sqrt","symlog"]),UYe=new Set([...VYe,"time","utc"]);function qYe(e){return VYe.has(e)}const YYe=new Set(["quantile","quantize","threshold"]),nyn=new Set([...UYe,...YYe,"sequential","identity"]),ryn=new Set(["ordinal","bin-ordinal","point","band"]);function fs(e){return ryn.has(e)}function Bc(e){return nyn.has(e)}function kf(e){return UYe.has(e)}function GS(e){return YYe.has(e)}const iyn={pointPadding:.5,barBandPaddingInner:.1,rectBandPaddingInner:0,bandWithNestedOffsetPaddingInner:.2,bandWithNestedOffsetPaddingOuter:.2,minBandSize:2,minFontSize:8,maxFontSize:40,minOpacity:.3,maxOpacity:.8,minSize:9,minStrokeWidth:1,maxStrokeWidth:4,quantileCount:4,quantizeCount:4,zero:!0};function oyn(e){return!at(e)&&!!e.name}function XYe(e){return e==null?void 0:e.param}function syn(e){return e==null?void 0:e.unionWith}function ayn(e){return ut(e)&&"field"in e}const lyn={type:1,domain:1,domainMax:1,domainMin:1,domainMid:1,domainRaw:1,align:1,range:1,rangeMax:1,rangeMin:1,scheme:1,bins:1,reverse:1,round:1,clamp:1,nice:1,base:1,exponent:1,constant:1,interpolate:1,zero:1,padding:1,paddingInner:1,paddingOuter:1},{type:cBn,domain:uBn,range:fBn,rangeMax:dBn,rangeMin:hBn,scheme:pBn,...cyn}=lyn,uyn=Ue(cyn);function mG(e,t){switch(t){case"type":case"domain":case"reverse":case"range":return!0;case"scheme":case"interpolate":return!["point","band","identity"].includes(e);case"bins":return!["point","band","identity","ordinal"].includes(e);case"round":return kf(e)||e==="band"||e==="point";case"padding":case"rangeMin":case"rangeMax":return kf(e)||["point","band"].includes(e);case"paddingOuter":case"align":return["point","band"].includes(e);case"paddingInner":return e==="band";case"domainMax":case"domainMid":case"domainMin":case"domainRaw":case"clamp":return kf(e);case"nice":return kf(e)||e==="quantize"||e==="threshold";case"exponent":return e==="pow";case"base":return e==="log";case"constant":return e==="symlog";case"zero":return Bc(e)&&!kn(["log","time","utc","threshold","quantile"],e)}}function HYe(e,t){switch(t){case"interpolate":case"scheme":case"domainMid":return Lw(e)?void 0:smn(t);case"align":case"type":case"bins":case"domain":case"domainMax":case"domainMin":case"domainRaw":case"range":case"base":case"exponent":case"constant":case"nice":case"padding":case"paddingInner":case"paddingOuter":case"rangeMax":case"rangeMin":case"reverse":case"round":case"clamp":case"zero":return}}function fyn(e,t){return kn([Zce,Gce],t)?e===void 0||fs(e):t===ZS?kn([jl.TIME,jl.UTC,void 0],e):t===$b?qYe(e)||GS(e)||e===void 0:!0}function dyn(e,t,n=!1){if(!Wg(e))return!1;switch(e){case vi:case gs:case U0:case kC:case Hu:case md:return kf(t)||t==="band"?!0:t==="point"?!n:!1;case Qg:case X0:case Bg:case q0:case Y0:case fO:return kf(t)||GS(t)||kn(["band","point","ordinal"],t);case Ul:case Jh:case ep:return t!=="band";case H0:case ql:return t==="ordinal"||GS(t)}}function Kce(e){const{channel:t,channelDef:n,markDef:r,scale:i,config:o}=e,s=eue(e);return Xe(n)&&!gYe(n.aggregate)&&i&&kf(i.get("type"))?hyn({fieldDef:n,channel:t,markDef:r,ref:s,config:o}):s}function hyn({fieldDef:e,channel:t,markDef:n,ref:r,config:i}){return I0(n.type)?r:hr("invalid",n,i)===null?[pyn(e,t),r]:r}function pyn(e,t){const n=Jce(e,!0),i=dO(t)==="y"?{field:{group:"height"}}:{value:0};return{test:n,...i}}function Jce(e,t=!0){return Hce(at(e)?e:tt(e,{expr:"datum"}),!t)}function gyn(e){const{datum:t}=e;return pO(t)?Cb(t):`${$r(t)}`}function S1(e,t,n,r){const i={};if(t&&(i.scale=t),rp(e)){const{datum:o}=e;pO(o)?i.signal=Cb(o):St(o)?i.signal=o.signal:uA(o)?i.signal=o.expr:i.value=o}else i.field=tt(e,n);if(r){const{offset:o,band:s}=r;o&&(i.offset=o),s&&(i.band=s)}return i}function Aj({scaleName:e,fieldOrDatumDef:t,fieldOrDatumDef2:n,offset:r,startSuffix:i,endSuffix:o="end",bandPosition:s=.5}){const a=!St(s)&&0<s&&s<1?"datum":void 0,l=tt(t,{expr:a,suffix:i}),c=n!==void 0?tt(n,{expr:a}):tt(t,{suffix:o,expr:a}),u={};if(s===0||s===1){u.scale=e;const f=s===0?l:c;u.field=f}else{const f=St(s)?`(1-${s.signal}) * ${l} + ${s.signal} * ${c}`:`${1-s} * ${l} + ${s} * ${c}`;u.signal=`scale("${e}", ${f})`}return r&&(u.offset=r),u}function myn({scaleName:e,fieldDef:t}){const n=tt(t,{expr:"datum"}),r=tt(t,{expr:"datum",suffix:"end"});return`abs(scale("${e}", ${r}) - scale("${e}", ${n}))`}function eue({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:s,stack:a,offset:l,defaultRef:c,bandPosition:u}){if(t){if(Gt(t)){const f=s==null?void 0:s.get("type");if(ol(t)){u??(u=h0({fieldDef:t,fieldDef2:n,markDef:r,config:i}));const{bin:d,timeUnit:h,type:p}=t;if(Xr(d)||u&&h&&p===ZS)return a!=null&&a.impute?S1(t,o,{binSuffix:"mid"},{offset:l}):u&&!fs(f)?Aj({scaleName:o,fieldOrDatumDef:t,bandPosition:u,offset:l}):S1(t,o,gA(t,e)?{binSuffix:"range"}:{},{offset:l});if(xs(d)){if(Xe(n))return Aj({scaleName:o,fieldOrDatumDef:t,fieldOrDatumDef2:n,bandPosition:u,offset:l});He(PYe(e===vi?gd:Kh))}}return S1(t,o,fs(f)?{binSuffix:"range"}:{},{offset:l,band:f==="band"?u??t.bandPosition??.5:void 0})}else if(sd(t)){const f=t.value,d=l?{offset:l}:{};return{...Vk(e,f),...d}}}return cn(c)&&(c=c()),c&&{...c,...l?{offset:l}:{}}}function Vk(e,t){return kn(["x","x2"],e)&&t==="width"?{field:{group:"width"}}:kn(["y","y2"],e)&&t==="height"?{field:{group:"height"}}:ai(t)}function Eb(e){return e&&e!=="number"&&e!=="time"}function ZYe(e,t,n){return`${e}(${t}${n?`, ${$r(n)}`:""})`}const yyn="  ";function tue({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o}){var l,c;if(Eb(n))return Tf({fieldOrDatumDef:e,format:t,formatType:n,expr:r,config:o});const s=GYe(e,r,i),a=KS(e);if(t===void 0&&n===void 0&&o.customFormatTypes){if(a==="quantitative"){if(i&&o.normalizedNumberFormatType)return Tf({fieldOrDatumDef:e,format:o.normalizedNumberFormat,formatType:o.normalizedNumberFormatType,expr:r,config:o});if(o.numberFormatType)return Tf({fieldOrDatumDef:e,format:o.numberFormat,formatType:o.numberFormatType,expr:r,config:o})}if(a==="temporal"&&o.timeFormatType&&Xe(e)&&e.timeUnit===void 0)return Tf({fieldOrDatumDef:e,format:o.timeFormat,formatType:o.timeFormatType,expr:r,config:o})}if(e_(e)){const u=byn({field:s,timeUnit:Xe(e)?(l=cs(e.timeUnit))==null?void 0:l.unit:void 0,format:t,formatType:o.timeFormatType,rawTimeFormat:o.timeFormat,isUTCScale:mO(e)&&((c=e.scale)==null?void 0:c.type)===jl.UTC});return u?{signal:u}:void 0}if(t=yG({type:a,specifiedFormat:t,config:o,normalizeStack:i}),Xe(e)&&Xr(e.bin)){const u=tt(e,{expr:r,binSuffix:"end"});return{signal:dA(s,u,t,n,o)}}else return t||KS(e)==="quantitative"?{signal:`${eXe(s,t)}`}:{signal:`isValid(${s}) ? ${s} : ""+${s}`}}function GYe(e,t,n){return Xe(e)?n?`${tt(e,{expr:t,suffix:"end"})}-${tt(e,{expr:t,suffix:"start"})}`:tt(e,{expr:t}):gyn(e)}function Tf({fieldOrDatumDef:e,format:t,formatType:n,expr:r,normalizeStack:i,config:o,field:s}){if(s??(s=GYe(e,r,i)),s!=="datum.value"&&Xe(e)&&Xr(e.bin)){const a=tt(e,{expr:r,binSuffix:"end"});return{signal:dA(s,a,t,n,o)}}return{signal:ZYe(n,s,t)}}function KYe(e,t,n,r,i,o){var s;if(!(at(r)&&Eb(r))&&!(n===void 0&&r===void 0&&i.customFormatTypes&&KS(e)==="quantitative"&&(i.normalizedNumberFormatType&&JS(e)&&e.stack==="normalize"||i.numberFormatType))){if(JS(e)&&e.stack==="normalize"&&i.normalizedNumberFormat)return yG({type:"quantitative",config:i,normalizeStack:!0});if(e_(e)){const a=Xe(e)?(s=cs(e.timeUnit))==null?void 0:s.unit:void 0;return a===void 0&&i.customFormatTypes&&i.timeFormatType?void 0:vyn({specifiedFormat:n,timeUnit:a,config:i,omitTimeFormatConfig:o})}return yG({type:t,specifiedFormat:n,config:i})}}function JYe(e,t,n){var r;if(e&&(St(e)||e==="number"||e==="time"))return e;if(e_(t)&&n!=="time"&&n!=="utc")return Xe(t)&&((r=cs(t==null?void 0:t.timeUnit))!=null&&r.utc)?"utc":"time"}function yG({type:e,specifiedFormat:t,config:n,normalizeStack:r}){if(at(t))return t;if(e===$b)return r?n.normalizedNumberFormat:n.numberFormat}function vyn({specifiedFormat:e,timeUnit:t,config:n,omitTimeFormatConfig:r}){return e||(t?{signal:jYe(t)}:r?void 0:n.timeFormat)}function eXe(e,t){return`format(${e}, "${t||""}")`}function uSe(e,t,n,r){return Eb(n)?ZYe(n,e,t):eXe(e,(at(t)?t:void 0)??r.numberFormat)}function dA(e,t,n,r,i){if(n===void 0&&r===void 0&&i.customFormatTypes&&i.numberFormatType)return dA(e,t,i.numberFormat,i.numberFormatType,i);const o=uSe(e,n,r,i),s=uSe(t,n,r,i);return`${Hce(e,!1)} ? "null" : ${o} + "${yyn}" + ${s}`}function byn({field:e,timeUnit:t,format:n,formatType:r,rawTimeFormat:i,isUTCScale:o}){return!t||n?!t&&r?`${r}(${e}, '${n}')`:(n=at(n)?n:i,`${o?"utc":"time"}Format(${e}, '${n}')`):Vmn(t,e,o)}const lz="min",Oyn={x:1,y:1,color:1,fill:1,stroke:1,strokeWidth:1,size:1,shape:1,fillOpacity:1,strokeOpacity:1,opacity:1,text:1};function fSe(e){return e in Oyn}function tXe(e){return!!(e!=null&&e.encoding)}function ph(e){return e&&(e.op==="count"||!!e.field)}function nXe(e){return e&&Me(e)}function hA(e){return"row"in e||"column"in e}function nue(e){return!!e&&"header"in e}function cz(e){return"facet"in e}function xyn(e){return e.param}function wyn(e){return e&&!at(e)&&"repeat"in e}function dSe(e){const{field:t,timeUnit:n,bin:r,aggregate:i}=e;return{...n?{timeUnit:n}:{},...r?{bin:r}:{},...i?{aggregate:i}:{},field:t}}function rue(e){return"sort"in e}function h0({fieldDef:e,fieldDef2:t,markDef:n,config:r}){if(Gt(e)&&e.bandPosition!==void 0)return e.bandPosition;if(Xe(e)){const{timeUnit:i,bin:o}=e;if(i&&!t)return wg("timeUnitBandPosition",n,r);if(Xr(o))return .5}}function rXe({channel:e,fieldDef:t,fieldDef2:n,markDef:r,config:i,scaleType:o,useVlSizeChannel:s}){var c,u,f;const a=Yl(e),l=hr(s?"size":a,r,i,{vgChannel:a});if(l!==void 0)return l;if(Xe(t)){const{timeUnit:d,bin:h}=t;if(d&&!n)return{band:wg("timeUnitBandSize",r,i)};if(Xr(h)&&!fs(o))return{band:1}}if(C2(r.type))return o?fs(o)?((c=i[r.type])==null?void 0:c.discreteBandSize)||{band:1}:(u=i[r.type])==null?void 0:u.continuousBandSize:(f=i[r.type])==null?void 0:f.discreteBandSize}function iXe(e,t,n,r){return Xr(e.bin)||e.timeUnit&&ol(e)&&e.type==="temporal"?h0({fieldDef:e,fieldDef2:t,markDef:n,config:r})!==void 0:!1}function oXe(e){return e&&!!e.sort&&!e.field}function uz(e){return e&&"condition"in e}function fz(e){const t=e==null?void 0:e.condition;return!!t&&!Me(t)&&Xe(t)}function pA(e){const t=e==null?void 0:e.condition;return!!t&&!Me(t)&&Gt(t)}function Syn(e){const t=e==null?void 0:e.condition;return!!t&&(Me(t)||sd(t))}function Xe(e){return e&&(!!e.field||e.aggregate==="count")}function KS(e){return e==null?void 0:e.type}function rp(e){return e&&"datum"in e}function ny(e){return ol(e)&&!Nj(e)||Dj(e)}function hSe(e){return ol(e)&&e.type==="quantitative"&&!e.bin||Dj(e)}function Dj(e){return rp(e)&&Un(e.datum)}function Gt(e){return Xe(e)||rp(e)}function ol(e){return e&&("field"in e||e.aggregate==="count")&&"type"in e}function sd(e){return e&&"value"in e&&"value"in e}function mO(e){return e&&("scale"in e||"sort"in e)}function JS(e){return e&&("axis"in e||"stack"in e||"impute"in e)}function sXe(e){return e&&"legend"in e}function aXe(e){return e&&("format"in e||"formatType"in e)}function _yn(e){return Nl(e,["legend","axis","header","scale"])}function Cyn(e){return"op"in e}function tt(e,t={}){let n=e.field;const r=t.prefix;let i=t.suffix,o="";if(Eyn(e))n=U6e("count");else{let s;if(!t.nofn)if(Cyn(e))s=e.op;else{const{bin:a,aggregate:l,timeUnit:c}=e;Xr(a)?(s=mYe(a),i=(t.binSuffix??"")+(t.suffix??"")):l?Z0(l)?(o=`["${n}"]`,n=`argmax_${l.argmax}`):xg(l)?(o=`["${n}"]`,n=`argmin_${l.argmin}`):s=String(l):c&&!gO(c)&&(s=Umn(c),i=(!["range","mid"].includes(t.binSuffix)&&t.binSuffix||"")+(t.suffix??""))}s&&(n=n?`${s}_${n}`:s)}return i&&(n=`${n}_${i}`),r&&(n=`${r}_${n}`),t.forAs?Zie(n):t.expr?B6e(n,t.expr)+o:Fu(n)+o}function Nj(e){switch(e.type){case"nominal":case"ordinal":case"geojson":return!0;case"quantitative":return Xe(e)&&!!e.bin;case"temporal":return!1}throw new Error($Ye(e.type))}function $yn(e){var t;return mO(e)&&GS((t=e.scale)==null?void 0:t.type)}function Eyn(e){return e.aggregate==="count"}function kyn(e,t){var s;const{field:n,bin:r,timeUnit:i,aggregate:o}=e;if(o==="count")return t.countTitle;if(Xr(r))return`${n} (binned)`;if(i&&!gO(i)){const a=(s=cs(i))==null?void 0:s.unit;if(a)return`${n} (${az(a).join("-")})`}else if(o)return Z0(o)?`${n} for max ${o.argmax}`:xg(o)?`${n} for min ${o.argmin}`:`${OR(o)} of ${n}`;return n}function Tyn(e){const{aggregate:t,bin:n,timeUnit:r,field:i}=e;if(Z0(t))return`${i} for argmax(${t.argmax})`;if(xg(t))return`${i} for argmin(${t.argmin})`;const o=r&&!gO(r)?cs(r):void 0,s=t||(o==null?void 0:o.unit)||(o==null?void 0:o.maxbins)&&"timeunit"||Xr(n)&&"bin";return s?`${s.toUpperCase()}(${i})`:i}const lXe=(e,t)=>{switch(t.fieldTitle){case"plain":return e.field;case"functional":return Tyn(e);default:return kyn(e,t)}};let cXe=lXe;function uXe(e){cXe=e}function Pyn(){uXe(lXe)}function jw(e,t,{allowDisabling:n,includeDefault:r=!0}){var a;const i=(a=iue(e))==null?void 0:a.title;if(!Xe(e))return i??e.title;const o=e,s=r?oue(o,t):void 0;return n?to(i,o.title,s):i??o.title??s}function iue(e){if(JS(e)&&e.axis)return e.axis;if(sXe(e)&&e.legend)return e.legend;if(nue(e)&&e.header)return e.header}function oue(e,t){return cXe(e,t)}function Mj(e){if(aXe(e)){const{format:t,formatType:n}=e;return{format:t,formatType:n}}else{const t=iue(e)??{},{format:n,formatType:r}=t;return{format:n,formatType:r}}}function Ryn(e,t){var o;switch(t){case"latitude":case"longitude":return"quantitative";case"row":case"column":case"facet":case"shape":case"strokeDash":return"nominal";case"order":return"ordinal"}if(rue(e)&&Me(e.sort))return"ordinal";const{aggregate:n,bin:r,timeUnit:i}=e;if(i)return"temporal";if(r||n&&!Z0(n)&&!xg(n))return"quantitative";if(mO(e)&&((o=e.scale)!=null&&o.type))switch(gG[e.scale.type]){case"numeric":case"discretizing":return"quantitative";case"time":return"temporal"}return"nominal"}function Rh(e){if(Xe(e))return e;if(fz(e))return e.condition}function zo(e){if(Gt(e))return e;if(pA(e))return e.condition}function fXe(e,t,n,r={}){if(at(e)||Un(e)||M0(e)){const i=at(e)?"string":Un(e)?"number":"boolean";return He(Xgn(t,i,e)),{value:e}}return Gt(e)?Ij(e,t,n,r):pA(e)?{...e,condition:Ij(e.condition,t,n,r)}:e}function Ij(e,t,n,r){if(aXe(e)){const{format:i,formatType:o,...s}=e;if(Eb(o)&&!n.customFormatTypes)return He(sSe(t)),Ij(s,t,n,r)}else{const i=JS(e)?"axis":sXe(e)?"legend":nue(e)?"header":null;if(i&&e[i]){const{format:o,formatType:s,...a}=e[i];if(Eb(s)&&!n.customFormatTypes)return He(sSe(t)),Ij({...e,[i]:a},t,n,r)}}return Xe(e)?sue(e,t,r):Ayn(e)}function Ayn(e){let t=e.type;if(t)return e;const{datum:n}=e;return t=Un(n)?"quantitative":at(n)?"nominal":pO(n)?"temporal":void 0,{...e,type:t}}function sue(e,t,{compositeMark:n=!1}={}){const{aggregate:r,timeUnit:i,bin:o,field:s}=e,a={...e};if(!n&&r&&!iz(r)&&!Z0(r)&&!xg(r)&&(He(Zgn(r)),delete a.aggregate),i&&(a.timeUnit=cs(i)),s&&(a.field=`${s}`),Xr(o)&&(a.bin=dz(o,t)),xs(o)&&!no(t)&&He(kmn(t)),ol(a)){const{type:l}=a,c=Jmn(l);l!==c&&(a.type=c),l!=="quantitative"&&gYe(r)&&(He(Hgn(l,r)),a.type="quantitative")}else if(!lYe(t)){const l=Ryn(a,t);a.type=l}if(ol(a)){const{compatible:l,warning:c}=Dyn(a,t)||{};l===!1&&He(c)}if(rue(a)&&at(a.sort)){const{sort:l}=a;if(fSe(l))return{...a,sort:{encoding:l}};const c=l.substr(1);if(l.charAt(0)==="-"&&fSe(c))return{...a,sort:{encoding:c,order:"descending"}}}if(nue(a)){const{header:l}=a;if(l){const{orient:c,...u}=l;if(c)return{...a,header:{...u,labelOrient:l.labelOrient||c,titleOrient:l.titleOrient||c}}}}return a}function dz(e,t){return M0(e)?{maxbins:Gwe(t)}:e==="binned"?{binned:!0}:!e.maxbins&&!e.step?{...e,maxbins:Gwe(t)}:e}const JO={compatible:!0};function Dyn(e,t){const n=e.type;if(n==="geojson"&&t!=="shape")return{compatible:!1,warning:`Channel ${t} should not be used with a geojson data.`};switch(t){case Jp:case eg:case G8:return Nj(e)?JO:{compatible:!1,warning:emn(t)};case vi:case gs:case U0:case kC:case Ul:case Jh:case ep:case aA:case lA:case K8:case _b:case J8:case ez:case fO:case Hu:case md:case tz:return JO;case vd:case Wu:case yd:case bd:return n!==$b?{compatible:!1,warning:`Channel ${t} should be used with a quantitative field only, not ${e.type} field.`}:JO;case Bg:case q0:case Y0:case X0:case Qg:case zg:case Fg:case gd:case Kh:return n==="nominal"&&!e.sort?{compatible:!1,warning:`Channel ${t} should not be used with an unsorted discrete field.`}:JO;case ql:case H0:return!Nj(e)&&!$yn(e)?{compatible:!1,warning:tmn(t)}:JO;case XS:return e.type==="nominal"&&!("sort"in e)?{compatible:!1,warning:"Channel order is inappropriate for nominal field, which has no inherent order."}:JO}}function e_(e){const{formatType:t}=Mj(e);return t==="time"||!t&&Nyn(e)}function Nyn(e){return e&&(e.type==="temporal"||Xe(e)&&!!e.timeUnit)}function hz(e,{timeUnit:t,type:n,wrapTime:r,undefinedIfExprNotRequired:i}){var l;const o=t&&((l=cs(t))==null?void 0:l.unit);let s=o||n==="temporal",a;return uA(e)?a=e.expr:St(e)?a=e.signal:pO(e)?(s=!0,a=Cb(e)):(at(e)||Un(e))&&s&&(a=`datetime(${$r(e)})`,zmn(o)&&(Un(e)&&e<1e4||at(e)&&isNaN(Date.parse(e)))&&(a=Cb({[o]:e}))),a?r&&s?`time(${a})`:a:i?void 0:$r(e)}function dXe(e,t){const{type:n}=e;return t.map(r=>{const i=Xe(e)&&!gO(e.timeUnit)?e.timeUnit:void 0,o=hz(r,{timeUnit:i,type:n,undefinedIfExprNotRequired:!0});return o!==void 0?{signal:o}:r})}function gA(e,t){return Xr(e.bin)?Wg(t)&&["ordinal","nominal"].includes(e.type):(console.warn("Only call this method for binned field defs."),!1)}const pSe={labelAlign:{part:"labels",vgProp:"align"},labelBaseline:{part:"labels",vgProp:"baseline"},labelColor:{part:"labels",vgProp:"fill"},labelFont:{part:"labels",vgProp:"font"},labelFontSize:{part:"labels",vgProp:"fontSize"},labelFontStyle:{part:"labels",vgProp:"fontStyle"},labelFontWeight:{part:"labels",vgProp:"fontWeight"},labelOpacity:{part:"labels",vgProp:"opacity"},labelOffset:null,labelPadding:null,gridColor:{part:"grid",vgProp:"stroke"},gridDash:{part:"grid",vgProp:"strokeDash"},gridDashOffset:{part:"grid",vgProp:"strokeDashOffset"},gridOpacity:{part:"grid",vgProp:"opacity"},gridWidth:{part:"grid",vgProp:"strokeWidth"},tickColor:{part:"ticks",vgProp:"stroke"},tickDash:{part:"ticks",vgProp:"strokeDash"},tickDashOffset:{part:"ticks",vgProp:"strokeDashOffset"},tickOpacity:{part:"ticks",vgProp:"opacity"},tickSize:null,tickWidth:{part:"ticks",vgProp:"strokeWidth"}};function mA(e){return e==null?void 0:e.condition}const hXe=["domain","grid","labels","ticks","title"],Myn={grid:"grid",gridCap:"grid",gridColor:"grid",gridDash:"grid",gridDashOffset:"grid",gridOpacity:"grid",gridScale:"grid",gridWidth:"grid",orient:"main",bandPosition:"both",aria:"main",description:"main",domain:"main",domainCap:"main",domainColor:"main",domainDash:"main",domainDashOffset:"main",domainOpacity:"main",domainWidth:"main",format:"main",formatType:"main",labelAlign:"main",labelAngle:"main",labelBaseline:"main",labelBound:"main",labelColor:"main",labelFlush:"main",labelFlushOffset:"main",labelFont:"main",labelFontSize:"main",labelFontStyle:"main",labelFontWeight:"main",labelLimit:"main",labelLineHeight:"main",labelOffset:"main",labelOpacity:"main",labelOverlap:"main",labelPadding:"main",labels:"main",labelSeparation:"main",maxExtent:"main",minExtent:"main",offset:"both",position:"main",tickCap:"main",tickColor:"main",tickDash:"main",tickDashOffset:"main",tickMinStep:"both",tickOffset:"both",tickOpacity:"main",tickRound:"both",ticks:"main",tickSize:"main",tickWidth:"both",title:"main",titleAlign:"main",titleAnchor:"main",titleAngle:"main",titleBaseline:"main",titleColor:"main",titleFont:"main",titleFontSize:"main",titleFontStyle:"main",titleFontWeight:"main",titleLimit:"main",titleLineHeight:"main",titleOpacity:"main",titlePadding:"main",titleX:"main",titleY:"main",encode:"both",scale:"both",tickBand:"both",tickCount:"both",tickExtra:"both",translate:"both",values:"both",zindex:"both"},pXe={orient:1,aria:1,bandPosition:1,description:1,domain:1,domainCap:1,domainColor:1,domainDash:1,domainDashOffset:1,domainOpacity:1,domainWidth:1,format:1,formatType:1,grid:1,gridCap:1,gridColor:1,gridDash:1,gridDashOffset:1,gridOpacity:1,gridWidth:1,labelAlign:1,labelAngle:1,labelBaseline:1,labelBound:1,labelColor:1,labelFlush:1,labelFlushOffset:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelLineHeight:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labels:1,labelSeparation:1,maxExtent:1,minExtent:1,offset:1,position:1,tickBand:1,tickCap:1,tickColor:1,tickCount:1,tickDash:1,tickDashOffset:1,tickExtra:1,tickMinStep:1,tickOffset:1,tickOpacity:1,tickRound:1,ticks:1,tickSize:1,tickWidth:1,title:1,titleAlign:1,titleAnchor:1,titleAngle:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titlePadding:1,titleX:1,titleY:1,translate:1,values:1,zindex:1},Iyn={...pXe,style:1,labelExpr:1,encoding:1};function gSe(e){return!!Iyn[e]}const Lyn={axis:1,axisBand:1,axisBottom:1,axisDiscrete:1,axisLeft:1,axisPoint:1,axisQuantitative:1,axisRight:1,axisTemporal:1,axisTop:1,axisX:1,axisXBand:1,axisXDiscrete:1,axisXPoint:1,axisXQuantitative:1,axisXTemporal:1,axisY:1,axisYBand:1,axisYDiscrete:1,axisYPoint:1,axisYQuantitative:1,axisYTemporal:1},gXe=Ue(Lyn);function Vg(e){return"mark"in e}class pz{constructor(t,n){this.name=t,this.run=n}hasMatchingType(t){return Vg(t)?u8t(t.mark)===this.name:!1}}function _1(e,t){const n=e&&e[t];return n?Me(n)?ab(n,r=>!!r.field):Xe(n)||fz(n):!1}function mXe(e,t){const n=e&&e[t];return n?Me(n)?ab(n,r=>!!r.field):Xe(n)||rp(n)||pA(n):!1}function yXe(e,t){if(no(t)){const n=e[t];if((Xe(n)||rp(n))&&(WYe(n.type)||Xe(n)&&n.timeUnit)){const r=Dce(t);return mXe(e,r)}}return!1}function aue(e){return ab(ngn,t=>{if(_1(e,t)){const n=e[t];if(Me(n))return ab(n,r=>!!r.aggregate);{const r=Rh(n);return r&&!!r.aggregate}}return!1})}function vXe(e,t){const n=[],r=[],i=[],o=[],s={};return lue(e,(a,l)=>{if(Xe(a)){const{field:c,aggregate:u,bin:f,timeUnit:d,...h}=a;if(u||d||f){const p=iue(a),g=p==null?void 0:p.title;let y=tt(a,{forAs:!0});const v={...g?[]:{title:jw(a,t,{allowDisabling:!0})},...h,field:y};if(u){let x;if(Z0(u)?(x="argmax",y=tt({op:"argmax",field:u.argmax},{forAs:!0}),v.field=`${y}.${c}`):xg(u)?(x="argmin",y=tt({op:"argmin",field:u.argmin},{forAs:!0}),v.field=`${y}.${c}`):u!=="boxplot"&&u!=="errorbar"&&u!=="errorband"&&(x=u),x){const m={op:x,as:y};c&&(m.field=c),o.push(m)}}else if(n.push(y),ol(a)&&Xr(f)){if(r.push({bin:f,field:c,as:y}),n.push(tt(a,{binSuffix:"end"})),gA(a,l)&&n.push(tt(a,{binSuffix:"range"})),no(l)){const x={field:`${y}_end`};s[`${l}2`]=x}v.bin="binned",lYe(l)||(v.type=$b)}else if(d&&!gO(d)){i.push({timeUnit:d,field:c,as:y});const x=ol(a)&&a.type!==ZS&&"time";x&&(l===aA||l===_b?v.formatType=x:fgn(l)?v.legend={formatType:x,...v.legend}:no(l)&&(v.axis={formatType:x,...v.axis}))}s[l]=v}else n.push(c),s[l]=e[l]}else s[l]=e[l]}),{bins:r,timeUnits:i,aggregate:o,groupby:n,encoding:s}}function jyn(e,t,n){const r=hgn(t,n);if(r){if(r==="binned"){const i=e[t===gd?vi:gs];return!!(Xe(i)&&Xe(e[t])&&xs(i.bin))}}else return!1;return!0}function Fyn(e,t,n,r){const i={};for(const o of Ue(e))aYe(o)||He(Jgn(o));for(let o of lgn){if(!e[o])continue;const s=e[o];if(cA(o)){const a=agn(o),l=i[a];if(Xe(l)&&Kmn(l.type)&&Xe(s)&&!l.timeUnit){He(Ygn(a));continue}}if(o==="angle"&&t==="arc"&&!e.theta&&(He(qgn),o=Hu),!jyn(e,o,t)){He(sz(o,t));continue}if(o===Qg&&t==="line"){const a=Rh(e[o]);if(a!=null&&a.aggregate){He(Kgn);continue}}if(o===Ul&&(n?"fill"in e:"stroke"in e)){He(EYe("encoding",{fill:"fill"in e,stroke:"stroke"in e}));continue}if(o===lA||o===XS&&!Me(s)&&!sd(s)||o===_b&&Me(s)){if(s){if(o===XS){const a=e[o];if(oXe(a)){i[o]=a;continue}}i[o]=lt(s).reduce((a,l)=>(Xe(l)?a.push(sue(l,o)):He(pG(l,o)),a),[])}}else{if(o===_b&&s===null)i[o]=null;else if(!Xe(s)&&!rp(s)&&!sd(s)&&!uz(s)&&!St(s)){He(pG(s,o));continue}i[o]=fXe(s,o,r)}}return i}function gz(e,t){const n={};for(const r of Ue(e)){const i=fXe(e[r],r,t,{compositeMark:!0});n[r]=i}return n}function zyn(e){const t=[];for(const n of Ue(e))if(_1(e,n)){const r=e[n],i=lt(r);for(const o of i)Xe(o)?t.push(o):fz(o)&&t.push(o.condition)}return t}function lue(e,t,n){if(e)for(const r of Ue(e)){const i=e[r];if(Me(i))for(const o of i)t.call(n,o,r);else t.call(n,i,r)}}function Qyn(e,t,n,r){return e?Ue(e).reduce((i,o)=>{const s=e[o];return Me(s)?s.reduce((a,l)=>t.call(r,a,l,o),i):t.call(r,i,s,o)},n):n}function bXe(e,t){return Ue(t).reduce((n,r)=>{switch(r){case vi:case gs:case J8:case tz:case ez:case gd:case Kh:case U0:case kC:case Hu:case zg:case md:case Fg:case yd:case vd:case bd:case Wu:case aA:case ql:case fO:case _b:return n;case XS:if(e==="line"||e==="trail")return n;case lA:case K8:{const i=t[r];if(Me(i)||Xe(i))for(const o of lt(i))o.aggregate||n.push(tt(o,{}));return n}case Qg:if(e==="trail")return n;case Ul:case Jh:case ep:case Bg:case q0:case Y0:case H0:case X0:{const i=Rh(t[r]);return i&&!i.aggregate&&n.push(tt(i,{})),n}}},[])}function Byn(e){const{tooltip:t,...n}=e;if(!t)return{filteredEncoding:n};let r,i;if(Me(t)){for(const o of t)o.aggregate?(r||(r=[]),r.push(o)):(i||(i=[]),i.push(o));r&&(n.tooltip=r)}else t.aggregate?n.tooltip=t:i=t;return Me(i)&&i.length===1&&(i=i[0]),{customTooltipWithoutAggregatedField:i,filteredEncoding:n}}function vG(e,t,n,r=!0){if("tooltip"in n)return{tooltip:n.tooltip};const i=e.map(({fieldPrefix:s,titlePrefix:a})=>{const l=r?` of ${cue(t)}`:"";return{field:s+t.field,type:t.type,title:St(a)?{signal:`${a}"${escape(l)}"`}:a+l}}),o=zyn(n).map(_yn);return{tooltip:[...i,...eh(o,Rn)]}}function cue(e){const{title:t,field:n}=e;return to(t,n)}function uue(e,t,n,r,i){const{scale:o,axis:s}=n;return({partName:a,mark:l,positionPrefix:c,endPositionPrefix:u=void 0,extraEncoding:f={}})=>{const d=cue(n);return OXe(e,a,i,{mark:l,encoding:{[t]:{field:`${c}_${n.field}`,type:n.type,...d!==void 0?{title:d}:{},...o!==void 0?{scale:o}:{},...s!==void 0?{axis:s}:{}},...at(u)?{[`${t}2`]:{field:`${u}_${n.field}`}}:{},...r,...f}})}}function OXe(e,t,n,r){const{clip:i,color:o,opacity:s}=e,a=e.type;return e[t]||e[t]===void 0&&n[t]?[{...r,mark:{...n[t],...i?{clip:i}:{},...o?{color:o}:{},...s?{opacity:s}:{},...kh(r.mark)?r.mark:{type:r.mark},style:`${a}-${String(t)}`,...M0(e[t])?{}:e[t]}}]:[]}function xXe(e,t,n){const{encoding:r}=e,i=t==="vertical"?"y":"x",o=r[i],s=r[`${i}2`],a=r[`${i}Error`],l=r[`${i}Error2`];return{continuousAxisChannelDef:LN(o,n),continuousAxisChannelDef2:LN(s,n),continuousAxisChannelDefError:LN(a,n),continuousAxisChannelDefError2:LN(l,n),continuousAxis:i}}function LN(e,t){if(e!=null&&e.aggregate){const{aggregate:n,...r}=e;return n!==t&&He(Emn(n,t)),r}else return e}function wXe(e,t){const{mark:n,encoding:r}=e,{x:i,y:o}=r;if(kh(n)&&n.orient)return n.orient;if(ny(i)){if(ny(o)){const s=Xe(i)&&i.aggregate,a=Xe(o)&&o.aggregate;if(!s&&a===t)return"vertical";if(!a&&s===t)return"horizontal";if(s===t&&a===t)throw new Error("Both x and y cannot have aggregate");return e_(o)&&!e_(i)?"horizontal":"vertical"}return"horizontal"}else{if(ny(o))return"vertical";throw new Error(`Need a valid continuous axis for ${t}s`)}}const Lj="boxplot",Wyn=["box","median","outliers","rule","ticks"],Vyn=new pz(Lj,_Xe);function SXe(e){return Un(e)?"tukey":e}function _Xe(e,{config:t}){e={...e,encoding:gz(e.encoding,t)};const{mark:n,encoding:r,params:i,projection:o,...s}=e,a=kh(n)?n:{type:n};i&&He(CYe("boxplot"));const l=a.extent??t.boxplot.extent,c=hr("size",a,t),u=a.invalid,f=SXe(l),{bins:d,timeUnits:h,transform:p,continuousAxisChannelDef:g,continuousAxis:y,groupby:v,aggregate:x,encodingWithoutContinuousAxis:m,ticksOrient:w,boxOrient:S,customTooltipWithoutAggregatedField:C}=Uyn(e,l,t),{color:$,size:E,...R}=m,N=ze=>uue(a,y,g,ze,t.boxplot),I=N(R),j=N(m),A=N({...R,...E?{size:E}:{}}),T=vG([{fieldPrefix:f==="min-max"?"upper_whisker_":"max_",titlePrefix:"Max"},{fieldPrefix:"upper_box_",titlePrefix:"Q3"},{fieldPrefix:"mid_box_",titlePrefix:"Median"},{fieldPrefix:"lower_box_",titlePrefix:"Q1"},{fieldPrefix:f==="min-max"?"lower_whisker_":"min_",titlePrefix:"Min"}],g,m),D={type:"tick",color:"black",opacity:1,orient:w,invalid:u,aria:!1},L=f==="min-max"?T:vG([{fieldPrefix:"upper_whisker_",titlePrefix:"Upper Whisker"},{fieldPrefix:"lower_whisker_",titlePrefix:"Lower Whisker"}],g,m),W=[...I({partName:"rule",mark:{type:"rule",invalid:u,aria:!1},positionPrefix:"lower_whisker",endPositionPrefix:"lower_box",extraEncoding:L}),...I({partName:"rule",mark:{type:"rule",invalid:u,aria:!1},positionPrefix:"upper_box",endPositionPrefix:"upper_whisker",extraEncoding:L}),...I({partName:"ticks",mark:D,positionPrefix:"lower_whisker",extraEncoding:L}),...I({partName:"ticks",mark:D,positionPrefix:"upper_whisker",extraEncoding:L})],V=[...f!=="tukey"?W:[],...j({partName:"box",mark:{type:"bar",...c?{size:c}:{},orient:S,invalid:u,ariaRoleDescription:"box"},positionPrefix:"lower_box",endPositionPrefix:"upper_box",extraEncoding:T}),...A({partName:"median",mark:{type:"tick",invalid:u,...ut(t.boxplot.median)&&t.boxplot.median.color?{color:t.boxplot.median.color}:{},...c?{size:c}:{},orient:w,aria:!1},positionPrefix:"mid_box",extraEncoding:T})];if(f==="min-max")return{...s,transform:(s.transform??[]).concat(p),layer:V};const Q=`datum["lower_box_${g.field}"]`,B=`datum["upper_box_${g.field}"]`,Y=`(${B} - ${Q})`,U=`${Q} - ${l} * ${Y}`,q=`${B} + ${l} * ${Y}`,Z=`datum["${g.field}"]`,oe={joinaggregate:CXe(g.field),groupby:v},ce={transform:[{filter:`(${U} <= ${Z}) && (${Z} <= ${q})`},{aggregate:[{op:"min",field:g.field,as:`lower_whisker_${g.field}`},{op:"max",field:g.field,as:`upper_whisker_${g.field}`},{op:"min",field:`lower_box_${g.field}`,as:`lower_box_${g.field}`},{op:"max",field:`upper_box_${g.field}`,as:`upper_box_${g.field}`},...x],groupby:v}],layer:W},{tooltip:re,...fe}=R,{scale:ae,axis:ue}=g,me=cue(g),ne=Nl(ue,["title"]),Le=OXe(a,"outliers",t.boxplot,{transform:[{filter:`(${Z} < ${U}) || (${Z} > ${q})`}],mark:"point",encoding:{[y]:{field:g.field,type:g.type,...me!==void 0?{title:me}:{},...ae!==void 0?{scale:ae}:{},...Cr(ne)?{}:{axis:ne}},...fe,...$?{color:$}:{},...C?{tooltip:C}:{}}})[0];let _e;const ke=[...d,...h,oe];return Le?_e={transform:ke,layer:[Le,ce]}:(_e=ce,_e.transform.unshift(...ke)),{...s,layer:[_e,{transform:p,layer:V}]}}function CXe(e){return[{op:"q1",field:e,as:`lower_box_${e}`},{op:"q3",field:e,as:`upper_box_${e}`}]}function Uyn(e,t,n){const r=wXe(e,Lj),{continuousAxisChannelDef:i,continuousAxis:o}=xXe(e,r,Lj),s=i.field,a=SXe(t),l=[...CXe(s),{op:"median",field:s,as:`mid_box_${s}`},{op:"min",field:s,as:(a==="min-max"?"lower_whisker_":"min_")+s},{op:"max",field:s,as:(a==="min-max"?"upper_whisker_":"max_")+s}],c=a==="min-max"||a==="tukey"?[]:[{calculate:`datum["upper_box_${s}"] - datum["lower_box_${s}"]`,as:`iqr_${s}`},{calculate:`min(datum["upper_box_${s}"] + datum["iqr_${s}"] * ${t}, datum["max_${s}"])`,as:`upper_whisker_${s}`},{calculate:`max(datum["lower_box_${s}"] - datum["iqr_${s}"] * ${t}, datum["min_${s}"])`,as:`lower_whisker_${s}`}],{[o]:u,...f}=e.encoding,{customTooltipWithoutAggregatedField:d,filteredEncoding:h}=Byn(f),{bins:p,timeUnits:g,aggregate:y,groupby:v,encoding:x}=vXe(h,n),m=r==="vertical"?"horizontal":"vertical",w=r,S=[...p,...g,{aggregate:[...y,...l],groupby:v},...c];return{bins:p,timeUnits:g,transform:S,groupby:v,aggregate:y,continuousAxisChannelDef:i,continuousAxis:o,encodingWithoutContinuousAxis:x,ticksOrient:m,boxOrient:w,customTooltipWithoutAggregatedField:d}}const fue="errorbar",qyn=["ticks","rule"],Yyn=new pz(fue,$Xe);function $Xe(e,{config:t}){e={...e,encoding:gz(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,ticksOrient:s,markDef:a,outerSpec:l,tooltipEncoding:c}=EXe(e,fue,t);delete o.size;const u=uue(a,i,r,o,t.errorbar),f=a.thickness,d=a.size,h={type:"tick",orient:s,aria:!1,...f!==void 0?{thickness:f}:{},...d!==void 0?{size:d}:{}},p=[...u({partName:"ticks",mark:h,positionPrefix:"lower",extraEncoding:c}),...u({partName:"ticks",mark:h,positionPrefix:"upper",extraEncoding:c}),...u({partName:"rule",mark:{type:"rule",ariaRoleDescription:"errorbar",...f!==void 0?{size:f}:{}},positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:c})];return{...l,transform:n,...p.length>1?{layer:p}:{...p[0]}}}function Xyn(e,t){const{encoding:n}=e;if(Hyn(n))return{orient:wXe(e,t),inputType:"raw"};const r=Zyn(n),i=Gyn(n),o=n.x,s=n.y;if(r){if(i)throw new Error(`${t} cannot be both type aggregated-upper-lower and aggregated-error`);const a=n.x2,l=n.y2;if(Gt(a)&&Gt(l))throw new Error(`${t} cannot have both x2 and y2`);if(Gt(a)){if(ny(o))return{orient:"horizontal",inputType:"aggregated-upper-lower"};throw new Error(`Both x and x2 have to be quantitative in ${t}`)}else if(Gt(l)){if(ny(s))return{orient:"vertical",inputType:"aggregated-upper-lower"};throw new Error(`Both y and y2 have to be quantitative in ${t}`)}throw new Error("No ranged axis")}else{const a=n.xError,l=n.xError2,c=n.yError,u=n.yError2;if(Gt(l)&&!Gt(a))throw new Error(`${t} cannot have xError2 without xError`);if(Gt(u)&&!Gt(c))throw new Error(`${t} cannot have yError2 without yError`);if(Gt(a)&&Gt(c))throw new Error(`${t} cannot have both xError and yError with both are quantiative`);if(Gt(a)){if(ny(o))return{orient:"horizontal",inputType:"aggregated-error"};throw new Error("All x, xError, and xError2 (if exist) have to be quantitative")}else if(Gt(c)){if(ny(s))return{orient:"vertical",inputType:"aggregated-error"};throw new Error("All y, yError, and yError2 (if exist) have to be quantitative")}throw new Error("No ranged axis")}}function Hyn(e){return(Gt(e.x)||Gt(e.y))&&!Gt(e.x2)&&!Gt(e.y2)&&!Gt(e.xError)&&!Gt(e.xError2)&&!Gt(e.yError)&&!Gt(e.yError2)}function Zyn(e){return Gt(e.x2)||Gt(e.y2)}function Gyn(e){return Gt(e.xError)||Gt(e.xError2)||Gt(e.yError)||Gt(e.yError2)}function EXe(e,t,n){const{mark:r,encoding:i,params:o,projection:s,...a}=e,l=kh(r)?r:{type:r};o&&He(CYe(t));const{orient:c,inputType:u}=Xyn(e,t),{continuousAxisChannelDef:f,continuousAxisChannelDef2:d,continuousAxisChannelDefError:h,continuousAxisChannelDefError2:p,continuousAxis:g}=xXe(e,c,t),{errorBarSpecificAggregate:y,postAggregateCalculates:v,tooltipSummary:x,tooltipTitleWithFieldName:m}=Kyn(l,f,d,h,p,u,t,n),{[g]:w,[g==="x"?"x2":"y2"]:S,[g==="x"?"xError":"yError"]:C,[g==="x"?"xError2":"yError2"]:$,...E}=i,{bins:R,timeUnits:N,aggregate:I,groupby:j,encoding:A}=vXe(E,n),T=[...I,...y],D=u!=="raw"?[]:j,L=vG(x,f,A,m);return{transform:[...a.transform??[],...R,...N,...T.length===0?[]:[{aggregate:T,groupby:D}],...v],groupby:D,continuousAxisChannelDef:f,continuousAxis:g,encodingWithoutContinuousAxis:A,ticksOrient:c==="vertical"?"horizontal":"vertical",markDef:l,outerSpec:a,tooltipEncoding:L}}function Kyn(e,t,n,r,i,o,s,a){let l=[],c=[];const u=t.field;let f,d=!1;if(o==="raw"){const h=e.center?e.center:e.extent?e.extent==="iqr"?"median":"mean":a.errorbar.center,p=e.extent?e.extent:h==="mean"?"stderr":"iqr";if(h==="median"!=(p==="iqr")&&He($mn(h,p,s)),p==="stderr"||p==="stdev")l=[{op:p,field:u,as:`extent_${u}`},{op:h,field:u,as:`center_${u}`}],c=[{calculate:`datum["center_${u}"] + datum["extent_${u}"]`,as:`upper_${u}`},{calculate:`datum["center_${u}"] - datum["extent_${u}"]`,as:`lower_${u}`}],f=[{fieldPrefix:"center_",titlePrefix:OR(h)},{fieldPrefix:"upper_",titlePrefix:mSe(h,p,"+")},{fieldPrefix:"lower_",titlePrefix:mSe(h,p,"-")}],d=!0;else{let g,y,v;p==="ci"?(g="mean",y="ci0",v="ci1"):(g="median",y="q1",v="q3"),l=[{op:y,field:u,as:`lower_${u}`},{op:v,field:u,as:`upper_${u}`},{op:g,field:u,as:`center_${u}`}],f=[{fieldPrefix:"upper_",titlePrefix:jw({field:u,aggregate:v,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"lower_",titlePrefix:jw({field:u,aggregate:y,type:"quantitative"},a,{allowDisabling:!1})},{fieldPrefix:"center_",titlePrefix:jw({field:u,aggregate:g,type:"quantitative"},a,{allowDisabling:!1})}]}}else{(e.center||e.extent)&&He(Cmn(e.center,e.extent)),o==="aggregated-upper-lower"?(f=[],c=[{calculate:`datum["${n.field}"]`,as:`upper_${u}`},{calculate:`datum["${u}"]`,as:`lower_${u}`}]):o==="aggregated-error"&&(f=[{fieldPrefix:"",titlePrefix:u}],c=[{calculate:`datum["${u}"] + datum["${r.field}"]`,as:`upper_${u}`}],i?c.push({calculate:`datum["${u}"] + datum["${i.field}"]`,as:`lower_${u}`}):c.push({calculate:`datum["${u}"] - datum["${r.field}"]`,as:`lower_${u}`}));for(const h of c)f.push({fieldPrefix:h.as.substring(0,6),titlePrefix:lb(lb(h.calculate,'datum["',""),'"]',"")})}return{postAggregateCalculates:c,errorBarSpecificAggregate:l,tooltipSummary:f,tooltipTitleWithFieldName:d}}function mSe(e,t,n){return`${OR(e)} ${n} ${t}`}const due="errorband",Jyn=["band","borders"],e0n=new pz(due,kXe);function kXe(e,{config:t}){e={...e,encoding:gz(e.encoding,t)};const{transform:n,continuousAxisChannelDef:r,continuousAxis:i,encodingWithoutContinuousAxis:o,markDef:s,outerSpec:a,tooltipEncoding:l}=EXe(e,due,t),c=s,u=uue(c,i,r,o,t.errorband),f=e.encoding.x!==void 0&&e.encoding.y!==void 0;let d={type:f?"area":"rect"},h={type:f?"line":"rule"};const p={...c.interpolate?{interpolate:c.interpolate}:{},...c.tension&&c.interpolate?{tension:c.tension}:{}};return f?(d={...d,...p,ariaRoleDescription:"errorband"},h={...h,...p,aria:!1}):c.interpolate?He(lSe("interpolate")):c.tension&&He(lSe("tension")),{...a,transform:n,layer:[...u({partName:"band",mark:d,positionPrefix:"lower",endPositionPrefix:"upper",extraEncoding:l}),...u({partName:"borders",mark:h,positionPrefix:"lower",extraEncoding:l}),...u({partName:"borders",mark:h,positionPrefix:"upper",extraEncoding:l})]}}const TXe={};function hue(e,t,n){const r=new pz(e,t);TXe[e]={normalizer:r,parts:n}}function t0n(){return Ue(TXe)}hue(Lj,_Xe,Wyn);hue(fue,$Xe,qyn);hue(due,kXe,Jyn);const n0n=["gradientHorizontalMaxLength","gradientHorizontalMinLength","gradientVerticalMaxLength","gradientVerticalMinLength","unselectedOpacity"],PXe={titleAlign:"align",titleAnchor:"anchor",titleAngle:"angle",titleBaseline:"baseline",titleColor:"color",titleFont:"font",titleFontSize:"fontSize",titleFontStyle:"fontStyle",titleFontWeight:"fontWeight",titleLimit:"limit",titleLineHeight:"lineHeight",titleOrient:"orient",titlePadding:"offset"},RXe={labelAlign:"align",labelAnchor:"anchor",labelAngle:"angle",labelBaseline:"baseline",labelColor:"color",labelFont:"font",labelFontSize:"fontSize",labelFontStyle:"fontStyle",labelFontWeight:"fontWeight",labelLimit:"limit",labelLineHeight:"lineHeight",labelOrient:"orient",labelPadding:"offset"},r0n=Ue(PXe),i0n=Ue(RXe),o0n={header:1,headerRow:1,headerColumn:1,headerFacet:1},AXe=Ue(o0n),DXe=["size","shape","fill","stroke","strokeDash","strokeWidth","opacity"],s0n={gradientHorizontalMaxLength:200,gradientHorizontalMinLength:100,gradientVerticalMaxLength:200,gradientVerticalMinLength:64,unselectedOpacity:.35},a0n={aria:1,clipHeight:1,columnPadding:1,columns:1,cornerRadius:1,description:1,direction:1,fillColor:1,format:1,formatType:1,gradientLength:1,gradientOpacity:1,gradientStrokeColor:1,gradientStrokeWidth:1,gradientThickness:1,gridAlign:1,labelAlign:1,labelBaseline:1,labelColor:1,labelFont:1,labelFontSize:1,labelFontStyle:1,labelFontWeight:1,labelLimit:1,labelOffset:1,labelOpacity:1,labelOverlap:1,labelPadding:1,labelSeparation:1,legendX:1,legendY:1,offset:1,orient:1,padding:1,rowPadding:1,strokeColor:1,symbolDash:1,symbolDashOffset:1,symbolFillColor:1,symbolLimit:1,symbolOffset:1,symbolOpacity:1,symbolSize:1,symbolStrokeColor:1,symbolStrokeWidth:1,symbolType:1,tickCount:1,tickMinStep:1,title:1,titleAlign:1,titleAnchor:1,titleBaseline:1,titleColor:1,titleFont:1,titleFontSize:1,titleFontStyle:1,titleFontWeight:1,titleLimit:1,titleLineHeight:1,titleOpacity:1,titleOrient:1,titlePadding:1,type:1,values:1,zindex:1},ad="_vgsid_",l0n={point:{on:"click",fields:[ad],toggle:"event.shiftKey",resolve:"global",clear:"dblclick"},interval:{on:"[pointerdown, window:pointerup] > window:pointermove!",encodings:["x","y"],translate:"[pointerdown, window:pointerup] > window:pointermove!",zoom:"wheel!",mark:{fill:"#333",fillOpacity:.125,stroke:"white"},resolve:"global",clear:"dblclick"}};function pue(e){return e==="legend"||!!(e!=null&&e.legend)}function CV(e){return pue(e)&&ut(e)}function gue(e){return!!(e!=null&&e.select)}function NXe(e){const t=[];for(const n of e||[]){if(gue(n))continue;const{expr:r,bind:i,...o}=n;if(i&&r){const s={...o,bind:i,init:r};t.push(s)}else{const s={...o,...r?{update:r}:{},...i?{bind:i}:{}};t.push(s)}}return t}function c0n(e){return mz(e)||yue(e)||mue(e)}function mue(e){return"concat"in e}function mz(e){return"vconcat"in e}function yue(e){return"hconcat"in e}function MXe({step:e,offsetIsDiscrete:t}){return t?e.for??"offset":"position"}function Ah(e){return ut(e)&&e.step!==void 0}function ySe(e){return e.view||e.width||e.height}const vSe=20,u0n={align:1,bounds:1,center:1,columns:1,spacing:1},f0n=Ue(u0n);function d0n(e,t,n){const r=n[t],i={},{spacing:o,columns:s}=r;o!==void 0&&(i.spacing=o),s!==void 0&&(cz(e)&&!hA(e.facet)||mue(e))&&(i.columns=s),mz(e)&&(i.columns=1);for(const a of f0n)if(e[a]!==void 0)if(a==="spacing"){const l=e[a];i[a]=Un(l)?l:{row:l.row??o,column:l.column??o}}else i[a]=e[a];return i}function bG(e,t){return e[t]??e[t==="width"?"continuousWidth":"continuousHeight"]}function jj(e,t){const n=Fj(e,t);return Ah(n)?n.step:IXe}function Fj(e,t){const n=e[t]??e[t==="width"?"discreteWidth":"discreteHeight"];return to(n,{step:e.step})}const IXe=20,h0n={continuousWidth:200,continuousHeight:200,step:IXe},p0n={background:"white",padding:5,timeFormat:"%b %d, %Y",countTitle:"Count of Records",view:h0n,mark:i8t,arc:{},area:{},bar:a8t,circle:{},geoshape:{},image:{},line:{},point:{},rect:l8t,rule:{color:"black"},square:{},text:{color:"black"},tick:c8t,trail:{},boxplot:{size:14,extent:1.5,box:{},median:{color:"white"},outliers:{},rule:{},ticks:null},errorbar:{center:"mean",rule:!0,ticks:!1},errorband:{band:{opacity:.3},borders:!1},scale:iyn,projection:{},legend:s0n,header:{titlePadding:10,labelPadding:10},headerColumn:{},headerRow:{},headerFacet:{},selection:l0n,style:{},title:{},facet:{spacing:vSe},concat:{spacing:vSe},normalizedNumberFormat:".0%"},pp=["#4c78a8","#f58518","#e45756","#72b7b2","#54a24b","#eeca3b","#b279a2","#ff9da6","#9d755d","#bab0ac"],bSe={text:11,guideLabel:10,guideTitle:11,groupTitle:13,groupSubtitle:12},OSe={blue:pp[0],orange:pp[1],red:pp[2],teal:pp[3],green:pp[4],yellow:pp[5],purple:pp[6],pink:pp[7],brown:pp[8],gray0:"#000",gray1:"#111",gray2:"#222",gray3:"#333",gray4:"#444",gray5:"#555",gray6:"#666",gray7:"#777",gray8:"#888",gray9:"#999",gray10:"#aaa",gray11:"#bbb",gray12:"#ccc",gray13:"#ddd",gray14:"#eee",gray15:"#fff"};function g0n(e={}){return{signals:[{name:"color",value:ut(e)?{...OSe,...e}:OSe}],mark:{color:{signal:"color.blue"}},rule:{color:{signal:"color.gray0"}},text:{color:{signal:"color.gray0"}},style:{"guide-label":{fill:{signal:"color.gray0"}},"guide-title":{fill:{signal:"color.gray0"}},"group-title":{fill:{signal:"color.gray0"}},"group-subtitle":{fill:{signal:"color.gray0"}},cell:{stroke:{signal:"color.gray8"}}},axis:{domainColor:{signal:"color.gray13"},gridColor:{signal:"color.gray8"},tickColor:{signal:"color.gray13"}},range:{category:[{signal:"color.blue"},{signal:"color.orange"},{signal:"color.red"},{signal:"color.teal"},{signal:"color.green"},{signal:"color.yellow"},{signal:"color.purple"},{signal:"color.pink"},{signal:"color.brown"},{signal:"color.grey8"}]}}}function m0n(e){return{signals:[{name:"fontSize",value:ut(e)?{...bSe,...e}:bSe}],text:{fontSize:{signal:"fontSize.text"}},style:{"guide-label":{fontSize:{signal:"fontSize.guideLabel"}},"guide-title":{fontSize:{signal:"fontSize.guideTitle"}},"group-title":{fontSize:{signal:"fontSize.groupTitle"}},"group-subtitle":{fontSize:{signal:"fontSize.groupSubtitle"}}}}}function y0n(e){return{text:{font:e},style:{"guide-label":{font:e},"guide-title":{font:e},"group-title":{font:e},"group-subtitle":{font:e}}}}function LXe(e){const t=Ue(e||{}),n={};for(const r of t){const i=e[r];n[r]=mA(i)?vYe(i):wc(i)}return n}function v0n(e){const t=Ue(e),n={};for(const r of t)n[r]=LXe(e[r]);return n}const b0n=[...Z6e,...gXe,...AXe,"background","padding","legend","lineBreak","scale","style","title","view"];function jXe(e={}){const{color:t,font:n,fontSize:r,selection:i,...o}=e,s=iC({},qt(p0n),n?y0n(n):{},t?g0n(t):{},r?m0n(r):{},o||{});i&&oC(s,"selection",i,!0);const a=Nl(s,b0n);for(const l of["background","lineBreak","padding"])s[l]&&(a[l]=wc(s[l]));for(const l of Z6e)s[l]&&(a[l]=bl(s[l]));for(const l of gXe)s[l]&&(a[l]=LXe(s[l]));for(const l of AXe)s[l]&&(a[l]=bl(s[l]));return s.legend&&(a.legend=bl(s.legend)),s.scale&&(a.scale=bl(s.scale)),s.style&&(a.style=v0n(s.style)),s.title&&(a.title=bl(s.title)),s.view&&(a.view=bl(s.view)),a}const O0n=new Set(["view",...K7t]),x0n=["color","fontSize","background","padding","facet","concat","numberFormat","numberFormatType","normalizedNumberFormat","normalizedNumberFormatType","timeFormat","countTitle","header","axisQuantitative","axisTemporal","axisDiscrete","axisPoint","axisXBand","axisXPoint","axisXDiscrete","axisXQuantitative","axisXTemporal","axisYBand","axisYPoint","axisYDiscrete","axisYQuantitative","axisYTemporal","scale","selection","overlay"],w0n={view:["continuousWidth","continuousHeight","discreteWidth","discreteHeight","step"],...r8t};function S0n(e){e=qt(e);for(const t of x0n)delete e[t];if(e.axis)for(const t in e.axis)mA(e.axis[t])&&delete e.axis[t];if(e.legend)for(const t of n0n)delete e.legend[t];if(e.mark){for(const t of O1e)delete e.mark[t];e.mark.tooltip&&ut(e.mark.tooltip)&&delete e.mark.tooltip}e.params&&(e.signals=(e.signals||[]).concat(NXe(e.params)),delete e.params);for(const t of O0n){for(const r of O1e)delete e[t][r];const n=w0n[t];if(n)for(const r of n)delete e[t][r];C0n(e,t)}for(const t of t0n())delete e[t];_0n(e);for(const t in e)ut(e[t])&&Cr(e[t])&&delete e[t];return Cr(e)?void 0:e}function _0n(e){const{titleMarkConfig:t,subtitleMarkConfig:n,subtitle:r}=yYe(e.title);Cr(t)||(e.style["group-title"]={...e.style["group-title"],...t}),Cr(n)||(e.style["group-subtitle"]={...e.style["group-subtitle"],...n}),Cr(r)?delete e.title:e.title=r}function C0n(e,t,n,r){const i=r?e[t][r]:e[t];t==="view"&&(n="cell");const o={...i,...e.style[n??t]};Cr(o)||(e.style[n??t]=o),r||delete e[t]}function yz(e){return"layer"in e}function $0n(e){return"repeat"in e}function E0n(e){return!Me(e.repeat)&&e.repeat.layer}class vue{map(t,n){return cz(t)?this.mapFacet(t,n):$0n(t)?this.mapRepeat(t,n):yue(t)?this.mapHConcat(t,n):mz(t)?this.mapVConcat(t,n):mue(t)?this.mapConcat(t,n):this.mapLayerOrUnit(t,n)}mapLayerOrUnit(t,n){if(yz(t))return this.mapLayer(t,n);if(Vg(t))return this.mapUnit(t,n);throw new Error(Lce(t))}mapLayer(t,n){return{...t,layer:t.layer.map(r=>this.mapLayerOrUnit(r,n))}}mapHConcat(t,n){return{...t,hconcat:t.hconcat.map(r=>this.map(r,n))}}mapVConcat(t,n){return{...t,vconcat:t.vconcat.map(r=>this.map(r,n))}}mapConcat(t,n){const{concat:r,...i}=t;return{...i,concat:r.map(o=>this.map(o,n))}}mapFacet(t,n){return{...t,spec:this.map(t.spec,n)}}mapRepeat(t,n){return{...t,spec:this.map(t.spec,n)}}}const k0n={zero:1,center:1,normalize:1};function T0n(e){return e in k0n}const P0n=new Set([Y6e,h7,d7,W3,g7,Kie,Jie,p7,X6e,Gie]),R0n=new Set([h7,d7,Y6e]);function ex(e){return Xe(e)&&KS(e)==="quantitative"&&!e.bin}function xSe(e,t,{orient:n,type:r}){const i=t==="x"?"y":"radius",o=t==="x"&&["bar","area"].includes(r),s=e[t],a=e[i];if(Xe(s)&&Xe(a))if(ex(s)&&ex(a)){if(s.stack)return t;if(a.stack)return i;const l=Xe(s)&&!!s.aggregate,c=Xe(a)&&!!a.aggregate;if(l!==c)return l?t:i;if(o){if(n==="vertical")return i;if(n==="horizontal")return t}}else{if(ex(s))return t;if(ex(a))return i}else{if(ex(s))return o&&n==="vertical"?void 0:t;if(ex(a))return o&&n==="horizontal"?void 0:i}}function A0n(e){switch(e){case"x":return"y";case"y":return"x";case"theta":return"radius";case"radius":return"theta"}}function FXe(e,t){var g,y;const n=kh(e)?e:{type:e},r=n.type;if(!P0n.has(r))return null;const i=xSe(t,"x",n)||xSe(t,"theta",n);if(!i)return null;const o=t[i],s=Xe(o)?tt(o,{}):void 0,a=A0n(i),l=[],c=new Set;if(t[a]){const v=t[a],x=Xe(v)?tt(v,{}):void 0;x&&x!==s&&(l.push(a),c.add(x))}const u=a==="x"?"xOffset":"yOffset",f=t[u],d=Xe(f)?tt(f,{}):void 0;d&&d!==s&&(l.push(u),c.add(d));const h=cgn.reduce((v,x)=>{if(x!=="tooltip"&&_1(t,x)){const m=t[x];for(const w of lt(m)){const S=Rh(w);if(S.aggregate)continue;const C=tt(S,{});(!C||!c.has(C))&&v.push({channel:x,fieldDef:S})}}return v},[]);let p;return o.stack!==void 0?M0(o.stack)?p=o.stack?"zero":null:p=o.stack:R0n.has(r)&&(p="zero"),!p||!T0n(p)||aue(t)&&h.length===0?null:(g=o==null?void 0:o.scale)!=null&&g.type&&((y=o==null?void 0:o.scale)==null?void 0:y.type)!==jl.LINEAR?(o!=null&&o.stack&&He(wmn(o.scale.type)),null):Gt(t[tp(i)])?(o.stack!==void 0&&He(xmn(i)),null):(Xe(o)&&o.aggregate&&!Ogn.has(o.aggregate)&&He(Smn(o.aggregate)),{groupbyChannels:l,groupbyFields:c,fieldChannel:i,impute:o.impute===null?!1:I0(r),stackBy:h,offset:p})}function zXe(e,t,n){const r=bl(e),i=hr("orient",r,n);if(r.orient=I0n(r.type,t,i),i!==void 0&&i!==r.orient&&He(omn(r.orient,i)),r.type==="bar"&&r.orient){const a=hr("cornerRadiusEnd",r,n);if(a!==void 0){const l=r.orient==="horizontal"&&t.x2||r.orient==="vertical"&&t.y2?["cornerRadius"]:s8t[r.orient];for(const c of l)r[c]=a;r.cornerRadiusEnd!==void 0&&delete r.cornerRadiusEnd}}return hr("opacity",r,n)===void 0&&(r.opacity=N0n(r.type,t)),hr("cursor",r,n)===void 0&&(r.cursor=D0n(r,t,n)),r}function D0n(e,t,n){return t.href||e.href||hr("href",e,n)?"pointer":e.cursor}function N0n(e,t){if(kn([g7,Gie,Kie,Jie],e)&&!aue(t))return .7}function M0n(e,t,{graticule:n}){if(n)return!1;const r=wg("filled",e,t),i=e.type;return to(r,i!==g7&&i!==p7&&i!==W3)}function I0n(e,t,n){switch(e){case g7:case Kie:case Jie:case X6e:case Z7t:case H7t:return}const{x:r,y:i,x2:o,y2:s}=t;switch(e){case h7:if(Xe(r)&&(xs(r.bin)||Xe(i)&&i.aggregate&&!r.aggregate))return"vertical";if(Xe(i)&&(xs(i.bin)||Xe(r)&&r.aggregate&&!i.aggregate))return"horizontal";if(s||o){if(n)return n;if(!o)return(Xe(r)&&r.type===$b&&!Xr(r.bin)||Dj(r))&&Xe(i)&&xs(i.bin)?"horizontal":"vertical";if(!s)return(Xe(i)&&i.type===$b&&!Xr(i.bin)||Dj(i))&&Xe(r)&&xs(r.bin)?"vertical":"horizontal"}case W3:if(o&&!(Xe(r)&&xs(r.bin))&&s&&!(Xe(i)&&xs(i.bin)))return;case d7:if(s)return Xe(i)&&xs(i.bin)?"horizontal":"vertical";if(o)return Xe(r)&&xs(r.bin)?"vertical":"horizontal";if(e===W3){if(r&&!i)return"vertical";if(i&&!r)return"horizontal"}case p7:case Gie:{const a=hSe(r),l=hSe(i);if(n)return n;if(a&&!l)return e!=="tick"?"horizontal":"vertical";if(!a&&l)return e!=="tick"?"vertical":"horizontal";if(a&&l)return"vertical";{const c=ol(r)&&r.type===ZS,u=ol(i)&&i.type===ZS;if(c&&!u)return"vertical";if(!c&&u)return"horizontal"}return}}return"vertical"}function L0n(e){const{point:t,line:n,...r}=e;return Ue(r).length>1?r:r.type}function j0n(e){for(const t of["line","area","rule","trail"])e[t]&&(e={...e,[t]:Nl(e[t],["point","line"])});return e}function $V(e,t={},n){return e.point==="transparent"?{opacity:0}:e.point?ut(e.point)?e.point:{}:e.point!==void 0?null:t.point||n.shape?ut(t.point)?t.point:{}:void 0}function wSe(e,t={}){return e.line?e.line===!0?{}:e.line:e.line!==void 0?null:t.line?t.line===!0?{}:t.line:void 0}class F0n{constructor(){this.name="path-overlay"}hasMatchingType(t,n){if(Vg(t)){const{mark:r,encoding:i}=t,o=kh(r)?r:{type:r};switch(o.type){case"line":case"rule":case"trail":return!!$V(o,n[o.type],i);case"area":return!!$V(o,n[o.type],i)||!!wSe(o,n[o.type])}}return!1}run(t,n,r){const{config:i}=n,{params:o,projection:s,mark:a,name:l,encoding:c,...u}=t,f=gz(c,i),d=kh(a)?a:{type:a},h=$V(d,i[d.type],f),p=d.type==="area"&&wSe(d,i[d.type]),g=[{name:l,...o?{params:o}:{},mark:L0n({...d.type==="area"&&d.opacity===void 0&&d.fillOpacity===void 0?{opacity:.7}:{},...d}),encoding:Nl(f,["shape"])}],y=FXe(zXe(d,f,i),f);let v=f;if(y){const{fieldChannel:x,offset:m}=y;v={...f,[x]:{...f[x],...m?{stack:m}:{}}}}return v=Nl(v,["y2","x2"]),p&&g.push({...s?{projection:s}:{},mark:{type:"line",...$S(d,["clip","interpolate","tension","tooltip"]),...p},encoding:v}),h&&g.push({...s?{projection:s}:{},mark:{type:"point",opacity:1,filled:!0,...$S(d,["clip","tooltip"]),...h},encoding:v}),r({...u,layer:g},{...n,config:j0n(i)})}}function z0n(e,t){return t?hA(e)?BXe(e,t):QXe(e,t):e}function EV(e,t){return t?BXe(e,t):e}function OG(e,t,n){const r=t[e];if(wyn(r)){if(r.repeat in n)return{...t,[e]:n[r.repeat]};He(Fgn(r.repeat));return}return t}function QXe(e,t){if(e=OG("field",e,t),e!==void 0){if(e===null)return null;if(rue(e)&&ph(e.sort)){const n=OG("field",e.sort,t);e={...e,...n?{sort:n}:{}}}return e}}function SSe(e,t){if(Xe(e))return QXe(e,t);{const n=OG("datum",e,t);return n!==e&&!n.type&&(n.type="nominal"),n}}function _Se(e,t){if(Gt(e)){const n=SSe(e,t);if(n)return n;if(uz(e))return{condition:e.condition}}else{if(pA(e)){const n=SSe(e.condition,t);if(n)return{...e,condition:n};{const{condition:r,...i}=e;return i}}return e}}function BXe(e,t){const n={};for(const r in e)if(Rt(e,r)){const i=e[r];if(Me(i))n[r]=i.map(o=>_Se(o,t)).filter(o=>o);else{const o=_Se(i,t);o!==void 0&&(n[r]=o)}}return n}class Q0n{constructor(){this.name="RuleForRangedLine"}hasMatchingType(t){if(Vg(t)){const{encoding:n,mark:r}=t;if(r==="line"||kh(r)&&r.type==="line")for(const i of sgn){const o=dO(i),s=n[o];if(n[i]&&(Xe(s)&&!xs(s.bin)||rp(s)))return!0}}return!1}run(t,n,r){const{encoding:i,mark:o}=t;return He(imn(!!i.x2,!!i.y2)),r({...t,mark:ut(o)?{...o,type:"rule"}:"rule"},n)}}class B0n extends vue{constructor(){super(...arguments),this.nonFacetUnitNormalizers=[Vyn,Yyn,e0n,new F0n,new Q0n]}map(t,n){if(Vg(t)){const r=_1(t.encoding,Jp),i=_1(t.encoding,eg),o=_1(t.encoding,G8);if(r||i||o)return this.mapFacetedUnit(t,n)}return super.map(t,n)}mapUnit(t,n){const{parentEncoding:r,parentProjection:i}=n,o=EV(t.encoding,n.repeater),s={...t,...t.name?{name:[n.repeaterPrefix,t.name].filter(l=>l).join("_")}:{},...o?{encoding:o}:{}};if(r||i)return this.mapUnitWithParentEncodingOrProjection(s,n);const a=this.mapLayerOrUnit.bind(this);for(const l of this.nonFacetUnitNormalizers)if(l.hasMatchingType(s,n.config))return l.run(s,n,a);return s}mapRepeat(t,n){return E0n(t)?this.mapLayerRepeat(t,n):this.mapNonLayerRepeat(t,n)}mapLayerRepeat(t,n){const{repeat:r,spec:i,...o}=t,{row:s,column:a,layer:l}=r,{repeater:c={},repeaterPrefix:u=""}=n;return s||a?this.mapRepeat({...t,repeat:{...s?{row:s}:{},...a?{column:a}:{}},spec:{repeat:{layer:l},spec:i}},n):{...o,layer:l.map(f=>{const d={...c,layer:f},h=`${(i.name?`${i.name}_`:"")+u}child__layer_${yi(f)}`,p=this.mapLayerOrUnit(i,{...n,repeater:d,repeaterPrefix:h});return p.name=h,p})}}mapNonLayerRepeat(t,n){const{repeat:r,spec:i,data:o,...s}=t;!Me(r)&&t.columns&&(t=Nl(t,["columns"]),He(iSe("repeat")));const a=[],{repeater:l={},repeaterPrefix:c=""}=n,u=!Me(r)&&r.row||[l?l.row:null],f=!Me(r)&&r.column||[l?l.column:null],d=Me(r)&&r||[l?l.repeat:null];for(const p of d)for(const g of u)for(const y of f){const v={repeat:p,row:g,column:y,layer:l.layer},x=(i.name?`${i.name}_`:"")+c+"child__"+(Me(r)?`${yi(p)}`:(r.row?`row_${yi(g)}`:"")+(r.column?`column_${yi(y)}`:"")),m=this.map(i,{...n,repeater:v,repeaterPrefix:x});m.name=x,a.push(Nl(m,["data"]))}const h=Me(r)?t.columns:r.column?r.column.length:1;return{data:i.data??o,align:"all",...s,columns:h,concat:a}}mapFacet(t,n){const{facet:r}=t;return hA(r)&&t.columns&&(t=Nl(t,["columns"]),He(iSe("facet"))),super.mapFacet(t,n)}mapUnitWithParentEncodingOrProjection(t,n){const{encoding:r,projection:i}=t,{parentEncoding:o,parentProjection:s,config:a}=n,l=$Se({parentProjection:s,projection:i}),c=CSe({parentEncoding:o,encoding:EV(r,n.repeater)});return this.mapUnit({...t,...l?{projection:l}:{},...c?{encoding:c}:{}},{config:a})}mapFacetedUnit(t,n){const{row:r,column:i,facet:o,...s}=t.encoding,{mark:a,width:l,projection:c,height:u,view:f,params:d,encoding:h,...p}=t,{facetMapping:g,layout:y}=this.getFacetMappingAndLayout({row:r,column:i,facet:o},n),v=EV(s,n.repeater);return this.mapFacet({...p,...y,facet:g,spec:{...l?{width:l}:{},...u?{height:u}:{},...f?{view:f}:{},...c?{projection:c}:{},mark:a,encoding:v,...d?{params:d}:{}}},n)}getFacetMappingAndLayout(t,n){const{row:r,column:i,facet:o}=t;if(r||i){o&&He(nmn([...r?[Jp]:[],...i?[eg]:[]]));const s={},a={};for(const l of[Jp,eg]){const c=t[l];if(c){const{align:u,center:f,spacing:d,columns:h,...p}=c;s[l]=p;for(const g of["align","center","spacing"])c[g]!==void 0&&(a[g]??(a[g]={}),a[g][l]=c[g])}}return{facetMapping:s,layout:a}}else{const{align:s,center:a,spacing:l,columns:c,...u}=o;return{facetMapping:z0n(u,n.repeater),layout:{...s?{align:s}:{},...a?{center:a}:{},...l?{spacing:l}:{},...c?{columns:c}:{}}}}}mapLayer(t,{parentEncoding:n,parentProjection:r,...i}){const{encoding:o,projection:s,...a}=t,l={...i,parentEncoding:CSe({parentEncoding:n,encoding:o,layer:!0}),parentProjection:$Se({parentProjection:r,projection:s})};return super.mapLayer({...a,...t.name?{name:[l.repeaterPrefix,t.name].filter(c=>c).join("_")}:{}},l)}}function CSe({parentEncoding:e,encoding:t={},layer:n}){let r={};if(e){const i=new Set([...Ue(e),...Ue(t)]);for(const o of i){const s=t[o],a=e[o];if(Gt(s)){const l={...a,...s};r[o]=l}else pA(s)?r[o]={...s,condition:{...a,...s.condition}}:s||s===null?r[o]=s:(n||sd(a)||St(a)||Gt(a)||Me(a))&&(r[o]=a)}}else r=t;return!r||Cr(r)?void 0:r}function $Se(e){const{parentProjection:t,projection:n}=e;return t&&n&&He(Ugn({parentProjection:t,projection:n})),n??t}function bue(e){return"filter"in e}function W0n(e){return(e==null?void 0:e.stop)!==void 0}function WXe(e){return"lookup"in e}function V0n(e){return"data"in e}function U0n(e){return"param"in e}function q0n(e){return"pivot"in e}function Y0n(e){return"density"in e}function X0n(e){return"quantile"in e}function H0n(e){return"regression"in e}function Z0n(e){return"loess"in e}function G0n(e){return"sample"in e}function K0n(e){return"window"in e}function J0n(e){return"joinaggregate"in e}function evn(e){return"flatten"in e}function tvn(e){return"calculate"in e}function VXe(e){return"bin"in e}function nvn(e){return"impute"in e}function rvn(e){return"timeUnit"in e}function ivn(e){return"aggregate"in e}function ovn(e){return"stack"in e}function svn(e){return"fold"in e}function avn(e){return"extent"in e&&!("density"in e)}function lvn(e){return e.map(t=>bue(t)?{filter:$w(t.filter,Gmn)}:t)}class cvn extends vue{map(t,n){return n.emptySelections??(n.emptySelections={}),n.selectionPredicates??(n.selectionPredicates={}),t=ESe(t,n),super.map(t,n)}mapLayerOrUnit(t,n){if(t=ESe(t,n),t.encoding){const r={};for(const[i,o]of t0(t.encoding))r[i]=UXe(o,n);t={...t,encoding:r}}return super.mapLayerOrUnit(t,n)}mapUnit(t,n){const{selection:r,...i}=t;return r?{...i,params:t0(r).map(([o,s])=>{const{init:a,bind:l,empty:c,...u}=s;u.type==="single"?(u.type="point",u.toggle=!1):u.type==="multi"&&(u.type="point"),n.emptySelections[o]=c!=="none";for(const f of Is(n.selectionPredicates[o]??{}))f.empty=c!=="none";return{name:o,value:a,select:u,bind:l}})}:t}}function ESe(e,t){const{transform:n,...r}=e;if(n){const i=n.map(o=>{if(bue(o))return{filter:xG(o,t)};if(VXe(o)&&hO(o.bin))return{...o,bin:qXe(o.bin)};if(WXe(o)){const{selection:s,...a}=o.from;return s?{...o,from:{param:s,...a}}:o}return o});return{...r,transform:i}}return e}function UXe(e,t){var r,i;const n=qt(e);if(Xe(n)&&hO(n.bin)&&(n.bin=qXe(n.bin)),mO(n)&&((i=(r=n.scale)==null?void 0:r.domain)!=null&&i.selection)){const{selection:o,...s}=n.scale.domain;n.scale.domain={...s,...o?{param:o}:{}}}if(uz(n))if(Me(n.condition))n.condition=n.condition.map(o=>{const{selection:s,param:a,test:l,...c}=o;return a?o:{...c,test:xG(o,t)}});else{const{selection:o,param:s,test:a,...l}=UXe(n.condition,t);n.condition=s?n.condition:{...l,test:xG(n.condition,t)}}return n}function qXe(e){const t=e.extent;if(t!=null&&t.selection){const{selection:n,...r}=t;return{...e,extent:{...r,param:n}}}return e}function xG(e,t){const n=r=>$w(r,i=>{var o;const s=t.emptySelections[i]??!0,a={param:i,empty:s};return(o=t.selectionPredicates)[i]??(o[i]=[]),t.selectionPredicates[i].push(a),a});return e.selection?n(e.selection):$w(e.test||e.filter,r=>r.selection?n(r.selection):r)}class wG extends vue{map(t,n){const r=n.selections??[];if(t.params&&!Vg(t)){const i=[];for(const o of t.params)gue(o)?r.push(o):i.push(o);t.params=i}return n.selections=r,super.map(t,n)}mapUnit(t,n){const r=n.selections;if(!r||!r.length)return t;const i=(n.path??[]).concat(t.name),o=[];for(const s of r)if(!s.views||!s.views.length)o.push(s);else for(const a of s.views)(at(a)&&(a===t.name||i.includes(a))||Me(a)&&a.map(l=>i.indexOf(l)).every((l,c,u)=>l!==-1&&(c===0||l>u[c-1])))&&o.push(s);return o.length&&(t.params=o),t}}for(const e of["mapFacet","mapRepeat","mapHConcat","mapVConcat","mapLayer"]){const t=wG.prototype[e];wG.prototype[e]=function(n,r){return t.call(this,n,uvn(n,r))}}function uvn(e,t){return e.name?{...t,path:(t.path??[]).concat(e.name)}:t}function YXe(e,t){t===void 0&&(t=jXe(e.config));const n=pvn(e,t),{width:r,height:i}=e,o=gvn(n,{width:r,height:i,autosize:e.autosize},t);return{...n,...o?{autosize:o}:{}}}const fvn=new B0n,dvn=new cvn,hvn=new wG;function pvn(e,t={}){const n={config:t};return hvn.map(fvn.map(dvn.map(e,n),n),n)}function kSe(e){return at(e)?{type:e}:e??{}}function gvn(e,t,n){let{width:r,height:i}=t;const o=Vg(e)||yz(e),s={};o?r=="container"&&i=="container"?(s.type="fit",s.contains="padding"):r=="container"?(s.type="fit-x",s.contains="padding"):i=="container"&&(s.type="fit-y",s.contains="padding"):(r=="container"&&(He(eSe("width")),r=void 0),i=="container"&&(He(eSe("height")),i=void 0));const a={type:"pad",...s,...n?kSe(n.autosize):{},...kSe(e.autosize)};if(a.type==="fit"&&!o&&(He(Tgn),a.type="pad"),r=="container"&&!(a.type=="fit"||a.type=="fit-x")&&He(tSe("width")),i=="container"&&!(a.type=="fit"||a.type=="fit-y")&&He(tSe("height")),!$c(a,{type:"pad"}))return a}function mvn(e){return e==="fit"||e==="fit-x"||e==="fit-y"}function yvn(e){return e?`fit-${nz(e)}`:"fit"}const vvn=["background","padding"];function TSe(e,t){const n={};for(const r of vvn)e&&e[r]!==void 0&&(n[r]=wc(e[r]));return t&&(n.params=e.params),n}class Ug{constructor(t={},n={}){this.explicit=t,this.implicit=n}clone(){return new Ug(qt(this.explicit),qt(this.implicit))}combine(){return{...this.explicit,...this.implicit}}get(t){return to(this.explicit[t],this.implicit[t])}getWithExplicit(t){return this.explicit[t]!==void 0?{explicit:!0,value:this.explicit[t]}:this.implicit[t]!==void 0?{explicit:!1,value:this.implicit[t]}:{explicit:!1,value:void 0}}setWithExplicit(t,{value:n,explicit:r}){n!==void 0&&this.set(t,n,r)}set(t,n,r){return delete this[r?"implicit":"explicit"][t],this[r?"explicit":"implicit"][t]=n,this}copyKeyFromSplit(t,{explicit:n,implicit:r}){n[t]!==void 0?this.set(t,n[t],!0):r[t]!==void 0&&this.set(t,r[t],!1)}copyKeyFromObject(t,n){n[t]!==void 0&&this.set(t,n[t],!0)}copyAll(t){for(const n of Ue(t.combine())){const r=t.getWithExplicit(n);this.setWithExplicit(n,r)}}}function Ld(e){return{explicit:!0,value:e}}function uc(e){return{explicit:!1,value:e}}function XXe(e){return(t,n,r,i)=>{const o=e(t.value,n.value);return o>0?t:o<0?n:vz(t,n,r,i)}}function vz(e,t,n,r){return e.explicit&&t.explicit&&He(pmn(n,r,e.value,t.value)),e}function p0(e,t,n,r,i=vz){return e===void 0||e.value===void 0?t:e.explicit&&!t.explicit?e:t.explicit&&!e.explicit?t:$c(e.value,t.value)?e:i(e,t,n,r)}class bvn extends Ug{constructor(t={},n={},r=!1){super(t,n),this.explicit=t,this.implicit=n,this.parseNothing=r}clone(){const t=super.clone();return t.parseNothing=this.parseNothing,t}}function t_(e){return"url"in e}function nP(e){return"values"in e}function HXe(e){return"name"in e&&!t_(e)&&!nP(e)&&!$y(e)}function $y(e){return e&&(ZXe(e)||GXe(e)||Oue(e))}function ZXe(e){return"sequence"in e}function GXe(e){return"sphere"in e}function Oue(e){return"graticule"in e}var Wr;(function(e){e[e.Raw=0]="Raw",e[e.Main=1]="Main",e[e.Row=2]="Row",e[e.Column=3]="Column",e[e.Lookup=4]="Lookup"})(Wr||(Wr={}));function KXe(e){const{signals:t,hasLegend:n,index:r,...i}=e;return i.field=Fu(i.field),i}function kb(e,t=!0,n=$a){if(Me(e)){const r=e.map(i=>kb(i,t,n));return t?`[${r.join(", ")}]`:r}else if(pO(e))return n(t?Cb(e):Fmn(e));return t?n($r(e)):e}function Ovn(e,t){for(const n of Is(e.component.selection??{})){const r=n.name;let i=`${r}${m0}, ${n.resolve==="global"?"true":`{unit: ${C1(e)}}`}`;for(const o of wz)o.defined(n)&&(o.signals&&(t=o.signals(e,n,t)),o.modifyExpr&&(i=o.modifyExpr(e,n,i)));t.push({name:r+Kvn,on:[{events:{signal:n.name+m0},update:`modify(${Ge(n.name+Tb)}, ${i})`}]})}return xue(t)}function xvn(e,t){if(e.component.selection&&Ue(e.component.selection).length){const n=Ge(e.getName("cell"));t.unshift({name:"facet",value:{},on:[{events:V0("pointermove","scope"),update:`isTuple(facet) ? facet : group(${n}).datum`}]})}return xue(t)}function wvn(e,t){let n=!1;for(const r of Is(e.component.selection??{})){const i=r.name,o=Ge(i+Tb);if(t.filter(a=>a.name===i).length===0){const a=r.resolve==="global"?"union":r.resolve,l=r.type==="point"?", true, true)":")";t.push({name:r.name,update:`${mHe}(${o}, ${Ge(a)}${l}`})}n=!0;for(const a of wz)a.defined(r)&&a.topLevelSignals&&(t=a.topLevelSignals(e,r,t))}return n&&t.filter(i=>i.name==="unit").length===0&&t.unshift({name:"unit",value:{},on:[{events:"pointermove",update:"isTuple(group()) ? group() : unit"}]}),xue(t)}function Svn(e,t){const n=[...t],r=C1(e,{escape:!1});for(const i of Is(e.component.selection??{})){const o={name:i.name+Tb};if(i.project.hasSelectionId&&(o.transform=[{type:"collect",sort:{field:ad}}]),i.init){const a=i.project.items.map(KXe);o.values=i.project.hasSelectionId?i.init.map(l=>({unit:r,[ad]:kb(l,!1)[0]})):i.init.map(l=>({unit:r,fields:a,values:kb(l,!1)}))}n.filter(a=>a.name===i.name+Tb).length||n.push(o)}return n}function JXe(e,t){for(const n of Is(e.component.selection??{}))for(const r of wz)r.defined(n)&&r.marks&&(t=r.marks(e,n,t));return t}function _vn(e,t){for(const n of e.children)Qi(n)&&(t=JXe(n,t));return t}function Cvn(e,t,n,r){const i=xHe(e,t.param,t);return{signal:Bc(n.get("type"))&&Me(r)&&r[0]>r[1]?`isValid(${i}) && reverse(${i})`:i}}function xue(e){return e.map(t=>(t.on&&!t.on.length&&delete t.on,t))}class xr{constructor(t,n){this.debugName=n,this._children=[],this._parent=null,t&&(this.parent=t)}clone(){throw new Error("Cannot clone node")}get parent(){return this._parent}set parent(t){this._parent=t,t&&t.addChild(this)}get children(){return this._children}numChildren(){return this._children.length}addChild(t,n){if(this._children.includes(t)){He(Bgn);return}n!==void 0?this._children.splice(n,0,t):this._children.push(t)}removeChild(t){const n=this._children.indexOf(t);return this._children.splice(n,1),n}remove(){let t=this._parent.removeChild(this);for(const n of this._children)n._parent=this._parent,this._parent.addChild(n,t++)}insertAsParentOf(t){const n=t.parent;n.removeChild(this),this.parent=n,t.parent=this}swapWithParent(){const t=this._parent,n=t.parent;for(const i of this._children)i.parent=t;this._children=[],t.removeChild(this);const r=t.parent.removeChild(t);this._parent=n,n.addChild(this,r),t.parent=this}}let el=class extends xr{clone(){const t=new this.constructor;return t.debugName=`clone_${this.debugName}`,t._source=this._source,t._name=`clone_${this._name}`,t.type=this.type,t.refCounts=this.refCounts,t.refCounts[t._name]=0,t}constructor(t,n,r,i){super(t,n),this.type=r,this.refCounts=i,this._source=this._name=n,this.refCounts&&!(this._name in this.refCounts)&&(this.refCounts[this._name]=0)}dependentFields(){return new Set}producedFields(){return new Set}hash(){return this._hash===void 0&&(this._hash=`Output ${V6e()}`),this._hash}getSource(){return this.refCounts[this._name]++,this._source}isRequired(){return!!this.refCounts[this._name]}setSource(t){this._source=t}};function kV(e){return e.as!==void 0}function PSe(e){return`${e}_end`}class gh extends xr{clone(){return new gh(null,qt(this.timeUnits))}constructor(t,n){super(t),this.timeUnits=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,o,s)=>{const{field:a,timeUnit:l}=o;if(l){let c;if(gO(l)){if(Qi(n)){const{mark:u,markDef:f,config:d}=n,h=h0({fieldDef:o,markDef:f,config:d});(C2(u)||h)&&(c={timeUnit:cs(l),field:a})}}else c={as:tt(o,{forAs:!0}),field:a,timeUnit:l};if(Qi(n)){const{mark:u,markDef:f,config:d}=n,h=h0({fieldDef:o,markDef:f,config:d});C2(u)&&no(s)&&h!==.5&&(c.rectBandPosition=h)}c&&(i[Rn(c)]=c)}return i},{});return Cr(r)?null:new gh(t,r)}static makeFromTransform(t,n){const{timeUnit:r,...i}={...n},o=cs(r),s={...i,timeUnit:o};return new gh(t,{[Rn(s)]:s})}merge(t){this.timeUnits={...this.timeUnits};for(const n in t.timeUnits)this.timeUnits[n]||(this.timeUnits[n]=t.timeUnits[n]);for(const n of t.children)t.removeChild(n),n.parent=this;t.remove()}removeFormulas(t){const n={};for(const[r,i]of t0(this.timeUnits)){const o=kV(i)?i.as:`${i.field}_end`;t.has(o)||(n[r]=i)}this.timeUnits=n}producedFields(){return new Set(Is(this.timeUnits).map(t=>kV(t)?t.as:PSe(t.field)))}dependentFields(){return new Set(Is(this.timeUnits).map(t=>t.field))}hash(){return`TimeUnit ${Rn(this.timeUnits)}`}assemble(){const t=[];for(const n of Is(this.timeUnits)){const{rectBandPosition:r}=n,i=cs(n.timeUnit);if(kV(n)){const{field:o,as:s}=n,{unit:a,utc:l,...c}=i,u=[s,`${s}_end`];t.push({field:Fu(o),type:"timeunit",...a?{units:az(a)}:{},...l?{timezone:"utc"}:{},...c,as:u}),t.push(...RSe(u,r,i))}else if(n){const{field:o}=n,s=o.replaceAll("\\.","."),a=eHe({timeUnit:i,field:s}),l=PSe(s);t.push({type:"formula",expr:a,as:l}),t.push(...RSe([s,l],r,i))}}return t}}const bz="offsetted_rect_start",Oz="offsetted_rect_end";function eHe({timeUnit:e,field:t,reverse:n}){const{unit:r,utc:i}=e,o=IYe(r),{part:s,step:a}=zYe(o,e.step);return`${i?"utcOffset":"timeOffset"}('${s}', datum['${t}'], ${n?-a:a})`}function RSe([e,t],n,r){if(n!==void 0&&n!==.5){const i=`datum['${e}']`,o=`datum['${t}']`;return[{type:"formula",expr:ASe([eHe({timeUnit:r,field:e,reverse:!0}),i],n+.5),as:`${e}_${bz}`},{type:"formula",expr:ASe([i,o],n+.5),as:`${e}_${Oz}`}]}return[]}function ASe([e,t],n){return`${1-n} * ${e} + ${n} * ${t}`}const yA="_tuple_fields";class $vn{constructor(...t){this.items=t,this.hasChannel={},this.hasField={},this.hasSelectionId=!1}}const Evn={defined:()=>!0,parse:(e,t,n)=>{const r=t.name,i=t.project??(t.project=new $vn),o={},s={},a=new Set,l=(p,g)=>{const y=g==="visual"?p.channel:p.field;let v=yi(`${r}_${y}`);for(let x=1;a.has(v);x++)v=yi(`${r}_${y}_${x}`);return a.add(v),{[g]:v}},c=t.type,u=e.config.selection[c],f=n.value!==void 0?lt(n.value):null;let{fields:d,encodings:h}=ut(n.select)?n.select:{};if(!d&&!h&&f){for(const p of f)if(ut(p))for(const g of Ue(p))ogn(g)?(h||(h=[])).push(g):c==="interval"?(He(jgn),h=u.encodings):(d??(d=[])).push(g)}!d&&!h&&(h=u.encodings,"fields"in u&&(d=u.fields));for(const p of h??[]){const g=e.fieldDef(p);if(g){let y=g.field;if(g.aggregate){He(Pgn(p,g.aggregate));continue}else if(!y){He(rSe(p));continue}if(g.timeUnit&&!gO(g.timeUnit)){y=e.vgField(p);const v={timeUnit:g.timeUnit,as:y,field:g.field};s[Rn(v)]=v}if(!o[y]){const v=c==="interval"&&Wg(p)&&Bc(e.getScaleComponent(p).get("type"))?"R":g.bin?"R-RE":"E",x={field:y,channel:p,type:v,index:i.items.length};x.signals={...l(x,"data"),...l(x,"visual")},i.items.push(o[y]=x),i.hasField[y]=o[y],i.hasSelectionId=i.hasSelectionId||y===ad,oYe(p)?(x.geoChannel=p,x.channel=iYe(p),i.hasChannel[x.channel]=o[y]):i.hasChannel[p]=o[y]}}else He(rSe(p))}for(const p of d??[]){if(i.hasField[p])continue;const g={type:"E",field:p,index:i.items.length};g.signals={...l(g,"data")},i.items.push(g),i.hasField[p]=g,i.hasSelectionId=i.hasSelectionId||p===ad}f&&(t.init=f.map(p=>i.items.map(g=>ut(p)?p[g.geoChannel||g.channel]!==void 0?p[g.geoChannel||g.channel]:p[g.field]:p))),Cr(s)||(i.timeUnit=new gh(null,s))},signals:(e,t,n)=>{const r=t.name+yA;return n.filter(o=>o.name===r).length>0||t.project.hasSelectionId?n:n.concat({name:r,value:t.project.items.map(KXe)})}},tg={defined:e=>e.type==="interval"&&e.resolve==="global"&&e.bind&&e.bind==="scales",parse:(e,t)=>{const n=t.scales=[];for(const r of t.project.items){const i=r.channel;if(!Wg(i))continue;const o=e.getScaleComponent(i),s=o?o.get("type"):void 0;if(!o||!Bc(s)){He(Dgn);continue}o.set("selectionExtent",{param:t.name,field:r.field},!0),n.push(r)}},topLevelSignals:(e,t,n)=>{const r=t.scales.filter(s=>n.filter(a=>a.name===s.signals.data).length===0);if(!e.parent||DSe(e)||r.length===0)return n;const i=n.filter(s=>s.name===t.name)[0];let o=i.update;if(o.indexOf(mHe)>=0)i.update=`{${r.map(s=>`${Ge(Fu(s.field))}: ${s.signals.data}`).join(", ")}}`;else{for(const s of r){const a=`${Ge(Fu(s.field))}: ${s.signals.data}`;o.includes(a)||(o=`${o.substring(0,o.length-1)}, ${a}}`)}i.update=o}return n.concat(r.map(s=>({name:s.signals.data})))},signals:(e,t,n)=>{if(e.parent&&!DSe(e))for(const r of t.scales){const i=n.filter(o=>o.name===r.signals.data)[0];i.push="outer",delete i.value,delete i.update}return n}};function SG(e,t){return`domain(${Ge(e.scaleName(t))})`}function DSe(e){return e.parent&&NC(e.parent)&&!e.parent.parent}const Fw="_brush",tHe="_scale_trigger",L$="geo_interval_init_tick",nHe="_init",kvn="_center",Tvn={defined:e=>e.type==="interval",parse:(e,t,n)=>{var r;if(e.hasProjection){const i={...ut(n.select)?n.select:{}};i.fields=[ad],i.encodings||(i.encodings=n.value?Ue(n.value):[vd,yd]),n.select={type:"interval",...i}}if(t.translate&&!tg.defined(t)){const i=`!event.item || event.item.mark.name !== ${Ge(t.name+Fw)}`;for(const o of t.events){if(!o.between){He(`${o} is not an ordered event stream for interval selections.`);continue}const s=lt((r=o.between[0]).filter??(r.filter=[]));s.indexOf(i)<0&&s.push(i)}}},signals:(e,t,n)=>{const r=t.name,i=r+m0,o=Is(t.project.hasChannel).filter(a=>a.channel===vi||a.channel===gs),s=t.init?t.init[0]:null;if(n.push(...o.reduce((a,l)=>a.concat(Pvn(e,t,l,s&&s[l.index])),[])),e.hasProjection){const a=Ge(e.projectionName()),l=e.projectionName()+kvn,{x:c,y:u}=t.project.hasChannel,f=c&&c.signals.visual,d=u&&u.signals.visual,h=c?s&&s[c.index]:`${l}[0]`,p=u?s&&s[u.index]:`${l}[1]`,g=S=>e.getSizeSignalRef(S).signal,y=`[[${f?f+"[0]":"0"}, ${d?d+"[0]":"0"}],[${f?f+"[1]":g("width")}, ${d?d+"[1]":g("height")}]]`;s&&(n.unshift({name:r+nHe,init:`[scale(${a}, [${c?h[0]:h}, ${u?p[0]:p}]), scale(${a}, [${c?h[1]:h}, ${u?p[1]:p}])]`}),(!c||!u)&&(n.find(C=>C.name===l)||n.unshift({name:l,update:`invert(${a}, [${g("width")}/2, ${g("height")}/2])`})));const v=`intersect(${y}, {markname: ${Ge(e.getName("marks"))}}, unit.mark)`,x=`{unit: ${C1(e)}}`,m=`vlSelectionTuples(${v}, ${x})`,w=o.map(S=>S.signals.visual);return n.concat({name:i,on:[{events:[...w.length?[{signal:w.join(" || ")}]:[],...s?[{signal:L$}]:[]],update:m}]})}else{if(!tg.defined(t)){const c=r+tHe,u=o.map(f=>{const d=f.channel,{data:h,visual:p}=f.signals,g=Ge(e.scaleName(d)),y=e.getScaleComponent(d).get("type"),v=Bc(y)?"+":"";return`(!isArray(${h}) || (${v}invert(${g}, ${p})[0] === ${v}${h}[0] && ${v}invert(${g}, ${p})[1] === ${v}${h}[1]))`});u.length&&n.push({name:c,value:{},on:[{events:o.map(f=>({scale:e.scaleName(f.channel)})),update:u.join(" && ")+` ? ${c} : {}`}]})}const a=o.map(c=>c.signals.data),l=`unit: ${C1(e)}, fields: ${r+yA}, values`;return n.concat({name:i,...s?{init:`{${l}: ${kb(s)}}`}:{},...a.length?{on:[{events:[{signal:a.join(" || ")}],update:`${a.join(" && ")} ? {${l}: [${a}]} : null`}]}:{}})}},topLevelSignals:(e,t,n)=>(Qi(e)&&e.hasProjection&&t.init&&(n.filter(i=>i.name===L$).length||n.unshift({name:L$,value:null,on:[{events:"timer{1}",update:`${L$} === null ? {} : ${L$}`}]})),n),marks:(e,t,n)=>{const r=t.name,{x:i,y:o}=t.project.hasChannel,s=i==null?void 0:i.signals.visual,a=o==null?void 0:o.signals.visual,l=`data(${Ge(t.name+Tb)})`;if(tg.defined(t)||!i&&!o)return n;const c={x:i!==void 0?{signal:`${s}[0]`}:{value:0},y:o!==void 0?{signal:`${a}[0]`}:{value:0},x2:i!==void 0?{signal:`${s}[1]`}:{field:{group:"width"}},y2:o!==void 0?{signal:`${a}[1]`}:{field:{group:"height"}}};if(t.resolve==="global")for(const g of Ue(c))c[g]=[{test:`${l}.length && ${l}[0].unit === ${C1(e)}`,...c[g]},{value:0}];const{fill:u,fillOpacity:f,cursor:d,...h}=t.mark,p=Ue(h).reduce((g,y)=>(g[y]=[{test:[i!==void 0&&`${s}[0] !== ${s}[1]`,o!==void 0&&`${a}[0] !== ${a}[1]`].filter(v=>v).join(" && "),value:h[y]},{value:null}],g),{});return[{name:`${r+Fw}_bg`,type:"rect",clip:!0,encode:{enter:{fill:{value:u},fillOpacity:{value:f}},update:c}},...n,{name:r+Fw,type:"rect",clip:!0,encode:{enter:{...d?{cursor:{value:d}}:{},fill:{value:"transparent"}},update:{...c,...p}}}]}};function Pvn(e,t,n,r){const i=!e.hasProjection,o=n.channel,s=n.signals.visual,a=Ge(i?e.scaleName(o):e.projectionName()),l=d=>`scale(${a}, ${d})`,c=e.getSizeSignalRef(o===vi?"width":"height").signal,u=`${o}(unit)`,f=t.events.reduce((d,h)=>[...d,{events:h.between[0],update:`[${u}, ${u}]`},{events:h,update:`[${s}[0], clamp(${u}, 0, ${c})]`}],[]);if(i){const d=n.signals.data,h=tg.defined(t),p=e.getScaleComponent(o),g=p?p.get("type"):void 0,y=r?{init:kb(r,!0,l)}:{value:[]};return f.push({events:{signal:t.name+tHe},update:Bc(g)?`[${l(`${d}[0]`)}, ${l(`${d}[1]`)}]`:"[0, 0]"}),h?[{name:d,on:[]}]:[{name:s,...y,on:f},{name:d,...r?{init:kb(r)}:{},on:[{events:{signal:s},update:`${s}[0] === ${s}[1] ? null : invert(${a}, ${s})`}]}]}else{const d=o===vi?0:1,h=t.name+nHe,p=r?{init:`[${h}[0][${d}], ${h}[1][${d}]]`}:{value:[]};return[{name:s,...p,on:f}]}}const Rvn={defined:e=>e.type==="point",signals:(e,t,n)=>{const r=t.name,i=r+yA,o=t.project,s="(item().isVoronoi ? datum.datum : datum)",a=Is(e.component.selection??{}).reduce((f,d)=>d.type==="interval"?f.concat(d.name+Fw):f,[]).map(f=>`indexof(item().mark.name, '${f}') < 0`).join(" && "),l=`datum && item().mark.marktype !== 'group' && indexof(item().mark.role, 'legend') < 0${a?` && ${a}`:""}`;let c=`unit: ${C1(e)}, `;if(t.project.hasSelectionId)c+=`${ad}: ${s}[${Ge(ad)}]`;else{const f=o.items.map(d=>{const h=e.fieldDef(d.channel);return h!=null&&h.bin?`[${s}[${Ge(e.vgField(d.channel,{}))}], ${s}[${Ge(e.vgField(d.channel,{binSuffix:"end"}))}]]`:`${s}[${Ge(d.field)}]`}).join(", ");c+=`fields: ${i}, values: [${f}]`}const u=t.events;return n.concat([{name:r+m0,on:u?[{events:u,update:`${l} ? {${c}} : null`,force:!0}]:[]}])}};function PC(e,t,n,r){const i=uz(t)&&t.condition,o=r(t);if(i){const a=lt(i).map(l=>{const c=r(l);if(xyn(l)){const{param:u,empty:f}=l;return{test:OHe(e,{param:u,empty:f}),...c}}else return{test:Bj(e,l.test),...c}});return{[n]:[...a,...o!==void 0?[o]:[]]}}else return o!==void 0?{[n]:o}:{}}function wue(e,t="text"){const n=e.encoding[t];return PC(e,n,t,r=>xz(r,e.config))}function xz(e,t,n="datum"){if(e){if(sd(e))return ai(e.value);if(Gt(e)){const{format:r,formatType:i}=Mj(e);return tue({fieldOrDatumDef:e,format:r,formatType:i,expr:n,config:t})}}}function rHe(e,t={}){const{encoding:n,markDef:r,config:i,stack:o}=e,s=n.tooltip;if(Me(s))return{tooltip:NSe({tooltip:s},o,i,t)};{const a=t.reactiveGeom?"datum.datum":"datum";return PC(e,s,"tooltip",l=>{const c=xz(l,i,a);if(c)return c;if(l===null)return;let u=hr("tooltip",r,i);if(u===!0&&(u={content:"encoding"}),at(u))return{value:u};if(ut(u))return St(u)?u:u.content==="encoding"?NSe(n,o,i,t):{signal:a}})}}function iHe(e,t,n,{reactiveGeom:r}={}){const i={...n,...n.tooltipFormat},o={},s=r?"datum.datum":"datum",a=[];function l(u,f){const d=dO(f),h=ol(u)?u:{...u,type:e[d].type},p=h.title||oue(h,i),g=lt(p).join(", ").replaceAll(/"/g,'\\"');let y;if(no(f)){const v=f==="x"?"x2":"y2",x=Rh(e[v]);if(xs(h.bin)&&x){const m=tt(h,{expr:s}),w=tt(x,{expr:s}),{format:S,formatType:C}=Mj(h);y=dA(m,w,S,C,i),o[v]=!0}}if((no(f)||f===Hu||f===md)&&t&&t.fieldChannel===f&&t.offset==="normalize"){const{format:v,formatType:x}=Mj(h);y=tue({fieldOrDatumDef:h,format:v,formatType:x,expr:s,config:i,normalizeStack:!0}).signal}y??(y=xz(h,i,s).signal),a.push({channel:f,key:g,value:y})}lue(e,(u,f)=>{Xe(u)?l(u,f):fz(u)&&l(u.condition,f)});const c={};for(const{channel:u,key:f,value:d}of a)!o[u]&&!c[f]&&(c[f]=d);return c}function NSe(e,t,n,{reactiveGeom:r}={}){const i=iHe(e,t,n,{reactiveGeom:r}),o=t0(i).map(([s,a])=>`"${s}": ${a}`);return o.length>0?{signal:`{${o.join(", ")}}`}:void 0}function Avn(e){const{markDef:t,config:n}=e,r=hr("aria",t,n);return r===!1?{}:{...r?{aria:r}:{},...Dvn(e),...Nvn(e)}}function Dvn(e){const{mark:t,markDef:n,config:r}=e;if(r.aria===!1)return{};const i=hr("ariaRoleDescription",n,r);return i!=null?{ariaRoleDescription:{value:i}}:t in $gn?{}:{ariaRoleDescription:{value:t}}}function Nvn(e){const{encoding:t,markDef:n,config:r,stack:i}=e,o=t.description;if(o)return PC(e,o,"description",l=>xz(l,e.config));const s=hr("description",n,r);if(s!=null)return{description:ai(s)};if(r.aria===!1)return{};const a=iHe(t,i,r);if(!Cr(a))return{description:{signal:t0(a).map(([l,c],u)=>`"${u>0?"; ":""}${l}: " + (${c})`).join(" + ")}}}function ts(e,t,n={}){const{markDef:r,encoding:i,config:o}=t,{vgChannel:s}=n;let{defaultRef:a,defaultValue:l}=n;a===void 0&&(l??(l=hr(e,r,o,{vgChannel:s,ignoreVgConfig:!0})),l!==void 0&&(a=ai(l)));const c=i[e];return PC(t,c,s??e,u=>eue({channel:e,channelDef:u,markDef:r,config:o,scaleName:t.scaleName(e),scale:t.getScaleComponent(e),stack:null,defaultRef:a}))}function oHe(e,t={filled:void 0}){const{markDef:n,encoding:r,config:i}=e,{type:o}=n,s=t.filled??hr("filled",n,i),a=kn(["bar","point","circle","square","geoshape"],o)?"transparent":void 0,l=hr(s===!0?"color":void 0,n,i,{vgChannel:"fill"})??i.mark[s===!0&&"color"]??a,c=hr(s===!1?"color":void 0,n,i,{vgChannel:"stroke"})??i.mark[s===!1&&"color"],u=s?"fill":"stroke",f={...l?{fill:ai(l)}:{},...c?{stroke:ai(c)}:{}};return n.color&&(s?n.fill:n.stroke)&&He(EYe("property",{fill:"fill"in n,stroke:"stroke"in n})),{...f,...ts("color",e,{vgChannel:u,defaultValue:s?l:c}),...ts("fill",e,{defaultValue:r.fill?l:void 0}),...ts("stroke",e,{defaultValue:r.stroke?c:void 0})}}function Mvn(e){const{encoding:t,mark:n}=e,r=t.order;return!I0(n)&&sd(r)?PC(e,r,"zindex",i=>ai(i.value)):{}}function n_({channel:e,markDef:t,encoding:n={},model:r,bandPosition:i}){const o=`${e}Offset`,s=t[o],a=n[o];if((o==="xOffset"||o==="yOffset")&&a)return{offsetType:"encoding",offset:eue({channel:o,channelDef:a,markDef:t,config:r==null?void 0:r.config,scaleName:r.scaleName(o),scale:r.getScaleComponent(o),stack:null,defaultRef:ai(s),bandPosition:i})};const l=t[o];return l?{offsetType:"visual",offset:l}:{}}function ga(e,t,{defaultPos:n,vgChannel:r}){const{encoding:i,markDef:o,config:s,stack:a}=t,l=i[e],c=i[tp(e)],u=t.scaleName(e),f=t.getScaleComponent(e),{offset:d,offsetType:h}=n_({channel:e,markDef:o,encoding:i,model:t,bandPosition:.5}),p=Sue({model:t,defaultPos:n,channel:e,scaleName:u,scale:f}),g=!l&&no(e)&&(i.latitude||i.longitude)?{field:t.getName(e)}:Ivn({channel:e,channelDef:l,channel2Def:c,markDef:o,config:s,scaleName:u,scale:f,stack:a,offset:d,defaultRef:p,bandPosition:h==="encoding"?0:void 0});return g?{[r||e]:g}:void 0}function Ivn(e){const{channel:t,channelDef:n,scaleName:r,stack:i,offset:o,markDef:s}=e;if(Gt(n)&&i&&t===i.fieldChannel){if(Xe(n)){let a=n.bandPosition;if(a===void 0&&s.type==="text"&&(t==="radius"||t==="theta")&&(a=.5),a!==void 0)return Aj({scaleName:r,fieldOrDatumDef:n,startSuffix:"start",bandPosition:a,offset:o})}return S1(n,r,{suffix:"end"},{offset:o})}return Kce(e)}function Sue({model:e,defaultPos:t,channel:n,scaleName:r,scale:i}){const{markDef:o,config:s}=e;return()=>{const a=dO(n),l=d0(n),c=hr(n,o,s,{vgChannel:l});if(c!==void 0)return Vk(n,c);switch(t){case"zeroOrMin":case"zeroOrMax":if(r){const u=i.get("type");if(!kn([jl.LOG,jl.TIME,jl.UTC],u)){if(i.domainDefinitelyIncludesZero())return{scale:r,value:0}}}if(t==="zeroOrMin")return a==="y"?{field:{group:"height"}}:{value:0};switch(a){case"radius":return{signal:`min(${e.width.signal},${e.height.signal})/2`};case"theta":return{signal:"2*PI"};case"x":return{field:{group:"width"}};case"y":return{value:0}}break;case"mid":return{...e[Yl(n)],mult:.5}}}}const Lvn={left:"x",center:"xc",right:"x2"},jvn={top:"y",middle:"yc",bottom:"y2"};function sHe(e,t,n,r="middle"){if(e==="radius"||e==="theta")return d0(e);const i=e==="x"?"align":"baseline",o=hr(i,t,n);let s;return St(o)?(He(rmn(i)),s=void 0):s=o,e==="x"?Lvn[s||(r==="top"?"left":"center")]:jvn[s||r]}function zj(e,t,{defaultPos:n,defaultPos2:r,range:i}){return i?aHe(e,t,{defaultPos:n,defaultPos2:r}):ga(e,t,{defaultPos:n})}function aHe(e,t,{defaultPos:n,defaultPos2:r}){const{markDef:i,config:o}=t,s=tp(e),a=Yl(e),l=Fvn(t,r,s),c=l[a]?sHe(e,i,o):d0(e);return{...ga(e,t,{defaultPos:n,vgChannel:c}),...l}}function Fvn(e,t,n){const{encoding:r,mark:i,markDef:o,stack:s,config:a}=e,l=dO(n),c=Yl(n),u=d0(n),f=r[l],d=e.scaleName(l),h=e.getScaleComponent(l),{offset:p}=n in r||n in o?n_({channel:n,markDef:o,encoding:r,model:e}):n_({channel:l,markDef:o,encoding:r,model:e});if(!f&&(n==="x2"||n==="y2")&&(r.latitude||r.longitude)){const y=Yl(n),v=e.markDef[y];return v!=null?{[y]:{value:v}}:{[u]:{field:e.getName(n)}}}const g=zvn({channel:n,channelDef:f,channel2Def:r[n],markDef:o,config:a,scaleName:d,scale:h,stack:s,offset:p,defaultRef:void 0});return g!==void 0?{[u]:g}:jN(n,o)||jN(n,{[n]:Pj(n,o,a.style),[c]:Pj(c,o,a.style)})||jN(n,a[i])||jN(n,a.mark)||{[u]:Sue({model:e,defaultPos:t,channel:n,scaleName:d,scale:h})()}}function zvn({channel:e,channelDef:t,channel2Def:n,markDef:r,config:i,scaleName:o,scale:s,stack:a,offset:l,defaultRef:c}){return Gt(t)&&a&&e.charAt(0)===a.fieldChannel.charAt(0)?S1(t,o,{suffix:"start"},{offset:l}):Kce({channel:e,channelDef:n,scaleName:o,scale:s,stack:a,markDef:r,config:i,offset:l,defaultRef:c})}function jN(e,t){const n=Yl(e),r=d0(e);if(t[r]!==void 0)return{[r]:Vk(e,t[r])};if(t[e]!==void 0)return{[r]:Vk(e,t[e])};if(t[n]){const i=t[n];if(cb(i))He(Ggn(n));else return{[n]:Vk(e,i)}}}function g0(e,t){const{config:n,encoding:r,markDef:i}=e,o=i.type,s=tp(t),a=Yl(t),l=r[t],c=r[s],u=e.getScaleComponent(t),f=u?u.get("type"):void 0,d=i.orient,h=r[a]??r.size??hr("size",i,n,{vgChannel:a}),p=cYe(t),g=o==="bar"&&(t==="x"?d==="vertical":d==="horizontal");return Xe(l)&&(Xr(l.bin)||xs(l.bin)||l.timeUnit&&!c)&&!(h&&!cb(h))&&!r[p]&&!fs(f)?Wvn({fieldDef:l,fieldDef2:c,channel:t,model:e}):(Gt(l)&&fs(f)||g)&&!c?Bvn(l,t,e):aHe(t,e,{defaultPos:"zeroOrMax",defaultPos2:"zeroOrMin"})}function Qvn(e,t,n,r,i,o,s){if(cb(i))if(n){const l=n.get("type");if(l==="band"){let c=`bandwidth('${t}')`;i.band!==1&&(c=`${i.band} * ${c}`);const u=wg("minBandSize",{type:s},r);return{signal:u?`max(${Ef(u)}, ${c})`:c}}else i.band!==1&&(He(amn(l)),i=void 0)}else return{mult:i.band,field:{group:e}};else{if(St(i))return i;if(i)return{value:i}}if(n){const l=n.get("range");if(G0(l)&&Un(l.step))return{value:l.step-2}}if(!o){const{bandPaddingInner:l,barBandPaddingInner:c,rectBandPaddingInner:u}=r.scale,f=to(l,s==="bar"?c:u);if(St(f))return{signal:`(1 - (${f.signal})) * ${e}`};if(Un(f))return{signal:`${1-f} * ${e}`}}return{value:jj(r.view,e)-2}}function Bvn(e,t,n){var R,N;const{markDef:r,encoding:i,config:o,stack:s}=n,a=r.orient,l=n.scaleName(t),c=n.getScaleComponent(t),u=Yl(t),f=tp(t),d=cYe(t),h=n.scaleName(d),p=n.getScaleComponent(Dce(t)),g=a==="horizontal"&&t==="y"||a==="vertical"&&t==="x";let y;(i.size||r.size)&&(g?y=ts("size",n,{vgChannel:u,defaultRef:ai(r.size)}):He(fmn(r.type)));const v=!!y,x=rXe({channel:t,fieldDef:e,markDef:r,config:o,scaleType:(R=c||p)==null?void 0:R.get("type"),useVlSizeChannel:g});y=y||{[u]:Qvn(u,h||l,p||c,o,x,!!e,r.type)};const m=((N=c||p)==null?void 0:N.get("type"))==="band"&&cb(x)&&!v?"top":"middle",w=sHe(t,r,o,m),S=w==="xc"||w==="yc",{offset:C,offsetType:$}=n_({channel:t,markDef:r,encoding:i,model:n,bandPosition:S?.5:0}),E=Kce({channel:t,channelDef:e,markDef:r,config:o,scaleName:l,scale:c,stack:s,offset:C,defaultRef:Sue({model:n,defaultPos:"mid",channel:t,scaleName:l,scale:c}),bandPosition:S?$==="encoding"?0:.5:St(x)?{signal:`(1-${x})/2`}:cb(x)?(1-x.band)/2:0});if(u)return{[w]:E,...y};{const I=d0(f),j=y[u],A=C?{...j,offset:C}:j;return{[w]:E,[I]:Me(E)?[E[0],{...E[1],offset:A}]:{...E,offset:A}}}}function MSe(e,t,n,r,i,o,s){if(rYe(e))return 0;const a=e==="x"||e==="y2",l=a?-t/2:t/2;if(St(n)||St(i)||St(r)||o){const c=Ef(n),u=Ef(i),f=Ef(r),d=Ef(o),p=o?`(${s} < ${d} ? ${a?"":"-"}0.5 * (${d} - (${s})) : ${l})`:l,g=f?`${f} + `:"",y=c?`(${c} ? -1 : 1) * `:"",v=u?`(${u} + ${p})`:p;return{signal:g+y+v}}else return i=i||0,r+(n?-i-l:+i+l)}function Wvn({fieldDef:e,fieldDef2:t,channel:n,model:r}){var N;const{config:i,markDef:o,encoding:s}=r,a=r.getScaleComponent(n),l=r.scaleName(n),c=a?a.get("type"):void 0,u=a.get("reverse"),f=rXe({channel:n,fieldDef:e,markDef:o,config:i,scaleType:c}),d=(N=r.component.axes[n])==null?void 0:N[0],h=(d==null?void 0:d.get("translate"))??.5,p=no(n)?hr("binSpacing",o,i)??0:0,g=tp(n),y=d0(n),v=d0(g),x=wg("minBandSize",o,i),{offset:m}=n_({channel:n,markDef:o,encoding:s,model:r,bandPosition:0}),{offset:w}=n_({channel:g,markDef:o,encoding:s,model:r,bandPosition:0}),S=myn({fieldDef:e,scaleName:l}),C=MSe(n,p,u,h,m,x,S),$=MSe(g,p,u,h,w??m,x,S),E=St(f)?{signal:`(1-${f.signal})/2`}:cb(f)?(1-f.band)/2:.5,R=h0({fieldDef:e,fieldDef2:t,markDef:o,config:i});if(Xr(e.bin)||e.timeUnit){const I=e.timeUnit&&R!==.5;return{[v]:ISe({fieldDef:e,scaleName:l,bandPosition:E,offset:$,useRectOffsetField:I}),[y]:ISe({fieldDef:e,scaleName:l,bandPosition:St(E)?{signal:`1-${E.signal}`}:1-E,offset:C,useRectOffsetField:I})}}else if(xs(e.bin)){const I=S1(e,l,{},{offset:$});if(Xe(t))return{[v]:I,[y]:S1(t,l,{},{offset:C})};if(hO(e.bin)&&e.bin.step)return{[v]:I,[y]:{signal:`scale("${l}", ${tt(e,{expr:"datum"})} + ${e.bin.step})`,offset:C}}}He(PYe(g))}function ISe({fieldDef:e,scaleName:t,bandPosition:n,offset:r,useRectOffsetField:i}){return Aj({scaleName:t,fieldOrDatumDef:e,bandPosition:n,offset:r,...i?{startSuffix:bz,endSuffix:Oz}:{}})}const Vvn=new Set(["aria","width","height"]);function Zu(e,t){const{fill:n=void 0,stroke:r=void 0}=t.color==="include"?oHe(e):{};return{...Uvn(e.markDef,t),...LSe(e,"fill",n),...LSe(e,"stroke",r),...ts("opacity",e),...ts("fillOpacity",e),...ts("strokeOpacity",e),...ts("strokeWidth",e),...ts("strokeDash",e),...Mvn(e),...rHe(e),...wue(e,"href"),...Avn(e)}}function LSe(e,t,n){const{config:r,mark:i,markDef:o}=e;if(hr("invalid",o,r)==="hide"&&n&&!I0(i)){const a=qvn(e,{invalid:!0,channels:rz});if(a)return{[t]:[{test:a,value:null},...lt(n)]}}return n?{[t]:n}:{}}function Uvn(e,t){return Cgn.reduce((n,r)=>(!Vvn.has(r)&&e[r]!==void 0&&t[r]!=="ignore"&&(n[r]=ai(e[r])),n),{})}function qvn(e,{invalid:t=!1,channels:n}){const r=n.reduce((o,s)=>{const a=e.getScaleComponent(s);if(a){const l=a.get("type"),c=e.vgField(s,{expr:"datum"});c&&Bc(l)&&(o[c]=!0)}return o},{}),i=Ue(r);if(i.length>0){const o=t?"||":"&&";return i.map(s=>Jce(s,t)).join(` ${o} `)}}function _ue(e){const{config:t,markDef:n}=e;if(hr("invalid",n,t)){const i=Yvn(e,{channels:np});if(i)return{defined:{signal:i}}}return{}}function Yvn(e,{invalid:t=!1,channels:n}){const r=n.reduce((o,s)=>{var l;const a=e.getScaleComponent(s);if(a){const c=a.get("type"),u=e.vgField(s,{expr:"datum",binSuffix:(l=e.stack)!=null&&l.impute?"mid":void 0});u&&Bc(c)&&(o[u]=!0)}return o},{}),i=Ue(r);if(i.length>0){const o=t?"||":"&&";return i.map(s=>Jce(s,t)).join(` ${o} `)}}function jSe(e,t){if(t!==void 0)return{[e]:ai(t)}}const TV="voronoi",lHe={defined:e=>e.type==="point"&&e.nearest,parse:(e,t)=>{if(t.events)for(const n of t.events)n.markname=e.getName(TV)},marks:(e,t,n)=>{const{x:r,y:i}=t.project.hasChannel,o=e.mark;if(I0(o))return He(Rgn(o)),n;const s={name:e.getName(TV),type:"path",interactive:!0,from:{data:e.getName("marks")},encode:{update:{fill:{value:"transparent"},strokeWidth:{value:.35},stroke:{value:"transparent"},isVoronoi:{value:!0},...rHe(e,{reactiveGeom:!0})}},transform:[{type:"voronoi",x:{expr:r||!i?"datum.datum.x || 0":"0"},y:{expr:i||!r?"datum.datum.y || 0":"0"},size:[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]}]};let a=0,l=!1;return n.forEach((c,u)=>{const f=c.name??"";f===e.component.mark[0].name?a=u:f.indexOf(TV)>=0&&(l=!0)}),l||n.splice(a+1,0,s),n}},cHe={defined:e=>e.type==="point"&&e.resolve==="global"&&e.bind&&e.bind!=="scales"&&!pue(e.bind),parse:(e,t,n)=>yHe(t,n),topLevelSignals:(e,t,n)=>{const r=t.name,i=t.project,o=t.bind,s=t.init&&t.init[0],a=lHe.defined(t)?"(item().isVoronoi ? datum.datum : datum)":"datum";return i.items.forEach((l,c)=>{const u=yi(`${r}_${l.field}`);n.filter(d=>d.name===u).length||n.unshift({name:u,...s?{init:kb(s[c])}:{value:null},on:t.events?[{events:t.events,update:`datum && item().mark.marktype !== 'group' ? ${a}[${Ge(l.field)}] : null`}]:[],bind:o[l.field]??o[l.channel]??o})}),n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.filter(c=>c.name===r+m0)[0],s=r+yA,a=i.items.map(c=>yi(`${r}_${c.field}`)),l=a.map(c=>`${c} !== null`).join(" && ");return a.length&&(o.update=`${l} ? {fields: ${s}, values: [${a.join(", ")}]} : null`),delete o.value,delete o.on,n}},Qj="_toggle",uHe={defined:e=>e.type==="point"&&!!e.toggle,signals:(e,t,n)=>n.concat({name:t.name+Qj,value:!1,on:[{events:t.events,update:t.toggle}]}),modifyExpr:(e,t)=>{const n=t.name+m0,r=t.name+Qj;return`${r} ? null : ${n}, `+(t.resolve==="global"?`${r} ? null : true, `:`${r} ? null : {unit: ${C1(e)}}, `)+`${r} ? ${n} : null`}},Xvn={defined:e=>e.clear!==void 0&&e.clear!==!1,parse:(e,t)=>{t.clear&&(t.clear=at(t.clear)?V0(t.clear,"view"):t.clear)},topLevelSignals:(e,t,n)=>{if(cHe.defined(t))for(const r of t.project.items){const i=n.findIndex(o=>o.name===yi(`${t.name}_${r.field}`));i!==-1&&n[i].on.push({events:t.clear,update:"null"})}return n},signals:(e,t,n)=>{function r(i,o){i!==-1&&n[i].on&&n[i].on.push({events:t.clear,update:o})}if(t.type==="interval")for(const i of t.project.items){const o=n.findIndex(s=>s.name===i.signals.visual);if(r(o,"[0, 0]"),o===-1){const s=n.findIndex(a=>a.name===i.signals.data);r(s,"null")}}else{let i=n.findIndex(o=>o.name===t.name+m0);r(i,"null"),uHe.defined(t)&&(i=n.findIndex(o=>o.name===t.name+Qj),r(i,"false"))}return n}},fHe={defined:e=>{const t=e.resolve==="global"&&e.bind&&pue(e.bind),n=e.project.items.length===1&&e.project.items[0].field!==ad;return t&&!n&&He(Ngn),t&&n},parse:(e,t,n)=>{const r=qt(n);if(r.select=at(r.select)?{type:r.select,toggle:t.toggle}:{...r.select,toggle:t.toggle},yHe(t,r),ut(n.select)&&(n.select.on||n.select.clear)){const s='event.item && indexof(event.item.mark.role, "legend") < 0';for(const a of t.events)a.filter=lt(a.filter??[]),a.filter.includes(s)||a.filter.push(s)}const i=CV(t.bind)?t.bind.legend:"click",o=at(i)?V0(i,"view"):lt(i);t.bind={legend:{merge:o}}},topLevelSignals:(e,t,n)=>{const r=t.name,i=CV(t.bind)&&t.bind.legend,o=s=>a=>{const l=qt(a);return l.markname=s,l};for(const s of t.project.items){if(!s.hasLegend)continue;const a=`${yi(s.field)}_legend`,l=`${r}_${a}`;if(n.filter(u=>u.name===l).length===0){const u=i.merge.map(o(`${a}_symbols`)).concat(i.merge.map(o(`${a}_labels`))).concat(i.merge.map(o(`${a}_entries`)));n.unshift({name:l,...t.init?{}:{value:null},on:[{events:u,update:"isDefined(datum.value) ? datum.value : item().items[0].items[0].datum.value",force:!0},{events:i.merge,update:`!event.item || !datum ? null : ${l}`,force:!0}]})}}return n},signals:(e,t,n)=>{const r=t.name,i=t.project,o=n.find(d=>d.name===r+m0),s=r+yA,a=i.items.filter(d=>d.hasLegend).map(d=>yi(`${r}_${yi(d.field)}_legend`)),c=`${a.map(d=>`${d} !== null`).join(" && ")} ? {fields: ${s}, values: [${a.join(", ")}]} : null`;t.events&&a.length>0?o.on.push({events:a.map(d=>({signal:d})),update:c}):a.length>0&&(o.update=c,delete o.value,delete o.on);const u=n.find(d=>d.name===r+Qj),f=CV(t.bind)&&t.bind.legend;return u&&(t.events?u.on.push({...u.on[0],events:f}):u.on[0].events=f),n}};function Hvn(e,t,n){var i;const r=(i=e.fieldDef(t))==null?void 0:i.field;for(const o of Is(e.component.selection??{})){const s=o.project.hasField[r]??o.project.hasChannel[t];if(s&&fHe.defined(o)){const a=n.get("selections")??[];a.push(o.name),n.set("selections",a,!1),s.hasLegend=!0}}}const dHe="_translate_anchor",hHe="_translate_delta",Zvn={defined:e=>e.type==="interval"&&e.translate,signals:(e,t,n)=>{const r=t.name,i=tg.defined(t),o=r+dHe,{x:s,y:a}=t.project.hasChannel;let l=V0(t.translate,"scope");return i||(l=l.map(c=>(c.between[0].markname=r+Fw,c))),n.push({name:o,value:{},on:[{events:l.map(c=>c.between[0]),update:"{x: x(unit), y: y(unit)"+(s!==void 0?`, extent_x: ${i?SG(e,vi):`slice(${s.signals.visual})`}`:"")+(a!==void 0?`, extent_y: ${i?SG(e,gs):`slice(${a.signals.visual})`}`:"")+"}"}]},{name:r+hHe,value:{},on:[{events:l,update:`{x: ${o}.x - x(unit), y: ${o}.y - y(unit)}`}]}),s!==void 0&&FSe(e,t,s,"width",n),a!==void 0&&FSe(e,t,a,"height",n),n}};function FSe(e,t,n,r,i){const o=t.name,s=o+dHe,a=o+hHe,l=n.channel,c=tg.defined(t),u=i.filter(S=>S.name===n.signals[c?"data":"visual"])[0],f=e.getSizeSignalRef(r).signal,d=e.getScaleComponent(l),h=d&&d.get("type"),p=d&&d.get("reverse"),g=c?l===vi?p?"":"-":p?"-":"":"",y=`${s}.extent_${l}`,v=`${g}${a}.${l} / ${c?`${f}`:`span(${y})`}`,x=!c||!d?"panLinear":h==="log"?"panLog":h==="symlog"?"panSymlog":h==="pow"?"panPow":"panLinear",m=c?h==="pow"?`, ${d.get("exponent")??1}`:h==="symlog"?`, ${d.get("constant")??1}`:"":"",w=`${x}(${y}, ${v}${m})`;u.on.push({events:{signal:a},update:c?w:`clampRange(${w}, 0, ${f})`})}const pHe="_zoom_anchor",gHe="_zoom_delta",Gvn={defined:e=>e.type==="interval"&&e.zoom,signals:(e,t,n)=>{const r=t.name,i=tg.defined(t),o=r+gHe,{x:s,y:a}=t.project.hasChannel,l=Ge(e.scaleName(vi)),c=Ge(e.scaleName(gs));let u=V0(t.zoom,"scope");return i||(u=u.map(f=>(f.markname=r+Fw,f))),n.push({name:r+pHe,on:[{events:u,update:i?"{"+[l?`x: invert(${l}, x(unit))`:"",c?`y: invert(${c}, y(unit))`:""].filter(f=>f).join(", ")+"}":"{x: x(unit), y: y(unit)}"}]},{name:o,on:[{events:u,force:!0,update:"pow(1.001, event.deltaY * pow(16, event.deltaMode))"}]}),s!==void 0&&zSe(e,t,s,"width",n),a!==void 0&&zSe(e,t,a,"height",n),n}};function zSe(e,t,n,r,i){const o=t.name,s=n.channel,a=tg.defined(t),l=i.filter(x=>x.name===n.signals[a?"data":"visual"])[0],c=e.getSizeSignalRef(r).signal,u=e.getScaleComponent(s),f=u&&u.get("type"),d=a?SG(e,s):l.name,h=o+gHe,p=`${o}${pHe}.${s}`,g=!a||!u?"zoomLinear":f==="log"?"zoomLog":f==="symlog"?"zoomSymlog":f==="pow"?"zoomPow":"zoomLinear",y=a?f==="pow"?`, ${u.get("exponent")??1}`:f==="symlog"?`, ${u.get("constant")??1}`:"":"",v=`${g}(${d}, ${p}, ${h}${y})`;l.on.push({events:{signal:h},update:a?v:`clampRange(${v}, 0, ${c})`})}const Tb="_store",m0="_tuple",Kvn="_modify",mHe="vlSelectionResolve",wz=[Rvn,Tvn,Evn,uHe,cHe,tg,fHe,Xvn,Zvn,Gvn,lHe];function Jvn(e){let t=e.parent;for(;t&&!Wf(t);)t=t.parent;return t}function C1(e,{escape:t}={escape:!0}){let n=t?Ge(e.name):e.name;const r=Jvn(e);if(r){const{facet:i}=r;for(const o of Su)i[o]&&(n+=` + '__facet_${o}_' + (facet[${Ge(r.vgField(o))}])`)}return n}function Cue(e){return Is(e.component.selection??{}).reduce((t,n)=>t||n.project.hasSelectionId,!1)}function yHe(e,t){(at(t.select)||!t.select.on)&&delete e.events,(at(t.select)||!t.select.clear)&&delete e.clear,(at(t.select)||!t.select.toggle)&&delete e.toggle}function _G(e){const t=[];return e.type==="Identifier"?[e.name]:e.type==="Literal"?[e.value]:(e.type==="MemberExpression"&&(t.push(..._G(e.object)),t.push(..._G(e.property))),t)}function vHe(e){return e.object.type==="MemberExpression"?vHe(e.object):e.object.name==="datum"}function bHe(e){const t=nce(e),n=new Set;return t.visit(r=>{r.type==="MemberExpression"&&vHe(r)&&n.add(_G(r).slice(1).join("."))}),n}class RC extends xr{clone(){return new RC(null,this.model,qt(this.filter))}constructor(t,n,r){super(t),this.model=n,this.filter=r,this.expr=Bj(this.model,this.filter,this),this._dependentFields=bHe(this.expr)}dependentFields(){return this._dependentFields}producedFields(){return new Set}assemble(){return{type:"filter",expr:this.expr}}hash(){return`Filter ${this.expr}`}}function e1n(e,t){const n={},r=e.config.selection;if(!t||!t.length)return n;for(const i of t){const o=yi(i.name),s=i.select,a=at(s)?s:s.type,l=ut(s)?qt(s):{type:a},c=r[a];for(const d in c)d==="fields"||d==="encodings"||(d==="mark"&&(l[d]={...c[d],...l[d]}),(l[d]===void 0||l[d]===!0)&&(l[d]=qt(c[d]??l[d])));const u=n[o]={...l,name:o,type:a,init:i.value,bind:i.bind,events:at(l.on)?V0(l.on,"scope"):lt(qt(l.on))},f=qt(i);for(const d of wz)d.defined(u)&&d.parse&&d.parse(e,u,f)}return n}function OHe(e,t,n,r="datum"){const i=at(t)?t:t.param,o=yi(i),s=Ge(o+Tb);let a;try{a=e.getSelectionComponent(o,i)}catch{return`!!${o}`}if(a.project.timeUnit){const d=n??e.component.data.raw,h=a.project.timeUnit.clone();d.parent?h.insertAsParentOf(d):d.parent=h}const l=a.project.hasSelectionId?"vlSelectionIdTest(":"vlSelectionTest(",c=a.resolve==="global"?")":`, ${Ge(a.resolve)})`,u=`${l}${s}, ${r}${c}`,f=`length(data(${s}))`;return t.empty===!1?`${f} && ${u}`:`!${f} || ${u}`}function xHe(e,t,n){const r=yi(t),i=n.encoding;let o=n.field,s;try{s=e.getSelectionComponent(r,t)}catch{return r}if(!i&&!o)o=s.project.items[0].field,s.project.items.length>1&&He(`A "field" or "encoding" must be specified when using a selection as a scale domain. Using "field": ${Ge(o)}.`);else if(i&&!o){const a=s.project.items.filter(l=>l.channel===i);!a.length||a.length>1?(o=s.project.items[0].field,He((a.length?"Multiple ":"No ")+`matching ${Ge(i)} encoding found for selection ${Ge(n.param)}. Using "field": ${Ge(o)}.`)):o=a[0].field}return`${s.name}[${Ge(Fu(o))}]`}function t1n(e,t){for(const[n,r]of t0(e.component.selection??{})){const i=e.getName(`lookup_${n}`);e.component.data.outputNodes[i]=r.materialized=new el(new RC(t,e,{param:n}),i,Wr.Lookup,e.component.data.outputNodeRefCounts)}}function Bj(e,t,n){return Ek(t,r=>at(r)?r:Xmn(r)?OHe(e,r,n):BYe(r))}function n1n(e,t){if(e)return Me(e)&&!$m(e)?e.map(n=>oue(n,t)).join(", "):e}function PV(e,t,n,r){var i,o;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[n]=r}function LE(e,t,n,r={header:!1}){var f,d;const{disable:i,orient:o,scale:s,labelExpr:a,title:l,zindex:c,...u}=e.combine();if(!i){for(const h in u){const p=Myn[h],g=u[h];if(p&&p!==t&&p!=="both")delete u[h];else if(mA(g)){const{condition:y,...v}=g,x=lt(y),m=pSe[h];if(m){const{vgProp:w,part:S}=m,C=[...x.map($=>{const{test:E,...R}=$;return{test:Bj(null,E),...R}}),v];PV(u,S,w,C),delete u[h]}else if(m===null){const w={signal:x.map(S=>{const{test:C,...$}=S;return`${Bj(null,C)} ? ${Jwe($)} : `}).join("")+Jwe(v)};u[h]=w}}else if(St(g)){const y=pSe[h];if(y){const{vgProp:v,part:x}=y;PV(u,x,v,g),delete u[h]}}kn(["labelAlign","labelBaseline"],h)&&u[h]===null&&delete u[h]}if(t==="grid"){if(!u.grid)return;if(u.encode){const{grid:h}=u.encode;u.encode={...h?{grid:h}:{}},Cr(u.encode)&&delete u.encode}return{scale:s,orient:o,...u,domain:!1,labels:!1,aria:!1,maxExtent:0,minExtent:0,ticks:!1,zindex:to(c,0)}}else{if(!r.header&&e.mainExtracted)return;if(a!==void 0){let p=a;(d=(f=u.encode)==null?void 0:f.labels)!=null&&d.update&&St(u.encode.labels.update.text)&&(p=lb(a,"datum.label",u.encode.labels.update.text.signal)),PV(u,"labels","text",{signal:p})}if(u.labelAlign===null&&delete u.labelAlign,u.encode){for(const p of hXe)e.hasAxisPart(p)||delete u.encode[p];Cr(u.encode)&&delete u.encode}const h=n1n(l,n);return{scale:s,orient:o,grid:!1,...h?{title:h}:{},...u,...n.aria===!1?{aria:!1}:{},zindex:to(c,0)}}}}function wHe(e){const{axes:t}=e.component,n=[];for(const r of np)if(t[r]){for(const i of t[r])if(!i.get("disable")&&!i.get("gridScale")){const o=r==="x"?"height":"width",s=e.getSizeSignalRef(o).signal;o!==s&&n.push({name:o,update:s})}}return n}function r1n(e,t){const{x:n=[],y:r=[]}=e;return[...n.map(i=>LE(i,"grid",t)),...r.map(i=>LE(i,"grid",t)),...n.map(i=>LE(i,"main",t)),...r.map(i=>LE(i,"main",t))].filter(i=>i)}function QSe(e,t,n,r){return Object.assign.apply(null,[{},...e.map(i=>{if(i==="axisOrient"){const o=n==="x"?"bottom":"left",s=t[n==="x"?"axisBottom":"axisLeft"]||{},a=t[n==="x"?"axisTop":"axisRight"]||{},l=new Set([...Ue(s),...Ue(a)]),c={};for(const u of l.values())c[u]={signal:`${r.signal} === "${o}" ? ${Ef(s[u])} : ${Ef(a[u])}`};return c}return t[i]})])}function i1n(e,t,n,r){const i=t==="band"?["axisDiscrete","axisBand"]:t==="point"?["axisDiscrete","axisPoint"]:qYe(t)?["axisQuantitative"]:t==="time"||t==="utc"?["axisTemporal"]:[],o=e==="x"?"axisX":"axisY",s=St(n)?"axisOrient":`axis${OR(n)}`,a=[...i,...i.map(c=>o+c.substr(4))],l=["axis",s,o];return{vlOnlyAxisConfig:QSe(a,r,e,n),vgAxisConfig:QSe(l,r,e,n),axisConfigStyle:o1n([...l,...a],r)}}function o1n(e,t){var r;const n=[{}];for(const i of e){let o=(r=t[i])==null?void 0:r.style;if(o){o=lt(o);for(const s of o)n.push(t.style[s])}}return Object.assign.apply(null,n)}function CG(e,t,n,r={}){var o;const i=OYe(e,n,t);if(i!==void 0)return{configFrom:"style",configValue:i};for(const s of["vlOnlyAxisConfig","vgAxisConfig","axisConfigStyle"])if(((o=r[s])==null?void 0:o[e])!==void 0)return{configFrom:s,configValue:r[s][e]};return{}}const BSe={scale:({model:e,channel:t})=>e.scaleName(t),format:({format:e})=>e,formatType:({formatType:e})=>e,grid:({fieldOrDatumDef:e,axis:t,scaleType:n})=>t.grid??s1n(n,e),gridScale:({model:e,channel:t})=>a1n(e,t),labelAlign:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelAlign||_He(t,n,r),labelAngle:({labelAngle:e})=>e,labelBaseline:({axis:e,labelAngle:t,orient:n,channel:r})=>e.labelBaseline||SHe(t,n,r),labelFlush:({axis:e,fieldOrDatumDef:t,channel:n})=>e.labelFlush??c1n(t.type,n),labelOverlap:({axis:e,fieldOrDatumDef:t,scaleType:n})=>e.labelOverlap??u1n(t.type,n,Xe(t)&&!!t.timeUnit,Xe(t)?t.sort:void 0),orient:({orient:e})=>e,tickCount:({channel:e,model:t,axis:n,fieldOrDatumDef:r,scaleType:i})=>{const o=e==="x"?"width":e==="y"?"height":void 0,s=o?t.getSizeSignalRef(o):void 0;return n.tickCount??d1n({fieldOrDatumDef:r,scaleType:i,size:s,values:n.values})},tickMinStep:h1n,title:({axis:e,model:t,channel:n})=>{if(e.title!==void 0)return e.title;const r=CHe(t,n);if(r!==void 0)return r;const i=t.typedFieldDef(n),o=n==="x"?"x2":"y2",s=t.fieldDef(o);return wYe(i?[dSe(i)]:[],Xe(s)?[dSe(s)]:[])},values:({axis:e,fieldOrDatumDef:t})=>p1n(e,t),zindex:({axis:e,fieldOrDatumDef:t,mark:n})=>e.zindex??g1n(n,t)};function s1n(e,t){return!fs(e)&&Xe(t)&&!Xr(t==null?void 0:t.bin)&&!xs(t==null?void 0:t.bin)}function a1n(e,t){const n=t==="x"?"y":"x";if(e.getScaleComponent(n))return e.scaleName(n)}function l1n(e,t,n,r,i){const o=t==null?void 0:t.labelAngle;if(o!==void 0)return St(o)?o:_2(o);{const{configValue:s}=CG("labelAngle",r,t==null?void 0:t.style,i);return s!==void 0?_2(s):n===vi&&kn([Gce,Zce],e.type)&&!(Xe(e)&&e.timeUnit)?270:void 0}}function $G(e){return`(((${e.signal} % 360) + 360) % 360)`}function SHe(e,t,n,r){if(e!==void 0)if(n==="x"){if(St(e)){const i=$G(e),o=St(t)?`(${t.signal} === "top")`:t==="top";return{signal:`(45 < ${i} && ${i} < 135) || (225 < ${i} && ${i} < 315) ? "middle" :(${i} <= 45 || 315 <= ${i}) === ${o} ? "bottom" : "top"`}}if(45<e&&e<135||225<e&&e<315)return"middle";if(St(t)){const i=e<=45||315<=e?"===":"!==";return{signal:`${t.signal} ${i} "top" ? "bottom" : "top"`}}return(e<=45||315<=e)==(t==="top")?"bottom":"top"}else{if(St(e)){const i=$G(e),o=St(t)?`(${t.signal} === "left")`:t==="left";return{signal:`${i} <= 45 || 315 <= ${i} || (135 <= ${i} && ${i} <= 225) ? ${r?'"middle"':"null"} : (45 <= ${i} && ${i} <= 135) === ${o} ? "top" : "bottom"`}}if(e<=45||315<=e||135<=e&&e<=225)return r?"middle":null;if(St(t)){const i=45<=e&&e<=135?"===":"!==";return{signal:`${t.signal} ${i} "left" ? "top" : "bottom"`}}return(45<=e&&e<=135)==(t==="left")?"top":"bottom"}}function _He(e,t,n){if(e===void 0)return;const r=n==="x",i=r?0:90,o=r?"bottom":"left";if(St(e)){const s=$G(e),a=St(t)?`(${t.signal} === "${o}")`:t===o;return{signal:`(${i?`(${s} + 90)`:s} % 180 === 0) ? ${r?null:'"center"'} :(${i} < ${s} && ${s} < ${180+i}) === ${a} ? "left" : "right"`}}if((e+i)%180===0)return r?null:"center";if(St(t)){const s=i<e&&e<180+i?"===":"!==";return{signal:`${`${t.signal} ${s} "${o}"`} ? "left" : "right"`}}return(i<e&&e<180+i)==(t===o)?"left":"right"}function c1n(e,t){if(t==="x"&&kn(["quantitative","temporal"],e))return!0}function u1n(e,t,n,r){if(n&&!ut(r)||e!=="nominal"&&e!=="ordinal")return t==="log"||t==="symlog"?"greedy":!0}function f1n(e){return e==="x"?"bottom":"left"}function d1n({fieldOrDatumDef:e,scaleType:t,size:n,values:r}){var i;if(!r&&!fs(t)&&t!=="log"){if(Xe(e)){if(Xr(e.bin))return{signal:`ceil(${n.signal}/10)`};if(e.timeUnit&&kn(["month","hours","day","quarter"],(i=cs(e.timeUnit))==null?void 0:i.unit))return}return{signal:`ceil(${n.signal}/40)`}}}function h1n({format:e,fieldOrDatumDef:t}){if(e==="d")return 1;if(Xe(t)){const{timeUnit:n}=t;if(n){const r=FYe(n);if(r)return{signal:r}}}}function CHe(e,t){const n=t==="x"?"x2":"y2",r=e.fieldDef(t),i=e.fieldDef(n),o=r?r.title:void 0,s=i?i.title:void 0;if(o&&s)return SYe(o,s);if(o)return o;if(s)return s;if(o!==void 0)return o;if(s!==void 0)return s}function p1n(e,t){const n=e.values;if(Me(n))return dXe(t,n);if(St(n))return n}function g1n(e,t){return e==="rect"&&Nj(t)?1:0}class r_ extends xr{clone(){return new r_(null,qt(this.transform))}constructor(t,n){super(t),this.transform=n,this._dependentFields=bHe(this.transform.calculate)}static parseAllForSortIndex(t,n){return n.forEachFieldDef((r,i)=>{if(mO(r)&&nXe(r.sort)){const{field:o,timeUnit:s}=r,a=r.sort,l=a.map((c,u)=>`${BYe({field:o,timeUnit:s,equal:c})} ? ${u} : `).join("")+a.length;t=new r_(t,{calculate:l,as:i_(r,i,{forAs:!0})})}}),t}producedFields(){return new Set([this.transform.as])}dependentFields(){return this._dependentFields}assemble(){return{type:"formula",expr:this.transform.calculate,as:this.transform.as}}hash(){return`Calculate ${Rn(this.transform)}`}}function i_(e,t,n){return tt(e,{prefix:t,suffix:"sort_index",...n??{}})}function Sz(e,t){return kn(["top","bottom"],t)?"column":kn(["left","right"],t)||e==="row"?"row":"column"}function o_(e,t,n,r){const i=r==="row"?n.headerRow:r==="column"?n.headerColumn:n.headerFacet;return to((t||{})[e],i[e],n.header[e])}function _z(e,t,n,r){const i={};for(const o of e){const s=o_(o,t||{},n,r);s!==void 0&&(i[o]=s)}return i}const $ue=["row","column"],Eue=["header","footer"];function m1n(e,t){const n=e.component.layoutHeaders[t].title,r=e.config?e.config:void 0,i=e.component.layoutHeaders[t].facetFieldDef?e.component.layoutHeaders[t].facetFieldDef:void 0,{titleAnchor:o,titleAngle:s,titleOrient:a}=_z(["titleAnchor","titleAngle","titleOrient"],i.header,r,t),l=Sz(t,a),c=_2(s);return{name:`${t}-title`,type:"group",role:`${l}-title`,title:{text:n,...t==="row"?{orient:"left"}:{},style:"guide-title",...EHe(c,l),...$He(l,c,o),...kHe(r,i,t,r0n,PXe)}}}function $He(e,t,n="middle"){switch(n){case"start":return{align:"left"};case"end":return{align:"right"}}const r=_He(t,e==="row"?"left":"top",e==="row"?"y":"x");return r?{align:r}:{}}function EHe(e,t){const n=SHe(e,t==="row"?"left":"top",t==="row"?"y":"x",!0);return n?{baseline:n}:{}}function y1n(e,t){const n=e.component.layoutHeaders[t],r=[];for(const i of Eue)if(n[i])for(const o of n[i]){const s=b1n(e,t,i,n,o);s!=null&&r.push(s)}return r}function v1n(e,t){const{sort:n}=e;return ph(n)?{field:tt(n,{expr:"datum"}),order:n.order??"ascending"}:Me(n)?{field:i_(e,t,{expr:"datum"}),order:"ascending"}:{field:tt(e,{expr:"datum"}),order:n??"ascending"}}function EG(e,t,n){const{format:r,formatType:i,labelAngle:o,labelAnchor:s,labelOrient:a,labelExpr:l}=_z(["format","formatType","labelAngle","labelAnchor","labelOrient","labelExpr"],e.header,n,t),c=tue({fieldOrDatumDef:e,format:r,formatType:i,expr:"parent",config:n}).signal,u=Sz(t,a);return{text:{signal:l?lb(lb(l,"datum.label",c),"datum.value",tt(e,{expr:"parent"})):c},...t==="row"?{orient:"left"}:{},style:"guide-label",frame:"group",...EHe(o,u),...$He(u,o,s),...kHe(n,e,t,i0n,RXe)}}function b1n(e,t,n,r,i){if(i){let o=null;const{facetFieldDef:s}=r,a=e.config?e.config:void 0;if(s&&i.labels){const{labelOrient:f}=_z(["labelOrient"],s.header,a,t);(t==="row"&&!kn(["top","bottom"],f)||t==="column"&&!kn(["left","right"],f))&&(o=EG(s,t,a))}const l=Wf(e)&&!hA(e.facet),c=i.axes,u=(c==null?void 0:c.length)>0;if(o||u){const f=t==="row"?"height":"width";return{name:e.getName(`${t}_${n}`),type:"group",role:`${t}-${n}`,...r.facetFieldDef?{from:{data:e.getName(`${t}_domain`)},sort:v1n(s,t)}:{},...u&&l?{from:{data:e.getName(`facet_domain_${t}`)}}:{},...o?{title:o}:{},...i.sizeSignal?{encode:{update:{[f]:i.sizeSignal}}}:{},...u?{axes:c}:{}}}}return null}const O1n={column:{start:0,end:1},row:{start:1,end:0}};function x1n(e,t){return O1n[t][e]}function w1n(e,t){const n={};for(const r of Su){const i=e[r];if(i!=null&&i.facetFieldDef){const{titleAnchor:o,titleOrient:s}=_z(["titleAnchor","titleOrient"],i.facetFieldDef.header,t,r),a=Sz(r,s),l=x1n(o,a);l!==void 0&&(n[a]=l)}}return Cr(n)?void 0:n}function kHe(e,t,n,r,i){const o={};for(const s of r){if(!i[s])continue;const a=o_(s,t==null?void 0:t.header,e,n);a!==void 0&&(o[i[s]]=a)}return o}function kue(e){return[...FN(e,"width"),...FN(e,"height"),...FN(e,"childWidth"),...FN(e,"childHeight")]}function FN(e,t){const n=t==="width"?"x":"y",r=e.component.layoutSize.get(t);if(!r||r==="merged")return[];const i=e.getSizeSignalRef(t).signal;if(r==="step"){const o=e.getScaleComponent(n);if(o){const s=o.get("type"),a=o.get("range");if(fs(s)&&G0(a)){const l=e.scaleName(n);return Wf(e.parent)&&e.parent.component.resolve.scale[n]==="independent"?[WSe(l,a)]:[WSe(l,a),{name:i,update:THe(l,o,`domain('${l}').length`)}]}}throw new Error("layout size is step although width/height is not step.")}else if(r=="container"){const o=i.endsWith("width"),s=o?"containerSize()[0]":"containerSize()[1]",a=bG(e.config.view,o?"width":"height"),l=`isFinite(${s}) ? ${s} : ${a}`;return[{name:i,init:l,on:[{update:l,events:"window:resize"}]}]}else return[{name:i,value:r}]}function WSe(e,t){const n=`${e}_step`;return St(t.step)?{name:n,update:t.step.signal}:{name:n,value:t.step}}function THe(e,t,n){const r=t.get("type"),i=t.get("padding"),o=to(t.get("paddingOuter"),i);let s=t.get("paddingInner");return s=r==="band"?s!==void 0?s:i:1,`bandspace(${n}, ${Ef(s)}, ${Ef(o)}) * ${e}_step`}function PHe(e){return e==="childWidth"?"width":e==="childHeight"?"height":e}function RHe(e,t){return Ue(e).reduce((n,r)=>{const i=e[r];return{...n,...PC(t,i,r,o=>ai(o.value))}},{})}function AHe(e,t){if(Wf(t))return e==="theta"?"independent":"shared";if(NC(t))return"shared";if(Mue(t))return no(e)||e==="theta"||e==="radius"?"independent":"shared";throw new Error("invalid model type for resolve")}function Tue(e,t){const n=e.scale[t],r=no(t)?"axis":"legend";return n==="independent"?(e[r][t]==="shared"&&He(mmn(t)),"independent"):e[r][t]||"shared"}const S1n={...a0n,disable:1,labelExpr:1,selections:1,opacity:1,shape:1,stroke:1,fill:1,size:1,strokeWidth:1,strokeDash:1,encode:1},DHe=Ue(S1n);class _1n extends Ug{}const VSe={symbols:C1n,gradient:$1n,labels:E1n,entries:k1n};function C1n(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i,legendType:o}){if(o!=="symbol")return;const{markDef:s,encoding:a,config:l,mark:c}=n,u=s.filled&&c!=="trail";let f={...kgn({},n,t8t),...oHe(n,{filled:u})};const d=i.get("symbolOpacity")??l.legend.symbolOpacity,h=i.get("symbolFillColor")??l.legend.symbolFillColor,p=i.get("symbolStrokeColor")??l.legend.symbolStrokeColor,g=d===void 0?NHe(a.opacity)??s.opacity:void 0;if(f.fill){if(r==="fill"||u&&r===Ul)delete f.fill;else if(f.fill.field)h?delete f.fill:(f.fill=ai(l.legend.symbolBaseFillColor??"black"),f.fillOpacity=ai(g??1));else if(Me(f.fill)){const y=kG(a.fill??a.color)??s.fill??(u&&s.color);y&&(f.fill=ai(y))}}if(f.stroke){if(r==="stroke"||!u&&r===Ul)delete f.stroke;else if(f.stroke.field||p)delete f.stroke;else if(Me(f.stroke)){const y=to(kG(a.stroke||a.color),s.stroke,u?s.color:void 0);y&&(f.stroke={value:y})}}if(r!==Bg){const y=Xe(t)&&IHe(n,i,t);y?f.opacity=[{test:y,...ai(g??1)},ai(l.legend.unselectedOpacity)]:g&&(f.opacity=ai(g))}return f={...f,...e},Cr(f)?void 0:f}function $1n(e,{model:t,legendType:n,legendCmpt:r}){if(n!=="gradient")return;const{config:i,markDef:o,encoding:s}=t;let a={};const c=(r.get("gradientOpacity")??i.legend.gradientOpacity)===void 0?NHe(s.opacity)||o.opacity:void 0;return c&&(a.opacity=ai(c)),a={...a,...e},Cr(a)?void 0:a}function E1n(e,{fieldOrDatumDef:t,model:n,channel:r,legendCmpt:i}){const o=n.legend(r)||{},s=n.config,a=Xe(t)?IHe(n,i,t):void 0,l=a?[{test:a,value:1},{value:s.legend.unselectedOpacity}]:void 0,{format:c,formatType:u}=o;let f;Eb(u)?f=Tf({fieldOrDatumDef:t,field:"datum.value",format:c,formatType:u,config:s}):c===void 0&&u===void 0&&s.customFormatTypes&&(t.type==="quantitative"&&s.numberFormatType?f=Tf({fieldOrDatumDef:t,field:"datum.value",format:s.numberFormat,formatType:s.numberFormatType,config:s}):t.type==="temporal"&&s.timeFormatType&&Xe(t)&&t.timeUnit===void 0&&(f=Tf({fieldOrDatumDef:t,field:"datum.value",format:s.timeFormat,formatType:s.timeFormatType,config:s})));const d={...l?{opacity:l}:{},...f?{text:f}:{},...e};return Cr(d)?void 0:d}function k1n(e,{legendCmpt:t}){const n=t.get("selections");return n!=null&&n.length?{...e,fill:{value:"transparent"}}:e}function NHe(e){return MHe(e,(t,n)=>Math.max(t,n.value))}function kG(e){return MHe(e,(t,n)=>to(t,n.value))}function MHe(e,t){if(Syn(e))return lt(e.condition).reduce(t,e.value);if(sd(e))return e.value}function IHe(e,t,n){const r=t.get("selections");if(!(r!=null&&r.length))return;const i=Ge(n.field);return r.map(o=>`(!length(data(${Ge(yi(o)+Tb)})) || (${o}[${i}] && indexof(${o}[${i}], datum.value) >= 0))`).join(" || ")}const USe={direction:({direction:e})=>e,format:({fieldOrDatumDef:e,legend:t,config:n})=>{const{format:r,formatType:i}=t;return KYe(e,e.type,r,i,n,!1)},formatType:({legend:e,fieldOrDatumDef:t,scaleType:n})=>{const{formatType:r}=e;return JYe(r,t,n)},gradientLength:e=>{const{legend:t,legendConfig:n}=e;return t.gradientLength??n.gradientLength??M1n(e)},labelOverlap:({legend:e,legendConfig:t,scaleType:n})=>e.labelOverlap??t.labelOverlap??I1n(n),symbolType:({legend:e,markDef:t,channel:n,encoding:r})=>e.symbolType??P1n(t.type,n,r.shape,t.shape),title:({fieldOrDatumDef:e,config:t})=>jw(e,t,{allowDisabling:!0}),type:({legendType:e,scaleType:t,channel:n})=>{if(Lw(n)&&kf(t)){if(e==="gradient")return}else if(e==="symbol")return;return e},values:({fieldOrDatumDef:e,legend:t})=>T1n(t,e)};function T1n(e,t){const n=e.values;if(Me(n))return dXe(t,n);if(St(n))return n}function P1n(e,t,n,r){if(t!=="shape"){const i=kG(n)??r;if(i)return i}switch(e){case"bar":case"rect":case"image":case"square":return"square";case"line":case"trail":case"rule":return"stroke";case"arc":case"point":case"circle":case"tick":case"geoshape":case"area":case"text":return"circle"}}function R1n(e){const{legend:t}=e;return to(t.type,A1n(e))}function A1n({channel:e,timeUnit:t,scaleType:n}){if(Lw(e)){if(kn(["quarter","month","day"],t))return"symbol";if(kf(n))return"gradient"}return"symbol"}function D1n({legendConfig:e,legendType:t,orient:n,legend:r}){return r.direction??e[t?"gradientDirection":"symbolDirection"]??N1n(n,t)}function N1n(e,t){switch(e){case"top":case"bottom":return"horizontal";case"left":case"right":case"none":case void 0:return;default:return t==="gradient"?"horizontal":void 0}}function M1n({legendConfig:e,model:t,direction:n,orient:r,scaleType:i}){const{gradientHorizontalMaxLength:o,gradientHorizontalMinLength:s,gradientVerticalMaxLength:a,gradientVerticalMinLength:l}=e;if(kf(i))return n==="horizontal"?r==="top"||r==="bottom"?qSe(t,"width",s,o):s:qSe(t,"height",l,a)}function qSe(e,t,n,r){return{signal:`clamp(${e.getSizeSignalRef(t).signal}, ${n}, ${r})`}}function I1n(e){if(kn(["quantile","threshold","log","symlog"],e))return"greedy"}function LHe(e){const t=Qi(e)?L1n(e):Q1n(e);return e.component.legends=t,t}function L1n(e){const{encoding:t}=e,n={};for(const r of[Ul,...DXe]){const i=zo(t[r]);!i||!e.getScaleComponent(r)||r===ql&&Xe(i)&&i.type===TC||(n[r]=z1n(e,r))}return n}function j1n(e,t){const n=e.scaleName(t);if(e.mark==="trail"){if(t==="color")return{stroke:n};if(t==="size")return{strokeWidth:n}}return t==="color"?e.markDef.filled?{fill:n}:{stroke:n}:{[t]:n}}function F1n(e,t,n,r){switch(t){case"disable":return n!==void 0;case"values":return!!(n!=null&&n.values);case"title":if(t==="title"&&e===(r==null?void 0:r.title))return!0}return e===(n||{})[t]}function z1n(e,t){var w;let n=e.legend(t);const{markDef:r,encoding:i,config:o}=e,s=o.legend,a=new _1n({},j1n(e,t));Hvn(e,t,a);const l=n!==void 0?!n:s.disable;if(a.set("disable",l,n!==void 0),l)return a;n=n||{};const c=e.getScaleComponent(t).get("type"),u=zo(i[t]),f=Xe(u)?(w=cs(u.timeUnit))==null?void 0:w.unit:void 0,d=n.orient||o.legend.orient||"right",h=R1n({legend:n,channel:t,timeUnit:f,scaleType:c}),p=D1n({legend:n,legendType:h,orient:d,legendConfig:s}),g={legend:n,channel:t,model:e,markDef:r,encoding:i,fieldOrDatumDef:u,legendConfig:s,config:o,scaleType:c,orient:d,legendType:h,direction:p};for(const S of DHe){if(h==="gradient"&&S.startsWith("symbol")||h==="symbol"&&S.startsWith("gradient"))continue;const C=S in USe?USe[S](g):n[S];if(C!==void 0){const $=F1n(C,S,n,e.fieldDef(t));($||o.legend[S]===void 0)&&a.set(S,C,$)}}const y=(n==null?void 0:n.encoding)??{},v=a.get("selections"),x={},m={fieldOrDatumDef:u,model:e,channel:t,legendCmpt:a,legendType:h};for(const S of["labels","legend","title","symbols","gradient","entries"]){const C=RHe(y[S]??{},e),$=S in VSe?VSe[S](C,m):C;$!==void 0&&!Cr($)&&(x[S]={...v!=null&&v.length&&Xe(u)?{name:`${yi(u.field)}_legend_${S}`}:{},...v!=null&&v.length?{interactive:!!v}:{},update:$})}return Cr(x)||a.set("encode",x,!!(n!=null&&n.encoding)),a}function Q1n(e){const{legends:t,resolve:n}=e.component;for(const r of e.children){LHe(r);for(const i of Ue(r.component.legends))n.legend[i]=Tue(e.component.resolve,i),n.legend[i]==="shared"&&(t[i]=jHe(t[i],r.component.legends[i]),t[i]||(n.legend[i]="independent",delete t[i]))}for(const r of Ue(t))for(const i of e.children)i.component.legends[r]&&n.legend[r]==="shared"&&delete i.component.legends[r];return t}function jHe(e,t){var o,s,a,l;if(!e)return t.clone();const n=e.getWithExplicit("orient"),r=t.getWithExplicit("orient");if(n.explicit&&r.explicit&&n.value!==r.value)return;let i=!1;for(const c of DHe){const u=p0(e.getWithExplicit(c),t.getWithExplicit(c),c,"legend",(f,d)=>{switch(c){case"symbolType":return B1n(f,d);case"title":return _Ye(f,d);case"type":return i=!0,uc("symbol")}return vz(f,d,c,"legend")});e.setWithExplicit(c,u)}return i&&((s=(o=e.implicit)==null?void 0:o.encode)!=null&&s.gradient&&B3(e.implicit,["encode","gradient"]),(l=(a=e.explicit)==null?void 0:a.encode)!=null&&l.gradient&&B3(e.explicit,["encode","gradient"])),e}function B1n(e,t){return t.value==="circle"?t:e}function W1n(e,t,n,r){var i,o;e.encode??(e.encode={}),(i=e.encode)[t]??(i[t]={}),(o=e.encode[t]).update??(o.update={}),e.encode[t].update[n]=r}function FHe(e){const t=e.component.legends,n={};for(const i of Ue(t)){const o=e.getScaleComponent(i),s=$r(o.get("domains"));if(n[s])for(const a of n[s])jHe(a,t[i])||n[s].push(t[i]);else n[s]=[t[i].clone()]}return Is(n).flat().map(i=>V1n(i,e.config)).filter(i=>i!==void 0)}function V1n(e,t){var s,a,l;const{disable:n,labelExpr:r,selections:i,...o}=e.combine();if(!n){if(t.aria===!1&&o.aria==null&&(o.aria=!1),(s=o.encode)!=null&&s.symbols){const c=o.encode.symbols.update;c.fill&&c.fill.value!=="transparent"&&!c.stroke&&!o.stroke&&(c.stroke={value:"transparent"});for(const u of DXe)o[u]&&delete c[u]}if(o.title||delete o.title,r!==void 0){let c=r;(l=(a=o.encode)==null?void 0:a.labels)!=null&&l.update&&St(o.encode.labels.update.text)&&(c=lb(r,"datum.label",o.encode.labels.update.text.signal)),W1n(o,"labels","text",{signal:c})}return o}}function U1n(e){return NC(e)||Mue(e)?q1n(e):zHe(e)}function q1n(e){return e.children.reduce((t,n)=>t.concat(n.assembleProjections()),zHe(e))}function zHe(e){const t=e.component.projection;if(!t||t.merged)return[];const n=t.combine(),{name:r}=n;if(t.data){const i={signal:`[${t.size.map(s=>s.signal).join(", ")}]`},o=t.data.reduce((s,a)=>{const l=St(a)?a.signal:`data('${e.lookupDataSource(a)}')`;return kn(s,l)||s.push(l),s},[]);if(o.length<=0)throw new Error("Projection's fit didn't find any data sources");return[{name:r,size:i,fit:{signal:o.length>1?`[${o.join(", ")}]`:o[0]},...n}]}else return[{name:r,translate:{signal:"[width / 2, height / 2]"},...n}]}const Y1n=["type","clipAngle","clipExtent","center","rotate","precision","reflectX","reflectY","coefficient","distance","fraction","lobes","parallel","radius","ratio","spacing","tilt"];class QHe extends Ug{constructor(t,n,r,i){super({...n},{name:t}),this.specifiedProjection=n,this.size=r,this.data=i,this.merged=!1}get isFit(){return!!this.data}}function BHe(e){e.component.projection=Qi(e)?X1n(e):G1n(e)}function X1n(e){if(e.hasProjection){const t=bl(e.specifiedProjection),n=!(t&&(t.scale!=null||t.translate!=null)),r=n?[e.getSizeSignalRef("width"),e.getSizeSignalRef("height")]:void 0,i=n?H1n(e):void 0,o=new QHe(e.projectionName(!0),{...bl(e.config.projection)??{},...t??{}},r,i);return o.get("type")||o.set("type","equalEarth",!1),o}}function H1n(e){const t=[],{encoding:n}=e;for(const r of[[vd,yd],[Wu,bd]])(zo(n[r[0]])||zo(n[r[1]]))&&t.push({signal:e.getName(`geojson_${t.length}`)});return e.channelHasField(ql)&&e.typedFieldDef(ql).type===TC&&t.push({signal:e.getName(`geojson_${t.length}`)}),t.length===0&&t.push(e.requestDataName(Wr.Main)),t}function Z1n(e,t){const n=qie(Y1n,i=>!!(!Rt(e.explicit,i)&&!Rt(t.explicit,i)||Rt(e.explicit,i)&&Rt(t.explicit,i)&&$c(e.get(i),t.get(i))));if($c(e.size,t.size)){if(n)return e;if($c(e.explicit,{}))return t;if($c(t.explicit,{}))return e}return null}function G1n(e){if(e.children.length===0)return;let t;for(const r of e.children)BHe(r);const n=qie(e.children,r=>{const i=r.component.projection;if(i)if(t){const o=Z1n(t,i);return o&&(t=o),!!o}else return t=i,!0;else return!0});if(t&&n){const r=e.projectionName(!0),i=new QHe(r,t.specifiedProjection,t.size,qt(t.data));for(const o of e.children){const s=o.component.projection;s&&(s.isFit&&i.data.push(...o.component.projection.data),o.renameProjection(s.get("name"),r),s.merged=!0)}return i}}function K1n(e,t,n,r){if(gA(t,n)){const i=Qi(e)?e.axis(n)??e.legend(n)??{}:{},o=tt(t,{expr:"datum"}),s=tt(t,{expr:"datum",binSuffix:"end"});return{formulaAs:tt(t,{binSuffix:"range",forAs:!0}),formula:dA(o,s,i.format,i.formatType,r)}}return{}}function WHe(e,t){return`${mYe(e)}_${t}`}function J1n(e,t){return{signal:e.getName(`${t}_bins`),extentSignal:e.getName(`${t}_extent`)}}function Pue(e,t,n){const r=dz(n,void 0)??{},i=WHe(r,t);return e.getName(`${i}_bins`)}function ebn(e){return"as"in e}function YSe(e,t,n){let r,i;ebn(e)?r=at(e.as)?[e.as,`${e.as}_end`]:[e.as[0],e.as[1]]:r=[tt(e,{forAs:!0}),tt(e,{binSuffix:"end",forAs:!0})];const o={...dz(t,void 0)},s=WHe(o,e.field),{signal:a,extentSignal:l}=J1n(n,s);if(oz(o.extent)){const u=o.extent;i=xHe(n,u.param,u),delete o.extent}const c={bin:o,field:e.field,as:[r],...a?{signal:a}:{},...l?{extentSignal:l}:{},...i?{span:i}:{}};return{key:s,binComponent:c}}class mh extends xr{clone(){return new mh(null,qt(this.bins))}constructor(t,n){super(t),this.bins=n}static makeFromEncoding(t,n){const r=n.reduceFieldDef((i,o,s)=>{if(ol(o)&&Xr(o.bin)){const{key:a,binComponent:l}=YSe(o,o.bin,n);i[a]={...l,...i[a],...K1n(n,o,s,n.config)}}return i},{});return Cr(r)?null:new mh(t,r)}static makeFromTransform(t,n,r){const{key:i,binComponent:o}=YSe(n,n.bin,r);return new mh(t,{[i]:o})}merge(t,n){for(const r of Ue(t.bins))r in this.bins?(n(t.bins[r].signal,this.bins[r].signal),this.bins[r].as=eh([...this.bins[r].as,...t.bins[r].as],Rn)):this.bins[r]=t.bins[r];for(const r of t.children)t.removeChild(r),r.parent=this;t.remove()}producedFields(){return new Set(Is(this.bins).map(t=>t.as).flat(2))}dependentFields(){return new Set(Is(this.bins).map(t=>t.field))}hash(){return`Bin ${Rn(this.bins)}`}assemble(){return Is(this.bins).flatMap(t=>{const n=[],[r,...i]=t.as,{extent:o,...s}=t.bin,a={type:"bin",field:Fu(t.field),as:r,signal:t.signal,...oz(o)?{extent:null}:{extent:o},...t.span?{span:{signal:`span(${t.span})`}}:{},...s};!o&&t.extentSignal&&(n.push({type:"extent",field:Fu(t.field),signal:t.extentSignal}),a.extent={signal:t.extentSignal}),n.push(a);for(const l of i)for(let c=0;c<2;c++)n.push({type:"formula",expr:tt({field:r[c]},{expr:"datum"}),as:l[c]});return t.formula&&n.push({type:"formula",expr:t.formula,as:t.formulaAs}),n})}}function tbn(e,t,n,r){var o;const i=Qi(r)?r.encoding[tp(t)]:void 0;if(ol(n)&&Qi(r)&&iXe(n,i,r.markDef,r.config)){e.add(tt(n,{})),e.add(tt(n,{suffix:"end"}));const{mark:s,markDef:a,config:l}=r,c=h0({fieldDef:n,markDef:a,config:l});C2(s)&&c!==.5&&no(t)&&(e.add(tt(n,{suffix:bz})),e.add(tt(n,{suffix:Oz}))),n.bin&&gA(n,t)&&e.add(tt(n,{binSuffix:"range"}))}else if(oYe(t)){const s=iYe(t);e.add(r.getName(s))}else e.add(tt(n));return mO(n)&&ayn((o=n.scale)==null?void 0:o.range)&&e.add(n.scale.range.field),e}function nbn(e,t){for(const n of Ue(t)){const r=t[n];for(const i of Ue(r))n in e?e[n][i]=new Set([...e[n][i]??[],...r[i]]):e[n]={[i]:r[i]}}}class Bf extends xr{clone(){return new Bf(null,new Set(this.dimensions),qt(this.measures))}constructor(t,n,r){super(t),this.dimensions=n,this.measures=r}get groupBy(){return this.dimensions}static makeFromEncoding(t,n){let r=!1;n.forEachFieldDef(s=>{s.aggregate&&(r=!0)});const i={},o=new Set;return!r||(n.forEachFieldDef((s,a)=>{const{aggregate:l,field:c}=s;if(l)if(l==="count")i["*"]??(i["*"]={}),i["*"].count=new Set([tt(s,{forAs:!0})]);else{if(xg(l)||Z0(l)){const u=xg(l)?"argmin":"argmax",f=l[u];i[f]??(i[f]={}),i[f][u]=new Set([tt({op:u,field:f},{forAs:!0})])}else i[c]??(i[c]={}),i[c][l]=new Set([tt(s,{forAs:!0})]);Wg(a)&&n.scaleDomain(a)==="unaggregated"&&(i[c]??(i[c]={}),i[c].min=new Set([tt({field:c,aggregate:"min"},{forAs:!0})]),i[c].max=new Set([tt({field:c,aggregate:"max"},{forAs:!0})]))}else tbn(o,a,s,n)}),o.size+Ue(i).length===0)?null:new Bf(t,o,i)}static makeFromTransform(t,n){const r=new Set,i={};for(const o of n.aggregate){const{op:s,field:a,as:l}=o;s&&(s==="count"?(i["*"]??(i["*"]={}),i["*"].count=new Set([l||tt(o,{forAs:!0})])):(i[a]??(i[a]={}),i[a][s]=new Set([l||tt(o,{forAs:!0})])))}for(const o of n.groupby??[])r.add(o);return r.size+Ue(i).length===0?null:new Bf(t,r,i)}merge(t){return Q6e(this.dimensions,t.dimensions)?(nbn(this.measures,t.measures),!0):(Amn("different dimensions, cannot merge"),!1)}addDimensions(t){t.forEach(this.dimensions.add,this.dimensions)}dependentFields(){return new Set([...this.dimensions,...Ue(this.measures)])}producedFields(){const t=new Set;for(const n of Ue(this.measures))for(const r of Ue(this.measures[n])){const i=this.measures[n][r];i.size===0?t.add(`${r}_${n}`):i.forEach(t.add,t)}return t}hash(){return`Aggregate ${Rn({dimensions:this.dimensions,measures:this.measures})}`}assemble(){const t=[],n=[],r=[];for(const o of Ue(this.measures))for(const s of Ue(this.measures[o]))for(const a of this.measures[o][s])r.push(a),t.push(s),n.push(o==="*"?null:Fu(o));return{type:"aggregate",groupby:[...this.dimensions].map(Fu),ops:t,fields:n,as:r}}}class AC extends xr{constructor(t,n,r,i){super(t),this.model=n,this.name=r,this.data=i;for(const o of Su){const s=n.facet[o];if(s){const{bin:a,sort:l}=s;this[o]={name:n.getName(`${o}_domain`),fields:[tt(s),...Xr(a)?[tt(s,{binSuffix:"end"})]:[]],...ph(l)?{sortField:l}:Me(l)?{sortIndexField:i_(s,o)}:{}}}}this.childModel=n.child}hash(){let t="Facet";for(const n of Su)this[n]&&(t+=` ${n.charAt(0)}:${Rn(this[n])}`);return t}get fields(){var n;const t=[];for(const r of Su)(n=this[r])!=null&&n.fields&&t.push(...this[r].fields);return t}dependentFields(){const t=new Set(this.fields);for(const n of Su)this[n]&&(this[n].sortField&&t.add(this[n].sortField.field),this[n].sortIndexField&&t.add(this[n].sortIndexField));return t}producedFields(){return new Set}getSource(){return this.name}getChildIndependentFieldsWithStep(){const t={};for(const n of np){const r=this.childModel.component.scales[n];if(r&&!r.merged){const i=r.get("type"),o=r.get("range");if(fs(i)&&G0(o)){const s=Cz(this.childModel,n),a=Nue(s);a?t[n]=a:He(jce(n))}}}return t}assembleRowColumnHeaderData(t,n,r){const i={row:"y",column:"x",facet:void 0}[t],o=[],s=[],a=[];i&&r&&r[i]&&(n?(o.push(`distinct_${r[i]}`),s.push("max")):(o.push(r[i]),s.push("distinct")),a.push(`distinct_${r[i]}`));const{sortField:l,sortIndexField:c}=this[t];if(l){const{op:u=lz,field:f}=l;o.push(f),s.push(u),a.push(tt(l,{forAs:!0}))}else c&&(o.push(c),s.push("max"),a.push(c));return{name:this[t].name,source:n??this.data,transform:[{type:"aggregate",groupby:this[t].fields,...o.length?{fields:o,ops:s,as:a}:{}}]}}assembleFacetHeaderData(t){var l;const{columns:n}=this.model.layout,{layoutHeaders:r}=this.model.component,i=[],o={};for(const c of $ue){for(const u of Eue){const f=(r[c]&&r[c][u])??[];for(const d of f)if(((l=d.axes)==null?void 0:l.length)>0){o[c]=!0;break}}if(o[c]){const u=`length(data("${this.facet.name}"))`,f=c==="row"?n?{signal:`ceil(${u} / ${n})`}:1:n?{signal:`min(${u}, ${n})`}:{signal:u};i.push({name:`${this.facet.name}_${c}`,transform:[{type:"sequence",start:0,stop:f}]})}}const{row:s,column:a}=o;return(s||a)&&i.unshift(this.assembleRowColumnHeaderData("facet",null,t)),i}assemble(){const t=[];let n=null;const r=this.getChildIndependentFieldsWithStep(),{column:i,row:o,facet:s}=this;if(i&&o&&(r.x||r.y)){n=`cross_${this.column.name}_${this.row.name}`;const a=[].concat(r.x??[],r.y??[]),l=a.map(()=>"distinct");t.push({name:n,source:this.data,transform:[{type:"aggregate",groupby:this.fields,fields:a,ops:l}]})}for(const a of[eg,Jp])this[a]&&t.push(this.assembleRowColumnHeaderData(a,n,r));if(s){const a=this.assembleFacetHeaderData(r);a&&t.push(...a)}return t}}function XSe(e){return e.startsWith("'")&&e.endsWith("'")||e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e}function rbn(e,t){const n=Hie(e);if(t==="number")return`toNumber(${n})`;if(t==="boolean")return`toBoolean(${n})`;if(t==="string")return`toString(${n})`;if(t==="date")return`toDate(${n})`;if(t==="flatten")return n;if(t.startsWith("date:")){const r=XSe(t.slice(5,t.length));return`timeParse(${n},'${r}')`}else if(t.startsWith("utc:")){const r=XSe(t.slice(4,t.length));return`utcParse(${n},'${r}')`}else return He(Qgn(t)),null}function ibn(e){const t={};return sI(e.filter,n=>{if(QYe(n)){let r=null;Bce(n)?r=wc(n.equal):Vce(n)?r=wc(n.lte):Wce(n)?r=wc(n.lt):Uce(n)?r=wc(n.gt):qce(n)?r=wc(n.gte):Yce(n)?r=n.range[0]:Xce(n)&&(r=(n.oneOf??n.in)[0]),r&&(pO(r)?t[n.field]="date":Un(r)?t[n.field]="number":at(r)&&(t[n.field]="string")),n.timeUnit&&(t[n.field]="date")}}),t}function obn(e){const t={};function n(r){e_(r)?t[r.field]="date":r.type==="quantitative"&&bgn(r.aggregate)?t[r.field]="number":ES(r.field)>1?r.field in t||(t[r.field]="flatten"):mO(r)&&ph(r.sort)&&ES(r.sort.field)>1&&(r.sort.field in t||(t[r.sort.field]="flatten"))}if((Qi(e)||Wf(e))&&e.forEachFieldDef((r,i)=>{if(ol(r))n(r);else{const o=dO(i),s=e.fieldDef(o);n({...r,type:s.type})}}),Qi(e)){const{mark:r,markDef:i,encoding:o}=e;if(I0(r)&&!e.encoding.order){const s=i.orient==="horizontal"?"y":"x",a=o[s];Xe(a)&&a.type==="quantitative"&&!(a.field in t)&&(t[a.field]="number")}}return t}function sbn(e){const t={};if(Qi(e)&&e.component.selection)for(const n of Ue(e.component.selection)){const r=e.component.selection[n];for(const i of r.project.items)!i.channel&&ES(i.field)>1&&(t[i.field]="flatten")}return t}class ma extends xr{clone(){return new ma(null,qt(this._parse))}constructor(t,n){super(t),this._parse=n}hash(){return`Parse ${Rn(this._parse)}`}static makeExplicit(t,n,r){var s;let i={};const o=n.data;return!$y(o)&&((s=o==null?void 0:o.format)!=null&&s.parse)&&(i=o.format.parse),this.makeWithAncestors(t,i,{},r)}static makeWithAncestors(t,n,r,i){for(const a of Ue(r)){const l=i.getWithExplicit(a);l.value!==void 0&&(l.explicit||l.value===r[a]||l.value==="derived"||r[a]==="flatten"?delete r[a]:He(oSe(a,r[a],l.value)))}for(const a of Ue(n)){const l=i.get(a);l!==void 0&&(l===n[a]?delete n[a]:He(oSe(a,n[a],l)))}const o=new Ug(n,r);i.copyAll(o);const s={};for(const a of Ue(o.combine())){const l=o.get(a);l!==null&&(s[a]=l)}return Ue(s).length===0||i.parseNothing?null:new ma(t,s)}get parse(){return this._parse}merge(t){this._parse={...this._parse,...t.parse},t.remove()}assembleFormatParse(){const t={};for(const n of Ue(this._parse)){const r=this._parse[n];ES(n)===1&&(t[n]=r)}return t}producedFields(){return new Set(Ue(this._parse))}dependentFields(){return new Set(Ue(this._parse))}assembleTransforms(t=!1){return Ue(this._parse).filter(n=>t?ES(n)>1:!0).map(n=>{const r=rbn(n,this._parse[n]);return r?{type:"formula",expr:r,as:Zie(n)}:null}).filter(n=>n!==null)}}class y0 extends xr{clone(){return new y0(null)}constructor(t){super(t)}dependentFields(){return new Set}producedFields(){return new Set([ad])}hash(){return"Identifier"}assemble(){return{type:"identifier",as:ad}}}class vA extends xr{clone(){return new vA(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){}hash(){return`Graticule ${Rn(this.params)}`}assemble(){return{type:"graticule",...this.params===!0?{}:this.params}}}class bA extends xr{clone(){return new bA(null,this.params)}constructor(t,n){super(t),this.params=n}dependentFields(){return new Set}producedFields(){return new Set([this.params.as??"data"])}hash(){return`Hash ${Rn(this.params)}`}assemble(){return{type:"sequence",...this.params}}}class Pb extends xr{constructor(t){super(null),t??(t={name:"source"});let n;if($y(t)||(n=t.format?{...Nl(t.format,["parse"])}:{}),nP(t))this._data={values:t.values};else if(t_(t)){if(this._data={url:t.url},!n.type){let r=/(?:\.([^.]+))?$/.exec(t.url)[1];kn(["json","csv","tsv","dsv","topojson"],r)||(r="json"),n.type=r}}else GXe(t)?this._data={values:[{type:"Sphere"}]}:(HXe(t)||$y(t))&&(this._data={});this._generator=$y(t),t.name&&(this._name=t.name),n&&!Cr(n)&&(this._data.format=n)}dependentFields(){return new Set}producedFields(){}get data(){return this._data}hasName(){return!!this._name}get isGenerator(){return this._generator}get dataName(){return this._name}set dataName(t){this._name=t}set parent(t){throw new Error("Source nodes have to be roots.")}remove(){throw new Error("Source nodes are roots and cannot be removed.")}hash(){throw new Error("Cannot hash sources")}assemble(){return{name:this._name,...this._data,transform:[]}}}var HSe=function(e,t,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(e,n):i?i.value=n:t.set(e,n),n},abn=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},jE;function Rue(e){return e instanceof Pb||e instanceof vA||e instanceof bA}class Aue{constructor(){jE.set(this,void 0),HSe(this,jE,!1,"f")}setModified(){HSe(this,jE,!0,"f")}get modifiedFlag(){return abn(this,jE,"f")}}jE=new WeakMap;class yO extends Aue{getNodeDepths(t,n,r){r.set(t,n);for(const i of t.children)this.getNodeDepths(i,n+1,r);return r}optimize(t){const r=[...this.getNodeDepths(t,0,new Map).entries()].sort((i,o)=>o[1]-i[1]);for(const i of r)this.run(i[0]);return this.modifiedFlag}}class Due extends Aue{optimize(t){this.run(t);for(const n of t.children)this.optimize(n);return this.modifiedFlag}}class lbn extends Due{mergeNodes(t,n){const r=n.shift();for(const i of n)t.removeChild(i),i.parent=r,i.remove()}run(t){const n=t.children.map(i=>i.hash()),r={};for(let i=0;i<n.length;i++)r[n[i]]===void 0?r[n[i]]=[t.children[i]]:r[n[i]].push(t.children[i]);for(const i of Ue(r))r[i].length>1&&(this.setModified(),this.mergeNodes(t,r[i]))}}class cbn extends Due{constructor(t){super(),this.requiresSelectionId=t&&Cue(t)}run(t){t instanceof y0&&(this.requiresSelectionId&&(Rue(t.parent)||t.parent instanceof Bf||t.parent instanceof ma)||(this.setModified(),t.remove()))}}class ubn extends Aue{optimize(t){return this.run(t,new Set),this.modifiedFlag}run(t,n){let r=new Set;t instanceof gh&&(r=t.producedFields(),Yie(r,n)&&(this.setModified(),t.removeFormulas(n),t.producedFields.length===0&&t.remove()));for(const i of t.children)this.run(i,new Set([...n,...r]))}}class fbn extends Due{constructor(){super()}run(t){t instanceof el&&!t.isRequired()&&(this.setModified(),t.remove())}}class dbn extends yO{run(t){if(!Rue(t)&&!(t.numChildren()>1)){for(const n of t.children)if(n instanceof ma)if(t instanceof ma)this.setModified(),t.merge(n);else{if(Xie(t.producedFields(),n.dependentFields()))continue;this.setModified(),n.swapWithParent()}}}}class hbn extends yO{run(t){const n=[...t.children],r=t.children.filter(i=>i instanceof ma);if(t.numChildren()>1&&r.length>=1){const i={},o=new Set;for(const s of r){const a=s.parse;for(const l of Ue(a))l in i?i[l]!==a[l]&&o.add(l):i[l]=a[l]}for(const s of o)delete i[s];if(!Cr(i)){this.setModified();const s=new ma(t,i);for(const a of n){if(a instanceof ma)for(const l of Ue(i))delete a.parse[l];t.removeChild(a),a.parent=s,a instanceof ma&&Ue(a.parse).length===0&&a.remove()}}}}}class pbn extends yO{run(t){t instanceof el||t.numChildren()>0||t instanceof AC||t instanceof Pb||(this.setModified(),t.remove())}}class gbn extends yO{run(t){const n=t.children.filter(i=>i instanceof gh),r=n.pop();for(const i of n)this.setModified(),r.merge(i)}}class mbn extends yO{run(t){const n=t.children.filter(i=>i instanceof Bf),r={};for(const i of n){const o=Rn(i.groupBy);o in r||(r[o]=[]),r[o].push(i)}for(const i of Ue(r)){const o=r[i];if(o.length>1){const s=o.pop();for(const a of o)s.merge(a)&&(t.removeChild(a),a.parent=s,a.remove(),this.setModified())}}}}class ybn extends yO{constructor(t){super(),this.model=t}run(t){const n=!(Rue(t)||t instanceof RC||t instanceof ma||t instanceof y0),r=[],i=[];for(const o of t.children)o instanceof mh&&(n&&!Xie(t.producedFields(),o.dependentFields())?r.push(o):i.push(o));if(r.length>0){const o=r.pop();for(const s of r)o.merge(s,this.model.renameSignal.bind(this.model));this.setModified(),t instanceof mh?t.merge(o,this.model.renameSignal.bind(this.model)):o.swapWithParent()}if(i.length>1){const o=i.pop();for(const s of i)o.merge(s,this.model.renameSignal.bind(this.model));this.setModified()}}}class vbn extends yO{run(t){const n=[...t.children];if(!ab(n,s=>s instanceof el)||t.numChildren()<=1)return;const i=[];let o;for(const s of n)if(s instanceof el){let a=s;for(;a.numChildren()===1;){const[l]=a.children;if(l instanceof el)a=l;else break}i.push(...a.children),o?(t.removeChild(s),s.parent=o.parent,o.parent.removeChild(o),o.parent=a,this.setModified()):o=a}else i.push(s);if(i.length){this.setModified();for(const s of i)s.parent.removeChild(s),s.parent=o}}}class vO extends xr{clone(){return new vO(null,qt(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=eh(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return this.transform.groupby&&this.transform.groupby.forEach(t.add,t),this.transform.joinaggregate.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.joinaggregate.map(this.getDefaultName))}getDefaultName(t){return t.as??tt(t)}hash(){return`JoinAggregateTransform ${Rn(this.transform)}`}assemble(){const t=[],n=[],r=[];for(const o of this.transform.joinaggregate)n.push(o.op),r.push(this.getDefaultName(o)),t.push(o.field===void 0?null:o.field);const i=this.transform.groupby;return{type:"joinaggregate",as:r,ops:n,fields:t,...i!==void 0?{groupby:i}:{}}}}function bbn(e){return e.stack.stackBy.reduce((t,n)=>{const r=n.fieldDef,i=tt(r);return i&&t.push(i),t},[])}function Obn(e){return Me(e)&&e.every(t=>at(t))&&e.length>1}class ng extends xr{clone(){return new ng(null,qt(this._stack))}constructor(t,n){super(t),this._stack=n}static makeFromTransform(t,n){const{stack:r,groupby:i,as:o,offset:s="zero"}=n,a=[],l=[];if(n.sort!==void 0)for(const f of n.sort)a.push(f.field),l.push(to(f.order,"ascending"));const c={field:a,order:l};let u;return Obn(o)?u=o:at(o)?u=[o,`${o}_end`]:u=[`${n.stack}_start`,`${n.stack}_end`],new ng(t,{dimensionFieldDefs:[],stackField:r,groupby:i,offset:s,sort:c,facetby:[],as:u})}static makeFromEncoding(t,n){const r=n.stack,{encoding:i}=n;if(!r)return null;const{groupbyChannels:o,fieldChannel:s,offset:a,impute:l}=r,c=o.map(h=>{const p=i[h];return Rh(p)}).filter(h=>!!h),u=bbn(n),f=n.encoding.order;let d;if(Me(f)||Xe(f))d=xYe(f);else{const h=oXe(f)?f.sort:s==="y"?"descending":"ascending";d=u.reduce((p,g)=>(p.field.push(g),p.order.push(h),p),{field:[],order:[]})}return new ng(t,{dimensionFieldDefs:c,stackField:n.vgField(s),facetby:[],stackby:u,sort:d,offset:a,impute:l,as:[n.vgField(s,{suffix:"start",forAs:!0}),n.vgField(s,{suffix:"end",forAs:!0})]})}get stack(){return this._stack}addDimensions(t){this._stack.facetby.push(...t)}dependentFields(){const t=new Set;return t.add(this._stack.stackField),this.getGroupbyFields().forEach(t.add,t),this._stack.facetby.forEach(t.add,t),this._stack.sort.field.forEach(t.add,t),t}producedFields(){return new Set(this._stack.as)}hash(){return`Stack ${Rn(this._stack)}`}getGroupbyFields(){const{dimensionFieldDefs:t,impute:n,groupby:r}=this._stack;return t.length>0?t.map(i=>i.bin?n?[tt(i,{binSuffix:"mid"})]:[tt(i,{}),tt(i,{binSuffix:"end"})]:[tt(i)]).flat():r??[]}assemble(){const t=[],{facetby:n,dimensionFieldDefs:r,stackField:i,stackby:o,sort:s,offset:a,impute:l,as:c}=this._stack;if(l)for(const u of r){const{bandPosition:f=.5,bin:d}=u;if(d){const h=tt(u,{expr:"datum"}),p=tt(u,{expr:"datum",binSuffix:"end"});t.push({type:"formula",expr:`${f}*${h}+${1-f}*${p}`,as:tt(u,{binSuffix:"mid",forAs:!0})})}t.push({type:"impute",field:i,groupby:[...o,...n],key:tt(u,{binSuffix:"mid"}),method:"value",value:0})}return t.push({type:"stack",groupby:[...this.getGroupbyFields(),...n],field:i,sort:s,as:c,offset:a}),t}}class DC extends xr{clone(){return new DC(null,qt(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=eh(this.transform.groupby.concat(t),n=>n)}dependentFields(){const t=new Set;return(this.transform.groupby??[]).forEach(t.add,t),(this.transform.sort??[]).forEach(n=>t.add(n.field)),this.transform.window.map(n=>n.field).filter(n=>n!==void 0).forEach(t.add,t),t}producedFields(){return new Set(this.transform.window.map(this.getDefaultName))}getDefaultName(t){return t.as??tt(t)}hash(){return`WindowTransform ${Rn(this.transform)}`}assemble(){const t=[],n=[],r=[],i=[];for(const f of this.transform.window)n.push(f.op),r.push(this.getDefaultName(f)),i.push(f.param===void 0?null:f.param),t.push(f.field===void 0?null:f.field);const o=this.transform.frame,s=this.transform.groupby;if(o&&o[0]===null&&o[1]===null&&n.every(f=>iz(f)))return{type:"joinaggregate",as:r,ops:n,fields:t,...s!==void 0?{groupby:s}:{}};const a=[],l=[];if(this.transform.sort!==void 0)for(const f of this.transform.sort)a.push(f.field),l.push(f.order??"ascending");const c={field:a,order:l},u=this.transform.ignorePeers;return{type:"window",params:i,as:r,ops:n,fields:t,sort:c,...u!==void 0?{ignorePeers:u}:{},...s!==void 0?{groupby:s}:{},...o!==void 0?{frame:o}:{}}}}function xbn(e){function t(n){if(!(n instanceof AC)){const r=n.clone();if(r instanceof el){const i=PG+r.getSource();r.setSource(i),e.model.component.data.outputNodes[i]=r}else(r instanceof Bf||r instanceof ng||r instanceof DC||r instanceof vO)&&r.addDimensions(e.fields);for(const i of n.children.flatMap(t))i.parent=r;return[r]}return n.children.flatMap(t)}return t}function TG(e){if(e instanceof AC)if(e.numChildren()===1&&!(e.children[0]instanceof el)){const t=e.children[0];(t instanceof Bf||t instanceof ng||t instanceof DC||t instanceof vO)&&t.addDimensions(e.fields),t.swapWithParent(),TG(e)}else{const t=e.model.component.data.main;VHe(t);const n=xbn(e),r=e.children.map(n).flat();for(const i of r)i.parent=t}else e.children.map(TG)}function VHe(e){if(e instanceof el&&e.type===Wr.Main&&e.numChildren()===1){const t=e.children[0];t instanceof AC||(t.swapWithParent(),VHe(e))}}const PG="scale_",zN=5;function RG(e){for(const t of e){for(const n of t.children)if(n.parent!==t)return!1;if(!RG(t.children))return!1}return!0}function nf(e,t){let n=!1;for(const r of t)n=e.optimize(r)||n;return n}function ZSe(e,t,n){let r=e.sources,i=!1;return i=nf(new fbn,r)||i,i=nf(new cbn(t),r)||i,r=r.filter(o=>o.numChildren()>0),i=nf(new pbn,r)||i,r=r.filter(o=>o.numChildren()>0),n||(i=nf(new dbn,r)||i,i=nf(new ybn(t),r)||i,i=nf(new ubn,r)||i,i=nf(new hbn,r)||i,i=nf(new mbn,r)||i,i=nf(new gbn,r)||i,i=nf(new lbn,r)||i,i=nf(new vbn,r)||i),e.sources=r,i}function wbn(e,t){RG(e.sources);let n=0,r=0;for(let i=0;i<zN&&ZSe(e,t,!0);i++)n++;e.sources.map(TG);for(let i=0;i<zN&&ZSe(e,t,!1);i++)r++;RG(e.sources),Math.max(n,r)===zN&&He(`Maximum optimization runs(${zN}) reached.`)}class es{constructor(t){Object.defineProperty(this,"signal",{enumerable:!0,get:t})}static fromName(t,n){return new es(()=>t(n))}}function UHe(e){Qi(e)?Sbn(e):_bn(e)}function Sbn(e){const t=e.component.scales;for(const n of Ue(t)){const r=$bn(e,n);if(t[n].setWithExplicit("domains",r),kbn(e,n),e.component.data.isFaceted){let o=e;for(;!Wf(o)&&o.parent;)o=o.parent;if(o.component.resolve.scale[n]==="shared")for(const a of r.value)zp(a)&&(a.data=PG+a.data.replace(PG,""))}}}function _bn(e){for(const n of e.children)UHe(n);const t=e.component.scales;for(const n of Ue(t)){let r,i=null;for(const o of e.children){const s=o.component.scales[n];if(s){r===void 0?r=s.getWithExplicit("domains"):r=p0(r,s.getWithExplicit("domains"),"domains","scale",AG);const a=s.get("selectionExtent");i&&a&&i.param!==a.param&&He(Lgn),i=a}}t[n].setWithExplicit("domains",r),i&&t[n].set("selectionExtent",i,!0)}}function Cbn(e,t,n,r){if(e==="unaggregated"){const{valid:i,reason:o}=GSe(t,n);if(!i){He(o);return}}else if(e===void 0&&r.useUnaggregatedDomain){const{valid:i}=GSe(t,n);if(i)return"unaggregated"}return e}function $bn(e,t){const n=e.getScaleComponent(t).get("type"),{encoding:r}=e,i=Cbn(e.scaleDomain(t),e.typedFieldDef(t),n,e.config.scale);return i!==e.scaleDomain(t)&&(e.specifiedScales[t]={...e.specifiedScales[t],domain:i}),t==="x"&&zo(r.x2)?zo(r.x)?p0(mm(n,i,e,"x"),mm(n,i,e,"x2"),"domain","scale",AG):mm(n,i,e,"x2"):t==="y"&&zo(r.y2)?zo(r.y)?p0(mm(n,i,e,"y"),mm(n,i,e,"y2"),"domain","scale",AG):mm(n,i,e,"y2"):mm(n,i,e,t)}function Ebn(e,t,n){return e.map(r=>({signal:`{data: ${hz(r,{timeUnit:n,type:t})}}`}))}function RV(e,t,n){var i;const r=(i=cs(n))==null?void 0:i.unit;return t==="temporal"||r?Ebn(e,t,r):[e]}function mm(e,t,n,r){const{encoding:i,markDef:o,mark:s,config:a,stack:l}=n,c=zo(i[r]),{type:u}=c,f=c.timeUnit;if(syn(t)){const p=mm(e,void 0,n,r),g=RV(t.unionWith,u,f);return Ld([...g,...p.value])}else{if(St(t))return Ld([t]);if(t&&t!=="unaggregated"&&!XYe(t))return Ld(RV(t,u,f))}if(l&&r===l.fieldChannel){if(l.offset==="normalize")return uc([[0,1]]);const p=n.requestDataName(Wr.Main);return uc([{data:p,field:n.vgField(r,{suffix:"start"})},{data:p,field:n.vgField(r,{suffix:"end"})}])}const d=Wg(r)&&Xe(c)?Tbn(n,r,e):void 0;if(rp(c)){const p=RV([c.datum],u,f);return uc(p)}const h=c;if(t==="unaggregated"){const p=n.requestDataName(Wr.Main),{field:g}=c;return uc([{data:p,field:tt({field:g,aggregate:"min"})},{data:p,field:tt({field:g,aggregate:"max"})}])}else if(Xr(h.bin)){if(fs(e))return uc(e==="bin-ordinal"?[]:[{data:S2(d)?n.requestDataName(Wr.Main):n.requestDataName(Wr.Raw),field:n.vgField(r,gA(h,r)?{binSuffix:"range"}:{}),sort:d===!0||!ut(d)?{field:n.vgField(r,{}),op:"min"}:d}]);{const{bin:p}=h;if(Xr(p)){const g=Pue(n,h.field,p);return uc([new es(()=>{const y=n.getSignalName(g);return`[${y}.start, ${y}.stop]`})])}else return uc([{data:n.requestDataName(Wr.Main),field:n.vgField(r,{})}])}}else if(h.timeUnit&&kn(["time","utc"],e)){const p=i[tp(r)];if(iXe(h,p,o,a)){const g=n.requestDataName(Wr.Main),y=h0({fieldDef:h,fieldDef2:p,markDef:o,config:a}),v=C2(s)&&y!==.5&&no(r);return uc([{data:g,field:n.vgField(r,v?{suffix:bz}:{})},{data:g,field:n.vgField(r,{suffix:v?Oz:"end"})}])}}return uc(d?[{data:S2(d)?n.requestDataName(Wr.Main):n.requestDataName(Wr.Raw),field:n.vgField(r),sort:d}]:[{data:n.requestDataName(Wr.Main),field:n.vgField(r)}])}function AV(e,t){const{op:n,field:r,order:i}=e;return{op:n??(t?"sum":lz),...r?{field:Fu(r)}:{},...i?{order:i}:{}}}function kbn(e,t){var a;const n=e.component.scales[t],r=e.specifiedScales[t].domain,i=(a=e.fieldDef(t))==null?void 0:a.bin,o=XYe(r)&&r,s=hO(i)&&oz(i.extent)&&i.extent;(o||s)&&n.set("selectionExtent",o??s,!0)}function Tbn(e,t,n){if(!fs(n))return;const r=e.fieldDef(t),i=r.sort;if(nXe(i))return{op:"min",field:i_(r,t),order:"ascending"};const{stack:o}=e,s=o?new Set([...o.groupbyFields,...o.stackBy.map(a=>a.fieldDef.field)]):void 0;if(ph(i)){const a=o&&!s.has(i.field);return AV(i,a)}else if(tXe(i)){const{encoding:a,order:l}=i,c=e.fieldDef(a),{aggregate:u,field:f}=c,d=o&&!s.has(f);if(xg(u)||Z0(u))return AV({field:tt(c),order:l},d);if(iz(u)||!u)return AV({op:u,field:f,order:l},d)}else{if(i==="descending")return{op:"min",field:e.vgField(t),order:"descending"};if(kn(["ascending",void 0],i))return!0}}function GSe(e,t){const{aggregate:n,type:r}=e;return n?at(n)&&!xgn.has(n)?{valid:!1,reason:cmn(n)}:r==="quantitative"&&t==="log"?{valid:!1,reason:umn(e)}:{valid:!0}:{valid:!1,reason:lmn(e)}}function AG(e,t,n,r){return e.explicit&&t.explicit&&He(gmn(n,r,e.value,t.value)),{explicit:e.explicit,value:[...e.value,...t.value]}}function Pbn(e){const t=eh(e.map(s=>{if(zp(s)){const{sort:a,...l}=s;return l}return s}),Rn),n=eh(e.map(s=>{if(zp(s)){const a=s.sort;return a!==void 0&&!S2(a)&&("op"in a&&a.op==="count"&&delete a.field,a.order==="ascending"&&delete a.order),a}}).filter(s=>s!==void 0),Rn);if(t.length===0)return;if(t.length===1){const s=e[0];if(zp(s)&&n.length>0){let a=n[0];if(n.length>1){He(aSe);const l=n.filter(c=>ut(c)&&"op"in c&&c.op!=="min");n.every(c=>ut(c)&&"op"in c)&&l.length===1?a=l[0]:a=!0}else if(ut(a)&&"field"in a){const l=a.field;s.field===l&&(a=a.order?{order:a.order}:!0)}return{...s,sort:a}}return s}const r=eh(n.map(s=>S2(s)||!("op"in s)||at(s.op)&&s.op in ygn?s:(He(ymn(s)),!0)),Rn);let i;r.length===1?i=r[0]:r.length>1&&(He(aSe),i=!0);const o=eh(e.map(s=>zp(s)?s.data:null),s=>s);return o.length===1&&o[0]!==null?{data:o[0],fields:t.map(a=>a.field),...i?{sort:i}:{}}:{fields:t,...i?{sort:i}:{}}}function Nue(e){if(zp(e)&&at(e.field))return e.field;if(wgn(e)){let t;for(const n of e.fields)if(zp(n)&&at(n.field)){if(!t)t=n.field;else if(t!==n.field)return He(vmn),t}return He(bmn),t}else if(Sgn(e)){He(Omn);const t=e.fields[0];return at(t)?t:void 0}}function Cz(e,t){const r=e.component.scales[t].get("domains").map(i=>(zp(i)&&(i.data=e.lookupDataSource(i.data)),i));return Pbn(r)}function qHe(e){return NC(e)||Mue(e)?e.children.reduce((t,n)=>t.concat(qHe(n)),KSe(e)):KSe(e)}function KSe(e){return Ue(e.component.scales).reduce((t,n)=>{const r=e.component.scales[n];if(r.merged)return t;const i=r.combine(),{name:o,type:s,selectionExtent:a,domains:l,range:c,reverse:u,...f}=i,d=Rbn(i.range,o,n,e),h=Cz(e,n),p=a?Cvn(e,a,r,h):null;return t.push({name:o,type:s,...h?{domain:h}:{},...p?{domainRaw:p}:{},range:d,...u!==void 0?{reverse:u}:{},...f}),t},[])}function Rbn(e,t,n,r){if(no(n)){if(G0(e))return{step:{signal:`${t}_step`}}}else if(ut(e)&&zp(e))return{...e,data:r.lookupDataSource(e.data)};return e}class YHe extends Ug{constructor(t,n){super({},{name:t}),this.merged=!1,this.setWithExplicit("type",n)}domainDefinitelyIncludesZero(){return this.get("zero")!==!1?!0:ab(this.get("domains"),t=>Me(t)&&t.length===2&&Un(t[0])&&t[0]<=0&&Un(t[1])&&t[1]>=0)}}const Abn=["range","scheme"];function Dbn(e){const t=e.component.scales;for(const n of rz){const r=t[n];if(!r)continue;const i=Nbn(n,e);r.setWithExplicit("range",i)}}function JSe(e,t){const n=e.fieldDef(t);if(n!=null&&n.bin){const{bin:r,field:i}=n,o=Yl(t),s=e.getName(o);if(ut(r)&&r.binned&&r.step!==void 0)return new es(()=>{const a=e.scaleName(t),l=`(domain("${a}")[1] - domain("${a}")[0]) / ${r.step}`;return`${e.getSignalName(s)} / (${l})`});if(Xr(r)){const a=Pue(e,i,r);return new es(()=>{const l=e.getSignalName(a),c=`(${l}.stop - ${l}.start) / ${l}.step`;return`${e.getSignalName(s)} / (${c})`})}}}function Nbn(e,t){const n=t.specifiedScales[e],{size:r}=t,o=t.getScaleComponent(e).get("type");for(const f of Abn)if(n[f]!==void 0){const d=mG(o,f),h=HYe(e,f);if(!d)He(kYe(o,f,e));else if(h)He(h);else switch(f){case"range":{const p=n.range;if(Me(p)){if(no(e))return Ld(p.map(g=>{if(g==="width"||g==="height"){const y=t.getName(g),v=t.getSignalName.bind(t);return es.fromName(v,y)}return g}))}else if(ut(p))return Ld({data:t.requestDataName(Wr.Main),field:p.field,sort:{op:"min",field:t.vgField(e)}});return Ld(p)}case"scheme":return Ld(Mbn(n[f]))}}const s=e===vi||e==="xOffset"?"width":"height",a=r[s];if(Ah(a)){if(no(e))if(fs(o)){const f=HHe(a,t,e);if(f)return Ld({step:f})}else He(TYe(s));else if(cA(e)){const f=e===U0?"x":"y";if(t.getScaleComponent(f).get("type")==="band"){const p=ZHe(a,o);if(p)return Ld(p)}}}const{rangeMin:l,rangeMax:c}=n,u=Ibn(e,t);return(l!==void 0||c!==void 0)&&mG(o,"rangeMin")&&Me(u)&&u.length===2?Ld([l??u[0],c??u[1]]):uc(u)}function Mbn(e){return oyn(e)?{scheme:e.name,...Nl(e,["name"])}:{scheme:e}}function XHe(e,t,n,{center:r}={}){const i=Yl(e),o=t.getName(i),s=t.getSignalName.bind(t);return e===gs&&Bc(n)?r?[es.fromName(a=>`${s(a)}/2`,o),es.fromName(a=>`-${s(a)}/2`,o)]:[es.fromName(s,o),0]:r?[es.fromName(a=>`-${s(a)}/2`,o),es.fromName(a=>`${s(a)}/2`,o)]:[0,es.fromName(s,o)]}function Ibn(e,t){const{size:n,config:r,mark:i,encoding:o}=t,{type:s}=zo(o[e]),l=t.getScaleComponent(e).get("type"),{domain:c,domainMid:u}=t.specifiedScales[e];switch(e){case vi:case gs:{if(kn(["point","band"],l)){const f=GHe(e,n,r.view);if(Ah(f))return{step:HHe(f,t,e)}}return XHe(e,t,l)}case U0:case kC:return Lbn(e,t,l);case Qg:{const f=t.component.scales[e].get("zero"),d=KHe(i,f,r),h=zbn(i,n,t,r);return GS(l)?Fbn(d,h,jbn(l,r,c,e)):[d,h]}case Hu:return[0,Math.PI*2];case fO:return[0,360];case md:return[0,new es(()=>{const f=t.getSignalName("width"),d=t.getSignalName("height");return`min(${f},${d})/2`})];case X0:return[r.scale.minStrokeWidth,r.scale.maxStrokeWidth];case H0:return[[1,0],[4,2],[2,1],[1,1],[1,2,4,2]];case ql:return"symbol";case Ul:case Jh:case ep:return l==="ordinal"?s==="nominal"?"category":"ordinal":u!==void 0?"diverging":i==="rect"||i==="geoshape"?"heatmap":"ramp";case Bg:case q0:case Y0:return[r.scale.minOpacity,r.scale.maxOpacity]}}function HHe(e,t,n){const{encoding:r}=t,i=t.getScaleComponent(n),o=Dce(n),s=r[o];if(MXe({step:e,offsetIsDiscrete:Gt(s)&&WYe(s.type)})==="offset"&&mXe(r,o)){const l=t.getScaleComponent(o);let u=`domain('${t.scaleName(o)}').length`;if(l.get("type")==="band"){const d=l.get("paddingInner")??l.get("padding")??0,h=l.get("paddingOuter")??l.get("padding")??0;u=`bandspace(${u}, ${d}, ${h})`}const f=i.get("paddingInner")??i.get("padding");return{signal:`${e.step} * ${u} / (1-${Egn(f)})`}}else return e.step}function ZHe(e,t){if(MXe({step:e,offsetIsDiscrete:fs(t)})==="offset")return{step:e.step}}function Lbn(e,t,n){const r=e===U0?"x":"y",i=t.getScaleComponent(r);if(!i)return XHe(r,t,n,{center:!0});const o=i.get("type"),s=t.scaleName(r),{markDef:a,config:l}=t;if(o==="band"){const c=GHe(r,t.size,t.config.view);if(Ah(c)){const u=ZHe(c,n);if(u)return u}return[0,{signal:`bandwidth('${s}')`}]}else{const c=t.encoding[r];if(Xe(c)&&c.timeUnit){const u=FYe(c.timeUnit,p=>`scale('${s}', ${p})`),f=t.config.scale.bandWithNestedOffsetPaddingInner,d=h0({fieldDef:c,markDef:a,config:l})-.5,h=d!==0?` + ${d}`:"";if(f){const p=St(f)?`${f.signal}/2`+h:`${f/2+d}`,g=St(f)?`(1 - ${f.signal}/2)`+h:`${1-f/2+d}`;return[{signal:`${p} * (${u})`},{signal:`${g} * (${u})`}]}return[0,{signal:u}]}return F6e(`Cannot use ${e} scale if ${r} scale is not discrete.`)}}function GHe(e,t,n){const r=e===vi?"width":"height",i=t[r];return i||Fj(n,r)}function jbn(e,t,n,r){switch(e){case"quantile":return t.scale.quantileCount;case"quantize":return t.scale.quantizeCount;case"threshold":return n!==void 0&&Me(n)?n.length+1:(He(Tmn(r)),3)}}function Fbn(e,t,n){const r=()=>{const i=Ef(t),o=Ef(e),s=`(${i} - ${o}) / (${n} - 1)`;return`sequence(${o}, ${i} + ${s}, ${s})`};return St(t)?new es(r):{signal:r()}}function KHe(e,t,n){if(t)return St(t)?{signal:`${t.signal} ? 0 : ${KHe(e,!1,n)}`}:0;switch(e){case"bar":case"tick":return n.scale.minBandSize;case"line":case"trail":case"rule":return n.scale.minStrokeWidth;case"text":return n.scale.minFontSize;case"point":case"square":case"circle":return n.scale.minSize}throw new Error(sz("size",e))}const e_e=.95;function zbn(e,t,n,r){const i={x:JSe(n,"x"),y:JSe(n,"y")};switch(e){case"bar":case"tick":{if(r.scale.maxBandSize!==void 0)return r.scale.maxBandSize;const o=t_e(t,i,r.view);return Un(o)?o-1:new es(()=>`${o.signal} - 1`)}case"line":case"trail":case"rule":return r.scale.maxStrokeWidth;case"text":return r.scale.maxFontSize;case"point":case"square":case"circle":{if(r.scale.maxSize)return r.scale.maxSize;const o=t_e(t,i,r.view);return Un(o)?Math.pow(e_e*o,2):new es(()=>`pow(${e_e} * ${o.signal}, 2)`)}}throw new Error(sz("size",e))}function t_e(e,t,n){const r=Ah(e.width)?e.width.step:jj(n,"width"),i=Ah(e.height)?e.height.step:jj(n,"height");return t.x||t.y?new es(()=>`min(${[t.x?t.x.signal:r,t.y?t.y.signal:i].join(", ")})`):Math.min(r,i)}function JHe(e,t){Qi(e)?Qbn(e,t):tZe(e,t)}function Qbn(e,t){const n=e.component.scales,{config:r,encoding:i,markDef:o,specifiedScales:s}=e;for(const a of Ue(n)){const l=s[a],c=n[a],u=e.getScaleComponent(a),f=zo(i[a]),d=l[t],h=u.get("type"),p=u.get("padding"),g=u.get("paddingInner"),y=mG(h,t),v=HYe(a,t);if(d!==void 0&&(y?v&&He(v):He(kYe(h,t,a))),y&&v===void 0)if(d!==void 0){const x=f.timeUnit,m=f.type;switch(t){case"domainMax":case"domainMin":pO(l[t])||m==="temporal"||x?c.set(t,{signal:hz(l[t],{type:m,timeUnit:x})},!0):c.set(t,l[t],!0);break;default:c.copyKeyFromObject(t,l)}}else{const x=t in n_e?n_e[t]({model:e,channel:a,fieldOrDatumDef:f,scaleType:h,scalePadding:p,scalePaddingInner:g,domain:l.domain,domainMin:l.domainMin,domainMax:l.domainMax,markDef:o,config:r,hasNestedOffsetScale:yXe(i,a),hasSecondaryRangeChannel:!!i[tp(a)]}):r.scale[t];x!==void 0&&c.set(t,x,!1)}}}const n_e={bins:({model:e,fieldOrDatumDef:t})=>Xe(t)?Bbn(e,t):void 0,interpolate:({channel:e,fieldOrDatumDef:t})=>Wbn(e,t.type),nice:({scaleType:e,channel:t,domain:n,domainMin:r,domainMax:i,fieldOrDatumDef:o})=>Vbn(e,t,n,r,i,o),padding:({channel:e,scaleType:t,fieldOrDatumDef:n,markDef:r,config:i})=>Ubn(e,t,i.scale,n,r,i.bar),paddingInner:({scalePadding:e,channel:t,markDef:n,scaleType:r,config:i,hasNestedOffsetScale:o})=>qbn(e,t,n.type,r,i.scale,o),paddingOuter:({scalePadding:e,channel:t,scaleType:n,scalePaddingInner:r,config:i,hasNestedOffsetScale:o})=>Ybn(e,t,n,r,i.scale,o),reverse:({fieldOrDatumDef:e,scaleType:t,channel:n,config:r})=>{const i=Xe(e)?e.sort:void 0;return Xbn(t,i,n,r.scale)},zero:({channel:e,fieldOrDatumDef:t,domain:n,markDef:r,scaleType:i,config:o,hasSecondaryRangeChannel:s})=>Hbn(e,t,n,r,i,o.scale,s)};function eZe(e){Qi(e)?Dbn(e):tZe(e,"range")}function tZe(e,t){const n=e.component.scales;for(const r of e.children)t==="range"?eZe(r):JHe(r,t);for(const r of Ue(n)){let i;for(const o of e.children){const s=o.component.scales[r];if(s){const a=s.getWithExplicit(t);i=p0(i,a,t,"scale",XXe((l,c)=>{switch(t){case"range":return l.step&&c.step?l.step-c.step:0}return 0}))}}n[r].setWithExplicit(t,i)}}function Bbn(e,t){const n=t.bin;if(Xr(n)){const r=Pue(e,t.field,n);return new es(()=>e.getSignalName(r))}else if(xs(n)&&hO(n)&&n.step!==void 0)return{step:n.step}}function Wbn(e,t){if(kn([Ul,Jh,ep],e)&&t!=="nominal")return"hcl"}function Vbn(e,t,n,r,i,o){var s;if(!((s=Rh(o))!=null&&s.bin||Me(n)||i!=null||r!=null||kn([jl.TIME,jl.UTC],e)))return no(t)?!0:void 0}function Ubn(e,t,n,r,i,o){if(no(e)){if(kf(t)){if(n.continuousPadding!==void 0)return n.continuousPadding;const{type:s,orient:a}=i;if(s==="bar"&&!(Xe(r)&&(r.bin||r.timeUnit))&&(a==="vertical"&&e==="x"||a==="horizontal"&&e==="y"))return o.continuousBandSize}if(t===jl.POINT)return n.pointPadding}}function qbn(e,t,n,r,i,o=!1){if(e===void 0){if(no(t)){const{bandPaddingInner:s,barBandPaddingInner:a,rectBandPaddingInner:l,bandWithNestedOffsetPaddingInner:c}=i;return o?c:to(s,n==="bar"?a:l)}else if(cA(t)&&r===jl.BAND)return i.offsetBandPaddingInner}}function Ybn(e,t,n,r,i,o=!1){if(e===void 0){if(no(t)){const{bandPaddingOuter:s,bandWithNestedOffsetPaddingOuter:a}=i;if(o)return a;if(n===jl.BAND)return to(s,St(r)?{signal:`${r.signal}/2`}:r/2)}else if(cA(t)){if(n===jl.POINT)return .5;if(n===jl.BAND)return i.offsetBandPaddingOuter}}}function Xbn(e,t,n,r){if(n==="x"&&r.xReverse!==void 0)return Bc(e)&&t==="descending"?St(r.xReverse)?{signal:`!${r.xReverse.signal}`}:!r.xReverse:r.xReverse;if(Bc(e)&&t==="descending")return!0}function Hbn(e,t,n,r,i,o,s){if(!!n&&n!=="unaggregated"&&Bc(i)){if(Me(n)){const l=n[0],c=n[n.length-1];if(Un(l)&&l<=0&&Un(c)&&c>=0)return!0}return!1}if(e==="size"&&t.type==="quantitative"&&!GS(i))return!0;if(!(Xe(t)&&t.bin)&&kn([...np,...ugn],e)){const{orient:l,type:c}=r;return kn(["bar","area","line","trail"],c)&&(l==="horizontal"&&e==="y"||l==="vertical"&&e==="x")?!1:kn(["bar","area"],c)&&!s?!0:o==null?void 0:o.zero}return!1}function Zbn(e,t,n,r,i=!1){const o=Gbn(t,n,r,i),{type:s}=e;return Wg(t)?s!==void 0?dyn(t,s)?Xe(n)&&!fyn(s,n.type)?(He(hmn(s,o)),o):s:(He(dmn(t,s,o)),o):o:null}function Gbn(e,t,n,r){var i;switch(t.type){case"nominal":case"ordinal":{if(Lw(e)||SV(e)==="discrete")return e==="shape"&&t.type==="ordinal"&&He(_V(e,"ordinal")),"ordinal";if(no(e)||cA(e)){if(kn(["rect","bar","image","rule"],n.type)||r)return"band"}else if(n.type==="arc"&&e in Ice)return"band";const o=n[Yl(e)];return cb(o)||JS(t)&&((i=t.axis)!=null&&i.tickBand)?"band":"point"}case"temporal":return Lw(e)?"time":SV(e)==="discrete"?(He(_V(e,"temporal")),"ordinal"):Xe(t)&&t.timeUnit&&cs(t.timeUnit).utc?"utc":"time";case"quantitative":return Lw(e)?Xe(t)&&Xr(t.bin)?"bin-ordinal":"linear":SV(e)==="discrete"?(He(_V(e,"quantitative")),"ordinal"):"linear";case"geojson":return}throw new Error($Ye(t.type))}function Kbn(e,{ignoreRange:t}={}){nZe(e),UHe(e);for(const n of uyn)JHe(e,n);t||eZe(e)}function nZe(e){Qi(e)?e.component.scales=Jbn(e):e.component.scales=tOn(e)}function Jbn(e){const{encoding:t,mark:n,markDef:r}=e,i={};for(const o of rz){const s=zo(t[o]);if(s&&n===H6e&&o===ql&&s.type===TC)continue;let a=s&&s.scale;if(s&&a!==null&&a!==!1){a??(a={});const l=yXe(t,o),c=Zbn(a,o,s,r,l);i[o]=new YHe(e.scaleName(`${o}`,!0),{value:c,explicit:a.type===c})}}return i}const eOn=XXe((e,t)=>cSe(e)-cSe(t));function tOn(e){var t;const n=e.component.scales={},r={},i=e.component.resolve;for(const o of e.children){nZe(o);for(const s of Ue(o.component.scales))if((t=i.scale)[s]??(t[s]=AHe(s,e)),i.scale[s]==="shared"){const a=r[s],l=o.component.scales[s].getWithExplicit("type");a?eyn(a.value,l.value)?r[s]=p0(a,l,"type","scale",eOn):(i.scale[s]="independent",delete r[s]):r[s]=l}}for(const o of Ue(r)){const s=e.scaleName(o,!0),a=r[o];n[o]=new YHe(s,a);for(const l of e.children){const c=l.component.scales[o];c&&(l.renameScale(c.get("name"),s),c.merged=!0)}}return n}class DV{constructor(){this.nameMap={}}rename(t,n){this.nameMap[t]=n}has(t){return this.nameMap[t]!==void 0}get(t){for(;this.nameMap[t]&&t!==this.nameMap[t];)t=this.nameMap[t];return t}}function Qi(e){return(e==null?void 0:e.type)==="unit"}function Wf(e){return(e==null?void 0:e.type)==="facet"}function Mue(e){return(e==null?void 0:e.type)==="concat"}function NC(e){return(e==null?void 0:e.type)==="layer"}class Iue{constructor(t,n,r,i,o,s,a){this.type=n,this.parent=r,this.config=o,this.correctDataNames=l=>{var c,u,f;return(c=l.from)!=null&&c.data&&(l.from.data=this.lookupDataSource(l.from.data)),(f=(u=l.from)==null?void 0:u.facet)!=null&&f.data&&(l.from.facet.data=this.lookupDataSource(l.from.facet.data)),l},this.parent=r,this.config=o,this.view=bl(a),this.name=t.name??i,this.title=$m(t.title)?{text:t.title}:t.title?bl(t.title):void 0,this.scaleNameMap=r?r.scaleNameMap:new DV,this.projectionNameMap=r?r.projectionNameMap:new DV,this.signalNameMap=r?r.signalNameMap:new DV,this.data=t.data,this.description=t.description,this.transforms=lvn(t.transform??[]),this.layout=n==="layer"||n==="unit"?{}:d0n(t,n,o),this.component={data:{sources:r?r.component.data.sources:[],outputNodes:r?r.component.data.outputNodes:{},outputNodeRefCounts:r?r.component.data.outputNodeRefCounts:{},isFaceted:cz(t)||(r==null?void 0:r.component.data.isFaceted)&&t.data===void 0},layoutSize:new Ug,layoutHeaders:{row:{},column:{},facet:{}},mark:null,resolve:{scale:{},axis:{},legend:{},...s?qt(s):{}},selection:null,scales:null,projection:null,axes:{},legends:{}}}get width(){return this.getSizeSignalRef("width")}get height(){return this.getSizeSignalRef("height")}parse(){this.parseScale(),this.parseLayoutSize(),this.renameTopLevelLayoutSizeSignal(),this.parseSelections(),this.parseProjection(),this.parseData(),this.parseAxesAndHeaders(),this.parseLegends(),this.parseMarkGroup()}parseScale(){Kbn(this)}parseProjection(){BHe(this)}renameTopLevelLayoutSizeSignal(){this.getName("width")!=="width"&&this.renameSignal(this.getName("width"),"width"),this.getName("height")!=="height"&&this.renameSignal(this.getName("height"),"height")}parseLegends(){LHe(this)}assembleEncodeFromView(t){const{style:n,...r}=t,i={};for(const o of Ue(r)){const s=r[o];s!==void 0&&(i[o]=ai(s))}return i}assembleGroupEncodeEntry(t){let n={};return this.view&&(n=this.assembleEncodeFromView(this.view)),!t&&(this.description&&(n.description=ai(this.description)),this.type==="unit"||this.type==="layer")?{width:this.getSizeSignalRef("width"),height:this.getSizeSignalRef("height"),...n??{}}:Cr(n)?void 0:n}assembleLayout(){if(!this.layout)return;const{spacing:t,...n}=this.layout,{component:r,config:i}=this,o=w1n(r.layoutHeaders,i);return{padding:t,...this.assembleDefaultLayout(),...n,...o?{titleBand:o}:{}}}assembleDefaultLayout(){return{}}assembleHeaderMarks(){const{layoutHeaders:t}=this.component;let n=[];for(const r of Su)t[r].title&&n.push(m1n(this,r));for(const r of $ue)n=n.concat(y1n(this,r));return n}assembleAxes(){return r1n(this.component.axes,this.config)}assembleLegends(){return FHe(this)}assembleProjections(){return U1n(this)}assembleTitle(){const{encoding:t,...n}=this.title??{},r={...yYe(this.config.title).nonMarkTitleProperties,...n,...t?{encode:{update:t}}:{}};if(r.text)return kn(["unit","layer"],this.type)?kn(["middle",void 0],r.anchor)&&(r.frame??(r.frame="group")):r.anchor??(r.anchor="start"),Cr(r)?void 0:r}assembleGroup(t=[]){const n={};t=t.concat(this.assembleSignals()),t.length>0&&(n.signals=t);const r=this.assembleLayout();r&&(n.layout=r),n.marks=[].concat(this.assembleHeaderMarks(),this.assembleMarks());const i=!this.parent||Wf(this.parent)?qHe(this):[];i.length>0&&(n.scales=i);const o=this.assembleAxes();o.length>0&&(n.axes=o);const s=this.assembleLegends();return s.length>0&&(n.legends=s),n}getName(t){return yi((this.name?`${this.name}_`:"")+t)}getDataName(t){return this.getName(Wr[t].toLowerCase())}requestDataName(t){const n=this.getDataName(t),r=this.component.data.outputNodeRefCounts;return r[n]=(r[n]||0)+1,n}getSizeSignalRef(t){if(Wf(this.parent)){const n=PHe(t),r=nz(n),i=this.component.scales[r];if(i&&!i.merged){const o=i.get("type"),s=i.get("range");if(fs(o)&&G0(s)){const a=i.get("name"),l=Cz(this,r),c=Nue(l);if(c){const u=tt({aggregate:"distinct",field:c},{expr:"datum"});return{signal:THe(a,i,u)}}else return He(jce(r)),null}}}return{signal:this.signalNameMap.get(this.getName(t))}}lookupDataSource(t){const n=this.component.data.outputNodes[t];return n?n.getSource():t}getSignalName(t){return this.signalNameMap.get(t)}renameSignal(t,n){this.signalNameMap.rename(t,n)}renameScale(t,n){this.scaleNameMap.rename(t,n)}renameProjection(t,n){this.projectionNameMap.rename(t,n)}scaleName(t,n){if(n)return this.getName(t);if(aYe(t)&&Wg(t)&&this.component.scales[t]||this.scaleNameMap.has(this.getName(t)))return this.scaleNameMap.get(this.getName(t))}projectionName(t){if(t)return this.getName("projection");if(this.component.projection&&!this.component.projection.merged||this.projectionNameMap.has(this.getName("projection")))return this.projectionNameMap.get(this.getName("projection"))}getScaleComponent(t){if(!this.component.scales)throw new Error("getScaleComponent cannot be called before parseScale(). Make sure you have called parseScale or use parseUnitModelWithScale().");const n=this.component.scales[t];return n&&!n.merged?n:this.parent?this.parent.getScaleComponent(t):void 0}getSelectionComponent(t,n){let r=this.component.selection[t];if(!r&&this.parent&&(r=this.parent.getSelectionComponent(t,n)),!r)throw new Error(Agn(n));return r}hasAxisOrientSignalRef(){var t,n;return((t=this.component.axes.x)==null?void 0:t.some(r=>r.hasOrientSignalRef()))||((n=this.component.axes.y)==null?void 0:n.some(r=>r.hasOrientSignalRef()))}}class rZe extends Iue{vgField(t,n={}){const r=this.fieldDef(t);if(r)return tt(r,n)}reduceFieldDef(t,n){return Qyn(this.getMapping(),(r,i,o)=>{const s=Rh(i);return s?t(r,s,o):r},n)}forEachFieldDef(t,n){lue(this.getMapping(),(r,i)=>{const o=Rh(r);o&&t(o,i)},n)}}class $z extends xr{clone(){return new $z(null,qt(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=qt(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"value",r[1]??"density"]}dependentFields(){return new Set([this.transform.density,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`DensityTransform ${Rn(this.transform)}`}assemble(){const{density:t,...n}=this.transform,r={type:"kde",field:t,...n};return this.transform.groupby&&(r.resolve="shared"),r}}class Ez extends xr{clone(){return new Ez(null,qt(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=qt(n)}dependentFields(){return new Set([this.transform.extent])}producedFields(){return new Set([])}hash(){return`ExtentTransform ${Rn(this.transform)}`}assemble(){const{extent:t,param:n}=this.transform;return{type:"extent",field:t,signal:n}}}class rP extends xr{clone(){return new rP(null,{...this.filter})}constructor(t,n){super(t),this.filter=n}static make(t,n){const{config:r,mark:i,markDef:o}=n;if(hr("invalid",o,r)!=="filter")return null;const a=n.reduceFieldDef((l,c,u)=>{const f=Wg(u)&&n.getScaleComponent(u);if(f){const d=f.get("type");Bc(d)&&c.aggregate!=="count"&&!I0(i)&&(l[c.field]=c)}return l},{});return Ue(a).length?new rP(t,a):null}dependentFields(){return new Set(Ue(this.filter))}producedFields(){return new Set}hash(){return`FilterInvalid ${Rn(this.filter)}`}assemble(){const t=Ue(this.filter).reduce((n,r)=>{const i=this.filter[r],o=tt(i,{expr:"datum"});return i!==null&&(i.type==="temporal"?n.push(`(isDate(${o}) || (isValid(${o}) && isFinite(+${o})))`):i.type==="quantitative"&&(n.push(`isValid(${o})`),n.push(`isFinite(+${o})`))),n},[]);return t.length>0?{type:"filter",expr:t.join(" && ")}:null}}class kz extends xr{clone(){return new kz(this.parent,qt(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=qt(n);const{flatten:r,as:i=[]}=this.transform;this.transform.as=r.map((o,s)=>i[s]??o)}dependentFields(){return new Set(this.transform.flatten)}producedFields(){return new Set(this.transform.as)}hash(){return`FlattenTransform ${Rn(this.transform)}`}assemble(){const{flatten:t,as:n}=this.transform;return{type:"flatten",fields:t,as:n}}}class Tz extends xr{clone(){return new Tz(null,qt(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=qt(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"key",r[1]??"value"]}dependentFields(){return new Set(this.transform.fold)}producedFields(){return new Set(this.transform.as)}hash(){return`FoldTransform ${Rn(this.transform)}`}assemble(){const{fold:t,as:n}=this.transform;return{type:"fold",fields:t,as:n}}}class zw extends xr{clone(){return new zw(null,qt(this.fields),this.geojson,this.signal)}static parseAll(t,n){if(n.component.projection&&!n.component.projection.isFit)return t;let r=0;for(const i of[[vd,yd],[Wu,bd]]){const o=i.map(s=>{const a=zo(n.encoding[s]);return Xe(a)?a.field:rp(a)?{expr:`${a.datum}`}:sd(a)?{expr:`${a.value}`}:void 0});(o[0]||o[1])&&(t=new zw(t,o,null,n.getName(`geojson_${r++}`)))}if(n.channelHasField(ql)){const i=n.typedFieldDef(ql);i.type===TC&&(t=new zw(t,null,i.field,n.getName(`geojson_${r++}`)))}return t}constructor(t,n,r,i){super(t),this.fields=n,this.geojson=r,this.signal=i}dependentFields(){const t=(this.fields??[]).filter(at);return new Set([...this.geojson?[this.geojson]:[],...t])}producedFields(){return new Set}hash(){return`GeoJSON ${this.geojson} ${this.signal} ${Rn(this.fields)}`}assemble(){return[...this.geojson?[{type:"filter",expr:`isValid(datum["${this.geojson}"])`}]:[],{type:"geojson",...this.fields?{fields:this.fields}:{},...this.geojson?{geojson:this.geojson}:{},signal:this.signal}]}}class iP extends xr{clone(){return new iP(null,this.projection,qt(this.fields),qt(this.as))}constructor(t,n,r,i){super(t),this.projection=n,this.fields=r,this.as=i}static parseAll(t,n){if(!n.projectionName())return t;for(const r of[[vd,yd],[Wu,bd]]){const i=r.map(s=>{const a=zo(n.encoding[s]);return Xe(a)?a.field:rp(a)?{expr:`${a.datum}`}:sd(a)?{expr:`${a.value}`}:void 0}),o=r[0]===Wu?"2":"";(i[0]||i[1])&&(t=new iP(t,n.projectionName(),i,[n.getName(`x${o}`),n.getName(`y${o}`)]))}return t}dependentFields(){return new Set(this.fields.filter(at))}producedFields(){return new Set(this.as)}hash(){return`Geopoint ${this.projection} ${Rn(this.fields)} ${Rn(this.as)}`}assemble(){return{type:"geopoint",projection:this.projection,fields:this.fields,as:this.as}}}class $1 extends xr{clone(){return new $1(null,qt(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set([this.transform.impute,this.transform.key,...this.transform.groupby??[]])}producedFields(){return new Set([this.transform.impute])}processSequence(t){const{start:n=0,stop:r,step:i}=t;return{signal:`sequence(${[n,r,...i?[i]:[]].join(",")})`}}static makeFromTransform(t,n){return new $1(t,n)}static makeFromEncoding(t,n){const r=n.encoding,i=r.x,o=r.y;if(Xe(i)&&Xe(o)){const s=i.impute?i:o.impute?o:void 0;if(s===void 0)return;const a=i.impute?o:o.impute?i:void 0,{method:l,value:c,frame:u,keyvals:f}=s.impute,d=bXe(n.mark,r);return new $1(t,{impute:s.field,key:a.field,...l?{method:l}:{},...c!==void 0?{value:c}:{},...u?{frame:u}:{},...f!==void 0?{keyvals:f}:{},...d.length?{groupby:d}:{}})}return null}hash(){return`Impute ${Rn(this.transform)}`}assemble(){const{impute:t,key:n,keyvals:r,method:i,groupby:o,value:s,frame:a=[null,null]}=this.transform,l={type:"impute",field:t,key:n,...r?{keyvals:W0n(r)?this.processSequence(r):r}:{},method:"value",...o?{groupby:o}:{},value:!i||i==="value"?s:null};if(i&&i!=="value"){const c={type:"window",as:[`imputed_${t}_value`],ops:[i],fields:[t],frame:a,ignorePeers:!1,...o?{groupby:o}:{}},u={type:"formula",expr:`datum.${t} === null ? datum.imputed_${t}_value : datum.${t}`,as:t};return[l,c,u]}else return[l]}}class Pz extends xr{clone(){return new Pz(null,qt(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=qt(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.loess]}dependentFields(){return new Set([this.transform.loess,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`LoessTransform ${Rn(this.transform)}`}assemble(){const{loess:t,on:n,...r}=this.transform;return{type:"loess",x:n,y:t,...r}}}class oP extends xr{clone(){return new oP(null,qt(this.transform),this.secondary)}constructor(t,n,r){super(t),this.transform=n,this.secondary=r}static make(t,n,r,i){const o=n.component.data.sources,{from:s}=r;let a=null;if(V0n(s)){let l=sZe(s.data,o);l||(l=new Pb(s.data),o.push(l));const c=n.getName(`lookup_${i}`);a=new el(l,c,Wr.Lookup,n.component.data.outputNodeRefCounts),n.component.data.outputNodes[c]=a}else if(U0n(s)){const l=s.param;r={as:l,...r};let c;try{c=n.getSelectionComponent(yi(l),l)}catch{throw new Error(Mgn(l))}if(a=c.materialized,!a)throw new Error(Ign(l))}return new oP(t,r,a.getSource())}dependentFields(){return new Set([this.transform.lookup])}producedFields(){return new Set(this.transform.as?lt(this.transform.as):this.transform.from.fields)}hash(){return`Lookup ${Rn({transform:this.transform,secondary:this.secondary})}`}assemble(){let t;if(this.transform.from.fields)t={values:this.transform.from.fields,...this.transform.as?{as:lt(this.transform.as)}:{}};else{let n=this.transform.as;at(n)||(He(Vgn),n="_lookup"),t={as:[n]}}return{type:"lookup",from:this.secondary,key:this.transform.from.key,fields:[this.transform.lookup],...t,...this.transform.default?{default:this.transform.default}:{}}}}class Rz extends xr{clone(){return new Rz(null,qt(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=qt(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??"prob",r[1]??"value"]}dependentFields(){return new Set([this.transform.quantile,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`QuantileTransform ${Rn(this.transform)}`}assemble(){const{quantile:t,...n}=this.transform;return{type:"quantile",field:t,...n}}}class Az extends xr{clone(){return new Az(null,qt(this.transform))}constructor(t,n){super(t),this.transform=n,this.transform=qt(n);const r=this.transform.as??[void 0,void 0];this.transform.as=[r[0]??n.on,r[1]??n.regression]}dependentFields(){return new Set([this.transform.regression,this.transform.on,...this.transform.groupby??[]])}producedFields(){return new Set(this.transform.as)}hash(){return`RegressionTransform ${Rn(this.transform)}`}assemble(){const{regression:t,on:n,...r}=this.transform;return{type:"regression",x:n,y:t,...r}}}class Dz extends xr{clone(){return new Dz(null,qt(this.transform))}constructor(t,n){super(t),this.transform=n}addDimensions(t){this.transform.groupby=eh((this.transform.groupby??[]).concat(t),n=>n)}producedFields(){}dependentFields(){return new Set([this.transform.pivot,this.transform.value,...this.transform.groupby??[]])}hash(){return`PivotTransform ${Rn(this.transform)}`}assemble(){const{pivot:t,value:n,groupby:r,limit:i,op:o}=this.transform;return{type:"pivot",field:t,value:n,...i!==void 0?{limit:i}:{},...o!==void 0?{op:o}:{},...r!==void 0?{groupby:r}:{}}}}class Nz extends xr{clone(){return new Nz(null,qt(this.transform))}constructor(t,n){super(t),this.transform=n}dependentFields(){return new Set}producedFields(){return new Set}hash(){return`SampleTransform ${Rn(this.transform)}`}assemble(){return{type:"sample",size:this.transform.sample}}}function iZe(e){let t=0;function n(r,i){if(r instanceof Pb&&!r.isGenerator&&!t_(r.data)&&(e.push(i),i={name:null,source:i.name,transform:[]}),r instanceof ma&&(r.parent instanceof Pb&&!i.source?(i.format={...i.format??{},parse:r.assembleFormatParse()},i.transform.push(...r.assembleTransforms(!0))):i.transform.push(...r.assembleTransforms())),r instanceof AC){i.name||(i.name=`data_${t++}`),!i.source||i.transform.length>0?(e.push(i),r.data=i.name):r.data=i.source,e.push(...r.assemble());return}switch((r instanceof vA||r instanceof bA||r instanceof rP||r instanceof RC||r instanceof r_||r instanceof iP||r instanceof Bf||r instanceof oP||r instanceof DC||r instanceof vO||r instanceof Tz||r instanceof kz||r instanceof $z||r instanceof Pz||r instanceof Rz||r instanceof Az||r instanceof y0||r instanceof Nz||r instanceof Dz||r instanceof Ez)&&i.transform.push(r.assemble()),(r instanceof mh||r instanceof gh||r instanceof $1||r instanceof ng||r instanceof zw)&&i.transform.push(...r.assemble()),r instanceof el&&(i.source&&i.transform.length===0?r.setSource(i.source):r.parent instanceof el?r.setSource(i.name):(i.name||(i.name=`data_${t++}`),r.setSource(i.name),r.numChildren()===1&&(e.push(i),i={name:null,source:i.name,transform:[]}))),r.numChildren()){case 0:r instanceof el&&(!i.source||i.transform.length>0)&&e.push(i);break;case 1:n(r.children[0],i);break;default:{i.name||(i.name=`data_${t++}`);let o=i.name;!i.source||i.transform.length>0?e.push(i):o=i.source;for(const s of r.children)n(s,{name:null,source:o,transform:[]});break}}}return n}function nOn(e){const t=[],n=iZe(t);for(const r of e.children)n(r,{source:e.name,name:null,transform:[]});return t}function rOn(e,t){const n=[],r=iZe(n);let i=0;for(const s of e.sources){s.hasName()||(s.dataName=`source_${i++}`);const a=s.assemble();r(s,a)}for(const s of n)s.transform.length===0&&delete s.transform;let o=0;for(const[s,a]of n.entries())(a.transform??[]).length===0&&!a.source&&n.splice(o++,0,n.splice(s,1)[0]);for(const s of n)for(const a of s.transform??[])a.type==="lookup"&&(a.from=e.outputNodes[a.from].getSource());for(const s of n)s.name in t&&(s.values=t[s.name]);return n}function iOn(e){return e==="top"||e==="left"||St(e)?"header":"footer"}function oOn(e){for(const t of Su)sOn(e,t);r_e(e,"x"),r_e(e,"y")}function sOn(e,t){var s;const{facet:n,config:r,child:i,component:o}=e;if(e.channelHasField(t)){const a=n[t],l=o_("title",null,r,t);let c=jw(a,r,{allowDisabling:!0,includeDefault:l===void 0||!!l});i.component.layoutHeaders[t].title&&(c=Me(c)?c.join(", "):c,c+=` / ${i.component.layoutHeaders[t].title}`,i.component.layoutHeaders[t].title=null);const u=o_("labelOrient",a.header,r,t),f=a.header!==null?to((s=a.header)==null?void 0:s.labels,r.header.labels,!0):!1,d=kn(["bottom","right"],u)?"footer":"header";o.layoutHeaders[t]={title:a.header!==null?c:null,facetFieldDef:a,[d]:t==="facet"?[]:[oZe(e,t,f)]}}}function oZe(e,t,n){const r=t==="row"?"height":"width";return{labels:n,sizeSignal:e.child.component.layoutSize.get(r)?e.child.getSizeSignalRef(r):void 0,axes:[]}}function r_e(e,t){const{child:n}=e;if(n.component.axes[t]){const{layoutHeaders:r,resolve:i}=e.component;if(i.axis[t]=Tue(i,t),i.axis[t]==="shared"){const o=t==="x"?"column":"row",s=r[o];for(const a of n.component.axes[t]){const l=iOn(a.get("orient"));s[l]??(s[l]=[oZe(e,o,!1)]);const c=LE(a,"main",e.config,{header:!0});c&&s[l][0].axes.push(c),a.mainExtracted=!0}}}}function aOn(e){Lue(e),Wj(e,"width"),Wj(e,"height")}function lOn(e){Lue(e);const t=e.layout.columns===1?"width":"childWidth",n=e.layout.columns===void 0?"height":"childHeight";Wj(e,t),Wj(e,n)}function Lue(e){for(const t of e.children)t.parseLayoutSize()}function Wj(e,t){const n=PHe(t),r=nz(n),i=e.component.resolve,o=e.component.layoutSize;let s;for(const a of e.children){const l=a.component.layoutSize.getWithExplicit(n),c=i.scale[r]??AHe(r,e);if(c==="independent"&&l.value==="step"){s=void 0;break}if(s){if(c==="independent"&&s.value!==l.value){s=void 0;break}s=p0(s,l,n,"")}else s=l}if(s){for(const a of e.children)e.renameSignal(a.getName(n),e.getName(t)),a.component.layoutSize.set(n,"merged",!1);o.setWithExplicit(t,s)}else o.setWithExplicit(t,{explicit:!1,value:void 0})}function cOn(e){const{size:t,component:n}=e;for(const r of np){const i=Yl(r);if(t[i]){const o=t[i];n.layoutSize.set(i,Ah(o)?"step":o,!0)}else{const o=uOn(e,i);n.layoutSize.set(i,o,!1)}}}function uOn(e,t){const n=t==="width"?"x":"y",r=e.config,i=e.getScaleComponent(n);if(i){const o=i.get("type"),s=i.get("range");if(fs(o)){const a=Fj(r.view,t);return G0(s)||Ah(a)?"step":a}else return bG(r.view,t)}else{if(e.hasProjection||e.mark==="arc")return bG(r.view,t);{const o=Fj(r.view,t);return Ah(o)?o.step:o}}}function DG(e,t,n){return tt(t,{suffix:`by_${tt(e)}`,...n??{}})}class Uk extends rZe{constructor(t,n,r,i){super(t,"facet",n,r,i,t.resolve),this.child=Bue(t.spec,this,this.getName("child"),void 0,i),this.children=[this.child],this.facet=this.initFacet(t.facet)}initFacet(t){if(!hA(t))return{facet:this.initFacetFieldDef(t,"facet")};const n=Ue(t),r={};for(const i of n){if(![Jp,eg].includes(i)){He(sz(i,"facet"));break}const o=t[i];if(o.field===void 0){He(pG(o,i));break}r[i]=this.initFacetFieldDef(o,i)}return r}initFacetFieldDef(t,n){const r=sue(t,n);return r.header?r.header=bl(r.header):r.header===null&&(r.header=null),r}channelHasField(t){return!!this.facet[t]}fieldDef(t){return this.facet[t]}parseData(){this.component.data=Mz(this),this.child.parseData()}parseLayoutSize(){Lue(this)}parseSelections(){this.child.parseSelections(),this.component.selection=this.child.component.selection}parseMarkGroup(){this.child.parseMarkGroup()}parseAxesAndHeaders(){this.child.parseAxesAndHeaders(),oOn(this)}assembleSelectionTopLevelSignals(t){return this.child.assembleSelectionTopLevelSignals(t)}assembleSignals(){return this.child.assembleSignals(),[]}assembleSelectionData(t){return this.child.assembleSelectionData(t)}getHeaderLayoutMixins(){const t={};for(const n of Su)for(const r of Eue){const i=this.component.layoutHeaders[n],o=i[r],{facetFieldDef:s}=i;if(s){const a=o_("titleOrient",s.header,this.config,n);if(["right","bottom"].includes(a)){const l=Sz(n,a);t.titleAnchor??(t.titleAnchor={}),t.titleAnchor[l]="end"}}if(o!=null&&o[0]){const a=n==="row"?"height":"width",l=r==="header"?"headerBand":"footerBand";n!=="facet"&&!this.child.component.layoutSize.get(a)&&(t[l]??(t[l]={}),t[l][n]=.5),i.title&&(t.offset??(t.offset={}),t.offset[n==="row"?"rowTitle":"columnTitle"]=10)}}return t}assembleDefaultLayout(){const{column:t,row:n}=this.facet,r=t?this.columnDistinctSignal():n?1:void 0;let i="all";return(!n&&this.component.resolve.scale.x==="independent"||!t&&this.component.resolve.scale.y==="independent")&&(i="none"),{...this.getHeaderLayoutMixins(),...r?{columns:r}:{},bounds:"full",align:i}}assembleLayoutSignals(){return this.child.assembleLayoutSignals()}columnDistinctSignal(){if(!(this.parent&&this.parent instanceof Uk))return{signal:`length(data('${this.getName("column_domain")}'))`}}assembleGroupStyle(){}assembleGroup(t){return this.parent&&this.parent instanceof Uk?{...this.channelHasField("column")?{encode:{update:{columns:{field:tt(this.facet.column,{prefix:"distinct"})}}}}:{},...super.assembleGroup(t)}:super.assembleGroup(t)}getCardinalityAggregateForChild(){const t=[],n=[],r=[];if(this.child instanceof Uk){if(this.child.channelHasField("column")){const i=tt(this.child.facet.column);t.push(i),n.push("distinct"),r.push(`distinct_${i}`)}}else for(const i of np){const o=this.child.component.scales[i];if(o&&!o.merged){const s=o.get("type"),a=o.get("range");if(fs(s)&&G0(a)){const l=Cz(this.child,i),c=Nue(l);c?(t.push(c),n.push("distinct"),r.push(`distinct_${c}`)):He(jce(i))}}}return{fields:t,ops:n,as:r}}assembleFacet(){const{name:t,data:n}=this.component.data.facetRoot,{row:r,column:i}=this.facet,{fields:o,ops:s,as:a}=this.getCardinalityAggregateForChild(),l=[];for(const u of Su){const f=this.facet[u];if(f){l.push(tt(f));const{bin:d,sort:h}=f;if(Xr(d)&&l.push(tt(f,{binSuffix:"end"})),ph(h)){const{field:p,op:g=lz}=h,y=DG(f,h);r&&i?(o.push(y),s.push("max"),a.push(y)):(o.push(p),s.push(g),a.push(y))}else if(Me(h)){const p=i_(f,u);o.push(p),s.push("max"),a.push(p)}}}const c=!!r&&!!i;return{name:t,data:n,groupby:l,...c||o.length>0?{aggregate:{...c?{cross:c}:{},...o.length?{fields:o,ops:s,as:a}:{}}}:{}}}facetSortFields(t){const{facet:n}=this,r=n[t];return r?ph(r.sort)?[DG(r,r.sort,{expr:"datum"})]:Me(r.sort)?[i_(r,t,{expr:"datum"})]:[tt(r,{expr:"datum"})]:[]}facetSortOrder(t){const{facet:n}=this,r=n[t];if(r){const{sort:i}=r;return[(ph(i)?i.order:!Me(i)&&i)||"ascending"]}return[]}assembleLabelTitle(){var i;const{facet:t,config:n}=this;if(t.facet)return EG(t.facet,"facet",n);const r={row:["top","bottom"],column:["left","right"]};for(const o of $ue)if(t[o]){const s=o_("labelOrient",(i=t[o])==null?void 0:i.header,n,o);if(r[o].includes(s))return EG(t[o],o,n)}}assembleMarks(){const{child:t}=this,n=this.component.data.facetRoot,r=nOn(n),i=t.assembleGroupEncodeEntry(!1),o=this.assembleLabelTitle()||t.assembleTitle(),s=t.assembleGroupStyle();return[{name:this.getName("cell"),type:"group",...o?{title:o}:{},...s?{style:s}:{},from:{facet:this.assembleFacet()},sort:{field:Su.map(l=>this.facetSortFields(l)).flat(),order:Su.map(l=>this.facetSortOrder(l)).flat()},...r.length>0?{data:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup(xvn(this,[]))}]}getMapping(){return this.facet}}function fOn(e,t){const{row:n,column:r}=t;if(n&&r){let i=null;for(const o of[n,r])if(ph(o.sort)){const{field:s,op:a=lz}=o.sort;e=i=new vO(e,{joinaggregate:[{op:a,field:s,as:DG(o,o.sort,{forAs:!0})}],groupby:[tt(o)]})}return i}return null}function sZe(e,t){var n,r,i,o;for(const s of t){const a=s.data;if(e.name&&s.hasName()&&e.name!==s.dataName)continue;const l=(n=e.format)==null?void 0:n.mesh,c=(r=a.format)==null?void 0:r.feature;if(l&&c)continue;const u=(i=e.format)==null?void 0:i.feature;if((u||c)&&u!==c)continue;const f=(o=a.format)==null?void 0:o.mesh;if(!((l||f)&&l!==f)){if(nP(e)&&nP(a)){if($c(e.values,a.values))return s}else if(t_(e)&&t_(a)){if(e.url===a.url)return s}else if(HXe(e)&&e.name===s.dataName)return s}}return null}function dOn(e,t){if(e.data||!e.parent){if(e.data===null){const r=new Pb({values:[]});return t.push(r),r}const n=sZe(e.data,t);if(n)return $y(e.data)||(n.data.format=z6e({},e.data.format,n.data.format)),!n.hasName()&&e.data.name&&(n.dataName=e.data.name),n;{const r=new Pb(e.data);return t.push(r),r}}else return e.parent.component.data.facetRoot?e.parent.component.data.facetRoot:e.parent.component.data.main}function hOn(e,t,n){let r=0;for(const i of t.transforms){let o,s;if(tvn(i))s=e=new r_(e,i),o="derived";else if(bue(i)){const a=ibn(i);s=e=ma.makeWithAncestors(e,{},a,n)??e,e=new RC(e,t,i.filter)}else if(VXe(i))s=e=mh.makeFromTransform(e,i,t),o="number";else if(rvn(i))o="date",n.getWithExplicit(i.field).value===void 0&&(e=new ma(e,{[i.field]:o}),n.set(i.field,o,!1)),s=e=gh.makeFromTransform(e,i);else if(ivn(i))s=e=Bf.makeFromTransform(e,i),o="number",Cue(t)&&(e=new y0(e));else if(WXe(i))s=e=oP.make(e,t,i,r++),o="derived";else if(K0n(i))s=e=new DC(e,i),o="number";else if(J0n(i))s=e=new vO(e,i),o="number";else if(ovn(i))s=e=ng.makeFromTransform(e,i),o="derived";else if(svn(i))s=e=new Tz(e,i),o="derived";else if(avn(i))s=e=new Ez(e,i),o="derived";else if(evn(i))s=e=new kz(e,i),o="derived";else if(q0n(i))s=e=new Dz(e,i),o="derived";else if(G0n(i))e=new Nz(e,i);else if(nvn(i))s=e=$1.makeFromTransform(e,i),o="derived";else if(Y0n(i))s=e=new $z(e,i),o="derived";else if(X0n(i))s=e=new Rz(e,i),o="derived";else if(H0n(i))s=e=new Az(e,i),o="derived";else if(Z0n(i))s=e=new Pz(e,i),o="derived";else{He(Wgn(i));continue}if(s&&o!==void 0)for(const a of s.producedFields()??[])n.set(a,o,!1)}return e}function Mz(e){var g;let t=dOn(e,e.component.data.sources);const{outputNodes:n,outputNodeRefCounts:r}=e.component.data,i=e.data,s=!(i&&($y(i)||t_(i)||nP(i)))&&e.parent?e.parent.component.data.ancestorParse.clone():new bvn;$y(i)?(ZXe(i)?t=new bA(t,i.sequence):Oue(i)&&(t=new vA(t,i.graticule)),s.parseNothing=!0):((g=i==null?void 0:i.format)==null?void 0:g.parse)===null&&(s.parseNothing=!0),t=ma.makeExplicit(t,e,s)??t,t=new y0(t);const a=e.parent&&NC(e.parent);(Qi(e)||Wf(e))&&a&&(t=mh.makeFromEncoding(t,e)??t),e.transforms.length>0&&(t=hOn(t,e,s));const l=sbn(e),c=obn(e);t=ma.makeWithAncestors(t,{},{...l,...c},s)??t,Qi(e)&&(t=zw.parseAll(t,e),t=iP.parseAll(t,e)),(Qi(e)||Wf(e))&&(a||(t=mh.makeFromEncoding(t,e)??t),t=gh.makeFromEncoding(t,e)??t,t=r_.parseAllForSortIndex(t,e));const u=e.getDataName(Wr.Raw),f=new el(t,u,Wr.Raw,r);if(n[u]=f,t=f,Qi(e)){const y=Bf.makeFromEncoding(t,e);y&&(t=y,Cue(e)&&(t=new y0(t))),t=$1.makeFromEncoding(t,e)??t,t=ng.makeFromEncoding(t,e)??t}Qi(e)&&(t=rP.make(t,e)??t);const d=e.getDataName(Wr.Main),h=new el(t,d,Wr.Main,r);n[d]=h,t=h,Qi(e)&&t1n(e,h);let p=null;if(Wf(e)){const y=e.getName("facet");t=fOn(t,e.facet)??t,p=new AC(t,e,y,h.getSource()),n[y]=p}return{...e.component.data,outputNodes:n,outputNodeRefCounts:r,raw:f,main:h,facetRoot:p,ancestorParse:s}}class pOn extends Iue{constructor(t,n,r,i){var o,s,a,l;super(t,"concat",n,r,i,t.resolve),(((s=(o=t.resolve)==null?void 0:o.axis)==null?void 0:s.x)==="shared"||((l=(a=t.resolve)==null?void 0:a.axis)==null?void 0:l.y)==="shared")&&He(zgn),this.children=this.getChildren(t).map((c,u)=>Bue(c,this,this.getName(`concat_${u}`),void 0,i))}parseData(){this.component.data=Mz(this);for(const t of this.children)t.parseData()}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of Ue(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){for(const t of this.children)t.parseAxesAndHeaders()}getChildren(t){return mz(t)?t.vconcat:yue(t)?t.hconcat:t.concat}parseLayoutSize(){lOn(this)}parseAxisGroup(){return null}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.forEach(t=>t.assembleSignals()),[]}assembleLayoutSignals(){const t=kue(this);for(const n of this.children)t.push(...n.assembleLayoutSignals());return t}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleMarks(){return this.children.map(t=>{const n=t.assembleTitle(),r=t.assembleGroupStyle(),i=t.assembleGroupEncodeEntry(!1);return{type:"group",name:t.getName("group"),...n?{title:n}:{},...r?{style:r}:{},...i?{encode:{update:i}}:{},...t.assembleGroup()}})}assembleGroupStyle(){}assembleDefaultLayout(){const t=this.layout.columns;return{...t!=null?{columns:t}:{},bounds:"full",align:"each"}}}function gOn(e){return e===!1||e===null}const mOn={disable:1,gridScale:1,scale:1,...pXe,labelExpr:1,encode:1},aZe=Ue(mOn);class jue extends Ug{constructor(t={},n={},r=!1){super(),this.explicit=t,this.implicit=n,this.mainExtracted=r}clone(){return new jue(qt(this.explicit),qt(this.implicit),this.mainExtracted)}hasAxisPart(t){return t==="axis"?!0:t==="grid"||t==="title"?!!this.get(t):!gOn(this.get(t))}hasOrientSignalRef(){return St(this.explicit.orient)}}function yOn(e,t,n){const{encoding:r,config:i}=e,o=zo(r[t])??zo(r[tp(t)]),s=e.axis(t)||{},{format:a,formatType:l}=s;if(Eb(l))return{text:Tf({fieldOrDatumDef:o,field:"datum.value",format:a,formatType:l,config:i}),...n};if(a===void 0&&l===void 0&&i.customFormatTypes){if(KS(o)==="quantitative"){if(JS(o)&&o.stack==="normalize"&&i.normalizedNumberFormatType)return{text:Tf({fieldOrDatumDef:o,field:"datum.value",format:i.normalizedNumberFormat,formatType:i.normalizedNumberFormatType,config:i}),...n};if(i.numberFormatType)return{text:Tf({fieldOrDatumDef:o,field:"datum.value",format:i.numberFormat,formatType:i.numberFormatType,config:i}),...n}}if(KS(o)==="temporal"&&i.timeFormatType&&Xe(o)&&!o.timeUnit)return{text:Tf({fieldOrDatumDef:o,field:"datum.value",format:i.timeFormat,formatType:i.timeFormatType,config:i}),...n}}return n}function vOn(e){return np.reduce((t,n)=>(e.component.scales[n]&&(t[n]=[COn(n,e)]),t),{})}const bOn={bottom:"top",top:"bottom",left:"right",right:"left"};function OOn(e){const{axes:t,resolve:n}=e.component,r={top:0,bottom:0,right:0,left:0};for(const i of e.children){i.parseAxesAndHeaders();for(const o of Ue(i.component.axes))n.axis[o]=Tue(e.component.resolve,o),n.axis[o]==="shared"&&(t[o]=xOn(t[o],i.component.axes[o]),t[o]||(n.axis[o]="independent",delete t[o]))}for(const i of np){for(const o of e.children)if(o.component.axes[i]){if(n.axis[i]==="independent"){t[i]=(t[i]??[]).concat(o.component.axes[i]);for(const s of o.component.axes[i]){const{value:a,explicit:l}=s.getWithExplicit("orient");if(!St(a)){if(r[a]>0&&!l){const c=bOn[a];r[a]>r[c]&&s.set("orient",c,!1)}r[a]++}}}delete o.component.axes[i]}if(n.axis[i]==="independent"&&t[i]&&t[i].length>1)for(const[o,s]of(t[i]||[]).entries())o>0&&s.get("grid")&&!s.explicit.grid&&(s.implicit.grid=!1)}}function xOn(e,t){if(e){if(e.length!==t.length)return;const n=e.length;for(let r=0;r<n;r++){const i=e[r],o=t[r];if(!!i!=!!o)return;if(i&&o){const s=i.getWithExplicit("orient"),a=o.getWithExplicit("orient");if(s.explicit&&a.explicit&&s.value!==a.value)return;e[r]=wOn(i,o)}}}else return t.map(n=>n.clone());return e}function wOn(e,t){for(const n of aZe){const r=p0(e.getWithExplicit(n),t.getWithExplicit(n),n,"axis",(i,o)=>{switch(n){case"title":return _Ye(i,o);case"gridScale":return{explicit:i.explicit,value:to(i.value,o.value)}}return vz(i,o,n,"axis")});e.setWithExplicit(n,r)}return e}function SOn(e,t,n,r,i){if(t==="disable")return n!==void 0;switch(n=n||{},t){case"titleAngle":case"labelAngle":return e===(St(n.labelAngle)?n.labelAngle:_2(n.labelAngle));case"values":return!!n.values;case"encode":return!!n.encoding||!!n.labelAngle;case"title":if(e===CHe(r,i))return!0}return e===n[t]}const _On=new Set(["grid","translate","format","formatType","orient","labelExpr","tickCount","position","tickMinStep"]);function COn(e,t){var v,x;let n=t.axis(e);const r=new jue,i=zo(t.encoding[e]),{mark:o,config:s}=t,a=(n==null?void 0:n.orient)||((v=s[e==="x"?"axisX":"axisY"])==null?void 0:v.orient)||((x=s.axis)==null?void 0:x.orient)||f1n(e),l=t.getScaleComponent(e).get("type"),c=i1n(e,l,a,t.config),u=n!==void 0?!n:CG("disable",s.style,n==null?void 0:n.style,c).configValue;if(r.set("disable",u,n!==void 0),u)return r;n=n||{};const f=l1n(i,n,e,s.style,c),d=JYe(n.formatType,i,l),h=KYe(i,i.type,n.format,n.formatType,s,!0),p={fieldOrDatumDef:i,axis:n,channel:e,model:t,scaleType:l,orient:a,labelAngle:f,format:h,formatType:d,mark:o,config:s};for(const m of aZe){const w=m in BSe?BSe[m](p):gSe(m)?n[m]:void 0,S=w!==void 0,C=SOn(w,m,n,t,e);if(S&&C)r.set(m,w,C);else{const{configValue:$=void 0,configFrom:E=void 0}=gSe(m)&&m!=="values"?CG(m,s.style,n.style,c):{},R=$!==void 0;S&&!R?r.set(m,w,C):(E!=="vgAxisConfig"||_On.has(m)&&R||mA($)||St($))&&r.set(m,$,!1)}}const g=n.encoding??{},y=hXe.reduce((m,w)=>{if(!r.hasAxisPart(w))return m;const S=RHe(g[w]??{},t),C=w==="labels"?yOn(t,e,S):S;return C!==void 0&&!Cr(C)&&(m[w]={update:C}),m},{});return Cr(y)||r.set("encode",y,!!n.encoding||n.labelAngle!==void 0),r}function $On({encoding:e,size:t}){for(const n of np){const r=Yl(n);Ah(t[r])&&ny(e[n])&&(delete t[r],He(TYe(r)))}return t}const EOn={vgMark:"arc",encodeEntry:e=>({...Zu(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...ga("x",e,{defaultPos:"mid"}),...ga("y",e,{defaultPos:"mid"}),...g0(e,"radius"),...g0(e,"theta")})},kOn={vgMark:"area",encodeEntry:e=>({...Zu(e,{align:"ignore",baseline:"ignore",color:"include",orient:"include",size:"ignore",theta:"ignore"}),...zj("x",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="horizontal"}),...zj("y",e,{defaultPos:"zeroOrMin",defaultPos2:"zeroOrMin",range:e.markDef.orient==="vertical"}),..._ue(e)})},TOn={vgMark:"rect",encodeEntry:e=>({...Zu(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...g0(e,"x"),...g0(e,"y")})},POn={vgMark:"shape",encodeEntry:e=>({...Zu(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"})}),postEncodingTransform:e=>{const{encoding:t}=e,n=t.shape;return[{type:"geoshape",projection:e.projectionName(),...n&&Xe(n)&&n.type===TC?{field:tt(n,{expr:"datum"})}:{}}]}},ROn={vgMark:"image",encodeEntry:e=>({...Zu(e,{align:"ignore",baseline:"ignore",color:"ignore",orient:"ignore",size:"ignore",theta:"ignore"}),...g0(e,"x"),...g0(e,"y"),...wue(e,"url")})},AOn={vgMark:"line",encodeEntry:e=>({...Zu(e,{align:"ignore",baseline:"ignore",color:"include",size:"ignore",orient:"ignore",theta:"ignore"}),...ga("x",e,{defaultPos:"mid"}),...ga("y",e,{defaultPos:"mid"}),...ts("size",e,{vgChannel:"strokeWidth"}),..._ue(e)})},DOn={vgMark:"trail",encodeEntry:e=>({...Zu(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...ga("x",e,{defaultPos:"mid"}),...ga("y",e,{defaultPos:"mid"}),...ts("size",e),..._ue(e)})};function Fue(e,t){const{config:n}=e;return{...Zu(e,{align:"ignore",baseline:"ignore",color:"include",size:"include",orient:"ignore",theta:"ignore"}),...ga("x",e,{defaultPos:"mid"}),...ga("y",e,{defaultPos:"mid"}),...ts("size",e),...ts("angle",e),...NOn(e,n,t)}}function NOn(e,t,n){return n?{shape:{value:n}}:ts("shape",e)}const MOn={vgMark:"symbol",encodeEntry:e=>Fue(e)},IOn={vgMark:"symbol",encodeEntry:e=>Fue(e,"circle")},LOn={vgMark:"symbol",encodeEntry:e=>Fue(e,"square")},jOn={vgMark:"rect",encodeEntry:e=>({...Zu(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...g0(e,"x"),...g0(e,"y")})},FOn={vgMark:"rule",encodeEntry:e=>{const{markDef:t}=e,n=t.orient;return!e.encoding.x&&!e.encoding.y&&!e.encoding.latitude&&!e.encoding.longitude?{}:{...Zu(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...zj("x",e,{defaultPos:n==="horizontal"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="vertical"}),...zj("y",e,{defaultPos:n==="vertical"?"zeroOrMax":"mid",defaultPos2:"zeroOrMin",range:n!=="horizontal"}),...ts("size",e,{vgChannel:"strokeWidth"})}}},zOn={vgMark:"text",encodeEntry:e=>{const{config:t,encoding:n}=e;return{...Zu(e,{align:"include",baseline:"include",color:"include",size:"ignore",orient:"ignore",theta:"include"}),...ga("x",e,{defaultPos:"mid"}),...ga("y",e,{defaultPos:"mid"}),...wue(e),...ts("size",e,{vgChannel:"fontSize"}),...ts("angle",e),...jSe("align",QOn(e.markDef,n,t)),...jSe("baseline",BOn(e.markDef,n,t)),...ga("radius",e,{defaultPos:null}),...ga("theta",e,{defaultPos:null})}}};function QOn(e,t,n){if(hr("align",e,n)===void 0)return"center"}function BOn(e,t,n){if(hr("baseline",e,n)===void 0)return"middle"}const WOn={vgMark:"rect",encodeEntry:e=>{const{config:t,markDef:n}=e,r=n.orient,i=r==="horizontal"?"width":"height",o=r==="horizontal"?"height":"width";return{...Zu(e,{align:"ignore",baseline:"ignore",color:"include",orient:"ignore",size:"ignore",theta:"ignore"}),...ga("x",e,{defaultPos:"mid",vgChannel:"xc"}),...ga("y",e,{defaultPos:"mid",vgChannel:"yc"}),...ts("size",e,{defaultValue:VOn(e),vgChannel:i}),[o]:ai(hr("thickness",n,t))}}};function VOn(e){const{config:t,markDef:n}=e,{orient:r}=n,i=r==="horizontal"?"width":"height",o=e.getScaleComponent(r==="horizontal"?"x":"y"),s=hr("size",n,t,{vgChannel:i})??t.tick.bandSize;if(s!==void 0)return s;{const a=o?o.get("range"):void 0;return a&&G0(a)&&Un(a.step)?a.step*3/4:jj(t.view,i)*3/4}}const QN={arc:EOn,area:kOn,bar:TOn,circle:IOn,geoshape:POn,image:ROn,line:AOn,point:MOn,rect:jOn,rule:FOn,square:LOn,text:zOn,tick:WOn,trail:DOn};function UOn(e){if(kn([p7,d7,G7t],e.mark)){const t=bXe(e.mark,e.encoding);if(t.length>0)return qOn(e,t)}else if(e.mark===h7){const t=hG.some(n=>hr(n,e.markDef,e.config));if(e.stack&&!e.fieldDef("size")&&t)return YOn(e)}return zue(e)}const i_e="faceted_path_";function qOn(e,t){return[{name:e.getName("pathgroup"),type:"group",from:{facet:{name:i_e+e.requestDataName(Wr.Main),data:e.requestDataName(Wr.Main),groupby:t}},encode:{update:{width:{field:{group:"width"}},height:{field:{group:"height"}}}},marks:zue(e,{fromPrefix:i_e})}]}const o_e="stack_group_";function YOn(e){var c;const[t]=zue(e,{fromPrefix:o_e}),n=e.scaleName(e.stack.fieldChannel),r=(u={})=>e.vgField(e.stack.fieldChannel,u),i=(u,f)=>{const d=[r({prefix:"min",suffix:"start",expr:f}),r({prefix:"max",suffix:"start",expr:f}),r({prefix:"min",suffix:"end",expr:f}),r({prefix:"max",suffix:"end",expr:f})];return`${u}(${d.map(h=>`scale('${n}',${h})`).join(",")})`};let o,s;e.stack.fieldChannel==="x"?(o={...$S(t.encode.update,["y","yc","y2","height",...hG]),x:{signal:i("min","datum")},x2:{signal:i("max","datum")},clip:{value:!0}},s={x:{field:{group:"x"},mult:-1},height:{field:{group:"height"}}},t.encode.update={...Nl(t.encode.update,["y","yc","y2"]),height:{field:{group:"height"}}}):(o={...$S(t.encode.update,["x","xc","x2","width"]),y:{signal:i("min","datum")},y2:{signal:i("max","datum")},clip:{value:!0}},s={y:{field:{group:"y"},mult:-1},width:{field:{group:"width"}}},t.encode.update={...Nl(t.encode.update,["x","xc","x2"]),width:{field:{group:"width"}}});for(const u of hG){const f=wg(u,e.markDef,e.config);t.encode.update[u]?(o[u]=t.encode.update[u],delete t.encode.update[u]):f&&(o[u]=ai(f)),f&&(t.encode.update[u]={value:0})}const a=[];if(((c=e.stack.groupbyChannels)==null?void 0:c.length)>0)for(const u of e.stack.groupbyChannels){const f=e.fieldDef(u),d=tt(f);d&&a.push(d),(f!=null&&f.bin||f!=null&&f.timeUnit)&&a.push(tt(f,{binSuffix:"end"}))}return o=["stroke","strokeWidth","strokeJoin","strokeCap","strokeDash","strokeDashOffset","strokeMiterLimit","strokeOpacity"].reduce((u,f)=>{if(t.encode.update[f])return{...u,[f]:t.encode.update[f]};{const d=wg(f,e.markDef,e.config);return d!==void 0?{...u,[f]:ai(d)}:u}},o),o.stroke&&(o.strokeForeground={value:!0},o.strokeOffset={value:0}),[{type:"group",from:{facet:{data:e.requestDataName(Wr.Main),name:o_e+e.requestDataName(Wr.Main),groupby:a,aggregate:{fields:[r({suffix:"start"}),r({suffix:"start"}),r({suffix:"end"}),r({suffix:"end"})],ops:["min","max","min","max"]}}},encode:{update:o},marks:[{type:"group",encode:{update:s},marks:[t]}]}]}function XOn(e){var a;const{encoding:t,stack:n,mark:r,markDef:i,config:o}=e,s=t.order;if(!(!Me(s)&&sd(s)&&vH(s.value)||!s&&vH(hr("order",i,o)))){if((Me(s)||Xe(s))&&!n)return xYe(s,{expr:"datum"});if(I0(r)){const l=i.orient==="horizontal"?"y":"x",c=t[l];if(Xe(c)){const u=c.sort;if(Me(u))return{field:tt(c,{prefix:l,suffix:"sort_index",expr:"datum"})};if(ph(u))return{field:tt({aggregate:aue(e.encoding)?u.op:void 0,field:u.field},{expr:"datum"})};if(tXe(u)){const f=e.fieldDef(u.encoding);return{field:tt(f,{expr:"datum"}),order:u.order}}else return u===null?void 0:{field:tt(c,{binSuffix:(a=e.stack)!=null&&a.impute?"mid":void 0,expr:"datum"})}}return}}}function zue(e,t={fromPrefix:""}){const{mark:n,markDef:r,encoding:i,config:o}=e,s=to(r.clip,HOn(e),ZOn(e)),a=bYe(r),l=i.key,c=XOn(e),u=GOn(e),f=hr("aria",r,o),d=QN[n].postEncodingTransform?QN[n].postEncodingTransform(e):null;return[{name:e.getName("marks"),type:QN[n].vgMark,...s?{clip:!0}:{},...a?{style:a}:{},...l?{key:l.field}:{},...c?{sort:c}:{},...u||{},...f===!1?{aria:f}:{},from:{data:t.fromPrefix+e.requestDataName(Wr.Main)},encode:{update:QN[n].encodeEntry(e)},...d?{transform:d}:{}}]}function HOn(e){const t=e.getScaleComponent("x"),n=e.getScaleComponent("y");return t!=null&&t.get("selectionExtent")||n!=null&&n.get("selectionExtent")?!0:void 0}function ZOn(e){const t=e.component.projection;return t&&!t.isFit?!0:void 0}function GOn(e){if(!e.component.selection)return null;const t=Ue(e.component.selection).length;let n=t,r=e.parent;for(;r&&n===0;)n=Ue(r.component.selection).length,r=r.parent;return n?{interactive:t>0||e.mark==="geoshape"||!!e.encoding.tooltip}:null}class lZe extends rZe{constructor(t,n,r,i={},o){super(t,"unit",n,r,o,void 0,ySe(t)?t.view:void 0),this.specifiedScales={},this.specifiedAxes={},this.specifiedLegends={},this.specifiedProjection={},this.selection=[],this.children=[];const s=kh(t.mark)?{...t.mark}:{type:t.mark},a=s.type;s.filled===void 0&&(s.filled=M0n(s,o,{graticule:t.data&&Oue(t.data)}));const l=this.encoding=Fyn(t.encoding||{},a,s.filled,o);this.markDef=zXe(s,l,o),this.size=$On({encoding:l,size:ySe(t)?{...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}}:i}),this.stack=FXe(this.markDef,l),this.specifiedScales=this.initScales(a,l),this.specifiedAxes=this.initAxes(l),this.specifiedLegends=this.initLegends(l),this.specifiedProjection=t.projection,this.selection=(t.params??[]).filter(c=>gue(c))}get hasProjection(){const{encoding:t}=this,n=this.mark===H6e,r=t&&tgn.some(i=>Gt(t[i]));return n||r}scaleDomain(t){const n=this.specifiedScales[t];return n?n.domain:void 0}axis(t){return this.specifiedAxes[t]}legend(t){return this.specifiedLegends[t]}initScales(t,n){return rz.reduce((r,i)=>{const o=zo(n[i]);return o&&(r[i]=this.initScale(o.scale??{})),r},{})}initScale(t){const{domain:n,range:r}=t,i=bl(t);return Me(n)&&(i.domain=n.map(wc)),Me(r)&&(i.range=r.map(wc)),i}initAxes(t){return np.reduce((n,r)=>{const i=t[r];if(Gt(i)||r===vi&&Gt(t.x2)||r===gs&&Gt(t.y2)){const o=Gt(i)?i.axis:void 0;n[r]=o&&this.initAxis({...o})}return n},{})}initAxis(t){const n=Ue(t),r={};for(const i of n){const o=t[i];r[i]=mA(o)?vYe(o):wc(o)}return r}initLegends(t){return dYe.reduce((n,r)=>{const i=zo(t[r]);if(i&&dgn(r)){const o=i.legend;n[r]=o&&bl(o)}return n},{})}parseData(){this.component.data=Mz(this)}parseLayoutSize(){cOn(this)}parseSelections(){this.component.selection=e1n(this,this.selection)}parseMarkGroup(){this.component.mark=UOn(this)}parseAxesAndHeaders(){this.component.axes=vOn(this)}assembleSelectionTopLevelSignals(t){return wvn(this,t)}assembleSignals(){return[...wHe(this),...Ovn(this,[])]}assembleSelectionData(t){return Svn(this,t)}assembleLayout(){return null}assembleLayoutSignals(){return kue(this)}assembleMarks(){let t=this.component.mark??[];return(!this.parent||!NC(this.parent))&&(t=JXe(this,t)),t.map(this.correctDataNames)}assembleGroupStyle(){const{style:t}=this.view||{};return t!==void 0?t:this.encoding.x||this.encoding.y?"cell":"view"}getMapping(){return this.encoding}get mark(){return this.markDef.type}channelHasField(t){return _1(this.encoding,t)}fieldDef(t){const n=this.encoding[t];return Rh(n)}typedFieldDef(t){const n=this.fieldDef(t);return ol(n)?n:null}}class Que extends Iue{constructor(t,n,r,i,o){super(t,"layer",n,r,o,t.resolve,t.view);const s={...i,...t.width?{width:t.width}:{},...t.height?{height:t.height}:{}};this.children=t.layer.map((a,l)=>{if(yz(a))return new Que(a,this,this.getName(`layer_${l}`),s,o);if(Vg(a))return new lZe(a,this,this.getName(`layer_${l}`),s,o);throw new Error(Lce(a))})}parseData(){this.component.data=Mz(this);for(const t of this.children)t.parseData()}parseLayoutSize(){aOn(this)}parseSelections(){this.component.selection={};for(const t of this.children){t.parseSelections();for(const n of Ue(t.component.selection))this.component.selection[n]=t.component.selection[n]}}parseMarkGroup(){for(const t of this.children)t.parseMarkGroup()}parseAxesAndHeaders(){OOn(this)}assembleSelectionTopLevelSignals(t){return this.children.reduce((n,r)=>r.assembleSelectionTopLevelSignals(n),t)}assembleSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleSignals()),wHe(this))}assembleLayoutSignals(){return this.children.reduce((t,n)=>t.concat(n.assembleLayoutSignals()),kue(this))}assembleSelectionData(t){return this.children.reduce((n,r)=>r.assembleSelectionData(n),t)}assembleGroupStyle(){const t=new Set;for(const r of this.children)for(const i of lt(r.assembleGroupStyle()))t.add(i);const n=Array.from(t);return n.length>1?n:n.length===1?n[0]:void 0}assembleTitle(){let t=super.assembleTitle();if(t)return t;for(const n of this.children)if(t=n.assembleTitle(),t)return t}assembleLayout(){return null}assembleMarks(){return _vn(this,this.children.flatMap(t=>t.assembleMarks()))}assembleLegends(){return this.children.reduce((t,n)=>t.concat(n.assembleLegends()),FHe(this))}}function Bue(e,t,n,r,i){if(cz(e))return new Uk(e,t,n,i);if(yz(e))return new Que(e,t,n,r,i);if(Vg(e))return new lZe(e,t,n,r,i);if(c0n(e))return new pOn(e,t,n,i);throw new Error(Lce(e))}function KOn(e,t={}){t.logger&&Pmn(t.logger),t.fieldTitle&&uXe(t.fieldTitle);try{const n=jXe(iC(t.config,e.config)),r=YXe(e,n),i=Bue(r,null,"",void 0,n);return i.parse(),wbn(i.component.data,i),{spec:exn(i,JOn(e,r.autosize,n,i),e.datasets,e.usermeta),normalized:r}}finally{t.logger&&Rmn(),t.fieldTitle&&Pyn()}}function JOn(e,t,n,r){const i=r.component.layoutSize.get("width"),o=r.component.layoutSize.get("height");if(t===void 0?(t={type:"pad"},r.hasAxisOrientSignalRef()&&(t.resize=!0)):at(t)&&(t={type:t}),i&&o&&mvn(t.type)){if(i==="step"&&o==="step")He(nSe()),t.type="pad";else if(i==="step"||o==="step"){const s=i==="step"?"width":"height";He(nSe(nz(s)));const a=s==="width"?"height":"width";t.type=yvn(a)}}return{...Ue(t).length===1&&t.type?t.type==="pad"?{}:{autosize:t.type}:{autosize:t},...TSe(n,!1),...TSe(e,!0)}}function exn(e,t,n={},r){const i=e.config?S0n(e.config):void 0,o=[].concat(e.assembleSelectionData([]),rOn(e.component.data,n)),s=e.assembleProjections(),a=e.assembleTitle(),l=e.assembleGroupStyle(),c=e.assembleGroupEncodeEntry(!0);let u=e.assembleLayoutSignals();u=u.filter(h=>(h.name==="width"||h.name==="height")&&h.value!==void 0?(t[h.name]=+h.value,!1):!0);const{params:f,...d}=t;return{$schema:"https://vega.github.io/schema/vega/v5.json",...e.description?{description:e.description}:{},...d,...a?{title:a}:{},...l?{style:l}:{},...c?{encode:{update:c}}:{},data:o,...s.length>0?{projections:s}:{},...e.assembleGroup([...u,...e.assembleSelectionTopLevelSignals([]),...NXe(f)]),...i?{config:i}:{},...r?{usermeta:r}:{}}}const txn=Jpn.version,nxn=Object.freeze(Object.defineProperty({__proto__:null,accessPathDepth:ES,accessPathWithDatum:Hie,compile:KOn,contains:kn,deepEqual:$c,deleteNestedProperty:B3,duplicate:qt,entries:t0,every:qie,fieldIntersection:Xie,flatAccessWithDatum:B6e,getFirstDefined:to,hasIntersection:Yie,hash:Rn,internalField:U6e,isBoolean:S2,isEmpty:Cr,isEqual:q7t,isInternalField:q6e,isNullOrFalse:vH,isNumeric:f7,keys:Ue,logicalExpr:Ek,mergeDeep:z6e,never:F6e,normalize:YXe,normalizeAngle:_2,omit:Nl,pick:$S,prefixGenerator:bH,removePathFromField:Zie,replaceAll:lb,replacePathInField:Fu,resetIdCounter:X7t,setEqual:Q6e,some:ab,stringify:$r,titleCase:OR,unique:eh,uniqueId:V6e,vals:Is,varName:yi,version:txn},Symbol.toStringTag,{value:"Module"}));function cZe(e){const[t,n]=/schema\/([\w-]+)\/([\w\.\-]+)\.json$/g.exec(e).slice(1,3);return{library:t,version:n}}var rxn="vega-themes",ixn="2.14.0",oxn="Themes for stylized Vega and Vega-Lite visualizations.",sxn=["vega","vega-lite","themes","style"],axn="BSD-3-Clause",lxn={name:"UW Interactive Data Lab",url:"https://idl.cs.washington.edu"},cxn=[{name:"Emily Gu",url:"https://github.com/emilygu"},{name:"Arvind Satyanarayan",url:"http://arvindsatya.com"},{name:"Jeffrey Heer",url:"https://idl.cs.washington.edu"},{name:"Dominik Moritz",url:"https://www.domoritz.de"}],uxn="build/vega-themes.js",fxn="build/vega-themes.module.js",dxn="build/vega-themes.min.js",hxn="build/vega-themes.min.js",pxn="build/vega-themes.module.d.ts",gxn={type:"git",url:"https://github.com/vega/vega-themes.git"},mxn=["src","build"],yxn={prebuild:"yarn clean",build:"rollup -c",clean:"rimraf build && rimraf examples/build","copy:data":"rsync -r node_modules/vega-datasets/data/* examples/data","copy:build":"rsync -r build/* examples/build","deploy:gh":"yarn build && mkdir -p examples/build && rsync -r build/* examples/build && gh-pages -d examples",preversion:"yarn lint",serve:"browser-sync start -s -f build examples --serveStatic examples",start:"yarn build && concurrently --kill-others -n Server,Rollup 'yarn serve' 'rollup -c -w'",format:"eslint . --fix",lint:"eslint .",release:"release-it"},vxn={"@babel/core":"^7.22.9","@babel/plugin-proposal-async-generator-functions":"^7.20.7","@babel/plugin-proposal-json-strings":"^7.18.6","@babel/plugin-proposal-object-rest-spread":"^7.20.7","@babel/plugin-proposal-optional-catch-binding":"^7.18.6","@babel/plugin-transform-runtime":"^7.22.9","@babel/preset-env":"^7.22.9","@babel/preset-typescript":"^7.22.5","@release-it/conventional-changelog":"^7.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.1.0","@rollup/plugin-terser":"^0.4.3","@typescript-eslint/eslint-plugin":"^6.0.0","@typescript-eslint/parser":"^6.0.0","browser-sync":"^2.29.3",concurrently:"^8.2.0",eslint:"^8.45.0","eslint-config-prettier":"^8.8.0","eslint-plugin-prettier":"^5.0.0","gh-pages":"^5.0.0",prettier:"^3.0.0","release-it":"^16.1.0",rollup:"^3.26.2","rollup-plugin-bundle-size":"^1.0.3","rollup-plugin-ts":"^3.2.0",typescript:"^5.1.6",vega:"^5.25.0","vega-lite":"^5.9.3"},bxn={vega:"*","vega-lite":"*"},Oxn={},xxn={name:rxn,version:ixn,description:oxn,keywords:sxn,license:axn,author:lxn,contributors:cxn,main:uxn,module:fxn,unpkg:dxn,jsdelivr:hxn,types:pxn,repository:gxn,files:mxn,scripts:yxn,devDependencies:vxn,peerDependencies:bxn,dependencies:Oxn};const tx="#fff",s_e="#888",wxn={background:"#333",view:{stroke:s_e},title:{color:tx,subtitleColor:tx},style:{"guide-label":{fill:tx},"guide-title":{fill:tx}},axis:{domainColor:tx,gridColor:s_e,tickColor:tx}},ov="#4572a7",Sxn={background:"#fff",arc:{fill:ov},area:{fill:ov},line:{stroke:ov,strokeWidth:2},path:{stroke:ov},rect:{fill:ov},shape:{stroke:ov},symbol:{fill:ov,strokeWidth:1.5,size:50},axis:{bandPosition:.5,grid:!0,gridColor:"#000000",gridOpacity:1,gridWidth:.5,labelPadding:10,tickSize:5,tickWidth:.5},axisBand:{grid:!1,tickExtra:!0},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:50,symbolType:"square"},range:{category:["#4572a7","#aa4643","#8aa453","#71598e","#4598ae","#d98445","#94aace","#d09393","#b9cc98","#a99cbc"]}},sv="#30a2da",NV="#cbcbcb",_xn="#999",Cxn="#333",a_e="#f0f0f0",l_e="#333",$xn={arc:{fill:sv},area:{fill:sv},axis:{domainColor:NV,grid:!0,gridColor:NV,gridWidth:1,labelColor:_xn,labelFontSize:10,titleColor:Cxn,tickColor:NV,tickSize:10,titleFontSize:14,titlePadding:10,labelPadding:4},axisBand:{grid:!1},background:a_e,group:{fill:a_e},legend:{labelColor:l_e,labelFontSize:11,padding:1,symbolSize:30,symbolType:"square",titleColor:l_e,titleFontSize:14,titlePadding:10},line:{stroke:sv,strokeWidth:2},path:{stroke:sv,strokeWidth:.5},rect:{fill:sv},range:{category:["#30a2da","#fc4f30","#e5ae38","#6d904f","#8b8b8b","#b96db8","#ff9e27","#56cc60","#52d2ca","#52689e","#545454","#9fe4f8"],diverging:["#cc0020","#e77866","#f6e7e1","#d6e8ed","#91bfd9","#1d78b5"],heatmap:["#d6e8ed","#cee0e5","#91bfd9","#549cc6","#1d78b5"]},point:{filled:!0,shape:"circle"},shape:{stroke:sv},bar:{binSpacing:2,fill:sv,stroke:null},title:{anchor:"start",fontSize:24,fontWeight:600,offset:20}},av="#000",Exn={group:{fill:"#e5e5e5"},arc:{fill:av},area:{fill:av},line:{stroke:av},path:{stroke:av},rect:{fill:av},shape:{stroke:av},symbol:{fill:av,size:40},axis:{domain:!1,grid:!0,gridColor:"#FFFFFF",gridOpacity:1,labelColor:"#7F7F7F",labelPadding:4,tickColor:"#7F7F7F",tickSize:5.67,titleFontSize:16,titleFontWeight:"normal"},legend:{labelBaseline:"middle",labelFontSize:11,symbolSize:40},range:{category:["#000000","#7F7F7F","#1A1A1A","#999999","#333333","#B0B0B0","#4D4D4D","#C9C9C9","#666666","#DCDCDC"]}},kxn=22,Txn="normal",c_e="Benton Gothic, sans-serif",u_e=11.5,Pxn="normal",lv="#82c6df",MV="Benton Gothic Bold, sans-serif",f_e="normal",d_e=13,j$={"category-6":["#ec8431","#829eb1","#c89d29","#3580b1","#adc839","#ab7fb4"],"fire-7":["#fbf2c7","#f9e39c","#f8d36e","#f4bb6a","#e68a4f","#d15a40","#ab4232"],"fireandice-6":["#e68a4f","#f4bb6a","#f9e39c","#dadfe2","#a6b7c6","#849eae"],"ice-7":["#edefee","#dadfe2","#c4ccd2","#a6b7c6","#849eae","#607785","#47525d"]},Rxn={background:"#ffffff",title:{anchor:"start",color:"#000000",font:MV,fontSize:kxn,fontWeight:Txn},arc:{fill:lv},area:{fill:lv},line:{stroke:lv,strokeWidth:2},path:{stroke:lv},rect:{fill:lv},shape:{stroke:lv},symbol:{fill:lv,size:30},axis:{labelFont:c_e,labelFontSize:u_e,labelFontWeight:Pxn,titleFont:MV,titleFontSize:d_e,titleFontWeight:f_e},axisX:{labelAngle:0,labelPadding:4,tickSize:3},axisY:{labelBaseline:"middle",maxExtent:45,minExtent:45,tickSize:2,titleAlign:"left",titleAngle:0,titleX:-45,titleY:-11},legend:{labelFont:c_e,labelFontSize:u_e,symbolType:"square",titleFont:MV,titleFontSize:d_e,titleFontWeight:f_e},range:{category:j$["category-6"],diverging:j$["fireandice-6"],heatmap:j$["fire-7"],ordinal:j$["fire-7"],ramp:j$["fire-7"]}},cv="#ab5787",BN="#979797",Axn={background:"#f9f9f9",arc:{fill:cv},area:{fill:cv},line:{stroke:cv},path:{stroke:cv},rect:{fill:cv},shape:{stroke:cv},symbol:{fill:cv,size:30},axis:{domainColor:BN,domainWidth:.5,gridWidth:.2,labelColor:BN,tickColor:BN,tickWidth:.2,titleColor:BN},axisBand:{grid:!1},axisX:{grid:!0,tickSize:10},axisY:{domain:!1,grid:!0,tickSize:0},legend:{labelFontSize:11,padding:1,symbolSize:30,symbolType:"square"},range:{category:["#ab5787","#51b2e5","#703c5c","#168dd9","#d190b6","#00609f","#d365ba","#154866","#666666","#c4c4c4"]}},uv="#3e5c69",Dxn={background:"#fff",arc:{fill:uv},area:{fill:uv},line:{stroke:uv},path:{stroke:uv},rect:{fill:uv},shape:{stroke:uv},symbol:{fill:uv},axis:{domainWidth:.5,grid:!0,labelPadding:2,tickSize:5,tickWidth:.5,titleFontWeight:"normal"},axisBand:{grid:!1},axisX:{gridWidth:.2},axisY:{gridDash:[3],gridWidth:.4},legend:{labelFontSize:11,padding:1,symbolType:"square"},range:{category:["#3e5c69","#6793a6","#182429","#0570b0","#3690c0","#74a9cf","#a6bddb","#e2ddf2"]}},Zc="#1696d2",h_e="#000000",Nxn="#FFFFFF",WN="Lato",IV="Lato",Mxn="Lato",Ixn="#DEDDDD",Lxn=18,F$={"main-colors":["#1696d2","#d2d2d2","#000000","#fdbf11","#ec008b","#55b748","#5c5859","#db2b27"],"shades-blue":["#CFE8F3","#A2D4EC","#73BFE2","#46ABDB","#1696D2","#12719E","#0A4C6A","#062635"],"shades-gray":["#F5F5F5","#ECECEC","#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],"shades-yellow":["#FFF2CF","#FCE39E","#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],"shades-magenta":["#F5CBDF","#EB99C2","#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"],"shades-green":["#DCEDD9","#BCDEB4","#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],"shades-black":["#D5D5D4","#ADABAC","#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],"shades-red":["#F8D5D4","#F1AAA9","#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],"one-group":["#1696d2","#000000"],"two-groups-cat-1":["#1696d2","#000000"],"two-groups-cat-2":["#1696d2","#fdbf11"],"two-groups-cat-3":["#1696d2","#db2b27"],"two-groups-seq":["#a2d4ec","#1696d2"],"three-groups-cat":["#1696d2","#fdbf11","#000000"],"three-groups-seq":["#a2d4ec","#1696d2","#0a4c6a"],"four-groups-cat-1":["#000000","#d2d2d2","#fdbf11","#1696d2"],"four-groups-cat-2":["#1696d2","#ec0008b","#fdbf11","#5c5859"],"four-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a"],"five-groups-cat-1":["#1696d2","#fdbf11","#d2d2d2","#ec008b","#000000"],"five-groups-cat-2":["#1696d2","#0a4c6a","#d2d2d2","#fdbf11","#332d2f"],"five-groups-seq":["#cfe8f3","#73bf42","#1696d2","#0a4c6a","#000000"],"six-groups-cat-1":["#1696d2","#ec008b","#fdbf11","#000000","#d2d2d2","#55b748"],"six-groups-cat-2":["#1696d2","#d2d2d2","#ec008b","#fdbf11","#332d2f","#0a4c6a"],"six-groups-seq":["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],"diverging-colors":["#ca5800","#fdbf11","#fdd870","#fff2cf","#cfe8f3","#73bfe2","#1696d2","#0a4c6a"]},jxn={background:Nxn,title:{anchor:"start",fontSize:Lxn,font:WN},axisX:{domain:!0,domainColor:h_e,domainWidth:1,grid:!1,labelFontSize:12,labelFont:IV,labelAngle:0,tickColor:h_e,tickSize:5,titleFontSize:12,titlePadding:10,titleFont:WN},axisY:{domain:!1,domainWidth:1,grid:!0,gridColor:Ixn,gridWidth:1,labelFontSize:12,labelFont:IV,labelPadding:8,ticks:!1,titleFontSize:12,titlePadding:10,titleFont:WN,titleAngle:0,titleY:-10,titleX:18},legend:{labelFontSize:12,labelFont:IV,symbolSize:100,titleFontSize:12,titlePadding:10,titleFont:WN,orient:"right",offset:10},view:{stroke:"transparent"},range:{category:F$["six-groups-cat-1"],diverging:F$["diverging-colors"],heatmap:F$["diverging-colors"],ordinal:F$["six-groups-seq"],ramp:F$["shades-blue"]},area:{fill:Zc},rect:{fill:Zc},line:{color:Zc,stroke:Zc,strokeWidth:5},trail:{color:Zc,stroke:Zc,strokeWidth:0,size:1},path:{stroke:Zc,strokeWidth:.5},point:{filled:!0},text:{font:Mxn,color:Zc,fontSize:11,align:"center",fontWeight:400,size:11},style:{bar:{fill:Zc,stroke:null}},arc:{fill:Zc},shape:{stroke:Zc},symbol:{fill:Zc,size:30}},fv="#3366CC",p_e="#ccc",VN="Arial, sans-serif",Fxn={arc:{fill:fv},area:{fill:fv},path:{stroke:fv},rect:{fill:fv},shape:{stroke:fv},symbol:{stroke:fv},circle:{fill:fv},background:"#fff",padding:{top:10,right:10,bottom:10,left:10},style:{"guide-label":{font:VN,fontSize:12},"guide-title":{font:VN,fontSize:12},"group-title":{font:VN,fontSize:12}},title:{font:VN,fontSize:14,fontWeight:"bold",dy:-3,anchor:"start"},axis:{gridColor:p_e,tickColor:p_e,domain:!1,grid:!0},range:{category:["#4285F4","#DB4437","#F4B400","#0F9D58","#AB47BC","#00ACC1","#FF7043","#9E9D24","#5C6BC0","#F06292","#00796B","#C2185B"],heatmap:["#c6dafc","#5e97f6","#2a56c6"]}},Wue=e=>e*(1/3+1),g_e=Wue(9),m_e=Wue(10),y_e=Wue(12),z$="Segoe UI",v_e="wf_standard-font, helvetica, arial, sans-serif",b_e="#252423",Q$="#605E5C",O_e="transparent",zxn="#C8C6C4",af="#118DFF",Qxn="#12239E",Bxn="#E66C37",Wxn="#6B007B",Vxn="#E044A7",Uxn="#744EC2",qxn="#D9B300",Yxn="#D64550",uZe=af,fZe="#DEEFFF",x_e=[fZe,uZe],Xxn=[fZe,"#c7e4ff","#b0d9ff","#9aceff","#83c3ff","#6cb9ff","#55aeff","#3fa3ff","#2898ff",uZe],Hxn={view:{stroke:O_e},background:O_e,font:z$,header:{titleFont:v_e,titleFontSize:y_e,titleColor:b_e,labelFont:z$,labelFontSize:m_e,labelColor:Q$},axis:{ticks:!1,grid:!1,domain:!1,labelColor:Q$,labelFontSize:g_e,titleFont:v_e,titleColor:b_e,titleFontSize:y_e,titleFontWeight:"normal"},axisQuantitative:{tickCount:3,grid:!0,gridColor:zxn,gridDash:[1,5],labelFlush:!1},axisBand:{tickExtra:!0},axisX:{labelPadding:5},axisY:{labelPadding:10},bar:{fill:af},line:{stroke:af,strokeWidth:3,strokeCap:"round",strokeJoin:"round"},text:{font:z$,fontSize:g_e,fill:Q$},arc:{fill:af},area:{fill:af,line:!0,opacity:.6},path:{stroke:af},rect:{fill:af},point:{fill:af,filled:!0,size:75},shape:{stroke:af},symbol:{fill:af,strokeWidth:1.5,size:50},legend:{titleFont:z$,titleFontWeight:"bold",titleColor:Q$,labelFont:z$,labelFontSize:m_e,labelColor:Q$,symbolType:"circle",symbolSize:75},range:{category:[af,Qxn,Bxn,Wxn,Vxn,Uxn,qxn,Yxn],diverging:x_e,heatmap:x_e,ordinal:Xxn}},LV='IBM Plex Sans,system-ui,-apple-system,BlinkMacSystemFont,".sfnstext-regular",sans-serif',w_e=400,Zxn=["#8a3ffc","#33b1ff","#007d79","#ff7eb6","#fa4d56","#fff1f1","#6fdc8c","#4589ff","#d12771","#d2a106","#08bdba","#bae6ff","#ba4e00","#d4bbff"],Gxn=["#6929c4","#1192e8","#005d5d","#9f1853","#fa4d56","#570408","#198038","#002d9c","#ee538b","#b28600","#009d9a","#012749","#8a3800","#a56eff"];function Iz({type:e,background:t}){const n=e==="dark"?"#161616":"#ffffff",r=e==="dark"?"#f4f4f4":"#161616",i=e==="dark"?Zxn:Gxn,o=e==="dark"?"#d4bbff":"#6929c4";return{background:t,arc:{fill:o},area:{fill:o},path:{stroke:o},rect:{fill:o},shape:{stroke:o},symbol:{stroke:o},circle:{fill:o},view:{fill:n,stroke:n},group:{fill:n},title:{color:r,anchor:"start",dy:-15,fontSize:16,font:LV,fontWeight:600},axis:{labelColor:r,labelFontSize:12,grid:!0,gridColor:"#525252",titleColor:r,labelAngle:0},style:{"guide-label":{font:LV,fill:r,fontWeight:w_e},"guide-title":{font:LV,fill:r,fontWeight:w_e}},range:{category:i,diverging:["#750e13","#a2191f","#da1e28","#fa4d56","#ff8389","#ffb3b8","#ffd7d9","#fff1f1","#e5f6ff","#bae6ff","#82cfff","#33b1ff","#1192e8","#0072c3","#00539a","#003a6d"],heatmap:["#f6f2ff","#e8daff","#d4bbff","#be95ff","#a56eff","#8a3ffc","#6929c4","#491d8b","#31135e","#1c0f30"]}}}const Kxn=Iz({type:"light",background:"#ffffff"}),Jxn=Iz({type:"light",background:"#f4f4f4"}),ewn=Iz({type:"dark",background:"#262626"}),twn=Iz({type:"dark",background:"#161616"}),nwn=xxn.version,rwn=Object.freeze(Object.defineProperty({__proto__:null,carbong10:Jxn,carbong100:twn,carbong90:ewn,carbonwhite:Kxn,dark:wxn,excel:Sxn,fivethirtyeight:$xn,ggplot2:Exn,googlecharts:Fxn,latimes:Rxn,powerbi:Hxn,quartz:Axn,urbaninstitute:jxn,version:nwn,vox:Dxn},Symbol.toStringTag,{value:"Module"}));function iwn(e,t,n){if(Me(e))return`[${e.map(r=>t(at(r)?r:S_e(r,n))).join(", ")}]`;if(ut(e)){let r="";const{title:i,image:o,...s}=e;i&&(r+=`<h2>${t(i)}</h2>`),o&&(r+=`<img src="${t(o)}">`);const a=Object.keys(s);if(a.length>0){r+="<table>";for(const l of a){let c=s[l];c!==void 0&&(ut(c)&&(c=S_e(c,n)),r+=`<tr><td class="key">${t(l)}</td><td class="value">${t(c)}</td></tr>`)}r+="</table>"}return r||"{}"}return t(e)}function own(e){const t=[];return function(n,r){if(typeof r!="object"||r===null)return r;const i=t.indexOf(this)+1;return t.length=i,t.length>e?"[Object]":t.indexOf(r)>=0?"[Circular]":(t.push(r),r)}}function S_e(e,t){return JSON.stringify(e,own(t))}var swn=`#vg-tooltip-element {
  visibility: hidden;
  padding: 8px;
  position: fixed;
  z-index: 1000;
  font-family: sans-serif;
  font-size: 11px;
  border-radius: 3px;
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  /* The default theme is the light theme. */
  background-color: rgba(255, 255, 255, 0.95);
  border: 1px solid #d9d9d9;
  color: black;
}
#vg-tooltip-element.visible {
  visibility: visible;
}
#vg-tooltip-element h2 {
  margin-top: 0;
  margin-bottom: 10px;
  font-size: 13px;
}
#vg-tooltip-element table {
  border-spacing: 0;
}
#vg-tooltip-element table tr {
  border: none;
}
#vg-tooltip-element table tr td {
  overflow: hidden;
  text-overflow: ellipsis;
  padding-top: 2px;
  padding-bottom: 2px;
}
#vg-tooltip-element table tr td.key {
  color: #808080;
  max-width: 150px;
  text-align: right;
  padding-right: 4px;
}
#vg-tooltip-element table tr td.value {
  display: block;
  max-width: 300px;
  max-height: 7em;
  text-align: left;
}
#vg-tooltip-element.dark-theme {
  background-color: rgba(32, 32, 32, 0.9);
  border: 1px solid #f5f5f5;
  color: white;
}
#vg-tooltip-element.dark-theme td.key {
  color: #bfbfbf;
}
`;const dZe="vg-tooltip-element",awn={offsetX:10,offsetY:10,id:dZe,styleId:"vega-tooltip-style",theme:"light",disableDefaultStyle:!1,sanitize:lwn,maxDepth:2,formatTooltip:iwn};function lwn(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;")}function cwn(e){if(!/^[A-Za-z]+[-:.\w]*$/.test(e))throw new Error("Invalid HTML ID");return swn.toString().replace(dZe,e)}function uwn(e,t,n,r){let i=e.clientX+n;i+t.width>window.innerWidth&&(i=+e.clientX-n-t.width);let o=e.clientY+r;return o+t.height>window.innerHeight&&(o=+e.clientY-r-t.height),{x:i,y:o}}class fwn{constructor(t){this.options={...awn,...t};const n=this.options.id;if(this.el=null,this.call=this.tooltipHandler.bind(this),!this.options.disableDefaultStyle&&!document.getElementById(this.options.styleId)){const r=document.createElement("style");r.setAttribute("id",this.options.styleId),r.innerHTML=cwn(n);const i=document.head;i.childNodes.length>0?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}tooltipHandler(t,n,r,i){if(this.el=document.getElementById(this.options.id),this.el||(this.el=document.createElement("div"),this.el.setAttribute("id",this.options.id),this.el.classList.add("vg-tooltip"),(document.fullscreenElement??document.body).appendChild(this.el)),i==null||i===""){this.el.classList.remove("visible",`${this.options.theme}-theme`);return}this.el.innerHTML=this.options.formatTooltip(i,this.options.sanitize,this.options.maxDepth),this.el.classList.add("visible",`${this.options.theme}-theme`);const{x:o,y:s}=uwn(n,this.el.getBoundingClientRect(),this.options.offsetX,this.options.offsetY);this.el.style.top=`${s}px`,this.el.style.left=`${o}px`}}var jV={};function sP(e){"@babel/helpers - typeof";return sP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sP(e)}function dwn(e,t){if(sP(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(sP(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hwn(e){var t=dwn(e,"string");return sP(t)==="symbol"?t:String(t)}function pwn(e,t,n){return t=hwn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gwn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var FV,__e;function mwn(){return __e||(__e=1,FV=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}),FV}var ywn=Jn;Jn.Node=Rb;Jn.create=Jn;function Jn(e){var t=this;if(t instanceof Jn||(t=new Jn),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(i){t.push(i)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)t.push(arguments[n]);return t}Jn.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t};Jn.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};Jn.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};Jn.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)bwn(this,arguments[e]);return this.length};Jn.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)Own(this,arguments[e]);return this.length};Jn.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};Jn.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};Jn.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;n!==null;r++)e.call(t,n.value,r,this),n=n.next};Jn.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;n!==null;r--)e.call(t,n.value,r,this),n=n.prev};Jn.prototype.get=function(e){for(var t=0,n=this.head;n!==null&&t<e;t++)n=n.next;if(t===e&&n!==null)return n.value};Jn.prototype.getReverse=function(e){for(var t=0,n=this.tail;n!==null&&t<e;t++)n=n.prev;if(t===e&&n!==null)return n.value};Jn.prototype.map=function(e,t){t=t||this;for(var n=new Jn,r=this.head;r!==null;)n.push(e.call(t,r.value,this)),r=r.next;return n};Jn.prototype.mapReverse=function(e,t){t=t||this;for(var n=new Jn,r=this.tail;r!==null;)n.push(e.call(t,r.value,this)),r=r.prev;return n};Jn.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)n=e(n,r.value,i),r=r.next;return n};Jn.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)n=e(n,r.value,i),r=r.prev;return n};Jn.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;n!==null;t++)e[t]=n.value,n=n.next;return e};Jn.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;n!==null;t++)e[t]=n.value,n=n.prev;return e};Jn.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new Jn;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(;i!==null&&r<t;r++,i=i.next)n.push(i.value);return n};Jn.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var n=new Jn;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var r=this.length,i=this.tail;i!==null&&r>t;r--)i=i.prev;for(;i!==null&&r>e;r--,i=i.prev)n.push(i.value);return n};Jn.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,i=this.head;i!==null&&r<e;r++)i=i.next;for(var o=[],r=0;i&&r<t;r++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<n.length;r++)i=vwn(this,i,n[r]);return o};Jn.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};function vwn(e,t,n){var r=t===e.head?new Rb(n,null,t,e):new Rb(n,t,t.next,e);return r.next===null&&(e.tail=r),r.prev===null&&(e.head=r),e.length++,r}function bwn(e,t){e.tail=new Rb(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function Own(e,t){e.head=new Rb(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function Rb(e,t,n,r){if(!(this instanceof Rb))return new Rb(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{mwn()(Jn)}catch{}const xwn=ywn,Bv=Symbol("max"),Ep=Symbol("length"),nx=Symbol("lengthCalculator"),qk=Symbol("allowStale"),r1=Symbol("maxAge"),xp=Symbol("dispose"),C_e=Symbol("noDisposeOnSet"),Go=Symbol("lruList"),cf=Symbol("cache"),hZe=Symbol("updateAgeOnGet"),zV=()=>1;let wwn=class{constructor(t){if(typeof t=="number"&&(t={max:t}),t||(t={}),t.max&&(typeof t.max!="number"||t.max<0))throw new TypeError("max must be a non-negative number");this[Bv]=t.max||1/0;const n=t.length||zV;if(this[nx]=typeof n!="function"?zV:n,this[qk]=t.stale||!1,t.maxAge&&typeof t.maxAge!="number")throw new TypeError("maxAge must be a number");this[r1]=t.maxAge||0,this[xp]=t.dispose,this[C_e]=t.noDisposeOnSet||!1,this[hZe]=t.updateAgeOnGet||!1,this.reset()}set max(t){if(typeof t!="number"||t<0)throw new TypeError("max must be a non-negative number");this[Bv]=t||1/0,B$(this)}get max(){return this[Bv]}set allowStale(t){this[qk]=!!t}get allowStale(){return this[qk]}set maxAge(t){if(typeof t!="number")throw new TypeError("maxAge must be a non-negative number");this[r1]=t,B$(this)}get maxAge(){return this[r1]}set lengthCalculator(t){typeof t!="function"&&(t=zV),t!==this[nx]&&(this[nx]=t,this[Ep]=0,this[Go].forEach(n=>{n.length=this[nx](n.value,n.key),this[Ep]+=n.length})),B$(this)}get lengthCalculator(){return this[nx]}get length(){return this[Ep]}get itemCount(){return this[Go].length}rforEach(t,n){n=n||this;for(let r=this[Go].tail;r!==null;){const i=r.prev;$_e(this,t,r,n),r=i}}forEach(t,n){n=n||this;for(let r=this[Go].head;r!==null;){const i=r.next;$_e(this,t,r,n),r=i}}keys(){return this[Go].toArray().map(t=>t.key)}values(){return this[Go].toArray().map(t=>t.value)}reset(){this[xp]&&this[Go]&&this[Go].length&&this[Go].forEach(t=>this[xp](t.key,t.value)),this[cf]=new Map,this[Go]=new xwn,this[Ep]=0}dump(){return this[Go].map(t=>Vj(this,t)?!1:{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[Go]}set(t,n,r){if(r=r||this[r1],r&&typeof r!="number")throw new TypeError("maxAge must be a number");const i=r?Date.now():0,o=this[nx](n,t);if(this[cf].has(t)){if(o>this[Bv])return Qw(this,this[cf].get(t)),!1;const l=this[cf].get(t).value;return this[xp]&&(this[C_e]||this[xp](t,l.value)),l.now=i,l.maxAge=r,l.value=n,this[Ep]+=o-l.length,l.length=o,this.get(t),B$(this),!0}const s=new Swn(t,n,o,i,r);return s.length>this[Bv]?(this[xp]&&this[xp](t,n),!1):(this[Ep]+=s.length,this[Go].unshift(s),this[cf].set(t,this[Go].head),B$(this),!0)}has(t){if(!this[cf].has(t))return!1;const n=this[cf].get(t).value;return!Vj(this,n)}get(t){return QV(this,t,!0)}peek(t){return QV(this,t,!1)}pop(){const t=this[Go].tail;return t?(Qw(this,t),t.value):null}del(t){Qw(this,this[cf].get(t))}load(t){this.reset();const n=Date.now();for(let r=t.length-1;r>=0;r--){const i=t[r],o=i.e||0;if(o===0)this.set(i.k,i.v);else{const s=o-n;s>0&&this.set(i.k,i.v,s)}}}prune(){this[cf].forEach((t,n)=>QV(this,n,!1))}};const QV=(e,t,n)=>{const r=e[cf].get(t);if(r){const i=r.value;if(Vj(e,i)){if(Qw(e,r),!e[qk])return}else n&&(e[hZe]&&(r.value.now=Date.now()),e[Go].unshiftNode(r));return i.value}},Vj=(e,t)=>{if(!t||!t.maxAge&&!e[r1])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[r1]&&n>e[r1]},B$=e=>{if(e[Ep]>e[Bv])for(let t=e[Go].tail;e[Ep]>e[Bv]&&t!==null;){const n=t.prev;Qw(e,t),t=n}},Qw=(e,t)=>{if(t){const n=t.value;e[xp]&&e[xp](n.key,n.value),e[Ep]-=n.length,e[cf].delete(n.key),e[Go].removeNode(t)}};class Swn{constructor(t,n,r,i,o){this.key=t,this.value=n,this.length=r,this.now=i,this.maxAge=o||0}}const $_e=(e,t,n,r)=>{let i=n.value;Vj(e,i)&&(Qw(e,n),e[qk]||(i=void 0)),i&&t.call(r,i.value,i.key,e)};var _wn=wwn;const Cwn=Object.freeze({loose:!0}),$wn=Object.freeze({}),Ewn=e=>e?typeof e!="object"?Cwn:e:$wn;var Vue=Ewn,NG={exports:{}};const kwn="2.0.0",pZe=256,Twn=Number.MAX_SAFE_INTEGER||9007199254740991,Pwn=16,Rwn=pZe-6,Awn=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Uue={MAX_LENGTH:pZe,MAX_SAFE_COMPONENT_LENGTH:Pwn,MAX_SAFE_BUILD_LENGTH:Rwn,MAX_SAFE_INTEGER:Twn,RELEASE_TYPES:Awn,SEMVER_SPEC_VERSION:kwn,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const Dwn=typeof process=="object"&&jV&&jV.NODE_DEBUG&&/\bsemver\b/i.test(jV.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var Lz=Dwn;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:i}=Uue,o=Lz;t=e.exports={};const s=t.re=[],a=t.safeRe=[],l=t.src=[],c=t.t={};let u=0;const f="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",i],[f,r]],h=g=>{for(const[y,v]of d)g=g.split(`${y}*`).join(`${y}{0,${v}}`).split(`${y}+`).join(`${y}{1,${v}}`);return g},p=(g,y,v)=>{const x=h(y),m=u++;o(g,m,y),c[g]=m,l[m]=y,s[m]=new RegExp(y,v?"g":void 0),a[m]=new RegExp(x,v?"g":void 0)};p("NUMERICIDENTIFIER","0|[1-9]\\d*"),p("NUMERICIDENTIFIERLOOSE","\\d+"),p("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),p("MAINVERSION",`(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})\\.(${l[c.NUMERICIDENTIFIER]})`),p("MAINVERSIONLOOSE",`(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})\\.(${l[c.NUMERICIDENTIFIERLOOSE]})`),p("PRERELEASEIDENTIFIER",`(?:${l[c.NUMERICIDENTIFIER]}|${l[c.NONNUMERICIDENTIFIER]})`),p("PRERELEASEIDENTIFIERLOOSE",`(?:${l[c.NUMERICIDENTIFIERLOOSE]}|${l[c.NONNUMERICIDENTIFIER]})`),p("PRERELEASE",`(?:-(${l[c.PRERELEASEIDENTIFIER]}(?:\\.${l[c.PRERELEASEIDENTIFIER]})*))`),p("PRERELEASELOOSE",`(?:-?(${l[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[c.PRERELEASEIDENTIFIERLOOSE]})*))`),p("BUILDIDENTIFIER",`${f}+`),p("BUILD",`(?:\\+(${l[c.BUILDIDENTIFIER]}(?:\\.${l[c.BUILDIDENTIFIER]})*))`),p("FULLPLAIN",`v?${l[c.MAINVERSION]}${l[c.PRERELEASE]}?${l[c.BUILD]}?`),p("FULL",`^${l[c.FULLPLAIN]}$`),p("LOOSEPLAIN",`[v=\\s]*${l[c.MAINVERSIONLOOSE]}${l[c.PRERELEASELOOSE]}?${l[c.BUILD]}?`),p("LOOSE",`^${l[c.LOOSEPLAIN]}$`),p("GTLT","((?:<|>)?=?)"),p("XRANGEIDENTIFIERLOOSE",`${l[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),p("XRANGEIDENTIFIER",`${l[c.NUMERICIDENTIFIER]}|x|X|\\*`),p("XRANGEPLAIN",`[v=\\s]*(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:\\.(${l[c.XRANGEIDENTIFIER]})(?:${l[c.PRERELEASE]})?${l[c.BUILD]}?)?)?`),p("XRANGEPLAINLOOSE",`[v=\\s]*(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[c.XRANGEIDENTIFIERLOOSE]})(?:${l[c.PRERELEASELOOSE]})?${l[c.BUILD]}?)?)?`),p("XRANGE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAIN]}$`),p("XRANGELOOSE",`^${l[c.GTLT]}\\s*${l[c.XRANGEPLAINLOOSE]}$`),p("COERCE",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?(?:$|[^\\d])`),p("COERCERTL",l[c.COERCE],!0),p("LONETILDE","(?:~>?)"),p("TILDETRIM",`(\\s*)${l[c.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",p("TILDE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAIN]}$`),p("TILDELOOSE",`^${l[c.LONETILDE]}${l[c.XRANGEPLAINLOOSE]}$`),p("LONECARET","(?:\\^)"),p("CARETTRIM",`(\\s*)${l[c.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",p("CARET",`^${l[c.LONECARET]}${l[c.XRANGEPLAIN]}$`),p("CARETLOOSE",`^${l[c.LONECARET]}${l[c.XRANGEPLAINLOOSE]}$`),p("COMPARATORLOOSE",`^${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]})$|^$`),p("COMPARATOR",`^${l[c.GTLT]}\\s*(${l[c.FULLPLAIN]})$|^$`),p("COMPARATORTRIM",`(\\s*)${l[c.GTLT]}\\s*(${l[c.LOOSEPLAIN]}|${l[c.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",p("HYPHENRANGE",`^\\s*(${l[c.XRANGEPLAIN]})\\s+-\\s+(${l[c.XRANGEPLAIN]})\\s*$`),p("HYPHENRANGELOOSE",`^\\s*(${l[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[c.XRANGEPLAINLOOSE]})\\s*$`),p("STAR","(<|>)?=?\\s*\\*"),p("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),p("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(NG,NG.exports);var que=NG.exports;const E_e=/^[0-9]+$/,gZe=(e,t)=>{const n=E_e.test(e),r=E_e.test(t);return n&&r&&(e=+e,t=+t),e===t?0:n&&!r?-1:r&&!n?1:e<t?-1:1},Nwn=(e,t)=>gZe(t,e);var Mwn={compareIdentifiers:gZe,rcompareIdentifiers:Nwn};const UN=Lz,{MAX_LENGTH:k_e,MAX_SAFE_INTEGER:qN}=Uue,{safeRe:T_e,t:P_e}=que,Iwn=Vue,{compareIdentifiers:rx}=Mwn;let Lwn=class Dd{constructor(t,n){if(n=Iwn(n),t instanceof Dd){if(t.loose===!!n.loose&&t.includePrerelease===!!n.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>k_e)throw new TypeError(`version is longer than ${k_e} characters`);UN("SemVer",t,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;const r=t.trim().match(n.loose?T_e[P_e.LOOSE]:T_e[P_e.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>qN||this.major<0)throw new TypeError("Invalid major version");if(this.minor>qN||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>qN||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const o=+i;if(o>=0&&o<qN)return o}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(UN("SemVer.compare",this.version,this.options,t),!(t instanceof Dd)){if(typeof t=="string"&&t===this.version)return 0;t=new Dd(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Dd||(t=new Dd(t,this.options)),rx(this.major,t.major)||rx(this.minor,t.minor)||rx(this.patch,t.patch)}comparePre(t){if(t instanceof Dd||(t=new Dd(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let n=0;do{const r=this.prerelease[n],i=t.prerelease[n];if(UN("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return rx(r,i)}while(++n)}compareBuild(t){t instanceof Dd||(t=new Dd(t,this.options));let n=0;do{const r=this.build[n],i=t.build[n];if(UN("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return rx(r,i)}while(++n)}inc(t,n,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let o=[n,i];r===!1&&(o=[n]),rx(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var Yue=Lwn;const R_e=Yue,jwn=(e,t,n)=>new R_e(e,n).compare(new R_e(t,n));var MC=jwn;const Fwn=MC,zwn=(e,t,n)=>Fwn(e,t,n)===0;var Qwn=zwn;const Bwn=MC,Wwn=(e,t,n)=>Bwn(e,t,n)!==0;var Vwn=Wwn;const Uwn=MC,qwn=(e,t,n)=>Uwn(e,t,n)>0;var Ywn=qwn;const Xwn=MC,Hwn=(e,t,n)=>Xwn(e,t,n)>=0;var Zwn=Hwn;const Gwn=MC,Kwn=(e,t,n)=>Gwn(e,t,n)<0;var Jwn=Kwn;const eSn=MC,tSn=(e,t,n)=>eSn(e,t,n)<=0;var nSn=tSn;const rSn=Qwn,iSn=Vwn,oSn=Ywn,sSn=Zwn,aSn=Jwn,lSn=nSn,cSn=(e,t,n,r)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e===n;case"!==":return typeof e=="object"&&(e=e.version),typeof n=="object"&&(n=n.version),e!==n;case"":case"=":case"==":return rSn(e,n,r);case"!=":return iSn(e,n,r);case">":return oSn(e,n,r);case">=":return sSn(e,n,r);case"<":return aSn(e,n,r);case"<=":return lSn(e,n,r);default:throw new TypeError(`Invalid operator: ${t}`)}};var uSn=cSn,BV,A_e;function fSn(){if(A_e)return BV;A_e=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(u,f){if(f=n(f),u instanceof t){if(u.loose===!!f.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),s("comparator",u,f),this.options=f,this.loose=!!f.loose,this.parse(u),this.semver===e?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(u){const f=this.options.loose?r[i.COMPARATORLOOSE]:r[i.COMPARATOR],d=u.match(f);if(!d)throw new TypeError(`Invalid comparator: ${u}`);this.operator=d[1]!==void 0?d[1]:"",this.operator==="="&&(this.operator=""),d[2]?this.semver=new a(d[2],this.options.loose):this.semver=e}toString(){return this.value}test(u){if(s("Comparator.test",u,this.options.loose),this.semver===e||u===e)return!0;if(typeof u=="string")try{u=new a(u,this.options)}catch{return!1}return o(u,this.operator,this.semver,this.options)}intersects(u,f){if(!(u instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(u.value,f).test(this.value):u.operator===""?u.value===""?!0:new l(this.value,f).test(u.semver):(f=n(f),f.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!f.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||o(this.semver,"<",u.semver,f)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||o(this.semver,">",u.semver,f)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}BV=t;const n=Vue,{safeRe:r,t:i}=que,o=uSn,s=Lz,a=Yue,l=mZe();return BV}var WV,D_e;function mZe(){if(D_e)return WV;D_e=1;class e{constructor(T,D){if(D=r(D),T instanceof e)return T.loose===!!D.loose&&T.includePrerelease===!!D.includePrerelease?T:new e(T.raw,D);if(T instanceof i)return this.raw=T.value,this.set=[[T]],this.format(),this;if(this.options=D,this.loose=!!D.loose,this.includePrerelease=!!D.includePrerelease,this.raw=T.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(L=>this.parseRange(L.trim())).filter(L=>L.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const L=this.set[0];if(this.set=this.set.filter(W=>!p(W[0])),this.set.length===0)this.set=[L];else if(this.set.length>1){for(const W of this.set)if(W.length===1&&g(W[0])){this.set=[W];break}}}this.format()}format(){return this.range=this.set.map(T=>T.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(T){const L=((this.options.includePrerelease&&d)|(this.options.loose&&h))+":"+T,W=n.get(L);if(W)return W;const V=this.options.loose,Q=V?a[l.HYPHENRANGELOOSE]:a[l.HYPHENRANGE];T=T.replace(Q,I(this.options.includePrerelease)),o("hyphen replace",T),T=T.replace(a[l.COMPARATORTRIM],c),o("comparator trim",T),T=T.replace(a[l.TILDETRIM],u),o("tilde trim",T),T=T.replace(a[l.CARETTRIM],f),o("caret trim",T);let B=T.split(" ").map(Z=>v(Z,this.options)).join(" ").split(/\s+/).map(Z=>N(Z,this.options));V&&(B=B.filter(Z=>(o("loose invalid filter",Z,this.options),!!Z.match(a[l.COMPARATORLOOSE])))),o("range list",B);const Y=new Map,U=B.map(Z=>new i(Z,this.options));for(const Z of U){if(p(Z))return[Z];Y.set(Z.value,Z)}Y.size>1&&Y.has("")&&Y.delete("");const q=[...Y.values()];return n.set(L,q),q}intersects(T,D){if(!(T instanceof e))throw new TypeError("a Range is required");return this.set.some(L=>y(L,D)&&T.set.some(W=>y(W,D)&&L.every(V=>W.every(Q=>V.intersects(Q,D)))))}test(T){if(!T)return!1;if(typeof T=="string")try{T=new s(T,this.options)}catch{return!1}for(let D=0;D<this.set.length;D++)if(j(this.set[D],T,this.options))return!0;return!1}}WV=e;const t=_wn,n=new t({max:1e3}),r=Vue,i=fSn(),o=Lz,s=Yue,{safeRe:a,t:l,comparatorTrimReplace:c,tildeTrimReplace:u,caretTrimReplace:f}=que,{FLAG_INCLUDE_PRERELEASE:d,FLAG_LOOSE:h}=Uue,p=A=>A.value==="<0.0.0-0",g=A=>A.value==="",y=(A,T)=>{let D=!0;const L=A.slice();let W=L.pop();for(;D&&L.length;)D=L.every(V=>W.intersects(V,T)),W=L.pop();return D},v=(A,T)=>(o("comp",A,T),A=S(A,T),o("caret",A),A=m(A,T),o("tildes",A),A=$(A,T),o("xrange",A),A=R(A,T),o("stars",A),A),x=A=>!A||A.toLowerCase()==="x"||A==="*",m=(A,T)=>A.trim().split(/\s+/).map(D=>w(D,T)).join(" "),w=(A,T)=>{const D=T.loose?a[l.TILDELOOSE]:a[l.TILDE];return A.replace(D,(L,W,V,Q,B)=>{o("tilde",A,L,W,V,Q,B);let Y;return x(W)?Y="":x(V)?Y=`>=${W}.0.0 <${+W+1}.0.0-0`:x(Q)?Y=`>=${W}.${V}.0 <${W}.${+V+1}.0-0`:B?(o("replaceTilde pr",B),Y=`>=${W}.${V}.${Q}-${B} <${W}.${+V+1}.0-0`):Y=`>=${W}.${V}.${Q} <${W}.${+V+1}.0-0`,o("tilde return",Y),Y})},S=(A,T)=>A.trim().split(/\s+/).map(D=>C(D,T)).join(" "),C=(A,T)=>{o("caret",A,T);const D=T.loose?a[l.CARETLOOSE]:a[l.CARET],L=T.includePrerelease?"-0":"";return A.replace(D,(W,V,Q,B,Y)=>{o("caret",A,W,V,Q,B,Y);let U;return x(V)?U="":x(Q)?U=`>=${V}.0.0${L} <${+V+1}.0.0-0`:x(B)?V==="0"?U=`>=${V}.${Q}.0${L} <${V}.${+Q+1}.0-0`:U=`>=${V}.${Q}.0${L} <${+V+1}.0.0-0`:Y?(o("replaceCaret pr",Y),V==="0"?Q==="0"?U=`>=${V}.${Q}.${B}-${Y} <${V}.${Q}.${+B+1}-0`:U=`>=${V}.${Q}.${B}-${Y} <${V}.${+Q+1}.0-0`:U=`>=${V}.${Q}.${B}-${Y} <${+V+1}.0.0-0`):(o("no pr"),V==="0"?Q==="0"?U=`>=${V}.${Q}.${B}${L} <${V}.${Q}.${+B+1}-0`:U=`>=${V}.${Q}.${B}${L} <${V}.${+Q+1}.0-0`:U=`>=${V}.${Q}.${B} <${+V+1}.0.0-0`),o("caret return",U),U})},$=(A,T)=>(o("replaceXRanges",A,T),A.split(/\s+/).map(D=>E(D,T)).join(" ")),E=(A,T)=>{A=A.trim();const D=T.loose?a[l.XRANGELOOSE]:a[l.XRANGE];return A.replace(D,(L,W,V,Q,B,Y)=>{o("xRange",A,L,W,V,Q,B,Y);const U=x(V),q=U||x(Q),Z=q||x(B),oe=Z;return W==="="&&oe&&(W=""),Y=T.includePrerelease?"-0":"",U?W===">"||W==="<"?L="<0.0.0-0":L="*":W&&oe?(q&&(Q=0),B=0,W===">"?(W=">=",q?(V=+V+1,Q=0,B=0):(Q=+Q+1,B=0)):W==="<="&&(W="<",q?V=+V+1:Q=+Q+1),W==="<"&&(Y="-0"),L=`${W+V}.${Q}.${B}${Y}`):q?L=`>=${V}.0.0${Y} <${+V+1}.0.0-0`:Z&&(L=`>=${V}.${Q}.0${Y} <${V}.${+Q+1}.0-0`),o("xRange return",L),L})},R=(A,T)=>(o("replaceStars",A,T),A.trim().replace(a[l.STAR],"")),N=(A,T)=>(o("replaceGTE0",A,T),A.trim().replace(a[T.includePrerelease?l.GTE0PRE:l.GTE0],"")),I=A=>(T,D,L,W,V,Q,B,Y,U,q,Z,oe,ce)=>(x(L)?D="":x(W)?D=`>=${L}.0.0${A?"-0":""}`:x(V)?D=`>=${L}.${W}.0${A?"-0":""}`:Q?D=`>=${D}`:D=`>=${D}${A?"-0":""}`,x(U)?Y="":x(q)?Y=`<${+U+1}.0.0-0`:x(Z)?Y=`<${U}.${+q+1}.0-0`:oe?Y=`<=${U}.${q}.${Z}-${oe}`:A?Y=`<${U}.${q}.${+Z+1}-0`:Y=`<=${Y}`,`${D} ${Y}`.trim()),j=(A,T,D)=>{for(let L=0;L<A.length;L++)if(!A[L].test(T))return!1;if(T.prerelease.length&&!D.includePrerelease){for(let L=0;L<A.length;L++)if(o(A[L].semver),A[L].semver!==i.ANY&&A[L].semver.prerelease.length>0){const W=A[L].semver;if(W.major===T.major&&W.minor===T.minor&&W.patch===T.patch)return!0}return!1}return!0};return WV}const dSn=mZe(),hSn=(e,t,n)=>{try{t=new dSn(t,n)}catch{return!1}return t.test(e)};var pSn=hSn,yZe=gwn(pSn);function gSn(e,t,n){const r=e.open(t),i=1e4,o=250,{origin:s}=new URL(t);let a=~~(i/o);function l(u){u.source===r&&(a=0,e.removeEventListener("message",l,!1))}e.addEventListener("message",l,!1);function c(){a<=0||(r.postMessage(n,s),setTimeout(c,o),a-=1)}setTimeout(c,o)}var mSn=`.vega-embed {
  position: relative;
  display: inline-block;
  box-sizing: border-box;
}
.vega-embed.has-actions {
  padding-right: 38px;
}
.vega-embed details:not([open]) > :not(summary) {
  display: none !important;
}
.vega-embed summary {
  list-style: none;
  position: absolute;
  top: 0;
  right: 0;
  padding: 6px;
  z-index: 1000;
  background: white;
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1);
  color: #1b1e23;
  border: 1px solid #aaa;
  border-radius: 999px;
  opacity: 0.2;
  transition: opacity 0.4s ease-in;
  cursor: pointer;
  line-height: 0px;
}
.vega-embed summary::-webkit-details-marker {
  display: none;
}
.vega-embed summary:active {
  box-shadow: #aaa 0px 0px 0px 1px inset;
}
.vega-embed summary svg {
  width: 14px;
  height: 14px;
}
.vega-embed details[open] summary {
  opacity: 0.7;
}
.vega-embed:hover summary, .vega-embed:focus-within summary {
  opacity: 1 !important;
  transition: opacity 0.2s ease;
}
.vega-embed .vega-actions {
  position: absolute;
  z-index: 1001;
  top: 35px;
  right: -9px;
  display: flex;
  flex-direction: column;
  padding-bottom: 8px;
  padding-top: 8px;
  border-radius: 4px;
  box-shadow: 0 2px 8px 0 rgba(0, 0, 0, 0.2);
  border: 1px solid #d9d9d9;
  background: white;
  animation-duration: 0.15s;
  animation-name: scale-in;
  animation-timing-function: cubic-bezier(0.2, 0, 0.13, 1.5);
  text-align: left;
}
.vega-embed .vega-actions a {
  padding: 8px 16px;
  font-family: sans-serif;
  font-size: 14px;
  font-weight: 600;
  white-space: nowrap;
  color: #434a56;
  text-decoration: none;
}
.vega-embed .vega-actions a:hover, .vega-embed .vega-actions a:focus {
  background-color: #f7f7f9;
  color: black;
}
.vega-embed .vega-actions::before, .vega-embed .vega-actions::after {
  content: "";
  display: inline-block;
  position: absolute;
}
.vega-embed .vega-actions::before {
  left: auto;
  right: 14px;
  top: -16px;
  border: 8px solid rgba(0, 0, 0, 0);
  border-bottom-color: #d9d9d9;
}
.vega-embed .vega-actions::after {
  left: auto;
  right: 15px;
  top: -14px;
  border: 7px solid rgba(0, 0, 0, 0);
  border-bottom-color: #fff;
}
.vega-embed .chart-wrapper.fit-x {
  width: 100%;
}
.vega-embed .chart-wrapper.fit-y {
  height: 100%;
}

.vega-embed-wrapper {
  max-width: 100%;
  overflow: auto;
  padding-right: 14px;
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.6);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}
`;function vZe(e,...t){for(const n of t)ySn(e,n);return e}function ySn(e,t){for(const n of Object.keys(t))oC(e,n,t[n],!0)}function N_e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ey(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N_e(Object(n),!0).forEach(function(r){pwn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N_e(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const ff=Opn;let aP=nxn;const YN=typeof window<"u"?window:void 0;var HTe;aP===void 0&&((HTe=YN==null?void 0:YN.vl)!=null&&HTe.compile)&&(aP=YN.vl);const vSn={export:{svg:!0,png:!0},source:!0,compiled:!0,editor:!0},bSn={CLICK_TO_VIEW_ACTIONS:"Click to view actions",COMPILED_ACTION:"View Compiled Vega",EDITOR_ACTION:"Open in Vega Editor",PNG_ACTION:"Save as PNG",SOURCE_ACTION:"View Source",SVG_ACTION:"Save as SVG"},FE={vega:"Vega","vega-lite":"Vega-Lite"},Uj={vega:ff.version,"vega-lite":aP?aP.version:"not available"},OSn={vega:e=>e,"vega-lite":(e,t)=>aP.compile(e,{config:t}).spec},xSn=`
<svg viewBox="0 0 16 16" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round">
  <circle r="2" cy="8" cx="2"></circle>
  <circle r="2" cy="8" cx="8"></circle>
  <circle r="2" cy="8" cx="14"></circle>
</svg>`,wSn="chart-wrapper";function SSn(e){return typeof e=="function"}function M_e(e,t,n,r){const i=`<html><head>${t}</head><body><pre><code class="json">`,o=`</code></pre>${n}</body></html>`,s=window.open("");s.document.write(i+e+o),s.document.title=`${FE[r]} JSON Source`}function _Sn(e,t){if(e.$schema){const n=cZe(e.$schema);t&&t!==n.library&&console.warn(`The given visualization spec is written in ${FE[n.library]}, but mode argument sets ${FE[t]??t}.`);const r=n.library;return yZe(Uj[r],`^${n.version.slice(1)}`)||console.warn(`The input spec uses ${FE[r]} ${n.version}, but the current version of ${FE[r]} is v${Uj[r]}.`),r}return"mark"in e||"encoding"in e||"layer"in e||"hconcat"in e||"vconcat"in e||"facet"in e||"repeat"in e?"vega-lite":"marks"in e||"signals"in e||"scales"in e||"axes"in e?"vega":t??"vega"}function CSn(e){return!!(e&&"load"in e)}function I_e(e){return CSn(e)?e:ff.loader(e)}function $Sn(e){var n;const t=((n=e.usermeta)==null?void 0:n.embedOptions)??{};return at(t.defaultStyle)&&(t.defaultStyle=!1),t}async function ESn(e,t,n={}){let r,i;at(t)?(i=I_e(n.loader),r=JSON.parse(await i.load(t))):r=t;const o=$Sn(r),s=o.loader;(!i||s)&&(i=I_e(n.loader??s));const a=await L_e(o,i),l=await L_e(n,i),c=Ey(Ey({},vZe(l,a)),{},{config:iC(l.config??{},a.config??{})});return await TSn(e,r,c,i)}async function L_e(e,t){const n=at(e.config)?JSON.parse(await t.load(e.config)):e.config??{},r=at(e.patch)?JSON.parse(await t.load(e.patch)):e.patch;return Ey(Ey(Ey({},e),r?{patch:r}:{}),n?{config:n}:{})}function kSn(e){const t=e.getRootNode?e.getRootNode():document;return t instanceof ShadowRoot?{root:t,rootContainer:t}:{root:document,rootContainer:document.head??document.body}}async function TSn(e,t,n={},r){const i=n.theme?iC(rwn[n.theme],n.config??{}):n.config,o=M0(n.actions)?n.actions:vZe({},vSn,n.actions??{}),s=Ey(Ey({},bSn),n.i18n),a=n.renderer??"canvas",l=n.logLevel??ff.Warn,c=n.downloadFileName??"visualization",u=typeof e=="string"?document.querySelector(e):e;if(!u)throw new Error(`${e} does not exist`);if(n.defaultStyle!==!1){const S="vega-embed-style",{root:C,rootContainer:$}=kSn(u);if(!C.getElementById(S)){const E=document.createElement("style");E.id=S,E.innerHTML=n.defaultStyle===void 0||n.defaultStyle===!0?mSn.toString():n.defaultStyle,$.appendChild(E)}}const f=_Sn(t,n.mode);let d=OSn[f](t,i);if(f==="vega-lite"&&d.$schema){const S=cZe(d.$schema);yZe(Uj.vega,`^${S.version.slice(1)}`)||console.warn(`The compiled spec uses Vega ${S.version}, but current version is v${Uj.vega}.`)}u.classList.add("vega-embed"),o&&u.classList.add("has-actions"),u.innerHTML="";let h=u;if(o){const S=document.createElement("div");S.classList.add(wSn),u.appendChild(S),h=S}const p=n.patch;if(p&&(d=p instanceof Function?p(d):U7(d,p,!0,!1).newDocument),n.formatLocale&&ff.formatLocale(n.formatLocale),n.timeFormatLocale&&ff.timeFormatLocale(n.timeFormatLocale),n.expressionFunctions)for(const S in n.expressionFunctions){const C=n.expressionFunctions[S];"fn"in C?ff.expressionFunction(S,C.fn,C.visitor):C instanceof Function&&ff.expressionFunction(S,C)}const{ast:g}=n,y=ff.parse(d,f==="vega-lite"?{}:i,{ast:g}),v=new(n.viewClass||ff.View)(y,Ey({loader:r,logLevel:l,renderer:a},g?{expr:ff.expressionInterpreter??n.expr??Ppn}:{}));if(v.addSignalListener("autosize",(S,C)=>{const{type:$}=C;$=="fit-x"?(h.classList.add("fit-x"),h.classList.remove("fit-y")):$=="fit-y"?(h.classList.remove("fit-x"),h.classList.add("fit-y")):$=="fit"?h.classList.add("fit-x","fit-y"):h.classList.remove("fit-x","fit-y")}),n.tooltip!==!1){const S=SSn(n.tooltip)?n.tooltip:new fwn(n.tooltip===!0?{}:n.tooltip).call;v.tooltip(S)}let{hover:x}=n;if(x===void 0&&(x=f==="vega"),x){const{hoverSet:S,updateSet:C}=typeof x=="boolean"?{}:x;v.hover(S,C)}n&&(n.width!=null&&v.width(n.width),n.height!=null&&v.height(n.height),n.padding!=null&&v.padding(n.padding)),await v.initialize(h,n.bind).runAsync();let m;if(o!==!1){let S=u;if(n.defaultStyle!==!1||n.forceActionsMenu){const $=document.createElement("details");$.title=s.CLICK_TO_VIEW_ACTIONS,u.append($),S=$;const E=document.createElement("summary");E.innerHTML=xSn,$.append(E),m=R=>{$.contains(R.target)||$.removeAttribute("open")},document.addEventListener("click",m)}const C=document.createElement("div");if(S.append(C),C.classList.add("vega-actions"),o===!0||o.export!==!1){for(const $ of["svg","png"])if(o===!0||o.export===!0||o.export[$]){const E=s[`${$.toUpperCase()}_ACTION`],R=document.createElement("a"),N=ut(n.scaleFactor)?n.scaleFactor[$]:n.scaleFactor;R.text=E,R.href="#",R.target="_blank",R.download=`${c}.${$}`,R.addEventListener("mousedown",async function(I){I.preventDefault();const j=await v.toImageURL($,N);this.href=j}),C.append(R)}}if(o===!0||o.source!==!1){const $=document.createElement("a");$.text=s.SOURCE_ACTION,$.href="#",$.addEventListener("click",function(E){M_e(CW(t),n.sourceHeader??"",n.sourceFooter??"",f),E.preventDefault()}),C.append($)}if(f==="vega-lite"&&(o===!0||o.compiled!==!1)){const $=document.createElement("a");$.text=s.COMPILED_ACTION,$.href="#",$.addEventListener("click",function(E){M_e(CW(d),n.sourceHeader??"",n.sourceFooter??"","vega"),E.preventDefault()}),C.append($)}if(o===!0||o.editor!==!1){const $=n.editorUrl??"https://vega.github.io/editor/",E=document.createElement("a");E.text=s.EDITOR_ACTION,E.href="#",E.addEventListener("click",function(R){gSn(window,$,{config:i,mode:f,renderer:a,spec:CW(t)}),R.preventDefault()}),C.append(E)}}function w(){m&&document.removeEventListener("click",m),v.finalize()}return{view:v,spec:t,vgSpec:d,finalize:w,embedOptions:n}}function PSn(e){return!!e&&{}.toString.call(e)==="[object Function]"}function RSn(e,t,n){n&&(PSn(n)?n(e.data(t)):e.change(t,ff.changeset().remove(()=>!0).insert(n)))}function ASn(e,t){Object.keys(t).forEach(n=>{RSn(e,n,t[n])})}function bZe(e){const t=new Set;return e.forEach(n=>{Object.keys(n).forEach(r=>{t.add(r)})}),t}const OZe=()=>{};function VV(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.addSignalListener(r,t[r])}catch(i){console.warn("Cannot add invalid signal listener.",i)}}),n.length>0}var DSn=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n};const xZe=Uu(DSn);function NSn(e,t){if(e===t)return!1;const n={width:!1,height:!1,isExpensive:!1},r=bZe([e,t]);return r.has("width")&&(!("width"in e)||!("width"in t)||e.width!==t.width)&&("width"in e&&typeof e.width=="number"?n.width=e.width:n.isExpensive=!0),r.has("height")&&(!("height"in e)||!("height"in t)||e.height!==t.height)&&("height"in e&&typeof e.height=="number"?n.height=e.height:n.isExpensive=!0),r.delete("width"),r.delete("height"),[...r].some(i=>!(i in e)||!(i in t)||!xZe(e[i],t[i]))&&(n.isExpensive=!0),n.width!==!1||n.height!==!1||n.isExpensive?n:!1}function j_e(e,t){const n=Object.keys(t);return n.forEach(r=>{try{e.removeSignalListener(r,t[r])}catch(i){console.warn("Cannot remove invalid signal listener.",i)}}),n.length>0}function UV(e){const{spec:t,width:n,height:r}=e;return typeof n<"u"&&typeof r<"u"?{...t,width:n,height:r}:typeof n<"u"?{...t,width:n}:typeof r<"u"?{...t,height:r}:t}function zE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class wZe extends ie.PureComponent{constructor(){super(...arguments),zE(this,"containerRef",ie.createRef()),zE(this,"resultPromise",void 0),zE(this,"handleError",t=>{const{onError:n=OZe}=this.props;n(t,this.containerRef.current),console.warn(t)}),zE(this,"modifyView",t=>{this.resultPromise&&this.resultPromise.then(n=>(n&&t(n.view),!0)).catch(this.handleError)})}componentDidMount(){this.createView()}componentDidUpdate(t){const n=bZe([this.props,t]);if(n.delete("className"),n.delete("signalListeners"),n.delete("spec"),n.delete("style"),n.delete("width"),n.delete("height"),Array.from(n).some(r=>this.props[r]!==t[r]))this.clearView(),this.createView();else{const r=NSn(UV(this.props),UV(t)),{signalListeners:i}=this.props,{signalListeners:o}=t;if(r)if(r.isExpensive)this.clearView(),this.createView();else{const s=!zH(i,o);this.modifyView(a=>{r.width!==!1&&a.width(r.width),r.height!==!1&&a.height(r.height),s&&(o&&j_e(a,o),i&&VV(a,i)),a.run()})}else zH(i,o)||this.modifyView(s=>{o&&j_e(s,o),i&&VV(s,i),s.run()})}}componentWillUnmount(){this.clearView()}createView(){const{spec:t,onNewView:n,signalListeners:r={},width:i,height:o,...s}=this.props;if(this.containerRef.current){const a=UV(this.props);this.resultPromise=ESn(this.containerRef.current,a,s).then(l=>{if(l){const{view:c}=l;VV(c,r)&&c.run()}return l}).catch(this.handleError),n&&this.modifyView(n)}}clearView(){return this.resultPromise&&this.resultPromise.then(t=>{t&&t.finalize()}).catch(this.handleError),this.resultPromise=void 0,this}render(){const{className:t,style:n}=this.props;return ie.createElement("div",{ref:this.containerRef,className:t,style:n})}}zE(wZe,"propTypes",{className:gr.string,onError:gr.func});function MG(){return MG=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MG.apply(this,arguments)}function IG(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const MSn={};class SZe extends ie.PureComponent{constructor(){super(...arguments),IG(this,"vegaEmbed",ie.createRef()),IG(this,"handleNewView",t=>{this.update();const{onNewView:n=OZe}=this.props;n(t)})}componentDidMount(){this.update()}componentDidUpdate(t){zH(this.props.data,t.data)||this.update()}update(){const{data:t}=this.props;this.vegaEmbed.current&&t&&Object.keys(t).length>0&&this.vegaEmbed.current.modifyView(n=>{ASn(n,t),n.resize().run()})}render(){const{data:t,...n}=this.props;return ie.createElement(wZe,MG({ref:this.vegaEmbed},n,{onNewView:this.handleNewView}))}}IG(SZe,"defaultProps",{data:MSn});function LG(){return LG=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LG.apply(this,arguments)}function F_e(e){return ie.createElement(SZe,LG({},e,{mode:"vega-lite"}))}const nw={[Ji.BOOLEAN]:b.jsx(ANe,{className:"h-5 w-5 inline-flex opacity-60"}),[Ji.DATETIME]:b.jsx(_Ne,{className:"h-5 w-5 inline-flex opacity-60"}),[Ji.NUMBER]:b.jsx(m1t,{className:"h-5 w-5 inline-flex opacity-60"}),[Ji.STRING]:b.jsx(B1t,{className:"h-5 w-5 inline-flex opacity-60"}),[Ji.INTEGER]:b.jsx(x1t,{className:"h-5 w-5 inline-flex opacity-60"})};function Xue(e){const{type:t,limit:n,additionalFieldQuery:r}=e;return{type:t,limit:n,createQuery(i){return{spec:{...i.spec,encodings:[...i.spec.encodings,r]},groupBy:"field",orderBy:["fieldOrder","aggregationQuality","effectiveness"],chooseBy:["aggregationQuality","effectiveness"],config:{autoAddCount:!0}}}}}const ISn=Xue({type:"addCategoricalField",limit:4,additionalFieldQuery:{channel:Vr,field:Vr,type:"nominal"}}),LSn=Xue({type:"addQuantitativeField",limit:4,additionalFieldQuery:{channel:Vr,bin:Vr,aggregate:Vr,field:Vr,type:"quantitative"}}),jSn=Xue({type:"addTemporalField",limit:2,additionalFieldQuery:{channel:Vr,hasFn:!0,timeUnit:Vr,field:Vr,type:"temporal"}});function FSn(e){if(e){if(e==="bin")return{bin:!0};if(iz(e))return{aggregate:e};if(zSn(e))return{timeUnit:e}}else return{};return{}}function zSn(e){return e?_Ze.includes(e)||CZe.includes(e):!1}const QSn=["bin","min","max","mean","median","sum"],_Ze=["year","month","date","day","hours","minutes","seconds","milliseconds"],CZe=["yearmonth","yearmonthdate","monthdate"];function BSn(e){const{aggregate:t,bin:n,timeUnit:r}=e;if(n)return"bin";if(t)return t.toString();if(r)return r.toString()}function WSn(e){return!EZe(e).hasAnyWildcard}function VSn(e){const t=["x","y","color"],n=["row","column"],r=new Set(e.encodings.map(s=>s.channel)),i=t.every(s=>r.has(s)),o=n.some(s=>r.has(s));return i&&o}function $Ze(e){return e.encodings.length===0}function EZe(e){let t=!1,n=!1,r=!1;for(const i of e.encodings)nu(i)||(mo(i)?It(i.autoCount)&&(n=!0):(It(i.field)&&(t=!0),(It(i.aggregate)||It(i.bin)||It(i.timeUnit))&&(n=!0),It(i.channel)&&(r=!0)));return{hasAnyWildcard:r||t||n,hasWildcardField:t,hasWildcardFn:n,hasWildcardChannel:r}}function kZe(e){const t={};for(const n in e)e[n]!==void 0&&(t[n]=e[n]);return t}function USn(e,t){const{fn:n,...r}=e;return{channel:t,...FSn(n),...r}}function qSn(e){const{aggregate:t,bin:n,timeUnit:r,field:i,scale:o,legend:s,axis:a,sort:l,description:c}=e;let{type:u}=e;if(It(u))throw new Error("Wildcard not support");u==="ordinal"&&(console.warn("Ordinal type is not supported. Using nominal type instead."),u="nominal");const f=BSn({aggregate:t,bin:n,timeUnit:r});return Bi(i!==void 0,"Field is required for fieldQ"),kZe({field:i,fn:f,type:u,sort:l,scale:o,axis:a,legend:s,description:c})}function YSn(e){return{mark:e.mark,encodings:XSn(e.encoding),config:e.config}}function XSn(e){return Object.entries(e).map(([t,n])=>USn(n,t))}const TZe={name:"source"};function HSn(e){let t=!1,n=!1,r=!1;return e.encodings.forEach(i=>{i.channel==="x"||i.channel==="y"?t=!0:i.channel==="row"||i.channel==="column"?r=!0:typeof i.channel=="string"&&kn(dYe,i.channel)&&(n=!0)}),{hasOpenPosition:t,hasStyleChannel:n,hasOpenFacet:r}}function ZSn(e,t){const n={},{hasOpenPosition:r,hasStyleChannel:i,hasOpenFacet:o}=HSn(e.spec);return(r||i)&&(n.addQuantitativeField=MI(LSn,e,t)),(r||i||o)&&(n.addCategoricalField=MI(ISn,e,t)),r&&(n.addTemporalField=MI(jSn,e,t)),n}function qV(e,t){if($Ze(e.spec))return{plots:[],query:e,limit:1};const n=C9e(e,t).result;return{plots:[PZe(n,TZe)[0]],query:e,limit:1}}function MI(e,t,n){const r=e.createQuery(t),i=C9e(r,n).result;return{plots:PZe(i,TZe),query:r,limit:e.limit}}function PZe(e,t){return e.items.map(n=>x9e(n)?z_e(t,jH(n)):z_e(t,n))}function z_e(e,t){return{fieldInfos:t.getEncodings().filter(sn).map(r=>({fieldDef:qSn(r),channel:r.channel})),spec:t.toSpec(e)}}function GSn(e){const{spec:t,autoAddCount:n}=e,r=YSn(t),{hasAnyWildcard:i,hasWildcardFn:o,hasWildcardField:s}=EZe(r),a=KSn({hasWildcardFn:o,hasWildcardField:s});return{spec:r,groupBy:a,orderBy:["fieldOrder","aggregationQuality","effectiveness"],chooseBy:["aggregationQuality","effectiveness"],config:i?{autoAddCount:n}:void 0}}function KSn(e){const{hasWildcardFn:t,hasWildcardField:n}=e;return t?"fieldTransform":n?"field":"encoding"}const JSn={type:"histograms",limit:12,createQuery(e){return{spec:{data:e.spec.data,mark:Vr,transform:e.spec.transform,encodings:[{channel:Vr,bin:Vr,timeUnit:Vr,field:Vr,type:Vr},{channel:Vr,aggregate:"count",field:"*",type:"quantitative"}]},groupBy:"fieldTransform",orderBy:["fieldOrder","aggregationQuality","effectiveness"],chooseBy:["aggregationQuality","effectiveness"],config:{autoAddCount:!1}}}};function RZe(){return{mark:Vr,encoding:{},config:{},schema:null}}const{reducer:e_n,createActions:t_n}=lR(RZe,{setSchema:(e,t)=>({...e,schema:t}),setMark:(e,t)=>({...e,mark:t}),setEncoding:(e,t)=>{const n=kZe({...e.encoding,...t});return{...e,encoding:n}},set:(e,t)=>{const{schema:n,...r}=t;return{...e,...r}}}),E1=Nn(RZe());function AZe(e){const t=vh(E1);return O.useMemo(()=>t_n(r=>{t(i=>{const o=e_n(i,r);return e==null||e(o),o})}),[t,e])}const n_n=Nn(e=>{const t=e(E1);if(!t.schema)return{};const n=GSn({spec:t,autoAddCount:!0});return $Ze(n.spec)?{main:qV(n,t.schema),histograms:MI(JSn,n,t.schema)}:WSn(n.spec)&&!VSn(n.spec)?{main:qV(n,t.schema),...ZSn(n,t.schema)}:{main:qV(n,t.schema)}}),r_n=[Vr,"area","bar","circle","geoshape","line","point","rect","rule","square","text","tick","trail"],i_n=["x","y","row","column"],o_n=["color","size","shape"],s_n=({schema:e,mark:t})=>{const n=us(E1),r=AZe(),i=n.encoding.x&&n.encoding.y,o=a=>{const c=(a==="row"||a==="column")&&!i;return b.jsx(a_n,{schema:e,label:a,disabled:c,fieldDefinition:n.encoding[a],onChange:u=>r.setEncoding({[a]:u})},a)},s=b.jsxs(L0,{value:t.toString(),onValueChange:a=>r.setMark(a),children:[b.jsx(Ng,{children:b.jsx(hC,{placeholder:"Mark"})}),b.jsx(Mg,{children:b.jsxs(vg,{children:[b.jsx($7,{children:"Mark"}),r_n.map(a=>b.jsx(Ml,{value:a,children:a===Vr?"auto":a},a))]})})]});return b.jsxs("div",{className:"grid gap-x-2 gap-y-4 justify-items-start py-3 pl-4 pr-2 bg-[var(--slate-1)] border rounded items-center grid-template-columns-[repeat(2,_minmax(0,_min-content))] self-start",children:[b.jsx("span",{className:"col-span-2 flex items-center justify-between w-full",children:b.jsx("div",{className:"text-sm font-semibold",children:"Encodings"})}),i_n.map(o),b.jsxs("span",{className:"col-span-2 text-sm font-semibold w-full border-t border-divider flex items-center justify-between pt-2 pr-[30px]",children:[b.jsx("div",{children:"Mark"}),s]}),o_n.map(o)]})},a_n=({label:e,schema:t,fieldDefinition:n,disabled:r,onChange:i})=>{const o=()=>{if(!n)return"--";if(n.field==="*")return b.jsxs("span",{className:"flex gap-2 flex-1",children:[nw[Ji.NUMBER],b.jsx("span",{className:"text-left flex-1",children:"Count"})]});const l=n.field.toString(),c=()=>n.fn?`${n.fn}(${n.field})`:l;return b.jsxs("span",{className:"flex gap-2 flex-1",children:[nw[t.primitiveType(l)],b.jsx("span",{className:"text-left flex-1",children:c()})]})},s=()=>{i(void 0)},a=(n==null?void 0:n.field.toString())??"";return b.jsxs(b.Fragment,{children:[b.jsx(Ua,{className:"text-[var(--slate-11)] font-semibold",children:e}),b.jsxs("div",{className:"flex flex-row gap-1 h-[26px]",children:[b.jsxs(L0,{value:a,disabled:r,onValueChange:l=>{i(l==="*"?{field:"*",fn:"count",type:"quantitative"}:{field:l,type:t.vlType(l)})},children:[b.jsx(Ng,{className:"min-w-[140px] lg:min-w-[210px] h-full",onClear:a?s:void 0,children:o()}),b.jsx(Mg,{children:b.jsxs(vg,{children:[t.fieldNames().map(l=>b.jsx(Ml,{value:l.toString(),children:b.jsxs("span",{className:"flex items-center gap-2 flex-1",children:[nw[t.primitiveType(l)],b.jsx("span",{className:"flex-1",children:l}),b.jsxs("span",{className:"text-muted-foreground text-xs font-semibold",children:["(",t.vlType(l),")"]})]})},l)),t.fieldNames().length===0&&b.jsx(Ml,{disabled:!0,value:"--",children:"No columns"}),b.jsx(hoe,{}),b.jsx(Ml,{value:"*",children:b.jsxs("span",{className:"flex items-center gap-1 flex-1",children:[nw[Ji.NUMBER],b.jsx("span",{className:"flex-1",children:"Count"})]})},"*")]})})]}),b.jsx("div",{className:"w-[26px]",children:n&&b.jsx(l_n,{field:n,onChange:i})})]})]})},YV="__",l_n=({field:e,onChange:t})=>{if(e.field==="*")return null;let n=[];return e.type===id.QUANTITATIVE&&(n=[["",QSn]]),e.type===id.TEMPORAL&&(n=[["Single",_Ze],["Multi",CZe]]),n.length>0?b.jsxs(L0,{value:e.fn,onValueChange:r=>{t({...e,fn:r===YV?void 0:r})},children:[b.jsx(Ng,{className:"h-full px-1",hideChevron:!0,variant:"ghost",children:b.jsx(K4,{size:14,strokeWidth:1.5})}),b.jsxs(Mg,{children:[b.jsx(vg,{children:b.jsx(Ml,{value:YV,children:"None"})}),b.jsx(hoe,{}),n.map(([r,i])=>b.jsxs(vg,{children:[r&&b.jsx($7,{children:r}),i.map(o=>b.jsx(Ml,{value:o??YV,children:l6(o)},o))]},r))]})]}):null},Q_e=12,c_n=({schema:e})=>{const[t,n]=O.useState(),[r,i]=O.useState(),o=e.fieldNames(),s=t?e.stats({field:t,channel:"x"}):void 0,a=b.jsx(Qvt,{className:"text-muted-foreground",width:40,height:40,strokeWidth:1.5}),l=r?o:o.slice(0,Q_e),c=o.length>Q_e;return b.jsxs("div",{className:"flex flex-col justify-center items-center h-full flex-1 gap-2",children:[a,b.jsxs("span",{className:"text-muted-foreground font-semibold",children:[o.length>0?o.length:"No"," fields"]}),b.jsxs("div",{className:"hidden lg:grid grid-cols-2 xl:grid-cols-3 gap-2 p-2 bg-[var(--slate-1)] border rounded lg:items-center items-start w-fit grid-flow-dense max-h-[300px] overflow-auto",children:[l.map(u=>{const f=e.cardinality({channel:"x",field:u});return b.jsxs("span",{className:ve("hover:bg-muted self-start px-2 py-2 rounded flex flex-row gap-1 items-center cursor-pointer lg:justify-center text-sm truncate flex-shrink-0 overflow-hidden",t===u&&"bg-muted"),onClick:()=>{if(t===u){n(void 0);return}n(u)},children:[nw[e.primitiveType(u)],u,f>1&&b.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",f,")"]})]},u)}),c&&b.jsx(zt,{variant:"link",size:"sm",className:"self-center col-span-3 -mt-1",onClick:()=>i(u=>!u),children:r?"Show less":"Show more"})]}),b.jsx("div",{className:"lg:hidden",children:b.jsxs(L0,{value:t||"",disabled:o.length===0,onValueChange:u=>{n(u)},children:[b.jsx(Ng,{className:"min-w-[210px] h-full",children:b.jsx(hC,{placeholder:"Select a column"})}),b.jsx(Mg,{children:b.jsx(vg,{children:e.fieldNames().map(u=>b.jsx(Ml,{value:u.toString(),children:b.jsxs("span",{className:"flex items-center gap-2 flex-1",children:[nw[e.primitiveType(u)],b.jsx("span",{className:"flex-1",children:u}),b.jsxs("span",{className:"text-muted-foreground text-xs font-semibold",children:["(",e.vlType(u),")"]})]})},u))})})]})}),t&&b.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-2 p-2 text-sm",children:u_n.map(u=>b.jsxs("div",{className:"flex flex-row gap-2 min-w-[100px]",children:[b.jsx("span",{className:"font-semibold",children:u}),b.jsx("span",{children:f_n(s==null?void 0:s[u])})]},u))})]})},u_n=["distinct","min","max","mean","median","q1","q3","stdev"];function f_n(e){return typeof e=="number"?new Intl.NumberFormat("en-US",{maximumFractionDigits:2}).format(e):typeof e=="string"?e:typeof e=="object"&&e instanceof Date?new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(e):String(e)}function Hue(e){O.useEffect(e,[])}const d_n=c6("marimo-data-explorer").withData(H.object({label:H.string().nullish(),data:H.string()})).renderer(e=>b.jsx(Q_,{children:b.jsx(h_n,{...e.data,value:e.value,setValue:e.setValue})})),h_n=e=>{const t=O.useMemo(()=>KF(),[]);return Hue(()=>{const n=t.sub(E1,()=>{const i=t.get(E1),{schema:o,...s}=i;e.setValue(s)}),r=e.value;return r&&Object.keys(r).length>0&&t.set(E1,r),n}),b.jsx(hRe,{store:t,children:b.jsx(m_n,{...e})})},p_n={export:{svg:!0,png:!0},source:!1,compiled:!1,editor:!1},g_n={left:20,right:20,top:20,bottom:20},m_n=({data:e})=>{var d,h,p,g,y,v;const t=AZe(),{data:n,loading:r,error:i}=N0(async()=>{if(!e)return{};const x=await zie(e,{type:"csv",parse:"auto"}),m=jYt(x);return t.setSchema(m),{chartData:x,schema:m}},[e]),{mark:o}=us(E1),s=us(n_n);if(i)return b.jsx(dIe,{error:i});if(!n)return b.jsx("div",{});const{chartData:a,schema:l}=n;if(r||!l)return b.jsx("div",{});const c=(h=(d=s.main)==null?void 0:d.plots)==null?void 0:h[0],u=new Set(c==null?void 0:c.fieldInfos.map(x=>x.fieldDef.field)),f=()=>c?b.jsx("div",{className:"flex overflow-y-auto justify-center items-center flex-1 w-[90%]",children:b.jsx(F_e,{data:{source:a},padding:g_n,actions:p_n,spec:b_n(c.spec)})}):b.jsx(c_n,{schema:l});return b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(s_n,{mark:o,schema:l}),f()]}),b.jsx(y_n,{children:[(p=s.histograms)==null?void 0:p.plots,(g=s.addCategoricalField)==null?void 0:g.plots,(y=s.addQuantitativeField)==null?void 0:y.plots,(v=s.addTemporalField)==null?void 0:v.plots].filter(Boolean).flat().map((x,m)=>b.jsx(v_n,{title:b.jsx("div",{className:"flex flex-row gap-1",children:x.fieldInfos.map(w=>{const S=w.fieldDef.field==="*"?"Count":w.fieldDef.fn?`${w.fieldDef.fn}(${w.fieldDef.field})`:w.fieldDef.field.toString();return b.jsx(Xne,{variant:u.has(w.fieldDef.field)?"secondary":"defaultOutline",children:S},S)})}),actions:b.jsx(tn,{content:"Make main plot",children:b.jsx(zt,{variant:"text",size:"icon",onClick:()=>{const w=wn.fromEntries(x.fieldInfos.map(S=>[S.channel,S.fieldDef]));t.setEncoding(w)},children:b.jsx(O1t,{className:"w-4 h-4"})})}),children:b.jsx(F_e,{data:{source:a},actions:!1,spec:x.spec},m)},m))})]})},y_n=({children:e})=>ie.Children.count(e)===0?null:b.jsx("div",{className:"flex flex-row overflow-x-auto overflow-y-hidden gap-4 snap-x pb-4",children:e}),v_n=({title:e,children:t,actions:n})=>b.jsxs("div",{className:"flex-shrink-0 bg-card shadow-md border overflow-hidden rounded snap-start",children:[b.jsxs("div",{className:"flex flex-row justify-between items-center bg-[var(--slate-3)] py-0.5 px-2",children:[b.jsx("div",{className:"text-sm font-medium",children:e}),n]}),b.jsx("div",{className:"px-6 pt-2 max-h-[280px] overflow-y-auto",children:t})]});function b_n(e){var n,r;return!!((n=e.encoding)!=null&&n.row||(r=e.encoding)!=null&&r.column)||(e.width="container"),e}class O_n{constructor(){be(this,"tagName","marimo-mermaid");be(this,"validator",H.object({diagram:H.string()}))}render(t){return b.jsx(x_n,{diagram:t.data.diagram})}}const x_n=O.lazy(()=>$e(()=>import("./mermaid-v0xLYIpP.js").then(e=>e.a7),__vite__mapDeps([]),import.meta.url)),w_n=[new Ovt,new H1t,q6t,new q_t,new X_t,new $Wt,new Z_t,new qCt,hEt,new E7t,new rTt,new sTt,new LTt,new x7t,new c2t,new x2t,new P6e,new $2t,new S2t,new b8t,new wWt,d_n,vWt],S_n=[new Y6t,new Z6t,new T7t,new G6t,new Q7t,new C8t,new P6e,new f7t,new O_n];function __n(){y0t(),w_n.forEach(Xge),S_n.forEach(Xge)}const C_n=Oo("flex items-center justify-center m-0 leading-none font-medium border border-foreground/10 shadow-xsSolid shadow-foreground/10 hover:cursor-pointer focus:shadow-md dark:border-border text-sm",{variants:{color:{gray:"mo-button gray",white:"mo-button white",green:"mo-button green",red:"mo-button red",yellow:"mo-button yellow","hint-green":"mo-button hint-green",disabled:"mo-button disabled"},shape:{rectangle:"rounded",circle:"rounded-full"},size:{small:"",medium:""}},compoundVariants:[{size:"small",shape:"circle",class:"h-[24px] w-[24px] px-[5.5px] py-[5.5px]"},{size:"medium",shape:"circle",class:"px-2 py-2"},{size:"small",shape:"rectangle",class:"px-1 py-1 h-[24px] w-[24px]"},{size:"medium",shape:"rectangle",class:"px-3 py-2"}],defaultVariants:{color:"gray",size:"medium",shape:"rectangle"}}),$_n=Oo("font-mono w-full flex-1 inline-flex items-center justify-center rounded px-2.5 text-foreground/60 h-[36px] hover:shadow-md hover:cursor-pointer focus:shadow-md focus:outline-none text-[hsl(0, 0%, 43.5%)] bg-transparent hover:bg-background focus:bg-background"),Qo=ie.forwardRef(({color:e,shape:t,size:n,className:r,...i},o)=>b.jsx("button",{ref:o,className:N_(C_n({color:e,shape:t,size:n}),r),...i,children:i.children}));Qo.displayName="Button";const DZe=ie.forwardRef(({className:e,...t},n)=>b.jsx("input",{ref:n,className:N_($_n(),e),...t}));DZe.displayName="Input";function II(){if(typeof window>"u")return Ut.warn("isPlatformMac() called without window"),!1;const e=window.navigator.userAgentData?window.navigator.userAgentData.platform:window.navigator.platform;return/mac/i.test(e)}function jz(e){const t=e.split("-");return n=>{let r=!0;for(const i of t){switch(i){case"Ctrl":r&&(r=n.ctrlKey);break;case"Cmd":r&&(r=n.metaKey);break;case"Shift":r&&(r=n.shiftKey);break;case"Alt":r&&(r=n.altKey);break;case"Space":r&&(r=n.code==="Space");break;default:r&&(r=n.key.toLowerCase()===i.toLowerCase());break}if(!r)return!1}return t.includes("Shift")||r&&(r=!n.shiftKey),t.includes("Ctrl")||r&&(r=!n.ctrlKey),t.includes("Cmd")||r&&(r=!n.metaKey),t.includes("Alt")||r&&(r=!n.altKey),r}}function Fz(e,t,n,r){const i=O.useRef(n);O.useEffect(()=>{i.current=n},[n]),O.useEffect(()=>{if(!e)return;const o=s=>i.current(s);return e.addEventListener(t,o,r),()=>{e.removeEventListener(t,o,r)}},[t,e,r])}const NZe=Nn({});function E_n(){return us(NZe)}function k_n(){const e=vh(NZe);return{registerAction:(t,n)=>{e(r=>({...r,[t]:n}))},unregisterAction:t=>{e(n=>{const{[t]:r,...i}=n;return i})}}}const Zue={"cell.focusUp":{name:"Focus up",group:"Navigation",key:"Mod-Shift-k"},"cell.focusDown":{name:"Focus down",group:"Navigation",key:"Mod-Shift-j"},"cell.moveUp":{name:"Move up",group:"Creation and Ordering",key:"Mod-Shift-9"},"cell.moveDown":{name:"Move down",group:"Creation and Ordering",key:"Mod-Shift-0"},"cell.createAbove":{name:"Create cell above",group:"Creation and Ordering",key:"Mod-Shift-o"},"cell.createBelow":{name:"Create cell below",group:"Creation and Ordering",key:"Mod-Shift-p"},"cell.sendToTop":{name:"Send to top",group:"Creation and Ordering",key:"Mod-Shift-1"},"cell.sendToBottom":{name:"Send to bottom",group:"Creation and Ordering",key:"Mod-Shift-2"},"cell.run":{name:"Run",group:"Running Cells",key:"Mod-Enter"},"cell.runAndNewBelow":{name:"Run and new below",group:"Running Cells",key:"Shift-Enter"},"cell.runAndNewAbove":{name:"Run and new above",group:"Running Cells",key:"Mod-Shift-Enter"},"cell.format":{name:"Format",group:"Editing",key:"Mod-b"},"cell.complete":{name:"Code completion",group:"Editing",key:"Ctrl-Space"},"cell.undo":{name:"Undo",group:"Editing",key:"Mod-z"},"cell.redo":{name:"Redo",group:"Editing",key:{main:"Mod-Shift-z",windows:"Mod-y"}},"cell.findAndReplace":{name:"Find and replace",group:"Editing",key:"Mod-f"},"cell.selectNextOccurrence":{name:"Select next occurrence",group:"Editing",key:"Mod-d"},"cell.fold":{name:"Fold",group:"Editing",key:{main:"Mod-Alt-[",windows:"Mod-Shift-["}},"cell.unfold":{name:"Unfold",group:"Editing",key:{main:"Mod-Alt-]",windows:"Mod-Shift-]"}},"cell.foldAll":{name:"Fold all in cell",group:"Editing",key:"Ctrl-Alt-["},"cell.unfoldAll":{name:"Unfold all in cell",group:"Editing",key:"Ctrl-Alt-]"},"cell.delete":{name:"Delete empty cell",group:"Editing",key:"Shift-Backspace"},"cell.hideCode":{name:"Hide cell code",group:"Editing",key:"Mod-h"},"global.hideCode":{name:"Toggle app view",group:"Other",key:"Mod-."},"global.foldCode":{name:"Fold all cells",group:"Editing",key:{main:"Ctrl-Cmd-l",windows:"Mod-Shift-l"}},"global.unfoldCode":{name:"Unfold all cells",group:"Editing",key:{main:"Ctrl-Cmd-;",windows:"Mod-Shift-:"}},"global.showHelp":{name:"Keyboard shortcuts",group:"Other",key:"Mod-Shift-h"},"global.save":{name:"Save",group:"Other",key:"Mod-s"},"global.commandPalette":{name:"Command palette",group:"Other",key:"Mod-k"},"global.runStale":{name:"Run all modified cells",group:"Running Cells",key:"Mod-Shift-r"},"global.interrupt":{name:"Stop (interrupt) execution",group:"Running Cells",key:"Mod-i"},"global.formatAll":{name:"Format all",group:"Editing",key:"Mod-Shift-b"},"global.toggleLanguage":{name:"Toggle language to markdown (if supported)",group:"Editing",key:"F4"},"global.focusTop":{name:"Focus top",group:"Navigation",key:"Mod-Shift-f"},"global.focusBottom":{name:"Focus bottom",group:"Navigation",key:"Mod-Shift-g"},"global.toggleSidebar":{name:"Toggle helper panel",group:"Navigation",key:"Mod-Shift-s"}};function T_n(e){return e in Zue}class Gue{constructor(t,n){be(this,"mod");be(this,"platform");this.hotkeys=t,n=n??II(),this.mod=n?"Cmd":"Ctrl",this.platform=n?"mac":"windows"}static create(t){return new Gue(Zue,t)}iterate(){return wn.keys(this.hotkeys)}getHotkey(t){const{name:n,key:r}=this.hotkeys[t];if(typeof r=="string")return{name:n,key:r.replace("Mod",this.mod)};const i=r[this.platform]||r.main;return{name:n,key:i.replace("Mod",this.mod)}}getHotkeyDisplay(t){return this.hotkeys[t].name}getHotkeyGroups(){return wn.groupBy(wn.entries(this.hotkeys),([,t])=>t.group,([t])=>t)}}class P_n extends Gue{constructor(t){super(Zue),this.overrides=t}getHotkey(t){const n=super.getHotkey(t),r=this.overrides[t]||n.key;return{name:n.name,key:r}}}const ti=new P_n({});function Fa(e,t){const{registerAction:n,unregisterAction:r}=k_n(),i=Zn(()=>t()),o=Zn(s=>{const a=ti.getHotkey(e).key;jz(a)(s)&&t()!==!1&&(s.preventDefault(),s.stopPropagation())});Fz(document,"keydown",o),O.useEffect(()=>(n(e,i),()=>r(e)),[i,e])}function R_n(e,t){Fz(e,"keydown",n=>{for(const[r,i]of wn.entries(t)){const o=ti.getHotkey(r).key;jz(o)(n)&&i()!==!1&&(n.preventDefault(),n.stopPropagation())}})}function A_n(e,t){Fz(e,"keydown",n=>{for(const[r,i]of wn.entries(t))jz(r)(n)&&i()!==!1&&(n.preventDefault(),n.stopPropagation())})}const Kue=e=>b.jsx("kbd",{className:N_(e.className,"rounded-md border border-border bg-muted px-2 text-[0.75rem] font-code"),children:e.children});function Dh(e){const t=ti.getHotkey(e);return b.jsxs("span",{className:"flex",children:[t.name," ",b.jsx("span",{className:"flex ml-1 gap-1",children:zz(t.key).map(n=>b.jsx(Kue,{children:MZe(n)},n))})]})}function Jue(e){const t=ti.getHotkey(e);return b.jsx(_Rt,{className:"flex gap-1 items-center font-mono",children:zz(t.key).map(n=>b.jsx("span",{children:MZe(n)},n))})}function zz(e){return e.split("-").map(t=>{switch(t.toLowerCase()){case"cmd":return"";case"meta":return II()?"":"ctrl";case"shift":return"shift";case"alt":return II()?"":"alt";case"control":case"ctrl":return II()?"":"ctrl";default:return t.toLowerCase()}})}function MZe(e){return e.charAt(0).toUpperCase()+e.slice(1)}const D_n=()=>{const e=O.useRef(null);Fa("global.showHelp",()=>{var i;(i=e.current)==null||i.click()});const t=i=>{const o=ti.getHotkey(i);return b.jsxs("div",{className:"keyboard-shortcut",children:[b.jsx("div",{className:"flex gap-1",children:zz(o.key).map(s=>b.jsx(Kue,{children:s},s))}),b.jsx("span",{children:o.name.toLowerCase()})]},i)},n=ti.getHotkeyGroups(),r=i=>{const o=n[i];return b.jsxs("div",{className:"keyboard-shortcut-group",children:[b.jsx("h3",{className:"text-lg font-medium",children:i}),o.map(s=>t(s))]})};return b.jsxs(x6,{children:[b.jsx(tn,{content:Dh("global.showHelp"),children:b.jsx(DIe,{asChild:!0,children:b.jsx(Qo,{ref:e,shape:"rectangle",color:"white",children:b.jsx(v1t,{className:"help-icon",strokeWidth:1.5})})})}),b.jsxs(jne,{className:"sm:items-center sm:top-0",children:[b.jsx(Fne,{}),b.jsxs(P0,{usePortal:!1,className:"max-h-[90vh] overflow-y-auto min-w-[850px]",children:[b.jsx(qb,{children:"Shortcuts"}),b.jsxs("div",{className:"flex flex-row gap-3",children:[b.jsxs("div",{className:"w-1/2",children:[r("Editing"),r("Navigation")]}),b.jsxs("div",{className:"w-1/2",children:[r("Running Cells"),r("Creation and Ordering"),r("Other")]})]})]})]})]})},IZe=ie.createContext({modal:null,setModal:()=>{}}),N_n=e=>{const[t,n]=ie.useState(null);return b.jsxs(IZe.Provider,{value:{modal:t,setModal:n},children:[t,e.children]})};function K0(){const e=ie.useContext(IZe);if(e===void 0)throw new Error("useModal must be used within a ModalProvider");const t=()=>{e.setModal(null)};return{openModal:n=>{e.setModal(b.jsx(x6,{open:!0,onOpenChange:r=>{r||t()},children:n}))},openAlert:n=>{e.setModal(b.jsx(FY,{open:!0,onOpenChange:r=>{r||t()},children:b.jsxs(G5,{children:[n,b.jsx(K5,{children:b.jsx(m6,{autoFocus:!0,onClick:t,children:"Ok"})})]})}))},openConfirm:n=>{e.setModal(b.jsx(FY,{open:!0,onOpenChange:r=>{r||t()},children:b.jsxs(G5,{children:[b.jsxs(p6,{children:[b.jsx(g6,{className:n.variant==="destructive"?"text-destructive":"",children:n.title}),b.jsx(Dne,{children:n.description})]}),b.jsxs(K5,{children:[b.jsx(fIe,{onClick:t,children:"Cancel"}),n.confirmAction]})]})}))},closeModal:t}}const M_n=({onShutdown:e})=>{const{openConfirm:t,closeModal:n}=K0();return b.jsx(tn,{content:"Shutdown",children:b.jsx(Qo,{"aria-label":"Shutdown",shape:"circle",size:"small",color:"red",className:"h-[27px] w-[27px]",onClick:r=>{r.stopPropagation(),t({title:"Shutdown",description:"This will terminate the Python kernel. You'll lose all data that's in memory.",variant:"destructive",confirmAction:b.jsx(Nne,{onClick:i=>{e(i),n()},"aria-label":"Confirm Shutdown",children:"Shutdown"})})},children:b.jsx(Fh,{strokeWidth:1})})})},I_n=e=>{const t=()=>{yre(new Blob([e.getCellsAsJSON()],{type:"text/plain"}),`${e.proposedName}.json`)};return b.jsx(P0,{className:"w-fit",children:b.jsxs("form",{onSubmit:n=>{n.preventDefault(),t(),e.closeModal()},onKeyDown:n=>{n.key==="Escape"&&e.closeModal()},children:[b.jsx(qb,{className:"text-accent mb-6",children:"Download unsaved changes?"}),b.jsxs(dS,{className:"markdown",children:[b.jsx("p",{children:"This app has unsaved changes. To recover:"}),b.jsxs("ol",{children:[b.jsxs("li",{style:{paddingBottom:"10px"},children:['Click the "Download" button. This will download a file called',b.jsxs("code",{children:[e.proposedName,".json"]}),". This file contains your code."]}),b.jsxs("li",{style:{paddingBottom:"10px"},children:["In your terminal, type",b.jsxs("code",{style:{display:"block",padding:"10px"},children:["marimo recover ",e.proposedName,".json ",">"," ",e.proposedName,".py"]}),"to overwrite ",b.jsxs("code",{children:[e.proposedName,".py"]})," with the recovered changes."]})]})]}),b.jsxs(tR,{children:[b.jsx(zt,{"aria-label":"Cancel",variant:"secondary",onClick:e.closeModal,children:"Cancel"}),b.jsx(zt,{"aria-label":"Download",variant:"default",type:"submit",children:"Download"})]})]})})},L_n=e=>{const{filename:t,needsSave:n,getCellsAsJSON:r}=e,{openModal:i,closeModal:o}=K0(),s=t===null?"app":t.slice(0,-3),a=()=>{n&&i(b.jsx(I_n,{getCellsAsJSON:r,proposedName:s,closeModal:o}))};return Fa("global.save",a),b.jsx(tn,{content:Dh("global.save"),children:b.jsx(Qo,{onClick:a,id:"save-button","aria-label":"Save",className:"rectangle",color:n?"yellow":"gray",children:b.jsx(TNe,{strokeWidth:1.5})})})};function j_n(e){var t=e.Pos;function n(_,k){var P=_.state.vim;if(!P||P.insertMode)return k.head;var M=P.sel.head;if(!M)return k.head;if(!(P.visualBlock&&k.head.line!=M.line))return k.from()==k.anchor&&!k.empty()&&k.head.line==M.line&&k.head.ch!=M.ch?new t(k.head.line,k.head.ch-1):k.head}function r(_,k,P){if(k.line===P.line&&k.ch>=P.ch-1){var M=_.getLine(k.line),F=M.charCodeAt(k.ch);55296<=F&&F<=55551&&(P.ch+=1)}return{start:k,end:P}}var i=[{keys:"<Left>",type:"keyToKey",toKeys:"h"},{keys:"<Right>",type:"keyToKey",toKeys:"l"},{keys:"<Up>",type:"keyToKey",toKeys:"k"},{keys:"<Down>",type:"keyToKey",toKeys:"j"},{keys:"g<Up>",type:"keyToKey",toKeys:"gk"},{keys:"g<Down>",type:"keyToKey",toKeys:"gj"},{keys:"<Space>",type:"keyToKey",toKeys:"l"},{keys:"<BS>",type:"keyToKey",toKeys:"h"},{keys:"<Del>",type:"keyToKey",toKeys:"x"},{keys:"<C-Space>",type:"keyToKey",toKeys:"W"},{keys:"<C-BS>",type:"keyToKey",toKeys:"B"},{keys:"<S-Space>",type:"keyToKey",toKeys:"w"},{keys:"<S-BS>",type:"keyToKey",toKeys:"b"},{keys:"<C-n>",type:"keyToKey",toKeys:"j"},{keys:"<C-p>",type:"keyToKey",toKeys:"k"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-[>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-c>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"<C-Esc>",type:"keyToKey",toKeys:"<Esc>"},{keys:"<C-Esc>",type:"keyToKey",toKeys:"<Esc>",context:"insert"},{keys:"s",type:"keyToKey",toKeys:"cl",context:"normal"},{keys:"s",type:"keyToKey",toKeys:"c",context:"visual"},{keys:"S",type:"keyToKey",toKeys:"cc",context:"normal"},{keys:"S",type:"keyToKey",toKeys:"VdO",context:"visual"},{keys:"<Home>",type:"keyToKey",toKeys:"0"},{keys:"<End>",type:"keyToKey",toKeys:"$"},{keys:"<PageUp>",type:"keyToKey",toKeys:"<C-b>"},{keys:"<PageDown>",type:"keyToKey",toKeys:"<C-f>"},{keys:"<CR>",type:"keyToKey",toKeys:"j^",context:"normal"},{keys:"<Ins>",type:"keyToKey",toKeys:"i",context:"normal"},{keys:"<Ins>",type:"action",action:"toggleOverwrite",context:"insert"},{keys:"H",type:"motion",motion:"moveToTopLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"M",type:"motion",motion:"moveToMiddleLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"L",type:"motion",motion:"moveToBottomLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:"h",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!1}},{keys:"l",type:"motion",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:"j",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,linewise:!0}},{keys:"k",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,linewise:!0}},{keys:"gj",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!0}},{keys:"gk",type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!1}},{keys:"w",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1}},{keys:"W",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1,bigWord:!0}},{keys:"e",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,inclusive:!0}},{keys:"E",type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"b",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1}},{keys:"B",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1,bigWord:!0}},{keys:"ge",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,inclusive:!0}},{keys:"gE",type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:"{",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!1,toJumplist:!0}},{keys:"}",type:"motion",motion:"moveByParagraph",motionArgs:{forward:!0,toJumplist:!0}},{keys:"(",type:"motion",motion:"moveBySentence",motionArgs:{forward:!1}},{keys:")",type:"motion",motion:"moveBySentence",motionArgs:{forward:!0}},{keys:"<C-f>",type:"motion",motion:"moveByPage",motionArgs:{forward:!0}},{keys:"<C-b>",type:"motion",motion:"moveByPage",motionArgs:{forward:!1}},{keys:"<C-d>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!0,explicitRepeat:!0}},{keys:"<C-u>",type:"motion",motion:"moveByScroll",motionArgs:{forward:!1,explicitRepeat:!0}},{keys:"gg",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"G",type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!0,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:"g$",type:"motion",motion:"moveToEndOfDisplayLine"},{keys:"g^",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"g0",type:"motion",motion:"moveToStartOfDisplayLine"},{keys:"0",type:"motion",motion:"moveToStartOfLine"},{keys:"^",type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"+",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0}},{keys:"-",type:"motion",motion:"moveByLines",motionArgs:{forward:!1,toFirstChar:!0}},{keys:"_",type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0,repeatOffset:-1}},{keys:"$",type:"motion",motion:"moveToEol",motionArgs:{inclusive:!0}},{keys:"%",type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:!0,toJumplist:!0}},{keys:"f<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"F<character>",type:"motion",motion:"moveToCharacter",motionArgs:{forward:!1}},{keys:"t<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:"T<character>",type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!1}},{keys:";",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!0}},{keys:",",type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!1}},{keys:"'<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0,linewise:!0}},{keys:"`<character>",type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0}},{keys:"]`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0}},{keys:"[`",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1}},{keys:"]'",type:"motion",motion:"jumpToMark",motionArgs:{forward:!0,linewise:!0}},{keys:"['",type:"motion",motion:"jumpToMark",motionArgs:{forward:!1,linewise:!0}},{keys:"]p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0,matchIndent:!0}},{keys:"[p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0,matchIndent:!0}},{keys:"]<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!0,toJumplist:!0}},{keys:"[<character>",type:"motion",motion:"moveToSymbol",motionArgs:{forward:!1,toJumplist:!0}},{keys:"|",type:"motion",motion:"moveToColumn"},{keys:"o",type:"motion",motion:"moveToOtherHighlightedEnd",context:"visual"},{keys:"O",type:"motion",motion:"moveToOtherHighlightedEnd",motionArgs:{sameLine:!0},context:"visual"},{keys:"d",type:"operator",operator:"delete"},{keys:"y",type:"operator",operator:"yank"},{keys:"c",type:"operator",operator:"change"},{keys:"=",type:"operator",operator:"indentAuto"},{keys:">",type:"operator",operator:"indent",operatorArgs:{indentRight:!0}},{keys:"<",type:"operator",operator:"indent",operatorArgs:{indentRight:!1}},{keys:"g~",type:"operator",operator:"changeCase"},{keys:"gu",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},isEdit:!0},{keys:"gU",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},isEdit:!0},{keys:"n",type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:!0}},{keys:"N",type:"motion",motion:"findNext",motionArgs:{forward:!1,toJumplist:!0}},{keys:"gn",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!0}},{keys:"gN",type:"motion",motion:"findAndSelectNextInclusive",motionArgs:{forward:!1}},{keys:"gq",type:"operator",operator:"hardWrap"},{keys:"gw",type:"operator",operator:"hardWrap",operatorArgs:{keepCursor:!0}},{keys:"x",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!0},operatorMotionArgs:{visualLine:!1}},{keys:"X",type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!1},operatorMotionArgs:{visualLine:!0}},{keys:"D",type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"D",type:"operator",operator:"delete",operatorArgs:{linewise:!0},context:"visual"},{keys:"Y",type:"operatorMotion",operator:"yank",motion:"expandToLine",motionArgs:{linewise:!0},context:"normal"},{keys:"Y",type:"operator",operator:"yank",operatorArgs:{linewise:!0},context:"visual"},{keys:"C",type:"operatorMotion",operator:"change",motion:"moveToEol",motionArgs:{inclusive:!0},context:"normal"},{keys:"C",type:"operator",operator:"change",operatorArgs:{linewise:!0},context:"visual"},{keys:"~",type:"operatorMotion",operator:"changeCase",motion:"moveByCharacters",motionArgs:{forward:!0},operatorArgs:{shouldMoveCursor:!0},context:"normal"},{keys:"~",type:"operator",operator:"changeCase",context:"visual"},{keys:"<C-u>",type:"operatorMotion",operator:"delete",motion:"moveToStartOfLine",context:"insert"},{keys:"<C-w>",type:"operatorMotion",operator:"delete",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1},context:"insert"},{keys:"<C-w>",type:"idle",context:"normal"},{keys:"<C-i>",type:"action",action:"jumpListWalk",actionArgs:{forward:!0}},{keys:"<C-o>",type:"action",action:"jumpListWalk",actionArgs:{forward:!1}},{keys:"<C-e>",type:"action",action:"scroll",actionArgs:{forward:!0,linewise:!0}},{keys:"<C-y>",type:"action",action:"scroll",actionArgs:{forward:!1,linewise:!0}},{keys:"a",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"charAfter"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"eol"},context:"normal"},{keys:"A",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"endOfSelectedArea"},context:"visual"},{keys:"i",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"inplace"},context:"normal"},{keys:"gi",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"lastEdit"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"firstNonBlank"},context:"normal"},{keys:"gI",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"bol"},context:"normal"},{keys:"I",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"startOfSelectedArea"},context:"visual"},{keys:"o",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!0},context:"normal"},{keys:"O",type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!1},context:"normal"},{keys:"v",type:"action",action:"toggleVisualMode"},{keys:"V",type:"action",action:"toggleVisualMode",actionArgs:{linewise:!0}},{keys:"<C-v>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"<C-q>",type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:"gv",type:"action",action:"reselectLastSelection"},{keys:"J",type:"action",action:"joinLines",isEdit:!0},{keys:"gJ",type:"action",action:"joinLines",actionArgs:{keepSpaces:!0},isEdit:!0},{keys:"p",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0}},{keys:"P",type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0}},{keys:"r<character>",type:"action",action:"replace",isEdit:!0},{keys:"@<character>",type:"action",action:"replayMacro"},{keys:"q<character>",type:"action",action:"enterMacroRecordMode"},{keys:"R",type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{replace:!0},context:"normal"},{keys:"R",type:"operator",operator:"change",operatorArgs:{linewise:!0,fullLine:!0},context:"visual",exitVisualBlock:!0},{keys:"u",type:"action",action:"undo",context:"normal"},{keys:"u",type:"operator",operator:"changeCase",operatorArgs:{toLower:!0},context:"visual",isEdit:!0},{keys:"U",type:"operator",operator:"changeCase",operatorArgs:{toLower:!1},context:"visual",isEdit:!0},{keys:"<C-r>",type:"action",action:"redo"},{keys:"m<character>",type:"action",action:"setMark"},{keys:'"<character>',type:"action",action:"setRegister"},{keys:"<C-r><character>",type:"action",action:"insertRegister",context:"insert",isEdit:!0},{keys:"<C-o>",type:"action",action:"oneNormalCommand",context:"insert"},{keys:"zz",type:"action",action:"scrollToCursor",actionArgs:{position:"center"}},{keys:"z.",type:"action",action:"scrollToCursor",actionArgs:{position:"center"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zt",type:"action",action:"scrollToCursor",actionArgs:{position:"top"}},{keys:"z<CR>",type:"action",action:"scrollToCursor",actionArgs:{position:"top"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:"zb",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"}},{keys:"z-",type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:".",type:"action",action:"repeatLastEdit"},{keys:"<C-a>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!0,backtrack:!1}},{keys:"<C-x>",type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!1,backtrack:!1}},{keys:"<C-t>",type:"action",action:"indent",actionArgs:{indentRight:!0},context:"insert"},{keys:"<C-d>",type:"action",action:"indent",actionArgs:{indentRight:!1},context:"insert"},{keys:"a<character>",type:"motion",motion:"textObjectManipulation"},{keys:"i<character>",type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:!0}},{keys:"/",type:"search",searchArgs:{forward:!0,querySrc:"prompt",toJumplist:!0}},{keys:"?",type:"search",searchArgs:{forward:!1,querySrc:"prompt",toJumplist:!0}},{keys:"*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:"g*",type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:"g#",type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:":",type:"ex"}],o=i.length,s=[{name:"colorscheme",shortName:"colo"},{name:"map"},{name:"imap",shortName:"im"},{name:"nmap",shortName:"nm"},{name:"vmap",shortName:"vm"},{name:"omap",shortName:"om"},{name:"noremap",shortName:"no"},{name:"nnoremap",shortName:"nn"},{name:"vnoremap",shortName:"vn"},{name:"inoremap",shortName:"ino"},{name:"onoremap",shortName:"ono"},{name:"unmap"},{name:"mapclear",shortName:"mapc"},{name:"nmapclear",shortName:"nmapc"},{name:"vmapclear",shortName:"vmapc"},{name:"imapclear",shortName:"imapc"},{name:"omapclear",shortName:"omapc"},{name:"write",shortName:"w"},{name:"undo",shortName:"u"},{name:"redo",shortName:"red"},{name:"set",shortName:"se"},{name:"setlocal",shortName:"setl"},{name:"setglobal",shortName:"setg"},{name:"sort",shortName:"sor"},{name:"substitute",shortName:"s",possiblyAsync:!0},{name:"startinsert",shortName:"start"},{name:"nohlsearch",shortName:"noh"},{name:"yank",shortName:"y"},{name:"delmarks",shortName:"delm"},{name:"registers",shortName:"reg",excludeFromCommandHistory:!0},{name:"vglobal",shortName:"v"},{name:"delete",shortName:"d"},{name:"join",shortName:"j"},{name:"normal",shortName:"norm"},{name:"global",shortName:"g"}];function a(_){_.setOption("disableInput",!0),_.setOption("showCursorWhenSelecting",!1),e.signal(_,"vim-mode-change",{mode:"normal"}),_.on("cursorActivity",the),ce(_),e.on(_.getInputField(),"paste",y(_))}function l(_){_.setOption("disableInput",!1),_.off("cursorActivity",the),e.off(_.getInputField(),"paste",y(_)),_.state.vim=null,NA&&clearTimeout(NA)}function c(_,k){this==e.keyMap.vim&&(_.options.$customCursor=null,e.rmClass(_.getWrapperElement(),"cm-fat-cursor")),(!k||k.attach!=u)&&l(_)}function u(_,k){this==e.keyMap.vim&&(_.curOp&&(_.curOp.selectionChanged=!0),_.options.$customCursor=n,e.addClass(_.getWrapperElement(),"cm-fat-cursor")),(!k||k.attach!=u)&&a(_)}e.defineOption("vimMode",!1,function(_,k,P){k&&_.getOption("keyMap")!="vim"?_.setOption("keyMap","vim"):!k&&P!=e.Init&&/^vim/.test(_.getOption("keyMap"))&&_.setOption("keyMap","default")});function f(_,k){if(k){if(this[_])return this[_];var P=g(_);if(!P)return!1;var M=ue.findKey(k,P);return typeof M=="function"&&e.signal(k,"vim-keypress",P),M}}var d={Shift:"S",Ctrl:"C",Alt:"A",Cmd:"D",Mod:"A",CapsLock:""},h={Enter:"CR",Backspace:"BS",Delete:"Del",Insert:"Ins"},p={};"Left|Right|Up|Down|End|Home".split("|").concat(Object.keys(h)).forEach(function(_){p[(h[_]||"").toLowerCase()]=p[_.toLowerCase()]=_});function g(_){if(_.charAt(0)=="'")return _.charAt(1);var k=_.split(/-(?!$)/),P=k[k.length-1];if(k.length==1&&k[0].length==1)return!1;if(k.length==2&&k[0]=="Shift"&&P.length==1)return!1;for(var M=!1,F=0;F<k.length;F++){var z=k[F];z in d?k[F]=d[z]:M=!0,z in h&&(k[F]=h[z])}return M?(D(P)&&(k[k.length-1]=P.toLowerCase()),"<"+k.join("-")+">"):!1}function y(_){var k=_.state.vim;return k.onPasteFn||(k.onPasteFn=function(){k.insertMode||(_.setCursor(At(_.getCursor(),0,1)),ht.enterInsertMode(_,{},k))}),k.onPasteFn}var v=/[\d]/,x=[e.isWordChar,function(_){return _&&!e.isWordChar(_)&&!/\s/.test(_)}],m=[function(_){return/\S/.test(_)}];function w(_,k){for(var P=[],M=_;M<_+k;M++)P.push(String.fromCharCode(M));return P}var S=w(65,26),C=w(97,26),$=w(48,10),E=[].concat(S,C,$,["<",">"]),R=[].concat(S,C,$,["-",'"',".",":","_","/","+"]),N;try{N=new RegExp("^[\\p{Lu}]$","u")}catch{N=/^[A-Z]$/}function I(_,k){return k>=_.firstLine()&&k<=_.lastLine()}function j(_){return/^[a-z]$/.test(_)}function A(_){return"()[]{}".indexOf(_)!=-1}function T(_){return v.test(_)}function D(_){return N.test(_)}function L(_){return/^\s*$/.test(_)}function W(_){return".?!".indexOf(_)!=-1}function V(_,k){for(var P=0;P<k.length;P++)if(k[P]==_)return!0;return!1}var Q={};function B(_,k,P,M,F){if(k===void 0&&!F)throw Error("defaultValue is required unless callback is provided");if(P||(P="string"),Q[_]={type:P,defaultValue:k,callback:F},M)for(var z=0;z<M.length;z++)Q[M[z]]=Q[_];k&&Y(_,k)}function Y(_,k,P,M){var F=Q[_];M=M||{};var z=M.scope;if(!F)return new Error("Unknown option: "+_);if(F.type=="boolean"){if(k&&k!==!0)return new Error("Invalid argument: "+_+"="+k);k!==!1&&(k=!0)}F.callback?(z!=="local"&&F.callback(k,void 0),z!=="global"&&P&&F.callback(k,P)):(z!=="local"&&(F.value=F.type=="boolean"?!!k:k),z!=="global"&&P&&(P.state.vim.options[_]={value:k}))}function U(_,k,P){var M=Q[_];P=P||{};var F=P.scope;if(!M)return new Error("Unknown option: "+_);if(M.callback){var z=k&&M.callback(void 0,k);return F!=="global"&&z!==void 0?z:F!=="local"?M.callback():void 0}else{var z=F!=="global"&&k&&k.state.vim.options[_];return(z||F!=="local"&&M||{}).value}}B("filetype",void 0,"string",["ft"],function(_,k){if(k!==void 0)if(_===void 0){var P=k.getOption("mode");return P=="null"?"":P}else{var P=_==""?"null":_;k.setOption("mode",P)}}),B("textwidth",80,"number",["tw"],function(_,k){if(k!==void 0)if(_===void 0){var P=k.getOption("textwidth");return P}else{var M=Math.round(_);M>1&&k.setOption("textwidth",M)}});var q=function(){var _=100,k=-1,P=0,M=0,F=new Array(_);function z(J,de,he){var Te=k%_,Re=F[Te];function Se(Ye){var je=++k%_,Nt=F[je];Nt&&Nt.clear(),F[je]=J.setBookmark(Ye)}if(Re){var xe=Re.find();xe&&!ar(xe,de)&&Se(de)}else Se(de);Se(he),P=k,M=k-_+1,M<0&&(M=0)}function X(J,de){k+=de,k>P?k=P:k<M&&(k=M);var he=F[(_+k)%_];if(he&&!he.find()){var Te=de>0?1:-1,Re,Se=J.getCursor();do if(k+=Te,he=F[(_+k)%_],he&&(Re=he.find())&&!ar(Se,Re))break;while(k<P&&k>M)}return he}function ee(J,de){var he=k,Te=X(J,de);return k=he,Te&&Te.find()}return{cachedCursor:void 0,add:z,find:ee,move:X}},Z=function(_){return _?{changes:_.changes,expectCursorActivityForChange:_.expectCursorActivityForChange}:{changes:[],expectCursorActivityForChange:!1}};function oe(){this.latestRegister=void 0,this.isPlaying=!1,this.isRecording=!1,this.replaySearchQueries=[],this.onRecordingDone=void 0,this.lastInsertModeChanges=Z()}oe.prototype={exitMacroRecordMode:function(){var _=re.macroModeState;_.onRecordingDone&&_.onRecordingDone(),_.onRecordingDone=void 0,_.isRecording=!1},enterMacroRecordMode:function(_,k){var P=re.registerController.getRegister(k);if(P){if(P.clear(),this.latestRegister=k,_.openDialog){var M=Yg("span",{class:"cm-vim-message"},"recording @"+k);this.onRecordingDone=_.openDialog(M,null,{bottom:!0})}this.isRecording=!0}}};function ce(_){return _.state.vim||(_.state.vim={inputState:new _e,lastEditInputState:void 0,lastEditActionCommand:void 0,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},insertMode:!1,insertModeReturn:!1,insertModeRepeat:void 0,visualMode:!1,visualLine:!1,visualBlock:!1,lastSelection:null,lastPastedText:null,sel:{},options:{}}),_.state.vim}var re;function fe(){re={searchQuery:null,searchIsReversed:!1,lastSubstituteReplacePart:void 0,jumpList:q(),macroModeState:new oe,lastCharacterSearch:{increment:0,forward:!0,selectedCharacter:""},registerController:new K({}),searchHistoryController:new ge,exCommandHistoryController:new ge};for(var _ in Q){var k=Q[_];k.value=k.defaultValue}}var ae,ue={enterVimMode:a,leaveVimMode:l,buildKeyMap:function(){},getRegisterController:function(){return re.registerController},resetVimGlobalState_:fe,getVimGlobalState_:function(){return re},maybeInitVimState_:ce,suppressErrorLogging:!1,InsertModeKey:L9,map:function(_,k,P){ef.map(_,k,P)},unmap:function(_,k){return ef.unmap(_,k)},noremap:function(_,k,P){ef.map(_,k,P,!0)},mapclear:function(_){var k=i.length,P=o,M=i.slice(0,k-P);if(i=i.slice(k-P),_)for(var F=M.length-1;F>=0;F--){var z=M[F];if(_!==z.context)if(z.context)this._mapCommand(z);else{var X=["normal","insert","visual"];for(var ee in X)if(X[ee]!==_){var J={};for(var de in z)J[de]=z[de];J.context=X[ee],this._mapCommand(J)}}}},setOption:Y,getOption:U,defineOption:B,defineEx:function(_,k,P){if(!k)k=_;else if(_.indexOf(k)!==0)throw new Error('(Vim.defineEx) "'+k+'" is not a prefix of "'+_+'", command not registered');Kde[_]=P,ef.commandMap_[k]={name:_,shortName:k,type:"api"}},handleKey:function(_,k,P){var M=this.findKey(_,k,P);if(typeof M=="function")return M()},multiSelectHandleKey:uit,findKey:function(_,k,P){var M=ce(_);function F(){var de=re.macroModeState;if(de.isRecording){if(k=="q")return de.exitMacroRecordMode(),ke(_),!0;P!="mapping"&&ait(de,k)}}function z(){if(k=="<Esc>"){if(M.visualMode)dn(_);else if(M.insertMode)Xg(_);else return;return ke(_),!0}}function X(){if(z())return!0;M.inputState.keyBuffer.push(k);var de=M.inputState.keyBuffer.join(""),he=k.length==1,Te=Oe.matchCommand(de,i,M.inputState,"insert"),Re=M.inputState.changeQueue;if(Te.type=="none")return ke(_),!1;if(Te.type=="partial"){if(ae&&window.clearTimeout(ae),ae=he&&window.setTimeout(function(){M.insertMode&&M.inputState.keyBuffer.length&&ke(_)},U("insertModeEscKeysTimeout")),he){var Se=_.listSelections();(!Re||Re.removed.length!=Se.length)&&(Re=M.inputState.changeQueue=new ze),Re.inserted+=k;for(var xe=0;xe<Se.length;xe++){var Ye=wr(Se[xe].anchor,Se[xe].head),je=wo(Se[xe].anchor,Se[xe].head),Nt=_.getRange(Ye,_.state.overwrite?At(je,0,1):je);Re.removed[xe]=(Re.removed[xe]||"")+Nt}}return!he}if(ae&&window.clearTimeout(ae),Te.command&&Re){for(var Se=_.listSelections(),xe=0;xe<Se.length;xe++){var Bt=Se[xe].head;_.replaceRange(Re.removed[xe]||"",At(Bt,0,-Re.inserted.length),Bt,"+input")}re.macroModeState.lastInsertModeChanges.changes.pop()}return Te.command||ke(_),Te.command}function ee(){if(F()||z())return!0;M.inputState.keyBuffer.push(k);var de=M.inputState.keyBuffer.join("");if(/^[1-9]\d*$/.test(de))return!0;var he=/^(\d*)(.*)$/.exec(de);if(!he)return ke(_),!1;var Te=M.visualMode?"visual":"normal",Re=he[2]||he[1];M.inputState.operatorShortcut&&M.inputState.operatorShortcut.slice(-1)==Re&&(Re=M.inputState.operatorShortcut);var Se=Oe.matchCommand(Re,i,M.inputState,Te);return Se.type=="none"?(ke(_),!1):Se.type=="partial"?!0:Se.type=="clear"?(ke(_),!0):(M.inputState.keyBuffer.length=0,he=/^(\d*)(.*)$/.exec(de),he[1]&&he[1]!="0"&&M.inputState.pushRepeatDigit(he[1]),Se.command)}var J;return M.insertMode?J=X():J=ee(),J===!1?!M.insertMode&&k.length===1?function(){return!0}:void 0:J===!0?function(){return!0}:function(){return _.operation(function(){_.curOp.isVimOp=!0;try{J.type=="keyToKey"?Le(_,J.toKeys,J):Oe.processCommand(_,M,J)}catch(de){throw _.state.vim=void 0,ce(_),ue.suppressErrorLogging||console.log(de),de}return!0})}},handleEx:function(_,k){ef.processCommand(_,k)},defineMotion:Fe,defineAction:pt,defineOperator:ft,mapCommand:oit,_mapCommand:Jde,defineRegister:Be,exitVisualMode:dn,exitInsertMode:Xg},me=[],ne=!1;function Le(_,k,P){var M=ne;if(P){if(me.indexOf(P)!=-1)return;me.push(P),ne=P.noremap!=!1}try{for(var F=ce(_),z=/<(?:[CSMA]-)*\w+>|./gi,X;X=z.exec(k);){var ee=X[0],J=F.insertMode,de=ue.handleKey(_,ee,"mapping");if(!de&&J&&F.insertMode){if(ee[0]=="<"){var he=ee.toLowerCase().slice(1,-1),Te=he.split("-");if(he=Te.pop()||"",he=="lt")ee="<";else if(he=="space")ee=" ";else if(he=="cr")ee=`
`;else if(p.hasOwnProperty(he)){ee=p[he],ohe(_,ee);continue}else ee=ee[0],z.lastIndex=X.index+1}_.replaceSelection(ee)}}}finally{me.pop(),ne=me.length?M:!1}}function _e(){this.prefixRepeat=[],this.motionRepeat=[],this.operator=null,this.operatorArgs=null,this.motion=null,this.motionArgs=null,this.keyBuffer=[],this.registerName=null,this.changeQueue=null}_e.prototype.pushRepeatDigit=function(_){this.operator?this.motionRepeat=this.motionRepeat.concat(_):this.prefixRepeat=this.prefixRepeat.concat(_)},_e.prototype.getRepeat=function(){var _=0;return(this.prefixRepeat.length>0||this.motionRepeat.length>0)&&(_=1,this.prefixRepeat.length>0&&(_*=parseInt(this.prefixRepeat.join(""),10)),this.motionRepeat.length>0&&(_*=parseInt(this.motionRepeat.join(""),10))),_};function ke(_,k){_.state.vim.inputState=new _e,e.signal(_,"vim-command-done",k)}function ze(){this.removed=[],this.inserted=""}function Je(_,k,P){this.clear(),this.keyBuffer=[_||""],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!!k,this.blockwise=!!P}Je.prototype={setText:function(_,k,P){this.keyBuffer=[_||""],this.linewise=!!k,this.blockwise=!!P},pushText:function(_,k){k&&(this.linewise||this.keyBuffer.push(`
`),this.linewise=!0),this.keyBuffer.push(_)},pushInsertModeChanges:function(_){this.insertModeChanges.push(Z(_))},pushSearchQuery:function(_){this.searchQueries.push(_)},clear:function(){this.keyBuffer=[],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!1},toString:function(){return this.keyBuffer.join("")}};function Be(_,k){var P=re.registerController.registers;if(!_||_.length!=1)throw Error("Register name must be 1 character");if(P[_])throw Error("Register already defined "+_);P[_]=k,R.push(_)}function K(_){this.registers=_,this.unnamedRegister=_['"']=new Je,_["."]=new Je,_[":"]=new Je,_["/"]=new Je,_["+"]=new Je}K.prototype={pushText:function(_,k,P,M,F){if(_!=="_"){M&&P.charAt(P.length-1)!==`
`&&(P+=`
`);var z=this.isValidRegister(_)?this.getRegister(_):null;if(!z){switch(k){case"yank":this.registers[0]=new Je(P,M,F);break;case"delete":case"change":P.indexOf(`
`)==-1?this.registers["-"]=new Je(P,M):(this.shiftNumericRegisters_(),this.registers[1]=new Je(P,M));break}this.unnamedRegister.setText(P,M,F);return}var X=D(_);X?z.pushText(P,M):z.setText(P,M,F),_==="+"&&navigator.clipboard.writeText(P),this.unnamedRegister.setText(z.toString(),M)}},getRegister:function(_){return this.isValidRegister(_)?(_=_.toLowerCase(),this.registers[_]||(this.registers[_]=new Je),this.registers[_]):this.unnamedRegister},isValidRegister:function(_){return _&&V(_,R)},shiftNumericRegisters_:function(){for(var _=9;_>=2;_--)this.registers[_]=this.getRegister(""+(_-1))}};function ge(){this.historyBuffer=[],this.iterator=0,this.initialPrefix=null}ge.prototype={nextMatch:function(_,k){var P=this.historyBuffer,M=k?-1:1;this.initialPrefix===null&&(this.initialPrefix=_);for(var F=this.iterator+M;k?F>=0:F<P.length;F+=M)for(var z=P[F],X=0;X<=z.length;X++)if(this.initialPrefix==z.substring(0,X))return this.iterator=F,z;if(F>=P.length)return this.iterator=P.length,this.initialPrefix;if(F<0)return _},pushInput:function(_){var k=this.historyBuffer.indexOf(_);k>-1&&this.historyBuffer.splice(k,1),_.length&&this.historyBuffer.push(_)},reset:function(){this.initialPrefix=null,this.iterator=this.historyBuffer.length}};var Oe={matchCommand:function(_,k,P,M){var F=Hr(_,k,M,P);if(!F.full&&!F.partial)return{type:"none"};if(!F.full&&F.partial)return{type:"partial"};for(var z,X=0;X<F.full.length;X++){var ee=F.full[X];z||(z=ee)}if(z.keys.slice(-11)=="<character>"){var J=Zr(_);if(!J||J.length>1)return{type:"clear"};P.selectedCharacter=J}return{type:"full",command:z}},processCommand:function(_,k,P){switch(k.inputState.repeatOverride=P.repeatOverride,P.type){case"motion":this.processMotion(_,k,P);break;case"operator":this.processOperator(_,k,P);break;case"operatorMotion":this.processOperatorMotion(_,k,P);break;case"action":this.processAction(_,k,P);break;case"search":this.processSearch(_,k,P);break;case"ex":case"keyToEx":this.processEx(_,k,P);break}},processMotion:function(_,k,P){k.inputState.motion=P.motion,k.inputState.motionArgs=on(P.motionArgs),this.evalInput(_,k)},processOperator:function(_,k,P){var M=k.inputState;if(M.operator)if(M.operator==P.operator){M.motion="expandToLine",M.motionArgs={linewise:!0},this.evalInput(_,k);return}else ke(_);M.operator=P.operator,M.operatorArgs=on(P.operatorArgs),P.keys.length>1&&(M.operatorShortcut=P.keys),P.exitVisualBlock&&(k.visualBlock=!1,Ri(_)),k.visualMode&&this.evalInput(_,k)},processOperatorMotion:function(_,k,P){var M=k.visualMode,F=on(P.operatorMotionArgs);F&&M&&F.visualLine&&(k.visualLine=!0),this.processOperator(_,k,P),M||this.processMotion(_,k,P)},processAction:function(_,k,P){var M=k.inputState,F=M.getRepeat(),z=!!F,X=on(P.actionArgs)||{};M.selectedCharacter&&(X.selectedCharacter=M.selectedCharacter),P.operator&&this.processOperator(_,k,P),P.motion&&this.processMotion(_,k,P),(P.motion||P.operator)&&this.evalInput(_,k),X.repeat=F||1,X.repeatIsExplicit=z,X.registerName=M.registerName,ke(_),k.lastMotion=null,P.isEdit&&this.recordLastEdit(k,M,P),ht[P.action](_,X,k)},processSearch:function(_,k,P){if(!_.getSearchCursor)return;var M=P.searchArgs.forward,F=P.searchArgs.wholeWordOnly;xd(_).setReversed(!M);var z=M?"/":"?",X=xd(_).getQuery(),ee=_.getScrollInfo();function J(je,Nt,Bt){re.searchHistoryController.pushInput(je),re.searchHistoryController.reset();try{FC(_,je,Nt,Bt)}catch{Sr(_,"Invalid regex: "+je),ke(_);return}Oe.processMotion(_,k,{type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:P.searchArgs.toJumplist}})}function de(je){_.scrollTo(ee.left,ee.top),J(je,!0,!0);var Nt=re.macroModeState;Nt.isRecording&&cit(Nt,je)}function he(je,Nt,Bt){var Ct=e.keyName(je),Pr,Vs;Ct=="Up"||Ct=="Down"?(Pr=Ct=="Up",Vs=je.target?je.target.selectionEnd:0,Nt=re.searchHistoryController.nextMatch(Nt,Pr)||"",Bt(Nt),Vs&&je.target&&(je.target.selectionEnd=je.target.selectionStart=Math.min(Vs,je.target.value.length))):Ct!="Left"&&Ct!="Right"&&Ct!="Ctrl"&&Ct!="Alt"&&Ct!="Shift"&&re.searchHistoryController.reset();var Di;try{Di=FC(_,Nt,!0,!0)}catch{}Di?_.scrollIntoView(Hde(_,!M,Di),30):(M9(_),_.scrollTo(ee.left,ee.top))}function Te(je,Nt,Bt){var Ct=e.keyName(je);Ct=="Esc"||Ct=="Ctrl-C"||Ct=="Ctrl-["||Ct=="Backspace"&&Nt==""?(re.searchHistoryController.pushInput(Nt),re.searchHistoryController.reset(),FC(_,X),M9(_),_.scrollTo(ee.left,ee.top),e.e_stop(je),ke(_),Bt(),_.focus()):Ct=="Up"||Ct=="Down"?e.e_stop(je):Ct=="Ctrl-U"&&(e.e_stop(je),Bt(""))}switch(P.searchArgs.querySrc){case"prompt":var Re=re.macroModeState;if(Re.isPlaying){var Ye=Re.replaySearchQueries.shift();J(Ye,!0,!1)}else DA(_,{onClose:de,prefix:z,desc:"(JavaScript regexp)",onKeyUp:he,onKeyDown:Te});break;case"wordUnderCursor":var Se=Ie(_,{noSymbol:!0}),xe=!0;if(Se||(Se=Ie(_,{noSymbol:!1}),xe=!1),!Se){Sr(_,"No word under cursor"),ke(_);return}var Ye=_.getLine(Se.start.line).substring(Se.start.ch,Se.end.ch);xe&&F?Ye="\\b"+Ye+"\\b":Ye=io(Ye),re.jumpList.cachedCursor=_.getCursor(),_.setCursor(Se.start),J(Ye,!0,!1);break}},processEx:function(_,k,P){function M(z){re.exCommandHistoryController.pushInput(z),re.exCommandHistoryController.reset(),ef.processCommand(_,z),_.state.vim&&ke(_)}function F(z,X,ee){var J=e.keyName(z),de,he;(J=="Esc"||J=="Ctrl-C"||J=="Ctrl-["||J=="Backspace"&&X=="")&&(re.exCommandHistoryController.pushInput(X),re.exCommandHistoryController.reset(),e.e_stop(z),ke(_),ee(),_.focus()),J=="Up"||J=="Down"?(e.e_stop(z),de=J=="Up",he=z.target?z.target.selectionEnd:0,X=re.exCommandHistoryController.nextMatch(X,de)||"",ee(X),he&&z.target&&(z.target.selectionEnd=z.target.selectionStart=Math.min(he,z.target.value.length))):J=="Ctrl-U"?(e.e_stop(z),ee("")):J!="Left"&&J!="Right"&&J!="Ctrl"&&J!="Alt"&&J!="Shift"&&re.exCommandHistoryController.reset()}P.type=="keyToEx"?ef.processCommand(_,P.exArgs.input):k.visualMode?DA(_,{onClose:M,prefix:":",value:"'<,'>",onKeyDown:F,selectValueOnOpen:!1}):DA(_,{onClose:M,prefix:":",onKeyDown:F})},evalInput:function(_,k){var P=k.inputState,M=P.motion,F=P.motionArgs||{},z=P.operator,X=P.operatorArgs||{},ee=P.registerName,J=k.sel,de=Qt(k.visualMode?Mt(_,J.head):_.getCursor("head")),he=Qt(k.visualMode?Mt(_,J.anchor):_.getCursor("anchor")),Te=Qt(de),Re=Qt(he),Se,xe,Ye;if(z&&this.recordLastEdit(k,P),P.repeatOverride!==void 0?Ye=P.repeatOverride:Ye=P.getRepeat(),Ye>0&&F.explicitRepeat?F.repeatIsExplicit=!0:(F.noRepeat||!F.explicitRepeat&&Ye===0)&&(Ye=1,F.repeatIsExplicit=!1),P.selectedCharacter&&(F.selectedCharacter=X.selectedCharacter=P.selectedCharacter),F.repeat=Ye,ke(_),M){var je=Ve[M](_,de,F,k,P);if(k.lastMotion=Ve[M],!je)return;if(F.toJumplist){var Nt=re.jumpList,Bt=Nt.cachedCursor;Bt?(bt(_,Bt,je),delete Nt.cachedCursor):bt(_,de,je)}je instanceof Array?(xe=je[0],Se=je[1]):Se=je,Se||(Se=Qt(de)),k.visualMode?(k.visualBlock&&Se.ch===1/0||(Se=Mt(_,Se,Te)),xe&&(xe=Mt(_,xe)),xe=xe||Re,J.anchor=xe,J.head=Se,Ri(_),Ai(_,k,"<",_n(xe,Se)?xe:Se),Ai(_,k,">",_n(xe,Se)?Se:xe)):z||(Se=Mt(_,Se,Te),_.setCursor(Se.line,Se.ch))}if(z){if(X.lastSel){xe=Re;var Ct=X.lastSel,Pr=Math.abs(Ct.head.line-Ct.anchor.line),Vs=Math.abs(Ct.head.ch-Ct.anchor.ch);Ct.visualLine?Se=new t(Re.line+Pr,Re.ch):Ct.visualBlock?Se=new t(Re.line+Pr,Re.ch+Vs):Ct.head.line==Ct.anchor.line?Se=new t(Re.line,Re.ch+Vs):Se=new t(Re.line+Pr,Re.ch),k.visualMode=!0,k.visualLine=Ct.visualLine,k.visualBlock=Ct.visualBlock,J=k.sel={anchor:xe,head:Se},Ri(_)}else k.visualMode&&(X.lastSel={anchor:Qt(J.anchor),head:Qt(J.head),visualBlock:k.visualBlock,visualLine:k.visualLine});var Di,Ho,jn,Bn,Ra;if(k.visualMode){Di=wr(J.head,J.anchor),Ho=wo(J.head,J.anchor),jn=k.visualLine||X.linewise,Bn=k.visualBlock?"block":jn?"line":"char";var _o=r(_,Di,Ho);if(Ra=Ws(_,{anchor:_o.start,head:_o.end},Bn),jn){var Co=Ra.ranges;if(Bn=="block")for(var Hg=0;Hg<Co.length;Hg++)Co[Hg].head.ch=Kt(_,Co[Hg].head.line);else Bn=="line"&&(Co[0].head=new t(Co[0].head.line+1,0))}}else{if(Di=Qt(xe||Re),Ho=Qt(Se||Te),_n(Ho,Di)){var fit=Di;Di=Ho,Ho=fit}jn=F.linewise||X.linewise,jn?Dt(_,Di,Ho):F.forward&&qn(_,Di,Ho),Bn="char";var dit=!F.inclusive||jn,_o=r(_,Di,Ho);Ra=Ws(_,{anchor:_o.start,head:_o.end},Bn,dit)}_.setSelections(Ra.ranges,Ra.primary),k.lastMotion=null,X.repeat=Ye,X.registerName=ee,X.linewise=jn;var F9=Ne[z](_,X,Ra.ranges,Re,Se);k.visualMode&&dn(_,F9!=null),F9&&_.setCursor(F9)}},recordLastEdit:function(_,k,P){var M=re.macroModeState;M.isPlaying||(_.lastEditInputState=k,_.lastEditActionCommand=P,M.lastInsertModeChanges.changes=[],M.lastInsertModeChanges.expectCursorActivityForChange=!1,M.lastInsertModeChanges.visualBlock=_.visualBlock?_.sel.head.line-_.sel.anchor.line:0)}},Ve={moveToTopLine:function(_,k,P){var M=I9(_).top+P.repeat-1;return new t(M,se(_.getLine(M)))},moveToMiddleLine:function(_){var k=I9(_),P=Math.floor((k.top+k.bottom)*.5);return new t(P,se(_.getLine(P)))},moveToBottomLine:function(_,k,P){var M=I9(_).bottom-P.repeat+1;return new t(M,se(_.getLine(M)))},expandToLine:function(_,k,P){var M=k;return new t(M.line+P.repeat-1,1/0)},findNext:function(_,k,P){var M=xd(_),F=M.getQuery();if(F){var z=!P.forward;return z=M.isReversed()?!z:z,Xde(_,F),Hde(_,z,F,P.repeat)}},findAndSelectNextInclusive:function(_,k,P,M,F){var z=xd(_),X=z.getQuery();if(X){var ee=!P.forward;ee=z.isReversed()?!ee:ee;var J=nit(_,ee,X,P.repeat,M);if(J){if(F.operator)return J;var de=J[0],he=new t(J[1].line,J[1].ch-1);if(M.visualMode){(M.visualLine||M.visualBlock)&&(M.visualLine=!1,M.visualBlock=!1,e.signal(_,"vim-mode-change",{mode:"visual",subMode:""}));var Te=M.sel.anchor;if(Te)return z.isReversed()?P.forward?[Te,de]:[Te,he]:P.forward?[Te,he]:[Te,de]}else M.visualMode=!0,M.visualLine=!1,M.visualBlock=!1,e.signal(_,"vim-mode-change",{mode:"visual",subMode:""});return ee?[he,de]:[de,he]}}},goToMark:function(_,k,P,M){var F=MA(_,M,P.selectedCharacter);return F?P.linewise?{line:F.line,ch:se(_.getLine(F.line))}:F:null},moveToOtherHighlightedEnd:function(_,k,P,M){if(M.visualBlock&&P.sameLine){var F=M.sel;return[Mt(_,new t(F.anchor.line,F.head.ch)),Mt(_,new t(F.head.line,F.anchor.ch))]}else return[M.sel.head,M.sel.anchor]},jumpToMark:function(_,k,P,M){for(var F=k,z=0;z<P.repeat;z++){var X=F;for(var ee in M.marks)if(j(ee)){var J=M.marks[ee].find(),de=P.forward?_n(J,X):_n(X,J);if(!de&&!(P.linewise&&J.line==X.line)){var he=ar(X,F),Te=P.forward?Dn(X,J,F):Dn(F,J,X);(he||Te)&&(F=J)}}}return P.linewise&&(F=new t(F.line,se(_.getLine(F.line)))),F},moveByCharacters:function(_,k,P){var M=k,F=P.repeat,z=P.forward?M.ch+F:M.ch-F;return new t(M.line,z)},moveByLines:function(_,k,P,M){var F=k,z=F.ch;switch(M.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:z=M.lastHPos;break;default:M.lastHPos=z}var X=P.repeat+(P.repeatOffset||0),ee=P.forward?F.line+X:F.line-X,J=_.firstLine(),de=_.lastLine(),he=_.findPosV(F,P.forward?X:-X,"line",M.lastHSPos),Te=P.forward?he.line>ee:he.line<ee;return Te&&(ee=he.line,z=he.ch),ee<J&&F.line==J?this.moveToStartOfLine(_,k,P,M):ee>de&&F.line==de?Ln(_,k,P,M,!0):(P.toFirstChar&&(z=se(_.getLine(ee)),M.lastHPos=z),M.lastHSPos=_.charCoords(new t(ee,z),"div").left,new t(ee,z))},moveByDisplayLines:function(_,k,P,M){var F=k;switch(M.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:M.lastHSPos=_.charCoords(F,"div").left}var z=P.repeat,X=_.findPosV(F,P.forward?z:-z,"line",M.lastHSPos);if(X.hitSide)if(P.forward)var ee=_.charCoords(X,"div"),J={top:ee.top+8,left:M.lastHSPos},X=_.coordsChar(J,"div");else{var de=_.charCoords(new t(_.firstLine(),0),"div");de.left=M.lastHSPos,X=_.coordsChar(de,"div")}return M.lastHPos=X.ch,X},moveByPage:function(_,k,P){var M=k,F=P.repeat;return _.findPosV(M,P.forward?F:-F,"page")},moveByParagraph:function(_,k,P){var M=P.forward?1:-1;return RA(_,k,P.repeat,M)},moveBySentence:function(_,k,P){var M=P.forward?1:-1;return N9(_,k,P.repeat,M)},moveByScroll:function(_,k,P,M){var F=_.getScrollInfo(),z=null,X=P.repeat;X||(X=F.clientHeight/(2*_.defaultTextHeight()));var ee=_.charCoords(k,"local");if(P.repeat=X,z=Ve.moveByDisplayLines(_,k,P,M),!z)return null;var J=_.charCoords(z,"local");return _.scrollTo(null,F.top+J.top-ee.top),z},moveByWords:function(_,k,P){return Tr(_,k,P.repeat,!!P.forward,!!P.wordEnd,!!P.bigWord)},moveTillCharacter:function(_,k,P){var M=P.repeat,F=Gr(_,M,P.forward,P.selectedCharacter,k),z=P.forward?-1:1;return lr(z,P),F?(F.ch+=z,F):null},moveToCharacter:function(_,k,P){var M=P.repeat;return lr(0,P),Gr(_,M,P.forward,P.selectedCharacter,k)||k},moveToSymbol:function(_,k,P){var M=P.repeat;return Lr(_,M,P.forward,P.selectedCharacter)||k},moveToColumn:function(_,k,P,M){var F=P.repeat;return M.lastHPos=F-1,M.lastHSPos=_.charCoords(k,"div").left,So(_,F)},moveToEol:function(_,k,P,M){return Ln(_,k,P,M,!1)},moveToFirstNonWhiteSpaceCharacter:function(_,k){var P=k;return new t(P.line,se(_.getLine(P.line)))},moveToMatchedSymbol:function(_,k){for(var P=k,M=P.line,F=P.ch,z=_.getLine(M),X;F<z.length;F++)if(X=z.charAt(F),X&&A(X)){var ee=_.getTokenTypeAt(new t(M,F+1));if(ee!=="string"&&ee!=="comment")break}if(F<z.length){var J=F==="<"||F===">"?/[(){}[\]<>]/:/[(){}[\]]/,de=_.findMatchingBracket(new t(M,F),{bracketRegex:J});return de.to}else return P},moveToStartOfLine:function(_,k){return new t(k.line,0)},moveToLineOrEdgeOfDocument:function(_,k,P){var M=P.forward?_.lastLine():_.firstLine();return P.repeatIsExplicit&&(M=P.repeat-_.getOption("firstLineNumber")),new t(M,se(_.getLine(M)))},moveToStartOfDisplayLine:function(_){return _.execCommand("goLineLeft"),_.getCursor()},moveToEndOfDisplayLine:function(_){_.execCommand("goLineRight");var k=_.getCursor();return k.sticky=="before"&&k.ch--,k},textObjectManipulation:function(_,k,P,M){var F={"(":")",")":"(","{":"}","}":"{","[":"]","]":"[","<":">",">":"<"},z={"'":!0,'"':!0,"`":!0},X=P.selectedCharacter;X=="b"?X="(":X=="B"&&(X="{");var ee=!P.textObjectInner,J,de;if(F[X]){if(de=!0,J=_O(_,k,X,ee),!J){var he=_.getSearchCursor(new RegExp("\\"+X,"g"),k);he.find()&&(J=_O(_,he.from(),X,ee))}}else if(z[X])de=!0,J=qrt(_,k,X,ee);else if(X==="W"||X==="w")for(var Te=P.repeat||1;Te-- >0;){var Re=Ie(_,{inclusive:ee,innerWord:!ee,bigWord:X==="W",noSymbol:X==="W",multiline:!0},J&&J.end);Re&&(J||(J=Re),J.end=Re.end)}else if(X==="p")if(J=RA(_,k,P.repeat,0,ee),P.linewise=!0,M.visualMode)M.visualLine||(M.visualLine=!0);else{var Se=M.inputState.operatorArgs;Se&&(Se.linewise=!0),J.end.line--}else if(X==="t")J=it(_,k,ee);else if(X==="s"){var xe=_.getLine(k.line);k.ch>0&&W(xe[k.ch])&&(k.ch-=1);var Ye=AA(_,k,P.repeat,1,ee),je=AA(_,k,P.repeat,-1,ee);L(_.getLine(je.line)[je.ch])&&L(_.getLine(Ye.line)[Ye.ch-1])&&(je={line:je.line,ch:je.ch+1}),J={start:je,end:Ye}}return J?_.state.vim.visualMode?ul(_,J.start,J.end,de):[J.start,J.end]:null},repeatLastCharacterSearch:function(_,k,P){var M=re.lastCharacterSearch,F=P.repeat,z=P.forward===M.forward,X=(M.increment?1:0)*(z?-1:1);_.moveH(-X,"char"),P.inclusive=!!z;var ee=Gr(_,F,z,M.selectedCharacter);return ee?(ee.ch+=X,ee):(_.moveH(X,"char"),k)}};function Fe(_,k){Ve[_]=k}function ye(_,k){for(var P=[],M=0;M<k;M++)P.push(_);return P}var Ne={change:function(_,k,P){var M,F,z=_.state.vim,X=P[0].anchor,ee=P[0].head;if(z.visualMode)if(k.fullLine)ee.ch=Number.MAX_VALUE,ee.line--,_.setSelection(X,ee),F=_.getSelection(),_.replaceSelection(""),M=X;else{F=_.getSelection();var he=ye("",P.length);_.replaceSelections(he),M=wr(P[0].head,P[0].anchor)}else{F=_.getRange(X,ee);var J=z.lastEditInputState||{};if(J.motion=="moveByWords"&&!L(F)){var de=/\s+$/.exec(F);de&&J.motionArgs&&J.motionArgs.forward&&(ee=At(ee,0,-de[0].length),F=F.slice(0,-de[0].length))}k.linewise&&(X=new t(X.line,se(_.getLine(X.line))),ee.line>X.line&&(ee=new t(ee.line-1,Number.MAX_VALUE))),_.replaceRange("",X,ee),M=X}re.registerController.pushText(k.registerName,"change",F,k.linewise,P.length>1),ht.enterInsertMode(_,{head:M},_.state.vim)},delete:function(_,k,P){var M,F,z=_.state.vim;if(z.visualBlock){F=_.getSelection();var J=ye("",P.length);_.replaceSelections(J),M=wr(P[0].head,P[0].anchor)}else{var X=P[0].anchor,ee=P[0].head;k.linewise&&ee.line!=_.firstLine()&&X.line==_.lastLine()&&X.line==ee.line-1&&(X.line==_.firstLine()?X.ch=0:X=new t(X.line-1,Kt(_,X.line-1))),F=_.getRange(X,ee),_.replaceRange("",X,ee),M=X,k.linewise&&(M=Ve.moveToFirstNonWhiteSpaceCharacter(_,X))}return re.registerController.pushText(k.registerName,"delete",F,k.linewise,z.visualBlock),Mt(_,M)},indent:function(_,k,P){var M=_.state.vim;if(_.indentMore)for(var F=M.visualMode?k.repeat:1,z=0;z<F;z++)k.indentRight?_.indentMore():_.indentLess();else{var X=P[0].anchor.line,ee=M.visualBlock?P[P.length-1].anchor.line:P[0].head.line,F=M.visualMode?k.repeat:1;k.linewise&&ee--;for(var J=X;J<=ee;J++)for(var z=0;z<F;z++)_.indentLine(J,k.indentRight)}return Ve.moveToFirstNonWhiteSpaceCharacter(_,P[0].anchor)},indentAuto:function(_,k,P){return _.execCommand("indentAuto"),Ve.moveToFirstNonWhiteSpaceCharacter(_,P[0].anchor)},hardWrap:function(_,k,P,M,F){if(_.hardWrap){var z=P[0].anchor.line,X=P[0].head.line;k.linewise&&X--;var ee=_.hardWrap({from:z,to:X});return ee>z&&k.linewise&&ee--,k.keepCursor?M:new t(ee,0)}},changeCase:function(_,k,P,M,F){for(var z=_.getSelections(),X=[],ee=k.toLower,J=0;J<z.length;J++){var de=z[J],he="";if(ee===!0)he=de.toLowerCase();else if(ee===!1)he=de.toUpperCase();else for(var Te=0;Te<de.length;Te++){var Re=de.charAt(Te);he+=D(Re)?Re.toLowerCase():Re.toUpperCase()}X.push(he)}return _.replaceSelections(X),k.shouldMoveCursor?F:!_.state.vim.visualMode&&k.linewise&&P[0].anchor.line+1==P[0].head.line?Ve.moveToFirstNonWhiteSpaceCharacter(_,M):k.linewise?M:wr(P[0].anchor,P[0].head)},yank:function(_,k,P,M){var F=_.state.vim,z=_.getSelection(),X=F.visualMode?wr(F.sel.anchor,F.sel.head,P[0].head,P[0].anchor):M;return re.registerController.pushText(k.registerName,"yank",z,k.linewise,F.visualBlock),X}};function ft(_,k){Ne[_]=k}var ht={jumpListWalk:function(_,k,P){if(!P.visualMode){var M=k.repeat,F=k.forward,z=re.jumpList,X=z.move(_,F?M:-M),ee=X?X.find():void 0;ee=ee||_.getCursor(),_.setCursor(ee)}},scroll:function(_,k,P){if(!P.visualMode){var M=k.repeat||1,F=_.defaultTextHeight(),z=_.getScrollInfo().top,X=F*M,ee=k.forward?z+X:z-X,J=Qt(_.getCursor()),de=_.charCoords(J,"local");if(k.forward)ee>de.top?(J.line+=(ee-de.top)/F,J.line=Math.ceil(J.line),_.setCursor(J),de=_.charCoords(J,"local"),_.scrollTo(null,de.top)):_.scrollTo(null,ee);else{var he=ee+_.getScrollInfo().clientHeight;he<de.bottom?(J.line-=(de.bottom-he)/F,J.line=Math.floor(J.line),_.setCursor(J),de=_.charCoords(J,"local"),_.scrollTo(null,de.bottom-_.getScrollInfo().clientHeight)):_.scrollTo(null,ee)}}},scrollToCursor:function(_,k){var P=_.getCursor().line,M=_.charCoords(new t(P,0),"local"),F=_.getScrollInfo().clientHeight,z=M.top;switch(k.position){case"center":z=M.bottom-F/2;break;case"bottom":var X=new t(P,_.getLine(P).length-1),ee=_.charCoords(X,"local"),J=ee.bottom-z;z=z-F+J;break}_.scrollTo(null,z)},replayMacro:function(_,k,P){var M=k.selectedCharacter,F=k.repeat,z=re.macroModeState;for(M=="@"?M=z.latestRegister:z.latestRegister=M;F--;)sit(_,P,z,M)},enterMacroRecordMode:function(_,k){var P=re.macroModeState,M=k.selectedCharacter;re.registerController.isValidRegister(M)&&P.enterMacroRecordMode(_,M)},toggleOverwrite:function(_){_.state.overwrite?(_.toggleOverwrite(!1),_.setOption("keyMap","vim-insert"),e.signal(_,"vim-mode-change",{mode:"insert"})):(_.toggleOverwrite(!0),_.setOption("keyMap","vim-replace"),e.signal(_,"vim-mode-change",{mode:"replace"}))},enterInsertMode:function(_,k,P){if(!_.getOption("readOnly")){P.insertMode=!0,P.insertModeRepeat=k&&k.repeat||1;var M=k?k.insertAt:null,F=P.sel,z=k.head||_.getCursor("head"),X=_.listSelections().length;if(M=="eol")z=new t(z.line,Kt(_,z.line));else if(M=="bol")z=new t(z.line,0);else if(M=="charAfter"){var ee=r(_,z,At(z,0,1));z=ee.end}else if(M=="firstNonBlank"){var ee=r(_,z,Ve.moveToFirstNonWhiteSpaceCharacter(_,z));z=ee.end}else if(M=="startOfSelectedArea"){if(!P.visualMode)return;P.visualBlock?(z=new t(Math.min(F.head.line,F.anchor.line),Math.min(F.head.ch,F.anchor.ch)),X=Math.abs(F.head.line-F.anchor.line)+1):F.head.line<F.anchor.line?z=F.head:z=new t(F.anchor.line,0)}else if(M=="endOfSelectedArea"){if(!P.visualMode)return;P.visualBlock?(z=new t(Math.min(F.head.line,F.anchor.line),Math.max(F.head.ch,F.anchor.ch)+1),X=Math.abs(F.head.line-F.anchor.line)+1):F.head.line>=F.anchor.line?z=At(F.head,0,1):z=new t(F.anchor.line,0)}else if(M=="inplace"){if(P.visualMode)return}else M=="lastEdit"&&(z=Zde(_)||z);_.setOption("disableInput",!1),k&&k.replace?(_.toggleOverwrite(!0),_.setOption("keyMap","vim-replace"),e.signal(_,"vim-mode-change",{mode:"replace"})):(_.toggleOverwrite(!1),_.setOption("keyMap","vim-insert"),e.signal(_,"vim-mode-change",{mode:"insert"})),re.macroModeState.isPlaying||(_.on("change",ehe),P.insertEnd&&P.insertEnd.clear(),P.insertEnd=_.setBookmark(z,{insertLeft:!0}),e.on(_.getInputField(),"keydown",rhe)),P.visualMode&&dn(_),oo(_,z,X)}},toggleVisualMode:function(_,k,P){var M=k.repeat,F=_.getCursor(),z;if(P.visualMode)P.visualLine^k.linewise||P.visualBlock^k.blockwise?(P.visualLine=!!k.linewise,P.visualBlock=!!k.blockwise,e.signal(_,"vim-mode-change",{mode:"visual",subMode:P.visualLine?"linewise":P.visualBlock?"blockwise":""}),Ri(_)):dn(_);else{P.visualMode=!0,P.visualLine=!!k.linewise,P.visualBlock=!!k.blockwise,z=Mt(_,new t(F.line,F.ch+M-1));var X=r(_,F,z);P.sel={anchor:X.start,head:X.end},e.signal(_,"vim-mode-change",{mode:"visual",subMode:P.visualLine?"linewise":P.visualBlock?"blockwise":""}),Ri(_),Ai(_,P,"<",wr(F,z)),Ai(_,P,">",wo(F,z))}},reselectLastSelection:function(_,k,P){var M=P.lastSelection;if(P.visualMode&&Pa(_,P),M){var F=M.anchorMark.find(),z=M.headMark.find();if(!F||!z)return;P.sel={anchor:F,head:z},P.visualMode=!0,P.visualLine=M.visualLine,P.visualBlock=M.visualBlock,Ri(_),Ai(_,P,"<",wr(F,z)),Ai(_,P,">",wo(F,z)),e.signal(_,"vim-mode-change",{mode:"visual",subMode:P.visualLine?"linewise":P.visualBlock?"blockwise":""})}},joinLines:function(_,k,P){var M,F;if(P.visualMode){if(M=_.getCursor("anchor"),F=_.getCursor("head"),_n(F,M)){var z=F;F=M,M=z}F.ch=Kt(_,F.line)-1}else{var X=Math.max(k.repeat,2);M=_.getCursor(),F=Mt(_,new t(M.line+X-1,1/0))}for(var ee=0,J=M.line;J<F.line;J++){ee=Kt(_,M.line);var de="",he=0;if(!k.keepSpaces){var Te=_.getLine(M.line+1);he=Te.search(/\S/),he==-1?he=Te.length:de=" "}_.replaceRange(de,new t(M.line,ee),new t(M.line+1,he))}var Re=Mt(_,new t(M.line,ee));P.visualMode&&dn(_,!1),_.setCursor(Re)},newLineAndEnterInsertMode:function(_,k,P){P.insertMode=!0;var M=Qt(_.getCursor());if(M.line===_.firstLine()&&!k.after)_.replaceRange(`
`,new t(_.firstLine(),0)),_.setCursor(_.firstLine(),0);else{M.line=k.after?M.line:M.line-1,M.ch=Kt(_,M.line),_.setCursor(M);var F=e.commands.newlineAndIndentContinueComment||e.commands.newlineAndIndent;F(_)}this.enterInsertMode(_,{repeat:k.repeat},P)},paste:function(_,k,P){var M=re.registerController.getRegister(k.registerName);if(k.registerName==="+")navigator.clipboard.readText().then(z=>{this.continuePaste(_,k,P,z,M)});else{var F=M.toString();this.continuePaste(_,k,P,F,M)}},continuePaste:function(_,k,P,M,F){var z=Qt(_.getCursor());if(M){if(k.matchIndent){var X=_.getOption("tabSize"),ee=function(_o){var Co=_o.split("	").length-1,Hg=_o.split(" ").length-1;return Co*X+Hg*1},J=_.getLine(_.getCursor().line),de=ee(J.match(/^\s*/)[0]),he=M.replace(/\n$/,""),Te=M!==he,Re=ee(M.match(/^\s*/)[0]),M=he.replace(/^\s*/gm,function(_o){var Co=de+(ee(_o)-Re);if(Co<0)return"";if(_.getOption("indentWithTabs")){var Hg=Math.floor(Co/X);return Array(Hg+1).join("	")}else return Array(Co+1).join(" ")});M+=Te?`
`:""}if(k.repeat>1)var M=Array(k.repeat+1).join(M);var Se=F.linewise,xe=F.blockwise;if(xe){M=M.split(`
`),Se&&M.pop();for(var Ye=0;Ye<M.length;Ye++)M[Ye]=M[Ye]==""?" ":M[Ye];z.ch+=k.after?1:0,z.ch=Math.min(Kt(_,z.line),z.ch)}else Se?P.visualMode?M=P.visualLine?M.slice(0,-1):`
`+M.slice(0,M.length-1)+`
`:k.after?(M=`
`+M.slice(0,M.length-1),z.ch=Kt(_,z.line)):z.ch=0:z.ch+=k.after?1:0;var je;if(P.visualMode){P.lastPastedText=M;var Nt,Bt=fi(_,P),Ct=Bt[0],Pr=Bt[1],Vs=_.getSelection(),Di=_.listSelections(),Ho=new Array(Di.length).join("1").split("1");P.lastSelection&&(Nt=P.lastSelection.headMark.find()),re.registerController.unnamedRegister.setText(Vs),xe?(_.replaceSelections(Ho),Pr=new t(Ct.line+M.length-1,Ct.ch),_.setCursor(Ct),Oi(_,Pr),_.replaceSelections(M),je=Ct):P.visualBlock?(_.replaceSelections(Ho),_.setCursor(Ct),_.replaceRange(M,Ct,Ct),je=Ct):(_.replaceRange(M,Ct,Pr),je=_.posFromIndex(_.indexFromPos(Ct)+M.length-1)),Nt&&(P.lastSelection.headMark=_.setBookmark(Nt)),Se&&(je.ch=0)}else if(xe){_.setCursor(z);for(var Ye=0;Ye<M.length;Ye++){var jn=z.line+Ye;jn>_.lastLine()&&_.replaceRange(`
`,new t(jn,0));var Bn=Kt(_,jn);Bn<z.ch&&Xi(_,jn,z.ch)}_.setCursor(z),Oi(_,new t(z.line+M.length-1,z.ch)),_.replaceSelections(M),je=z}else if(_.replaceRange(M,z),Se){var jn=k.after?z.line+1:z.line;je=new t(jn,se(_.getLine(jn)))}else je=Qt(z),/\n/.test(M)||(je.ch+=M.length-(k.after?1:0));P.visualMode&&dn(_,!1),_.setCursor(je)}},undo:function(_,k){_.operation(function(){Ir(_,e.commands.undo,k.repeat)(),_.setCursor(Mt(_,_.getCursor("start")))})},redo:function(_,k){Ir(_,e.commands.redo,k.repeat)()},setRegister:function(_,k,P){P.inputState.registerName=k.selectedCharacter},insertRegister:function(_,k,P){var M=k.selectedCharacter,F=re.registerController.getRegister(M),z=F&&F.toString();z&&_.replaceSelection(z)},oneNormalCommand:function(_,k,P){Xg(_,!0),P.insertModeReturn=!0,e.on(_,"vim-command-done",function M(){P.visualMode||(P.insertModeReturn&&(P.insertModeReturn=!1,P.insertMode||ht.enterInsertMode(_,{},P)),e.off(_,"vim-command-done",M))})},setMark:function(_,k,P){var M=k.selectedCharacter;Ai(_,P,M,_.getCursor())},replace:function(_,k,P){var M=k.selectedCharacter,F=_.getCursor(),z,X,ee=_.listSelections();if(P.visualMode)F=_.getCursor("start"),X=_.getCursor("end");else{var J=_.getLine(F.line);z=F.ch+k.repeat,z>J.length&&(z=J.length),X=new t(F.line,z)}var de=r(_,F,X);if(F=de.start,X=de.end,M==`
`)P.visualMode||_.replaceRange("",F,X),(e.commands.newlineAndIndentContinueComment||e.commands.newlineAndIndent)(_);else{var he=_.getRange(F,X);if(he=he.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,M),he=he.replace(/[^\n]/g,M),P.visualBlock){var Te=new Array(_.getOption("tabSize")+1).join(" ");he=_.getSelection(),he=he.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,M),he=he.replace(/\t/g,Te).replace(/[^\n]/g,M).split(`
`),_.replaceSelections(he)}else _.replaceRange(he,F,X);P.visualMode?(F=_n(ee[0].anchor,ee[0].head)?ee[0].anchor:ee[0].head,_.setCursor(F),dn(_,!1)):_.setCursor(At(X,0,-1))}},incrementNumberToken:function(_,k){for(var P=_.getCursor(),M=_.getLine(P.line),F=/(-?)(?:(0x)([\da-f]+)|(0b|0|)(\d+))/gi,z,X,ee,J;(z=F.exec(M))!==null&&(X=z.index,ee=X+z[0].length,!(P.ch<ee)););if(!(!k.backtrack&&ee<=P.ch)){if(z){var de=z[2]||z[4],he=z[3]||z[5],Te=k.increase?1:-1,Re={"0b":2,0:8,"":10,"0x":16}[de.toLowerCase()],Se=parseInt(z[1]+he,Re)+Te*k.repeat;J=Se.toString(Re);var xe=de?new Array(he.length-J.length+1+z[1].length).join("0"):"";J.charAt(0)==="-"?J="-"+de+xe+J.substr(1):J=de+xe+J;var Ye=new t(P.line,X),je=new t(P.line,ee);_.replaceRange(J,Ye,je)}else return;_.setCursor(new t(P.line,X+J.length-1))}},repeatLastEdit:function(_,k,P){var M=P.lastEditInputState;if(M){var F=k.repeat;F&&k.repeatIsExplicit?P.lastEditInputState.repeatOverride=F:F=P.lastEditInputState.repeatOverride||F,ihe(_,P,F,!1)}},indent:function(_,k){_.indentLine(_.getCursor().line,k.indentRight)},exitInsertMode:Xg};function pt(_,k){ht[_]=k}function Mt(_,k,P){var M=_.state.vim,F=M.insertMode||M.visualMode,z=Math.min(Math.max(_.firstLine(),k.line),_.lastLine()),X=_.getLine(z),ee=X.length-1+ +!!F,J=Math.min(Math.max(0,k.ch),ee),de=X.charCodeAt(J);if(56320<=de&&de<=57343){var he=1;P&&P.line==z&&P.ch>J&&(he=-1),J+=he,J>ee&&(J-=2)}return new t(z,J)}function on(_){var k={};for(var P in _)_.hasOwnProperty(P)&&(k[P]=_[P]);return k}function At(_,k,P){return typeof k=="object"&&(P=k.ch,k=k.line),new t(_.line+k,_.ch+P)}function Hr(_,k,P,M){M.operator&&(P="operatorPending");for(var F,z=[],X=[],ee=ne?k.length-o:0,J=ee;J<k.length;J++){var de=k[J];P=="insert"&&de.context!="insert"||de.context&&de.context!=P||M.operator&&de.type=="action"||!(F=bi(_,de.keys))||(F=="partial"&&z.push(de),F=="full"&&X.push(de))}return{partial:z.length&&z,full:X.length&&X}}function bi(_,k){if(k.slice(-11)=="<character>"){var P=k.length-11,M=_.slice(0,P),F=k.slice(0,P);return M==F&&_.length>P?"full":F.indexOf(M)==0?"partial":!1}else return _==k?"full":k.indexOf(_)==0?"partial":!1}function Zr(_){var k=/^.*(<[^>]+>)$/.exec(_),P=k?k[1]:_.slice(-1);if(P.length>1)switch(P){case"<CR>":P=`
`;break;case"<Space>":P=" ";break;default:P="";break}return P}function Ir(_,k,P){return function(){for(var M=0;M<P;M++)k(_)}}function Qt(_){return new t(_.line,_.ch)}function ar(_,k){return _.ch==k.ch&&_.line==k.line}function _n(_,k){return _.line<k.line||_.line==k.line&&_.ch<k.ch}function wr(_,k){return arguments.length>2&&(k=wr.apply(void 0,Array.prototype.slice.call(arguments,1))),_n(_,k)?_:k}function wo(_,k){return arguments.length>2&&(k=wo.apply(void 0,Array.prototype.slice.call(arguments,1))),_n(_,k)?k:_}function Dn(_,k,P){var M=_n(_,k),F=_n(k,P);return M&&F}function Kt(_,k){return _.getLine(k).length}function ui(_){return _.trim?_.trim():_.replace(/^\s+|\s+$/g,"")}function io(_){return _.replace(/([.?*+$\[\]\/\\(){}|\-])/g,"\\$1")}function Xi(_,k,P){var M=Kt(_,k),F=new Array(P-M+1).join(" ");_.setCursor(new t(k,M)),_.replaceRange(F,_.getCursor())}function Oi(_,k){var P=[],M=_.listSelections(),F=Qt(_.clipPos(k)),z=!ar(k,F),X=_.getCursor("head"),ee=so(M,X),J=ar(M[ee].head,M[ee].anchor),de=M.length-1,he=de-ee>ee?de:0,Te=M[he].anchor,Re=Math.min(Te.line,F.line),Se=Math.max(Te.line,F.line),xe=Te.ch,Ye=F.ch,je=M[he].head.ch-xe,Nt=Ye-xe;je>0&&Nt<=0?(xe++,z||Ye--):je<0&&Nt>=0?(xe--,J||Ye++):je<0&&Nt==-1&&(xe--,Ye++);for(var Bt=Re;Bt<=Se;Bt++){var Ct={anchor:new t(Bt,xe),head:new t(Bt,Ye)};P.push(Ct)}return _.setSelections(P),k.ch=Ye,Te.ch=xe,Te}function oo(_,k,P){for(var M=[],F=0;F<P;F++){var z=At(k,F,0);M.push({anchor:z,head:z})}_.setSelections(M,0)}function so(_,k,P){for(var M=0;M<_.length;M++){var F=P!="head"&&ar(_[M].anchor,k),z=P!="anchor"&&ar(_[M].head,k);if(F||z)return M}return-1}function fi(_,k){var P=k.lastSelection,M=function(){var z=_.listSelections(),X=z[0],ee=z[z.length-1],J=_n(X.anchor,X.head)?X.anchor:X.head,de=_n(ee.anchor,ee.head)?ee.head:ee.anchor;return[J,de]},F=function(){var z=_.getCursor(),X=_.getCursor(),ee=P.visualBlock;if(ee){var J=ee.width,de=ee.height;X=new t(z.line+de,z.ch+J);for(var he=[],Te=z.line;Te<X.line;Te++){var Re=new t(Te,z.ch),Se=new t(Te,X.ch),xe={anchor:Re,head:Se};he.push(xe)}_.setSelections(he)}else{var Ye=P.anchorMark.find(),je=P.headMark.find(),Nt=je.line-Ye.line,Bt=je.ch-Ye.ch;X={line:X.line+Nt,ch:Nt?X.ch:Bt+X.ch},P.visualLine&&(z=new t(z.line,0),X=new t(X.line,Kt(_,X.line))),_.setSelection(z,X)}return[z,X]};return k.visualMode?M():F()}function Pa(_,k){var P=k.sel.anchor,M=k.sel.head;k.lastPastedText&&(M=_.posFromIndex(_.indexFromPos(P)+k.lastPastedText.length),k.lastPastedText=null),k.lastSelection={anchorMark:_.setBookmark(P),headMark:_.setBookmark(M),anchor:Qt(P),head:Qt(M),visualMode:k.visualMode,visualLine:k.visualLine,visualBlock:k.visualBlock}}function ul(_,k,P,M){var F=_.state.vim.sel,z=M?k:F.head,X=M?k:F.anchor,ee;return _n(P,k)&&(ee=P,P=k,k=ee),_n(z,X)?(z=wr(k,z),X=wo(X,P)):(X=wr(k,X),z=wo(z,P),z=At(z,0,-1),z.ch==-1&&z.line!=_.firstLine()&&(z=new t(z.line-1,Kt(_,z.line-1)))),[X,z]}function Ri(_,k,F){var M=_.state.vim;k=k||M.sel;var F=F||M.visualLine?"line":M.visualBlock?"block":"char",z=Ws(_,k,F);_.setSelections(z.ranges,z.primary)}function Ws(_,k,P,M){var F=Qt(k.head),z=Qt(k.anchor);if(P=="char"){var X=!M&&!_n(k.head,k.anchor)?1:0,ee=_n(k.head,k.anchor)?1:0;return F=At(k.head,0,X),z=At(k.anchor,0,ee),{ranges:[{anchor:z,head:F}],primary:0}}else if(P=="line"){if(_n(k.head,k.anchor))F.ch=0,z.ch=Kt(_,z.line);else{z.ch=0;var J=_.lastLine();F.line>J&&(F.line=J),F.ch=Kt(_,F.line)}return{ranges:[{anchor:z,head:F}],primary:0}}else if(P=="block"){var de=Math.min(z.line,F.line),he=z.ch,Te=Math.max(z.line,F.line),Re=F.ch;he<Re?Re+=1:he+=1;for(var Se=Te-de+1,xe=F.line==de?0:Se-1,Ye=[],je=0;je<Se;je++)Ye.push({anchor:new t(de+je,he),head:new t(de+je,Re)});return{ranges:Ye,primary:xe}}}function te(_){var k=_.getCursor("head");return _.getSelection().length==1&&(k=wr(k,_.getCursor("anchor"))),k}function dn(_,k){var P=_.state.vim;k!==!1&&_.setCursor(Mt(_,P.sel.head)),Pa(_,P),P.visualMode=!1,P.visualLine=!1,P.visualBlock=!1,P.insertMode||e.signal(_,"vim-mode-change",{mode:"normal"})}function qn(_,k,P){var M=_.getRange(k,P);if(/\n\s*$/.test(M)){var F=M.split(`
`);F.pop();for(var z,z=F.pop();F.length>0&&z&&L(z);z=F.pop())P.line--,P.ch=0;z?(P.line--,P.ch=Kt(_,P.line)):P.ch=0}}function Dt(_,k,P){k.ch=0,P.ch=0,P.line++}function se(_){if(!_)return 0;var k=_.search(/\S/);return k==-1?_.length:k}function Ie(_,{inclusive:k,innerWord:P,bigWord:M,noSymbol:F,multiline:z},X){var ee=X||te(_),J=_.getLine(ee.line),de=J,he=ee.line,Te=he,Re=ee.ch,Se,xe=F?x[0]:m[0];if(P&&/\s/.test(J.charAt(Re)))xe=function(Pr){return/\s/.test(Pr)};else{for(;!xe(J.charAt(Re));)if(Re++,Re>=J.length){if(!z)return null;Re--,Se=vn(_,ee,!0,M,!0);break}M?xe=m[0]:(xe=x[0],xe(J.charAt(Re))||(xe=x[1]))}for(var Ye=Re,je=Re;xe(J.charAt(je))&&je>=0;)je--;if(je++,Se)Ye=Se.to,Te=Se.line,de=_.getLine(Te),!de&&Ye==0&&Ye++;else for(;xe(J.charAt(Ye))&&Ye<J.length;)Ye++;if(k){var Nt=Ye,Bt=ee.ch<=je&&/\s/.test(J.charAt(ee.ch));if(!Bt)for(;/\s/.test(de.charAt(Ye))&&Ye<de.length;)Ye++;if(Nt==Ye||Bt){for(var Ct=je;/\s/.test(J.charAt(je-1))&&je>0;)je--;!je&&!Bt&&(je=Ct)}}return{start:new t(he,je),end:new t(Te,Ye)}}function it(_,k,P){var M=k;if(!e.findMatchingTag||!e.findEnclosingTag)return{start:M,end:M};var F=e.findMatchingTag(_,k)||e.findEnclosingTag(_,k);return!F||!F.open||!F.close?{start:M,end:M}:P?{start:F.open.from,end:F.close.to}:{start:F.open.to,end:F.close.from}}function bt(_,k,P){ar(k,P)||re.jumpList.add(_,k,P)}function lr(_,k){re.lastCharacterSearch.increment=_,re.lastCharacterSearch.forward=k.forward,re.lastCharacterSearch.selectedCharacter=k.selectedCharacter}var er={"(":"bracket",")":"bracket","{":"bracket","}":"bracket","[":"section","]":"section","*":"comment","/":"comment",m:"method",M:"method","#":"preprocess"},tr={bracket:{isComplete:function(_){if(_.nextCh===_.symb){if(_.depth++,_.depth>=1)return!0}else _.nextCh===_.reverseSymb&&_.depth--;return!1}},section:{init:function(_){_.curMoveThrough=!0,_.symb=(_.forward?"]":"[")===_.symb?"{":"}"},isComplete:function(_){return _.index===0&&_.nextCh===_.symb}},comment:{isComplete:function(_){var k=_.lastCh==="*"&&_.nextCh==="/";return _.lastCh=_.nextCh,k}},method:{init:function(_){_.symb=_.symb==="m"?"{":"}",_.reverseSymb=_.symb==="{"?"}":"{"},isComplete:function(_){return _.nextCh===_.symb}},preprocess:{init:function(_){_.index=0},isComplete:function(_){if(_.nextCh==="#"){var k=_.lineText.match(/^#(\w+)/)[1];if(k==="endif"){if(_.forward&&_.depth===0)return!0;_.depth++}else if(k==="if"){if(!_.forward&&_.depth===0)return!0;_.depth--}if(k==="else"&&_.depth===0)return!0}return!1}}};function Lr(_,k,P,M){var F=Qt(_.getCursor()),z=P?1:-1,X=P?_.lineCount():-1,ee=F.ch,J=F.line,de=_.getLine(J),he={lineText:de,nextCh:de.charAt(ee),lastCh:null,index:ee,symb:M,reverseSymb:(P?{")":"(","}":"{"}:{"(":")","{":"}"})[M],forward:P,depth:0,curMoveThrough:!1},Te=er[M];if(!Te)return F;var Re=tr[Te].init,Se=tr[Te].isComplete;for(Re&&Re(he);J!==X&&k;){if(he.index+=z,he.nextCh=he.lineText.charAt(he.index),!he.nextCh){if(J+=z,he.lineText=_.getLine(J)||"",z>0)he.index=0;else{var xe=he.lineText.length;he.index=xe>0?xe-1:0}he.nextCh=he.lineText.charAt(he.index)}Se(he)&&(F.line=J,F.ch=he.index,k--)}return he.nextCh||he.curMoveThrough?new t(J,he.index):F}function vn(_,k,P,M,F){var z=k.line,X=k.ch,ee=_.getLine(z),J=P?1:-1,de=M?m:x;if(F&&ee==""){if(z+=J,ee=_.getLine(z),!I(_,z))return null;X=P?0:ee.length}for(;;){if(F&&ee=="")return{from:0,to:0,line:z};for(var he=J>0?ee.length:-1,Te=he,Re=he;X!=he;){for(var Se=!1,xe=0;xe<de.length&&!Se;++xe)if(de[xe](ee.charAt(X))){for(Te=X;X!=he&&de[xe](ee.charAt(X));)X+=J;if(Re=X,Se=Te!=Re,Te==k.ch&&z==k.line&&Re==Te+J)continue;return{from:Math.min(Te,Re+1),to:Math.max(Te,Re),line:z}}Se||(X+=J)}if(z+=J,!I(_,z))return null;ee=_.getLine(z),X=J>0?0:ee.length}}function Tr(_,k,P,M,F,z){var X=Qt(k),ee=[];(M&&!F||!M&&F)&&P++;for(var J=!(M&&F),de=0;de<P;de++){var he=vn(_,k,M,z,J);if(!he){var Te=Kt(_,_.lastLine());ee.push(M?{line:_.lastLine(),from:Te,to:Te}:{line:0,from:0,to:0});break}ee.push(he),k=new t(he.line,M?he.to-1:he.from)}var Re=ee.length!=P,Se=ee[0],xe=ee.pop();return M&&!F?(!Re&&(Se.from!=X.ch||Se.line!=X.line)&&(xe=ee.pop()),new t(xe.line,xe.from)):M&&F?new t(xe.line,xe.to-1):!M&&F?(!Re&&(Se.to!=X.ch||Se.line!=X.line)&&(xe=ee.pop()),new t(xe.line,xe.to)):new t(xe.line,xe.from)}function Ln(_,k,P,M,F){var z=k,X=new t(z.line+P.repeat-1,1/0),ee=_.clipPos(X);return ee.ch--,F||(M.lastHPos=1/0,M.lastHSPos=_.charCoords(ee,"div").left),X}function Gr(_,k,P,M,F){for(var z=F||_.getCursor(),X=z.ch,ee,J=0;J<k;J++){var de=_.getLine(z.line);if(ee=SO(X,de,M,P,!0),ee==-1)return null;X=ee}return new t(_.getCursor().line,ee)}function So(_,k){var P=_.getCursor().line;return Mt(_,new t(P,k-1))}function Ai(_,k,P,M){V(P,E)&&(k.marks[P]&&k.marks[P].clear(),k.marks[P]=_.setBookmark(M))}function SO(_,k,P,M,F){var z;return M?(z=k.indexOf(P,_+1),z!=-1&&!F&&(z-=1)):(z=k.lastIndexOf(P,_-1),z!=-1&&!F&&(z+=1)),z}function RA(_,k,P,M,F){var z=k.line,X=_.firstLine(),ee=_.lastLine(),J,de,he=z;function Te(je){return!_.getLine(je)}function Re(je,Nt,Bt){return Bt?Te(je)!=Te(je+Nt):!Te(je)&&Te(je+Nt)}if(M){for(;X<=he&&he<=ee&&P>0;)Re(he,M)&&P--,he+=M;return new t(he,0)}var Se=_.state.vim;if(Se.visualLine&&Re(z,1,!0)){var xe=Se.sel.anchor;Re(xe.line,-1,!0)&&(!F||xe.line!=z)&&(z+=1)}var Ye=Te(z);for(he=z;he<=ee&&P;he++)Re(he,1,!0)&&(!F||Te(he)!=Ye)&&P--;for(de=new t(he,0),he>ee&&!Ye?Ye=!0:F=!1,he=z;he>X&&!((!F||Te(he)==Ye||he==z)&&Re(he,-1,!0));he--);return J=new t(he,0),{start:J,end:de}}function AA(_,k,P,M,F){function z(de){de.pos+de.dir<0||de.pos+de.dir>=de.line.length?de.line=null:de.pos+=de.dir}function X(de,he,Te,Re){var Se=de.getLine(he),xe={line:Se,ln:he,pos:Te,dir:Re};if(xe.line==="")return{ln:xe.ln,pos:xe.pos};var Ye=xe.pos;for(z(xe);xe.line!==null;){if(Ye=xe.pos,W(xe.line[xe.pos]))if(F){for(z(xe);xe.line!==null&&L(xe.line[xe.pos]);)Ye=xe.pos,z(xe);return{ln:xe.ln,pos:Ye+1}}else return{ln:xe.ln,pos:xe.pos+1};z(xe)}return{ln:xe.ln,pos:Ye+1}}function ee(de,he,Te,Re){var Se=de.getLine(he),xe={line:Se,ln:he,pos:Te,dir:Re};if(xe.line==="")return{ln:xe.ln,pos:xe.pos};var Ye=xe.pos;for(z(xe);xe.line!==null;){if(!L(xe.line[xe.pos])&&!W(xe.line[xe.pos]))Ye=xe.pos;else if(W(xe.line[xe.pos]))return F?L(xe.line[xe.pos+1])?{ln:xe.ln,pos:xe.pos+1}:{ln:xe.ln,pos:Ye}:{ln:xe.ln,pos:Ye};z(xe)}return xe.line=Se,F&&L(xe.line[xe.pos])?{ln:xe.ln,pos:xe.pos}:{ln:xe.ln,pos:Ye}}for(var J={ln:k.line,pos:k.ch};P>0;)M<0?J=ee(_,J.ln,J.pos,M):J=X(_,J.ln,J.pos,M),P--;return new t(J.ln,J.pos)}function N9(_,k,P,M){function F(J,de){if(de.pos+de.dir<0||de.pos+de.dir>=de.line.length){if(de.ln+=de.dir,!I(J,de.ln)){de.line=null,de.ln=null,de.pos=null;return}de.line=J.getLine(de.ln),de.pos=de.dir>0?0:de.line.length-1}else de.pos+=de.dir}function z(J,de,he,Te){var je=J.getLine(de),Re=je==="",Se={line:je,ln:de,pos:he,dir:Te},xe={ln:Se.ln,pos:Se.pos},Ye=Se.line==="";for(F(J,Se);Se.line!==null;){if(xe.ln=Se.ln,xe.pos=Se.pos,Se.line===""&&!Ye)return{ln:Se.ln,pos:Se.pos};if(Re&&Se.line!==""&&!L(Se.line[Se.pos]))return{ln:Se.ln,pos:Se.pos};W(Se.line[Se.pos])&&!Re&&(Se.pos===Se.line.length-1||L(Se.line[Se.pos+1]))&&(Re=!0),F(J,Se)}var je=J.getLine(xe.ln);xe.pos=0;for(var Nt=je.length-1;Nt>=0;--Nt)if(!L(je[Nt])){xe.pos=Nt;break}return xe}function X(J,de,he,Te){var Ye=J.getLine(de),Re={line:Ye,ln:de,pos:he,dir:Te},Se={ln:Re.ln,pos:null},xe=Re.line==="";for(F(J,Re);Re.line!==null;){if(Re.line===""&&!xe)return Se.pos!==null?Se:{ln:Re.ln,pos:Re.pos};if(W(Re.line[Re.pos])&&Se.pos!==null&&!(Re.ln===Se.ln&&Re.pos+1===Se.pos))return Se;Re.line!==""&&!L(Re.line[Re.pos])&&(xe=!1,Se={ln:Re.ln,pos:Re.pos}),F(J,Re)}var Ye=J.getLine(Se.ln);Se.pos=0;for(var je=0;je<Ye.length;++je)if(!L(Ye[je])){Se.pos=je;break}return Se}for(var ee={ln:k.line,pos:k.ch};P>0;)M<0?ee=X(_,ee.ln,ee.pos,M):ee=z(_,ee.ln,ee.pos,M),P--;return new t(ee.ln,ee.pos)}function _O(_,k,P,M){var F=k,z,X,ee={"(":/[()]/,")":/[()]/,"[":/[[\]]/,"]":/[[\]]/,"{":/[{}]/,"}":/[{}]/,"<":/[<>]/,">":/[<>]/}[P],J={"(":"(",")":"(","[":"[","]":"[","{":"{","}":"{","<":"<",">":"<"}[P],de=_.getLine(F.line).charAt(F.ch),he=de===J?1:0;if(z=_.scanForBracket(new t(F.line,F.ch+he),-1,void 0,{bracketRegex:ee}),X=_.scanForBracket(new t(F.line,F.ch+he),1,void 0,{bracketRegex:ee}),!z||!X)return null;if(z=z.pos,X=X.pos,z.line==X.line&&z.ch>X.ch||z.line>X.line){var Te=z;z=X,X=Te}return M?X.ch+=1:z.ch+=1,{start:z,end:X}}function qrt(_,k,P,M){var F=Qt(k),z=_.getLine(F.line),X=z.split(""),ee,J,de,he,Te=X.indexOf(P);if(F.ch<Te)F.ch=Te;else if(Te<F.ch&&X[F.ch]==P){var Re=/string/.test(_.getTokenTypeAt(At(k,0,1))),Se=/string/.test(_.getTokenTypeAt(k)),xe=Re&&!Se;xe||(J=F.ch,--F.ch)}if(X[F.ch]==P&&!J)ee=F.ch+1;else for(de=F.ch;de>-1&&!ee;de--)X[de]==P&&(ee=de+1);if(ee&&!J)for(de=ee,he=X.length;de<he&&!J;de++)X[de]==P&&(J=de);return!ee||!J?{start:F,end:F}:(M&&(--ee,++J),{start:new t(F.line,ee),end:new t(F.line,J)})}B("pcre",!0,"boolean");function Wde(){}Wde.prototype={getQuery:function(){return re.query},setQuery:function(_){re.query=_},getOverlay:function(){return this.searchOverlay},setOverlay:function(_){this.searchOverlay=_},isReversed:function(){return re.isReversed},setReversed:function(_){re.isReversed=_},getScrollbarAnnotate:function(){return this.annotate},setScrollbarAnnotate:function(_){this.annotate=_}};function xd(_){var k=_.state.vim;return k.searchState_||(k.searchState_=new Wde)}function Yrt(_){return Vde(_,"/")}function Xrt(_){return Ude(_,"/")}function Vde(_,k){var P=Ude(_,k)||[];if(!P.length)return[];var M=[];if(P[0]===0){for(var F=0;F<P.length;F++)typeof P[F]=="number"&&M.push(_.substring(P[F]+1,P[F+1]));return M}}function Ude(_,k){k||(k="/");for(var P=!1,M=[],F=0;F<_.length;F++){var z=_.charAt(F);!P&&z==k&&M.push(F),P=!P&&z=="\\"}return M}function Hrt(_){for(var k="|(){",P="}",M=!1,F=[],z=-1;z<_.length;z++){var X=_.charAt(z)||"",ee=_.charAt(z+1)||"",J=ee&&k.indexOf(ee)!=-1;M?((X!=="\\"||!J)&&F.push(X),M=!1):X==="\\"?(M=!0,ee&&P.indexOf(ee)!=-1&&(J=!0),(!J||ee==="\\")&&F.push(X)):(F.push(X),J&&ee!=="\\"&&F.push("\\"))}return F.join("")}var qde={"\\n":`
`,"\\r":"\r","\\t":"	"};function Zrt(_){for(var k=!1,P=[],M=-1;M<_.length;M++){var F=_.charAt(M)||"",z=_.charAt(M+1)||"";qde[F+z]?(P.push(qde[F+z]),M++):k?(P.push(F),k=!1):F==="\\"?(k=!0,T(z)||z==="$"?P.push("$"):z!=="/"&&z!=="\\"&&P.push("\\")):(F==="$"&&P.push("$"),P.push(F),z==="/"&&P.push("\\"))}return P.join("")}var Yde={"\\/":"/","\\\\":"\\","\\n":`
`,"\\r":"\r","\\t":"	","\\&":"&"};function Grt(_){for(var k=new e.StringStream(_),P=[];!k.eol();){for(;k.peek()&&k.peek()!="\\";)P.push(k.next());var M=!1;for(var F in Yde)if(k.match(F,!0)){M=!0,P.push(Yde[F]);break}M||P.push(k.next())}return P.join("")}function Krt(_,k,P){var M=re.registerController.getRegister("/");if(M.setText(_),_ instanceof RegExp)return _;var F=Xrt(_),z,X;if(!F.length)z=_;else{z=_.substring(0,F[0]);var ee=_.substring(F[0]);X=ee.indexOf("i")!=-1}if(!z)return null;U("pcre")||(z=Hrt(z)),P&&(k=/^[^A-Z]*$/.test(z));var J=new RegExp(z,k||X?"im":"m");return J}function Yg(_){typeof _=="string"&&(_=document.createElement(_));for(var k,P=1;P<arguments.length;P++)if(k=arguments[P])if(typeof k!="object"&&(k=document.createTextNode(k)),k.nodeType)_.appendChild(k);else for(var M in k)Object.prototype.hasOwnProperty.call(k,M)&&(M[0]==="$"?_.style[M.slice(1)]=k[M]:_.setAttribute(M,k[M]));return _}function Sr(_,k){var P=Yg("div",{$color:"red",$whiteSpace:"pre",class:"cm-vim-message"},k);_.openNotification?_.openNotification(P,{bottom:!0,duration:5e3}):alert(P.innerText)}function Jrt(_,k){return Yg("div",{$display:"flex"},Yg("span",{$fontFamily:"monospace",$whiteSpace:"pre",$flex:1},_,Yg("input",{type:"text",autocorrect:"off",autocapitalize:"off",spellcheck:"false",$width:"100%"})),k&&Yg("span",{$color:"#888"},k))}function DA(_,k){var P=Jrt(k.prefix,k.desc);if(_.openDialog)_.openDialog(P,k.onClose,{onKeyDown:k.onKeyDown,onKeyUp:k.onKeyUp,bottom:!0,selectValueOnOpen:!1,value:k.value});else{var M="";typeof k.prefix!="string"&&k.prefix&&(M+=k.prefix.textContent),k.desc&&(M+=" "+k.desc),k.onClose(prompt(M,""))}}function eit(_,k){if(_ instanceof RegExp&&k instanceof RegExp){for(var P=["global","multiline","ignoreCase","source"],M=0;M<P.length;M++){var F=P[M];if(_[F]!==k[F])return!1}return!0}return!1}function FC(_,k,P,M){if(k){var F=xd(_),z=Krt(k,!!P,!!M);if(z)return Xde(_,z),eit(z,F.getQuery())||F.setQuery(z),z}}function tit(_){if(_.source.charAt(0)=="^")var k=!0;return{token:function(P){if(k&&!P.sol()){P.skipToEnd();return}var M=P.match(_,!1);if(M)return M[0].length==0?(P.next(),"searching"):!P.sol()&&(P.backUp(1),!_.exec(P.next()+M[0]))?(P.next(),null):(P.match(_),"searching");for(;!P.eol()&&(P.next(),!P.match(_,!1)););},query:_}}var NA=0;function Xde(_,k){clearTimeout(NA),NA=setTimeout(function(){if(_.state.vim){var P=xd(_),M=P.getOverlay();(!M||k!=M.query)&&(M&&_.removeOverlay(M),M=tit(k),_.addOverlay(M),_.showMatchesOnScrollbar&&(P.getScrollbarAnnotate()&&P.getScrollbarAnnotate().clear(),P.setScrollbarAnnotate(_.showMatchesOnScrollbar(k))),P.setOverlay(M))}},50)}function Hde(_,k,P,M){return M===void 0&&(M=1),_.operation(function(){for(var F=_.getCursor(),z=_.getSearchCursor(P,F),X=0;X<M;X++){var ee=z.find(k);if(X==0&&ee&&ar(z.from(),F)){var J=k?z.from():z.to();ee=z.find(k),ee&&!ee[0]&&ar(z.from(),J)&&_.getLine(J.line).length==J.ch&&(ee=z.find(k))}if(!ee&&(z=_.getSearchCursor(P,k?new t(_.lastLine()):new t(_.firstLine(),0)),!z.find(k)))return}return z.from()})}function nit(_,k,P,M,F){return M===void 0&&(M=1),_.operation(function(){var z=_.getCursor(),X=_.getSearchCursor(P,z),ee=X.find(!k);!F.visualMode&&ee&&ar(X.from(),z)&&X.find(!k);for(var J=0;J<M;J++)if(ee=X.find(k),!ee&&(X=_.getSearchCursor(P,k?new t(_.lastLine()):new t(_.firstLine(),0)),!X.find(k)))return;return[X.from(),X.to()]})}function M9(_){var k=xd(_);_.removeOverlay(xd(_).getOverlay()),k.setOverlay(null),k.getScrollbarAnnotate()&&(k.getScrollbarAnnotate().clear(),k.setScrollbarAnnotate(null))}function rit(_,k,P){return typeof _!="number"&&(_=_.line),k instanceof Array?V(_,k):typeof P=="number"?_>=k&&_<=P:_==k}function I9(_){var k=_.getScrollInfo(),P=6,M=10,F=_.coordsChar({left:0,top:P+k.top},"local"),z=k.clientHeight-M+k.top,X=_.coordsChar({left:0,top:z},"local");return{top:F.line,bottom:X.line}}function MA(_,k,P){if(P=="'"||P=="`")return re.jumpList.find(_,-1)||new t(0,0);if(P==".")return Zde(_);var M=k.marks[P];return M&&M.find()}function Zde(_){if(_.getLastEditEnd)return _.getLastEditEnd();for(var k=_.doc.history.done,P=k.length;P--;)if(k[P].changes)return Qt(k[P].changes[0].to)}var Gde=function(){this.buildCommandMap_()};Gde.prototype={processCommand:function(_,k,P){var M=this;_.operation(function(){_.curOp.isVimOp=!0,M._processCommand(_,k,P)})},_processCommand:function(_,k,P){var M=_.state.vim,F=re.registerController.getRegister(":"),z=F.toString(),X=new e.StringStream(k);F.setText(k);var ee=P||{};ee.input=k;try{this.parseInput_(_,X,ee)}catch(Te){throw Sr(_,Te.toString()),Te}M.visualMode&&dn(_);var J,de;if(!ee.commandName)ee.line!==void 0&&(de="move");else if(J=this.matchCommand_(ee.commandName),J){if(de=J.name,J.excludeFromCommandHistory&&F.setText(z),this.parseCommandArgs_(X,ee,J),J.type=="exToKey"){for(var he=0;he<J.toKeys.length;he++)ue.handleKey(_,J.toKeys[he],"mapping");return}else if(J.type=="exToEx"){this.processCommand(_,J.toInput);return}}if(!de){Sr(_,'Not an editor command ":'+k+'"');return}try{Kde[de](_,ee),(!J||!J.possiblyAsync)&&ee.callback&&ee.callback()}catch(Te){throw Sr(_,Te.toString()),Te}},parseInput_:function(_,k,P){var F,z;k.eatWhile(":"),k.eat("%")?(P.line=_.firstLine(),P.lineEnd=_.lastLine()):(P.line=this.parseLineSpec_(_,k),P.line!==void 0&&k.eat(",")&&(P.lineEnd=this.parseLineSpec_(_,k))),P.line==null?_.state.vim.visualMode?(P.selectionLine=(F=MA(_,_.state.vim,"<"))==null?void 0:F.line,P.selectionLineEnd=(z=MA(_,_.state.vim,">"))==null?void 0:z.line):P.selectionLine=_.getCursor().line:(P.selectionLine=P.line,P.selectionLineEnd=P.lineEnd);var M=k.match(/^(\w+|!!|@@|[!#&*<=>@~])/);return M?P.commandName=M[1]:P.commandName=k.match(/.*/)[0],P},parseLineSpec_:function(_,k){var P=k.match(/^(\d+)/);if(P)return parseInt(P[1],10)-1;switch(k.next()){case".":return this.parseLineSpecOffset_(k,_.getCursor().line);case"$":return this.parseLineSpecOffset_(k,_.lastLine());case"'":var M=k.next(),F=MA(_,_.state.vim,M);if(!F)throw new Error("Mark not set");return this.parseLineSpecOffset_(k,F.line);case"-":case"+":return k.backUp(1),this.parseLineSpecOffset_(k,_.getCursor().line);default:k.backUp(1);return}},parseLineSpecOffset_:function(_,k){var P=_.match(/^([+-])?(\d+)/);if(P){var M=parseInt(P[2],10);P[1]=="-"?k-=M:k+=M}return k},parseCommandArgs_:function(_,k,P){if(!_.eol()){k.argString=_.match(/.*/)[0];var M=P.argDelimiter||/\s+/,F=ui(k.argString).split(M);F.length&&F[0]&&(k.args=F)}},matchCommand_:function(_){for(var k=_.length;k>0;k--){var P=_.substring(0,k);if(this.commandMap_[P]){var M=this.commandMap_[P];if(M.name.indexOf(_)===0)return M}}return null},buildCommandMap_:function(){this.commandMap_={};for(var _=0;_<s.length;_++){var k=s[_],P=k.shortName||k.name;this.commandMap_[P]=k}},map:function(_,k,P,M){if(_!=":"&&_.charAt(0)==":"){if(P)throw Error("Mode not supported for ex mappings");var F=_.substring(1);k!=":"&&k.charAt(0)==":"?this.commandMap_[F]={name:F,type:"exToEx",toInput:k.substring(1),user:!0}:this.commandMap_[F]={name:F,type:"exToKey",toKeys:k,user:!0}}else if(k!=":"&&k.charAt(0)==":"){var z={keys:_,type:"keyToEx",exArgs:{input:k.substring(1)}};P&&(z.context=P),i.unshift(z)}else{var z={keys:_,type:"keyToKey",toKeys:k,noremap:!!M};P&&(z.context=P),i.unshift(z)}},unmap:function(_,k){if(_!=":"&&_.charAt(0)==":"){if(k)throw Error("Mode not supported for ex mappings");var P=_.substring(1);if(this.commandMap_[P]&&this.commandMap_[P].user)return delete this.commandMap_[P],!0}else for(var M=_,F=0;F<i.length;F++)if(M==i[F].keys&&i[F].context===k)return i.splice(F,1),!0}};var Kde={colorscheme:function(_,k){if(!k.args||k.args.length<1){Sr(_,_.getOption("theme"));return}_.setOption("theme",k.args[0])},map:function(_,k,P,M){var F=k.args;if(!F||F.length<2){_&&Sr(_,"Invalid mapping: "+k.input);return}ef.map(F[0],F[1],P,M)},imap:function(_,k){this.map(_,k,"insert")},nmap:function(_,k){this.map(_,k,"normal")},vmap:function(_,k){this.map(_,k,"visual")},omap:function(_,k){this.map(_,k,"operatorPending")},noremap:function(_,k){this.map(_,k,void 0,!0)},inoremap:function(_,k){this.map(_,k,"insert",!0)},nnoremap:function(_,k){this.map(_,k,"normal",!0)},vnoremap:function(_,k){this.map(_,k,"visual",!0)},onoremap:function(_,k){this.map(_,k,"operatorPending",!0)},unmap:function(_,k,P){var M=k.args;(!M||M.length<1||!ef.unmap(M[0],P))&&_&&Sr(_,"No such mapping: "+k.input)},mapclear:function(_,k){ue.mapclear()},imapclear:function(_,k){ue.mapclear("insert")},nmapclear:function(_,k){ue.mapclear("normal")},vmapclear:function(_,k){ue.mapclear("visual")},omapclear:function(_,k){ue.mapclear("operatorPending")},move:function(_,k){Oe.processCommand(_,_.state.vim,{type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0},repeatOverride:k.line+1})},set:function(_,k){var P=k.args,M=k.setCfg||{};if(!P||P.length<1){_&&Sr(_,"Invalid mapping: "+k.input);return}var F=P[0].split("="),z=F[0],X=F[1],ee=!1,J=!1;if(z.charAt(z.length-1)=="?"){if(X)throw Error("Trailing characters: "+k.argString);z=z.substring(0,z.length-1),ee=!0}else z.charAt(z.length-1)=="!"&&(z=z.substring(0,z.length-1),J=!0);X===void 0&&z.substring(0,2)=="no"&&(z=z.substring(2),X=!1);var de=Q[z]&&Q[z].type=="boolean";if(de&&(J?X=!U(z,_,M):X==null&&(X=!0)),!de&&X===void 0||ee){var he=U(z,_,M);he instanceof Error?Sr(_,he.message):he===!0||he===!1?Sr(_," "+(he?"":"no")+z):Sr(_,"  "+z+"="+he)}else{var Te=Y(z,X,_,M);Te instanceof Error&&Sr(_,Te.message)}},setlocal:function(_,k){k.setCfg={scope:"local"},this.set(_,k)},setglobal:function(_,k){k.setCfg={scope:"global"},this.set(_,k)},registers:function(_,k){var P=k.args,M=re.registerController.registers,F=`----------Registers----------

`;if(P){var z;P=P.join("");for(var ee=0;ee<P.length;ee++)if(z=P.charAt(ee),!!re.registerController.isValidRegister(z)){var J=M[z]||new Je;F+='"'+z+"    "+J.toString()+`
`}}else for(var z in M){var X=M[z].toString();X.length&&(F+='"'+z+"    "+X+`
`)}Sr(_,F)},sort:function(_,k){var P,M,F,z,X;function ee(){if(k.argString){var jn=new e.StringStream(k.argString);if(jn.eat("!")&&(P=!0),jn.eol())return;if(!jn.eatSpace())return"Invalid arguments";var Bn=jn.match(/([dinuox]+)?\s*(\/.+\/)?\s*/);if(!Bn&&!jn.eol())return"Invalid arguments";if(Bn[1]){M=Bn[1].indexOf("i")!=-1,F=Bn[1].indexOf("u")!=-1;var Ra=Bn[1].indexOf("d")!=-1||Bn[1].indexOf("n")!=-1&&1,_o=Bn[1].indexOf("x")!=-1&&1,Co=Bn[1].indexOf("o")!=-1&&1;if(Ra+_o+Co>1)return"Invalid arguments";z=Ra&&"decimal"||_o&&"hex"||Co&&"octal"}Bn[2]&&(X=new RegExp(Bn[2].substr(1,Bn[2].length-2),M?"i":""))}}var J=ee();if(J){Sr(_,J+": "+k.argString);return}var de=k.line||_.firstLine(),he=k.lineEnd||k.line||_.lastLine();if(de==he)return;var Te=new t(de,0),Re=new t(he,Kt(_,he)),Se=_.getRange(Te,Re).split(`
`),xe=X||(z=="decimal"?/(-?)([\d]+)/:z=="hex"?/(-?)(?:0x)?([0-9a-f]+)/i:z=="octal"?/([0-7]+)/:null),Ye=z=="decimal"?10:z=="hex"?16:z=="octal"?8:null,je=[],Nt=[];if(z||X)for(var Bt=0;Bt<Se.length;Bt++){var Ct=X?Se[Bt].match(X):null;Ct&&Ct[0]!=""?je.push(Ct):!X&&xe.exec(Se[Bt])?je.push(Se[Bt]):Nt.push(Se[Bt])}else Nt=Se;function Pr(jn,Bn){if(P){var Ra;Ra=jn,jn=Bn,Bn=Ra}M&&(jn=jn.toLowerCase(),Bn=Bn.toLowerCase());var _o=z&&xe.exec(jn),Co=z&&xe.exec(Bn);return _o?(_o=parseInt((_o[1]+_o[2]).toLowerCase(),Ye),Co=parseInt((Co[1]+Co[2]).toLowerCase(),Ye),_o-Co):jn<Bn?-1:1}function Vs(jn,Bn){if(P){var Ra;Ra=jn,jn=Bn,Bn=Ra}return M&&(jn[0]=jn[0].toLowerCase(),Bn[0]=Bn[0].toLowerCase()),jn[0]<Bn[0]?-1:1}if(je.sort(X?Vs:Pr),X)for(var Bt=0;Bt<je.length;Bt++)je[Bt]=je[Bt].input;else z||Nt.sort(Pr);if(Se=P?je.concat(Nt):Nt.concat(je),F){var Di=Se,Ho;Se=[];for(var Bt=0;Bt<Di.length;Bt++)Di[Bt]!=Ho&&Se.push(Di[Bt]),Ho=Di[Bt]}_.replaceRange(Se.join(`
`),Te,Re)},vglobal:function(_,k){this.global(_,k)},normal:function(_,k){var P=k.argString;if(P&&P[0]=="!"&&(P=P.slice(1),ne=!0),P=P.trimStart(),!P){Sr(_,"Argument is required.");return}var M=k.line;if(typeof M=="number")for(var F=isNaN(k.lineEnd)?M:k.lineEnd,z=M;z<=F;z++)_.setCursor(z,0),Le(_,k.argString.trimStart()),_.state.vim.insertMode&&Xg(_,!0);else Le(_,k.argString.trimStart()),_.state.vim.insertMode&&Xg(_,!0)},global:function(_,k){var P=k.argString;if(!P){Sr(_,"Regular Expression missing from global");return}var M=k.commandName[0]==="v";P[0]==="!"&&k.commandName[0]==="g"&&(M=!0,P=P.slice(1));var F=k.line!==void 0?k.line:_.firstLine(),z=k.lineEnd||k.line||_.lastLine(),X=Yrt(P),ee=P,J;if(X.length&&(ee=X[0],J=X.slice(1,X.length).join("/")),ee)try{FC(_,ee,!0,!0)}catch{Sr(_,"Invalid regex: "+ee);return}for(var de=xd(_).getQuery(),he=[],Te=F;Te<=z;Te++){var Re=_.getLine(Te),Se=de.test(Re);Se!==M&&he.push(J?_.getLineHandle(Te):Re)}if(!J){Sr(_,he.join(`
`));return}var xe=0,Ye=function(){if(xe<he.length){var je=he[xe++],Nt=_.getLineNumber(je);if(Nt==null){Ye();return}var Bt=Nt+1+J;ef.processCommand(_,Bt,{callback:Ye})}else _.releaseLineHandles&&_.releaseLineHandles()};Ye()},substitute:function(_,k){if(!_.getSearchCursor)throw new Error("Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.");var P=k.argString,M=P?Vde(P,P[0]):[],F,z="",X,ee,J,de=!1,he=!1;if(M.length)F=M[0],U("pcre")&&F!==""&&(F=new RegExp(F).source),z=M[1],z!==void 0&&(U("pcre")?z=Grt(z.replace(/([^\\])&/g,"$1$$&")):z=Zrt(z),re.lastSubstituteReplacePart=z),X=M[2]?M[2].split(" "):[];else if(P&&P.length){Sr(_,"Substitutions should be of the form :s/pattern/replace/");return}if(X&&(ee=X[0],J=parseInt(X[1]),ee&&(ee.indexOf("c")!=-1&&(de=!0),ee.indexOf("g")!=-1&&(he=!0),U("pcre")?F=F+"/"+ee:F=F.replace(/\//g,"\\/")+"/"+ee)),F)try{FC(_,F,!0,!0)}catch{Sr(_,"Invalid regex: "+F);return}if(z=z||re.lastSubstituteReplacePart,z===void 0){Sr(_,"No previous substitute regular expression");return}var Te=xd(_),Re=Te.getQuery(),Se=k.line!==void 0?k.line:_.getCursor().line,xe=k.lineEnd||Se;Se==_.firstLine()&&xe==_.lastLine()&&(xe=1/0),J&&(Se=xe,xe=Se+J-1);var Ye=Mt(_,new t(Se,0)),je=_.getSearchCursor(Re,Ye);iit(_,de,he,Se,xe,je,Re,z,k.callback)},startinsert:function(_,k){Le(_,k.argString=="!"?"A":"i",{})},redo:e.commands.redo,undo:e.commands.undo,write:function(_){e.commands.save?e.commands.save(_):_.save&&_.save()},nohlsearch:function(_){M9(_)},yank:function(_){var k=Qt(_.getCursor()),P=k.line,M=_.getLine(P);re.registerController.pushText("0","yank",M,!0,!0)},delete:function(_,k){var P=k.selectionLine,M=isNaN(k.selectionLineEnd)?P:k.selectionLineEnd;Ne.delete(_,{linewise:!0},[{anchor:new t(P,0),head:new t(M+1,0)}])},join:function(_,k){var P=k.selectionLine,M=isNaN(k.selectionLineEnd)?P:k.selectionLineEnd;_.setCursor(new t(P,0)),ht.joinLines(_,{repeat:M-P},_.state.vim)},delmarks:function(_,k){if(!k.argString||!ui(k.argString)){Sr(_,"Argument required");return}for(var P=_.state.vim,M=new e.StringStream(ui(k.argString));!M.eol();){M.eatSpace();var F=M.pos;if(!M.match(/[a-zA-Z]/,!1)){Sr(_,"Invalid argument: "+k.argString.substring(F));return}var z=M.next();if(M.match("-",!0)){if(!M.match(/[a-zA-Z]/,!1)){Sr(_,"Invalid argument: "+k.argString.substring(F));return}var X=z,ee=M.next();if(j(X)&&j(ee)||D(X)&&D(ee)){var J=X.charCodeAt(0),de=ee.charCodeAt(0);if(J>=de){Sr(_,"Invalid argument: "+k.argString.substring(F));return}for(var he=0;he<=de-J;he++){var Te=String.fromCharCode(J+he);delete P.marks[Te]}}else{Sr(_,"Invalid argument: "+X+"-");return}}else delete P.marks[z]}}},ef=new Gde;function iit(_,k,P,M,F,z,X,ee,J){_.state.vim.exMode=!0;var de=!1,he,Te,Re;function Se(){_.operation(function(){for(;!de;)xe(),je();Nt()})}function xe(){var Ct=_.getRange(z.from(),z.to()),Pr=Ct.replace(X,ee),Vs=z.to().line;z.replace(Pr),Te=z.to().line,F+=Te-Vs,Re=Te<Vs}function Ye(){var Ct=he&&Qt(z.to()),Pr=z.findNext();return Pr&&!Pr[0]&&Ct&&ar(z.from(),Ct)&&(Pr=z.findNext()),Pr}function je(){for(;Ye()&&rit(z.from(),M,F);)if(!(!P&&z.from().line==Te&&!Re)){_.scrollIntoView(z.from(),30),_.setSelection(z.from(),z.to()),he=z.from(),de=!1;return}de=!0}function Nt(Ct){if(Ct&&Ct(),_.focus(),he){_.setCursor(he);var Pr=_.state.vim;Pr.exMode=!1,Pr.lastHPos=Pr.lastHSPos=he.ch}J&&J()}function Bt(Ct,Pr,Vs){e.e_stop(Ct);var Di=e.keyName(Ct);switch(Di){case"Y":xe(),je();break;case"N":je();break;case"A":var Ho=J;J=void 0,_.operation(Se),J=Ho;break;case"L":xe();case"Q":case"Esc":case"Ctrl-C":case"Ctrl-[":Nt(Vs);break}return de&&Nt(Vs),!0}if(je(),de){Sr(_,"No matches for "+X.source);return}if(!k){Se(),J&&J();return}DA(_,{prefix:Yg("span","replace with ",Yg("strong",ee)," (y/n/a/q/l)"),onKeyDown:Bt})}e.keyMap.vim={attach:u,detach:c,call:f};function Xg(_,k){var P=_.state.vim,M=re.macroModeState,F=re.registerController.getRegister("."),z=M.isPlaying,X=M.lastInsertModeChanges;z||(_.off("change",ehe),P.insertEnd&&P.insertEnd.clear(),P.insertEnd=null,e.off(_.getInputField(),"keydown",rhe)),!z&&P.insertModeRepeat>1&&(ihe(_,P,P.insertModeRepeat-1,!0),P.lastEditInputState.repeatOverride=P.insertModeRepeat),delete P.insertModeRepeat,P.insertMode=!1,k||_.setCursor(_.getCursor().line,_.getCursor().ch-1),_.setOption("keyMap","vim"),_.setOption("disableInput",!0),_.toggleOverwrite(!1),F.setText(X.changes.join("")),e.signal(_,"vim-mode-change",{mode:"normal"}),M.isRecording&&lit(M)}function Jde(_){i.unshift(_)}function oit(_,k,P,M,F){var z={keys:_,type:k};z[k]=P,z[k+"Args"]=M;for(var X in F)z[X]=F[X];Jde(z)}B("insertModeEscKeysTimeout",200,"number"),e.keyMap["vim-insert"]={fallthrough:["default"],attach:u,detach:c,call:f},e.keyMap["vim-replace"]={Backspace:"goCharLeft",fallthrough:["vim-insert"],attach:u,detach:c};function sit(_,k,P,M){var F=re.registerController.getRegister(M);if(M==":"){F.keyBuffer[0]&&ef.processCommand(_,F.keyBuffer[0]),P.isPlaying=!1;return}var z=F.keyBuffer,X=0;P.isPlaying=!0,P.replaySearchQueries=F.searchQueries.slice(0);for(var ee=0;ee<z.length;ee++)for(var J=z[ee],de,he;J;)if(de=/<\w+-.+?>|<\w+>|./.exec(J),he=de[0],J=J.substring(de.index+he.length),ue.handleKey(_,he,"macro"),k.insertMode){var Te=F.insertModeChanges[X++].changes;re.macroModeState.lastInsertModeChanges.changes=Te,she(_,Te,1),Xg(_)}P.isPlaying=!1}function ait(_,k){if(!_.isPlaying){var P=_.latestRegister,M=re.registerController.getRegister(P);M&&M.pushText(k)}}function lit(_){if(!_.isPlaying){var k=_.latestRegister,P=re.registerController.getRegister(k);P&&P.pushInsertModeChanges&&P.pushInsertModeChanges(_.lastInsertModeChanges)}}function cit(_,k){if(!_.isPlaying){var P=_.latestRegister,M=re.registerController.getRegister(P);M&&M.pushSearchQuery&&M.pushSearchQuery(k)}}function ehe(_,k){var P=re.macroModeState,M=P.lastInsertModeChanges;if(!P.isPlaying)for(var F=_.state.vim;k;){if(M.expectCursorActivityForChange=!0,M.ignoreCount>1)M.ignoreCount--;else if(k.origin=="+input"||k.origin=="paste"||k.origin===void 0){var z=_.listSelections().length;z>1&&(M.ignoreCount=z);var X=k.text.join(`
`);if(M.maybeReset&&(M.changes=[],M.maybeReset=!1),X)if(_.state.overwrite&&!/\n/.test(X))M.changes.push([X]);else{if(X.length>1){var ee=F&&F.insertEnd&&F.insertEnd.find(),J=_.getCursor();if(ee&&ee.line==J.line){var de=ee.ch-J.ch;de>0&&de<X.length&&(M.changes.push([X,de]),X="")}}X&&M.changes.push(X)}}k=k.next}}function the(_){var k=_.state.vim;if(k.insertMode){var P=re.macroModeState;if(P.isPlaying)return;var M=P.lastInsertModeChanges;M.expectCursorActivityForChange?M.expectCursorActivityForChange=!1:(M.maybeReset=!0,k.insertEnd&&k.insertEnd.clear(),k.insertEnd=_.setBookmark(_.getCursor(),{insertLeft:!0}))}else _.curOp.isVimOp||nhe(_,k)}function nhe(_,k){var P=_.getCursor("anchor"),M=_.getCursor("head");if(k.visualMode&&!_.somethingSelected()?dn(_,!1):!k.visualMode&&!k.insertMode&&_.somethingSelected()&&(k.visualMode=!0,k.visualLine=!1,e.signal(_,"vim-mode-change",{mode:"visual"})),k.visualMode){var F=_n(M,P)?0:-1,z=_n(M,P)?-1:0;M=At(M,0,F),P=At(P,0,z),k.sel={anchor:P,head:M},Ai(_,k,"<",wr(M,P)),Ai(_,k,">",wo(M,P))}else k.insertMode||(k.lastHPos=_.getCursor().ch)}function L9(_){this.keyName=_}function rhe(_){var k=re.macroModeState,P=k.lastInsertModeChanges,M=e.keyName(_);if(!M)return;function F(){return P.maybeReset&&(P.changes=[],P.maybeReset=!1),P.changes.push(new L9(M)),!0}(M.indexOf("Delete")!=-1||M.indexOf("Backspace")!=-1)&&e.lookupKey(M,"vim-insert",F)}function ihe(_,k,P,M){var F=re.macroModeState;F.isPlaying=!0;var z=!!k.lastEditActionCommand,X=k.inputState;function ee(){z?Oe.processAction(_,k,k.lastEditActionCommand):Oe.evalInput(_,k)}function J(he){if(F.lastInsertModeChanges.changes.length>0){he=k.lastEditActionCommand?he:1;var Te=F.lastInsertModeChanges;she(_,Te.changes,he)}}if(k.inputState=k.lastEditInputState,z&&k.lastEditActionCommand.interlaceInsertRepeat)for(var de=0;de<P;de++)ee(),J(1);else M||ee(),J(P);k.inputState=X,k.insertMode&&!M&&Xg(_),F.isPlaying=!1}function ohe(_,k){e.lookupKey(k,"vim-insert",function(M){return typeof M=="string"?e.commands[M](_):M(_),!0})}function she(_,k,P){var M=_.getCursor("head"),F=re.macroModeState.lastInsertModeChanges.visualBlock;F&&(oo(_,M,F+1),P=_.listSelections().length,_.setCursor(M));for(var z=0;z<P;z++){F&&_.setCursor(At(M,z,0));for(var X=0;X<k.length;X++){var ee=k[X];if(ee instanceof L9)ohe(_,ee.keyName);else if(typeof ee=="string")_.replaceSelection(ee);else{var J=_.getCursor(),de=At(J,0,ee[0].length-(ee[1]||0));_.replaceRange(ee[0],J,ee[1]?J:de),_.setCursor(de)}}}F&&_.setCursor(At(M,0,1))}function j9(_){var k=new _.constructor;return Object.keys(_).forEach(function(P){if(P!="insertEnd"){var M=_[P];Array.isArray(M)?M=M.slice():M&&typeof M=="object"&&M.constructor!=Object&&(M=j9(M)),k[P]=M}}),_.sel&&(k.sel={head:_.sel.head&&Qt(_.sel.head),anchor:_.sel.anchor&&Qt(_.sel.anchor)}),k}function uit(_,k,P){var M=!1,F=ue.maybeInitVimState_(_),z=F.visualBlock||F.wasInVisualBlock,X=_.isInMultiSelectMode();if(F.wasInVisualBlock&&!X?F.wasInVisualBlock=!1:X&&F.visualBlock&&(F.wasInVisualBlock=!0),k=="<Esc>"&&!F.insertMode&&!F.visualMode&&X&&F.status=="<Esc>")ke(_);else if(z||!X||_.inVirtualSelectionMode)M=ue.handleKey(_,k,P);else{var ee=j9(F),J=F.inputState.changeQueueList||[];_.operation(function(){_.curOp.isVimOp=!0;var de=0;_.forEachSelection(function(){_.state.vim.inputState.changeQueue=J[de];var he=_.getCursor("head"),Te=_.getCursor("anchor"),Re=_n(he,Te)?0:-1,Se=_n(he,Te)?-1:0;he=At(he,0,Re),Te=At(Te,0,Se),_.state.vim.sel.head=he,_.state.vim.sel.anchor=Te,M=ue.handleKey(_,k,P),_.virtualSelection&&(J[de]=_.state.vim.inputState.changeQueue,_.state.vim=j9(ee)),de++}),_.curOp.cursorActivity&&!M&&(_.curOp.cursorActivity=!1),_.state.vim=F,F.inputState.changeQueueList=J,F.inputState.changeQueue=null},!0)}return M&&!F.visualMode&&!F.insert&&F.visualMode!=_.somethingSelected()&&nhe(_,F),M}return fe(),ue}function Na(e,t){var n=t.ch,r=t.line+1;r<1&&(r=1,n=0),r>e.lines&&(r=e.lines,n=Number.MAX_VALUE);var i=e.line(r);return Math.min(i.from+Math.max(0,n),i.to)}function Jc(e,t){let n=e.lineAt(t);return{line:n.number-1,ch:t-n.from}}class Wd{constructor(t,n){this.line=t,this.ch=n}}function LZe(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||[]).concat(n)}}function jZe(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else{var r=e._handlers,i=r&&r[t];if(i){var o=i.indexOf(n);o>-1&&(r[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function FZe(e,t,...n){var r,i=(r=e._handlers)===null||r===void 0?void 0:r[t];if(i)for(var o=0;o<i.length;++o)i[o](...n)}function B_e(e,...t){if(e)for(var n=0;n<e.length;++n)e[n](...t)}var F_n={Return:"CR",Backspace:"BS",Delete:"Del",Escape:"Esc",Insert:"Ins",ArrowLeft:"Left",ArrowRight:"Right",ArrowUp:"Up",ArrowDown:"Down",Enter:"CR"," ":"Space"},zZe={Shift:1,Alt:1,Command:1,Control:1,CapsLock:1,AltGraph:1,Dead:1,Unidentified:1};let jG;try{jG=new RegExp("[\\w\\p{Alphabetic}\\p{Number}_]","u")}catch{jG=/[\w]/}function QE(e,t){var n=e.cm6,r="input.type.compose";if(e.curOp&&(e.curOp.lastChange||(r="input.type.compose.start")),t.annotations)try{t.annotations.some(function(i){i.value=="input"&&(i.value=r)})}catch(i){console.error(i)}else t.userEvent=r;return n.dispatch(t)}function W_e(e,t){var n;e.curOp&&(e.curOp.$changeStart=void 0),(t?aie:C3)(e.cm6);let r=(n=e.curOp)===null||n===void 0?void 0:n.$changeStart;r!=null&&e.cm6.dispatch({selection:{anchor:r}})}var z_n={};class En{constructor(t){this.state={},this.marks=Object.create(null),this.$mid=0,this.options={},this._handlers={},this.$lastChangeEndOffset=0,this.virtualSelection=null,this.cm6=t,this.onChange=this.onChange.bind(this),this.onSelectionChange=this.onSelectionChange.bind(this)}openDialog(t,n,r){return B_n(this,t,n,r)}openNotification(t,n){return Q_n(this,t,n)}on(t,n){LZe(this,t,n)}off(t,n){jZe(this,t,n)}signal(t,n,r){FZe(this,t,n,r)}indexFromPos(t){return Na(this.cm6.state.doc,t)}posFromIndex(t){return Jc(this.cm6.state.doc,t)}foldCode(t){let n=this.cm6,r=n.state.selection.ranges,i=this.cm6.state.doc,o=Na(i,t),s=Ee.create([Ee.range(o,o)],0).ranges;n.state.selection.ranges=s,Aje(n),n.state.selection.ranges=r}firstLine(){return 0}lastLine(){return this.cm6.state.doc.lines-1}lineCount(){return this.cm6.state.doc.lines}setCursor(t,n){typeof t=="object"&&(n=t.ch,t=t.line);var r=Na(this.cm6.state.doc,{line:t,ch:n});this.cm6.dispatch({selection:{anchor:r}},{scrollIntoView:!this.curOp}),this.curOp&&!this.curOp.isVimOp&&this.onBeforeEndOperation()}getCursor(t){var n=this.cm6.state.selection.main,r=t=="head"||!t?n.head:t=="anchor"?n.anchor:t=="start"?n.from:t=="end"?n.to:null;if(r==null)throw new Error("Invalid cursor type");return this.posFromIndex(r)}listSelections(){var t=this.cm6.state.doc;return this.cm6.state.selection.ranges.map(n=>({anchor:Jc(t,n.anchor),head:Jc(t,n.head)}))}setSelections(t,n){var r=this.cm6.state.doc,i=t.map(o=>Ee.range(Na(r,o.anchor),Na(r,o.head)));this.cm6.dispatch({selection:Ee.create(i,n)})}setSelection(t,n,r){var i=this.cm6.state.doc,o=[Ee.range(Na(i,t),Na(i,n))];this.cm6.dispatch({selection:Ee.create(o,0)}),r&&r.origin=="*mouse"&&this.onBeforeEndOperation()}getLine(t){var n=this.cm6.state.doc;return t<0||t>=n.lines?"":this.cm6.state.doc.line(t+1).text}getLineHandle(t){return this.$lineHandleChanges||(this.$lineHandleChanges=[]),{row:t,index:this.indexFromPos(new Wd(t,0))}}getLineNumber(t){var n=this.$lineHandleChanges;if(!n)return null;for(var r=t.index,i=0;i<n.length;i++)if(r=n[i].changes.mapPos(r,1,Lo.TrackAfter),r==null)return null;var o=this.posFromIndex(r);return o.ch==0?o.line:null}releaseLineHandles(){this.$lineHandleChanges=void 0}getRange(t,n){var r=this.cm6.state.doc;return this.cm6.state.sliceDoc(Na(r,t),Na(r,n))}replaceRange(t,n,r){r||(r=n);var i=this.cm6.state.doc,o=Na(i,n),s=Na(i,r);QE(this,{changes:{from:o,to:s,insert:t}})}replaceSelection(t){QE(this,this.cm6.state.replaceSelection(t))}replaceSelections(t){var n=this.cm6.state.selection.ranges,r=n.map((i,o)=>({from:i.from,to:i.to,insert:t[o]||""}));QE(this,{changes:r})}getSelection(){return this.getSelections().join(`
`)}getSelections(){var t=this.cm6;return t.state.selection.ranges.map(n=>t.state.sliceDoc(n.from,n.to))}somethingSelected(){return this.cm6.state.selection.ranges.some(t=>!t.empty)}getInputField(){return this.cm6.contentDOM}clipPos(t){var n=this.cm6.state.doc,r=t.ch,i=t.line+1;i<1&&(i=1,r=0),i>n.lines&&(i=n.lines,r=Number.MAX_VALUE);var o=n.line(i);return r=Math.min(Math.max(0,r),o.to-o.from),new Wd(i-1,r)}getValue(){return this.cm6.state.doc.toString()}setValue(t){var n=this.cm6;return n.dispatch({changes:{from:0,to:n.state.doc.length,insert:t},selection:Ee.range(0,0)})}focus(){return this.cm6.focus()}blur(){return this.cm6.contentDOM.blur()}defaultTextHeight(){return this.cm6.defaultLineHeight}findMatchingBracket(t){var n=this.cm6.state,r=Na(n.doc,t),i=yu(n,r+1,-1);return i&&i.end?{to:Jc(n.doc,i.end.from)}:(i=yu(n,r,1),i&&i.end?{to:Jc(n.doc,i.end.from)}:{to:void 0})}scanForBracket(t,n,r,i){return U_n(this,t,n,r,i)}indentLine(t,n){n?this.indentMore():this.indentLess()}indentMore(){J6(this.cm6)}indentLess(){die(this.cm6)}execCommand(t){if(t=="indentAuto")En.commands.indentAuto(this);else if(t=="goLineLeft")yFe(this.cm6);else if(t=="goLineRight"){mFe(this.cm6);let n=this.cm6.state,r=n.selection.main.head;r<n.doc.length&&n.sliceDoc(r,r+1)!==`
`&&HLt(this.cm6)}else console.log(t+" is not implemented")}setBookmark(t,n){var r=n!=null&&n.insertLeft?1:-1,i=this.indexFromPos(t),o=new X_n(this,i,r);return o}addOverlay({query:t}){let n=new j0({regexp:!0,search:t.source,caseSensitive:!/i/.test(t.flags)});if(n.valid){n.forVim=!0,this.cm6Query=n;let r=n0.of(n);return this.cm6.dispatch({effects:r}),n}}removeOverlay(t){if(!this.cm6Query)return;this.cm6Query.forVim=!1;let n=n0.of(this.cm6Query);this.cm6.dispatch({effects:n})}getSearchCursor(t,n){var r=this,i=null,o=null;n.ch==null&&(n.ch=Number.MAX_VALUE);var s=Na(r.cm6.state.doc,n),a=t.source.replace(/(\\.|{(?:\d+(?:,\d*)?|,\d+)})|[{}]/g,function(d,h){return h||"\\"+d});function l(d,h=0,p=d.length){return new goe(d,a,{ignoreCase:t.ignoreCase},h,p)}function c(d){var h=r.cm6.state.doc;if(d>h.length)return null;let p=l(h,d).next();return p.done?null:p.value}var u=1e4;function f(d,h){var p=r.cm6.state.doc;for(let g=1;;g++){let y=Math.max(d,h-g*u),v=l(p,y,h),x=null;for(;!v.next().done;)x=v.value;if(x&&(y==d||x.from>y+10))return x;if(y==d)return null}}return{findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(d){var h=r.cm6.state.doc;if(d){let p=i?i.from==i.to?i.to-1:i.from:s;i=f(0,p)}else{let p=i?i.from==i.to?i.to+1:i.to:s;i=c(p)}return o=i&&{from:Jc(h,i.from),to:Jc(h,i.to),match:i.match},i&&i.match},from:function(){return o==null?void 0:o.from},to:function(){return o==null?void 0:o.to},replace:function(d){i&&(QE(r,{changes:{from:i.from,to:i.to,insert:d}}),i.to=i.from+d.length,o&&(o.to=Jc(r.cm6.state.doc,i.to)))}}}findPosV(t,n,r,i){let{cm6:o}=this;const s=o.state.doc;let a=r=="page"?o.dom.clientHeight:0;const l=Na(s,t);let c=Ee.range(l,l,i),u=Math.round(Math.abs(n));for(let d=0;d<u;d++)r=="page"?c=o.moveVertically(c,n>0,a):r=="line"&&(c=o.moveVertically(c,n>0));let f=Jc(s,c.head);return(n<0&&c.head==0&&i!=0&&t.line==0&&t.ch!=0||n>0&&c.head==s.length&&f.ch!=i&&t.line==f.line)&&(f.hitSide=!0),f}charCoords(t,n){var r=this.cm6.contentDOM.getBoundingClientRect(),i=Na(this.cm6.state.doc,t),o=this.cm6.coordsAtPos(i),s=-r.top;return{left:((o==null?void 0:o.left)||0)-r.left,top:((o==null?void 0:o.top)||0)+s,bottom:((o==null?void 0:o.bottom)||0)+s}}coordsChar(t,n){var r=this.cm6.contentDOM.getBoundingClientRect(),i=this.cm6.posAtCoords({x:t.left+r.left,y:t.top+r.top})||0;return Jc(this.cm6.state.doc,i)}getScrollInfo(){var t=this.cm6.scrollDOM;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight,width:t.scrollWidth,clientHeight:t.clientHeight,clientWidth:t.clientWidth}}scrollTo(t,n){t!=null&&(this.cm6.scrollDOM.scrollLeft=t),n!=null&&(this.cm6.scrollDOM.scrollTop=n)}scrollIntoView(t,n){if(t){var r=this.indexFromPos(t);this.cm6.dispatch({effects:nt.scrollIntoView(r)})}else this.cm6.dispatch({scrollIntoView:!0,userEvent:"scroll"})}getWrapperElement(){return this.cm6.dom}getMode(){return{name:this.getOption("mode")}}setSize(t,n){this.cm6.dom.style.width=t+4+"px",this.cm6.dom.style.height=n+"px",this.refresh()}refresh(){this.cm6.measure()}destroy(){this.removeOverlay()}getLastEditEnd(){return this.posFromIndex(this.$lastChangeEndOffset)}onChange(t){this.$lineHandleChanges&&this.$lineHandleChanges.push(t);for(let r in this.marks)this.marks[r].update(t.changes);this.virtualSelection&&(this.virtualSelection.ranges=this.virtualSelection.ranges.map(r=>r.map(t.changes)));var n=this.curOp=this.curOp||{};t.changes.iterChanges((r,i,o,s,a)=>{(n.$changeStart==null||n.$changeStart>o)&&(n.$changeStart=o),this.$lastChangeEndOffset=s;var l={text:a.toJSON()};n.lastChange?n.lastChange.next=n.lastChange=l:n.lastChange=n.change=l},!0),n.changeHandlers||(n.changeHandlers=this._handlers.change&&this._handlers.change.slice())}onSelectionChange(){var t=this.curOp=this.curOp||{};t.cursorActivityHandlers||(t.cursorActivityHandlers=this._handlers.cursorActivity&&this._handlers.cursorActivity.slice()),this.curOp.cursorActivity=!0}operation(t){this.curOp||(this.curOp={$d:0}),this.curOp.$d++;try{var n=t()}finally{this.curOp&&(this.curOp.$d--,this.curOp.$d||this.onBeforeEndOperation())}return n}onBeforeEndOperation(){var t=this.curOp,n=!1;t&&(t.change&&B_e(t.changeHandlers,this,t.change),t&&t.cursorActivity&&(B_e(t.cursorActivityHandlers,this,null),t.isVimOp&&(n=!0)),this.curOp=null),n&&this.scrollIntoView()}moveH(t,n){if(n=="char"){var r=this.getCursor();this.setCursor(r.line,r.ch+t)}}setOption(t,n){switch(t){case"keyMap":this.state.keyMap=n;break;case"textwidth":this.state.textwidth=n;break}}getOption(t){switch(t){case"firstLineNumber":return 1;case"tabSize":return this.cm6.state.tabSize||4;case"readonly":return this.cm6.state.readOnly;case"indentWithTabs":return this.cm6.state.facet(mg)=="	";case"indentUnit":return this.cm6.state.facet(mg).length||2;case"textwidth":return this.state.textwidth;case"keyMap":return this.state.keyMap||"vim"}}toggleOverwrite(t){this.state.overwrite=t}getTokenTypeAt(t){var n,r=this.indexFromPos(t),i=wje(this.cm6.state,r),o=i==null?void 0:i.resolve(r),s=((n=o==null?void 0:o.type)===null||n===void 0?void 0:n.name)||"";return/comment/i.test(s)?"comment":/string/i.test(s)?"string":""}overWriteSelection(t){var n=this.cm6.state.doc,r=this.cm6.state.selection,i=r.ranges.map(o=>{if(o.empty){var s=o.to<n.length?n.sliceString(o.from,o.to+1):"";if(s&&!/\n/.test(s))return Ee.range(o.from,o.to+1)}return o});this.cm6.dispatch({selection:Ee.create(i,r.mainIndex)}),this.replaceSelection(t)}isInMultiSelectMode(){return this.cm6.state.selection.ranges.length>1}virtualSelectionMode(){return!!this.virtualSelection}forEachSelection(t){var n=this.cm6.state.selection;this.virtualSelection=Ee.create(n.ranges,n.mainIndex);for(var r=0;r<this.virtualSelection.ranges.length;r++){var i=this.virtualSelection.ranges[r];i&&(this.cm6.dispatch({selection:Ee.create([i])}),t(),this.virtualSelection.ranges[r]=this.cm6.state.selection.ranges[0])}this.cm6.dispatch({selection:this.virtualSelection}),this.virtualSelection=null}hardWrap(t){return H_n(this,t)}}En.isMac=typeof navigator<"u"&&/Mac/.test(navigator.platform);En.Pos=Wd;En.StringStream=eie;En.commands={cursorCharLeft:function(e){uie(e.cm6)},redo:function(e){W_e(e,!1)},undo:function(e){W_e(e,!0)},newlineAndIndent:function(e){AFe({state:e.cm6.state,dispatch:t=>QE(e,t)})},indentAuto:function(e){NFe(e.cm6)}};En.defineOption=function(e,t,n){};En.isWordChar=function(e){return jG.test(e)};En.keys=z_n;En.keyMap={};En.addClass=function(){};En.rmClass=function(){};En.e_preventDefault=function(e){e.preventDefault()};En.e_stop=function(e){var t,n;(t=e==null?void 0:e.stopPropagation)===null||t===void 0||t.call(e),(n=e==null?void 0:e.preventDefault)===null||n===void 0||n.call(e)};En.keyName=function(e){var t=e.key;if(!zZe[t]){t=="Escape"&&(t="Esc"),t==" "&&(t="Space"),t.length>1&&(t=t.replace(/Numpad|Arrow/,"")),t.length==1&&(t=t.toUpperCase());var n="";return e.ctrlKey&&(n+="Ctrl-"),e.altKey&&(n+="Alt-"),(n||t.length>1)&&e.shiftKey&&(n+="Shift-"),n+=t,n}};En.vimKey=function(t){var n=t.key;if(!zZe[n]){n.length>1&&n[0]=="n"&&(n=n.replace("Numpad","")),n=F_n[n]||n;var r="";return t.ctrlKey&&(r+="C-"),t.altKey&&(r+="A-"),t.metaKey&&(r+="M-"),En.isMac&&t.altKey&&!t.metaKey&&!t.ctrlKey&&(r=r.slice(2)),(r||n.length>1)&&t.shiftKey&&(r+="S-"),r+=n,r.length>1&&(r="<"+r+">"),r}};En.lookupKey=function(t,n,r){var i=En.keys[t];i&&r(i)};En.on=LZe;En.off=jZe;En.signal=FZe;En.findMatchingTag=q_n;En.findEnclosingTag=Y_n;function QZe(e,t,n){var r=document.createElement("div");return r.appendChild(t),r}function BZe(e,t){e.state.currentNotificationClose&&e.state.currentNotificationClose(),e.state.currentNotificationClose=t}function Q_n(e,t,n){BZe(e,a);var r=QZe(e,t,n&&n.bottom),i=!1,o,s=n&&typeof n.duration<"u"?n.duration:5e3;function a(){i||(i=!0,clearTimeout(o),r.remove(),VZe(e,r))}return r.onclick=function(l){l.preventDefault(),a()},WZe(e,r),s&&(o=setTimeout(a,s)),a}function WZe(e,t){var n=e.state.dialog;e.state.dialog=t,t&&n!==t&&(n&&n.contains(document.activeElement)&&e.focus(),n&&n.parentElement?n.parentElement.replaceChild(t,n):n&&n.remove(),En.signal(e,"dialog"))}function VZe(e,t){e.state.dialog==t&&(e.state.dialog=null,En.signal(e,"dialog"))}function B_n(e,t,n,r){r||(r={}),BZe(e,void 0);var i=QZe(e,t,r.bottom),o=!1;WZe(e,i);function s(l){if(typeof l=="string")a.value=l;else{if(o)return;o=!0,VZe(e,i),e.state.dialog||e.focus(),r.onClose&&r.onClose(i)}}var a=i.getElementsByTagName("input")[0];return a&&(r.value&&(a.value=r.value,r.selectValueOnOpen!==!1&&a.select()),r.onInput&&En.on(a,"input",function(l){r.onInput(l,a.value,s)}),r.onKeyUp&&En.on(a,"keyup",function(l){r.onKeyUp(l,a.value,s)}),En.on(a,"keydown",function(l){r&&r.onKeyDown&&r.onKeyDown(l,a.value,s)||(l.keyCode==13&&n(a.value),(l.keyCode==27||r.closeOnEnter!==!1&&l.keyCode==13)&&(a.blur(),En.e_stop(l),s()))}),r.closeOnBlur!==!1&&En.on(a,"blur",function(){setTimeout(function(){document.activeElement!==a&&s()})}),a.focus()),s}var W_n={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<","<":">>",">":"<<"};function V_n(e){return e&&e.bracketRegex||/[(){}[\]]/}function U_n(e,t,n,r,i){for(var o=i&&i.maxScanLineLength||1e4,s=i&&i.maxScanLines||1e3,a=[],l=V_n(i),c=n>0?Math.min(t.line+s,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-s),u=t.line;u!=c;u+=n){var f=e.getLine(u);if(f){var d=n>0?0:f.length-1,h=n>0?f.length:-1;if(!(f.length>o))for(u==t.line&&(d=t.ch-(n<0?1:0));d!=h;d+=n){var p=f.charAt(d);if(l.test(p)){var g=W_n[p];if(g&&g.charAt(1)==">"==n>0)a.push(p);else if(a.length)a.pop();else return{pos:new Wd(u,d),ch:p}}}}}return u-n==(n>0?e.lastLine():e.firstLine())?!1:null}function q_n(e,t){}function Y_n(e,t){var n,r,i=e.cm6.state,o=e.indexFromPos(t);if(o<i.doc.length){var s=i.sliceDoc(o,o+1);s=="<"&&o++}for(var a=wje(i,o),l=(a==null?void 0:a.resolve(o))||null;l;){if(((n=l.firstChild)===null||n===void 0?void 0:n.type.name)=="OpenTag"&&((r=l.lastChild)===null||r===void 0?void 0:r.type.name)=="CloseTag")return{open:V_e(i.doc,l.firstChild),close:V_e(i.doc,l.lastChild)};l=l.parent}}function V_e(e,t){return{from:Jc(e,t.from),to:Jc(e,t.to)}}let X_n=class{constructor(t,n,r){this.cm=t,this.id=t.$mid++,this.offset=n,this.assoc=r,t.marks[this.id]=this}clear(){delete this.cm.marks[this.id]}find(){return this.offset==null?null:this.cm.posFromIndex(this.offset)}update(t){this.offset!=null&&(this.offset=t.mapPos(this.offset,this.assoc,Lo.TrackDel))}};function H_n(e,t){for(var n=t.column||e.getOption("textwidth")||80,r=t.allowMerge!=!1,i=Math.min(t.from,t.to),o=Math.max(t.from,t.to);i<=o;){var s=e.getLine(i);if(s.length>n){var a=h(s,n,5);if(a){var l=/^\s*/.exec(s)[0];e.replaceRange(`
`+l,new Wd(i,a.start),new Wd(i,a.end))}o++}else if(r&&/\S/.test(s)&&i!=o){var c=e.getLine(i+1);if(c&&/\S/.test(c)){var u=s.replace(/\s+$/,""),f=c.replace(/^\s+/,""),d=u+" "+f,a=h(d,n,5);a&&a.start>u.length||d.length<n?(e.replaceRange(" ",new Wd(i,u.length),new Wd(i+1,c.length-f.length)),i--,o--):u.length<s.length&&e.replaceRange("",new Wd(i,u.length),new Wd(i,s.length))}}i++}return i;function h(p,g,y){if(!(p.length<g)){var v=p.slice(0,g),x=p.slice(g),m=/^(?:(\s+)|(\S+)(\s+))/.exec(x),w=/(?:(\s+)|(\s+)(\S+))$/.exec(v),S=0,C=0;if(w&&!w[2]&&(S=g-w[1].length,C=g),m&&!m[2]&&(S||(S=g),C=g+m[1].length),S)return{start:S,end:C};if(w&&w[2]&&w.index>y)return{start:w.index,end:w.index+w[2].length};if(m&&m[2])return S=g+m[2].length,{start:S,end:S+m[3].length}}}}let FG=PIt||function(){let e={cursorBlinkRate:1200};return function(){return e}}();class Z_n{constructor(t,n,r,i,o,s,a,l,c,u){this.left=t,this.top=n,this.height=r,this.fontFamily=i,this.fontSize=o,this.fontWeight=s,this.color=a,this.className=l,this.letter=c,this.partial=u}draw(){let t=document.createElement("div");return t.className=this.className,this.adjust(t),t}adjust(t){t.style.left=this.left+"px",t.style.top=this.top+"px",t.style.height=this.height+"px",t.style.lineHeight=this.height+"px",t.style.fontFamily=this.fontFamily,t.style.fontSize=this.fontSize,t.style.fontWeight=this.fontWeight,t.style.color=this.partial?"transparent":this.color,t.className=this.className,t.textContent=this.letter}eq(t){return this.left==t.left&&this.top==t.top&&this.height==t.height&&this.fontFamily==t.fontFamily&&this.fontSize==t.fontSize&&this.fontWeight==t.fontWeight&&this.color==t.color&&this.className==t.className&&this.letter==t.letter}}class G_n{constructor(t,n){this.view=t,this.rangePieces=[],this.cursors=[],this.cm=n,this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.cursorLayer=t.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer cm-vimCursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),t.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){let n=FG(this.cm.cm6.state).cursorBlinkRate;this.cursorLayer.style.animationDuration=n+"ms"}update(t){(t.selectionSet||t.geometryChanged||t.viewportChanged)&&(this.view.requestMeasure(this.measureReq),this.cursorLayer.style.animationName=this.cursorLayer.style.animationName=="cm-blink"?"cm-blink2":"cm-blink"),K_n(t)&&this.setBlinkRate()}scheduleRedraw(){this.view.requestMeasure(this.measureReq)}readPos(){let{state:t}=this.view,n=[];for(let r of t.selection.ranges){let i=r==t.selection.main,o=nCn(this.cm,this.view,r,i);o&&n.push(o)}return{cursors:n}}drawSel({cursors:t}){if(t.length!=this.cursors.length||t.some((n,r)=>!n.eq(this.cursors[r]))){let n=this.cursorLayer.children;if(n.length!==t.length){this.cursorLayer.textContent="";for(const r of t)this.cursorLayer.appendChild(r.draw())}else t.forEach((r,i)=>r.adjust(n[i]));this.cursors=t}}destroy(){this.cursorLayer.remove()}}function K_n(e){return FG(e.startState)!=FG(e.state)}const J_n={".cm-vimMode .cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-fat-cursor":{position:"absolute",background:"#ff9696",border:"none",whiteSpace:"pre"},"&:not(.cm-focused) .cm-fat-cursor":{background:"none",outline:"solid 1px #ff9696",color:"transparent !important"}},eCn=Kl.highest(nt.theme(J_n));function tCn(e){let t=e.scrollDOM.getBoundingClientRect();return{left:(e.textDirection==qr.LTR?t.left:t.right-e.scrollDOM.clientWidth)-e.scrollDOM.scrollLeft,top:t.top-e.scrollDOM.scrollTop}}function nCn(e,t,n,r){var i,o;let s=n.head,a=!1,l=1,c=e.state.vim;if(c&&(!c.insertMode||e.state.overwrite)){if(a=!0,c.visualBlock&&!r)return null;n.anchor<n.head&&s--,e.state.overwrite?l=.2:c.status&&(l=.5)}if(a){let f=s<t.state.doc.length&&t.state.sliceDoc(s,s+1);f&&/[\uDC00-\uDFFF]/.test(f)&&s>1&&(s--,f=t.state.sliceDoc(s,s+1));let d=t.coordsAtPos(s,1);if(!d)return null;let h=tCn(t),p=t.domAtPos(s),g=p?p.node:t.contentDOM;for(;p&&p.node instanceof HTMLElement;)g=p.node,p={node:p.node.childNodes[p.offset],offset:0};if(!(g instanceof HTMLElement)){if(!g.parentNode)return null;g=g.parentNode}let y=getComputedStyle(g),v=d.left,x=(o=(i=t).coordsForChar)===null||o===void 0?void 0:o.call(i,s);if(x&&(v=x.left),!f||f==`
`||f=="\r")f="";else if(f=="	"){f="";var u=t.coordsAtPos(s+1,-1);u&&(v=u.left-(u.left-d.left)/parseInt(y.tabSize))}else/[\uD800-\uDBFF]/.test(f)&&s<t.state.doc.length-1&&(f+=t.state.sliceDoc(s+1,s+2));let m=d.bottom-d.top;return new Z_n(v-h.left,d.top-h.top+m*(1-l),m*l,y.fontFamily,y.fontSize,y.fontWeight,y.color,r?"cm-fat-cursor cm-cursor-primary":"cm-fat-cursor cm-cursor-secondary",f,l!=1)}else return null}var rCn=typeof navigator<"u"&&/linux/i.test(navigator.platform)&&/ Gecko\/\d+/.exec(navigator.userAgent);const Ex=j_n(En),iCn=250,oCn=nt.baseTheme({".cm-vimMode .cm-cursorLayer:not(.cm-vimCursorLayer)":{display:"none"},".cm-vim-panel":{padding:"0px 10px",fontFamily:"monospace",minHeight:"1.3em"},".cm-vim-panel input":{border:"none",outline:"none",backgroundColor:"inherit"},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"}}),sCn=Mr.fromClass(class{constructor(e){this.status="",this.query=null,this.decorations=vt.none,this.waitForCopy=!1,this.lastKeydown="",this.useNextTextInput=!1,this.view=e;const t=this.cm=new En(e);Ex.enterVimMode(this.cm),this.view.cm=this.cm,this.cm.state.vimPlugin=this,this.blockCursor=new G_n(e,t),this.updateClass(),this.cm.on("vim-command-done",()=>{t.state.vim&&(t.state.vim.status=""),this.blockCursor.scheduleRedraw(),this.updateStatus()}),this.cm.on("vim-mode-change",n=>{t.state.vim.mode=n.mode,n.subMode&&(t.state.vim.mode+=" block"),t.state.vim.status="",this.blockCursor.scheduleRedraw(),this.updateClass(),this.updateStatus()}),this.cm.on("dialog",()=>{this.cm.state.statusbar?this.updateStatus():e.dispatch({effects:UZe.of(!!this.cm.state.dialog)})}),this.dom=document.createElement("span"),this.dom.style.cssText="position: absolute; right: 10px; top: 1px",this.statusButton=document.createElement("span"),this.statusButton.onclick=n=>{Ex.handleKey(this.cm,"<Esc>","user"),this.cm.focus()},this.statusButton.style.cssText="cursor: pointer"}update(e){var t;if((e.viewportChanged||e.docChanged)&&this.query&&this.highlight(this.query),e.docChanged&&this.cm.onChange(e),e.selectionSet&&this.cm.onSelectionChange(),e.viewportChanged,this.cm.curOp&&!this.cm.curOp.isVimOp&&this.cm.onBeforeEndOperation(),e.transactions){for(let n of e.transactions)for(let r of n.effects)if(r.is(n0))if(!((t=r.value)===null||t===void 0?void 0:t.forVim))this.highlight(null);else{let o=r.value.create();this.highlight(o)}}this.blockCursor.update(e)}updateClass(){const e=this.cm.state;!e.vim||e.vim.insertMode&&!e.overwrite?this.view.scrollDOM.classList.remove("cm-vimMode"):this.view.scrollDOM.classList.add("cm-vimMode")}updateStatus(){let e=this.cm.state.statusbar,t=this.cm.state.vim;if(!e||!t)return;let n=this.cm.state.dialog;if(n)n.parentElement!=e&&(e.textContent="",e.appendChild(n));else{e.textContent="";var r=(t.mode||"normal").toUpperCase();t.insertModeReturn&&(r+="(C-O)"),this.statusButton.textContent=`--${r}--`,e.appendChild(this.statusButton)}this.dom.textContent=t.status,e.appendChild(this.dom)}destroy(){Ex.leaveVimMode(this.cm),this.updateClass(),this.blockCursor.destroy(),delete this.view.cm}highlight(e){if(this.query=e,!e)return this.decorations=vt.none;let{view:t}=this,n=new Sh;for(let r=0,i=t.visibleRanges,o=i.length;r<o;r++){let{from:s,to:a}=i[r];for(;r<o-1&&a>i[r+1].from-2*iCn;)a=i[++r].to;e.highlight(t.state,s,a,(l,c)=>{n.add(l,c,lCn)})}return this.decorations=n.finish()}handleKey(e,t){const n=En.vimKey(e),r=this.cm;if(!n)return;let i=r.state.vim;if(!i)return;if(n=="<Esc>"&&!i.insertMode&&!i.visualMode&&this.query){const a=i.searchState_;a&&(r.removeOverlay(a.getOverlay()),a.setOverlay(null))}if(n==="<C-c>"&&!En.isMac&&r.somethingSelected())return this.waitForCopy=!0,!0;i.status=(i.status||"")+n;let s=Ex.multiSelectHandleKey(r,n,"user");return i=r.state.vim,!s&&i.insertMode&&r.state.overwrite&&(e.key&&e.key.length==1&&!/\n/.test(e.key)?(s=!0,r.overWriteSelection(e.key)):e.key=="Backspace"&&(s=!0,En.commands.cursorCharLeft(r))),s&&(En.signal(this.cm,"vim-keypress",n),e.preventDefault(),e.stopPropagation(),this.blockCursor.scheduleRedraw()),this.updateStatus(),!!s}},{eventHandlers:{copy:function(e,t){this.waitForCopy&&(this.waitForCopy=!1,Promise.resolve().then(()=>{var n=this.cm,r=n.state.vim;r&&(r.insertMode?n.setSelection(n.getCursor(),n.getCursor()):n.operation(()=>{n.curOp&&(n.curOp.isVimOp=!0),Ex.handleKey(n,"<Esc>","user")}))}))},compositionstart:function(e,t){this.useNextTextInput=!0},keypress:function(e,t){this.lastKeydown=="Dead"&&this.handleKey(e,t)},keydown:function(e,t){this.lastKeydown=e.key,this.lastKeydown=="Unidentified"||this.lastKeydown=="Process"||this.lastKeydown=="Dead"?this.useNextTextInput=!0:(this.useNextTextInput=!1,this.handleKey(e,t))}},provide:()=>[nt.inputHandler.of((e,t,n,r)=>{var i,o,s=qZe(e);if(!s)return!1;var a=(i=s.state)===null||i===void 0?void 0:i.vim,l=s.state.vimPlugin;if(a&&!a.insertMode&&!(!((o=s.curOp)===null||o===void 0)&&o.isVimOp)){if(r==="\0\0")return!0;if(r.length==1&&l.useNextTextInput)return l.handleKey({key:r,preventDefault:()=>{},stopPropagation:()=>{}}),aCn(e),!0}return!1})],decorations:e=>e.decorations});function aCn(e){var t=e.scrollDOM.parentElement;if(t){if(rCn){e.contentDOM.textContent="\0\0",e.contentDOM.dispatchEvent(new CustomEvent("compositionend"));return}var n=e.scrollDOM.nextSibling,r=window.getSelection(),i=r&&{anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset};e.scrollDOM.remove(),t.insertBefore(e.scrollDOM,n);try{i&&r&&(r.setPosition(i.anchorNode,i.anchorOffset),i.focusNode&&r.extend(i.focusNode,i.focusOffset))}catch(o){console.error(o)}e.focus(),e.contentDOM.dispatchEvent(new CustomEvent("compositionend"))}}const lCn=vt.mark({class:"cm-searchMatch"}),UZe=Vt.define(),cCn=qi.define({create:()=>!1,update(e,t){for(let n of t.effects)n.is(UZe)&&(e=n.value);return e},provide:e=>Gy.from(e,t=>t?uCn:null)});function uCn(e){let t=document.createElement("div");t.className="cm-vim-panel";let n=e.cm;return n.state.dialog&&t.appendChild(n.state.dialog),{top:!1,dom:t}}function fCn(e){let t=document.createElement("div");t.className="cm-vim-panel";let n=e.cm;return n.state.statusbar=t,n.state.vimPlugin.updateStatus(),{dom:t}}function dCn(e={}){return[oCn,sCn,eCn,e.status?Gy.of(fCn):cCn]}function qZe(e){return e.cm||null}function YZe(e){const t=e.state.selection.main;return t.from===0&&t.to===0}function XZe(e,t=!1){const n=e.state.selection.main,r=e.state.doc.length;return t&&n.from===r-1&&n.to===r-1?!0:n.from===r&&n.to===r}function U_e(e){var n;const t=(n=qZe(e))==null?void 0:n.state.vim;return t?!t.mode&&!t.insertMode&&!t.visualMode?!0:t.mode==="normal":!1}function hCn(e){return[$i.of([{key:"j",run:t=>XZe(t,!0)&&U_e(t)?(e.focusDown(),!0):!1}]),$i.of([{key:"k",run:t=>YZe(t)&&U_e(t)?(e.focusUp(),!0):!1}])]}const pCn=["default","vim"];function gCn(e,t){switch(e.preset){case"default":return[$i.of(E3),$i.of([{key:"Escape",preventDefault:!0,run:n=>(n.contentDOM.blur(),!0)}])];case"vim":return Ex.defineEx("dcell","dcell",()=>{t.deleteCell()}),[hCn(t),Kl.highest(mCn("d",n=>n.state.doc.toString()==="",n=>n.state.doc.toString()===""?(t.deleteCell(),!0):!1)),dCn({status:!1}),$i.of(E3)];default:return Rg(e.preset),[]}}function mCn(e,t,n){let r="",i=0;return $i.of([{any:(o,s)=>{const a=s.key,l=s.timeStamp;return a!==e||!t(o)?(r="",i=0,!1):r===e&&l-i<500&&n(o)?(r="",i=0,!0):(r=a,i=l,!1)}}])}const HZe="marimo:copilot:signedIn",yCn=w3t(HZe,null,void 0,{getOnInit:!0});function vCn(){return localStorage.getItem(HZe)==="true"}function ZZe(){const e=vCn(),t=Uee();return e&&t.completion.copilot}function bCn(){return Zst(t4,e=>e.completion.copilot)}var qj={},GZe={},efe={exports:{}},Bw=typeof Reflect=="object"?Reflect:null,q_e=Bw&&typeof Bw.apply=="function"?Bw.apply:function(t,n,r){return Function.prototype.apply.call(t,n,r)},LI;Bw&&typeof Bw.ownKeys=="function"?LI=Bw.ownKeys:Object.getOwnPropertySymbols?LI=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:LI=function(t){return Object.getOwnPropertyNames(t)};function OCn(e){console&&console.warn&&console.warn(e)}var KZe=Number.isNaN||function(t){return t!==t};function Er(){Er.init.call(this)}efe.exports=Er;efe.exports.once=_Cn;Er.EventEmitter=Er;Er.prototype._events=void 0;Er.prototype._eventsCount=0;Er.prototype._maxListeners=void 0;var Y_e=10;function Qz(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Er,"defaultMaxListeners",{enumerable:!0,get:function(){return Y_e},set:function(e){if(typeof e!="number"||e<0||KZe(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Y_e=e}});Er.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Er.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||KZe(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function JZe(e){return e._maxListeners===void 0?Er.defaultMaxListeners:e._maxListeners}Er.prototype.getMaxListeners=function(){return JZe(this)};Er.prototype.emit=function(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=t==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var s;if(n.length>0&&(s=n[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=o[t];if(l===void 0)return!1;if(typeof l=="function")q_e(l,this,n);else for(var c=l.length,u=iGe(l,c),r=0;r<c;++r)q_e(u[r],this,n);return!0};function eGe(e,t,n,r){var i,o,s;if(Qz(n),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),s===void 0)s=o[t]=n,++e._eventsCount;else if(typeof s=="function"?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),i=JZe(e),i>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,OCn(a)}return e}Er.prototype.addListener=function(t,n){return eGe(this,t,n,!1)};Er.prototype.on=Er.prototype.addListener;Er.prototype.prependListener=function(t,n){return eGe(this,t,n,!0)};function xCn(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function tGe(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=xCn.bind(r);return i.listener=n,r.wrapFn=i,i}Er.prototype.once=function(t,n){return Qz(n),this.on(t,tGe(this,t,n)),this};Er.prototype.prependOnceListener=function(t,n){return Qz(n),this.prependListener(t,tGe(this,t,n)),this};Er.prototype.removeListener=function(t,n){var r,i,o,s,a;if(Qz(n),i=this._events,i===void 0)return this;if(r=i[t],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,r.listener||n));else if(typeof r!="function"){for(o=-1,s=r.length-1;s>=0;s--)if(r[s]===n||r[s].listener===n){a=r[s].listener,o=s;break}if(o<0)return this;o===0?r.shift():wCn(r,o),r.length===1&&(i[t]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",t,a||n)}return this};Er.prototype.off=Er.prototype.removeListener;Er.prototype.removeAllListeners=function(t){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var o=Object.keys(r),s;for(i=0;i<o.length;++i)s=o[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[t],typeof n=="function")this.removeListener(t,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(t,n[i]);return this};function nGe(e,t,n){var r=e._events;if(r===void 0)return[];var i=r[t];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?SCn(i):iGe(i,i.length)}Er.prototype.listeners=function(t){return nGe(this,t,!0)};Er.prototype.rawListeners=function(t){return nGe(this,t,!1)};Er.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):rGe.call(e,t)};Er.prototype.listenerCount=rGe;function rGe(e){var t=this._events;if(t!==void 0){var n=t[e];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Er.prototype.eventNames=function(){return this._eventsCount>0?LI(this._events):[]};function iGe(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function wCn(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function SCn(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function _Cn(e,t){return new Promise(function(n,r){function i(s){e.removeListener(t,o),r(s)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",i),n([].slice.call(arguments))}oGe(e,t,o,{once:!0}),t!=="error"&&CCn(e,i,{once:!0})})}function CCn(e,t,n){typeof e.on=="function"&&oGe(e,"error",t,n)}function oGe(e,t,n,r){if(typeof e.on=="function")r.once?e.once(t,n):e.on(t,n);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(o){r.once&&e.removeEventListener(t,i),n(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var sGe=efe.exports;(function(e){var t=ct&&ct.__awaiter||function(o,s,a,l){function c(u){return u instanceof a?u:new a(function(f){f(u)})}return new(a||(a=Promise))(function(u,f){function d(g){try{p(l.next(g))}catch(y){f(y)}}function h(g){try{p(l.throw(g))}catch(y){f(y)}}function p(g){g.done?u(g.value):c(g.value).then(d,h)}p((l=l.apply(o,s||[])).next())})},n=ct&&ct.__generator||function(o,s){var a={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},l,c,u,f;return f={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function d(p){return function(g){return h([p,g])}}function h(p){if(l)throw new TypeError("Generator is already executing.");for(;a;)try{if(l=1,c&&(u=p[0]&2?c.return:p[0]?c.throw||((u=c.return)&&u.call(c),0):c.next)&&!(u=u.call(c,p[1])).done)return u;switch(c=0,u&&(p=[p[0]&2,u.value]),p[0]){case 0:case 1:u=p;break;case 4:return a.label++,{value:p[1],done:!1};case 5:a.label++,c=p[1],p=[0];continue;case 7:p=a.ops.pop(),a.trys.pop();continue;default:if(u=a.trys,!(u=u.length>0&&u[u.length-1])&&(p[0]===6||p[0]===2)){a=0;continue}if(p[0]===3&&(!u||p[1]>u[0]&&p[1]<u[3])){a.label=p[1];break}if(p[0]===6&&a.label<u[1]){a.label=u[1],u=p;break}if(u&&a.label<u[2]){a.label=u[2],a.ops.push(p);break}u[2]&&a.ops.pop(),a.trys.pop();continue}p=s.call(o,a)}catch(g){p=[6,g],c=0}finally{l=u=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}};Object.defineProperty(e,"__esModule",{value:!0}),e.defaultNextRequest=void 0;var r=sGe;e.defaultNextRequest=function(){var o=-1;return function(){return++o}};var i=function(){function o(s,a){a===void 0&&(a=e.defaultNextRequest()),this.batch=[],this.batchStarted=!1,this.lastId=-1,this.transports=s,this.requests={},this.connectPromise=this.connect(),this.requestChannel=new r.EventEmitter,this.nextID=a}return o.prototype.connect=function(){var s=this;return Promise.all(this.transports.map(function(a){return t(s,void 0,void 0,function(){return n(this,function(l){switch(l.label){case 0:return a.subscribe("error",this.handleError.bind(this)),a.subscribe("notification",this.handleNotification.bind(this)),[4,a.connect()];case 1:return l.sent(),[2]}})})}))},o.prototype.getPrimaryTransport=function(){return this.transports[0]},o.prototype.request=function(s,a,l){return a===void 0&&(a=!1),t(this,void 0,void 0,function(){var c,u,f,d,h=this;return n(this,function(p){return c=this.nextID().toString(),u=a?null:c,f={request:this.makeRequest(s.method,s.params||[],u),internalID:c},this.batchStarted?(d=new Promise(function(g,y){h.batch.push({resolve:g,reject:y,request:f})}),[2,d]):[2,this.getPrimaryTransport().sendData(f,l)]})})},o.prototype.close=function(){this.requestChannel.removeAllListeners(),this.transports.forEach(function(s){s.unsubscribe(),s.close()})},o.prototype.startBatch=function(){this.batchStarted=!0},o.prototype.stopBatch=function(){if(this.batchStarted===!1)throw new Error("cannot end that which has never started");if(this.batch.length===0){this.batchStarted=!1;return}this.getPrimaryTransport().sendData(this.batch),this.batch=[],this.batchStarted=!1},o.prototype.makeRequest=function(s,a,l){return l?{jsonrpc:"2.0",id:l,method:s,params:a}:{jsonrpc:"2.0",method:s,params:a}},o.prototype.handleError=function(s){this.requestChannel.emit("error",s)},o.prototype.handleNotification=function(s){this.requestChannel.emit("notification",s)},o}();e.default=i})(GZe);var tfe={},J0={},Bz={},IC={};(function(e){var t=ct&&ct.__extends||function(){var r=function(i,o){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var l in a)a.hasOwnProperty(l)&&(s[l]=a[l])},r(i,o)};return function(i,o){r(i,o);function s(){this.constructor=i}i.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)}}();Object.defineProperty(e,"__esModule",{value:!0}),e.convertJSONToRPCError=e.JSONRPCError=e.ERR_UNKNOWN=e.ERR_MISSIING_ID=e.ERR_TIMEOUT=void 0,e.ERR_TIMEOUT=7777,e.ERR_MISSIING_ID=7878,e.ERR_UNKNOWN=7979;var n=function(r){t(i,r);function i(o,s,a){var l=this.constructor,c=r.call(this,o)||this;return c.message=o,c.code=s,c.data=a,Object.setPrototypeOf(c,l.prototype),c}return i}(Error);e.JSONRPCError=n,e.convertJSONToRPCError=function(r){if(r.error){var i=r.error,o=i.message,s=i.code,a=i.data;return new n(o,s,a)}return new n("Unknown error",e.ERR_UNKNOWN,r)}})(IC);Object.defineProperty(Bz,"__esModule",{value:!0});Bz.TransportRequestManager=void 0;var $Cn=sGe,ix=IC,ECn=function(){function e(){this.pendingRequest={},this.pendingBatchRequest={},this.transportEventChannel=new $Cn.EventEmitter}return e.prototype.addRequest=function(t,n){return this.transportEventChannel.emit("pending",t),t instanceof Array?(this.addBatchReq(t,n),Promise.resolve()):this.addReq(t.internalID,n)},e.prototype.settlePendingRequest=function(t,n){var r=this;t.forEach(function(i){var o=r.pendingRequest[i.internalID];if(delete r.pendingBatchRequest[i.internalID],o!==void 0){if(n){o.reject(n);return}o.resolve(),(i.request.id===null||i.request.id===void 0)&&delete r.pendingRequest[i.internalID]}})},e.prototype.isPendingRequest=function(t){return this.pendingRequest.hasOwnProperty(t)},e.prototype.resolveResponse=function(t,n){n===void 0&&(n=!0);var r=t;try{return r=JSON.parse(t),this.checkJSONRPC(r)===!1?void 0:r instanceof Array?this.resolveBatch(r,n):this.resolveRes(r,n)}catch{var i=new ix.JSONRPCError("Bad response format",ix.ERR_UNKNOWN,t);return n&&this.transportEventChannel.emit("error",i),i}},e.prototype.addBatchReq=function(t,n){var r=this;return t.forEach(function(i){var o=i.resolve,s=i.reject,a=i.request.internalID;r.pendingBatchRequest[a]=!0,r.pendingRequest[a]={resolve:o,reject:s}}),Promise.resolve()},e.prototype.addReq=function(t,n){var r=this;return new Promise(function(i,o){n!==null&&n&&r.setRequestTimeout(t,n,o),r.pendingRequest[t]={resolve:i,reject:o}})},e.prototype.checkJSONRPC=function(t){var n=[t];return t instanceof Array&&(n=t),n.every(function(r){return r.result!==void 0||r.error!==void 0||r.method!==void 0})},e.prototype.processResult=function(t,n){if(t.error){var r=ix.convertJSONToRPCError(t);n.reject(r);return}n.resolve(t.result)},e.prototype.resolveBatch=function(t,n){var r=this,i=t.map(function(s){return r.resolveRes(s,n)}),o=i.filter(function(s){return s});if(o.length>0)return o[0]},e.prototype.resolveRes=function(t,n){var r=t.id,i=t.error,o=this.pendingRequest[r];if(o){delete this.pendingRequest[r],this.processResult(t,o),this.transportEventChannel.emit("response",t);return}if(r===void 0&&i===void 0){this.transportEventChannel.emit("notification",t);return}var s;return i&&(s=ix.convertJSONToRPCError(t)),n&&i&&s&&this.transportEventChannel.emit("error",s),s},e.prototype.setRequestTimeout=function(t,n,r){var i=this;setTimeout(function(){delete i.pendingRequest[t],r(new ix.JSONRPCError("Request timeout request took longer than "+n+" ms to resolve",ix.ERR_TIMEOUT))},n)},e}();Bz.TransportRequestManager=ECn;Object.defineProperty(J0,"__esModule",{value:!0});var aGe=J0.Transport=void 0,kCn=Bz,TCn=function(){function e(){this.transportRequestManager=new kCn.TransportRequestManager,this.transportRequestManager.transportEventChannel.on("error",function(){})}return e.prototype.subscribe=function(t,n){this.transportRequestManager.transportEventChannel.addListener(t,n)},e.prototype.unsubscribe=function(t,n){if(!t)return this.transportRequestManager.transportEventChannel.removeAllListeners();t&&n&&this.transportRequestManager.transportEventChannel.removeListener(t,n)},e.prototype.parseData=function(t){return t instanceof Array?t.map(function(n){return n.request.request}):t.request},e}();aGe=J0.Transport=TCn;var LC={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getNotifications=e.getBatchRequests=e.isNotification=void 0,e.isNotification=function(t){return t.request.id===void 0||t.request.id===null},e.getBatchRequests=function(t){return t instanceof Array?t.filter(function(n){var r=n.request.request.id;return r!=null}).map(function(n){return n.request}):[]},e.getNotifications=function(t){return t instanceof Array?t.filter(function(n){return e.isNotification(n.request)}).map(function(n){return n.request}):e.isNotification(t)?[t]:[]}})(LC);var PCn=ct&&ct.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(tfe,"__esModule",{value:!0});var RCn=J0,ACn=LC,X_e=IC,DCn=function(e){PCn(t,e);function t(n,r,i){var o=e.call(this)||this;return o.connection=n,o.reqUri=r,o.resUri=i,o}return t.prototype.connect=function(){var n=this;return this.connection.on(this.resUri,function(r){n.transportRequestManager.resolveResponse(r)}),Promise.resolve()},t.prototype.sendData=function(n,r){r===void 0&&(r=null);var i=this.transportRequestManager.addRequest(n,r),o=ACn.getNotifications(n),s=this.parseData(n);try{return this.connection.emit(this.reqUri,s),this.transportRequestManager.settlePendingRequest(o),i}catch(l){var a=new X_e.JSONRPCError(l.message,X_e.ERR_UNKNOWN,l);return this.transportRequestManager.settlePendingRequest(o,a),Promise.reject(a)}},t.prototype.close=function(){this.connection.removeAllListeners()},t}(RCn.Transport);tfe.default=DCn;var OA={},$s=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof global<"u"&&global||{},Ia={searchParams:"URLSearchParams"in $s,iterable:"Symbol"in $s&&"iterator"in Symbol,blob:"FileReader"in $s&&"Blob"in $s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in $s,arrayBuffer:"ArrayBuffer"in $s};function NCn(e){return e&&DataView.prototype.isPrototypeOf(e)}if(Ia.arrayBuffer)var MCn=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],ICn=ArrayBuffer.isView||function(e){return e&&MCn.indexOf(Object.prototype.toString.call(e))>-1};function jC(e){if(typeof e!="string"&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||e==="")throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function nfe(e){return typeof e!="string"&&(e=String(e)),e}function rfe(e){var t={next:function(){var n=e.shift();return{done:n===void 0,value:n}}};return Ia.iterable&&(t[Symbol.iterator]=function(){return t}),t}function qo(e){this.map={},e instanceof qo?e.forEach(function(t,n){this.append(n,t)},this):Array.isArray(e)?e.forEach(function(t){if(t.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+t.length);this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}qo.prototype.append=function(e,t){e=jC(e),t=nfe(t);var n=this.map[e];this.map[e]=n?n+", "+t:t};qo.prototype.delete=function(e){delete this.map[jC(e)]};qo.prototype.get=function(e){return e=jC(e),this.has(e)?this.map[e]:null};qo.prototype.has=function(e){return this.map.hasOwnProperty(jC(e))};qo.prototype.set=function(e,t){this.map[jC(e)]=nfe(t)};qo.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)};qo.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),rfe(e)};qo.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),rfe(e)};qo.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),rfe(e)};Ia.iterable&&(qo.prototype[Symbol.iterator]=qo.prototype.entries);function XV(e){if(!e._noBody){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}}function lGe(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function LCn(e){var t=new FileReader,n=lGe(t);return t.readAsArrayBuffer(e),n}function jCn(e){var t=new FileReader,n=lGe(t),r=/charset=([A-Za-z0-9_-]+)/.exec(e.type),i=r?r[1]:"utf-8";return t.readAsText(e,i),n}function FCn(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}function H_e(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function cGe(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?typeof e=="string"?this._bodyText=e:Ia.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:Ia.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:Ia.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():Ia.arrayBuffer&&Ia.blob&&NCn(e)?(this._bodyArrayBuffer=H_e(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Ia.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||ICn(e))?this._bodyArrayBuffer=H_e(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof e=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Ia.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Ia.blob&&(this.blob=function(){var e=XV(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=XV(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(Ia.blob)return this.blob().then(LCn);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var e=XV(this);if(e)return e;if(this._bodyBlob)return jCn(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(FCn(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Ia.formData&&(this.formData=function(){return this.text().then(BCn)}),this.json=function(){return this.text().then(JSON.parse)},this}var zCn=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function QCn(e){var t=e.toUpperCase();return zCn.indexOf(t)>-1?t:e}function Ab(e,t){if(!(this instanceof Ab))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{};var n=t.body;if(e instanceof Ab){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new qo(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!n&&e._bodyInit!=null&&(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new qo(t.headers)),this.method=QCn(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in $s){var o=new AbortController;return o.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),(this.method==="GET"||this.method==="HEAD")&&(t.cache==="no-store"||t.cache==="no-cache")){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+new Date().getTime());else{var i=/\?/;this.url+=(i.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}Ab.prototype.clone=function(){return new Ab(this,{body:this._bodyInit})};function BCn(e){var t=new FormData;return e.trim().split("&").forEach(function(n){if(n){var r=n.split("="),i=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(o))}}),t}function WCn(e){var t=new qo,n=e.replace(/\r?\n[\t ]+/g," ");return n.split("\r").map(function(r){return r.indexOf(`
`)===0?r.substr(1,r.length):r}).forEach(function(r){var i=r.split(":"),o=i.shift().trim();if(o){var s=i.join(":").trim();try{t.append(o,s)}catch(a){console.warn("Response "+a.message)}}}),t}cGe.call(Ab.prototype);function Nh(e,t){if(!(this instanceof Nh))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=t.status===void 0?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText===void 0?"":""+t.statusText,this.headers=new qo(t.headers),this.url=t.url||"",this._initBody(e)}cGe.call(Nh.prototype);Nh.prototype.clone=function(){return new Nh(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new qo(this.headers),url:this.url})};Nh.error=function(){var e=new Nh(null,{status:200,statusText:""});return e.status=0,e.type="error",e};var VCn=[301,302,303,307,308];Nh.redirect=function(e,t){if(VCn.indexOf(t)===-1)throw new RangeError("Invalid status code");return new Nh(null,{status:t,headers:{location:e}})};var Wv=$s.DOMException;try{new Wv}catch{Wv=function(t,n){this.message=t,this.name=n;var r=Error(t);this.stack=r.stack},Wv.prototype=Object.create(Error.prototype),Wv.prototype.constructor=Wv}function uGe(e,t){return new Promise(function(n,r){var i=new Ab(e,t);if(i.signal&&i.signal.aborted)return r(new Wv("Aborted","AbortError"));var o=new XMLHttpRequest;function s(){o.abort()}o.onload=function(){var c={status:o.status,statusText:o.statusText,headers:WCn(o.getAllResponseHeaders()||"")};c.url="responseURL"in o?o.responseURL:c.headers.get("X-Request-URL");var u="response"in o?o.response:o.responseText;setTimeout(function(){n(new Nh(u,c))},0)},o.onerror=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},o.ontimeout=function(){setTimeout(function(){r(new TypeError("Network request failed"))},0)},o.onabort=function(){setTimeout(function(){r(new Wv("Aborted","AbortError"))},0)};function a(c){try{return c===""&&$s.location.href?$s.location.href:c}catch{return c}}if(o.open(i.method,a(i.url),!0),i.credentials==="include"?o.withCredentials=!0:i.credentials==="omit"&&(o.withCredentials=!1),"responseType"in o&&(Ia.blob?o.responseType="blob":Ia.arrayBuffer&&(o.responseType="arraybuffer")),t&&typeof t.headers=="object"&&!(t.headers instanceof qo||$s.Headers&&t.headers instanceof $s.Headers)){var l=[];Object.getOwnPropertyNames(t.headers).forEach(function(c){l.push(jC(c)),o.setRequestHeader(c,nfe(t.headers[c]))}),i.headers.forEach(function(c,u){l.indexOf(u)===-1&&o.setRequestHeader(u,c)})}else i.headers.forEach(function(c,u){o.setRequestHeader(u,c)});i.signal&&(i.signal.addEventListener("abort",s),o.onreadystatechange=function(){o.readyState===4&&i.signal.removeEventListener("abort",s)}),o.send(typeof i._bodyInit>"u"?null:i._bodyInit)})}uGe.polyfill=!0;$s.fetch||($s.fetch=uGe,$s.Headers=qo,$s.Request=Ab,$s.Response=Nh);var UCn=self.fetch.bind(self),qCn=ct&&ct.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),YCn=ct&&ct.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})},XCn=ct&&ct.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},HCn=ct&&ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(OA,"__esModule",{value:!0});OA.HTTPTransport=void 0;var ZCn=HCn(UCn),GCn=J0,HV=LC,Z_e=IC,fGe=function(e){qCn(t,e);function t(n,r){var i=e.call(this)||this;return i.onlyNotifications=function(o){return o instanceof Array?o.every(function(s){return s.request.request.id===null||s.request.request.id===void 0}):o.request.id===null||o.request.id===void 0},i.uri=n,i.credentials=r&&r.credentials,i.headers=t.setupHeaders(r&&r.headers),i.injectedFetcher=r==null?void 0:r.fetcher,i}return t.prototype.connect=function(){return Promise.resolve()},t.prototype.sendData=function(n,r){return r===void 0&&(r=null),YCn(this,void 0,void 0,function(){var i,o,s,a,l,c,f,u,f;return XCn(this,function(d){switch(d.label){case 0:i=this.transportRequestManager.addRequest(n,r),o=HV.getNotifications(n),s=HV.getBatchRequests(n),a=this.injectedFetcher||ZCn.default,d.label=1;case 1:return d.trys.push([1,4,,5]),[4,a(this.uri,{method:"POST",headers:this.headers,body:JSON.stringify(this.parseData(n)),credentials:this.credentials})];case 2:return l=d.sent(),this.transportRequestManager.settlePendingRequest(o),this.onlyNotifications(n)?[2,Promise.resolve()]:[4,l.text()];case 3:return c=d.sent(),f=this.transportRequestManager.resolveResponse(c),f?(this.transportRequestManager.settlePendingRequest(s,f),[2,Promise.reject(f)]):[3,5];case 4:return u=d.sent(),f=new Z_e.JSONRPCError(u.message,Z_e.ERR_UNKNOWN,u),this.transportRequestManager.settlePendingRequest(o,f),this.transportRequestManager.settlePendingRequest(HV.getBatchRequests(n),f),[2,Promise.reject(f)];case 5:return[2,i]}})})},t.prototype.close=function(){},t.setupHeaders=function(n){var r=new Headers(n);return r.set("Content-Type","application/json"),r},t}(GCn.Transport);OA.HTTPTransport=fGe;OA.default=fGe;var ife={},kx=null;typeof WebSocket<"u"?kx=WebSocket:typeof MozWebSocket<"u"?kx=MozWebSocket:typeof global<"u"?kx=global.WebSocket||global.MozWebSocket:typeof window<"u"?kx=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(kx=self.WebSocket||self.MozWebSocket);const KCn=kx,JCn=Object.freeze(Object.defineProperty({__proto__:null,default:KCn},Symbol.toStringTag,{value:"Module"})),e$n=PP(JCn);var t$n=ct&&ct.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),n$n=ct&&ct.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})},r$n=ct&&ct.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},i$n=ct&&ct.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ife,"__esModule",{value:!0});var o$n=i$n(e$n),s$n=J0,G_e=LC,K_e=IC,a$n=function(e){t$n(t,e);function t(n){var r=e.call(this)||this;return r.uri=n,r.connection=new o$n.default(n),r}return t.prototype.connect=function(){var n=this;return new Promise(function(r,i){var o=function(){n.connection.removeEventListener("open",o),r()};n.connection.addEventListener("open",o),n.connection.addEventListener("message",function(s){var a=s.data;n.transportRequestManager.resolveResponse(a)})})},t.prototype.sendData=function(n,r){return r===void 0&&(r=5e3),n$n(this,void 0,void 0,function(){var i,o,s;return r$n(this,function(a){i=this.transportRequestManager.addRequest(n,r),o=G_e.getNotifications(n);try{this.connection.send(JSON.stringify(this.parseData(n))),this.transportRequestManager.settlePendingRequest(o)}catch(l){s=new K_e.JSONRPCError(l.message,K_e.ERR_UNKNOWN,l),this.transportRequestManager.settlePendingRequest(o,s),this.transportRequestManager.settlePendingRequest(G_e.getBatchRequests(n),s),i=Promise.reject(s)}return[2,i]})})},t.prototype.close=function(){this.connection.close()},t}(s$n.Transport);ife.default=a$n;var ofe={},l$n=ct&&ct.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),J_e=ct&&ct.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})},eCe=ct&&ct.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(ofe,"__esModule",{value:!0});var c$n=J0,u$n=LC,f$n=function(e){var t=400,n=window.screen.height,r=0,i=0;return window.open(e,"inspector:popup","left="+r+",top="+i+",width="+t+",height="+n+",resizable,scrollbars=yes,status=1")},d$n=function(e){l$n(t,e);function t(n){var r=e.call(this)||this;return r.messageHandler=function(i){r.transportRequestManager.resolveResponse(JSON.stringify(i.data))},r.uri=n,r.postMessageID="post-message-transport-"+Math.random(),r}return t.prototype.createWindow=function(n){return new Promise(function(r,i){var o;o=f$n(n),setTimeout(function(){r(o)},3e3)})},t.prototype.connect=function(){var n=this,r=/^(http|https):\/\/.*$/;return new Promise(function(i,o){return J_e(n,void 0,void 0,function(){var s;return eCe(this,function(a){switch(a.label){case 0:return r.test(this.uri)||o(new Error("Bad URI")),s=this,[4,this.createWindow(this.uri)];case 1:return s.frame=a.sent(),window.addEventListener("message",this.messageHandler),i(),[2]}})})})},t.prototype.sendData=function(n,r){return J_e(this,void 0,void 0,function(){var i,o;return eCe(this,function(s){return i=this.transportRequestManager.addRequest(n,null),o=u$n.getNotifications(n),this.frame&&(this.frame.postMessage(n.request,this.uri),this.transportRequestManager.settlePendingRequest(o)),[2,i]})})},t.prototype.close=function(){this.frame&&(window.removeEventListener("message",this.messageHandler),this.frame.close())},t}(c$n.Transport);ofe.default=d$n;var sfe={},h$n=ct&&ct.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),tCe=ct&&ct.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})},nCe=ct&&ct.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(sfe,"__esModule",{value:!0});var p$n=J0,g$n=LC,m$n=function(e){h$n(t,e);function t(n){var r=e.call(this)||this;return r.messageHandler=function(i){r.transportRequestManager.resolveResponse(JSON.stringify(i.data))},r.uri=n,r.postMessageID="post-message-transport-"+Math.random(),r}return t.prototype.createWindow=function(n){var r=this;return new Promise(function(i,o){var s,a=document.createElement("iframe");a.setAttribute("id",r.postMessageID),a.setAttribute("width","0px"),a.setAttribute("height","0px"),a.setAttribute("style","visiblity:hidden;border:none;outline:none;"),a.addEventListener("load",function(){i(s)}),a.setAttribute("src",n),window.document.body.appendChild(a),s=a.contentWindow})},t.prototype.connect=function(){var n=this,r=/^(http|https):\/\/.*$/;return new Promise(function(i,o){return tCe(n,void 0,void 0,function(){var s;return nCe(this,function(a){switch(a.label){case 0:return r.test(this.uri)||o(new Error("Bad URI")),s=this,[4,this.createWindow(this.uri)];case 1:return s.frame=a.sent(),window.addEventListener("message",this.messageHandler),i(),[2]}})})})},t.prototype.sendData=function(n,r){return tCe(this,void 0,void 0,function(){var i,o;return nCe(this,function(s){return i=this.transportRequestManager.addRequest(n,null),o=g$n.getNotifications(n),this.frame&&(this.frame.postMessage(n.request,"*"),this.transportRequestManager.settlePendingRequest(o)),[2,i]})})},t.prototype.close=function(){var n=document.getElementById(this.postMessageID);n==null||n.remove(),window.removeEventListener("message",this.messageHandler)},t}(p$n.Transport);sfe.default=m$n;var afe={},rCe=ct&&ct.__awaiter||function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})},iCe=ct&&ct.__generator||function(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(u){c=[6,u],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(afe,"__esModule",{value:!0});var y$n=function(){function e(t){this.requestManager=t}return e.prototype.startBatch=function(){return this.requestManager.startBatch()},e.prototype.stopBatch=function(){return this.requestManager.stopBatch()},e.prototype.request=function(t,n){return rCe(this,void 0,void 0,function(){return iCe(this,function(r){switch(r.label){case 0:return this.requestManager.connectPromise?[4,this.requestManager.connectPromise]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2,this.requestManager.request(t,!1,n)]}})})},e.prototype.notify=function(t){return rCe(this,void 0,void 0,function(){return iCe(this,function(n){switch(n.label){case 0:return this.requestManager.connectPromise?[4,this.requestManager.connectPromise]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2,this.requestManager.request(t,!0,null)]}})})},e.prototype.onNotification=function(t){this.requestManager.requestChannel.addListener("notification",t)},e.prototype.onError=function(t){this.requestManager.requestChannel.addListener("error",t)},e.prototype.close=function(){this.requestManager.close()},e}();afe.default=y$n;(function(e){var t=ct&&ct.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.PostMessageIframeTransport=e.PostMessageWindowTransport=e.JSONRPCError=e.WebSocketTransport=e.EventEmitterTransport=e.HTTPTransport=e.RequestManager=e.Client=void 0;var n=t(GZe);e.RequestManager=n.default;var r=t(tfe);e.EventEmitterTransport=r.default;var i=t(OA);e.HTTPTransport=i.default;var o=t(ife);e.WebSocketTransport=o.default;var s=t(ofe);e.PostMessageWindowTransport=s.default;var a=t(sfe);e.PostMessageIframeTransport=a.default;var l=IC;Object.defineProperty(e,"JSONRPCError",{enumerable:!0,get:function(){return l.JSONRPCError}});var c=t(afe);e.Client=c.default,e.default=c.default})(qj);var nh={},bO={},lfe={},Yj={},Et={},ho={};Object.defineProperty(ho,"__esModule",{value:!0});ho.stringArray=ho.array=ho.func=ho.error=ho.number=ho.string=ho.boolean=void 0;function v$n(e){return e===!0||e===!1}ho.boolean=v$n;function dGe(e){return typeof e=="string"||e instanceof String}ho.string=dGe;function b$n(e){return typeof e=="number"||e instanceof Number}ho.number=b$n;function O$n(e){return e instanceof Error}ho.error=O$n;function x$n(e){return typeof e=="function"}ho.func=x$n;function hGe(e){return Array.isArray(e)}ho.array=hGe;function w$n(e){return hGe(e)&&e.every(t=>dGe(t))}ho.stringArray=w$n;Object.defineProperty(Et,"__esModule",{value:!0});Et.Message=Et.NotificationType9=Et.NotificationType8=Et.NotificationType7=Et.NotificationType6=Et.NotificationType5=Et.NotificationType4=Et.NotificationType3=Et.NotificationType2=Et.NotificationType1=Et.NotificationType0=Et.NotificationType=Et.RequestType9=Et.RequestType8=Et.RequestType7=Et.RequestType6=Et.RequestType5=Et.RequestType4=Et.RequestType3=Et.RequestType2=Et.RequestType1=Et.RequestType=Et.RequestType0=Et.AbstractMessageSignature=Et.ParameterStructures=Et.ResponseError=Et.ErrorCodes=void 0;const Ev=ho;var zG;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(zG||(Et.ErrorCodes=zG={}));class cfe extends Error{constructor(t,n,r){super(n),this.code=Ev.number(t)?t:zG.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,cfe.prototype)}toJson(){const t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}}Et.ResponseError=cfe;class xa{constructor(t){this.kind=t}static is(t){return t===xa.auto||t===xa.byName||t===xa.byPosition}toString(){return this.kind}}Et.ParameterStructures=xa;xa.auto=new xa("auto");xa.byPosition=new xa("byPosition");xa.byName=new xa("byName");class Pi{constructor(t,n){this.method=t,this.numberOfParams=n}get parameterStructures(){return xa.auto}}Et.AbstractMessageSignature=Pi;class S$n extends Pi{constructor(t){super(t,0)}}Et.RequestType0=S$n;class _$n extends Pi{constructor(t,n=xa.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}}Et.RequestType=_$n;class C$n extends Pi{constructor(t,n=xa.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}}Et.RequestType1=C$n;class $$n extends Pi{constructor(t){super(t,2)}}Et.RequestType2=$$n;class E$n extends Pi{constructor(t){super(t,3)}}Et.RequestType3=E$n;class k$n extends Pi{constructor(t){super(t,4)}}Et.RequestType4=k$n;class T$n extends Pi{constructor(t){super(t,5)}}Et.RequestType5=T$n;class P$n extends Pi{constructor(t){super(t,6)}}Et.RequestType6=P$n;class R$n extends Pi{constructor(t){super(t,7)}}Et.RequestType7=R$n;class A$n extends Pi{constructor(t){super(t,8)}}Et.RequestType8=A$n;class D$n extends Pi{constructor(t){super(t,9)}}Et.RequestType9=D$n;class N$n extends Pi{constructor(t,n=xa.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}}Et.NotificationType=N$n;class M$n extends Pi{constructor(t){super(t,0)}}Et.NotificationType0=M$n;class I$n extends Pi{constructor(t,n=xa.auto){super(t,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}}Et.NotificationType1=I$n;class L$n extends Pi{constructor(t){super(t,2)}}Et.NotificationType2=L$n;class j$n extends Pi{constructor(t){super(t,3)}}Et.NotificationType3=j$n;class F$n extends Pi{constructor(t){super(t,4)}}Et.NotificationType4=F$n;class z$n extends Pi{constructor(t){super(t,5)}}Et.NotificationType5=z$n;class Q$n extends Pi{constructor(t){super(t,6)}}Et.NotificationType6=Q$n;class B$n extends Pi{constructor(t){super(t,7)}}Et.NotificationType7=B$n;class W$n extends Pi{constructor(t){super(t,8)}}Et.NotificationType8=W$n;class V$n extends Pi{constructor(t){super(t,9)}}Et.NotificationType9=V$n;var oCe;(function(e){function t(i){const o=i;return o&&Ev.string(o.method)&&(Ev.string(o.id)||Ev.number(o.id))}e.isRequest=t;function n(i){const o=i;return o&&Ev.string(o.method)&&i.id===void 0}e.isNotification=n;function r(i){const o=i;return o&&(o.result!==void 0||!!o.error)&&(Ev.string(o.id)||Ev.number(o.id)||o.id===null)}e.isResponse=r})(oCe||(Et.Message=oCe={}));var rg={},sCe;Object.defineProperty(rg,"__esModule",{value:!0});rg.LRUCache=rg.LinkedMap=rg.Touch=void 0;var ia;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(ia||(rg.Touch=ia={}));class pGe{constructor(){this[sCe]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var t;return(t=this._head)==null?void 0:t.value}get last(){var t;return(t=this._tail)==null?void 0:t.value}has(t){return this._map.has(t)}get(t,n=ia.None){const r=this._map.get(t);if(r)return n!==ia.None&&this.touch(r,n),r.value}set(t,n,r=ia.None){let i=this._map.get(t);if(i)i.value=n,r!==ia.None&&this.touch(i,r);else{switch(i={key:t,value:n,next:void 0,previous:void 0},r){case ia.None:this.addItemLast(i);break;case ia.First:this.addItemFirst(i);break;case ia.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){const n=this._map.get(t);if(n)return this._map.delete(t),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,n){const r=this._state;let i=this._head;for(;i;){if(n?t.bind(n)(i.value,i.key,this):t(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){const t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const i={value:n.key,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}values(){const t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const i={value:n.value,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}entries(){const t=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const i={value:[n.key,n.value],done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}[(sCe=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>t;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{const n=t.next,r=t.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}t.next=void 0,t.previous=void 0,this._state++}touch(t,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==ia.First&&n!==ia.Last)){if(n===ia.First){if(t===this._head)return;const r=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(n===ia.Last){if(t===this._tail)return;const r=t.next,i=t.previous;t===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){const t=[];return this.forEach((n,r)=>{t.push([r,n])}),t}fromJSON(t){this.clear();for(const[n,r]of t)this.set(n,r)}}rg.LinkedMap=pGe;class U$n extends pGe{constructor(t,n=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,n=ia.AsNew){return super.get(t,n)}peek(t){return super.get(t,ia.None)}set(t,n){return super.set(t,n,ia.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}rg.LRUCache=U$n;var Wz={};Object.defineProperty(Wz,"__esModule",{value:!0});Wz.Disposable=void 0;var aCe;(function(e){function t(n){return{dispose:n}}e.create=t})(aCe||(Wz.Disposable=aCe={}));var Mh={},qg={};Object.defineProperty(qg,"__esModule",{value:!0});let QG;function BG(){if(QG===void 0)throw new Error("No runtime abstraction layer installed");return QG}(function(e){function t(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");QG=n}e.install=t})(BG||(BG={}));qg.default=BG;Object.defineProperty(Mh,"__esModule",{value:!0});Mh.Emitter=Mh.Event=void 0;const q$n=qg;var lCe;(function(e){const t={dispose(){}};e.None=function(){return t}})(lCe||(Mh.Event=lCe={}));class Y$n{add(t,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(t,n)})}remove(t,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===t)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];const n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=r.length;o<s;o++)try{n.push(r[o].apply(i[o],t))}catch(a){(0,q$n.default)().console.error(a)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}class Vz{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,n,r)=>{this._callbacks||(this._callbacks=new Y$n),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,n);const i={dispose:()=>{this._callbacks&&(this._callbacks.remove(t,n),i.dispose=Vz._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}Mh.Emitter=Vz;Vz._noop=function(){};var v0={};Object.defineProperty(v0,"__esModule",{value:!0});v0.CancellationTokenSource=v0.CancellationToken=void 0;const X$n=qg,H$n=ho,WG=Mh;var Xj;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:WG.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:WG.Event.None});function t(n){const r=n;return r&&(r===e.None||r===e.Cancelled||H$n.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}e.is=t})(Xj||(v0.CancellationToken=Xj={}));const Z$n=Object.freeze(function(e,t){const n=(0,X$n.default)().timer.setTimeout(e.bind(t),0);return{dispose(){n.dispose()}}});class cCe{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Z$n:(this._emitter||(this._emitter=new WG.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}class G$n{get token(){return this._token||(this._token=new cCe),this._token}cancel(){this._token?this._token.cancel():this._token=Xj.Cancelled}dispose(){this._token?this._token instanceof cCe&&this._token.dispose():this._token=Xj.None}}v0.CancellationTokenSource=G$n;var s_={};Object.defineProperty(s_,"__esModule",{value:!0});s_.SharedArrayReceiverStrategy=s_.SharedArraySenderStrategy=void 0;const K$n=v0;var lP;(function(e){e.Continue=0,e.Cancelled=1})(lP||(lP={}));class J$n{constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;const n=new SharedArrayBuffer(4),r=new Int32Array(n,0,1);r[0]=lP.Continue,this.buffers.set(t.id,n),t.$cancellationData=n}async sendCancellation(t,n){const r=this.buffers.get(n);if(r===void 0)return;const i=new Int32Array(r,0,1);Atomics.store(i,0,lP.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}}s_.SharedArraySenderStrategy=J$n;class eEn{constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===lP.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}}class tEn{constructor(t){this.token=new eEn(t)}cancel(){}dispose(){}}class nEn{constructor(){this.kind="request"}createCancellationTokenSource(t){const n=t.$cancellationData;return n===void 0?new K$n.CancellationTokenSource:new tEn(n)}}s_.SharedArrayReceiverStrategy=nEn;var ky={},xA={};Object.defineProperty(xA,"__esModule",{value:!0});xA.Semaphore=void 0;const rEn=qg;class iEn{constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((n,r)=>{this._waiting.push({thunk:t,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,rEn.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;const t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const n=t.thunk();n instanceof Promise?n.then(r=>{this._active--,t.resolve(r),this.runNext()},r=>{this._active--,t.reject(r),this.runNext()}):(this._active--,t.resolve(n),this.runNext())}catch(n){this._active--,t.reject(n),this.runNext()}}}xA.Semaphore=iEn;Object.defineProperty(ky,"__esModule",{value:!0});ky.ReadableStreamMessageReader=ky.AbstractMessageReader=ky.MessageReader=void 0;const VG=qg,Tx=ho,ZV=Mh,oEn=xA;var uCe;(function(e){function t(n){let r=n;return r&&Tx.func(r.listen)&&Tx.func(r.dispose)&&Tx.func(r.onError)&&Tx.func(r.onClose)&&Tx.func(r.onPartialMessage)}e.is=t})(uCe||(ky.MessageReader=uCe={}));class gGe{constructor(){this.errorEmitter=new ZV.Emitter,this.closeEmitter=new ZV.Emitter,this.partialMessageEmitter=new ZV.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${Tx.string(t.message)?t.message:"unknown"}`)}}ky.AbstractMessageReader=gGe;var UG;(function(e){function t(n){let r,i;const o=new Map;let s;const a=new Map;if(n===void 0||typeof n=="string")r=n??"utf-8";else{if(r=n.charset??"utf-8",n.contentDecoder!==void 0&&(i=n.contentDecoder,o.set(i.name,i)),n.contentDecoders!==void 0)for(const l of n.contentDecoders)o.set(l.name,l);if(n.contentTypeDecoder!==void 0&&(s=n.contentTypeDecoder,a.set(s.name,s)),n.contentTypeDecoders!==void 0)for(const l of n.contentTypeDecoders)a.set(l.name,l)}return s===void 0&&(s=(0,VG.default)().applicationJson.decoder,a.set(s.name,s)),{charset:r,contentDecoder:i,contentDecoders:o,contentTypeDecoder:s,contentTypeDecoders:a}}e.fromOptions=t})(UG||(UG={}));class sEn extends gGe{constructor(t,n){super(),this.readable=t,this.options=UG.fromOptions(n),this.buffer=(0,VG.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new oEn.Semaphore(1)}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;const n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(t){try{for(this.buffer.append(t);;){if(this.nextMessageLength===-1){const r=this.buffer.tryReadHeaders(!0);if(!r)return;const i=r.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(r))}`));return}const o=parseInt(i);if(isNaN(o)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=o}const n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{const r=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,i=await this.options.contentTypeDecoder.decode(r,this.options);this.callback(i)}).catch(r=>{this.fireError(r)})}}catch(n){this.fireError(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,VG.default)().timer.setTimeout((t,n)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}ky.ReadableStreamMessageReader=sEn;var Ty={};Object.defineProperty(Ty,"__esModule",{value:!0});Ty.WriteableStreamMessageWriter=Ty.AbstractMessageWriter=Ty.MessageWriter=void 0;const fCe=qg,BE=ho,aEn=xA,dCe=Mh,lEn="Content-Length: ",hCe=`\r
`;var pCe;(function(e){function t(n){let r=n;return r&&BE.func(r.dispose)&&BE.func(r.onClose)&&BE.func(r.onError)&&BE.func(r.write)}e.is=t})(pCe||(Ty.MessageWriter=pCe={}));class mGe{constructor(){this.errorEmitter=new dCe.Emitter,this.closeEmitter=new dCe.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,n,r){this.errorEmitter.fire([this.asError(t),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${BE.string(t.message)?t.message:"unknown"}`)}}Ty.AbstractMessageWriter=mGe;var qG;(function(e){function t(n){return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:(0,fCe.default)().applicationJson.encoder}:{charset:n.charset??"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:n.contentTypeEncoder??(0,fCe.default)().applicationJson.encoder}}e.fromOptions=t})(qG||(qG={}));class cEn extends mGe{constructor(t,n){super(),this.writable=t,this.options=qG.fromOptions(n),this.errorCount=0,this.writeSemaphore=new aEn.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{const i=[];return i.push(lEn,r.byteLength.toString(),hCe),i.push(hCe),this.doWrite(t,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(t,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,n){this.errorCount++,this.fireError(t,n,this.errorCount)}end(){this.writable.end()}}Ty.WriteableStreamMessageWriter=cEn;var Uz={};Object.defineProperty(Uz,"__esModule",{value:!0});Uz.AbstractMessageBuffer=void 0;const uEn=13,fEn=10,dEn=`\r
`;class hEn{constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){const n=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let n=0,r=0,i=0,o=0;e:for(;r<this._chunks.length;){const c=this._chunks[r];for(i=0;i<c.length;){switch(c[i]){case uEn:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case fEn:switch(n){case 1:n=2;break;case 3:n=4,i++;break e;default:n=0}break;default:n=0}i++}o+=c.byteLength,r++}if(n!==4)return;const s=this._read(o+i),a=new Map,l=this.toString(s,"ascii").split(dEn);if(l.length<2)return a;for(let c=0;c<l.length-2;c++){const u=l[c],f=u.indexOf(":");if(f===-1)throw new Error(`Message header must separate key and value using ':'
${u}`);const d=u.substr(0,f),h=u.substr(f+1).trim();a.set(t?d.toLowerCase():d,h)}return a}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){const o=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(o)}if(this._chunks[0].byteLength>t){const o=this._chunks[0],s=this.asNative(o,t);return this._chunks[0]=o.slice(t),this._totalLength-=t,s}const n=this.allocNative(t);let r=0,i=0;for(;t>0;){const o=this._chunks[i];if(o.byteLength>t){const s=o.slice(0,t);n.set(s,r),r+=t,this._chunks[i]=o.slice(t),this._totalLength-=t,t-=t}else n.set(o,r),r+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,t-=o.byteLength}return n}}Uz.AbstractMessageBuffer=hEn;var yGe={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createMessageConnection=e.ConnectionOptions=e.MessageStrategy=e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.RequestCancellationReceiverStrategy=e.IdCancellationReceiverStrategy=e.ConnectionStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.TraceValues=e.Trace=e.NullLogger=e.ProgressType=e.ProgressToken=void 0;const t=qg,n=ho,r=Et,i=rg,o=Mh,s=v0;var a;(function(A){A.type=new r.NotificationType("$/cancelRequest")})(a||(a={}));var l;(function(A){function T(D){return typeof D=="string"||typeof D=="number"}A.is=T})(l||(e.ProgressToken=l={}));var c;(function(A){A.type=new r.NotificationType("$/progress")})(c||(c={}));class u{constructor(){}}e.ProgressType=u;var f;(function(A){function T(D){return n.func(D)}A.is=T})(f||(f={})),e.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var d;(function(A){A[A.Off=0]="Off",A[A.Messages=1]="Messages",A[A.Compact=2]="Compact",A[A.Verbose=3]="Verbose"})(d||(e.Trace=d={}));var h;(function(A){A.Off="off",A.Messages="messages",A.Compact="compact",A.Verbose="verbose"})(h||(e.TraceValues=h={})),function(A){function T(L){if(!n.string(L))return A.Off;switch(L=L.toLowerCase(),L){case"off":return A.Off;case"messages":return A.Messages;case"compact":return A.Compact;case"verbose":return A.Verbose;default:return A.Off}}A.fromString=T;function D(L){switch(L){case A.Off:return"off";case A.Messages:return"messages";case A.Compact:return"compact";case A.Verbose:return"verbose";default:return"off"}}A.toString=D}(d||(e.Trace=d={}));var p;(function(A){A.Text="text",A.JSON="json"})(p||(e.TraceFormat=p={})),function(A){function T(D){return n.string(D)?(D=D.toLowerCase(),D==="json"?A.JSON:A.Text):A.Text}A.fromString=T}(p||(e.TraceFormat=p={}));var g;(function(A){A.type=new r.NotificationType("$/setTrace")})(g||(e.SetTraceNotification=g={}));var y;(function(A){A.type=new r.NotificationType("$/logTrace")})(y||(e.LogTraceNotification=y={}));var v;(function(A){A[A.Closed=1]="Closed",A[A.Disposed=2]="Disposed",A[A.AlreadyListening=3]="AlreadyListening"})(v||(e.ConnectionErrors=v={}));class x extends Error{constructor(T,D){super(D),this.code=T,Object.setPrototypeOf(this,x.prototype)}}e.ConnectionError=x;var m;(function(A){function T(D){const L=D;return L&&n.func(L.cancelUndispatched)}A.is=T})(m||(e.ConnectionStrategy=m={}));var w;(function(A){function T(D){const L=D;return L&&(L.kind===void 0||L.kind==="id")&&n.func(L.createCancellationTokenSource)&&(L.dispose===void 0||n.func(L.dispose))}A.is=T})(w||(e.IdCancellationReceiverStrategy=w={}));var S;(function(A){function T(D){const L=D;return L&&L.kind==="request"&&n.func(L.createCancellationTokenSource)&&(L.dispose===void 0||n.func(L.dispose))}A.is=T})(S||(e.RequestCancellationReceiverStrategy=S={}));var C;(function(A){A.Message=Object.freeze({createCancellationTokenSource(D){return new s.CancellationTokenSource}});function T(D){return w.is(D)||S.is(D)}A.is=T})(C||(e.CancellationReceiverStrategy=C={}));var $;(function(A){A.Message=Object.freeze({sendCancellation(D,L){return D.sendNotification(a.type,{id:L})},cleanup(D){}});function T(D){const L=D;return L&&n.func(L.sendCancellation)&&n.func(L.cleanup)}A.is=T})($||(e.CancellationSenderStrategy=$={}));var E;(function(A){A.Message=Object.freeze({receiver:C.Message,sender:$.Message});function T(D){const L=D;return L&&C.is(L.receiver)&&$.is(L.sender)}A.is=T})(E||(e.CancellationStrategy=E={}));var R;(function(A){function T(D){const L=D;return L&&n.func(L.handleMessage)}A.is=T})(R||(e.MessageStrategy=R={}));var N;(function(A){function T(D){const L=D;return L&&(E.is(L.cancellationStrategy)||m.is(L.connectionStrategy)||R.is(L.messageStrategy))}A.is=T})(N||(e.ConnectionOptions=N={}));var I;(function(A){A[A.New=1]="New",A[A.Listening=2]="Listening",A[A.Closed=3]="Closed",A[A.Disposed=4]="Disposed"})(I||(I={}));function j(A,T,D,L){const W=D!==void 0?D:e.NullLogger;let V=0,Q=0,B=0;const Y="2.0";let U;const q=new Map;let Z;const oe=new Map,ce=new Map;let re,fe=new i.LinkedMap,ae=new Map,ue=new Set,me=new Map,ne=d.Off,Le=p.Text,_e,ke=I.New;const ze=new o.Emitter,Je=new o.Emitter,Be=new o.Emitter,K=new o.Emitter,ge=new o.Emitter,Oe=L&&L.cancellationStrategy?L.cancellationStrategy:E.Message;function Ve(se){if(se===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+se.toString()}function Fe(se){return se===null?"res-unknown-"+(++B).toString():"res-"+se.toString()}function ye(){return"not-"+(++Q).toString()}function Ne(se,Ie){r.Message.isRequest(Ie)?se.set(Ve(Ie.id),Ie):r.Message.isResponse(Ie)?se.set(Fe(Ie.id),Ie):se.set(ye(),Ie)}function ft(se){}function ht(){return ke===I.Listening}function pt(){return ke===I.Closed}function Mt(){return ke===I.Disposed}function on(){(ke===I.New||ke===I.Listening)&&(ke=I.Closed,Je.fire(void 0))}function At(se){ze.fire([se,void 0,void 0])}function Hr(se){ze.fire(se)}A.onClose(on),A.onError(At),T.onClose(on),T.onError(Hr);function bi(){re||fe.size===0||(re=(0,t.default)().timer.setImmediate(()=>{re=void 0,Ir()}))}function Zr(se){r.Message.isRequest(se)?ar(se):r.Message.isNotification(se)?wr(se):r.Message.isResponse(se)?_n(se):wo(se)}function Ir(){if(fe.size===0)return;const se=fe.shift();try{const Ie=L==null?void 0:L.messageStrategy;R.is(Ie)?Ie.handleMessage(se,Zr):Zr(se)}finally{bi()}}const Qt=se=>{try{if(r.Message.isNotification(se)&&se.method===a.type.method){const Ie=se.params.id,it=Ve(Ie),bt=fe.get(it);if(r.Message.isRequest(bt)){const er=L==null?void 0:L.connectionStrategy,tr=er&&er.cancelUndispatched?er.cancelUndispatched(bt,ft):void 0;if(tr&&(tr.error!==void 0||tr.result!==void 0)){fe.delete(it),me.delete(Ie),tr.id=bt.id,io(tr,se.method,Date.now()),T.write(tr).catch(()=>W.error("Sending response for canceled message failed."));return}}const lr=me.get(Ie);if(lr!==void 0){lr.cancel(),Oi(se);return}else ue.add(Ie)}Ne(fe,se)}finally{bi()}};function ar(se){if(Mt())return;function Ie(vn,Tr,Ln){const Gr={jsonrpc:Y,id:se.id};vn instanceof r.ResponseError?Gr.error=vn.toJson():Gr.result=vn===void 0?null:vn,io(Gr,Tr,Ln),T.write(Gr).catch(()=>W.error("Sending response failed."))}function it(vn,Tr,Ln){const Gr={jsonrpc:Y,id:se.id,error:vn.toJson()};io(Gr,Tr,Ln),T.write(Gr).catch(()=>W.error("Sending response failed."))}function bt(vn,Tr,Ln){vn===void 0&&(vn=null);const Gr={jsonrpc:Y,id:se.id,result:vn};io(Gr,Tr,Ln),T.write(Gr).catch(()=>W.error("Sending response failed."))}Xi(se);const lr=q.get(se.method);let er,tr;lr&&(er=lr.type,tr=lr.handler);const Lr=Date.now();if(tr||U){const vn=se.id??String(Date.now()),Tr=w.is(Oe.receiver)?Oe.receiver.createCancellationTokenSource(vn):Oe.receiver.createCancellationTokenSource(se);se.id!==null&&ue.has(se.id)&&Tr.cancel(),se.id!==null&&me.set(vn,Tr);try{let Ln;if(tr)if(se.params===void 0){if(er!==void 0&&er.numberOfParams!==0){it(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${se.method} defines ${er.numberOfParams} params but received none.`),se.method,Lr);return}Ln=tr(Tr.token)}else if(Array.isArray(se.params)){if(er!==void 0&&er.parameterStructures===r.ParameterStructures.byName){it(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${se.method} defines parameters by name but received parameters by position`),se.method,Lr);return}Ln=tr(...se.params,Tr.token)}else{if(er!==void 0&&er.parameterStructures===r.ParameterStructures.byPosition){it(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${se.method} defines parameters by position but received parameters by name`),se.method,Lr);return}Ln=tr(se.params,Tr.token)}else U&&(Ln=U(se.method,se.params,Tr.token));const Gr=Ln;Ln?Gr.then?Gr.then(So=>{me.delete(vn),Ie(So,se.method,Lr)},So=>{me.delete(vn),So instanceof r.ResponseError?it(So,se.method,Lr):So&&n.string(So.message)?it(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${se.method} failed with message: ${So.message}`),se.method,Lr):it(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${se.method} failed unexpectedly without providing any details.`),se.method,Lr)}):(me.delete(vn),Ie(Ln,se.method,Lr)):(me.delete(vn),bt(Ln,se.method,Lr))}catch(Ln){me.delete(vn),Ln instanceof r.ResponseError?Ie(Ln,se.method,Lr):Ln&&n.string(Ln.message)?it(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${se.method} failed with message: ${Ln.message}`),se.method,Lr):it(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${se.method} failed unexpectedly without providing any details.`),se.method,Lr)}}else it(new r.ResponseError(r.ErrorCodes.MethodNotFound,`Unhandled method ${se.method}`),se.method,Lr)}function _n(se){if(!Mt())if(se.id===null)se.error?W.error(`Received response message without id: Error is: 
${JSON.stringify(se.error,void 0,4)}`):W.error("Received response message without id. No further error information provided.");else{const Ie=se.id,it=ae.get(Ie);if(oo(se,it),it!==void 0){ae.delete(Ie);try{if(se.error){const bt=se.error;it.reject(new r.ResponseError(bt.code,bt.message,bt.data))}else if(se.result!==void 0)it.resolve(se.result);else throw new Error("Should never happen.")}catch(bt){bt.message?W.error(`Response handler '${it.method}' failed with message: ${bt.message}`):W.error(`Response handler '${it.method}' failed unexpectedly.`)}}}}function wr(se){if(Mt())return;let Ie,it;if(se.method===a.type.method){const bt=se.params.id;ue.delete(bt),Oi(se);return}else{const bt=oe.get(se.method);bt&&(it=bt.handler,Ie=bt.type)}if(it||Z)try{if(Oi(se),it)if(se.params===void 0)Ie!==void 0&&Ie.numberOfParams!==0&&Ie.parameterStructures!==r.ParameterStructures.byName&&W.error(`Notification ${se.method} defines ${Ie.numberOfParams} params but received none.`),it();else if(Array.isArray(se.params)){const bt=se.params;se.method===c.type.method&&bt.length===2&&l.is(bt[0])?it({token:bt[0],value:bt[1]}):(Ie!==void 0&&(Ie.parameterStructures===r.ParameterStructures.byName&&W.error(`Notification ${se.method} defines parameters by name but received parameters by position`),Ie.numberOfParams!==se.params.length&&W.error(`Notification ${se.method} defines ${Ie.numberOfParams} params but received ${bt.length} arguments`)),it(...bt))}else Ie!==void 0&&Ie.parameterStructures===r.ParameterStructures.byPosition&&W.error(`Notification ${se.method} defines parameters by position but received parameters by name`),it(se.params);else Z&&Z(se.method,se.params)}catch(bt){bt.message?W.error(`Notification handler '${se.method}' failed with message: ${bt.message}`):W.error(`Notification handler '${se.method}' failed unexpectedly.`)}else Be.fire(se)}function wo(se){if(!se){W.error("Received empty message.");return}W.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(se,null,4)}`);const Ie=se;if(n.string(Ie.id)||n.number(Ie.id)){const it=Ie.id,bt=ae.get(it);bt&&bt.reject(new Error("The received response has neither a result nor an error property."))}}function Dn(se){if(se!=null)switch(ne){case d.Verbose:return JSON.stringify(se,null,4);case d.Compact:return JSON.stringify(se);default:return}}function Kt(se){if(!(ne===d.Off||!_e))if(Le===p.Text){let Ie;(ne===d.Verbose||ne===d.Compact)&&se.params&&(Ie=`Params: ${Dn(se.params)}

`),_e.log(`Sending request '${se.method} - (${se.id})'.`,Ie)}else so("send-request",se)}function ui(se){if(!(ne===d.Off||!_e))if(Le===p.Text){let Ie;(ne===d.Verbose||ne===d.Compact)&&(se.params?Ie=`Params: ${Dn(se.params)}

`:Ie=`No parameters provided.

`),_e.log(`Sending notification '${se.method}'.`,Ie)}else so("send-notification",se)}function io(se,Ie,it){if(!(ne===d.Off||!_e))if(Le===p.Text){let bt;(ne===d.Verbose||ne===d.Compact)&&(se.error&&se.error.data?bt=`Error data: ${Dn(se.error.data)}

`:se.result?bt=`Result: ${Dn(se.result)}

`:se.error===void 0&&(bt=`No result returned.

`)),_e.log(`Sending response '${Ie} - (${se.id})'. Processing request took ${Date.now()-it}ms`,bt)}else so("send-response",se)}function Xi(se){if(!(ne===d.Off||!_e))if(Le===p.Text){let Ie;(ne===d.Verbose||ne===d.Compact)&&se.params&&(Ie=`Params: ${Dn(se.params)}

`),_e.log(`Received request '${se.method} - (${se.id})'.`,Ie)}else so("receive-request",se)}function Oi(se){if(!(ne===d.Off||!_e||se.method===y.type.method))if(Le===p.Text){let Ie;(ne===d.Verbose||ne===d.Compact)&&(se.params?Ie=`Params: ${Dn(se.params)}

`:Ie=`No parameters provided.

`),_e.log(`Received notification '${se.method}'.`,Ie)}else so("receive-notification",se)}function oo(se,Ie){if(!(ne===d.Off||!_e))if(Le===p.Text){let it;if((ne===d.Verbose||ne===d.Compact)&&(se.error&&se.error.data?it=`Error data: ${Dn(se.error.data)}

`:se.result?it=`Result: ${Dn(se.result)}

`:se.error===void 0&&(it=`No result returned.

`)),Ie){const bt=se.error?` Request failed: ${se.error.message} (${se.error.code}).`:"";_e.log(`Received response '${Ie.method} - (${se.id})' in ${Date.now()-Ie.timerStart}ms.${bt}`,it)}else _e.log(`Received response ${se.id} without active response promise.`,it)}else so("receive-response",se)}function so(se,Ie){if(!_e||ne===d.Off)return;const it={isLSPMessage:!0,type:se,message:Ie,timestamp:Date.now()};_e.log(it)}function fi(){if(pt())throw new x(v.Closed,"Connection is closed.");if(Mt())throw new x(v.Disposed,"Connection is disposed.")}function Pa(){if(ht())throw new x(v.AlreadyListening,"Connection is already listening")}function ul(){if(!ht())throw new Error("Call listen() first.")}function Ri(se){return se===void 0?null:se}function Ws(se){if(se!==null)return se}function te(se){return se!=null&&!Array.isArray(se)&&typeof se=="object"}function dn(se,Ie){switch(se){case r.ParameterStructures.auto:return te(Ie)?Ws(Ie):[Ri(Ie)];case r.ParameterStructures.byName:if(!te(Ie))throw new Error("Received parameters by name but param is not an object literal.");return Ws(Ie);case r.ParameterStructures.byPosition:return[Ri(Ie)];default:throw new Error(`Unknown parameter structure ${se.toString()}`)}}function qn(se,Ie){let it;const bt=se.numberOfParams;switch(bt){case 0:it=void 0;break;case 1:it=dn(se.parameterStructures,Ie[0]);break;default:it=[];for(let lr=0;lr<Ie.length&&lr<bt;lr++)it.push(Ri(Ie[lr]));if(Ie.length<bt)for(let lr=Ie.length;lr<bt;lr++)it.push(null);break}return it}const Dt={sendNotification:(se,...Ie)=>{fi();let it,bt;if(n.string(se)){it=se;const er=Ie[0];let tr=0,Lr=r.ParameterStructures.auto;r.ParameterStructures.is(er)&&(tr=1,Lr=er);let vn=Ie.length;const Tr=vn-tr;switch(Tr){case 0:bt=void 0;break;case 1:bt=dn(Lr,Ie[tr]);break;default:if(Lr===r.ParameterStructures.byName)throw new Error(`Received ${Tr} parameters for 'by Name' notification parameter structure.`);bt=Ie.slice(tr,vn).map(Ln=>Ri(Ln));break}}else{const er=Ie;it=se.method,bt=qn(se,er)}const lr={jsonrpc:Y,method:it,params:bt};return ui(lr),T.write(lr).catch(er=>{throw W.error("Sending notification failed."),er})},onNotification:(se,Ie)=>{fi();let it;return n.func(se)?Z=se:Ie&&(n.string(se)?(it=se,oe.set(se,{type:void 0,handler:Ie})):(it=se.method,oe.set(se.method,{type:se,handler:Ie}))),{dispose:()=>{it!==void 0?oe.delete(it):Z=void 0}}},onProgress:(se,Ie,it)=>{if(ce.has(Ie))throw new Error(`Progress handler for token ${Ie} already registered`);return ce.set(Ie,it),{dispose:()=>{ce.delete(Ie)}}},sendProgress:(se,Ie,it)=>Dt.sendNotification(c.type,{token:Ie,value:it}),onUnhandledProgress:K.event,sendRequest:(se,...Ie)=>{fi(),ul();let it,bt,lr;if(n.string(se)){it=se;const vn=Ie[0],Tr=Ie[Ie.length-1];let Ln=0,Gr=r.ParameterStructures.auto;r.ParameterStructures.is(vn)&&(Ln=1,Gr=vn);let So=Ie.length;s.CancellationToken.is(Tr)&&(So=So-1,lr=Tr);const Ai=So-Ln;switch(Ai){case 0:bt=void 0;break;case 1:bt=dn(Gr,Ie[Ln]);break;default:if(Gr===r.ParameterStructures.byName)throw new Error(`Received ${Ai} parameters for 'by Name' request parameter structure.`);bt=Ie.slice(Ln,So).map(SO=>Ri(SO));break}}else{const vn=Ie;it=se.method,bt=qn(se,vn);const Tr=se.numberOfParams;lr=s.CancellationToken.is(vn[Tr])?vn[Tr]:void 0}const er=V++;let tr;lr&&(tr=lr.onCancellationRequested(()=>{const vn=Oe.sender.sendCancellation(Dt,er);return vn===void 0?(W.log(`Received no promise from cancellation strategy when cancelling id ${er}`),Promise.resolve()):vn.catch(()=>{W.log(`Sending cancellation messages for id ${er} failed`)})}));const Lr={jsonrpc:Y,id:er,method:it,params:bt};return Kt(Lr),typeof Oe.sender.enableCancellation=="function"&&Oe.sender.enableCancellation(Lr),new Promise(async(vn,Tr)=>{const Ln=Ai=>{vn(Ai),Oe.sender.cleanup(er),tr==null||tr.dispose()},Gr=Ai=>{Tr(Ai),Oe.sender.cleanup(er),tr==null||tr.dispose()},So={method:it,timerStart:Date.now(),resolve:Ln,reject:Gr};try{await T.write(Lr),ae.set(er,So)}catch(Ai){throw W.error("Sending request failed."),So.reject(new r.ResponseError(r.ErrorCodes.MessageWriteError,Ai.message?Ai.message:"Unknown reason")),Ai}})},onRequest:(se,Ie)=>{fi();let it=null;return f.is(se)?(it=void 0,U=se):n.string(se)?(it=null,Ie!==void 0&&(it=se,q.set(se,{handler:Ie,type:void 0}))):Ie!==void 0&&(it=se.method,q.set(se.method,{type:se,handler:Ie})),{dispose:()=>{it!==null&&(it!==void 0?q.delete(it):U=void 0)}}},hasPendingResponse:()=>ae.size>0,trace:async(se,Ie,it)=>{let bt=!1,lr=p.Text;it!==void 0&&(n.boolean(it)?bt=it:(bt=it.sendNotification||!1,lr=it.traceFormat||p.Text)),ne=se,Le=lr,ne===d.Off?_e=void 0:_e=Ie,bt&&!pt()&&!Mt()&&await Dt.sendNotification(g.type,{value:d.toString(se)})},onError:ze.event,onClose:Je.event,onUnhandledNotification:Be.event,onDispose:ge.event,end:()=>{T.end()},dispose:()=>{if(Mt())return;ke=I.Disposed,ge.fire(void 0);const se=new r.ResponseError(r.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(const Ie of ae.values())Ie.reject(se);ae=new Map,me=new Map,ue=new Set,fe=new i.LinkedMap,n.func(T.dispose)&&T.dispose(),n.func(A.dispose)&&A.dispose()},listen:()=>{fi(),Pa(),ke=I.Listening,A.listen(Qt)},inspect:()=>{(0,t.default)().console.log("inspect")}};return Dt.onNotification(y.type,se=>{if(ne===d.Off||!_e)return;const Ie=ne===d.Verbose||ne===d.Compact;_e.log(se.message,Ie?se.verbose:void 0)}),Dt.onNotification(c.type,se=>{const Ie=ce.get(se.token);Ie?Ie(se.value):K.fire(se)}),Dt}e.createMessageConnection=j})(yGe);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressType=e.ProgressToken=e.createMessageConnection=e.NullLogger=e.ConnectionOptions=e.ConnectionStrategy=e.AbstractMessageBuffer=e.WriteableStreamMessageWriter=e.AbstractMessageWriter=e.MessageWriter=e.ReadableStreamMessageReader=e.AbstractMessageReader=e.MessageReader=e.SharedArrayReceiverStrategy=e.SharedArraySenderStrategy=e.CancellationToken=e.CancellationTokenSource=e.Emitter=e.Event=e.Disposable=e.LRUCache=e.Touch=e.LinkedMap=e.ParameterStructures=e.NotificationType9=e.NotificationType8=e.NotificationType7=e.NotificationType6=e.NotificationType5=e.NotificationType4=e.NotificationType3=e.NotificationType2=e.NotificationType1=e.NotificationType0=e.NotificationType=e.ErrorCodes=e.ResponseError=e.RequestType9=e.RequestType8=e.RequestType7=e.RequestType6=e.RequestType5=e.RequestType4=e.RequestType3=e.RequestType2=e.RequestType1=e.RequestType0=e.RequestType=e.Message=e.RAL=void 0,e.MessageStrategy=e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.TraceValues=e.Trace=void 0;const t=Et;Object.defineProperty(e,"Message",{enumerable:!0,get:function(){return t.Message}}),Object.defineProperty(e,"RequestType",{enumerable:!0,get:function(){return t.RequestType}}),Object.defineProperty(e,"RequestType0",{enumerable:!0,get:function(){return t.RequestType0}}),Object.defineProperty(e,"RequestType1",{enumerable:!0,get:function(){return t.RequestType1}}),Object.defineProperty(e,"RequestType2",{enumerable:!0,get:function(){return t.RequestType2}}),Object.defineProperty(e,"RequestType3",{enumerable:!0,get:function(){return t.RequestType3}}),Object.defineProperty(e,"RequestType4",{enumerable:!0,get:function(){return t.RequestType4}}),Object.defineProperty(e,"RequestType5",{enumerable:!0,get:function(){return t.RequestType5}}),Object.defineProperty(e,"RequestType6",{enumerable:!0,get:function(){return t.RequestType6}}),Object.defineProperty(e,"RequestType7",{enumerable:!0,get:function(){return t.RequestType7}}),Object.defineProperty(e,"RequestType8",{enumerable:!0,get:function(){return t.RequestType8}}),Object.defineProperty(e,"RequestType9",{enumerable:!0,get:function(){return t.RequestType9}}),Object.defineProperty(e,"ResponseError",{enumerable:!0,get:function(){return t.ResponseError}}),Object.defineProperty(e,"ErrorCodes",{enumerable:!0,get:function(){return t.ErrorCodes}}),Object.defineProperty(e,"NotificationType",{enumerable:!0,get:function(){return t.NotificationType}}),Object.defineProperty(e,"NotificationType0",{enumerable:!0,get:function(){return t.NotificationType0}}),Object.defineProperty(e,"NotificationType1",{enumerable:!0,get:function(){return t.NotificationType1}}),Object.defineProperty(e,"NotificationType2",{enumerable:!0,get:function(){return t.NotificationType2}}),Object.defineProperty(e,"NotificationType3",{enumerable:!0,get:function(){return t.NotificationType3}}),Object.defineProperty(e,"NotificationType4",{enumerable:!0,get:function(){return t.NotificationType4}}),Object.defineProperty(e,"NotificationType5",{enumerable:!0,get:function(){return t.NotificationType5}}),Object.defineProperty(e,"NotificationType6",{enumerable:!0,get:function(){return t.NotificationType6}}),Object.defineProperty(e,"NotificationType7",{enumerable:!0,get:function(){return t.NotificationType7}}),Object.defineProperty(e,"NotificationType8",{enumerable:!0,get:function(){return t.NotificationType8}}),Object.defineProperty(e,"NotificationType9",{enumerable:!0,get:function(){return t.NotificationType9}}),Object.defineProperty(e,"ParameterStructures",{enumerable:!0,get:function(){return t.ParameterStructures}});const n=rg;Object.defineProperty(e,"LinkedMap",{enumerable:!0,get:function(){return n.LinkedMap}}),Object.defineProperty(e,"LRUCache",{enumerable:!0,get:function(){return n.LRUCache}}),Object.defineProperty(e,"Touch",{enumerable:!0,get:function(){return n.Touch}});const r=Wz;Object.defineProperty(e,"Disposable",{enumerable:!0,get:function(){return r.Disposable}});const i=Mh;Object.defineProperty(e,"Event",{enumerable:!0,get:function(){return i.Event}}),Object.defineProperty(e,"Emitter",{enumerable:!0,get:function(){return i.Emitter}});const o=v0;Object.defineProperty(e,"CancellationTokenSource",{enumerable:!0,get:function(){return o.CancellationTokenSource}}),Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return o.CancellationToken}});const s=s_;Object.defineProperty(e,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return s.SharedArraySenderStrategy}}),Object.defineProperty(e,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return s.SharedArrayReceiverStrategy}});const a=ky;Object.defineProperty(e,"MessageReader",{enumerable:!0,get:function(){return a.MessageReader}}),Object.defineProperty(e,"AbstractMessageReader",{enumerable:!0,get:function(){return a.AbstractMessageReader}}),Object.defineProperty(e,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return a.ReadableStreamMessageReader}});const l=Ty;Object.defineProperty(e,"MessageWriter",{enumerable:!0,get:function(){return l.MessageWriter}}),Object.defineProperty(e,"AbstractMessageWriter",{enumerable:!0,get:function(){return l.AbstractMessageWriter}}),Object.defineProperty(e,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return l.WriteableStreamMessageWriter}});const c=Uz;Object.defineProperty(e,"AbstractMessageBuffer",{enumerable:!0,get:function(){return c.AbstractMessageBuffer}});const u=yGe;Object.defineProperty(e,"ConnectionStrategy",{enumerable:!0,get:function(){return u.ConnectionStrategy}}),Object.defineProperty(e,"ConnectionOptions",{enumerable:!0,get:function(){return u.ConnectionOptions}}),Object.defineProperty(e,"NullLogger",{enumerable:!0,get:function(){return u.NullLogger}}),Object.defineProperty(e,"createMessageConnection",{enumerable:!0,get:function(){return u.createMessageConnection}}),Object.defineProperty(e,"ProgressToken",{enumerable:!0,get:function(){return u.ProgressToken}}),Object.defineProperty(e,"ProgressType",{enumerable:!0,get:function(){return u.ProgressType}}),Object.defineProperty(e,"Trace",{enumerable:!0,get:function(){return u.Trace}}),Object.defineProperty(e,"TraceValues",{enumerable:!0,get:function(){return u.TraceValues}}),Object.defineProperty(e,"TraceFormat",{enumerable:!0,get:function(){return u.TraceFormat}}),Object.defineProperty(e,"SetTraceNotification",{enumerable:!0,get:function(){return u.SetTraceNotification}}),Object.defineProperty(e,"LogTraceNotification",{enumerable:!0,get:function(){return u.LogTraceNotification}}),Object.defineProperty(e,"ConnectionErrors",{enumerable:!0,get:function(){return u.ConnectionErrors}}),Object.defineProperty(e,"ConnectionError",{enumerable:!0,get:function(){return u.ConnectionError}}),Object.defineProperty(e,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return u.CancellationReceiverStrategy}}),Object.defineProperty(e,"CancellationSenderStrategy",{enumerable:!0,get:function(){return u.CancellationSenderStrategy}}),Object.defineProperty(e,"CancellationStrategy",{enumerable:!0,get:function(){return u.CancellationStrategy}}),Object.defineProperty(e,"MessageStrategy",{enumerable:!0,get:function(){return u.MessageStrategy}});const f=qg;e.RAL=f.default})(Yj);Object.defineProperty(lfe,"__esModule",{value:!0});const Gd=Yj;class qz extends Gd.AbstractMessageBuffer{constructor(t="utf-8"){super(t),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return qz.emptyBuffer}fromString(t,n){return new TextEncoder().encode(t)}toString(t,n){return n==="ascii"?this.asciiDecoder.decode(t):new TextDecoder(n).decode(t)}asNative(t,n){return n===void 0?t:t.slice(0,n)}allocNative(t){return new Uint8Array(t)}}qz.emptyBuffer=new Uint8Array(0);class pEn{constructor(t){this.socket=t,this._onData=new Gd.Emitter,this._messageListener=n=>{n.data.arrayBuffer().then(i=>{this._onData.fire(new Uint8Array(i))},()=>{(0,Gd.RAL)().console.error("Converting blob to array buffer failed.")})},this.socket.addEventListener("message",this._messageListener)}onClose(t){return this.socket.addEventListener("close",t),Gd.Disposable.create(()=>this.socket.removeEventListener("close",t))}onError(t){return this.socket.addEventListener("error",t),Gd.Disposable.create(()=>this.socket.removeEventListener("error",t))}onEnd(t){return this.socket.addEventListener("end",t),Gd.Disposable.create(()=>this.socket.removeEventListener("end",t))}onData(t){return this._onData.event(t)}}class gEn{constructor(t){this.socket=t}onClose(t){return this.socket.addEventListener("close",t),Gd.Disposable.create(()=>this.socket.removeEventListener("close",t))}onError(t){return this.socket.addEventListener("error",t),Gd.Disposable.create(()=>this.socket.removeEventListener("error",t))}onEnd(t){return this.socket.addEventListener("end",t),Gd.Disposable.create(()=>this.socket.removeEventListener("end",t))}write(t,n){if(typeof t=="string"){if(n!==void 0&&n!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${n}`);this.socket.send(t)}else this.socket.send(t);return Promise.resolve()}end(){this.socket.close()}}const mEn=new TextEncoder,vGe=Object.freeze({messageBuffer:Object.freeze({create:e=>new qz(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{if(t.charset!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${t.charset}`);return Promise.resolve(mEn.encode(JSON.stringify(e,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{if(!(e instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(t.charset).decode(e)))}})}),stream:Object.freeze({asReadableStream:e=>new pEn(e),asWritableStream:e=>new gEn(e)}),console,timer:Object.freeze({setTimeout(e,t,...n){const r=setTimeout(e,t,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(e,...t){const n=setTimeout(e,0,...t);return{dispose:()=>clearTimeout(n)}},setInterval(e,t,...n){const r=setInterval(e,t,...n);return{dispose:()=>clearInterval(r)}}})});function YG(){return vGe}(function(e){function t(){Gd.RAL.install(vGe)}e.install=t})(YG||(YG={}));lfe.default=YG;(function(e){var t=ct&&ct.__createBinding||(Object.create?function(l,c,u,f){f===void 0&&(f=u);var d=Object.getOwnPropertyDescriptor(c,u);(!d||("get"in d?!c.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return c[u]}}),Object.defineProperty(l,f,d)}:function(l,c,u,f){f===void 0&&(f=u),l[f]=c[u]}),n=ct&&ct.__exportStar||function(l,c){for(var u in l)u!=="default"&&!Object.prototype.hasOwnProperty.call(c,u)&&t(c,l,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.createMessageConnection=e.BrowserMessageWriter=e.BrowserMessageReader=void 0,lfe.default.install();const i=Yj;n(Yj,e);class o extends i.AbstractMessageReader{constructor(c){super(),this._onData=new i.Emitter,this._messageListener=u=>{this._onData.fire(u.data)},c.addEventListener("error",u=>this.fireError(u)),c.onmessage=this._messageListener}listen(c){return this._onData.event(c)}}e.BrowserMessageReader=o;class s extends i.AbstractMessageWriter{constructor(c){super(),this.port=c,this.errorCount=0,c.addEventListener("error",u=>this.fireError(u))}write(c){try{return this.port.postMessage(c),Promise.resolve()}catch(u){return this.handleError(u,c),Promise.reject(u)}}handleError(c,u){this.errorCount++,this.fireError(c,u,this.errorCount)}end(){}}e.BrowserMessageWriter=s;function a(l,c,u,f){return u===void 0&&(u=i.NullLogger),i.ConnectionStrategy.is(f)&&(f={connectionStrategy:f}),(0,i.createMessageConnection)(l,c,u,f)}e.createMessageConnection=a})(bO);var gCe=bO,bGe={},XG;(function(e){function t(n){return typeof n=="string"}e.is=t})(XG||(XG={}));var Hj;(function(e){function t(n){return typeof n=="string"}e.is=t})(Hj||(Hj={}));var HG;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(n){return typeof n=="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(HG||(HG={}));var cP;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(n){return typeof n=="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(cP||(cP={}));var uu;(function(e){function t(r,i){return r===Number.MAX_VALUE&&(r=cP.MAX_VALUE),i===Number.MAX_VALUE&&(i=cP.MAX_VALUE),{line:r,character:i}}e.create=t;function n(r){let i=r;return we.objectLiteral(i)&&we.uinteger(i.line)&&we.uinteger(i.character)}e.is=n})(uu||(uu={}));var Ui;(function(e){function t(r,i,o,s){if(we.uinteger(r)&&we.uinteger(i)&&we.uinteger(o)&&we.uinteger(s))return{start:uu.create(r,i),end:uu.create(o,s)};if(uu.is(r)&&uu.is(i))return{start:r,end:i};throw new Error(`Range#create called with invalid arguments[${r}, ${i}, ${o}, ${s}]`)}e.create=t;function n(r){let i=r;return we.objectLiteral(i)&&uu.is(i.start)&&uu.is(i.end)}e.is=n})(Ui||(Ui={}));var uP;(function(e){function t(r,i){return{uri:r,range:i}}e.create=t;function n(r){let i=r;return we.objectLiteral(i)&&Ui.is(i.range)&&(we.string(i.uri)||we.undefined(i.uri))}e.is=n})(uP||(uP={}));var ZG;(function(e){function t(r,i,o,s){return{targetUri:r,targetRange:i,targetSelectionRange:o,originSelectionRange:s}}e.create=t;function n(r){let i=r;return we.objectLiteral(i)&&Ui.is(i.targetRange)&&we.string(i.targetUri)&&Ui.is(i.targetSelectionRange)&&(Ui.is(i.originSelectionRange)||we.undefined(i.originSelectionRange))}e.is=n})(ZG||(ZG={}));var Zj;(function(e){function t(r,i,o,s){return{red:r,green:i,blue:o,alpha:s}}e.create=t;function n(r){const i=r;return we.objectLiteral(i)&&we.numberRange(i.red,0,1)&&we.numberRange(i.green,0,1)&&we.numberRange(i.blue,0,1)&&we.numberRange(i.alpha,0,1)}e.is=n})(Zj||(Zj={}));var GG;(function(e){function t(r,i){return{range:r,color:i}}e.create=t;function n(r){const i=r;return we.objectLiteral(i)&&Ui.is(i.range)&&Zj.is(i.color)}e.is=n})(GG||(GG={}));var KG;(function(e){function t(r,i,o){return{label:r,textEdit:i,additionalTextEdits:o}}e.create=t;function n(r){const i=r;return we.objectLiteral(i)&&we.string(i.label)&&(we.undefined(i.textEdit)||yh.is(i))&&(we.undefined(i.additionalTextEdits)||we.typedArray(i.additionalTextEdits,yh.is))}e.is=n})(KG||(KG={}));var JG;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(JG||(JG={}));var eK;(function(e){function t(r,i,o,s,a,l){const c={startLine:r,endLine:i};return we.defined(o)&&(c.startCharacter=o),we.defined(s)&&(c.endCharacter=s),we.defined(a)&&(c.kind=a),we.defined(l)&&(c.collapsedText=l),c}e.create=t;function n(r){const i=r;return we.objectLiteral(i)&&we.uinteger(i.startLine)&&we.uinteger(i.startLine)&&(we.undefined(i.startCharacter)||we.uinteger(i.startCharacter))&&(we.undefined(i.endCharacter)||we.uinteger(i.endCharacter))&&(we.undefined(i.kind)||we.string(i.kind))}e.is=n})(eK||(eK={}));var Gj;(function(e){function t(r,i){return{location:r,message:i}}e.create=t;function n(r){let i=r;return we.defined(i)&&uP.is(i.location)&&we.string(i.message)}e.is=n})(Gj||(Gj={}));var tK;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(tK||(tK={}));var nK;(function(e){e.Unnecessary=1,e.Deprecated=2})(nK||(nK={}));var rK;(function(e){function t(n){const r=n;return we.objectLiteral(r)&&we.string(r.href)}e.is=t})(rK||(rK={}));var fP;(function(e){function t(r,i,o,s,a,l){let c={range:r,message:i};return we.defined(o)&&(c.severity=o),we.defined(s)&&(c.code=s),we.defined(a)&&(c.source=a),we.defined(l)&&(c.relatedInformation=l),c}e.create=t;function n(r){var i;let o=r;return we.defined(o)&&Ui.is(o.range)&&we.string(o.message)&&(we.number(o.severity)||we.undefined(o.severity))&&(we.integer(o.code)||we.string(o.code)||we.undefined(o.code))&&(we.undefined(o.codeDescription)||we.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(we.string(o.source)||we.undefined(o.source))&&(we.undefined(o.relatedInformation)||we.typedArray(o.relatedInformation,Gj.is))}e.is=n})(fP||(fP={}));var Db;(function(e){function t(r,i,...o){let s={title:r,command:i};return we.defined(o)&&o.length>0&&(s.arguments=o),s}e.create=t;function n(r){let i=r;return we.defined(i)&&we.string(i.title)&&we.string(i.command)}e.is=n})(Db||(Db={}));var yh;(function(e){function t(o,s){return{range:o,newText:s}}e.replace=t;function n(o,s){return{range:{start:o,end:o},newText:s}}e.insert=n;function r(o){return{range:o,newText:""}}e.del=r;function i(o){const s=o;return we.objectLiteral(s)&&we.string(s.newText)&&Ui.is(s.range)}e.is=i})(yh||(yh={}));var k1;(function(e){function t(r,i,o){const s={label:r};return i!==void 0&&(s.needsConfirmation=i),o!==void 0&&(s.description=o),s}e.create=t;function n(r){const i=r;return we.objectLiteral(i)&&we.string(i.label)&&(we.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(we.string(i.description)||i.description===void 0)}e.is=n})(k1||(k1={}));var Es;(function(e){function t(n){const r=n;return we.string(r)}e.is=t})(Es||(Es={}));var kp;(function(e){function t(o,s,a){return{range:o,newText:s,annotationId:a}}e.replace=t;function n(o,s,a){return{range:{start:o,end:o},newText:s,annotationId:a}}e.insert=n;function r(o,s){return{range:o,newText:"",annotationId:s}}e.del=r;function i(o){const s=o;return yh.is(s)&&(k1.is(s.annotationId)||Es.is(s.annotationId))}e.is=i})(kp||(kp={}));var dP;(function(e){function t(r,i){return{textDocument:r,edits:i}}e.create=t;function n(r){let i=r;return we.defined(i)&&hP.is(i.textDocument)&&Array.isArray(i.edits)}e.is=n})(dP||(dP={}));var a_;(function(e){function t(r,i,o){let s={kind:"create",uri:r};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}e.create=t;function n(r){let i=r;return i&&i.kind==="create"&&we.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||we.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||we.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Es.is(i.annotationId))}e.is=n})(a_||(a_={}));var l_;(function(e){function t(r,i,o,s){let a={kind:"rename",oldUri:r,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(a.options=o),s!==void 0&&(a.annotationId=s),a}e.create=t;function n(r){let i=r;return i&&i.kind==="rename"&&we.string(i.oldUri)&&we.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||we.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||we.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Es.is(i.annotationId))}e.is=n})(l_||(l_={}));var c_;(function(e){function t(r,i,o){let s={kind:"delete",uri:r};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}e.create=t;function n(r){let i=r;return i&&i.kind==="delete"&&we.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||we.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||we.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||Es.is(i.annotationId))}e.is=n})(c_||(c_={}));var Kj;(function(e){function t(n){let r=n;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(i=>we.string(i.kind)?a_.is(i)||l_.is(i)||c_.is(i):dP.is(i)))}e.is=t})(Kj||(Kj={}));class XN{constructor(t,n){this.edits=t,this.changeAnnotations=n}insert(t,n,r){let i,o;if(r===void 0?i=yh.insert(t,n):Es.is(r)?(o=r,i=kp.insert(t,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),i=kp.insert(t,n,o)),this.edits.push(i),o!==void 0)return o}replace(t,n,r){let i,o;if(r===void 0?i=yh.replace(t,n):Es.is(r)?(o=r,i=kp.replace(t,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),i=kp.replace(t,n,o)),this.edits.push(i),o!==void 0)return o}delete(t,n){let r,i;if(n===void 0?r=yh.del(t):Es.is(n)?(i=n,r=kp.del(t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=kp.del(t,i)),this.edits.push(r),i!==void 0)return i}add(t){this.edits.push(t)}all(){return this.edits}clear(){this.edits.splice(0,this.edits.length)}assertChangeAnnotations(t){if(t===void 0)throw new Error("Text edit change is not configured to manage change annotations.")}}class mCe{constructor(t){this._annotations=t===void 0?Object.create(null):t,this._counter=0,this._size=0}all(){return this._annotations}get size(){return this._size}manage(t,n){let r;if(Es.is(t)?r=t:(r=this.nextId(),n=t),this._annotations[r]!==void 0)throw new Error(`Id ${r} is already in use.`);if(n===void 0)throw new Error(`No annotation provided for id ${r}`);return this._annotations[r]=n,this._size++,r}nextId(){return this._counter++,this._counter.toString()}}class yEn{constructor(t){this._textEditChanges=Object.create(null),t!==void 0?(this._workspaceEdit=t,t.documentChanges?(this._changeAnnotations=new mCe(t.changeAnnotations),t.changeAnnotations=this._changeAnnotations.all(),t.documentChanges.forEach(n=>{if(dP.is(n)){const r=new XN(n.edits,this._changeAnnotations);this._textEditChanges[n.textDocument.uri]=r}})):t.changes&&Object.keys(t.changes).forEach(n=>{const r=new XN(t.changes[n]);this._textEditChanges[n]=r})):this._workspaceEdit={}}get edit(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit}getTextEditChange(t){if(hP.is(t)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");const n={uri:t.uri,version:t.version};let r=this._textEditChanges[n.uri];if(!r){const i=[],o={textDocument:n,edits:i};this._workspaceEdit.documentChanges.push(o),r=new XN(i,this._changeAnnotations),this._textEditChanges[n.uri]=r}return r}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");let n=this._textEditChanges[t];if(!n){let r=[];this._workspaceEdit.changes[t]=r,n=new XN(r),this._textEditChanges[t]=n}return n}}initDocumentChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new mCe,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())}initChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))}createFile(t,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;k1.is(n)||Es.is(n)?i=n:r=n;let o,s;if(i===void 0?o=a_.create(t,r):(s=Es.is(i)?i:this._changeAnnotations.manage(i),o=a_.create(t,r,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s}renameFile(t,n,r,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let o;k1.is(r)||Es.is(r)?o=r:i=r;let s,a;if(o===void 0?s=l_.create(t,n,i):(a=Es.is(o)?o:this._changeAnnotations.manage(o),s=l_.create(t,n,i,a)),this._workspaceEdit.documentChanges.push(s),a!==void 0)return a}deleteFile(t,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;k1.is(n)||Es.is(n)?i=n:r=n;let o,s;if(i===void 0?o=c_.create(t,r):(s=Es.is(i)?i:this._changeAnnotations.manage(i),o=c_.create(t,r,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s}}var iK;(function(e){function t(r){return{uri:r}}e.create=t;function n(r){let i=r;return we.defined(i)&&we.string(i.uri)}e.is=n})(iK||(iK={}));var oK;(function(e){function t(r,i){return{uri:r,version:i}}e.create=t;function n(r){let i=r;return we.defined(i)&&we.string(i.uri)&&we.integer(i.version)}e.is=n})(oK||(oK={}));var hP;(function(e){function t(r,i){return{uri:r,version:i}}e.create=t;function n(r){let i=r;return we.defined(i)&&we.string(i.uri)&&(i.version===null||we.integer(i.version))}e.is=n})(hP||(hP={}));var sK;(function(e){function t(r,i,o,s){return{uri:r,languageId:i,version:o,text:s}}e.create=t;function n(r){let i=r;return we.defined(i)&&we.string(i.uri)&&we.string(i.languageId)&&we.integer(i.version)&&we.string(i.text)}e.is=n})(sK||(sK={}));var Jj;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(n){const r=n;return r===e.PlainText||r===e.Markdown}e.is=t})(Jj||(Jj={}));var u_;(function(e){function t(n){const r=n;return we.objectLiteral(n)&&Jj.is(r.kind)&&we.string(r.value)}e.is=t})(u_||(u_={}));var aK;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(aK||(aK={}));var lK;(function(e){e.PlainText=1,e.Snippet=2})(lK||(lK={}));var cK;(function(e){e.Deprecated=1})(cK||(cK={}));var uK;(function(e){function t(r,i,o){return{newText:r,insert:i,replace:o}}e.create=t;function n(r){const i=r;return i&&we.string(i.newText)&&Ui.is(i.insert)&&Ui.is(i.replace)}e.is=n})(uK||(uK={}));var fK;(function(e){e.asIs=1,e.adjustIndentation=2})(fK||(fK={}));var dK;(function(e){function t(n){const r=n;return r&&(we.string(r.detail)||r.detail===void 0)&&(we.string(r.description)||r.description===void 0)}e.is=t})(dK||(dK={}));var hK;(function(e){function t(n){return{label:n}}e.create=t})(hK||(hK={}));var pK;(function(e){function t(n,r){return{items:n||[],isIncomplete:!!r}}e.create=t})(pK||(pK={}));var pP;(function(e){function t(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function n(r){const i=r;return we.string(i)||we.objectLiteral(i)&&we.string(i.language)&&we.string(i.value)}e.is=n})(pP||(pP={}));var gK;(function(e){function t(n){let r=n;return!!r&&we.objectLiteral(r)&&(u_.is(r.contents)||pP.is(r.contents)||we.typedArray(r.contents,pP.is))&&(n.range===void 0||Ui.is(n.range))}e.is=t})(gK||(gK={}));var mK;(function(e){function t(n,r){return r?{label:n,documentation:r}:{label:n}}e.create=t})(mK||(mK={}));var yK;(function(e){function t(n,r,...i){let o={label:n};return we.defined(r)&&(o.documentation=r),we.defined(i)?o.parameters=i:o.parameters=[],o}e.create=t})(yK||(yK={}));var vK;(function(e){e.Text=1,e.Read=2,e.Write=3})(vK||(vK={}));var bK;(function(e){function t(n,r){let i={range:n};return we.number(r)&&(i.kind=r),i}e.create=t})(bK||(bK={}));var OK;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(OK||(OK={}));var xK;(function(e){e.Deprecated=1})(xK||(xK={}));var wK;(function(e){function t(n,r,i,o,s){let a={name:n,kind:r,location:{uri:o,range:i}};return s&&(a.containerName=s),a}e.create=t})(wK||(wK={}));var SK;(function(e){function t(n,r,i,o){return o!==void 0?{name:n,kind:r,location:{uri:i,range:o}}:{name:n,kind:r,location:{uri:i}}}e.create=t})(SK||(SK={}));var _K;(function(e){function t(r,i,o,s,a,l){let c={name:r,detail:i,kind:o,range:s,selectionRange:a};return l!==void 0&&(c.children=l),c}e.create=t;function n(r){let i=r;return i&&we.string(i.name)&&we.number(i.kind)&&Ui.is(i.range)&&Ui.is(i.selectionRange)&&(i.detail===void 0||we.string(i.detail))&&(i.deprecated===void 0||we.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}e.is=n})(_K||(_K={}));var CK;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(CK||(CK={}));var gP;(function(e){e.Invoked=1,e.Automatic=2})(gP||(gP={}));var $K;(function(e){function t(r,i,o){let s={diagnostics:r};return i!=null&&(s.only=i),o!=null&&(s.triggerKind=o),s}e.create=t;function n(r){let i=r;return we.defined(i)&&we.typedArray(i.diagnostics,fP.is)&&(i.only===void 0||we.typedArray(i.only,we.string))&&(i.triggerKind===void 0||i.triggerKind===gP.Invoked||i.triggerKind===gP.Automatic)}e.is=n})($K||($K={}));var EK;(function(e){function t(r,i,o){let s={title:r},a=!0;return typeof i=="string"?(a=!1,s.kind=i):Db.is(i)?s.command=i:s.edit=i,a&&o!==void 0&&(s.kind=o),s}e.create=t;function n(r){let i=r;return i&&we.string(i.title)&&(i.diagnostics===void 0||we.typedArray(i.diagnostics,fP.is))&&(i.kind===void 0||we.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||Db.is(i.command))&&(i.isPreferred===void 0||we.boolean(i.isPreferred))&&(i.edit===void 0||Kj.is(i.edit))}e.is=n})(EK||(EK={}));var kK;(function(e){function t(r,i){let o={range:r};return we.defined(i)&&(o.data=i),o}e.create=t;function n(r){let i=r;return we.defined(i)&&Ui.is(i.range)&&(we.undefined(i.command)||Db.is(i.command))}e.is=n})(kK||(kK={}));var TK;(function(e){function t(r,i){return{tabSize:r,insertSpaces:i}}e.create=t;function n(r){let i=r;return we.defined(i)&&we.uinteger(i.tabSize)&&we.boolean(i.insertSpaces)}e.is=n})(TK||(TK={}));var PK;(function(e){function t(r,i,o){return{range:r,target:i,data:o}}e.create=t;function n(r){let i=r;return we.defined(i)&&Ui.is(i.range)&&(we.undefined(i.target)||we.string(i.target))}e.is=n})(PK||(PK={}));var RK;(function(e){function t(r,i){return{range:r,parent:i}}e.create=t;function n(r){let i=r;return we.objectLiteral(i)&&Ui.is(i.range)&&(i.parent===void 0||e.is(i.parent))}e.is=n})(RK||(RK={}));var AK;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(AK||(AK={}));var DK;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(DK||(DK={}));var NK;(function(e){function t(n){const r=n;return we.objectLiteral(r)&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}e.is=t})(NK||(NK={}));var MK;(function(e){function t(r,i){return{range:r,text:i}}e.create=t;function n(r){const i=r;return i!=null&&Ui.is(i.range)&&we.string(i.text)}e.is=n})(MK||(MK={}));var IK;(function(e){function t(r,i,o){return{range:r,variableName:i,caseSensitiveLookup:o}}e.create=t;function n(r){const i=r;return i!=null&&Ui.is(i.range)&&we.boolean(i.caseSensitiveLookup)&&(we.string(i.variableName)||i.variableName===void 0)}e.is=n})(IK||(IK={}));var LK;(function(e){function t(r,i){return{range:r,expression:i}}e.create=t;function n(r){const i=r;return i!=null&&Ui.is(i.range)&&(we.string(i.expression)||i.expression===void 0)}e.is=n})(LK||(LK={}));var jK;(function(e){function t(r,i){return{frameId:r,stoppedLocation:i}}e.create=t;function n(r){const i=r;return we.defined(i)&&Ui.is(r.stoppedLocation)}e.is=n})(jK||(jK={}));var eF;(function(e){e.Type=1,e.Parameter=2;function t(n){return n===1||n===2}e.is=t})(eF||(eF={}));var tF;(function(e){function t(r){return{value:r}}e.create=t;function n(r){const i=r;return we.objectLiteral(i)&&(i.tooltip===void 0||we.string(i.tooltip)||u_.is(i.tooltip))&&(i.location===void 0||uP.is(i.location))&&(i.command===void 0||Db.is(i.command))}e.is=n})(tF||(tF={}));var FK;(function(e){function t(r,i,o){const s={position:r,label:i};return o!==void 0&&(s.kind=o),s}e.create=t;function n(r){const i=r;return we.objectLiteral(i)&&uu.is(i.position)&&(we.string(i.label)||we.typedArray(i.label,tF.is))&&(i.kind===void 0||eF.is(i.kind))&&i.textEdits===void 0||we.typedArray(i.textEdits,yh.is)&&(i.tooltip===void 0||we.string(i.tooltip)||u_.is(i.tooltip))&&(i.paddingLeft===void 0||we.boolean(i.paddingLeft))&&(i.paddingRight===void 0||we.boolean(i.paddingRight))}e.is=n})(FK||(FK={}));var zK;(function(e){function t(n){return{kind:"snippet",value:n}}e.createSnippet=t})(zK||(zK={}));var QK;(function(e){function t(n,r,i,o){return{insertText:n,filterText:r,range:i,command:o}}e.create=t})(QK||(QK={}));var BK;(function(e){function t(n){return{items:n}}e.create=t})(BK||(BK={}));var WK;(function(e){e.Invoked=0,e.Automatic=1})(WK||(WK={}));var VK;(function(e){function t(n,r){return{range:n,text:r}}e.create=t})(VK||(VK={}));var UK;(function(e){function t(n,r){return{triggerKind:n,selectedCompletionInfo:r}}e.create=t})(UK||(UK={}));var qK;(function(e){function t(n){const r=n;return we.objectLiteral(r)&&Hj.is(r.uri)&&we.string(r.name)}e.is=t})(qK||(qK={}));const vEn=[`
`,`\r
`,"\r"];var YK;(function(e){function t(o,s,a,l){return new bEn(o,s,a,l)}e.create=t;function n(o){let s=o;return!!(we.defined(s)&&we.string(s.uri)&&(we.undefined(s.languageId)||we.string(s.languageId))&&we.uinteger(s.lineCount)&&we.func(s.getText)&&we.func(s.positionAt)&&we.func(s.offsetAt))}e.is=n;function r(o,s){let a=o.getText(),l=i(s,(u,f)=>{let d=u.range.start.line-f.range.start.line;return d===0?u.range.start.character-f.range.start.character:d}),c=a.length;for(let u=l.length-1;u>=0;u--){let f=l[u],d=o.offsetAt(f.range.start),h=o.offsetAt(f.range.end);if(h<=c)a=a.substring(0,d)+f.newText+a.substring(h,a.length);else throw new Error("Overlapping edit");c=d}return a}e.applyEdits=r;function i(o,s){if(o.length<=1)return o;const a=o.length/2|0,l=o.slice(0,a),c=o.slice(a);i(l,s),i(c,s);let u=0,f=0,d=0;for(;u<l.length&&f<c.length;)s(l[u],c[f])<=0?o[d++]=l[u++]:o[d++]=c[f++];for(;u<l.length;)o[d++]=l[u++];for(;f<c.length;)o[d++]=c[f++];return o}})(YK||(YK={}));class bEn{constructor(t,n,r,i){this._uri=t,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let n=this.offsetAt(t.start),r=this.offsetAt(t.end);return this._content.substring(n,r)}return this._content}update(t,n){this._content=t.text,this._version=n,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],n=this._content,r=!0;for(let i=0;i<n.length;i++){r&&(t.push(i),r=!1);let o=n.charAt(i);r=o==="\r"||o===`
`,o==="\r"&&i+1<n.length&&n.charAt(i+1)===`
`&&i++}r&&n.length>0&&t.push(n.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let n=this.getLineOffsets(),r=0,i=n.length;if(i===0)return uu.create(0,t);for(;r<i;){let s=Math.floor((r+i)/2);n[s]>t?i=s:r=s+1}let o=r-1;return uu.create(o,t-n[o])}offsetAt(t){let n=this.getLineOffsets();if(t.line>=n.length)return this._content.length;if(t.line<0)return 0;let r=n[t.line],i=t.line+1<n.length?n[t.line+1]:this._content.length;return Math.max(Math.min(r+t.character,i),r)}get lineCount(){return this.getLineOffsets().length}}var we;(function(e){const t=Object.prototype.toString;function n(h){return typeof h<"u"}e.defined=n;function r(h){return typeof h>"u"}e.undefined=r;function i(h){return h===!0||h===!1}e.boolean=i;function o(h){return t.call(h)==="[object String]"}e.string=o;function s(h){return t.call(h)==="[object Number]"}e.number=s;function a(h,p,g){return t.call(h)==="[object Number]"&&p<=h&&h<=g}e.numberRange=a;function l(h){return t.call(h)==="[object Number]"&&-2147483648<=h&&h<=2147483647}e.integer=l;function c(h){return t.call(h)==="[object Number]"&&0<=h&&h<=2147483647}e.uinteger=c;function u(h){return t.call(h)==="[object Function]"}e.func=u;function f(h){return h!==null&&typeof h=="object"}e.objectLiteral=f;function d(h,p){return Array.isArray(h)&&h.every(p)}e.typedArray=d})(we||(we={}));const OEn=Object.freeze(Object.defineProperty({__proto__:null,get AnnotatedTextEdit(){return kp},get ChangeAnnotation(){return k1},get ChangeAnnotationIdentifier(){return Es},get CodeAction(){return EK},get CodeActionContext(){return $K},get CodeActionKind(){return CK},get CodeActionTriggerKind(){return gP},get CodeDescription(){return rK},get CodeLens(){return kK},get Color(){return Zj},get ColorInformation(){return GG},get ColorPresentation(){return KG},get Command(){return Db},get CompletionItem(){return hK},get CompletionItemKind(){return aK},get CompletionItemLabelDetails(){return dK},get CompletionItemTag(){return cK},get CompletionList(){return pK},get CreateFile(){return a_},get DeleteFile(){return c_},get Diagnostic(){return fP},get DiagnosticRelatedInformation(){return Gj},get DiagnosticSeverity(){return tK},get DiagnosticTag(){return nK},get DocumentHighlight(){return bK},get DocumentHighlightKind(){return vK},get DocumentLink(){return PK},get DocumentSymbol(){return _K},get DocumentUri(){return XG},EOL:vEn,get FoldingRange(){return eK},get FoldingRangeKind(){return JG},get FormattingOptions(){return TK},get Hover(){return gK},get InlayHint(){return FK},get InlayHintKind(){return eF},get InlayHintLabelPart(){return tF},get InlineCompletionContext(){return UK},get InlineCompletionItem(){return QK},get InlineCompletionList(){return BK},get InlineCompletionTriggerKind(){return WK},get InlineValueContext(){return jK},get InlineValueEvaluatableExpression(){return LK},get InlineValueText(){return MK},get InlineValueVariableLookup(){return IK},get InsertReplaceEdit(){return uK},get InsertTextFormat(){return lK},get InsertTextMode(){return fK},get Location(){return uP},get LocationLink(){return ZG},get MarkedString(){return pP},get MarkupContent(){return u_},get MarkupKind(){return Jj},get OptionalVersionedTextDocumentIdentifier(){return hP},get ParameterInformation(){return mK},get Position(){return uu},get Range(){return Ui},get RenameFile(){return l_},get SelectedCompletionInfo(){return VK},get SelectionRange(){return RK},get SemanticTokenModifiers(){return DK},get SemanticTokenTypes(){return AK},get SemanticTokens(){return NK},get SignatureInformation(){return yK},get StringValue(){return zK},get SymbolInformation(){return wK},get SymbolKind(){return OK},get SymbolTag(){return xK},get TextDocument(){return YK},get TextDocumentEdit(){return dP},get TextDocumentIdentifier(){return iK},get TextDocumentItem(){return sK},get TextEdit(){return yh},get URI(){return Hj},get VersionedTextDocumentIdentifier(){return oK},WorkspaceChange:yEn,get WorkspaceEdit(){return Kj},get WorkspaceFolder(){return qK},get WorkspaceSymbol(){return SK},get integer(){return HG},get uinteger(){return cP}},Symbol.toStringTag,{value:"Module"})),ufe=PP(OEn);var Pn={};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.ProtocolNotificationType=Pn.ProtocolNotificationType0=Pn.ProtocolRequestType=Pn.ProtocolRequestType0=Pn.RegistrationType=Pn.MessageDirection=void 0;const f_=bO;var yCe;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(yCe||(Pn.MessageDirection=yCe={}));class xEn{constructor(t){this.method=t}}Pn.RegistrationType=xEn;class wEn extends f_.RequestType0{constructor(t){super(t)}}Pn.ProtocolRequestType0=wEn;class SEn extends f_.RequestType{constructor(t){super(t,f_.ParameterStructures.byName)}}Pn.ProtocolRequestType=SEn;class _En extends f_.NotificationType0{constructor(t){super(t)}}Pn.ProtocolNotificationType0=_En;class CEn extends f_.NotificationType{constructor(t){super(t,f_.ParameterStructures.byName)}}Pn.ProtocolNotificationType=CEn;var OGe={},zi={};Object.defineProperty(zi,"__esModule",{value:!0});zi.objectLiteral=zi.typedArray=zi.stringArray=zi.array=zi.func=zi.error=zi.number=zi.string=zi.boolean=void 0;function $En(e){return e===!0||e===!1}zi.boolean=$En;function xGe(e){return typeof e=="string"||e instanceof String}zi.string=xGe;function EEn(e){return typeof e=="number"||e instanceof Number}zi.number=EEn;function kEn(e){return e instanceof Error}zi.error=kEn;function TEn(e){return typeof e=="function"}zi.func=TEn;function wGe(e){return Array.isArray(e)}zi.array=wGe;function PEn(e){return wGe(e)&&e.every(t=>xGe(t))}zi.stringArray=PEn;function REn(e,t){return Array.isArray(e)&&e.every(t)}zi.typedArray=REn;function AEn(e){return e!==null&&typeof e=="object"}zi.objectLiteral=AEn;var Yz={};Object.defineProperty(Yz,"__esModule",{value:!0});Yz.ImplementationRequest=void 0;const vCe=Pn;var bCe;(function(e){e.method="textDocument/implementation",e.messageDirection=vCe.MessageDirection.clientToServer,e.type=new vCe.ProtocolRequestType(e.method)})(bCe||(Yz.ImplementationRequest=bCe={}));var Xz={};Object.defineProperty(Xz,"__esModule",{value:!0});Xz.TypeDefinitionRequest=void 0;const OCe=Pn;var xCe;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=OCe.MessageDirection.clientToServer,e.type=new OCe.ProtocolRequestType(e.method)})(xCe||(Xz.TypeDefinitionRequest=xCe={}));var d_={};Object.defineProperty(d_,"__esModule",{value:!0});d_.DidChangeWorkspaceFoldersNotification=d_.WorkspaceFoldersRequest=void 0;const nF=Pn;var wCe;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=nF.MessageDirection.serverToClient,e.type=new nF.ProtocolRequestType0(e.method)})(wCe||(d_.WorkspaceFoldersRequest=wCe={}));var SCe;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=nF.MessageDirection.clientToServer,e.type=new nF.ProtocolNotificationType(e.method)})(SCe||(d_.DidChangeWorkspaceFoldersNotification=SCe={}));var Hz={};Object.defineProperty(Hz,"__esModule",{value:!0});Hz.ConfigurationRequest=void 0;const _Ce=Pn;var CCe;(function(e){e.method="workspace/configuration",e.messageDirection=_Ce.MessageDirection.serverToClient,e.type=new _Ce.ProtocolRequestType(e.method)})(CCe||(Hz.ConfigurationRequest=CCe={}));var h_={};Object.defineProperty(h_,"__esModule",{value:!0});h_.ColorPresentationRequest=h_.DocumentColorRequest=void 0;const rF=Pn;var $Ce;(function(e){e.method="textDocument/documentColor",e.messageDirection=rF.MessageDirection.clientToServer,e.type=new rF.ProtocolRequestType(e.method)})($Ce||(h_.DocumentColorRequest=$Ce={}));var ECe;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=rF.MessageDirection.clientToServer,e.type=new rF.ProtocolRequestType(e.method)})(ECe||(h_.ColorPresentationRequest=ECe={}));var p_={};Object.defineProperty(p_,"__esModule",{value:!0});p_.FoldingRangeRefreshRequest=p_.FoldingRangeRequest=void 0;const iF=Pn;var kCe;(function(e){e.method="textDocument/foldingRange",e.messageDirection=iF.MessageDirection.clientToServer,e.type=new iF.ProtocolRequestType(e.method)})(kCe||(p_.FoldingRangeRequest=kCe={}));var TCe;(function(e){e.method="workspace/foldingRange/refresh",e.messageDirection=iF.MessageDirection.serverToClient,e.type=new iF.ProtocolRequestType0(e.method)})(TCe||(p_.FoldingRangeRefreshRequest=TCe={}));var Zz={};Object.defineProperty(Zz,"__esModule",{value:!0});Zz.DeclarationRequest=void 0;const PCe=Pn;var RCe;(function(e){e.method="textDocument/declaration",e.messageDirection=PCe.MessageDirection.clientToServer,e.type=new PCe.ProtocolRequestType(e.method)})(RCe||(Zz.DeclarationRequest=RCe={}));var Gz={};Object.defineProperty(Gz,"__esModule",{value:!0});Gz.SelectionRangeRequest=void 0;const ACe=Pn;var DCe;(function(e){e.method="textDocument/selectionRange",e.messageDirection=ACe.MessageDirection.clientToServer,e.type=new ACe.ProtocolRequestType(e.method)})(DCe||(Gz.SelectionRangeRequest=DCe={}));var Py={};Object.defineProperty(Py,"__esModule",{value:!0});Py.WorkDoneProgressCancelNotification=Py.WorkDoneProgressCreateRequest=Py.WorkDoneProgress=void 0;const DEn=bO,oF=Pn;var NCe;(function(e){e.type=new DEn.ProgressType;function t(n){return n===e.type}e.is=t})(NCe||(Py.WorkDoneProgress=NCe={}));var MCe;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=oF.MessageDirection.serverToClient,e.type=new oF.ProtocolRequestType(e.method)})(MCe||(Py.WorkDoneProgressCreateRequest=MCe={}));var ICe;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=oF.MessageDirection.clientToServer,e.type=new oF.ProtocolNotificationType(e.method)})(ICe||(Py.WorkDoneProgressCancelNotification=ICe={}));var Ry={};Object.defineProperty(Ry,"__esModule",{value:!0});Ry.CallHierarchyOutgoingCallsRequest=Ry.CallHierarchyIncomingCallsRequest=Ry.CallHierarchyPrepareRequest=void 0;const g_=Pn;var LCe;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=g_.MessageDirection.clientToServer,e.type=new g_.ProtocolRequestType(e.method)})(LCe||(Ry.CallHierarchyPrepareRequest=LCe={}));var jCe;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=g_.MessageDirection.clientToServer,e.type=new g_.ProtocolRequestType(e.method)})(jCe||(Ry.CallHierarchyIncomingCallsRequest=jCe={}));var FCe;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=g_.MessageDirection.clientToServer,e.type=new g_.ProtocolRequestType(e.method)})(FCe||(Ry.CallHierarchyOutgoingCallsRequest=FCe={}));var Ol={};Object.defineProperty(Ol,"__esModule",{value:!0});Ol.SemanticTokensRefreshRequest=Ol.SemanticTokensRangeRequest=Ol.SemanticTokensDeltaRequest=Ol.SemanticTokensRequest=Ol.SemanticTokensRegistrationType=Ol.TokenFormat=void 0;const Sg=Pn;var zCe;(function(e){e.Relative="relative"})(zCe||(Ol.TokenFormat=zCe={}));var mP;(function(e){e.method="textDocument/semanticTokens",e.type=new Sg.RegistrationType(e.method)})(mP||(Ol.SemanticTokensRegistrationType=mP={}));var QCe;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=Sg.MessageDirection.clientToServer,e.type=new Sg.ProtocolRequestType(e.method),e.registrationMethod=mP.method})(QCe||(Ol.SemanticTokensRequest=QCe={}));var BCe;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=Sg.MessageDirection.clientToServer,e.type=new Sg.ProtocolRequestType(e.method),e.registrationMethod=mP.method})(BCe||(Ol.SemanticTokensDeltaRequest=BCe={}));var WCe;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=Sg.MessageDirection.clientToServer,e.type=new Sg.ProtocolRequestType(e.method),e.registrationMethod=mP.method})(WCe||(Ol.SemanticTokensRangeRequest=WCe={}));var VCe;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=Sg.MessageDirection.serverToClient,e.type=new Sg.ProtocolRequestType0(e.method)})(VCe||(Ol.SemanticTokensRefreshRequest=VCe={}));var Kz={};Object.defineProperty(Kz,"__esModule",{value:!0});Kz.ShowDocumentRequest=void 0;const UCe=Pn;var qCe;(function(e){e.method="window/showDocument",e.messageDirection=UCe.MessageDirection.serverToClient,e.type=new UCe.ProtocolRequestType(e.method)})(qCe||(Kz.ShowDocumentRequest=qCe={}));var Jz={};Object.defineProperty(Jz,"__esModule",{value:!0});Jz.LinkedEditingRangeRequest=void 0;const YCe=Pn;var XCe;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=YCe.MessageDirection.clientToServer,e.type=new YCe.ProtocolRequestType(e.method)})(XCe||(Jz.LinkedEditingRangeRequest=XCe={}));var aa={};Object.defineProperty(aa,"__esModule",{value:!0});aa.WillDeleteFilesRequest=aa.DidDeleteFilesNotification=aa.DidRenameFilesNotification=aa.WillRenameFilesRequest=aa.DidCreateFilesNotification=aa.WillCreateFilesRequest=aa.FileOperationPatternKind=void 0;const Vu=Pn;var HCe;(function(e){e.file="file",e.folder="folder"})(HCe||(aa.FileOperationPatternKind=HCe={}));var ZCe;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=Vu.MessageDirection.clientToServer,e.type=new Vu.ProtocolRequestType(e.method)})(ZCe||(aa.WillCreateFilesRequest=ZCe={}));var GCe;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=Vu.MessageDirection.clientToServer,e.type=new Vu.ProtocolNotificationType(e.method)})(GCe||(aa.DidCreateFilesNotification=GCe={}));var KCe;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=Vu.MessageDirection.clientToServer,e.type=new Vu.ProtocolRequestType(e.method)})(KCe||(aa.WillRenameFilesRequest=KCe={}));var JCe;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=Vu.MessageDirection.clientToServer,e.type=new Vu.ProtocolNotificationType(e.method)})(JCe||(aa.DidRenameFilesNotification=JCe={}));var e$e;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=Vu.MessageDirection.clientToServer,e.type=new Vu.ProtocolNotificationType(e.method)})(e$e||(aa.DidDeleteFilesNotification=e$e={}));var t$e;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=Vu.MessageDirection.clientToServer,e.type=new Vu.ProtocolRequestType(e.method)})(t$e||(aa.WillDeleteFilesRequest=t$e={}));var Ay={};Object.defineProperty(Ay,"__esModule",{value:!0});Ay.MonikerRequest=Ay.MonikerKind=Ay.UniquenessLevel=void 0;const n$e=Pn;var r$e;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(r$e||(Ay.UniquenessLevel=r$e={}));var i$e;(function(e){e.$import="import",e.$export="export",e.local="local"})(i$e||(Ay.MonikerKind=i$e={}));var o$e;(function(e){e.method="textDocument/moniker",e.messageDirection=n$e.MessageDirection.clientToServer,e.type=new n$e.ProtocolRequestType(e.method)})(o$e||(Ay.MonikerRequest=o$e={}));var Dy={};Object.defineProperty(Dy,"__esModule",{value:!0});Dy.TypeHierarchySubtypesRequest=Dy.TypeHierarchySupertypesRequest=Dy.TypeHierarchyPrepareRequest=void 0;const m_=Pn;var s$e;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=m_.MessageDirection.clientToServer,e.type=new m_.ProtocolRequestType(e.method)})(s$e||(Dy.TypeHierarchyPrepareRequest=s$e={}));var a$e;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=m_.MessageDirection.clientToServer,e.type=new m_.ProtocolRequestType(e.method)})(a$e||(Dy.TypeHierarchySupertypesRequest=a$e={}));var l$e;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=m_.MessageDirection.clientToServer,e.type=new m_.ProtocolRequestType(e.method)})(l$e||(Dy.TypeHierarchySubtypesRequest=l$e={}));var y_={};Object.defineProperty(y_,"__esModule",{value:!0});y_.InlineValueRefreshRequest=y_.InlineValueRequest=void 0;const sF=Pn;var c$e;(function(e){e.method="textDocument/inlineValue",e.messageDirection=sF.MessageDirection.clientToServer,e.type=new sF.ProtocolRequestType(e.method)})(c$e||(y_.InlineValueRequest=c$e={}));var u$e;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=sF.MessageDirection.serverToClient,e.type=new sF.ProtocolRequestType0(e.method)})(u$e||(y_.InlineValueRefreshRequest=u$e={}));var Ny={};Object.defineProperty(Ny,"__esModule",{value:!0});Ny.InlayHintRefreshRequest=Ny.InlayHintResolveRequest=Ny.InlayHintRequest=void 0;const v_=Pn;var f$e;(function(e){e.method="textDocument/inlayHint",e.messageDirection=v_.MessageDirection.clientToServer,e.type=new v_.ProtocolRequestType(e.method)})(f$e||(Ny.InlayHintRequest=f$e={}));var d$e;(function(e){e.method="inlayHint/resolve",e.messageDirection=v_.MessageDirection.clientToServer,e.type=new v_.ProtocolRequestType(e.method)})(d$e||(Ny.InlayHintResolveRequest=d$e={}));var h$e;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=v_.MessageDirection.serverToClient,e.type=new v_.ProtocolRequestType0(e.method)})(h$e||(Ny.InlayHintRefreshRequest=h$e={}));var pu={};Object.defineProperty(pu,"__esModule",{value:!0});pu.DiagnosticRefreshRequest=pu.WorkspaceDiagnosticRequest=pu.DocumentDiagnosticRequest=pu.DocumentDiagnosticReportKind=pu.DiagnosticServerCancellationData=void 0;const SGe=bO,NEn=zi,b_=Pn;var p$e;(function(e){function t(n){const r=n;return r&&NEn.boolean(r.retriggerRequest)}e.is=t})(p$e||(pu.DiagnosticServerCancellationData=p$e={}));var g$e;(function(e){e.Full="full",e.Unchanged="unchanged"})(g$e||(pu.DocumentDiagnosticReportKind=g$e={}));var m$e;(function(e){e.method="textDocument/diagnostic",e.messageDirection=b_.MessageDirection.clientToServer,e.type=new b_.ProtocolRequestType(e.method),e.partialResult=new SGe.ProgressType})(m$e||(pu.DocumentDiagnosticRequest=m$e={}));var y$e;(function(e){e.method="workspace/diagnostic",e.messageDirection=b_.MessageDirection.clientToServer,e.type=new b_.ProtocolRequestType(e.method),e.partialResult=new SGe.ProgressType})(y$e||(pu.WorkspaceDiagnosticRequest=y$e={}));var v$e;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=b_.MessageDirection.serverToClient,e.type=new b_.ProtocolRequestType0(e.method)})(v$e||(pu.DiagnosticRefreshRequest=v$e={}));var ji={};Object.defineProperty(ji,"__esModule",{value:!0});ji.DidCloseNotebookDocumentNotification=ji.DidSaveNotebookDocumentNotification=ji.DidChangeNotebookDocumentNotification=ji.NotebookCellArrayChange=ji.DidOpenNotebookDocumentNotification=ji.NotebookDocumentSyncRegistrationType=ji.NotebookDocument=ji.NotebookCell=ji.ExecutionSummary=ji.NotebookCellKind=void 0;const yP=ufe,Pf=zi,Ih=Pn;var XK;(function(e){e.Markup=1,e.Code=2;function t(n){return n===1||n===2}e.is=t})(XK||(ji.NotebookCellKind=XK={}));var HK;(function(e){function t(i,o){const s={executionOrder:i};return(o===!0||o===!1)&&(s.success=o),s}e.create=t;function n(i){const o=i;return Pf.objectLiteral(o)&&yP.uinteger.is(o.executionOrder)&&(o.success===void 0||Pf.boolean(o.success))}e.is=n;function r(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}e.equals=r})(HK||(ji.ExecutionSummary=HK={}));var aF;(function(e){function t(o,s){return{kind:o,document:s}}e.create=t;function n(o){const s=o;return Pf.objectLiteral(s)&&XK.is(s.kind)&&yP.DocumentUri.is(s.document)&&(s.metadata===void 0||Pf.objectLiteral(s.metadata))}e.is=n;function r(o,s){const a=new Set;return o.document!==s.document&&a.add("document"),o.kind!==s.kind&&a.add("kind"),o.executionSummary!==s.executionSummary&&a.add("executionSummary"),(o.metadata!==void 0||s.metadata!==void 0)&&!i(o.metadata,s.metadata)&&a.add("metadata"),(o.executionSummary!==void 0||s.executionSummary!==void 0)&&!HK.equals(o.executionSummary,s.executionSummary)&&a.add("executionSummary"),a}e.diff=r;function i(o,s){if(o===s)return!0;if(o==null||s===null||s===void 0||typeof o!=typeof s||typeof o!="object")return!1;const a=Array.isArray(o),l=Array.isArray(s);if(a!==l)return!1;if(a&&l){if(o.length!==s.length)return!1;for(let c=0;c<o.length;c++)if(!i(o[c],s[c]))return!1}if(Pf.objectLiteral(o)&&Pf.objectLiteral(s)){const c=Object.keys(o),u=Object.keys(s);if(c.length!==u.length||(c.sort(),u.sort(),!i(c,u)))return!1;for(let f=0;f<c.length;f++){const d=c[f];if(!i(o[d],s[d]))return!1}}return!0}})(aF||(ji.NotebookCell=aF={}));var b$e;(function(e){function t(r,i,o,s){return{uri:r,notebookType:i,version:o,cells:s}}e.create=t;function n(r){const i=r;return Pf.objectLiteral(i)&&Pf.string(i.uri)&&yP.integer.is(i.version)&&Pf.typedArray(i.cells,aF.is)}e.is=n})(b$e||(ji.NotebookDocument=b$e={}));var O_;(function(e){e.method="notebookDocument/sync",e.messageDirection=Ih.MessageDirection.clientToServer,e.type=new Ih.RegistrationType(e.method)})(O_||(ji.NotebookDocumentSyncRegistrationType=O_={}));var O$e;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=Ih.MessageDirection.clientToServer,e.type=new Ih.ProtocolNotificationType(e.method),e.registrationMethod=O_.method})(O$e||(ji.DidOpenNotebookDocumentNotification=O$e={}));var x$e;(function(e){function t(r){const i=r;return Pf.objectLiteral(i)&&yP.uinteger.is(i.start)&&yP.uinteger.is(i.deleteCount)&&(i.cells===void 0||Pf.typedArray(i.cells,aF.is))}e.is=t;function n(r,i,o){const s={start:r,deleteCount:i};return o!==void 0&&(s.cells=o),s}e.create=n})(x$e||(ji.NotebookCellArrayChange=x$e={}));var w$e;(function(e){e.method="notebookDocument/didChange",e.messageDirection=Ih.MessageDirection.clientToServer,e.type=new Ih.ProtocolNotificationType(e.method),e.registrationMethod=O_.method})(w$e||(ji.DidChangeNotebookDocumentNotification=w$e={}));var S$e;(function(e){e.method="notebookDocument/didSave",e.messageDirection=Ih.MessageDirection.clientToServer,e.type=new Ih.ProtocolNotificationType(e.method),e.registrationMethod=O_.method})(S$e||(ji.DidSaveNotebookDocumentNotification=S$e={}));var _$e;(function(e){e.method="notebookDocument/didClose",e.messageDirection=Ih.MessageDirection.clientToServer,e.type=new Ih.ProtocolNotificationType(e.method),e.registrationMethod=O_.method})(_$e||(ji.DidCloseNotebookDocumentNotification=_$e={}));var e9={};Object.defineProperty(e9,"__esModule",{value:!0});e9.InlineCompletionRequest=void 0;const C$e=Pn;var $$e;(function(e){e.method="textDocument/inlineCompletion",e.messageDirection=C$e.MessageDirection.clientToServer,e.type=new C$e.ProtocolRequestType(e.method)})($$e||(e9.InlineCompletionRequest=$$e={}));(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WorkspaceSymbolRequest=e.CodeActionResolveRequest=e.CodeActionRequest=e.DocumentSymbolRequest=e.DocumentHighlightRequest=e.ReferencesRequest=e.DefinitionRequest=e.SignatureHelpRequest=e.SignatureHelpTriggerKind=e.HoverRequest=e.CompletionResolveRequest=e.CompletionRequest=e.CompletionTriggerKind=e.PublishDiagnosticsNotification=e.WatchKind=e.RelativePattern=e.FileChangeType=e.DidChangeWatchedFilesNotification=e.WillSaveTextDocumentWaitUntilRequest=e.WillSaveTextDocumentNotification=e.TextDocumentSaveReason=e.DidSaveTextDocumentNotification=e.DidCloseTextDocumentNotification=e.DidChangeTextDocumentNotification=e.TextDocumentContentChangeEvent=e.DidOpenTextDocumentNotification=e.TextDocumentSyncKind=e.TelemetryEventNotification=e.LogMessageNotification=e.ShowMessageRequest=e.ShowMessageNotification=e.MessageType=e.DidChangeConfigurationNotification=e.ExitNotification=e.ShutdownRequest=e.InitializedNotification=e.InitializeErrorCodes=e.InitializeRequest=e.WorkDoneProgressOptions=e.TextDocumentRegistrationOptions=e.StaticRegistrationOptions=e.PositionEncodingKind=e.FailureHandlingKind=e.ResourceOperationKind=e.UnregistrationRequest=e.RegistrationRequest=e.DocumentSelector=e.NotebookCellTextDocumentFilter=e.NotebookDocumentFilter=e.TextDocumentFilter=void 0,e.MonikerRequest=e.MonikerKind=e.UniquenessLevel=e.WillDeleteFilesRequest=e.DidDeleteFilesNotification=e.WillRenameFilesRequest=e.DidRenameFilesNotification=e.WillCreateFilesRequest=e.DidCreateFilesNotification=e.FileOperationPatternKind=e.LinkedEditingRangeRequest=e.ShowDocumentRequest=e.SemanticTokensRegistrationType=e.SemanticTokensRefreshRequest=e.SemanticTokensRangeRequest=e.SemanticTokensDeltaRequest=e.SemanticTokensRequest=e.TokenFormat=e.CallHierarchyPrepareRequest=e.CallHierarchyOutgoingCallsRequest=e.CallHierarchyIncomingCallsRequest=e.WorkDoneProgressCancelNotification=e.WorkDoneProgressCreateRequest=e.WorkDoneProgress=e.SelectionRangeRequest=e.DeclarationRequest=e.FoldingRangeRefreshRequest=e.FoldingRangeRequest=e.ColorPresentationRequest=e.DocumentColorRequest=e.ConfigurationRequest=e.DidChangeWorkspaceFoldersNotification=e.WorkspaceFoldersRequest=e.TypeDefinitionRequest=e.ImplementationRequest=e.ApplyWorkspaceEditRequest=e.ExecuteCommandRequest=e.PrepareRenameRequest=e.RenameRequest=e.PrepareSupportDefaultBehavior=e.DocumentOnTypeFormattingRequest=e.DocumentRangesFormattingRequest=e.DocumentRangeFormattingRequest=e.DocumentFormattingRequest=e.DocumentLinkResolveRequest=e.DocumentLinkRequest=e.CodeLensRefreshRequest=e.CodeLensResolveRequest=e.CodeLensRequest=e.WorkspaceSymbolResolveRequest=void 0,e.InlineCompletionRequest=e.DidCloseNotebookDocumentNotification=e.DidSaveNotebookDocumentNotification=e.DidChangeNotebookDocumentNotification=e.NotebookCellArrayChange=e.DidOpenNotebookDocumentNotification=e.NotebookDocumentSyncRegistrationType=e.NotebookDocument=e.NotebookCell=e.ExecutionSummary=e.NotebookCellKind=e.DiagnosticRefreshRequest=e.WorkspaceDiagnosticRequest=e.DocumentDiagnosticRequest=e.DocumentDiagnosticReportKind=e.DiagnosticServerCancellationData=e.InlayHintRefreshRequest=e.InlayHintResolveRequest=e.InlayHintRequest=e.InlineValueRefreshRequest=e.InlineValueRequest=e.TypeHierarchySupertypesRequest=e.TypeHierarchySubtypesRequest=e.TypeHierarchyPrepareRequest=void 0;const t=Pn,n=ufe,r=zi,i=Yz;Object.defineProperty(e,"ImplementationRequest",{enumerable:!0,get:function(){return i.ImplementationRequest}});const o=Xz;Object.defineProperty(e,"TypeDefinitionRequest",{enumerable:!0,get:function(){return o.TypeDefinitionRequest}});const s=d_;Object.defineProperty(e,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return s.WorkspaceFoldersRequest}}),Object.defineProperty(e,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return s.DidChangeWorkspaceFoldersNotification}});const a=Hz;Object.defineProperty(e,"ConfigurationRequest",{enumerable:!0,get:function(){return a.ConfigurationRequest}});const l=h_;Object.defineProperty(e,"DocumentColorRequest",{enumerable:!0,get:function(){return l.DocumentColorRequest}}),Object.defineProperty(e,"ColorPresentationRequest",{enumerable:!0,get:function(){return l.ColorPresentationRequest}});const c=p_;Object.defineProperty(e,"FoldingRangeRequest",{enumerable:!0,get:function(){return c.FoldingRangeRequest}}),Object.defineProperty(e,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return c.FoldingRangeRefreshRequest}});const u=Zz;Object.defineProperty(e,"DeclarationRequest",{enumerable:!0,get:function(){return u.DeclarationRequest}});const f=Gz;Object.defineProperty(e,"SelectionRangeRequest",{enumerable:!0,get:function(){return f.SelectionRangeRequest}});const d=Py;Object.defineProperty(e,"WorkDoneProgress",{enumerable:!0,get:function(){return d.WorkDoneProgress}}),Object.defineProperty(e,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return d.WorkDoneProgressCreateRequest}}),Object.defineProperty(e,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return d.WorkDoneProgressCancelNotification}});const h=Ry;Object.defineProperty(e,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return h.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(e,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return h.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(e,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return h.CallHierarchyPrepareRequest}});const p=Ol;Object.defineProperty(e,"TokenFormat",{enumerable:!0,get:function(){return p.TokenFormat}}),Object.defineProperty(e,"SemanticTokensRequest",{enumerable:!0,get:function(){return p.SemanticTokensRequest}}),Object.defineProperty(e,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return p.SemanticTokensDeltaRequest}}),Object.defineProperty(e,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return p.SemanticTokensRangeRequest}}),Object.defineProperty(e,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return p.SemanticTokensRefreshRequest}}),Object.defineProperty(e,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return p.SemanticTokensRegistrationType}});const g=Kz;Object.defineProperty(e,"ShowDocumentRequest",{enumerable:!0,get:function(){return g.ShowDocumentRequest}});const y=Jz;Object.defineProperty(e,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return y.LinkedEditingRangeRequest}});const v=aa;Object.defineProperty(e,"FileOperationPatternKind",{enumerable:!0,get:function(){return v.FileOperationPatternKind}}),Object.defineProperty(e,"DidCreateFilesNotification",{enumerable:!0,get:function(){return v.DidCreateFilesNotification}}),Object.defineProperty(e,"WillCreateFilesRequest",{enumerable:!0,get:function(){return v.WillCreateFilesRequest}}),Object.defineProperty(e,"DidRenameFilesNotification",{enumerable:!0,get:function(){return v.DidRenameFilesNotification}}),Object.defineProperty(e,"WillRenameFilesRequest",{enumerable:!0,get:function(){return v.WillRenameFilesRequest}}),Object.defineProperty(e,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return v.DidDeleteFilesNotification}}),Object.defineProperty(e,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return v.WillDeleteFilesRequest}});const x=Ay;Object.defineProperty(e,"UniquenessLevel",{enumerable:!0,get:function(){return x.UniquenessLevel}}),Object.defineProperty(e,"MonikerKind",{enumerable:!0,get:function(){return x.MonikerKind}}),Object.defineProperty(e,"MonikerRequest",{enumerable:!0,get:function(){return x.MonikerRequest}});const m=Dy;Object.defineProperty(e,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return m.TypeHierarchyPrepareRequest}}),Object.defineProperty(e,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return m.TypeHierarchySubtypesRequest}}),Object.defineProperty(e,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return m.TypeHierarchySupertypesRequest}});const w=y_;Object.defineProperty(e,"InlineValueRequest",{enumerable:!0,get:function(){return w.InlineValueRequest}}),Object.defineProperty(e,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return w.InlineValueRefreshRequest}});const S=Ny;Object.defineProperty(e,"InlayHintRequest",{enumerable:!0,get:function(){return S.InlayHintRequest}}),Object.defineProperty(e,"InlayHintResolveRequest",{enumerable:!0,get:function(){return S.InlayHintResolveRequest}}),Object.defineProperty(e,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return S.InlayHintRefreshRequest}});const C=pu;Object.defineProperty(e,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return C.DiagnosticServerCancellationData}}),Object.defineProperty(e,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return C.DocumentDiagnosticReportKind}}),Object.defineProperty(e,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return C.DocumentDiagnosticRequest}}),Object.defineProperty(e,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return C.WorkspaceDiagnosticRequest}}),Object.defineProperty(e,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return C.DiagnosticRefreshRequest}});const $=ji;Object.defineProperty(e,"NotebookCellKind",{enumerable:!0,get:function(){return $.NotebookCellKind}}),Object.defineProperty(e,"ExecutionSummary",{enumerable:!0,get:function(){return $.ExecutionSummary}}),Object.defineProperty(e,"NotebookCell",{enumerable:!0,get:function(){return $.NotebookCell}}),Object.defineProperty(e,"NotebookDocument",{enumerable:!0,get:function(){return $.NotebookDocument}}),Object.defineProperty(e,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return $.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(e,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return $.DidOpenNotebookDocumentNotification}}),Object.defineProperty(e,"NotebookCellArrayChange",{enumerable:!0,get:function(){return $.NotebookCellArrayChange}}),Object.defineProperty(e,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return $.DidChangeNotebookDocumentNotification}}),Object.defineProperty(e,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return $.DidSaveNotebookDocumentNotification}}),Object.defineProperty(e,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return $.DidCloseNotebookDocumentNotification}});const E=e9;Object.defineProperty(e,"InlineCompletionRequest",{enumerable:!0,get:function(){return E.InlineCompletionRequest}});var R;(function(te){function dn(qn){const Dt=qn;return r.string(Dt)||r.string(Dt.language)||r.string(Dt.scheme)||r.string(Dt.pattern)}te.is=dn})(R||(e.TextDocumentFilter=R={}));var N;(function(te){function dn(qn){const Dt=qn;return r.objectLiteral(Dt)&&(r.string(Dt.notebookType)||r.string(Dt.scheme)||r.string(Dt.pattern))}te.is=dn})(N||(e.NotebookDocumentFilter=N={}));var I;(function(te){function dn(qn){const Dt=qn;return r.objectLiteral(Dt)&&(r.string(Dt.notebook)||N.is(Dt.notebook))&&(Dt.language===void 0||r.string(Dt.language))}te.is=dn})(I||(e.NotebookCellTextDocumentFilter=I={}));var j;(function(te){function dn(qn){if(!Array.isArray(qn))return!1;for(let Dt of qn)if(!r.string(Dt)&&!R.is(Dt)&&!I.is(Dt))return!1;return!0}te.is=dn})(j||(e.DocumentSelector=j={}));var A;(function(te){te.method="client/registerCapability",te.messageDirection=t.MessageDirection.serverToClient,te.type=new t.ProtocolRequestType(te.method)})(A||(e.RegistrationRequest=A={}));var T;(function(te){te.method="client/unregisterCapability",te.messageDirection=t.MessageDirection.serverToClient,te.type=new t.ProtocolRequestType(te.method)})(T||(e.UnregistrationRequest=T={}));var D;(function(te){te.Create="create",te.Rename="rename",te.Delete="delete"})(D||(e.ResourceOperationKind=D={}));var L;(function(te){te.Abort="abort",te.Transactional="transactional",te.TextOnlyTransactional="textOnlyTransactional",te.Undo="undo"})(L||(e.FailureHandlingKind=L={}));var W;(function(te){te.UTF8="utf-8",te.UTF16="utf-16",te.UTF32="utf-32"})(W||(e.PositionEncodingKind=W={}));var V;(function(te){function dn(qn){const Dt=qn;return Dt&&r.string(Dt.id)&&Dt.id.length>0}te.hasId=dn})(V||(e.StaticRegistrationOptions=V={}));var Q;(function(te){function dn(qn){const Dt=qn;return Dt&&(Dt.documentSelector===null||j.is(Dt.documentSelector))}te.is=dn})(Q||(e.TextDocumentRegistrationOptions=Q={}));var B;(function(te){function dn(Dt){const se=Dt;return r.objectLiteral(se)&&(se.workDoneProgress===void 0||r.boolean(se.workDoneProgress))}te.is=dn;function qn(Dt){const se=Dt;return se&&r.boolean(se.workDoneProgress)}te.hasWorkDoneProgress=qn})(B||(e.WorkDoneProgressOptions=B={}));var Y;(function(te){te.method="initialize",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolRequestType(te.method)})(Y||(e.InitializeRequest=Y={}));var U;(function(te){te.unknownProtocolVersion=1})(U||(e.InitializeErrorCodes=U={}));var q;(function(te){te.method="initialized",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolNotificationType(te.method)})(q||(e.InitializedNotification=q={}));var Z;(function(te){te.method="shutdown",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolRequestType0(te.method)})(Z||(e.ShutdownRequest=Z={}));var oe;(function(te){te.method="exit",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolNotificationType0(te.method)})(oe||(e.ExitNotification=oe={}));var ce;(function(te){te.method="workspace/didChangeConfiguration",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolNotificationType(te.method)})(ce||(e.DidChangeConfigurationNotification=ce={}));var re;(function(te){te.Error=1,te.Warning=2,te.Info=3,te.Log=4,te.Debug=5})(re||(e.MessageType=re={}));var fe;(function(te){te.method="window/showMessage",te.messageDirection=t.MessageDirection.serverToClient,te.type=new t.ProtocolNotificationType(te.method)})(fe||(e.ShowMessageNotification=fe={}));var ae;(function(te){te.method="window/showMessageRequest",te.messageDirection=t.MessageDirection.serverToClient,te.type=new t.ProtocolRequestType(te.method)})(ae||(e.ShowMessageRequest=ae={}));var ue;(function(te){te.method="window/logMessage",te.messageDirection=t.MessageDirection.serverToClient,te.type=new t.ProtocolNotificationType(te.method)})(ue||(e.LogMessageNotification=ue={}));var me;(function(te){te.method="telemetry/event",te.messageDirection=t.MessageDirection.serverToClient,te.type=new t.ProtocolNotificationType(te.method)})(me||(e.TelemetryEventNotification=me={}));var ne;(function(te){te.None=0,te.Full=1,te.Incremental=2})(ne||(e.TextDocumentSyncKind=ne={}));var Le;(function(te){te.method="textDocument/didOpen",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolNotificationType(te.method)})(Le||(e.DidOpenTextDocumentNotification=Le={}));var _e;(function(te){function dn(Dt){let se=Dt;return se!=null&&typeof se.text=="string"&&se.range!==void 0&&(se.rangeLength===void 0||typeof se.rangeLength=="number")}te.isIncremental=dn;function qn(Dt){let se=Dt;return se!=null&&typeof se.text=="string"&&se.range===void 0&&se.rangeLength===void 0}te.isFull=qn})(_e||(e.TextDocumentContentChangeEvent=_e={}));var ke;(function(te){te.method="textDocument/didChange",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolNotificationType(te.method)})(ke||(e.DidChangeTextDocumentNotification=ke={}));var ze;(function(te){te.method="textDocument/didClose",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolNotificationType(te.method)})(ze||(e.DidCloseTextDocumentNotification=ze={}));var Je;(function(te){te.method="textDocument/didSave",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolNotificationType(te.method)})(Je||(e.DidSaveTextDocumentNotification=Je={}));var Be;(function(te){te.Manual=1,te.AfterDelay=2,te.FocusOut=3})(Be||(e.TextDocumentSaveReason=Be={}));var K;(function(te){te.method="textDocument/willSave",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolNotificationType(te.method)})(K||(e.WillSaveTextDocumentNotification=K={}));var ge;(function(te){te.method="textDocument/willSaveWaitUntil",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolRequestType(te.method)})(ge||(e.WillSaveTextDocumentWaitUntilRequest=ge={}));var Oe;(function(te){te.method="workspace/didChangeWatchedFiles",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolNotificationType(te.method)})(Oe||(e.DidChangeWatchedFilesNotification=Oe={}));var Ve;(function(te){te.Created=1,te.Changed=2,te.Deleted=3})(Ve||(e.FileChangeType=Ve={}));var Fe;(function(te){function dn(qn){const Dt=qn;return r.objectLiteral(Dt)&&(n.URI.is(Dt.baseUri)||n.WorkspaceFolder.is(Dt.baseUri))&&r.string(Dt.pattern)}te.is=dn})(Fe||(e.RelativePattern=Fe={}));var ye;(function(te){te.Create=1,te.Change=2,te.Delete=4})(ye||(e.WatchKind=ye={}));var Ne;(function(te){te.method="textDocument/publishDiagnostics",te.messageDirection=t.MessageDirection.serverToClient,te.type=new t.ProtocolNotificationType(te.method)})(Ne||(e.PublishDiagnosticsNotification=Ne={}));var ft;(function(te){te.Invoked=1,te.TriggerCharacter=2,te.TriggerForIncompleteCompletions=3})(ft||(e.CompletionTriggerKind=ft={}));var ht;(function(te){te.method="textDocument/completion",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolRequestType(te.method)})(ht||(e.CompletionRequest=ht={}));var pt;(function(te){te.method="completionItem/resolve",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolRequestType(te.method)})(pt||(e.CompletionResolveRequest=pt={}));var Mt;(function(te){te.method="textDocument/hover",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolRequestType(te.method)})(Mt||(e.HoverRequest=Mt={}));var on;(function(te){te.Invoked=1,te.TriggerCharacter=2,te.ContentChange=3})(on||(e.SignatureHelpTriggerKind=on={}));var At;(function(te){te.method="textDocument/signatureHelp",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolRequestType(te.method)})(At||(e.SignatureHelpRequest=At={}));var Hr;(function(te){te.method="textDocument/definition",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolRequestType(te.method)})(Hr||(e.DefinitionRequest=Hr={}));var bi;(function(te){te.method="textDocument/references",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolRequestType(te.method)})(bi||(e.ReferencesRequest=bi={}));var Zr;(function(te){te.method="textDocument/documentHighlight",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolRequestType(te.method)})(Zr||(e.DocumentHighlightRequest=Zr={}));var Ir;(function(te){te.method="textDocument/documentSymbol",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolRequestType(te.method)})(Ir||(e.DocumentSymbolRequest=Ir={}));var Qt;(function(te){te.method="textDocument/codeAction",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolRequestType(te.method)})(Qt||(e.CodeActionRequest=Qt={}));var ar;(function(te){te.method="codeAction/resolve",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolRequestType(te.method)})(ar||(e.CodeActionResolveRequest=ar={}));var _n;(function(te){te.method="workspace/symbol",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolRequestType(te.method)})(_n||(e.WorkspaceSymbolRequest=_n={}));var wr;(function(te){te.method="workspaceSymbol/resolve",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolRequestType(te.method)})(wr||(e.WorkspaceSymbolResolveRequest=wr={}));var wo;(function(te){te.method="textDocument/codeLens",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolRequestType(te.method)})(wo||(e.CodeLensRequest=wo={}));var Dn;(function(te){te.method="codeLens/resolve",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolRequestType(te.method)})(Dn||(e.CodeLensResolveRequest=Dn={}));var Kt;(function(te){te.method="workspace/codeLens/refresh",te.messageDirection=t.MessageDirection.serverToClient,te.type=new t.ProtocolRequestType0(te.method)})(Kt||(e.CodeLensRefreshRequest=Kt={}));var ui;(function(te){te.method="textDocument/documentLink",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolRequestType(te.method)})(ui||(e.DocumentLinkRequest=ui={}));var io;(function(te){te.method="documentLink/resolve",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolRequestType(te.method)})(io||(e.DocumentLinkResolveRequest=io={}));var Xi;(function(te){te.method="textDocument/formatting",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolRequestType(te.method)})(Xi||(e.DocumentFormattingRequest=Xi={}));var Oi;(function(te){te.method="textDocument/rangeFormatting",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolRequestType(te.method)})(Oi||(e.DocumentRangeFormattingRequest=Oi={}));var oo;(function(te){te.method="textDocument/rangesFormatting",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolRequestType(te.method)})(oo||(e.DocumentRangesFormattingRequest=oo={}));var so;(function(te){te.method="textDocument/onTypeFormatting",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolRequestType(te.method)})(so||(e.DocumentOnTypeFormattingRequest=so={}));var fi;(function(te){te.Identifier=1})(fi||(e.PrepareSupportDefaultBehavior=fi={}));var Pa;(function(te){te.method="textDocument/rename",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolRequestType(te.method)})(Pa||(e.RenameRequest=Pa={}));var ul;(function(te){te.method="textDocument/prepareRename",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolRequestType(te.method)})(ul||(e.PrepareRenameRequest=ul={}));var Ri;(function(te){te.method="workspace/executeCommand",te.messageDirection=t.MessageDirection.clientToServer,te.type=new t.ProtocolRequestType(te.method)})(Ri||(e.ExecuteCommandRequest=Ri={}));var Ws;(function(te){te.method="workspace/applyEdit",te.messageDirection=t.MessageDirection.serverToClient,te.type=new t.ProtocolRequestType("workspace/applyEdit")})(Ws||(e.ApplyWorkspaceEditRequest=Ws={}))})(OGe);var t9={};Object.defineProperty(t9,"__esModule",{value:!0});t9.createProtocolConnection=void 0;const E$e=bO;function MEn(e,t,n,r){return E$e.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,E$e.createMessageConnection)(e,t,n,r)}t9.createProtocolConnection=MEn;(function(e){var t=ct&&ct.__createBinding||(Object.create?function(o,s,a,l){l===void 0&&(l=a);var c=Object.getOwnPropertyDescriptor(s,a);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[a]}}),Object.defineProperty(o,l,c)}:function(o,s,a,l){l===void 0&&(l=a),o[l]=s[a]}),n=ct&&ct.__exportStar||function(o,s){for(var a in o)a!=="default"&&!Object.prototype.hasOwnProperty.call(s,a)&&t(s,o,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.LSPErrorCodes=e.createProtocolConnection=void 0,n(bO,e),n(ufe,e),n(Pn,e),n(OGe,e);var r=t9;Object.defineProperty(e,"createProtocolConnection",{enumerable:!0,get:function(){return r.createProtocolConnection}});var i;(function(o){o.lspReservedErrorRangeStart=-32899,o.RequestFailed=-32803,o.ServerCancelled=-32802,o.ContentModified=-32801,o.RequestCancelled=-32800,o.lspReservedErrorRangeEnd=-32800})(i||(e.LSPErrorCodes=i={}))})(bGe);(function(e){var t=ct&&ct.__createBinding||(Object.create?function(o,s,a,l){l===void 0&&(l=a);var c=Object.getOwnPropertyDescriptor(s,a);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[a]}}),Object.defineProperty(o,l,c)}:function(o,s,a,l){l===void 0&&(l=a),o[l]=s[a]}),n=ct&&ct.__exportStar||function(o,s){for(var a in o)a!=="default"&&!Object.prototype.hasOwnProperty.call(s,a)&&t(s,o,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.createProtocolConnection=void 0;const r=gCe;n(gCe,e),n(bGe,e);function i(o,s,a,l){return(0,r.createMessageConnection)(o,s,a,l)}e.createProtocolConnection=i})(nh);const GV=1e4,IEn=500,LEn=Object.fromEntries(Object.entries(nh.CompletionItemKind).map(([e,t])=>[t,e])),ffe=e=>e.reduce((t,n)=>n,""),_Ge=mt.define({combine:ffe}),CGe=mt.define({combine:ffe}),$Ge=mt.define({combine:ffe});class EGe{constructor(t){this.rootUri=t.rootUri,this.workspaceFolders=t.workspaceFolders,this.autoClose=t.autoClose,this.plugins=[],this.transport=t.transport,this.requestManager=new qj.RequestManager([this.transport]),this.client=new qj.Client(this.requestManager),this.client.onNotification(r=>{this.processNotification(r)});const n=this.transport;n&&n.connection&&n.connection.addEventListener("message",r=>{const i=JSON.parse(r.data);i.method&&i.id&&n.connection.send(JSON.stringify({jsonrpc:"2.0",id:i.id,result:null}))}),this.initializePromise=this.initialize()}async initialize(){const{capabilities:t}=await this.request("initialize",{capabilities:{textDocument:{hover:{dynamicRegistration:!0,contentFormat:["plaintext","markdown"]},moniker:{},synchronization:{dynamicRegistration:!0,willSave:!1,didSave:!1,willSaveWaitUntil:!1},completion:{dynamicRegistration:!0,completionItem:{snippetSupport:!1,commitCharactersSupport:!0,documentationFormat:["plaintext","markdown"],deprecatedSupport:!1,preselectSupport:!1},contextSupport:!1},signatureHelp:{dynamicRegistration:!0,signatureInformation:{documentationFormat:["plaintext","markdown"]}},declaration:{dynamicRegistration:!0,linkSupport:!0},definition:{dynamicRegistration:!0,linkSupport:!0},typeDefinition:{dynamicRegistration:!0,linkSupport:!0},implementation:{dynamicRegistration:!0,linkSupport:!0}},workspace:{didChangeConfiguration:{dynamicRegistration:!0}}},initializationOptions:null,processId:null,rootUri:this.rootUri,workspaceFolders:this.workspaceFolders},GV*3);this.capabilities=t,this.notify("initialized",{}),this.ready=!0}close(){this.client.close()}textDocumentDidOpen(t){return this.notify("textDocument/didOpen",t)}textDocumentDidChange(t){return this.notify("textDocument/didChange",t)}async textDocumentHover(t){return await this.request("textDocument/hover",t,GV)}async textDocumentCompletion(t){return await this.request("textDocument/completion",t,GV)}attachPlugin(t){this.plugins.push(t)}detachPlugin(t){const n=this.plugins.indexOf(t);n!==-1&&(this.plugins.splice(n,1),this.autoClose&&this.close())}request(t,n,r){return this.client.request({method:t,params:n},r)}notify(t,n){return this.client.notify({method:t,params:n})}processNotification(t){for(const n of this.plugins)n.processNotification(t)}}class jEn{constructor(t,n){this.view=t,this.allowHTMLContent=n,this.client=this.view.state.facet(_Ge),this.documentUri=this.view.state.facet(CGe),this.languageId=this.view.state.facet($Ge),this.documentVersion=0,this.changesTimeout=0,this.client.attachPlugin(this),this.initialize({documentText:this.view.state.doc.toString()})}update({docChanged:t}){t&&(this.changesTimeout&&clearTimeout(this.changesTimeout),this.changesTimeout=self.setTimeout(()=>{this.sendChange({documentText:this.view.state.doc.toString()})},IEn))}destroy(){this.client.detachPlugin(this)}async initialize({documentText:t}){this.client.initializePromise&&await this.client.initializePromise,this.client.textDocumentDidOpen({textDocument:{uri:this.documentUri,languageId:this.languageId,text:t,version:this.documentVersion}})}async sendChange({documentText:t}){if(this.client.ready)try{await this.client.textDocumentDidChange({textDocument:{uri:this.documentUri,version:this.documentVersion++},contentChanges:[{text:t}]})}catch(n){console.error(n)}}requestDiagnostics(t){this.sendChange({documentText:t.state.doc.toString()})}async requestHoverTooltip(t,{line:n,character:r}){if(!this.client.ready||!this.client.capabilities.hoverProvider)return null;this.sendChange({documentText:t.state.doc.toString()});const i=await this.client.textDocumentHover({textDocument:{uri:this.documentUri},position:{line:n,character:r}});if(!i)return null;const{contents:o,range:s}=i;let a=W$(t.state.doc,{line:n,character:r}),l;if(s&&(a=W$(t.state.doc,s.start),l=W$(t.state.doc,s.end)),a===null)return null;const c=document.createElement("div");return c.classList.add("documentation"),this.allowHTMLContent?c.innerHTML=jI(o):c.textContent=jI(o),{pos:a,end:l,create:u=>({dom:c}),above:!0}}async requestCompletion(t,{line:n,character:r},{triggerKind:i,triggerCharacter:o}){if(!this.client.ready||!this.client.capabilities.completionProvider)return null;this.sendChange({documentText:t.state.doc.toString()});const s=await this.client.textDocumentCompletion({textDocument:{uri:this.documentUri},position:{line:n,character:r},context:{triggerKind:i,triggerCharacter:o}});if(!s)return null;let l=("items"in s?s.items:s).map(({detail:h,label:p,kind:g,textEdit:y,documentation:v,sortText:x,filterText:m})=>{var w;const S={label:p,detail:h,apply:(w=y==null?void 0:y.newText)!==null&&w!==void 0?w:p,type:g&&LEn[g].toLowerCase(),sortText:x??p,filterText:m??p};return v&&(S.info=jI(v)),S});const[c,u]=zEn(l),f=t.matchBefore(u);let{pos:d}=t;if(f){d=f.from;const h=f.text.toLowerCase();/^\w+$/.test(h)&&(l=l.filter(({filterText:p})=>p.toLowerCase().startsWith(h)).sort(({apply:p},{apply:g})=>{switch(!0){case(p.startsWith(f.text)&&!g.startsWith(f.text)):return-1;case(!p.startsWith(f.text)&&g.startsWith(f.text)):return 1}return 0}))}return{from:d,options:l}}processNotification(t){try{switch(t.method){case"textDocument/publishDiagnostics":this.processDiagnostics(t.params)}}catch(n){console.error(n)}}processDiagnostics(t){if(t.uri!==this.documentUri)return;const n=t.diagnostics.map(({range:r,message:i,severity:o})=>({from:W$(this.view.state.doc,r.start),to:W$(this.view.state.doc,r.end),severity:{[nh.DiagnosticSeverity.Error]:"error",[nh.DiagnosticSeverity.Warning]:"warning",[nh.DiagnosticSeverity.Information]:"info",[nh.DiagnosticSeverity.Hint]:"info"}[o],message:i})).filter(({from:r,to:i})=>r!==null&&i!==null&&r!==void 0&&i!==void 0).sort((r,i)=>{switch(!0){case r.from<i.from:return-1;case r.from>i.from:return 1}return 0});this.view.dispatch(kQt(this.view.state,n))}}function FEn(e){let t=null;return[_Ge.of(e.client||new EGe({...e,autoClose:!0})),CGe.of(e.documentUri),$Ge.of(e.languageId),Mr.define(n=>t=new jEn(n,e.allowHTMLContent)),Xre((n,r)=>{var i;return(i=t==null?void 0:t.requestHoverTooltip(n,k$e(n.state.doc,r)))!==null&&i!==void 0?i:null}),T7({override:[async n=>{var r,i,o;if(t==null)return null;const{state:s,pos:a,explicit:l}=n,c=s.doc.lineAt(a);let u=nh.CompletionTriggerKind.Invoked,f;return!l&&(!((o=(i=(r=t.client.capabilities)===null||r===void 0?void 0:r.completionProvider)===null||i===void 0?void 0:i.triggerCharacters)===null||o===void 0)&&o.includes(c.text[a-c.from-1]))&&(u=nh.CompletionTriggerKind.TriggerCharacter,f=c.text[a-c.from-1]),u===nh.CompletionTriggerKind.Invoked&&!n.matchBefore(/\w+$/)?null:await t.requestCompletion(n,k$e(s.doc,a),{triggerKind:u,triggerCharacter:f})}]})]}function W$(e,t){if(t.line>=e.lines)return;const n=e.line(t.line+1).from+t.character;if(!(n>e.length))return n}function k$e(e,t){const n=e.lineAt(t);return{line:n.number-1,character:t-n.from}}function jI(e){return Array.isArray(e)?e.map(t=>jI(t)+`

`).join(""):typeof e=="string"?e:e.value}function T$e(e){let t="",n=Array.from(e).join("");return/\w/.test(n)&&(t+="\\w",n=n.replace(/\w/g,"")),`[${t}${n.replace(/[^\w\s]/g,"\\$&")}]`}function zEn(e){const t=new Set,n=new Set;for(const{apply:i}of e){const[o,...s]=i;t.add(o);for(const a of s)n.add(a)}const r=T$e(t)+T$e(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}class lF{static create(t,n,r,i,o){let s=i+(i<<8)+t+(n<<4)|0;return new lF(t,n,r,s,o,[],[])}constructor(t,n,r,i,o,s,a){this.type=t,this.value=n,this.from=r,this.hash=i,this.end=o,this.children=s,this.positions=a,this.hashProp=[[Yt.contextHash,i]]}addChild(t,n){t.prop(Yt.contextHash)!=this.hash&&(t=new Qn(t.type,t.children,t.positions,t.length,this.hashProp)),this.children.push(t),this.positions.push(n)}toTree(t,n=this.end){let r=this.children.length-1;return r>=0&&(n=Math.max(n,this.positions[r]+this.children[r].length+this.from)),new Qn(t.types[this.type],this.children,this.positions,n-this.from).balance({makeTree:(i,o,s)=>new Qn(vo.none,i,o,s,this.hashProp)})}}var rt;(function(e){e[e.Document=1]="Document",e[e.CodeBlock=2]="CodeBlock",e[e.FencedCode=3]="FencedCode",e[e.Blockquote=4]="Blockquote",e[e.HorizontalRule=5]="HorizontalRule",e[e.BulletList=6]="BulletList",e[e.OrderedList=7]="OrderedList",e[e.ListItem=8]="ListItem",e[e.ATXHeading1=9]="ATXHeading1",e[e.ATXHeading2=10]="ATXHeading2",e[e.ATXHeading3=11]="ATXHeading3",e[e.ATXHeading4=12]="ATXHeading4",e[e.ATXHeading5=13]="ATXHeading5",e[e.ATXHeading6=14]="ATXHeading6",e[e.SetextHeading1=15]="SetextHeading1",e[e.SetextHeading2=16]="SetextHeading2",e[e.HTMLBlock=17]="HTMLBlock",e[e.LinkReference=18]="LinkReference",e[e.Paragraph=19]="Paragraph",e[e.CommentBlock=20]="CommentBlock",e[e.ProcessingInstructionBlock=21]="ProcessingInstructionBlock",e[e.Escape=22]="Escape",e[e.Entity=23]="Entity",e[e.HardBreak=24]="HardBreak",e[e.Emphasis=25]="Emphasis",e[e.StrongEmphasis=26]="StrongEmphasis",e[e.Link=27]="Link",e[e.Image=28]="Image",e[e.InlineCode=29]="InlineCode",e[e.HTMLTag=30]="HTMLTag",e[e.Comment=31]="Comment",e[e.ProcessingInstruction=32]="ProcessingInstruction",e[e.URL=33]="URL",e[e.HeaderMark=34]="HeaderMark",e[e.QuoteMark=35]="QuoteMark",e[e.ListMark=36]="ListMark",e[e.LinkMark=37]="LinkMark",e[e.EmphasisMark=38]="EmphasisMark",e[e.CodeMark=39]="CodeMark",e[e.CodeText=40]="CodeText",e[e.CodeInfo=41]="CodeInfo",e[e.LinkTitle=42]="LinkTitle",e[e.LinkLabel=43]="LinkLabel"})(rt||(rt={}));class QEn{constructor(t,n){this.start=t,this.content=n,this.marks=[],this.parsers=[]}}class BEn{constructor(){this.text="",this.baseIndent=0,this.basePos=0,this.depth=0,this.markers=[],this.pos=0,this.indent=0,this.next=-1}forward(){this.basePos>this.pos&&this.forwardInner()}forwardInner(){let t=this.skipSpace(this.basePos);this.indent=this.countIndent(t,this.pos,this.indent),this.pos=t,this.next=t==this.text.length?-1:this.text.charCodeAt(t)}skipSpace(t){return Yk(this.text,t)}reset(t){for(this.text=t,this.baseIndent=this.basePos=this.pos=this.indent=0,this.forwardInner(),this.depth=1;this.markers.length;)this.markers.pop()}moveBase(t){this.basePos=t,this.baseIndent=this.countIndent(t,this.pos,this.indent)}moveBaseColumn(t){this.baseIndent=t,this.basePos=this.findColumn(t)}addMarker(t){this.markers.push(t)}countIndent(t,n=0,r=0){for(let i=n;i<t;i++)r+=this.text.charCodeAt(i)==9?4-r%4:1;return r}findColumn(t){let n=0;for(let r=0;n<this.text.length&&r<t;n++)r+=this.text.charCodeAt(n)==9?4-r%4:1;return n}scrub(){if(!this.baseIndent)return this.text;let t="";for(let n=0;n<this.basePos;n++)t+=" ";return t+this.text.slice(this.basePos)}}function P$e(e,t,n){if(n.pos==n.text.length||e!=t.block&&n.indent>=t.stack[n.depth+1].value+n.baseIndent)return!0;if(n.indent>=n.baseIndent+4)return!1;let r=(e.type==rt.OrderedList?pfe:hfe)(n,t,!1);return r>0&&(e.type!=rt.BulletList||dfe(n,t,!1)<0)&&n.text.charCodeAt(n.pos+r-1)==e.value}const kGe={[rt.Blockquote](e,t,n){return n.next!=62?!1:(n.markers.push(or(rt.QuoteMark,t.lineStart+n.pos,t.lineStart+n.pos+1)),n.moveBase(n.pos+(Gu(n.text.charCodeAt(n.pos+1))?2:1)),e.end=t.lineStart+n.text.length,!0)},[rt.ListItem](e,t,n){return n.indent<n.baseIndent+e.value&&n.next>-1?!1:(n.moveBaseColumn(n.baseIndent+e.value),!0)},[rt.OrderedList]:P$e,[rt.BulletList]:P$e,[rt.Document](){return!0}};function Gu(e){return e==32||e==9||e==10||e==13}function Yk(e,t=0){for(;t<e.length&&Gu(e.charCodeAt(t));)t++;return t}function R$e(e,t,n){for(;t>n&&Gu(e.charCodeAt(t-1));)t--;return t}function TGe(e){if(e.next!=96&&e.next!=126)return-1;let t=e.pos+1;for(;t<e.text.length&&e.text.charCodeAt(t)==e.next;)t++;if(t<e.pos+3)return-1;if(e.next==96){for(let n=t;n<e.text.length;n++)if(e.text.charCodeAt(n)==96)return-1}return t}function PGe(e){return e.next!=62?-1:e.text.charCodeAt(e.pos+1)==32?2:1}function dfe(e,t,n){if(e.next!=42&&e.next!=45&&e.next!=95)return-1;let r=1;for(let i=e.pos+1;i<e.text.length;i++){let o=e.text.charCodeAt(i);if(o==e.next)r++;else if(!Gu(o))return-1}return n&&e.next==45&&DGe(e)>-1&&e.depth==t.stack.length||r<3?-1:1}function RGe(e,t){for(let n=e.stack.length-1;n>=0;n--)if(e.stack[n].type==t)return!0;return!1}function hfe(e,t,n){return(e.next==45||e.next==43||e.next==42)&&(e.pos==e.text.length-1||Gu(e.text.charCodeAt(e.pos+1)))&&(!n||RGe(t,rt.BulletList)||e.skipSpace(e.pos+2)<e.text.length)?1:-1}function pfe(e,t,n){let r=e.pos,i=e.next;for(;i>=48&&i<=57;){r++;if(r==e.text.length)return-1;i=e.text.charCodeAt(r)}return r==e.pos||r>e.pos+9||i!=46&&i!=41||r<e.text.length-1&&!Gu(e.text.charCodeAt(r+1))||n&&!RGe(t,rt.OrderedList)&&(e.skipSpace(r+1)==e.text.length||r>e.pos+1||e.next!=49)?-1:r+1-e.pos}function AGe(e){if(e.next!=35)return-1;let t=e.pos+1;for(;t<e.text.length&&e.text.charCodeAt(t)==35;)t++;if(t<e.text.length&&e.text.charCodeAt(t)!=32)return-1;let n=t-e.pos;return n>6?-1:n}function DGe(e){if(e.next!=45&&e.next!=61||e.indent>=e.baseIndent+4)return-1;let t=e.pos+1;for(;t<e.text.length&&e.text.charCodeAt(t)==e.next;)t++;let n=t;for(;t<e.text.length&&Gu(e.text.charCodeAt(t));)t++;return t==e.text.length?n:-1}const ZK=/^[ \t]*$/,NGe=/-->/,MGe=/\?>/,GK=[[/^<(?:script|pre|style)(?:\s|>|$)/i,/<\/(?:script|pre|style)>/i],[/^\s*<!--/,NGe],[/^\s*<\?/,MGe],[/^\s*<![A-Z]/,/>/],[/^\s*<!\[CDATA\[/,/\]\]>/],[/^\s*<\/?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|h2|h3|h4|h5|h6|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|\/?>|$)/i,ZK],[/^\s*(?:<\/[a-z][\w-]*\s*>|<[a-z][\w-]*(\s+[a-z:_][\w-.]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*>)\s*$/i,ZK]];function IGe(e,t,n){if(e.next!=60)return-1;let r=e.text.slice(e.pos);for(let i=0,o=GK.length-(n?1:0);i<o;i++)if(GK[i][0].test(r))return i;return-1}function A$e(e,t){let n=e.countIndent(t,e.pos,e.indent),r=e.countIndent(e.skipSpace(t),t,n);return r>=n+5?n+1:r}function dv(e,t,n){let r=e.length-1;r>=0&&e[r].to==t&&e[r].type==rt.CodeText?e[r].to=n:e.push(or(rt.CodeText,t,n))}const HN={LinkReference:void 0,IndentedCode(e,t){let n=t.baseIndent+4;if(t.indent<n)return!1;let r=t.findColumn(n),i=e.lineStart+r,o=e.lineStart+t.text.length,s=[],a=[];for(dv(s,i,o);e.nextLine()&&t.depth>=e.stack.length;)if(t.pos==t.text.length){dv(a,e.lineStart-1,e.lineStart);for(let l of t.markers)a.push(l)}else{if(t.indent<n)break;{if(a.length){for(let c of a)c.type==rt.CodeText?dv(s,c.from,c.to):s.push(c);a=[]}dv(s,e.lineStart-1,e.lineStart);for(let c of t.markers)s.push(c);o=e.lineStart+t.text.length;let l=e.lineStart+t.findColumn(t.baseIndent+4);l<o&&dv(s,l,o)}}return a.length&&(a=a.filter(l=>l.type!=rt.CodeText),a.length&&(t.markers=a.concat(t.markers))),e.addNode(e.buffer.writeElements(s,-i).finish(rt.CodeBlock,o-i),i),!0},FencedCode(e,t){let n=TGe(t);if(n<0)return!1;let r=e.lineStart+t.pos,i=t.next,o=n-t.pos,s=t.skipSpace(n),a=R$e(t.text,t.text.length,s),l=[or(rt.CodeMark,r,r+o)];s<a&&l.push(or(rt.CodeInfo,e.lineStart+s,e.lineStart+a));for(let c=!0;e.nextLine()&&t.depth>=e.stack.length;c=!1){let u=t.pos;if(t.indent-t.baseIndent<4)for(;u<t.text.length&&t.text.charCodeAt(u)==i;)u++;if(u-t.pos>=o&&t.skipSpace(u)==t.text.length){for(let f of t.markers)l.push(f);l.push(or(rt.CodeMark,e.lineStart+t.pos,e.lineStart+u)),e.nextLine();break}else{c||dv(l,e.lineStart-1,e.lineStart);for(let h of t.markers)l.push(h);let f=e.lineStart+t.basePos,d=e.lineStart+t.text.length;f<d&&dv(l,f,d)}}return e.addNode(e.buffer.writeElements(l,-r).finish(rt.FencedCode,e.prevLineEnd()-r),r),!0},Blockquote(e,t){let n=PGe(t);return n<0?!1:(e.startContext(rt.Blockquote,t.pos),e.addNode(rt.QuoteMark,e.lineStart+t.pos,e.lineStart+t.pos+1),t.moveBase(t.pos+n),null)},HorizontalRule(e,t){if(dfe(t,e,!1)<0)return!1;let n=e.lineStart+t.pos;return e.nextLine(),e.addNode(rt.HorizontalRule,n),!0},BulletList(e,t){let n=hfe(t,e,!1);if(n<0)return!1;e.block.type!=rt.BulletList&&e.startContext(rt.BulletList,t.basePos,t.next);let r=A$e(t,t.pos+1);return e.startContext(rt.ListItem,t.basePos,r-t.baseIndent),e.addNode(rt.ListMark,e.lineStart+t.pos,e.lineStart+t.pos+n),t.moveBaseColumn(r),null},OrderedList(e,t){let n=pfe(t,e,!1);if(n<0)return!1;e.block.type!=rt.OrderedList&&e.startContext(rt.OrderedList,t.basePos,t.text.charCodeAt(t.pos+n-1));let r=A$e(t,t.pos+n);return e.startContext(rt.ListItem,t.basePos,r-t.baseIndent),e.addNode(rt.ListMark,e.lineStart+t.pos,e.lineStart+t.pos+n),t.moveBaseColumn(r),null},ATXHeading(e,t){let n=AGe(t);if(n<0)return!1;let r=t.pos,i=e.lineStart+r,o=R$e(t.text,t.text.length,r),s=o;for(;s>r&&t.text.charCodeAt(s-1)==t.next;)s--;(s==o||s==r||!Gu(t.text.charCodeAt(s-1)))&&(s=t.text.length);let a=e.buffer.write(rt.HeaderMark,0,n).writeElements(e.parser.parseInline(t.text.slice(r+n+1,s),i+n+1),-i);s<t.text.length&&a.write(rt.HeaderMark,s-r,o-r);let l=a.finish(rt.ATXHeading1-1+n,t.text.length-r);return e.nextLine(),e.addNode(l,i),!0},HTMLBlock(e,t){let n=IGe(t,e,!1);if(n<0)return!1;let r=e.lineStart+t.pos,i=GK[n][1],o=[],s=i!=ZK;for(;!i.test(t.text)&&e.nextLine();){if(t.depth<e.stack.length){s=!1;break}for(let c of t.markers)o.push(c)}s&&e.nextLine();let a=i==NGe?rt.CommentBlock:i==MGe?rt.ProcessingInstructionBlock:rt.HTMLBlock,l=e.prevLineEnd();return e.addNode(e.buffer.writeElements(o,-r).finish(a,l-r),r),!0},SetextHeading:void 0};class WEn{constructor(t){this.stage=0,this.elts=[],this.pos=0,this.start=t.start,this.advance(t.content)}nextLine(t,n,r){if(this.stage==-1)return!1;let i=r.content+`
`+n.scrub(),o=this.advance(i);return o>-1&&o<i.length?this.complete(t,r,o):!1}finish(t,n){return(this.stage==2||this.stage==3)&&Yk(n.content,this.pos)==n.content.length?this.complete(t,n,n.content.length):!1}complete(t,n,r){return t.addLeafElement(n,or(rt.LinkReference,this.start,this.start+r,this.elts)),!0}nextStage(t){return t?(this.pos=t.to-this.start,this.elts.push(t),this.stage++,!0):(t===!1&&(this.stage=-1),!1)}advance(t){for(;;){if(this.stage==-1)return-1;if(this.stage==0){if(!this.nextStage(UGe(t,this.pos,this.start,!0)))return-1;if(t.charCodeAt(this.pos)!=58)return this.stage=-1;this.elts.push(or(rt.LinkMark,this.pos+this.start,this.pos+this.start+1)),this.pos++}else if(this.stage==1){if(!this.nextStage(WGe(t,Yk(t,this.pos),this.start)))return-1}else if(this.stage==2){let n=Yk(t,this.pos),r=0;if(n>this.pos){let i=VGe(t,n,this.start);if(i){let o=KV(t,i.to-this.start);o>0&&(this.nextStage(i),r=o)}}return r||(r=KV(t,this.pos)),r>0&&r<t.length?r:-1}else return KV(t,this.pos)}}}function KV(e,t){for(;t<e.length;t++){let n=e.charCodeAt(t);if(n==10)break;if(!Gu(n))return-1}return t}class VEn{nextLine(t,n,r){let i=n.depth<t.stack.length?-1:DGe(n),o=n.next;if(i<0)return!1;let s=or(rt.HeaderMark,t.lineStart+n.pos,t.lineStart+i);return t.nextLine(),t.addLeafElement(r,or(o==61?rt.SetextHeading1:rt.SetextHeading2,r.start,t.prevLineEnd(),[...t.parser.parseInline(r.content,r.start),s])),!0}finish(){return!1}}const UEn={LinkReference(e,t){return t.content.charCodeAt(0)==91?new WEn(t):null},SetextHeading(){return new VEn}},qEn=[(e,t)=>AGe(t)>=0,(e,t)=>TGe(t)>=0,(e,t)=>PGe(t)>=0,(e,t)=>hfe(t,e,!0)>=0,(e,t)=>pfe(t,e,!0)>=0,(e,t)=>dfe(t,e,!0)>=0,(e,t)=>IGe(t,e,!0)>=0],YEn={text:"",end:0};class XEn{constructor(t,n,r,i){this.parser=t,this.input=n,this.ranges=i,this.line=new BEn,this.atEnd=!1,this.reusePlaceholders=new Map,this.stoppedAt=null,this.rangeI=0,this.to=i[i.length-1].to,this.lineStart=this.absoluteLineStart=this.absoluteLineEnd=i[0].from,this.block=lF.create(rt.Document,0,this.lineStart,0,0),this.stack=[this.block],this.fragments=r.length?new KEn(r,n):null,this.readLine()}get parsedPos(){return this.absoluteLineStart}advance(){if(this.stoppedAt!=null&&this.absoluteLineStart>this.stoppedAt)return this.finish();let{line:t}=this;for(;;){for(;t.depth<this.stack.length;)this.finishContext();for(let r of t.markers)this.addNode(r.type,r.from,r.to);if(t.pos<t.text.length)break;if(!this.nextLine())return this.finish()}if(this.fragments&&this.reuseFragment(t.basePos))return null;e:for(;;){for(let r of this.parser.blockParsers)if(r){let i=r(this,t);if(i!=!1){if(i==!0)return null;t.forward();continue e}}break}let n=new QEn(this.lineStart+t.pos,t.text.slice(t.pos));for(let r of this.parser.leafBlockParsers)if(r){let i=r(this,n);i&&n.parsers.push(i)}e:for(;this.nextLine()&&t.pos!=t.text.length;){if(t.indent<t.baseIndent+4){for(let r of this.parser.endLeafBlock)if(r(this,t,n))break e}for(let r of n.parsers)if(r.nextLine(this,t,n))return null;n.content+=`
`+t.scrub();for(let r of t.markers)n.marks.push(r)}return this.finishLeaf(n),null}stopAt(t){if(this.stoppedAt!=null&&this.stoppedAt<t)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=t}reuseFragment(t){if(!this.fragments.moveTo(this.absoluteLineStart+t,this.absoluteLineStart)||!this.fragments.matches(this.block.hash))return!1;let n=this.fragments.takeNodes(this);return n?(this.absoluteLineStart+=n,this.lineStart=qGe(this.absoluteLineStart,this.ranges),this.moveRangeI(),this.absoluteLineStart<this.to?(this.lineStart++,this.absoluteLineStart++,this.readLine()):(this.atEnd=!0,this.readLine()),!0):!1}get depth(){return this.stack.length}parentType(t=this.depth-1){return this.parser.nodeSet.types[this.stack[t].type]}nextLine(){return this.lineStart+=this.line.text.length,this.absoluteLineEnd>=this.to?(this.absoluteLineStart=this.absoluteLineEnd,this.atEnd=!0,this.readLine(),!1):(this.lineStart++,this.absoluteLineStart=this.absoluteLineEnd+1,this.moveRangeI(),this.readLine(),!0)}moveRangeI(){for(;this.rangeI<this.ranges.length-1&&this.absoluteLineStart>=this.ranges[this.rangeI].to;)this.rangeI++,this.absoluteLineStart=Math.max(this.absoluteLineStart,this.ranges[this.rangeI].from)}scanLine(t){let n=YEn;if(n.end=t,t>=this.to)n.text="";else if(n.text=this.lineChunkAt(t),n.end+=n.text.length,this.ranges.length>1){let r=this.absoluteLineStart,i=this.rangeI;for(;this.ranges[i].to<n.end;){i++;let o=this.ranges[i].from,s=this.lineChunkAt(o);n.end=o+s.length,n.text=n.text.slice(0,this.ranges[i-1].to-r)+s,r=n.end-n.text.length}}return n}readLine(){let{line:t}=this,{text:n,end:r}=this.scanLine(this.absoluteLineStart);for(this.absoluteLineEnd=r,t.reset(n);t.depth<this.stack.length;t.depth++){let i=this.stack[t.depth],o=this.parser.skipContextMarkup[i.type];if(!o)throw new Error("Unhandled block context "+rt[i.type]);if(!o(i,this,t))break;t.forward()}}lineChunkAt(t){let n=this.input.chunk(t),r;if(this.input.lineChunks)r=n==`
`?"":n;else{let i=n.indexOf(`
`);r=i<0?n:n.slice(0,i)}return t+r.length>this.to?r.slice(0,this.to-t):r}prevLineEnd(){return this.atEnd?this.lineStart:this.lineStart-1}startContext(t,n,r=0){this.block=lF.create(t,r,this.lineStart+n,this.block.hash,this.lineStart+this.line.text.length),this.stack.push(this.block)}startComposite(t,n,r=0){this.startContext(this.parser.getNodeType(t),n,r)}addNode(t,n,r){typeof t=="number"&&(t=new Qn(this.parser.nodeSet.types[t],x_,x_,(r??this.prevLineEnd())-n)),this.block.addChild(t,n-this.block.from)}addElement(t){this.block.addChild(t.toTree(this.parser.nodeSet),t.from-this.block.from)}addLeafElement(t,n){this.addNode(this.buffer.writeElements(JK(n.children,t.marks),-n.from).finish(n.type,n.to-n.from),n.from)}finishContext(){let t=this.stack.pop(),n=this.stack[this.stack.length-1];n.addChild(t.toTree(this.parser.nodeSet),t.from-n.from),this.block=n}finish(){for(;this.stack.length>1;)this.finishContext();return this.addGaps(this.block.toTree(this.parser.nodeSet,this.lineStart))}addGaps(t){return this.ranges.length>1?LGe(this.ranges,0,t.topNode,this.ranges[0].from,this.reusePlaceholders):t}finishLeaf(t){for(let r of t.parsers)if(r.finish(this,t))return;let n=JK(this.parser.parseInline(t.content,t.start),t.marks);this.addNode(this.buffer.writeElements(n,-t.start).finish(rt.Paragraph,t.content.length),t.start)}elt(t,n,r,i){return typeof t=="string"?or(this.parser.getNodeType(t),n,r,i):new zGe(t,n)}get buffer(){return new FGe(this.parser.nodeSet)}}function LGe(e,t,n,r,i){let o=e[t].to,s=[],a=[],l=n.from+r;function c(u,f){for(;f?u>=o:u>o;){let d=e[t+1].from-o;r+=d,u+=d,t++,o=e[t].to}}for(let u=n.firstChild;u;u=u.nextSibling){c(u.from+r,!0);let f=u.from+r,d,h=i.get(u.tree);h?d=h:u.to+r>o?(d=LGe(e,t,u,r,i),c(u.to+r,!1)):d=u.toTree(),s.push(d),a.push(f-l)}return c(n.to+r,!1),new Qn(n.type,s,a,n.to+r-l,n.tree?n.tree.propValues:void 0)}class n9 extends L6{constructor(t,n,r,i,o,s,a,l,c){super(),this.nodeSet=t,this.blockParsers=n,this.leafBlockParsers=r,this.blockNames=i,this.endLeafBlock=o,this.skipContextMarkup=s,this.inlineParsers=a,this.inlineNames=l,this.wrappers=c,this.nodeTypes=Object.create(null);for(let u of t.types)this.nodeTypes[u.name]=u.id}createParse(t,n,r){let i=new XEn(this,t,n,r);for(let o of this.wrappers)i=o(i,t,n,r);return i}configure(t){let n=KK(t);if(!n)return this;let{nodeSet:r,skipContextMarkup:i}=this,o=this.blockParsers.slice(),s=this.leafBlockParsers.slice(),a=this.blockNames.slice(),l=this.inlineParsers.slice(),c=this.inlineNames.slice(),u=this.endLeafBlock.slice(),f=this.wrappers;if(V$(n.defineNodes)){i=Object.assign({},i);let d=r.types.slice(),h;for(let p of n.defineNodes){let{name:g,block:y,composite:v,style:x}=typeof p=="string"?{name:p}:p;if(d.some(S=>S.name==g))continue;v&&(i[d.length]=(S,C,$)=>v(C,$,S.value));let m=d.length,w=v?["Block","BlockContext"]:y?m>=rt.ATXHeading1&&m<=rt.SetextHeading2?["Block","LeafBlock","Heading"]:["Block","LeafBlock"]:void 0;d.push(vo.define({id:m,name:g,props:w&&[[Yt.group,w]]})),x&&(h||(h={}),Array.isArray(x)||x instanceof gf?h[g]=x:Object.assign(h,x))}r=new K_(d),h&&(r=r.extend(Hb(h)))}if(V$(n.props)&&(r=r.extend(...n.props)),V$(n.remove))for(let d of n.remove){let h=this.blockNames.indexOf(d),p=this.inlineNames.indexOf(d);h>-1&&(o[h]=s[h]=void 0),p>-1&&(l[p]=void 0)}if(V$(n.parseBlock))for(let d of n.parseBlock){let h=a.indexOf(d.name);if(h>-1)o[h]=d.parse,s[h]=d.leaf;else{let p=d.before?ZN(a,d.before):d.after?ZN(a,d.after)+1:a.length-1;o.splice(p,0,d.parse),s.splice(p,0,d.leaf),a.splice(p,0,d.name)}d.endLeaf&&u.push(d.endLeaf)}if(V$(n.parseInline))for(let d of n.parseInline){let h=c.indexOf(d.name);if(h>-1)l[h]=d.parse;else{let p=d.before?ZN(c,d.before):d.after?ZN(c,d.after)+1:c.length-1;l.splice(p,0,d.parse),c.splice(p,0,d.name)}}return n.wrap&&(f=f.concat(n.wrap)),new n9(r,o,s,a,u,i,l,c,f)}getNodeType(t){let n=this.nodeTypes[t];if(n==null)throw new RangeError(`Unknown node type '${t}'`);return n}parseInline(t,n){let r=new ZEn(this,t,n);e:for(let i=n;i<r.end;){let o=r.char(i);for(let s of this.inlineParsers)if(s){let a=s(r,o,i);if(a>=0){i=a;continue e}}i++}return r.resolveMarkers(0)}}function V$(e){return e!=null&&e.length>0}function KK(e){if(!Array.isArray(e))return e;if(e.length==0)return null;let t=KK(e[0]);if(e.length==1)return t;let n=KK(e.slice(1));if(!n||!t)return t||n;let r=(s,a)=>(s||x_).concat(a||x_),i=t.wrap,o=n.wrap;return{props:r(t.props,n.props),defineNodes:r(t.defineNodes,n.defineNodes),parseBlock:r(t.parseBlock,n.parseBlock),parseInline:r(t.parseInline,n.parseInline),remove:r(t.remove,n.remove),wrap:i?o?(s,a,l,c)=>i(o(s,a,l,c),a,l,c):i:o}}function ZN(e,t){let n=e.indexOf(t);if(n<0)throw new RangeError(`Position specified relative to unknown parser ${t}`);return n}let jGe=[vo.none];for(let e=1,t;t=rt[e];e++)jGe[e]=vo.define({id:e,name:t,props:e>=rt.Escape?[]:[[Yt.group,e in kGe?["Block","BlockContext"]:["Block","LeafBlock"]]],top:t=="Document"});const x_=[];let FGe=class{constructor(t){this.nodeSet=t,this.content=[],this.nodes=[]}write(t,n,r,i=0){return this.content.push(t,n,r,4+i*4),this}writeElements(t,n=0){for(let r of t)r.writeTo(this,n);return this}finish(t,n){return Qn.build({buffer:this.content,nodeSet:this.nodeSet,reused:this.nodes,topID:t,length:n})}},vP=class{constructor(t,n,r,i=x_){this.type=t,this.from=n,this.to=r,this.children=i}writeTo(t,n){let r=t.content.length;t.writeElements(this.children,n),t.content.push(this.type,this.from+n,this.to+n,t.content.length+4-r)}toTree(t){return new FGe(t).writeElements(this.children,-this.from).finish(this.type,this.to-this.from)}};class zGe{constructor(t,n){this.tree=t,this.from=n}get to(){return this.from+this.tree.length}get type(){return this.tree.type.id}get children(){return x_}writeTo(t,n){t.nodes.push(this.tree),t.content.push(t.nodes.length-1,this.from+n,this.to+n,-1)}toTree(){return this.tree}}function or(e,t,n,r){return new vP(e,t,n,r)}const QGe={resolve:"Emphasis",mark:"EmphasisMark"},BGe={resolve:"Emphasis",mark:"EmphasisMark"},U$={},D$e={};class vf{constructor(t,n,r,i){this.type=t,this.from=n,this.to=r,this.side=i}}const N$e="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~";let bP=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\u2010-\u2027]/;try{bP=new RegExp("[\\p{Pc}|\\p{Pd}|\\p{Pe}|\\p{Pf}|\\p{Pi}|\\p{Po}|\\p{Ps}]","u")}catch{}const JV={Escape(e,t,n){if(t!=92||n==e.end-1)return-1;let r=e.char(n+1);for(let i=0;i<N$e.length;i++)if(N$e.charCodeAt(i)==r)return e.append(or(rt.Escape,n,n+2));return-1},Entity(e,t,n){if(t!=38)return-1;let r=/^(?:#\d+|#x[a-f\d]+|\w+);/i.exec(e.slice(n+1,n+31));return r?e.append(or(rt.Entity,n,n+1+r[0].length)):-1},InlineCode(e,t,n){if(t!=96||n&&e.char(n-1)==96)return-1;let r=n+1;for(;r<e.end&&e.char(r)==96;)r++;let i=r-n,o=0;for(;r<e.end;r++)if(e.char(r)==96){if(o++,o==i&&e.char(r+1)!=96)return e.append(or(rt.InlineCode,n,r+1,[or(rt.CodeMark,n,n+i),or(rt.CodeMark,r+1-i,r+1)]))}else o=0;return-1},HTMLTag(e,t,n){if(t!=60||n==e.end-1)return-1;let r=e.slice(n+1,e.end),i=/^(?:[a-z][-\w+.]+:[^\s>]+|[a-z\d.!#$%&'*+/=?^_`{|}~-]+@[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?(?:\.[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)*)>/i.exec(r);if(i)return e.append(or(rt.URL,n,n+1+i[0].length));let o=/^!--[^>](?:-[^-]|[^-])*?-->/i.exec(r);if(o)return e.append(or(rt.Comment,n,n+1+o[0].length));let s=/^\?[^]*?\?>/.exec(r);if(s)return e.append(or(rt.ProcessingInstruction,n,n+1+s[0].length));let a=/^(?:![A-Z][^]*?>|!\[CDATA\[[^]*?\]\]>|\/\s*[a-zA-Z][\w-]*\s*>|\s*[a-zA-Z][\w-]*(\s+[a-zA-Z:_][\w-.:]*(?:\s*=\s*(?:[^\s"'=<>`]+|'[^']*'|"[^"]*"))?)*\s*(\/\s*)?>)/.exec(r);return a?e.append(or(rt.HTMLTag,n,n+1+a[0].length)):-1},Emphasis(e,t,n){if(t!=95&&t!=42)return-1;let r=n+1;for(;e.char(r)==t;)r++;let i=e.slice(n-1,n),o=e.slice(r,r+1),s=bP.test(i),a=bP.test(o),l=/\s|^$/.test(i),c=/\s|^$/.test(o),u=!c&&(!a||l||s),f=!l&&(!s||c||a),d=u&&(t==42||!f||s),h=f&&(t==42||!u||a);return e.append(new vf(t==95?QGe:BGe,n,r,(d?1:0)|(h?2:0)))},HardBreak(e,t,n){if(t==92&&e.char(n+1)==10)return e.append(or(rt.HardBreak,n,n+2));if(t==32){let r=n+1;for(;e.char(r)==32;)r++;if(e.char(r)==10&&r>=n+2)return e.append(or(rt.HardBreak,n,r+1))}return-1},Link(e,t,n){return t==91?e.append(new vf(U$,n,n+1,1)):-1},Image(e,t,n){return t==33&&e.char(n+1)==91?e.append(new vf(D$e,n,n+2,1)):-1},LinkEnd(e,t,n){if(t!=93)return-1;for(let r=e.parts.length-1;r>=0;r--){let i=e.parts[r];if(i instanceof vf&&(i.type==U$||i.type==D$e)){if(!i.side||e.skipSpace(i.to)==n&&!/[(\[]/.test(e.slice(n+1,n+2)))return e.parts[r]=null,-1;let o=e.takeContent(r),s=e.parts[r]=HEn(e,o,i.type==U$?rt.Link:rt.Image,i.from,n+1);if(i.type==U$)for(let a=0;a<r;a++){let l=e.parts[a];l instanceof vf&&l.type==U$&&(l.side=0)}return s.to}}return-1}};function HEn(e,t,n,r,i){let{text:o}=e,s=e.char(i),a=i;if(t.unshift(or(rt.LinkMark,r,r+(n==rt.Image?2:1))),t.push(or(rt.LinkMark,i-1,i)),s==40){let l=e.skipSpace(i+1),c=WGe(o,l-e.offset,e.offset),u;c&&(l=e.skipSpace(c.to),u=VGe(o,l-e.offset,e.offset),u&&(l=e.skipSpace(u.to))),e.char(l)==41&&(t.push(or(rt.LinkMark,i,i+1)),a=l+1,c&&t.push(c),u&&t.push(u),t.push(or(rt.LinkMark,l,a)))}else if(s==91){let l=UGe(o,i-e.offset,e.offset,!1);l&&(t.push(l),a=l.to)}return or(n,r,a,t)}function WGe(e,t,n){if(e.charCodeAt(t)==60){for(let i=t+1;i<e.length;i++){let o=e.charCodeAt(i);if(o==62)return or(rt.URL,t+n,i+1+n);if(o==60||o==10)return!1}return null}else{let i=0,o=t;for(let s=!1;o<e.length;o++){let a=e.charCodeAt(o);if(Gu(a))break;if(s)s=!1;else if(a==40)i++;else if(a==41){if(!i)break;i--}else a==92&&(s=!0)}return o>t?or(rt.URL,t+n,o+n):o==e.length?null:!1}}function VGe(e,t,n){let r=e.charCodeAt(t);if(r!=39&&r!=34&&r!=40)return!1;let i=r==40?41:r;for(let o=t+1,s=!1;o<e.length;o++){let a=e.charCodeAt(o);if(s)s=!1;else{if(a==i)return or(rt.LinkTitle,t+n,o+1+n);a==92&&(s=!0)}}return null}function UGe(e,t,n,r){for(let i=!1,o=t+1,s=Math.min(e.length,o+999);o<s;o++){let a=e.charCodeAt(o);if(i)i=!1;else{if(a==93)return r?!1:or(rt.LinkLabel,t+n,o+1+n);if(r&&!Gu(a)&&(r=!1),a==91)return!1;a==92&&(i=!0)}}return null}class ZEn{constructor(t,n,r){this.parser=t,this.text=n,this.offset=r,this.parts=[]}char(t){return t>=this.end?-1:this.text.charCodeAt(t-this.offset)}get end(){return this.offset+this.text.length}slice(t,n){return this.text.slice(t-this.offset,n-this.offset)}append(t){return this.parts.push(t),t.to}addDelimiter(t,n,r,i,o){return this.append(new vf(t,n,r,(i?1:0)|(o?2:0)))}addElement(t){return this.append(t)}resolveMarkers(t){for(let r=t;r<this.parts.length;r++){let i=this.parts[r];if(!(i instanceof vf&&i.type.resolve&&i.side&2))continue;let o=i.type==QGe||i.type==BGe,s=i.to-i.from,a,l=r-1;for(;l>=t;l--){let g=this.parts[l];if(g instanceof vf&&g.side&1&&g.type==i.type&&!(o&&(i.side&1||g.side&2)&&(g.to-g.from+s)%3==0&&((g.to-g.from)%3||s%3))){a=g;break}}if(!a)continue;let c=i.type.resolve,u=[],f=a.from,d=i.to;if(o){let g=Math.min(2,a.to-a.from,s);f=a.to-g,d=i.from+g,c=g==1?"Emphasis":"StrongEmphasis"}a.type.mark&&u.push(this.elt(a.type.mark,f,a.to));for(let g=l+1;g<r;g++)this.parts[g]instanceof vP&&u.push(this.parts[g]),this.parts[g]=null;i.type.mark&&u.push(this.elt(i.type.mark,i.from,d));let h=this.elt(c,f,d,u);this.parts[l]=o&&a.from!=f?new vf(a.type,a.from,f,a.side):null,(this.parts[r]=o&&i.to!=d?new vf(i.type,d,i.to,i.side):null)?this.parts.splice(r,0,h):this.parts[r]=h}let n=[];for(let r=t;r<this.parts.length;r++){let i=this.parts[r];i instanceof vP&&n.push(i)}return n}findOpeningDelimiter(t){for(let n=this.parts.length-1;n>=0;n--){let r=this.parts[n];if(r instanceof vf&&r.type==t)return n}return null}takeContent(t){let n=this.resolveMarkers(t);return this.parts.length=t,n}skipSpace(t){return Yk(this.text,t-this.offset)+this.offset}elt(t,n,r,i){return typeof t=="string"?or(this.parser.getNodeType(t),n,r,i):new zGe(t,n)}}function JK(e,t){if(!t.length)return e;if(!e.length)return t;let n=e.slice(),r=0;for(let i of t){for(;r<n.length&&n[r].to<i.to;)r++;if(r<n.length&&n[r].from<i.from){let o=n[r];o instanceof vP&&(n[r]=new vP(o.type,o.from,o.to,JK(o.children,[i])))}else n.splice(r++,0,i)}return n}const GEn=[rt.CodeBlock,rt.ListItem,rt.OrderedList,rt.BulletList];class KEn{constructor(t,n){this.fragments=t,this.input=n,this.i=0,this.fragment=null,this.fragmentEnd=-1,this.cursor=null,t.length&&(this.fragment=t[this.i++])}nextFragment(){this.fragment=this.i<this.fragments.length?this.fragments[this.i++]:null,this.cursor=null,this.fragmentEnd=-1}moveTo(t,n){for(;this.fragment&&this.fragment.to<=t;)this.nextFragment();if(!this.fragment||this.fragment.from>(t?t-1:0))return!1;if(this.fragmentEnd<0){let o=this.fragment.to;for(;o>0&&this.input.read(o-1,o)!=`
`;)o--;this.fragmentEnd=o?o-1:0}let r=this.cursor;r||(r=this.cursor=this.fragment.tree.cursor(),r.firstChild());let i=t+this.fragment.offset;for(;r.to<=i;)if(!r.parent())return!1;for(;;){if(r.from>=i)return this.fragment.from<=n;if(!r.childAfter(i))return!1}}matches(t){let n=this.cursor.tree;return n&&n.prop(Yt.contextHash)==t}takeNodes(t){let n=this.cursor,r=this.fragment.offset,i=this.fragmentEnd-(this.fragment.openEnd?1:0),o=t.absoluteLineStart,s=o,a=t.block.children.length,l=s,c=a;for(;;){if(n.to-r>i){if(n.type.isAnonymous&&n.firstChild())continue;break}let u=qGe(n.from-r,t.ranges);if(n.to-r<=t.ranges[t.rangeI].to)t.addNode(n.tree,u);else{let f=new Qn(t.parser.nodeSet.types[rt.Paragraph],[],[],0,t.block.hashProp);t.reusePlaceholders.set(f,n.tree),t.addNode(f,u)}if(n.type.is("Block")&&(GEn.indexOf(n.type.id)<0?(s=n.to-r,a=t.block.children.length):(s=l,a=c,l=n.to-r,c=t.block.children.length)),!n.nextSibling())break}for(;t.block.children.length>a;)t.block.children.pop(),t.block.positions.pop();return s-o}}function qGe(e,t){let n=e;for(let r=1;r<t.length;r++){let i=t[r-1].to,o=t[r].from;i<e&&(n-=o-i)}return n}const JEn=Hb({"Blockquote/...":G.quote,HorizontalRule:G.contentSeparator,"ATXHeading1/... SetextHeading1/...":G.heading1,"ATXHeading2/... SetextHeading2/...":G.heading2,"ATXHeading3/...":G.heading3,"ATXHeading4/...":G.heading4,"ATXHeading5/...":G.heading5,"ATXHeading6/...":G.heading6,"Comment CommentBlock":G.comment,Escape:G.escape,Entity:G.character,"Emphasis/...":G.emphasis,"StrongEmphasis/...":G.strong,"Link/... Image/...":G.link,"OrderedList/... BulletList/...":G.list,"BlockQuote/...":G.quote,"InlineCode CodeText":G.monospace,URL:G.url,"HeaderMark HardBreak QuoteMark ListMark LinkMark EmphasisMark CodeMark":G.processingInstruction,"CodeInfo LinkLabel":G.labelName,LinkTitle:G.string,Paragraph:G.content}),ekn=new n9(new K_(jGe).extend(JEn),Object.keys(HN).map(e=>HN[e]),Object.keys(HN).map(e=>UEn[e]),Object.keys(HN),qEn,kGe,Object.keys(JV).map(e=>JV[e]),Object.keys(JV),[]);function tkn(e,t,n){let r=[];for(let i=e.firstChild,o=t;;i=i.nextSibling){let s=i?i.from:n;if(s>o&&r.push({from:o,to:s}),!i)break;o=i.to}return r}function nkn(e){let{codeParser:t,htmlParser:n}=e;return{wrap:Dre((i,o)=>{let s=i.type.id;if(t&&(s==rt.CodeBlock||s==rt.FencedCode)){let a="";if(s==rt.FencedCode){let c=i.node.getChild(rt.CodeInfo);c&&(a=o.read(c.from,c.to))}let l=t(a);if(l)return{parser:l,overlay:c=>c.type.id==rt.CodeText}}else if(n&&(s==rt.HTMLBlock||s==rt.HTMLTag))return{parser:n,overlay:tkn(i.node,i.from,i.to)};return null})}}const rkn={resolve:"Strikethrough",mark:"StrikethroughMark"},ikn={defineNodes:[{name:"Strikethrough",style:{"Strikethrough/...":G.strikethrough}},{name:"StrikethroughMark",style:G.processingInstruction}],parseInline:[{name:"Strikethrough",parse(e,t,n){if(t!=126||e.char(n+1)!=126||e.char(n+2)==126)return-1;let r=e.slice(n-1,n),i=e.slice(n+2,n+3),o=/\s|^$/.test(r),s=/\s|^$/.test(i),a=bP.test(r),l=bP.test(i);return e.addDelimiter(rkn,n,n+2,!s&&(!l||o||a),!o&&(!a||s||l))},after:"Emphasis"}]};function Xk(e,t,n=0,r,i=0){let o=0,s=!0,a=-1,l=-1,c=!1,u=()=>{r.push(e.elt("TableCell",i+a,i+l,e.parser.parseInline(t.slice(a,l),i+a)))};for(let f=n;f<t.length;f++){let d=t.charCodeAt(f);d==124&&!c?((!s||a>-1)&&o++,s=!1,r&&(a>-1&&u(),r.push(e.elt("TableDelimiter",f+i,f+i+1))),a=l=-1):(c||d!=32&&d!=9)&&(a<0&&(a=f),l=f+1),c=!c&&d==92}return a>-1&&(o++,r&&u()),o}function M$e(e,t){for(let n=t;n<e.length;n++){let r=e.charCodeAt(n);if(r==124)return!0;r==92&&n++}return!1}const YGe=/^\|?(\s*:?-+:?\s*\|)+(\s*:?-+:?\s*)?$/;class I$e{constructor(){this.rows=null}nextLine(t,n,r){if(this.rows==null){this.rows=!1;let i;if((n.next==45||n.next==58||n.next==124)&&YGe.test(i=n.text.slice(n.pos))){let o=[];Xk(t,r.content,0,o,r.start)==Xk(t,i,n.pos)&&(this.rows=[t.elt("TableHeader",r.start,r.start+r.content.length,o),t.elt("TableDelimiter",t.lineStart+n.pos,t.lineStart+n.text.length)])}}else if(this.rows){let i=[];Xk(t,n.text,n.pos,i,t.lineStart),this.rows.push(t.elt("TableRow",t.lineStart+n.pos,t.lineStart+n.text.length,i))}return!1}finish(t,n){return this.rows?(t.addLeafElement(n,t.elt("Table",n.start,n.start+n.content.length,this.rows)),!0):!1}}const okn={defineNodes:[{name:"Table",block:!0},{name:"TableHeader",style:{"TableHeader/...":G.heading}},"TableRow",{name:"TableCell",style:G.content},{name:"TableDelimiter",style:G.processingInstruction}],parseBlock:[{name:"Table",leaf(e,t){return M$e(t.content,0)?new I$e:null},endLeaf(e,t,n){if(n.parsers.some(i=>i instanceof I$e)||!M$e(t.text,t.basePos))return!1;let r=e.scanLine(e.absoluteLineEnd+1).text;return YGe.test(r)&&Xk(e,t.text,t.basePos)==Xk(e,r,t.basePos)},before:"SetextHeading"}]};class skn{nextLine(){return!1}finish(t,n){return t.addLeafElement(n,t.elt("Task",n.start,n.start+n.content.length,[t.elt("TaskMarker",n.start,n.start+3),...t.parser.parseInline(n.content.slice(3),n.start+3)])),!0}}const akn={defineNodes:[{name:"Task",block:!0,style:G.list},{name:"TaskMarker",style:G.atom}],parseBlock:[{name:"TaskList",leaf(e,t){return/^\[[ xX]\][ \t]/.test(t.content)&&e.parentType().name=="ListItem"?new skn:null},after:"SetextHeading"}]},L$e=/(www\.)|(https?:\/\/)|([\w.+-]+@)|(mailto:|xmpp:)/gy,j$e=/[\w-]+(\.[\w-]+)+(\/[^\s<]*)?/gy,lkn=/[\w-]+\.[\w-]+($|\/)/,F$e=/[\w.+-]+@[\w-]+(\.[\w.-]+)+/gy,z$e=/\/[a-zA-Z\d@.]+/gy;function Q$e(e,t,n,r){let i=0;for(let o=t;o<n;o++)e[o]==r&&i++;return i}function ckn(e,t){j$e.lastIndex=t;let n=j$e.exec(e);if(!n||lkn.exec(n[0])[0].indexOf("_")>-1)return-1;let r=t+n[0].length;for(;;){let i=e[r-1],o;if(/[?!.,:*_~]/.test(i)||i==")"&&Q$e(e,t,r,")")>Q$e(e,t,r,"("))r--;else if(i==";"&&(o=/&(?:#\d+|#x[a-f\d]+|\w+);$/.exec(e.slice(t,r))))r=t+o.index;else break}return r}function B$e(e,t){F$e.lastIndex=t;let n=F$e.exec(e);if(!n)return-1;let r=n[0][n[0].length-1];return r=="_"||r=="-"?-1:t+n[0].length-(r=="."?1:0)}const ukn={parseInline:[{name:"Autolink",parse(e,t,n){let r=n-e.offset;L$e.lastIndex=r;let i=L$e.exec(e.text),o=-1;return!i||(i[1]||i[2]?o=ckn(e.text,r+i[0].length):i[3]?o=B$e(e.text,r):(o=B$e(e.text,r+i[0].length),o>-1&&i[0]=="xmpp:"&&(z$e.lastIndex=o,i=z$e.exec(e.text),i&&(o=i.index+i[0].length))),o<0)?-1:(e.addElement(e.elt("URL",n,o+e.offset)),o+e.offset)}}]},fkn=[okn,akn,ikn,ukn];function XGe(e,t,n){return(r,i,o)=>{if(i!=e||r.char(o+1)==e)return-1;let s=[r.elt(n,o,o+1)];for(let a=o+1;a<r.end;a++){let l=r.char(a);if(l==e)return r.addElement(r.elt(t,o,a+1,s.concat(r.elt(n,a,a+1))));if(l==92&&s.push(r.elt("Escape",a,a+++2)),Gu(l))break}return-1}}const dkn={defineNodes:[{name:"Superscript",style:G.special(G.content)},{name:"SuperscriptMark",style:G.processingInstruction}],parseInline:[{name:"Superscript",parse:XGe(94,"Superscript","SuperscriptMark")}]},hkn={defineNodes:[{name:"Subscript",style:G.special(G.content)},{name:"SubscriptMark",style:G.processingInstruction}],parseInline:[{name:"Subscript",parse:XGe(126,"Subscript","SubscriptMark")}]},pkn={defineNodes:[{name:"Emoji",style:G.character}],parseInline:[{name:"Emoji",parse(e,t,n){let r;return t!=58||!(r=/^[a-zA-Z_0-9]+:/.exec(e.slice(n+1,e.end)))?-1:e.addElement(e.elt("Emoji",n,n+1+r[0].length))}}]},gkn=54,mkn=1,ykn=55,vkn=2,bkn=56,Okn=3,W$e=4,xkn=5,cF=6,HGe=7,ZGe=8,GGe=9,KGe=10,wkn=11,Skn=12,_kn=13,eU=57,Ckn=14,V$e=58,JGe=20,$kn=22,eKe=23,Ekn=24,eJ=26,tKe=27,kkn=28,Tkn=31,Pkn=34,Rkn=36,Akn=37,Dkn=0,Nkn=1,Mkn={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},Ikn={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},U$e={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function Lkn(e){return e==45||e==46||e==58||e>=65&&e<=90||e==95||e>=97&&e<=122||e>=161}function nKe(e){return e==9||e==10||e==13||e==32}let q$e=null,Y$e=null,X$e=0;function tJ(e,t){let n=e.pos+t;if(X$e==n&&Y$e==e)return q$e;let r=e.peek(t);for(;nKe(r);)r=e.peek(++t);let i="";for(;Lkn(r);)i+=String.fromCharCode(r),r=e.peek(++t);return Y$e=e,X$e=n,q$e=i?i.toLowerCase():r==jkn||r==Fkn?void 0:null}const rKe=60,uF=62,gfe=47,jkn=63,Fkn=33,zkn=45;function H$e(e,t){this.name=e,this.parent=t,this.hash=t?t.hash:0;for(let n=0;n<e.length;n++)this.hash+=(this.hash<<4)+e.charCodeAt(n)+(e.charCodeAt(n)<<8)}const Qkn=[cF,KGe,HGe,ZGe,GGe],Bkn=new koe({start:null,shift(e,t,n,r){return Qkn.indexOf(t)>-1?new H$e(tJ(r,1)||"",e):e},reduce(e,t){return t==JGe&&e?e.parent:e},reuse(e,t,n,r){let i=t.type.id;return i==cF||i==Rkn?new H$e(tJ(r,1)||"",e):e},hash(e){return e?e.hash:0},strict:!1}),Wkn=new tc((e,t)=>{if(e.next!=rKe){e.next<0&&t.context&&e.acceptToken(eU);return}e.advance();let n=e.next==gfe;n&&e.advance();let r=tJ(e,0);if(r===void 0)return;if(!r)return e.acceptToken(n?Ckn:cF);let i=t.context?t.context.name:null;if(n){if(r==i)return e.acceptToken(wkn);if(i&&Ikn[i])return e.acceptToken(eU,-2);if(t.dialectEnabled(Dkn))return e.acceptToken(Skn);for(let o=t.context;o;o=o.parent)if(o.name==r)return;e.acceptToken(_kn)}else{if(r=="script")return e.acceptToken(HGe);if(r=="style")return e.acceptToken(ZGe);if(r=="textarea")return e.acceptToken(GGe);if(Mkn.hasOwnProperty(r))return e.acceptToken(KGe);i&&U$e[i]&&U$e[i][r]?e.acceptToken(eU,-1):e.acceptToken(cF)}},{contextual:!0}),Vkn=new tc(e=>{for(let t=0,n=0;;n++){if(e.next<0){n&&e.acceptToken(V$e);break}if(e.next==zkn)t++;else if(e.next==uF&&t>=2){n>=3&&e.acceptToken(V$e,-2);break}else t=0;e.advance()}});function Ukn(e){for(;e;e=e.parent)if(e.name=="svg"||e.name=="math")return!0;return!1}const qkn=new tc((e,t)=>{if(e.next==gfe&&e.peek(1)==uF){let n=t.dialectEnabled(Nkn)||Ukn(t.context);e.acceptToken(n?xkn:W$e,2)}else e.next==uF&&e.acceptToken(W$e,1)});function mfe(e,t,n){let r=2+e.length;return new tc(i=>{for(let o=0,s=0,a=0;;a++){if(i.next<0){a&&i.acceptToken(t);break}if(o==0&&i.next==rKe||o==1&&i.next==gfe||o>=2&&o<r&&i.next==e.charCodeAt(o-2))o++,s++;else if((o==2||o==r)&&nKe(i.next))s++;else if(o==r&&i.next==uF){a>s?i.acceptToken(t,-s):i.acceptToken(n,-(s-2));break}else if((i.next==10||i.next==13)&&a){i.acceptToken(t,1);break}else o=s=0;i.advance()}})}const Ykn=mfe("script",gkn,mkn),Xkn=mfe("style",ykn,vkn),Hkn=mfe("textarea",bkn,Okn),Zkn=Hb({"Text RawText":G.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":G.angleBracket,TagName:G.tagName,"MismatchedCloseTag/TagName":[G.tagName,G.invalid],AttributeName:G.attributeName,"AttributeValue UnquotedAttributeValue":G.attributeValue,Is:G.definitionOperator,"EntityReference CharacterReference":G.character,Comment:G.blockComment,ProcessingInst:G.processingInstruction,DoctypeDecl:G.documentMeta}),Gkn=ub.deserialize({version:14,states:",xOVO!rOOO!WQ#tO'#CqO!]Q#tO'#CzO!bQ#tO'#C}O!gQ#tO'#DQO!lQ#tO'#DSO!qOaO'#CpO!|ObO'#CpO#XOdO'#CpO$eO!rO'#CpOOO`'#Cp'#CpO$lO$fO'#DTO$tQ#tO'#DVO$yQ#tO'#DWOOO`'#Dk'#DkOOO`'#DY'#DYQVO!rOOO%OQ&rO,59]O%WQ&rO,59fO%`Q&rO,59iO%hQ&rO,59lO%sQ&rO,59nOOOa'#D^'#D^O%{OaO'#CxO&WOaO,59[OOOb'#D_'#D_O&`ObO'#C{O&kObO,59[OOOd'#D`'#D`O&sOdO'#DOO'OOdO,59[OOO`'#Da'#DaO'WO!rO,59[O'_Q#tO'#DROOO`,59[,59[OOOp'#Db'#DbO'dO$fO,59oOOO`,59o,59oO'lQ#|O,59qO'qQ#|O,59rOOO`-E7W-E7WO'vQ&rO'#CsOOQW'#DZ'#DZO(UQ&rO1G.wOOOa1G.w1G.wO(^Q&rO1G/QOOOb1G/Q1G/QO(fQ&rO1G/TOOOd1G/T1G/TO(nQ&rO1G/WOOO`1G/W1G/WOOO`1G/Y1G/YO(yQ&rO1G/YOOOa-E7[-E7[O)RQ#tO'#CyOOO`1G.v1G.vOOOb-E7]-E7]O)WQ#tO'#C|OOOd-E7^-E7^O)]Q#tO'#DPOOO`-E7_-E7_O)bQ#|O,59mOOOp-E7`-E7`OOO`1G/Z1G/ZOOO`1G/]1G/]OOO`1G/^1G/^O)gQ,UO,59_OOQW-E7X-E7XOOOa7+$c7+$cOOOb7+$l7+$lOOOd7+$o7+$oOOO`7+$r7+$rOOO`7+$t7+$tO)rQ#|O,59eO)wQ#|O,59hO)|Q#|O,59kOOO`1G/X1G/XO*RO7[O'#CvO*dOMhO'#CvOOQW1G.y1G.yOOO`1G/P1G/POOO`1G/S1G/SOOO`1G/V1G/VOOOO'#D['#D[O*uO7[O,59bOOQW,59b,59bOOOO'#D]'#D]O+WOMhO,59bOOOO-E7Y-E7YOOQW1G.|1G.|OOOO-E7Z-E7Z",stateData:"+s~O!^OS~OUSOVPOWQOXROYTO[]O][O^^O`^Oa^Ob^Oc^Ox^O{_O!dZO~OfaO~OfbO~OfcO~OfdO~OfeO~O!WfOPlP!ZlP~O!XiOQoP!ZoP~O!YlORrP!ZrP~OUSOVPOWQOXROYTOZqO[]O][O^^O`^Oa^Ob^Oc^Ox^O!dZO~O!ZrO~P#dO![sO!euO~OfvO~OfwO~OS|OhyO~OS!OOhyO~OS!QOhyO~OS!SOT!TOhyO~OS!TOhyO~O!WfOPlX!ZlX~OP!WO!Z!XO~O!XiOQoX!ZoX~OQ!ZO!Z!XO~O!YlORrX!ZrX~OR!]O!Z!XO~O!Z!XO~P#dOf!_O~O![sO!e!aO~OS!bO~OS!cO~Oi!dOSgXhgXTgX~OS!fOhyO~OS!gOhyO~OS!hOhyO~OS!iOT!jOhyO~OS!jOhyO~Of!kO~Of!lO~Of!mO~OS!nO~Ok!qO!`!oO!b!pO~OS!rO~OS!sO~OS!tO~Oa!uOb!uOc!uO!`!wO!a!uO~Oa!xOb!xOc!xO!b!wO!c!xO~Oa!uOb!uOc!uO!`!{O!a!uO~Oa!xOb!xOc!xO!b!{O!c!xO~OT~bac!dx{!d~",goto:"%p!`PPPPPPPPPPPPPPPPPPPP!a!gP!mPP!yP!|#P#S#Y#]#`#f#i#l#r#x!aP!a!aP$O$U$l$r$x%O%U%[%bPPPPPPPP%hX^OX`pXUOX`pezabcde{}!P!R!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ}bQ!PcQ!RdQ!UeZ!e{}!P!R!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:67,context:Bkn,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,21,30,33,36,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,29,32,35,37,"OpenTag"],["group",-9,14,17,18,19,20,39,40,41,42,"Entity",16,"Entity TextContent",-3,28,31,34,"TextContent Entity"]],propSources:[Zkn],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|c`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bX`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UV`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pT`POv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!cpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({W`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!a`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!a`!cpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYkWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]``P!a`!cp!^^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebhSkWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXhSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vchS`P!a`!cpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!`h`P!cpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WihSkWc!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zbkWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOa!R!R7tP;=`<%l7S!Z8OYkWa!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{ihSkWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbhSkWa!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QchSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXhSa!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TakWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOb!R!RAwP;=`<%lAY!ZBRYkWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhhSkWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbhSkWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbhSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXhSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!bx`P!a`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYlhS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_khS`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_X`P!a`!cp!eQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZhSfQ`PkW!a`!cpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!a`!cpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!a`!cpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!a`!cp!dPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!a`!cpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!a`!cpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!a`!cpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!a`!cpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!a`!cpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!a`!cpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!a`!cpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!cpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO{PP!-nP;=`<%l!-Sq!-xS!cp{POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!a`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!a`{POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!a`!cp{POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!a`!cpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!a`!cpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!a`!cpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!a`!cpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!a`!cpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!a`!cpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!cpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOxPP!7TP;=`<%l!6Vq!7]V!cpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!cpxPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!a`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!a`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!a`xPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!a`!cpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!a`!cpxPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXiS`P!a`!cpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[Ykn,Xkn,Hkn,qkn,Wkn,Vkn,0,1,2,3,4,5],topRules:{Document:[0,15]},dialects:{noMatch:0,selfClosing:485},tokenPrec:487});function iKe(e,t){let n=Object.create(null);for(let r of e.getChildren(eKe)){let i=r.getChild(Ekn),o=r.getChild(eJ)||r.getChild(tKe);i&&(n[t.read(i.from,i.to)]=o?o.type.id==eJ?t.read(o.from+1,o.to-1):t.read(o.from,o.to):"")}return n}function Z$e(e,t){let n=e.getChild($kn);return n?t.read(n.from,n.to):" "}function tU(e,t,n){let r;for(let i of n)if(!i.attrs||i.attrs(r||(r=iKe(e.node.parent.firstChild,t))))return{parser:i.parser};return null}function oKe(e=[],t=[]){let n=[],r=[],i=[],o=[];for(let a of e)(a.tag=="script"?n:a.tag=="style"?r:a.tag=="textarea"?i:o).push(a);let s=t.length?Object.create(null):null;for(let a of t)(s[a.name]||(s[a.name]=[])).push(a);return Dre((a,l)=>{let c=a.type.id;if(c==kkn)return tU(a,l,n);if(c==Tkn)return tU(a,l,r);if(c==Pkn)return tU(a,l,i);if(c==JGe&&o.length){let u=a.node,f=u.firstChild,d=f&&Z$e(f,l),h;if(d){for(let p of o)if(p.tag==d&&(!p.attrs||p.attrs(h||(h=iKe(u,l))))){let g=u.lastChild,y=g.type.id==Akn?g.from:u.to;if(y>f.to)return{parser:p.parser,overlay:[{from:f.to,to:y}]}}}}if(s&&c==eKe){let u=a.node,f;if(f=u.firstChild){let d=s[l.read(f.from,f.to)];if(d)for(let h of d){if(h.tagName&&h.tagName!=Z$e(u.parent,l))continue;let p=u.lastChild;if(p.type.id==eJ){let g=p.from+1,y=p.lastChild,v=p.to-(y&&y.isError?0:1);if(v>g)return{parser:h.parser,overlay:[{from:g,to:v}]}}else if(p.type.id==tKe)return{parser:h.parser,overlay:[{from:p.from,to:p.to}]}}}}return null})}const Kkn=96,G$e=1,Jkn=97,eTn=98,K$e=2,sKe=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],tTn=58,nTn=40,aKe=95,rTn=91,FI=45,iTn=46,oTn=35,sTn=37,aTn=38,lTn=92,cTn=10;function fF(e){return e>=65&&e<=90||e>=97&&e<=122||e>=161}function uTn(e){return e>=48&&e<=57}const fTn=new tc((e,t)=>{for(let n=!1,r=0,i=0;;i++){let{next:o}=e;if(fF(o)||o==FI||o==aKe||n&&uTn(o))!n&&(o!=FI||i>0)&&(n=!0),r===i&&o==FI&&r++,e.advance();else if(o==lTn&&e.peek(1)!=cTn)e.advance(),e.next>-1&&e.advance(),n=!0;else{n&&e.acceptToken(o==nTn?Jkn:r==2&&t.canShift(K$e)?K$e:eTn);break}}}),dTn=new tc(e=>{if(sKe.includes(e.peek(-1))){let{next:t}=e;(fF(t)||t==aKe||t==oTn||t==iTn||t==rTn||t==tTn||t==FI||t==aTn)&&e.acceptToken(Kkn)}}),hTn=new tc(e=>{if(!sKe.includes(e.peek(-1))){let{next:t}=e;if(t==sTn&&(e.advance(),e.acceptToken(G$e)),fF(t)){do e.advance();while(fF(e.next));e.acceptToken(G$e)}}}),pTn=Hb({"AtKeyword import charset namespace keyframes media supports":G.definitionKeyword,"from to selector":G.keyword,NamespaceName:G.namespace,KeyframeName:G.labelName,KeyframeRangeName:G.operatorKeyword,TagName:G.tagName,ClassName:G.className,PseudoClassName:G.constant(G.className),IdName:G.labelName,"FeatureName PropertyName":G.propertyName,AttributeName:G.attributeName,NumberLiteral:G.number,KeywordQuery:G.keyword,UnaryQueryOp:G.operatorKeyword,"CallTag ValueName":G.atom,VariableName:G.variableName,Callee:G.operatorKeyword,Unit:G.unit,"UniversalSelector NestingSelector":G.definitionOperator,MatchOp:G.compareOperator,"ChildOp SiblingOp, LogicOp":G.logicOperator,BinOp:G.arithmeticOperator,Important:G.modifier,Comment:G.blockComment,ColorLiteral:G.color,"ParenthesizedContent StringLiteral":G.string,":":G.punctuation,"PseudoOp #":G.derefOperator,"; ,":G.separator,"( )":G.paren,"[ ]":G.squareBracket,"{ }":G.brace}),gTn={__proto__:null,lang:32,"nth-child":32,"nth-last-child":32,"nth-of-type":32,"nth-last-of-type":32,dir:32,"host-context":32,url:60,"url-prefix":60,domain:60,regexp:60,selector:134},mTn={__proto__:null,"@import":114,"@media":138,"@charset":142,"@namespace":146,"@keyframes":152,"@supports":164},yTn={__proto__:null,not:128,only:128},vTn=ub.deserialize({version:14,states:"9bQYQ[OOO#_Q[OOP#fOWOOOOQP'#Cd'#CdOOQP'#Cc'#CcO#kQ[O'#CfO$_QXO'#CaO$fQ[O'#ChO$qQ[O'#DPO$vQ[O'#DTOOQP'#Ej'#EjO${QdO'#DeO%gQ[O'#DrO${QdO'#DtO%xQ[O'#DvO&TQ[O'#DyO&]Q[O'#EPO&kQ[O'#EROOQS'#Ei'#EiOOQS'#EU'#EUQYQ[OOO&rQXO'#CdO'gQWO'#DaO'lQWO'#EpO'wQ[O'#EpQOQWOOP(RO#tO'#C_POOO)C@X)C@XOOQP'#Cg'#CgOOQP,59Q,59QO#kQ[O,59QO(^Q[O'#EXO(xQWO,58{O)QQ[O,59SO$qQ[O,59kO$vQ[O,59oO(^Q[O,59sO(^Q[O,59uO(^Q[O,59vO)]Q[O'#D`OOQS,58{,58{OOQP'#Ck'#CkOOQO'#C}'#C}OOQP,59S,59SO)dQWO,59SO)iQWO,59SOOQP'#DR'#DROOQP,59k,59kOOQO'#DV'#DVO)nQ`O,59oOOQS'#Cp'#CpO${QdO'#CqO)vQvO'#CsO+TQtO,5:POOQO'#Cx'#CxO)iQWO'#CwO+iQWO'#CyOOQS'#Em'#EmOOQO'#Dh'#DhO+nQ[O'#DoO+|QWO'#EqO&]Q[O'#DmO,[QWO'#DpOOQO'#Er'#ErO({QWO,5:^O,aQpO,5:`OOQS'#Dx'#DxO,iQWO,5:bO,nQ[O,5:bOOQO'#D{'#D{O,vQWO,5:eO,{QWO,5:kO-TQWO,5:mOOQS-E8S-E8SO${QdO,59{O-]Q[O'#EZO-jQWO,5;[O-jQWO,5;[POOO'#ET'#ETP-uO#tO,58yPOOO,58y,58yOOQP1G.l1G.lO.lQXO,5:sOOQO-E8V-E8VOOQS1G.g1G.gOOQP1G.n1G.nO)dQWO1G.nO)iQWO1G.nOOQP1G/V1G/VO.yQ`O1G/ZO/dQXO1G/_O/zQXO1G/aO0bQXO1G/bO0xQWO,59zO0}Q[O'#DOO1UQdO'#CoOOQP1G/Z1G/ZO${QdO1G/ZO1]QpO,59]OOQS,59_,59_O${QdO,59aO1eQWO1G/kOOQS,59c,59cO1jQ!bO,59eO1rQWO'#DhO1}QWO,5:TO2SQWO,5:ZO&]Q[O,5:VO&]Q[O'#E[O2[QWO,5;]O2gQWO,5:XO(^Q[O,5:[OOQS1G/x1G/xOOQS1G/z1G/zOOQS1G/|1G/|O2xQWO1G/|O2}QdO'#D|OOQS1G0P1G0POOQS1G0V1G0VOOQS1G0X1G0XO3YQtO1G/gOOQO,5:u,5:uO3pQ[O,5:uOOQO-E8X-E8XO3}QWO1G0vPOOO-E8R-E8RPOOO1G.e1G.eOOQP7+$Y7+$YOOQP7+$u7+$uO${QdO7+$uOOQS1G/f1G/fO4YQXO'#EoO4aQWO,59jO4fQtO'#EVO5ZQdO'#ElO5eQWO,59ZO5jQpO7+$uOOQS1G.w1G.wOOQS1G.{1G.{OOQS7+%V7+%VO5rQWO1G/PO${QdO1G/oOOQO1G/u1G/uOOQO1G/q1G/qO5wQWO,5:vOOQO-E8Y-E8YO6VQXO1G/vOOQS7+%h7+%hO6^QYO'#CsOOQO'#EO'#EOO6iQ`O'#D}OOQO'#D}'#D}O6tQWO'#E]O6|QdO,5:hOOQS,5:h,5:hO7XQtO'#EYO${QdO'#EYO8VQdO7+%ROOQO7+%R7+%ROOQO1G0a1G0aO8jQpO<<HaO8rQWO,5;ZOOQP1G/U1G/UOOQS-E8T-E8TO${QdO'#EWO8zQWO,5;WOOQT1G.u1G.uOOQP<<Ha<<HaOOQS7+$k7+$kO9SQdO7+%ZOOQO7+%b7+%bOOQO,5:i,5:iO3QQdO'#E^O6tQWO,5:wOOQS,5:w,5:wOOQS-E8Z-E8ZOOQS1G0S1G0SO9ZQtO,5:tOOQS-E8W-E8WOOQO<<Hm<<HmOOQPAN={AN={O:XQdO,5:rOOQO-E8U-E8UOOQO<<Hu<<HuOOQO,5:x,5:xOOQO-E8[-E8[OOQS1G0c1G0c",stateData:":k~O#WOS#XQQ~OUYOXYO]VO^VOtWOxXO!YaO!ZZO!g[O!i]O!k^O!n_O!t`O#URO#_TO~OQfOUYOXYO]VO^VOtWOxXO!YaO!ZZO!g[O!i]O!k^O!n_O!t`O#UeO#_TO~O#R#dP~P!ZO#XjO~O#UlO~O]qO^qOpoOtrOxsO|tO!PvO#SuO#_nO~O!RwO~P#pO`}O#TzO#UyO~O#U!OO~O#U!QO~OQ!ZOb!TOf!ZOh!ZOn!YO#T!WO#U!SO#b!UO~Ob!]O!b!_O!e!`O#U![O!R#eP~Oh!eOn!YO#U!dO~Oh!gO#U!gO~Ob!]O!b!_O!e!`O#U![O~O!W#eP~P%gO]WX]!UX^WXpWXtWXxWX|WX!PWX!RWX#SWX#_WX~O]!lO~O!W!mO#R#dX!Q#dX~O#R#dX!Q#dX~P!ZO#Y!pO#Z!pO#[!rO~OUYOXYO]VO^VOtWOxXO#URO#_TO~OpoO!RwO~O`!yO#TzO#UyO~O!Q#dP~P!ZOb#QO~Ob#RO~Ov#SOz#TO~OP#VObgXjgX!WgX!bgX!egX#UgXagXQgXfgXhgXngXpgX!VgX#RgX#TgX#bgXvgX!QgX~Ob!]Oj#WO!b!_O!e!`O#U![O!W#eP~Ob#ZO~Ob!]O!b!_O!e!`O#U#[O~Op#`O!`#_O!R#eX!W#eX~Ob#cO~Oj#WO!W#eO~O!W#fO~Oh#gOn!YO~O!R#hO~O!RwO!`#_O~O!RwO!W#kO~O!W!}X#R!}X!Q!}X~P!ZO!W!mO#R#da!Q#da~O#Y!pO#Z!pO#[#rO~O]qO^qOtrOxsO|tO!PvO#SuO#_nO~Op!{a!R!{aa!{a~P.QOv#tOz#uO~O]qO^qOtrOxsO#_nO~Op{i|{i!P{i!R{i#S{ia{i~P/ROp}i|}i!P}i!R}i#S}ia}i~P/ROp!Oi|!Oi!P!Oi!R!Oi#S!Oia!Oi~P/RO!Q#vO~Oa#cP~P(^Oa#`P~P${Oa#}Oj#WO~O!W$PO~Oh$QOo$QO~O]!^Xa![X!`![X~O]$RO~Oa$SO!`#_O~Op#`O!R#ea!W#ea~O!`#_Op!aa!R!aa!W!aaa!aa~O!W$XO~O!Q$`O#U$ZO#b$YO~Oj#WOp$bO!V$dO!W!Ti#R!Ti!Q!Ti~P${O!W!}a#R!}a!Q!}a~P!ZO!W!mO#R#di!Q#di~Oa#cX~P#pOa$hO~Oj#WOQ!yXa!yXb!yXf!yXh!yXn!yXp!yX#T!yX#U!yX#b!yX~Op$jOa#`X~P${Oa$lO~Oj#WOv$mO~Oa$nO~O!`#_Op#Oa!R#Oa!W#Oa~Oa$pO~P.QOP#VOpgX!RgX~O#b$YOp!qX!R!qX~Op$rO!RwO~O!Q$vO#U$ZO#b$YO~Oj#WOQ!|Xb!|Xf!|Xh!|Xn!|Xp!|X!V!|X!W!|X#R!|X#T!|X#U!|X#b!|X!Q!|X~Op$bO!V$yO!W!Tq#R!Tq!Q!Tq~P${Oj#WOv$zO~OpoOa#ca~Op$jOa#`a~Oa$}O~P${Oj#WOQ!|ab!|af!|ah!|an!|ap!|a!V!|a!W!|a#R!|a#T!|a#U!|a#b!|a!Q!|a~Oa!zap!za~P${O#Wo#X#bj!P#b~",goto:"-Y#gPPP#hP#kP#t$TP#t$d#tPP$jPPP$p$y$yP%]P$yP$y%w&ZPPP&s&y#tP'PP#tP'VP#tP#t#tPPP']'r(PPP#kPP(W(W(b(WP(WP(W(WP#kP#kP#kP(e#kP(h(k(n(u#kP#kP(z)Q)a)o)u*P*V*a*g*mPPPPPPPPPP*s*|P+i+lP,b,e,k,tRkQ_bOPdhw!m#nkYOPdhotuvw!m#Q#c#nkSOPdhotuvw!m#Q#c#nQmTR!snQ{VR!wqQ!w}Q#Y!XR#s!yq!ZZ]!T!l#R#T#W#l#u#z$R$b$c$j$o${p!ZZ]!T!l#R#T#W#l#u#z$R$b$c$j$o${U$]#h$_$rR$q$[q!XZ]!T!l#R#T#W#l#u#z$R$b$c$j$o${p!ZZ]!T!l#R#T#W#l#u#z$R$b$c$j$o${Q!e^R#g!fQ|VR!xqQ!w|R#s!xQ!PWR!zrQ!RXR!{sQxUQ!vpQ#d!bQ#j!iQ#k!jQ$t$^R%Q$sSgPwQ!ohQ#m!mR$e#nZfPhw!m#na!a[`a!V!]!_#_#`R#]!]R!f^R!h_R#i!hS$^#h$_R%O$rV$[#h$_$rQ!qjR#q!qQdOShPwU!kdh#nR#n!mQ#z#RU$i#z$o${Q$o$RR${$jQ$k#zR$|$kQpUS!up$gR$g#wQ$c#lR$x$cQ!ngS#o!n#pR#p!oQ#a!^R$V#aQ$_#hR$u$_Q$s$^R%P$s_cOPdhw!m#n^UOPdhw!m#nQ!toQ!|tQ!}uQ#OvQ#w#QR$W#cR#{#RQ!VZQ!c]Q#U!TQ#l!l[#y#R#z$R$j$o${Q#|#TQ$O#WS$a#l$cQ$f#uR$w$bR#x#QQiPR#PwQ!b[Q!jaR#X!VU!^[a!VQ!i`Q#^!]Q#b!_Q$T#_R$U#`",nodeNames:" Unit VariableName Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee CallLiteral CallTag ParenthesizedContent , PseudoClassName ArgList IdSelector # IdName ] AttributeSelector [ AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp } { Block Declaration PropertyName Important ; ImportStatement AtKeyword import KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports AtRule Styles",maxTerm:114,nodeProps:[["openedBy",17,"(",48,"{"],["closedBy",18,")",49,"}"]],propSources:[pTn],skippedNodes:[0,3,85],repeatNodeCount:10,tokenData:"J^~R!^OX$}X^%u^p$}pq%uqr)Xrs.Rst/utu6duv$}vw7^wx7oxy9^yz9oz{9t{|:_|}?Q}!O?c!O!P@Q!P!Q@i!Q![Ab![!]B]!]!^CX!^!_$}!_!`Cj!`!aC{!a!b$}!b!cDw!c!}$}!}#OFa#O#P$}#P#QFr#Q#R6d#R#T$}#T#UGT#U#c$}#c#dHf#d#o$}#o#pH{#p#q6d#q#rI^#r#sIo#s#y$}#y#z%u#z$f$}$f$g%u$g#BY$}#BY#BZ%u#BZ$IS$}$IS$I_%u$I_$I|$}$I|$JO%u$JO$JT$}$JT$JU%u$JU$KV$}$KV$KW%u$KW&FU$}&FU&FV%u&FV;'S$};'S;=`JW<%lO$}`%QSOy%^z;'S%^;'S;=`%o<%lO%^`%cSo`Oy%^z;'S%^;'S;=`%o<%lO%^`%rP;=`<%l%^~%zh#W~OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^~'mh#W~o`OX%^X^'f^p%^pq'fqy%^z#y%^#y#z'f#z$f%^$f$g'f$g#BY%^#BY#BZ'f#BZ$IS%^$IS$I_'f$I_$I|%^$I|$JO'f$JO$JT%^$JT$JU'f$JU$KV%^$KV$KW'f$KW&FU%^&FU&FV'f&FV;'S%^;'S;=`%o<%lO%^l)[UOy%^z#]%^#]#^)n#^;'S%^;'S;=`%o<%lO%^l)sUo`Oy%^z#a%^#a#b*V#b;'S%^;'S;=`%o<%lO%^l*[Uo`Oy%^z#d%^#d#e*n#e;'S%^;'S;=`%o<%lO%^l*sUo`Oy%^z#c%^#c#d+V#d;'S%^;'S;=`%o<%lO%^l+[Uo`Oy%^z#f%^#f#g+n#g;'S%^;'S;=`%o<%lO%^l+sUo`Oy%^z#h%^#h#i,V#i;'S%^;'S;=`%o<%lO%^l,[Uo`Oy%^z#T%^#T#U,n#U;'S%^;'S;=`%o<%lO%^l,sUo`Oy%^z#b%^#b#c-V#c;'S%^;'S;=`%o<%lO%^l-[Uo`Oy%^z#h%^#h#i-n#i;'S%^;'S;=`%o<%lO%^l-uS!V[o`Oy%^z;'S%^;'S;=`%o<%lO%^~.UWOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o<%lO.R~.sOh~~.vRO;'S.R;'S;=`/P;=`O.R~/SXOY.RZr.Rrs.ns#O.R#O#P.s#P;'S.R;'S;=`/o;=`<%l.R<%lO.R~/rP;=`<%l.Rn/zYtQOy%^z!Q%^!Q![0j![!c%^!c!i0j!i#T%^#T#Z0j#Z;'S%^;'S;=`%o<%lO%^l0oYo`Oy%^z!Q%^!Q![1_![!c%^!c!i1_!i#T%^#T#Z1_#Z;'S%^;'S;=`%o<%lO%^l1dYo`Oy%^z!Q%^!Q![2S![!c%^!c!i2S!i#T%^#T#Z2S#Z;'S%^;'S;=`%o<%lO%^l2ZYf[o`Oy%^z!Q%^!Q![2y![!c%^!c!i2y!i#T%^#T#Z2y#Z;'S%^;'S;=`%o<%lO%^l3QYf[o`Oy%^z!Q%^!Q![3p![!c%^!c!i3p!i#T%^#T#Z3p#Z;'S%^;'S;=`%o<%lO%^l3uYo`Oy%^z!Q%^!Q![4e![!c%^!c!i4e!i#T%^#T#Z4e#Z;'S%^;'S;=`%o<%lO%^l4lYf[o`Oy%^z!Q%^!Q![5[![!c%^!c!i5[!i#T%^#T#Z5[#Z;'S%^;'S;=`%o<%lO%^l5aYo`Oy%^z!Q%^!Q![6P![!c%^!c!i6P!i#T%^#T#Z6P#Z;'S%^;'S;=`%o<%lO%^l6WSf[o`Oy%^z;'S%^;'S;=`%o<%lO%^d6gUOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^d7QSzSo`Oy%^z;'S%^;'S;=`%o<%lO%^b7cSXQOy%^z;'S%^;'S;=`%o<%lO%^~7rWOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W<%lO7o~8_RO;'S7o;'S;=`8h;=`O7o~8kXOY7oZw7owx.nx#O7o#O#P8[#P;'S7o;'S;=`9W;=`<%l7o<%lO7o~9ZP;=`<%l7on9cSb^Oy%^z;'S%^;'S;=`%o<%lO%^~9tOa~n9{UUQjWOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^n:fWjW!PQOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^l;TUo`Oy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^l;nYo`#b[Oy%^z!Q%^!Q![;g![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^l<cYo`Oy%^z{%^{|=R|}%^}!O=R!O!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=WUo`Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l=qUo`#b[Oy%^z!Q%^!Q![=j![;'S%^;'S;=`%o<%lO%^l>[[o`#b[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^n?VSp^Oy%^z;'S%^;'S;=`%o<%lO%^l?hWjWOy%^z!O%^!O!P;O!P!Q%^!Q![>T![;'S%^;'S;=`%o<%lO%^n@VU#_QOy%^z!Q%^!Q![;g![;'S%^;'S;=`%o<%lO%^~@nTjWOy%^z{@}{;'S%^;'S;=`%o<%lO%^~AUSo`#X~Oy%^z;'S%^;'S;=`%o<%lO%^lAg[#b[Oy%^z!O%^!O!P;g!P!Q%^!Q![>T![!g%^!g!h<^!h#X%^#X#Y<^#Y;'S%^;'S;=`%o<%lO%^bBbU]QOy%^z![%^![!]Bt!];'S%^;'S;=`%o<%lO%^bB{S^Qo`Oy%^z;'S%^;'S;=`%o<%lO%^nC^S!W^Oy%^z;'S%^;'S;=`%o<%lO%^dCoSzSOy%^z;'S%^;'S;=`%o<%lO%^bDQU|QOy%^z!`%^!`!aDd!a;'S%^;'S;=`%o<%lO%^bDkS|Qo`Oy%^z;'S%^;'S;=`%o<%lO%^bDzWOy%^z!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bEk[!YQo`Oy%^z}%^}!OEd!O!Q%^!Q![Ed![!c%^!c!}Ed!}#T%^#T#oEd#o;'S%^;'S;=`%o<%lO%^bFfSxQOy%^z;'S%^;'S;=`%o<%lO%^lFwSv[Oy%^z;'S%^;'S;=`%o<%lO%^bGWUOy%^z#b%^#b#cGj#c;'S%^;'S;=`%o<%lO%^bGoUo`Oy%^z#W%^#W#XHR#X;'S%^;'S;=`%o<%lO%^bHYS!`Qo`Oy%^z;'S%^;'S;=`%o<%lO%^bHiUOy%^z#f%^#f#gHR#g;'S%^;'S;=`%o<%lO%^fIQS!RUOy%^z;'S%^;'S;=`%o<%lO%^nIcS!Q^Oy%^z;'S%^;'S;=`%o<%lO%^fItU!PQOy%^z!_%^!_!`6y!`;'S%^;'S;=`%o<%lO%^`JZP;=`<%l$}",tokenizers:[dTn,hTn,fTn,1,2,3,4,new sL("m~RRYZ[z{a~~g~aO#Z~~dP!P!Qg~lO#[~~",28,102)],topRules:{StyleSheet:[0,4],Styles:[1,84]},specialized:[{term:97,get:e=>gTn[e]||-1},{term:56,get:e=>mTn[e]||-1},{term:98,get:e=>yTn[e]||-1}],tokenPrec:1169});let nU=null;function rU(){if(!nU&&typeof document=="object"&&document.body){let{style:e}=document.body,t=[],n=new Set;for(let r in e)r!="cssText"&&r!="cssFloat"&&typeof e[r]=="string"&&(/[A-Z]/.test(r)&&(r=r.replace(/[A-Z]/g,i=>"-"+i.toLowerCase())),n.has(r)||(t.push(r),n.add(r)));nU=t.sort().map(r=>({type:"property",label:r}))}return nU||[]}const J$e=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(e=>({type:"class",label:e})),eEe=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(e=>({type:"keyword",label:e})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(e=>({type:"constant",label:e}))),bTn=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(e=>({type:"type",label:e})),rm=/^(\w[\w-]*|-\w[\w-]*|)$/,OTn=/^-(-[\w-]*)?$/;function xTn(e,t){var n;if((e.name=="("||e.type.isError)&&(e=e.parent||e),e.name!="ArgList")return!1;let r=(n=e.parent)===null||n===void 0?void 0:n.firstChild;return(r==null?void 0:r.name)!="Callee"?!1:t.sliceString(r.from,r.to)=="var"}const tEe=new Are,wTn=["Declaration"];function STn(e){for(let t=e;;){if(t.type.isTop)return t;if(!(t=t.parent))return e}}function lKe(e,t,n){if(t.to-t.from>4096){let r=tEe.get(t);if(r)return r;let i=[],o=new Set,s=t.cursor(Dr.IncludeAnonymous);if(s.firstChild())do for(let a of lKe(e,s.node,n))o.has(a.label)||(o.add(a.label),i.push(a));while(s.nextSibling());return tEe.set(t,i),i}else{let r=[],i=new Set;return t.cursor().iterate(o=>{var s;if(n(o)&&o.matchContext(wTn)&&((s=o.node.nextSibling)===null||s===void 0?void 0:s.name)==":"){let a=e.sliceString(o.from,o.to);i.has(a)||(i.add(a),r.push({label:a,type:"variable"}))}}),r}}const cKe=e=>t=>{let{state:n,pos:r}=t,i=br(n).resolveInner(r,-1),o=i.type.isError&&i.from==i.to-1&&n.doc.sliceString(i.from,i.to)=="-";if(i.name=="PropertyName"||(o||i.name=="TagName")&&/^(Block|Styles)$/.test(i.resolve(i.to).name))return{from:i.from,options:rU(),validFor:rm};if(i.name=="ValueName")return{from:i.from,options:eEe,validFor:rm};if(i.name=="PseudoClassName")return{from:i.from,options:J$e,validFor:rm};if(e(i)||(t.explicit||o)&&xTn(i,n.doc))return{from:e(i)||o?i.from:r,options:lKe(n.doc,STn(i),e),validFor:OTn};if(i.name=="TagName"){for(let{parent:l}=i;l;l=l.parent)if(l.name=="Block")return{from:i.from,options:rU(),validFor:rm};return{from:i.from,options:bTn,validFor:rm}}if(!t.explicit)return null;let s=i.resolve(r),a=s.childBefore(r);return a&&a.name==":"&&s.name=="PseudoClassSelector"?{from:r,options:J$e,validFor:rm}:a&&a.name==":"&&s.name=="Declaration"||s.name=="ArgList"?{from:r,options:eEe,validFor:rm}:s.name=="Block"||s.name=="Styles"?{from:r,options:rU(),validFor:rm}:null},uKe=cKe(e=>e.name=="VariableName"),OP=tb.define({name:"css",parser:vTn.configure({props:[eC.add({Declaration:iI()}),R0.add({"Block KeyframeList":m2})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function fKe(){return new Jy(OP,OP.data.of({autocomplete:uKe}))}const _Tn=Object.freeze(Object.defineProperty({__proto__:null,css:fKe,cssCompletionSource:uKe,cssLanguage:OP,defineCSSCompletionSource:cKe},Symbol.toStringTag,{value:"Module"})),CTn=304,nEe=1,$Tn=2,ETn=305,kTn=307,TTn=308,PTn=3,RTn=4,ATn=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],dKe=125,DTn=59,rEe=47,NTn=42,MTn=43,ITn=45,LTn=new koe({start:!1,shift(e,t){return t==PTn||t==RTn||t==kTn?e:t==TTn},strict:!1}),jTn=new tc((e,t)=>{let{next:n}=e;(n==dKe||n==-1||t.context)&&e.acceptToken(ETn)},{contextual:!0,fallback:!0}),FTn=new tc((e,t)=>{let{next:n}=e,r;ATn.indexOf(n)>-1||n==rEe&&((r=e.peek(1))==rEe||r==NTn)||n!=dKe&&n!=DTn&&n!=-1&&!t.context&&e.acceptToken(CTn)},{contextual:!0}),zTn=new tc((e,t)=>{let{next:n}=e;if((n==MTn||n==ITn)&&(e.advance(),n==e.next)){e.advance();let r=!t.context&&t.canShift(nEe);e.acceptToken(r?nEe:$Tn)}},{contextual:!0}),QTn=Hb({"get set async static":G.modifier,"for while do if else switch try catch finally return throw break continue default case":G.controlKeyword,"in of await yield void typeof delete instanceof":G.operatorKeyword,"let var const using function class extends":G.definitionKeyword,"import export from":G.moduleKeyword,"with debugger as new":G.keyword,TemplateString:G.special(G.string),super:G.atom,BooleanLiteral:G.bool,this:G.self,null:G.null,Star:G.modifier,VariableName:G.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":G.function(G.variableName),VariableDefinition:G.definition(G.variableName),Label:G.labelName,PropertyName:G.propertyName,PrivatePropertyName:G.special(G.propertyName),"CallExpression/MemberExpression/PropertyName":G.function(G.propertyName),"FunctionDeclaration/VariableDefinition":G.function(G.definition(G.variableName)),"ClassDeclaration/VariableDefinition":G.definition(G.className),PropertyDefinition:G.definition(G.propertyName),PrivatePropertyDefinition:G.definition(G.special(G.propertyName)),UpdateOp:G.updateOperator,"LineComment Hashbang":G.lineComment,BlockComment:G.blockComment,Number:G.number,String:G.string,Escape:G.escape,ArithOp:G.arithmeticOperator,LogicOp:G.logicOperator,BitOp:G.bitwiseOperator,CompareOp:G.compareOperator,RegExp:G.regexp,Equals:G.definitionOperator,Arrow:G.function(G.punctuation),": Spread":G.punctuation,"( )":G.paren,"[ ]":G.squareBracket,"{ }":G.brace,"InterpolationStart InterpolationEnd":G.special(G.brace),".":G.derefOperator,", ;":G.separator,"@":G.meta,TypeName:G.typeName,TypeDefinition:G.definition(G.typeName),"type enum interface implements namespace module declare":G.definitionKeyword,"abstract global Privacy readonly override":G.modifier,"is keyof unique infer":G.operatorKeyword,JSXAttributeValue:G.attributeValue,JSXText:G.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":G.angleBracket,"JSXIdentifier JSXNameSpacedName":G.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":G.attributeName,"JSXBuiltin/JSXIdentifier":G.standard(G.tagName)}),BTn={__proto__:null,export:16,as:21,from:29,default:32,async:37,function:38,extends:48,this:52,true:60,false:60,null:72,void:76,typeof:80,super:98,new:132,delete:148,yield:157,await:161,class:166,public:223,private:223,protected:223,readonly:225,instanceof:244,satisfies:247,in:248,const:250,import:282,keyof:337,unique:341,infer:347,is:383,abstract:403,implements:405,type:407,let:410,var:412,using:415,interface:421,enum:425,namespace:431,module:433,declare:437,global:441,for:460,of:469,while:472,with:476,do:480,if:484,else:486,switch:490,case:496,try:502,catch:506,finally:510,return:514,throw:518,break:522,continue:526,debugger:530},WTn={__proto__:null,async:119,get:121,set:123,declare:183,public:185,private:185,protected:185,static:187,abstract:189,override:191,readonly:197,accessor:199,new:387},VTn={__proto__:null,"<":139},UTn=ub.deserialize({version:14,states:"$6zO%TQUOOO%[QUOOO'_QWOOP(lOSOOO*zQ(CjO'#CgO+ROpO'#ChO+aO!bO'#ChO+oO07`O'#D[O.QQUO'#DbO.bQUO'#DmO%[QUO'#DwO0fQUO'#EPOOQ(CY'#EX'#EXO1PQSO'#EUOOQO'#Ej'#EjOOQO'#Id'#IdO1XQSO'#GlO1dQSO'#EiO1iQSO'#EiO3kQ(CjO'#JeO6[Q(CjO'#JfO6xQSO'#FXO6}Q#tO'#FpOOQ(CY'#Fa'#FaO7YO&jO'#FaO7hQ,UO'#FwO9OQSO'#FvOOQ(CY'#Jf'#JfOOQ(CW'#Je'#JeO9TQSO'#GpOOQQ'#KQ'#KQO9`QSO'#IQO9eQ(C[O'#IROOQQ'#JR'#JROOQQ'#IV'#IVQ`QUOOO`QUOOO%[QUO'#DoO9mQUO'#D{O9tQUO'#D}O9ZQSO'#GlO9{Q,UO'#CmO:ZQSO'#EhO:fQSO'#EsO:kQ,UO'#F`O;YQSO'#GlOOQO'#KR'#KRO;_QSO'#KRO;mQSO'#GtO;mQSO'#GuO;mQSO'#GwO9ZQSO'#GzO<dQSO'#G}O={QSO'#CcO>]QSO'#HZO>eQSO'#HaO>eQSO'#HcO`QUO'#HeO>eQSO'#HgO>eQSO'#HjO>jQSO'#HpO>oQ(C]O'#HvO%[QUO'#HxO>zQ(C]O'#HzO?VQ(C]O'#H|O9eQ(C[O'#IOO?bQ(CjO'#CgO@dQWO'#DgQOQSOOO%[QUO'#D}O@zQSO'#EQO9{Q,UO'#EhOAVQSO'#EhOAbQ`O'#F`OOQQ'#Ce'#CeOOQ(CW'#Dl'#DlOOQ(CW'#Ji'#JiO%[QUO'#JiOOQO'#Jm'#JmOOQO'#Ia'#IaOBbQWO'#EaOOQ(CW'#E`'#E`OC^Q(C`O'#EaOChQWO'#ETOOQO'#Jl'#JlOC|QWO'#JmOEZQWO'#ETOChQWO'#EaPEhO?MpO'#C`POOO)CDp)CDpOOOO'#IW'#IWOEsOpO,59SOOQ(CY,59S,59SOOOO'#IX'#IXOFRO!bO,59SO%[QUO'#D^OOOO'#IZ'#IZOFaO07`O,59vOOQ(CY,59v,59vOFoQUO'#I[OGSQSO'#JgOIUQbO'#JgO+}QUO'#JgOI]QSO,59|OIsQSO'#EjOJQQSO'#JuOJ]QSO'#JtOJ]QSO'#JtOJeQSO,5;WOJjQSO'#JsOOQ(CY,5:X,5:XOJqQUO,5:XOLrQ(CjO,5:cOMcQSO,5:kOM|Q(C[O'#JrONTQSO'#JqO9TQSO'#JqONiQSO'#JqONqQSO,5;VONvQSO'#JqO!#OQbO'#JfOOQ(CY'#Cg'#CgO%[QUO'#EPO!#nQ`O,5:pOOQO'#Jn'#JnOOQO-E<b-E<bO9ZQSO,5=WO!$UQSO,5=WO!$ZQUO,5;TO!&^Q,UO'#EeO!'qQSO,5;TO!)ZQ,UO'#DqO!)bQUO'#DvO!)lQWO,5;^O!)tQWO,5;^O%[QUO,5;^OOQQ'#FP'#FPOOQQ'#FR'#FRO%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_OOQQ'#FV'#FVO!*SQUO,5;pOOQ(CY,5;u,5;uOOQ(CY,5;v,5;vO!,VQSO,5;vOOQ(CY,5;w,5;wO%[QUO'#IhO!,_Q(C[O,5<dO!&^Q,UO,5;_O!,|Q,UO,5;_O%[QUO,5;sO!-TQ#tO'#FfO!.QQ#tO'#JyO!-lQ#tO'#JyO!.XQ#tO'#JyOOQO'#Jy'#JyO!.mQ#tO,5<OOOOO,5<[,5<[O!/OQUO'#FrOOOO'#Ig'#IgO7YO&jO,5;{O!/VQ#tO'#FtOOQ(CY,5;{,5;{O!/vQ7[O'#CsOOQ(CY'#Cw'#CwO!0ZQSO'#CwO!0`O07`O'#C{O!0|Q,UO,5<aO!1TQSO,5<cO!2jQMhO'#GRO!2wQSO'#GSO!2|QSO'#GSO!3RQMhO'#GWO!4QQWO'#G[O!4sQ7[O'#J`OOQ(CY'#J`'#J`O!4}QSO'#J_O!5]QSO'#J^O!5eQSO'#CrOOQ(CY'#Cu'#CuOOQ(CY'#DP'#DPOOQ(CY'#DR'#DRO1SQSO'#DTO!'vQ,UO'#FyO!'vQ,UO'#F{O!5mQSO'#F}O!5rQSO'#GOO!2|QSO'#GUO!'vQ,UO'#GZO!5wQSO'#EkO!6fQSO,5<bOOQ(CW'#Cp'#CpO!6nQSO'#ElO!7hQWO'#EmOOQ(CW'#Js'#JsO!7oQ(C[O'#KSO9eQ(C[O,5=[O`QUO,5>lOOQQ'#JZ'#JZOOQQ,5>m,5>mOOQQ-E<T-E<TO!9qQ(CjO,5:ZO!<_Q(CjO,5:gO%[QUO,5:gO!>xQ(CjO,5:iOOQO,5@m,5@mO!?iQ,UO,5=WO!?wQ(C[O'#J[O9OQSO'#J[O!@YQ(C[O,59XO!@eQWO,59XO!@mQ,UO,59XO9{Q,UO,59XO!@xQSO,5;TO!AQQSO'#HYO!AfQSO'#KVO%[QUO,5;xO!7cQWO,5;zO!AnQSO,5=sO!AsQSO,5=sO!AxQSO,5=sO9eQ(C[O,5=sO;mQSO,5=cOOQO'#Cs'#CsO!BWQWO,5=`O!B`Q,UO,5=aO!BkQSO,5=cO!BpQ`O,5=fO!BxQSO'#KRO>jQSO'#HPO9ZQSO'#HRO!B}QSO'#HRO9{Q,UO'#HTO!CSQSO'#HTOOQQ,5=i,5=iO!CXQSO'#HUO!CjQSO'#CmO!CoQSO,58}O!CyQSO,58}O!FOQUO,58}OOQQ,58},58}O!F`Q(C[O,58}O%[QUO,58}O!HkQUO'#H]OOQQ'#H^'#H^OOQQ'#H_'#H_O`QUO,5=uO!IRQSO,5=uO`QUO,5={O`QUO,5=}O!IWQSO,5>PO`QUO,5>RO!I]QSO,5>UO!IbQUO,5>[OOQQ,5>b,5>bO%[QUO,5>bO9eQ(C[O,5>dOOQQ,5>f,5>fO!MlQSO,5>fOOQQ,5>h,5>hO!MlQSO,5>hOOQQ,5>j,5>jO!MqQWO'#DYO%[QUO'#JiO!N`QWO'#JiO!N}QWO'#DhO# `QWO'#DhO##qQUO'#DhO##xQSO'#JhO#$QQSO,5:RO#$VQSO'#EnO#$eQSO'#JvO#$mQSO,5;XO#$rQWO'#DhO#%PQWO'#ESOOQ(CY,5:l,5:lO%[QUO,5:lO#%WQSO,5:lO>jQSO,5;SO!@eQWO,5;SO!@mQ,UO,5;SO9{Q,UO,5;SO#%`QSO,5@TO#%eQ!LQO,5:pOOQO-E<_-E<_O#&kQ(C`O,5:{OChQWO,5:oO#&uQWO,5:oOChQWO,5:{O!@YQ(C[O,5:oOOQ(CW'#Ed'#EdOOQO,5:{,5:{O%[QUO,5:{O#'SQ(C[O,5:{O#'_Q(C[O,5:{O!@eQWO,5:oOOQO,5;R,5;RO#'mQ(C[O,5:{POOO'#IU'#IUP#(RO?MpO,58zPOOO,58z,58zOOOO-E<U-E<UOOQ(CY1G.n1G.nOOOO-E<V-E<VO#(^Q`O,59xOOOO-E<X-E<XOOQ(CY1G/b1G/bO#(cQbO,5>vO+}QUO,5>vOOQO,5>|,5>|O#(mQUO'#I[OOQO-E<Y-E<YO#(zQSO,5@RO#)SQbO,5@RO#)ZQSO,5@`OOQ(CY1G/h1G/hO%[QUO,5@aO#)cQSO'#IbOOQO-E<`-E<`O#)ZQSO,5@`OOQ(CW1G0r1G0rOOQ(CY1G/s1G/sOOQ(CY1G0V1G0VO%[QUO,5@^O#)wQ(C[O,5@^O#*YQ(C[O,5@^O#*aQSO,5@]O9TQSO,5@]O#*iQSO,5@]O#*wQSO'#IeO#*aQSO,5@]OOQ(CW1G0q1G0qO!)lQWO,5:rO!)wQWO,5:rOOQO,5:t,5:tO#+iQSO,5:tO#+qQ,UO1G2rO9ZQSO1G2rOOQ(CY1G0o1G0oO#,PQ(CjO1G0oO#-UQ(ChO,5;POOQ(CY'#GQ'#GQO#-rQ(CjO'#J`O!$ZQUO1G0oO#/zQ,UO'#JjO#0UQSO,5:]O#0ZQbO'#JkO%[QUO'#JkO#0eQSO,5:bOOQ(CY'#DY'#DYOOQ(CY1G0x1G0xO%[QUO1G0xOOQ(CY1G1b1G1bO#0jQSO1G0xO#3RQ(CjO1G0yO#3YQ(CjO1G0yO#5sQ(CjO1G0yO#5zQ(CjO1G0yO#8UQ(CjO1G0yO#8lQ(CjO1G0yO#;fQ(CjO1G0yO#;mQ(CjO1G0yO#>WQ(CjO1G0yO#>_Q(CjO1G0yO#@VQ(CjO1G0yO#CVQ$IUO'#CgO#ETQ$IUO1G1[O#E[Q$IUO'#JfO!,YQSO1G1bO#ElQ(CjO,5?SOOQ(CW-E<f-E<fO#F`Q(CjO1G0yOOQ(CY1G0y1G0yO#HkQ(CjO1G1_O#I_Q#tO,5<SO#IgQ#tO,5<TO#IoQ#tO'#FkO#JWQSO'#FjOOQO'#Jz'#JzOOQO'#If'#IfO#J]Q#tO1G1jOOQ(CY1G1j1G1jOOOO1G1u1G1uO#JnQ$IUO'#JeO#JxQSO,5<^O!*SQUO,5<^OOOO-E<e-E<eOOQ(CY1G1g1G1gO#J}QWO'#JyOOQ(CY,5<`,5<`O#KVQWO,5<`OOQ(CY,59c,59cO!&^Q,UO'#C}OOOO'#IY'#IYO#K[O07`O,59gOOQ(CY,59g,59gO%[QUO1G1{O!5rQSO'#IjO#KgQ,UO,5<tOOQ(CY,5<q,5<qOOQO'#Gg'#GgO!'vQ,UO,5=QOOQO'#Gi'#GiO!'vQ,UO,5=SO!&^Q,UO,5=UOOQO1G1}1G1}O#KnQ`O'#CpO#LRQ`O,5<mO#LYQSO'#J}O9ZQSO'#J}O#LhQSO,5<oO!'vQ,UO,5<nO#LmQSO'#GTO#LxQSO,5<nO#L}Q`O'#GQO#M[Q`O'#KOO#MfQSO'#KOO!&^Q,UO'#KOO#MkQSO,5<rO#MpQWO'#G]O!3{QWO'#G]O#NRQSO'#G_O#NWQSO'#GaO!2|QSO'#GdO#N]Q(C[O'#IlO#NhQWO,5<vOOQ(CY,5<v,5<vO#NoQWO'#G]O#N}QWO'#G^O$ VQWO'#G^OOQ(CY,5=V,5=VO!'vQ,UO,5?yO!'vQ,UO,5?yO$ [QSO'#ImO$ gQSO,5?xO$ oQSO,59^O$!`Q,UO,59oOOQ(CY,59o,59oO$#RQ,UO,5<eO$#tQ,UO,5<gO@[QSO,5<iOOQ(CY,5<j,5<jO$$OQSO,5<pO$$TQ,UO,5<uO$$eQSO'#JqO!$ZQUO1G1|O$$jQSO1G1|O9TQSO'#JtO9TQSO'#EnO%[QUO'#EnO9TQSO'#IoO$$oQ(C[O,5@nOOQQ1G2v1G2vOOQQ1G4W1G4WOOQ(CY1G/u1G/uO!,VQSO1G/uO$&tQ(CjO1G0ROOQQ1G2r1G2rO!&^Q,UO1G2rO%[QUO1G2rO$'eQSO1G2rO$'pQ,UO'#EeOOQ(CW,5?v,5?vO$'zQ(C[O,5?vOOQQ1G.s1G.sO!@YQ(C[O1G.sO!@eQWO1G.sO!@mQ,UO1G.sO$(]QSO1G0oO$(bQSO'#CgO$(mQSO'#KWO$(uQSO,5=tO$(zQSO'#KWO$)PQSO'#KWO$)_QSO'#IuO$)mQSO,5@qO$)uQbO1G1dOOQ(CY1G1f1G1fO9ZQSO1G3_O@[QSO1G3_O$)|QSO1G3_O$*RQSO1G3_OOQQ1G3_1G3_O!BkQSO1G2}O!&^Q,UO1G2zO$*WQSO1G2zOOQQ1G2{1G2{O!&^Q,UO1G2{O$*]QSO1G2{O$*eQWO'#GyOOQQ1G2}1G2}O!3{QWO'#IqO!BpQ`O1G3QOOQQ1G3Q1G3QOOQQ,5=k,5=kO$*mQ,UO,5=mO9ZQSO,5=mO#NWQSO,5=oO9OQSO,5=oO!@eQWO,5=oO!@mQ,UO,5=oO9{Q,UO,5=oO$*{QSO'#KUO$+WQSO,5=pOOQQ1G.i1G.iO$+]Q(C[O1G.iO@[QSO1G.iO$+hQSO1G.iO9eQ(C[O1G.iO$-mQbO,5@sO$-}QSO,5@sO9TQSO,5@sO$.YQUO,5=wO$.aQSO,5=wOOQQ1G3a1G3aO`QUO1G3aOOQQ1G3g1G3gOOQQ1G3i1G3iO>eQSO1G3kO$.fQUO1G3mO$2jQUO'#HlOOQQ1G3p1G3pO$2wQSO'#HrO>jQSO'#HtOOQQ1G3v1G3vO$3PQUO1G3vO9eQ(C[O1G3|OOQQ1G4O1G4OOOQ(CW'#GX'#GXO9eQ(C[O1G4QO9eQ(C[O1G4SO$7WQSO,5@TO!*SQUO,5;YO9TQSO,5;YO>jQSO,5:SO!*SQUO,5:SO!@eQWO,5:SO$7]Q$IUO,5:SOOQO,5;Y,5;YO$7gQWO'#I]O$7}QSO,5@SOOQ(CY1G/m1G/mO$8VQWO'#IcO$8aQSO,5@bOOQ(CW1G0s1G0sO# `QWO,5:SOOQO'#I`'#I`O$8iQWO,5:nOOQ(CY,5:n,5:nO#%ZQSO1G0WOOQ(CY1G0W1G0WO%[QUO1G0WOOQ(CY1G0n1G0nO>jQSO1G0nO!@eQWO1G0nO!@mQ,UO1G0nOOQ(CW1G5o1G5oO!@YQ(C[O1G0ZOOQO1G0g1G0gO%[QUO1G0gO$8pQ(C[O1G0gO$8{Q(C[O1G0gO!@eQWO1G0ZOChQWO1G0ZO$9ZQ(C[O1G0gOOQO1G0Z1G0ZO$9oQ(CjO1G0gPOOO-E<S-E<SPOOO1G.f1G.fOOOO1G/d1G/dO$9yQ`O,5<dO$:RQbO1G4bOOQO1G4h1G4hO%[QUO,5>vO$:]QSO1G5mO$:eQSO1G5zO$:mQbO1G5{O9TQSO,5>|O$:wQ(CjO1G5xO%[QUO1G5xO$;XQ(C[O1G5xO$;jQSO1G5wO$;jQSO1G5wO9TQSO1G5wO$;rQSO,5?PO9TQSO,5?POOQO,5?P,5?PO$<WQSO,5?PO$$eQSO,5?POOQO-E<c-E<cOOQO1G0^1G0^OOQO1G0`1G0`O!,YQSO1G0`OOQQ7+(^7+(^O!&^Q,UO7+(^O%[QUO7+(^O$<fQSO7+(^O$<qQ,UO7+(^O$=PQ(CjO,59oO$?XQ(CjO,5<eO$AdQ(CjO,5<gO$CoQ(CjO,5<uOOQ(CY7+&Z7+&ZO$FQQ(CjO7+&ZO$FtQ,UO'#I^O$GOQSO,5@UOOQ(CY1G/w1G/wO$GWQUO'#I_O$GeQSO,5@VO$GmQbO,5@VOOQ(CY1G/|1G/|O$GwQSO7+&dOOQ(CY7+&d7+&dO$G|Q$IUO,5:cO%[QUO7+&vO$HWQ$IUO,5:ZO$HeQ$IUO,5:gO$HoQ$IUO,5:iOOQ(CY7+&|7+&|OOQO1G1n1G1nOOQO1G1o1G1oO$HyQ#tO,5<VO!*SQUO,5<UOOQO-E<d-E<dOOQ(CY7+'U7+'UOOOO7+'a7+'aOOOO1G1x1G1xO$IUQSO1G1xOOQ(CY1G1z1G1zO$IZQ`O,59iOOOO-E<W-E<WOOQ(CY1G/R1G/RO$IbQ(CjO7+'gOOQ(CY,5?U,5?UO$JUQ`O,5?UOOQ(CY1G2`1G2`P!&^Q,UO'#IjPOQ(CY-E<h-E<hO$JtQ,UO1G2lO$KgQ,UO1G2nO$KqQ`O1G2pOOQ(CY1G2X1G2XO$KxQSO'#IiO$LWQSO,5@iO$LWQSO,5@iO$L`QSO,5@iO$LkQSO,5@iOOQO1G2Z1G2ZO$LyQ,UO1G2YO!'vQ,UO1G2YO$MZQMhO'#IkO$MkQSO,5@jO!&^Q,UO,5@jO$MsQ`O,5@jOOQ(CY1G2^1G2^OOQ(CW,5<w,5<wOOQ(CW,5<x,5<xO$$eQSO,5<xOCXQSO,5<xO!@eQWO,5<wOOQO'#G`'#G`O$M}QSO,5<yOOQ(CW,5<{,5<{O$$eQSO,5=OOOQO,5?W,5?WOOQO-E<j-E<jOOQ(CY1G2b1G2bO!3{QWO,5<wO$NVQSO,5<xO#NRQSO,5<yO!3{QWO,5<xO$NbQ,UO1G5eO$NlQ,UO1G5eOOQO,5?X,5?XOOQO-E<k-E<kOOQO1G.x1G.xO!7cQWO,59qO%[QUO,59qO$NyQSO1G2TO!'vQ,UO1G2[O% OQ(CjO7+'hOOQ(CY7+'h7+'hO!$ZQUO7+'hO% rQSO,5;YOOQ(CW,5?Z,5?ZOOQ(CW-E<m-E<mOOQ(CY7+%a7+%aO% wQ`O'#KPO#%ZQSO7+(^O%!RQbO7+(^O$<iQSO7+(^O%!YQ(ChO'#CgO%!mQ(ChO,5<|O%#_QSO,5<|OOQ(CW1G5b1G5bOOQQ7+$_7+$_O!@YQ(C[O7+$_O!@eQWO7+$_O!$ZQUO7+&ZO%#dQSO'#ItO%#{QSO,5@rOOQO1G3`1G3`O9ZQSO,5@rO%#{QSO,5@rO%$TQSO,5@rOOQO,5?a,5?aOOQO-E<s-E<sOOQ(CY7+'O7+'OO%$YQSO7+(yO9eQ(C[O7+(yO9ZQSO7+(yO@[QSO7+(yOOQQ7+(i7+(iO%$_Q(ChO7+(fO!&^Q,UO7+(fO%$iQ`O7+(gOOQQ7+(g7+(gO!&^Q,UO7+(gO%$pQSO'#KTO%${QSO,5=eOOQO,5?],5?]OOQO-E<o-E<oOOQQ7+(l7+(lO%&[QWO'#HSOOQQ1G3X1G3XO!&^Q,UO1G3XO%[QUO1G3XO%&cQSO1G3XO%&nQ,UO1G3XO9eQ(C[O1G3ZO#NWQSO1G3ZO9OQSO1G3ZO!@eQWO1G3ZO!@mQ,UO1G3ZO%&|QSO'#IsO%'bQSO,5@pO%'jQWO,5@pOOQ(CW1G3[1G3[OOQQ7+$T7+$TO@[QSO7+$TO9eQ(C[O7+$TO%'uQSO7+$TO%[QUO1G6_O%[QUO1G6`O%'zQ(C[O1G6_O%(UQUO1G3cO%(]QSO1G3cO%(bQUO1G3cOOQQ7+({7+({O9eQ(C[O7+)VO`QUO7+)XOOQQ'#KZ'#KZOOQQ'#Iv'#IvO%(iQUO,5>WOOQQ,5>W,5>WO%[QUO'#HmO%(vQSO'#HoOOQQ,5>^,5>^O9TQSO,5>^OOQQ,5>`,5>`OOQQ7+)b7+)bOOQQ7+)h7+)hOOQQ7+)l7+)lOOQQ7+)n7+)nO%({QWO1G5oO%)aQ$IUO1G0tO%)kQSO1G0tOOQO1G/n1G/nO%)vQ$IUO1G/nO>jQSO1G/nO!*SQUO'#DhOOQO,5>w,5>wOOQO-E<Z-E<ZOOQO,5>},5>}OOQO-E<a-E<aO!@eQWO1G/nOOQO-E<^-E<^OOQ(CY1G0Y1G0YOOQ(CY7+%r7+%rO#%ZQSO7+%rOOQ(CY7+&Y7+&YO>jQSO7+&YO!@eQWO7+&YOOQO7+%u7+%uO$9oQ(CjO7+&ROOQO7+&R7+&RO%[QUO7+&RO%*QQ(C[O7+&RO!@YQ(C[O7+%uO!@eQWO7+%uO%*]Q(C[O7+&RO%*kQ(CjO7++dO%[QUO7++dO%*{QSO7++cO%*{QSO7++cOOQO1G4k1G4kO9TQSO1G4kO%+TQSO1G4kOOQO7+%z7+%zO#%ZQSO<<KxO%!RQbO<<KxO%+cQSO<<KxOOQQ<<Kx<<KxO!&^Q,UO<<KxO%[QUO<<KxO%+kQSO<<KxO%+vQ(CjO1G2lO%.RQ(CjO1G2nO%0^Q(CjO1G2YO%2oQ,UO,5>xOOQO-E<[-E<[O%2yQbO,5>yO%[QUO,5>yOOQO-E<]-E<]O%3TQSO1G5qOOQ(CY<<JO<<JOO%3]Q$IUO1G0oO%5gQ$IUO1G0yO%5nQ$IUO1G0yO%7rQ$IUO1G0yO%7yQ$IUO1G0yO%9nQ$IUO1G0yO%:UQ$IUO1G0yO%<iQ$IUO1G0yO%<pQ$IUO1G0yO%>tQ$IUO1G0yO%>{Q$IUO1G0yO%@sQ$IUO1G0yO%AWQ(CjO<<JbO%B]Q$IUO1G0yO%DRQ$IUO'#J`O%FUQ$IUO1G1_O%FcQ$IUO1G0RO!*SQUO'#FmOOQO'#J{'#J{OOQO1G1q1G1qO%FmQSO1G1pO%FrQ$IUO,5?SOOOO7+'d7+'dOOOO1G/T1G/TOOQ(CY1G4p1G4pO!'vQ,UO7+([O%F|QSO,5?TO9ZQSO,5?TOOQO-E<g-E<gO%G[QSO1G6TO%G[QSO1G6TO%GdQSO1G6TO%GoQ,UO7+'tO%HPQ`O,5?VO%HZQSO,5?VO!&^Q,UO,5?VOOQO-E<i-E<iO%H`Q`O1G6UO%HjQSO1G6UOOQ(CW1G2d1G2dO$$eQSO1G2dOOQ(CW1G2c1G2cO%HrQSO1G2eO!&^Q,UO1G2eOOQ(CW1G2j1G2jO!@eQWO1G2cOCXQSO1G2dO%HwQSO1G2eO%IPQSO1G2dO!'vQ,UO7++POOQ(CY1G/]1G/]O%I[QSO1G/]OOQ(CY7+'o7+'oO%IaQ,UO7+'vO%IqQ(CjO<<KSOOQ(CY<<KS<<KSO%JeQSO1G0tO!&^Q,UO'#InO%JjQSO,5@kO!&^Q,UO1G2hOOQQ<<Gy<<GyO!@YQ(C[O<<GyO%JrQ(CjO<<IuOOQ(CY<<Iu<<IuOOQO,5?`,5?`O%KfQSO,5?`O%KkQSO,5?`OOQO-E<r-E<rO%KyQSO1G6^O%KyQSO1G6^O9ZQSO1G6^O@[QSO<<LeOOQQ<<Le<<LeO%LRQSO<<LeO9eQ(C[O<<LeOOQQ<<LQ<<LQO%$_Q(ChO<<LQOOQQ<<LR<<LRO%$iQ`O<<LRO%LWQWO'#IpO%LcQSO,5@oO!*SQUO,5@oOOQQ1G3P1G3PO%LkQUO'#JiOOQO'#Ir'#IrO9eQ(C[O'#IrO%LuQWO,5=nOOQQ,5=n,5=nO%L|QWO'#EaO%MbQSO7+(sO%MgQSO7+(sOOQQ7+(s7+(sO!&^Q,UO7+(sO%[QUO7+(sO%MoQSO7+(sOOQQ7+(u7+(uO9eQ(C[O7+(uO#NWQSO7+(uO9OQSO7+(uO!@eQWO7+(uO%MzQSO,5?_OOQO-E<q-E<qOOQO'#HV'#HVO%NVQSO1G6[O9eQ(C[O<<GoOOQQ<<Go<<GoO@[QSO<<GoO%N_QSO7++yO%NdQSO7++zO%[QUO7++yO%[QUO7++zOOQQ7+(}7+(}O%NiQSO7+(}O%NnQUO7+(}O%NuQSO7+(}OOQQ<<Lq<<LqOOQQ<<Ls<<LsOOQQ-E<t-E<tOOQQ1G3r1G3rO%NzQSO,5>XOOQQ,5>Z,5>ZO& PQSO1G3xO9TQSO7+&`O!*SQUO7+&`OOQO7+%Y7+%YO& UQ$IUO1G5{O>jQSO7+%YOOQ(CY<<I^<<I^OOQ(CY<<It<<ItO>jQSO<<ItOOQO<<Im<<ImO$9oQ(CjO<<ImO%[QUO<<ImOOQO<<Ia<<IaO!@YQ(C[O<<IaO& `Q(C[O<<ImO& kQ(CjO<= OO& {QSO<<N}OOQO7+*V7+*VO9TQSO7+*VOOQQANAdANAdO&!TQSOANAdO!&^Q,UOANAdO#%ZQSOANAdO%!RQbOANAdO%[QUOANAdO&!]Q(CjO7+'tO&$nQ(CjO7+'vO&'PQbO1G4eO&'ZQ$IUO7+&ZO&'hQ$IUO,59oO&)kQ$IUO,5<eO&+nQ$IUO,5<gO&-qQ$IUO,5<uO&/gQ$IUO7+'gO&/tQ$IUO7+'hO&0RQSO,5<XOOQO7+'[7+'[O&0WQ,UO<<KvOOQO1G4o1G4oO&0_QSO1G4oO&0jQSO1G4oO&0xQSO7++oO&0xQSO7++oO!&^Q,UO1G4qO&1QQ`O1G4qO&1[QSO7++pOOQ(CW7+(O7+(OO$$eQSO7+(PO&1dQ`O7+(POOQ(CW7+'}7+'}O$$eQSO7+(OO&1kQSO7+(PO!&^Q,UO7+(POCXQSO7+(OO&1pQ,UO<<NkOOQ(CY7+$w7+$wO&1zQ`O,5?YOOQO-E<l-E<lO&2UQ(ChO7+(SOOQQAN=eAN=eO9ZQSO1G4zOOQO1G4z1G4zO&2fQSO1G4zO&2kQSO7++xO&2kQSO7++xO9eQ(C[OANBPO@[QSOANBPOOQQANBPANBPOOQQANAlANAlOOQQANAmANAmO&2sQSO,5?[OOQO-E<n-E<nO&3OQ$IUO1G6ZO&5`QbO'#CgOOQO,5?^,5?^OOQO-E<p-E<pOOQQ1G3Y1G3YO%LkQUO,5<yOOQQ<<L_<<L_O!&^Q,UO<<L_O%MbQSO<<L_O&5jQSO<<L_O%[QUO<<L_OOQQ<<La<<LaO9eQ(C[O<<LaO#NWQSO<<LaO9OQSO<<LaO&5rQWO1G4yO&5}QSO7++vOOQQAN=ZAN=ZO9eQ(C[OAN=ZOOQQ<= e<= eOOQQ<= f<= fO&6VQSO<= eO&6[QSO<= fOOQQ<<Li<<LiO&6aQSO<<LiO&6fQUO<<LiOOQQ1G3s1G3sO>jQSO7+)dO&6mQSO<<IzO&6xQ$IUO<<IzOOQO<<Ht<<HtOOQ(CYAN?`AN?`OOQOAN?XAN?XO$9oQ(CjOAN?XOOQOAN>{AN>{O%[QUOAN?XOOQO<<Mq<<MqOOQQG27OG27OO!&^Q,UOG27OO#%ZQSOG27OO&7SQSOG27OO%!RQbOG27OO&7[Q$IUO<<JbO&7iQ$IUO1G2YO&9_Q$IUO1G2lO&;bQ$IUO1G2nO&=eQ$IUO<<KSO&=rQ$IUO<<IuOOQO1G1s1G1sO!'vQ,UOANAbOOQO7+*Z7+*ZO&>PQSO7+*ZO&>[QSO<= ZO&>dQ`O7+*]OOQ(CW<<Kk<<KkO$$eQSO<<KkOOQ(CW<<Kj<<KjO&>nQ`O<<KkO$$eQSO<<KjOOQO7+*f7+*fO9ZQSO7+*fO&>uQSO<= dOOQQG27kG27kO9eQ(C[OG27kO!*SQUO1G4vO&>}QSO7++uO%MbQSOANAyOOQQANAyANAyO!&^Q,UOANAyO&?VQSOANAyOOQQANA{ANA{O9eQ(C[OANA{O#NWQSOANA{OOQO'#HW'#HWOOQO7+*e7+*eOOQQG22uG22uOOQQANEPANEPOOQQANEQANEQOOQQANBTANBTO&?_QSOANBTOOQQ<<MO<<MOO!*SQUOAN?fOOQOG24sG24sO$9oQ(CjOG24sO#%ZQSOLD,jOOQQLD,jLD,jO!&^Q,UOLD,jO&?dQSOLD,jO&?lQ$IUO7+'tO&AbQ$IUO7+'vO&CWQ,UOG26|OOQO<<Mu<<MuOOQ(CWANAVANAVO$$eQSOANAVOOQ(CWANAUANAUOOQO<<NQ<<NQOOQQLD-VLD-VO&ChQ$IUO7+*bOOQQG27eG27eO%MbQSOG27eO!&^Q,UOG27eOOQQG27gG27gO9eQ(C[OG27gOOQQG27oG27oO&CrQ$IUOG25QOOQOLD*_LD*_OOQQ!$(!U!$(!UO#%ZQSO!$(!UO!&^Q,UO!$(!UO&C|Q(CjOG26|OOQ(CWG26qG26qOOQQLD-PLD-PO%MbQSOLD-POOQQLD-RLD-ROOQQ!)9Ep!)9EpO#%ZQSO!)9EpOOQQ!$(!k!$(!kOOQQ!.K;[!.K;[O&F_Q$IUOG26|O!*SQUO'#DwO1PQSO'#EUO&HTQbO'#JeO!*SQUO'#DoO&H[QUO'#D{O&HcQbO'#CgO&JyQbO'#CgO!*SQUO'#D}O&KZQUO,5;TO!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO'#IhO&M^QSO,5<dO&MfQ,UO,5;_O&NyQ,UO,5;_O!*SQUO,5;sO1SQSO'#DTO1SQSO'#DTO!&^Q,UO'#FyO&MfQ,UO'#FyO!&^Q,UO'#F{O&MfQ,UO'#F{O!&^Q,UO'#GZO&MfQ,UO'#GZO!*SQUO,5:gO!*SQUO,5@aO&KZQUO1G0oO' QQ$IUO'#CgO!*SQUO1G1{O!&^Q,UO,5=QO&MfQ,UO,5=QO!&^Q,UO,5=SO&MfQ,UO,5=SO!&^Q,UO,5<nO&MfQ,UO,5<nO&KZQUO1G1|O!*SQUO7+&vO!&^Q,UO1G2YO&MfQ,UO1G2YO!&^Q,UO1G2[O&MfQ,UO1G2[O&KZQUO7+'hO&KZQUO7+&ZO!&^Q,UOANAbO&MfQ,UOANAbO' [QSO'#EiO' aQSO'#EiO' iQSO'#FXO' nQSO'#EsO' sQSO'#JuO'!OQSO'#JsO'!ZQSO,5;TO'!`Q,UO,5<aO'!gQSO'#GSO'!lQSO'#GSO'!qQSO,5<bO'!yQSO,5;TO'#RQ$IUO1G1[O'#YQSO,5<nO'#_QSO,5<nO'#dQSO,5<pO'#iQSO,5<pO'#nQSO1G1|O'#sQSO1G0oO'#xQ,UO<<KvO'$PQ,UO<<KvO7hQ,UO'#FwO9OQSO'#FvOAVQSO'#EhO!*SQUO,5;pO!2|QSO'#GSO!2|QSO'#GSO!2|QSO'#GUO!2|QSO'#GUO!'vQ,UO7+([O!'vQ,UO7+([O$KqQ`O1G2pO$KqQ`O1G2pO!&^Q,UO,5=UO!&^Q,UO,5=U",stateData:"'%Y~O'oOS'pOSROS'qRQ~OPYOQYOW!VO_qObzOcyOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!YXO!duO!iZO!lYO!mYO!nYO!pvO!rwO!uxO!y]O#q!PO$R|O$VfO%a}O%c!QO%e!OO%f!OO%g!OO%j!RO%l!SO%o!TO%p!TO%r!UO&O!WO&U!XO&W!YO&Y!ZO&[![O&_!]O&e!^O&k!_O&m!`O&o!aO&q!bO&s!cO'vSO'xTO'{UO(TVO(c[O(piO~OUtO~P`OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'v!dO'xTO'{UO(TVO(c[O(piO~O_!vOm!nO}!oO!]!xO!^!uO!_!uO!y9rO!}!pO#O!pO#P!wO#Q!pO#R!pO#U!yO#V!yO'w!lO'xTO'{UO(W!mO(c!sO~O'q!zO~OPZXYZX_ZXlZXzZX{ZX}ZX!WZX!fZX!gZX!iZX!mZX#YZX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX'mZX(TZX(dZX(kZX(lZX~O!b${X~P(qO]!|O'x#OO'y!|O'z#OO~O]#PO'z#OO'{#OO'|#PO~Or#RO!P#SO(U#SO(V#UO~OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'v9vO'xTO'{UO(TVO(c[O(piO~O!V#YO!W#VO!T(ZP!T(hP~P+}O!X#bO~P`OPYOQYOb!jOc!iOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'xTO'{UO(TVO(c[O(piO~Oj#lO!V#hO!y]O#c#kO#d#hO'v9wO!h(eP~P.iO!i#nO'v#mO~O!u#rO!y]O%a#sO~O#e#tO~O!b#uO#e#tO~OP$]OY$dOl$QOz#yO{#zO}#{O!W$aO!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO#w$YO(TVO(d$ZO(k#|O(l#}O~O_(XX'm(XX'k(XX!h(XX!T(XX!Y(XX%b(XX!b(XX~P1qO#Y$eO#|$eOP(YXY(YXl(YXz(YX{(YX}(YX!W(YX!f(YX!i(YX!m(YX#h(YX#i(YX#j(YX#k(YX#l(YX#m(YX#n(YX#o(YX#p(YX#r(YX#t(YX#v(YX#w(YX(T(YX(d(YX(k(YX(l(YX!Y(YX%b(YX~O_(YX!g(YX'm(YX'k(YX!T(YX!h(YXp(YX!b(YX~P4XO#Y$eO~O$X$gO$Z$fO$b$lO~O!Y$mO$VfO$e$nO$g$pO~Oj%SOl$tOm$sOn$sOt%TOv%UOx%VO}${O!Y$|O!d%[O!i$xO#d%]O$R%YO$n%WO$p%XO$s%ZO'v$rO'xTO'{UO(P%RO(T$uOe(QP~O!i%^O~O}%aO!Y%bO'v%`O~O!b%fO~O_%gO'm%gO~O'w!lO~P%[O%g%nO~P%[O!i%^O'v%`O'w!lO(P%RO~Oc%uO!i%^O'v%`O~O#p$SO~Oz%zO!Y%wO!i%yO%c%}O'v%`O'w!lO'xTO'{UO^(yP~O!u#rO~O%l&PO}(uX!Y(uX'v(uX~O'v&QO~O!r&VO#q!PO%c!QO%e!OO%f!OO%g!OO%j!RO%l!SO%o!TO%p!TO~Ob&[Oc&ZO!u&XO%a&YO%t&WO~P;rOb&_OcyO!Y&^O!r&VO!uxO!y]O#q!PO%a}O%e!OO%f!OO%g!OO%j!RO%l!SO%o!TO%p!TO%r!UO~O`&bO#Y&eO%c&`O'w!lO~P<wO!i&fO!r&jO~O!i#nO~O!YXO~O_%gO'l&rO'm%gO~O_%gO'l&uO'm%gO~O_%gO'l&wO'm%gO~O'kZX!TZXpZX!hZX&SZX!YZX%bZX!bZX~P(qO!]'UO!^&}O!_&}O'w!lO'xTO'{UO~Om&{O}&zO!V'OO(W&yO!X([P!X(jP~P@OOh'XO!Y'VO'v%`O~Oc'^O!i%^O'v%`O~Oz%zO!i%yO~Om!nO}!oO!y9rO!}!pO#O!pO#Q!pO#R!pO'w!lO'xTO'{UO(W!mO(c!sO~O!]'dO!^'cO!_'cO#P!pO#U'eO#V'eO~PAjO_%gO!b#uO!i%^O'm%gO(P%RO(d'gO~O!m'kO#Y'iO~PBxOm!nO}!oO'xTO'{UO(W!mO(c!sO~O!YXOm(aX}(aX!](aX!^(aX!_(aX!y(aX!}(aX#O(aX#P(aX#Q(aX#R(aX#U(aX#V(aX'w(aX'x(aX'{(aX(W(aX(c(aX~O!^'cO!_'cO'w!lO~PChO'r'oO's'oO't'qO~O]!|O'x'sO'y!|O'z'sO~O]#PO'z'sO'{'sO'|#PO~Or#RO!P#SO(U#SO(V'wO~O!V'yO!T'OX!T'UX!W'OX!W'UX~P+}O!W'{O!T(ZX~OP$]OY$dOl$QOz#yO{#zO}#{O!W'{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO#w$YO(TVO(d$ZO(k#|O(l#}O~O!T(ZX~PG[O!T(QO~O!T(gX!W(gX!b(gX!h(gX(d(gX~O#Y(gX#e#^X!X(gX~PIbO#Y(RO!T(iX!W(iX~O!W(SO!T(hX~O!T(VO~O#Y$eO~PIbO!X(WO~P`Oz#yO{#zO}#{O!g#wO!i#xO(TVOP!kaY!kal!ka!W!ka!f!ka!m!ka#h!ka#i!ka#j!ka#k!ka#l!ka#m!ka#n!ka#o!ka#p!ka#r!ka#t!ka#v!ka#w!ka(d!ka(k!ka(l!ka~O_!ka'm!ka'k!ka!T!ka!h!kap!ka!Y!ka%b!ka!b!ka~PJxO!h(XO~O!b#uO#Y(YO(d'gO!W(fX_(fX'm(fX~O!h(fX~PMhO}%aO!Y%bO!y]O#c(_O#d(^O'v%`O~O!W(`O!h(eX~O!h(bO~O}%aO!Y%bO#d(^O'v%`O~OP(YXY(YXl(YXz(YX{(YX}(YX!W(YX!f(YX!g(YX!i(YX!m(YX#h(YX#i(YX#j(YX#k(YX#l(YX#m(YX#n(YX#o(YX#p(YX#r(YX#t(YX#v(YX#w(YX(T(YX(d(YX(k(YX(l(YX~O!b#uO!h(YX~P! UOz(cO{(dO!g#wO!i#xO!y!xa}!xa~O!u!xa%a!xa!Y!xa#c!xa#d!xa'v!xa~P!#YO!u(hO~OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!YXO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'v!dO'xTO'{UO(TVO(c[O(piO~Oj%SOl$tOm$sOn$sOt%TOv%UOx:[O}${O!Y$|O!d;fO!i$xO#d:bO$R%YO$n:^O$p:`O$s%ZO'v(lO'xTO'{UO(P%RO(T$uO~O#e(nO~Oj%SOl$tOm$sOn$sOt%TOv%UOx%VO}${O!Y$|O!d%[O!i$xO#d%]O$R%YO$n%WO$p%XO$s%ZO'v(lO'xTO'{UO(P%RO(T$uO~Oe(^P~P!'vO!V(rO!h(_P~P%[O(W(tO(c[O~O}(vO!i#xO(W(tO(c[O~OP9qOQ9qOb;bOc!iOjkOl9qOmkOnkOtkOv9qOx9qO}WO!RkO!SkO!Y!eO!d9tO!iZO!l9qO!m9qO!n9qO!p9uO!r9xO!u!hO$R!kO$VfO'v)UO'xTO'{UO(TVO(c[O(p;`O~O{)XO!i#xO~O!W$aO_$la'm$la'k$la!h$la!T$la!Y$la%b$la!b$la~O#q)]O~P!&^Oz)`O!b)_O!Y$YX$U$YX$X$YX$Z$YX$b$YX~O!b)_O!Y(mX$U(mX$X(mX$Z(mX$b(mX~Oz)`O~P!-lOz)`O!Y(mX$U(mX$X(mX$Z(mX$b(mX~O!Y)bO$U)fO$X)aO$Z)aO$b)gO~O!V)jO~P!*SO$X$gO$Z$fO$b)nO~Oh$tXz$tX}$tX!g$tX(k$tX(l$tX~OegXe$tXhgX!WgX#YgX~P!/bOm)pO~Or)qO(U)rO(V)tO~Oh)}Oz)vO})wO(k)yO(l){O~Oe)uO~P!0kOe*OO~Oj%SOl$tOm$sOn$sOt%TOv%UOx:[O}${O!Y$|O!d;fO!i$xO#d:bO$R%YO$n:^O$p:`O$s%ZO'xTO'{UO(P%RO(T$uO~O!V*SO'v*PO!h(qP~P!1YO#e*UO~O!i*VO~O!V*[O'v*XO!T(rP~P!1YOl*hO}*`O!]*fO!^*_O!_*_O!i*VO#U*gO%X*bO'w!lO(W!mO~O!X*eO~P!3`O!g#wOh(SXz(SX}(SX(k(SX(l(SX!W(SX#Y(SX~Oe(SX#z(SX~P!4XOh*kO#Y*jOe(RX!W(RX~O!W*lOe(QX~O'v&QOe(QP~O!i*sO~O'v(lO~Oj*wO}%aO!V#hO!Y%bO!y]O#c#kO#d#hO'v%`O!h(eP~O!b#uO#e*xO~O}%aO!V*zO!W(SO!Y%bO'v%`O!T(hP~Om'RO}*|O!V*{O'xTO'{UO(W(tO~O!X(jP~P!7SO!W*}O_(vX'm(vX~OP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO#w$YO(TVO(d$ZO(k#|O(l#}O~O_!ca!W!ca'm!ca'k!ca!T!ca!h!cap!ca!Y!ca%b!ca!b!ca~P!7zOz#yO{#zO}#{O!g#wO!i#xO(TVOP!oaY!oal!oa!W!oa!f!oa!m!oa#h!oa#i!oa#j!oa#k!oa#l!oa#m!oa#n!oa#o!oa#p!oa#r!oa#t!oa#v!oa#w!oa(d!oa(k!oa(l!oa~O_!oa'm!oa'k!oa!T!oa!h!oap!oa!Y!oa%b!oa!b!oa~P!:eOz#yO{#zO}#{O!g#wO!i#xO(TVOP!qaY!qal!qa!W!qa!f!qa!m!qa#h!qa#i!qa#j!qa#k!qa#l!qa#m!qa#n!qa#o!qa#p!qa#r!qa#t!qa#v!qa#w!qa(d!qa(k!qa(l!qa~O_!qa'm!qa'k!qa!T!qa!h!qap!qa!Y!qa%b!qa!b!qa~P!=OOh+WO!Y'VO%b+VO(P%RO~O!b+YO_(OX!Y(OX'm(OX!W(OX~O_%gO!YXO'm%gO~O!i%^O(P%RO~O!i%^O'v%`O(P%RO~O!b#uO#e(nO~O`+eO%c+fO'v+bO'xTO'{UO!X(zP~O!W+gO^(yX~OY+kO~O^+lO~O!Y%wO'v%`O'w!lO^(yP~O#Y+qO(P%RO~Oh+tO!Y$|O(P%RO~O!Y+vO~Oz+xO!YXO~O%g%nO~O!u+}O~Oc,SO~O`,TO'v#mO'xTO'{UO!X(xP~Oc%uO~O%c!QO'v&QO~P<wOY,YO^,XO~OPYOQYObzOcyOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!duO!iZO!lYO!mYO!nYO!pvO!uxO!y]O$VfO%a}O'xTO'{UO(TVO(c[O(piO~O!Y!eO!r!gO$R!kO'v!dO~P!DRO^,XO_%gO'm%gO~OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!u!hO$R!kO$VfO'v!dO'xTO'{UO(TVO(c[O(piO~O_,_O!rwO#q!OO%e!OO%f!OO%g!OO~P!FkO!i&fO~O&U,eO~O!Y,gO~O&g,iO&i,jOP&daQ&daW&da_&dab&dac&daj&dal&dam&dan&dat&dav&dax&da}&da!R&da!S&da!Y&da!d&da!i&da!l&da!m&da!n&da!p&da!r&da!u&da!y&da#q&da$R&da$V&da%a&da%c&da%e&da%f&da%g&da%j&da%l&da%o&da%p&da%r&da&O&da&U&da&W&da&Y&da&[&da&_&da&e&da&k&da&m&da&o&da&q&da&s&da'k&da'v&da'x&da'{&da(T&da(c&da(p&da!X&da&]&da`&da&b&da~O'v,oO~O!W|X!W!`X!X|X!X!`X!b|X!b!`X!i!`X#Y|X(P!`X~O!b,tO#Y,sO!W#bX!W(]X!X#bX!X(]X!b(]X!i(]X(P(]X~O!b,vO!i%^O(P%RO!W![X!X![X~Om!nO}!oO'xTO'{UO(W!mO~OP9qOQ9qOb;bOc!iOjkOl9qOmkOnkOtkOv9qOx9qO}WO!RkO!SkO!Y!eO!d9tO!iZO!l9qO!m9qO!n9qO!p9uO!r9xO!u!hO$R!kO$VfO'xTO'{UO(TVO(c[O(p;`O~O'v:gO~P# qO!W,zO!X([X~O!X,|O~O!b,tO#Y,sO!W#bX!X#bX~O!W,}O!X(jX~O!X-PO~O!^-QO!_-QO'w!lO~P# `O!X-TO~P'_Oh-WO!Y'VO~O!T-]O~Om!xa!]!xa!^!xa!_!xa!}!xa#O!xa#P!xa#Q!xa#R!xa#U!xa#V!xa'w!xa'x!xa'{!xa(W!xa(c!xa~P!#YO!m-bO#Y-`O~PBxO!^-dO!_-dO'w!lO~PChO_%gO#Y-`O'm%gO~O_%gO!b#uO#Y-`O'm%gO~O_%gO!b#uO!m-bO#Y-`O'm%gO(d'gO~O'r'oO's'oO't-iO~Op-jO~O!T'Oa!W'Oa~P!7zO!V-nO!T'OX!W'OX~P%[O!W'{O!T(Za~O!T(Za~PG[O!W(SO!T(ha~O}%aO!V-rO!Y%bO'v%`O!T'UX!W'UX~O#Y-tO!W(fa!h(fa_(fa'm(fa~O!b#uO~P#)wO!W(`O!h(ea~O}%aO!Y%bO#d-xO'v%`O~Oj-}O}%aO!V-zO!Y%bO!y]O#c-|O#d-zO'v%`O!W'XX!h'XX~O{.RO!i#xO~Oh.UO!Y'VO%b.TO(P%RO~O_#]i!W#]i'm#]i'k#]i!T#]i!h#]ip#]i!Y#]i%b#]i!b#]i~P!7zOh;lOz)vO})wO(k)yO(l){O~O#e#Xa_#Xa#Y#Xa'm#Xa!W#Xa!h#Xa!Y#Xa!T#Xa~P#,sO#e(SXP(SXY(SX_(SXl(SX{(SX!f(SX!i(SX!m(SX#h(SX#i(SX#j(SX#k(SX#l(SX#m(SX#n(SX#o(SX#p(SX#r(SX#t(SX#v(SX#w(SX'm(SX(T(SX(d(SX!h(SX!T(SX'k(SXp(SX!Y(SX%b(SX!b(SX~P!4XO!W._Oe(^X~P!0kOe.aO~O!W.bO!h(_X~P!7zO!h.eO~O!T.gO~OP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O(TVOY#gi_#gil#gi!W#gi!f#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi'm#gi(d#gi(k#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~O#h#gi~P#0oO#h$OO~P#0oOP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO(TVOY#gi_#gi!W#gi!f#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi'm#gi(d#gi(k#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~Ol#gi~P#3aOl$QO~P#3aOP$]Ol$QOz#yO{#zO}#{O!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO(TVO_#gi!W#gi#r#gi#t#gi#v#gi#w#gi'm#gi(d#gi(k#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~OY#gi!f#gi#m#gi#n#gi#o#gi#p#gi~P#6ROY$dO!f$SO#m$SO#n$SO#o$cO#p$SO~P#6ROP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO(TVO_#gi!W#gi#t#gi#v#gi#w#gi'm#gi(d#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~O(k#gi~P#9SO(k#|O~P#9SOP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO(TVO(k#|O_#gi!W#gi#v#gi#w#gi'm#gi(d#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~O(l#gi~P#;tO(l#}O~P#;tOP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO(TVO(k#|O(l#}O~O_#gi!W#gi#w#gi'm#gi(d#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~P#>fOPZXYZXlZXzZX{ZX}ZX!fZX!gZX!iZX!mZX#YZX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX(TZX(dZX(kZX(lZX!WZX!XZX~O#zZX~P#APOP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO#t:RO#v:TO#w:UO(TVO(d$ZO(k#|O(l#}O~O#z.iO~P#C^O#Y:ZO#|:ZO#z(YX!X(YX~P! UO_'[a!W'[a'm'[a'k'[a!h'[a!T'[ap'[a!Y'[a%b'[a!b'[a~P!7zOP#giY#gi_#gil#gi{#gi!W#gi!f#gi!g#gi!i#gi!m#gi#h#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi'm#gi(T#gi(d#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~P#,sO_#{i!W#{i'm#{i'k#{i!T#{i!h#{ip#{i!Y#{i%b#{i!b#{i~P!7zO$X.nO$Z.nO~O$X.oO$Z.oO~O!b)_O#Y.pO!Y$_X$U$_X$X$_X$Z$_X$b$_X~O!V.qO~O!Y)bO$U.sO$X)aO$Z)aO$b.tO~O!W:VO!X(XX~P#C^O!X.uO~O!b)_O$b(mX~O$b.wO~Or)qO(U)rO(V.zO~O!T/OO~P!&^O!WdX!bdX!hdX!h$tX(ddX~P!/bO!h/UO~P#,sO!W/VO!b#uO(d'gO!h(qX~O!h/[O~O!V*SO'v%`O!h(qP~O#e/^O~O!T$tX!W$tX!b${X~P!/bO!W/_O!T(rX~P#,sO!b/aO~O!T/cO~Ol/gO!b#uO!i%^O(P%RO(d'gO~O'v/iO~O!b+YO~O_%gO!W/mO'm%gO~O!X/oO~P!3`O!^/pO!_/pO'w!lO(W!mO~O}/rO(W!mO~O#U/sO~O'v&QOe'aX!W'aX~O!W*lOe(Qa~Oe/xO~Oz/yO{/yO}/zOhwa(kwa(lwa!Wwa#Ywa~Oewa#zwa~P$ tOz)vO})wOh$ma(k$ma(l$ma!W$ma#Y$ma~Oe$ma#z$ma~P$!jOz)vO})wOh$oa(k$oa(l$oa!W$oa#Y$oa~Oe$oa#z$oa~P$#]O#e/|O~Oe$}a!W$}a#Y$}a#z$}a~P!0kO!b#uO~O#e0PO~O!W*}O_(va'm(va~Oz#yO{#zO}#{O!g#wO!i#xO(TVOP!oiY!oil!oi!W!oi!f!oi!m!oi#h!oi#i!oi#j!oi#k!oi#l!oi#m!oi#n!oi#o!oi#p!oi#r!oi#t!oi#v!oi#w!oi(d!oi(k!oi(l!oi~O_!oi'm!oi'k!oi!T!oi!h!oip!oi!Y!oi%b!oi!b!oi~P$$zOh.UO!Y'VO%b.TO~Oj0ZO'v0YO~P!1]O!b+YO_(Oa!Y(Oa'm(Oa!W(Oa~O#e0aO~OYZX!WdX!XdX~O!W0bO!X(zX~O!X0dO~OY0eO~O`0gO'v+bO'xTO'{UO~O!Y%wO'v%`O^'iX!W'iX~O!W+gO^(ya~O!h0jO~P!7zOY0mO~O^0nO~O#Y0qO~Oh0tO!Y$|O~O(W(tO!X(wP~Oh0}O!Y0zO%b0|O(P%RO~OY1XO!W1VO!X(xX~O!X1YO~O^1[O_%gO'm%gO~O'v#mO'xTO'{UO~O#Y$eO#|$eOP(YXY(YXl(YXz(YX{(YX}(YX!W(YX!f(YX!i(YX!m(YX#h(YX#i(YX#j(YX#k(YX#l(YX#m(YX#n(YX#o(YX#r(YX#t(YX#v(YX#w(YX(T(YX(d(YX(k(YX(l(YX~O#p1_O&S1`O_(YX!g(YX~P$+sO#Y$eO#p1_O&S1`O~O_1bO~P%[O_1dO~O&]1gOP&ZiQ&ZiW&Zi_&Zib&Zic&Zij&Zil&Zim&Zin&Zit&Ziv&Zix&Zi}&Zi!R&Zi!S&Zi!Y&Zi!d&Zi!i&Zi!l&Zi!m&Zi!n&Zi!p&Zi!r&Zi!u&Zi!y&Zi#q&Zi$R&Zi$V&Zi%a&Zi%c&Zi%e&Zi%f&Zi%g&Zi%j&Zi%l&Zi%o&Zi%p&Zi%r&Zi&O&Zi&U&Zi&W&Zi&Y&Zi&[&Zi&_&Zi&e&Zi&k&Zi&m&Zi&o&Zi&q&Zi&s&Zi'k&Zi'v&Zi'x&Zi'{&Zi(T&Zi(c&Zi(p&Zi!X&Zi`&Zi&b&Zi~O`1mO!X1kO&b1lO~P`O!YXO!i1oO~O&i,jOP&diQ&diW&di_&dib&dic&dij&dil&dim&din&dit&div&dix&di}&di!R&di!S&di!Y&di!d&di!i&di!l&di!m&di!n&di!p&di!r&di!u&di!y&di#q&di$R&di$V&di%a&di%c&di%e&di%f&di%g&di%j&di%l&di%o&di%p&di%r&di&O&di&U&di&W&di&Y&di&[&di&_&di&e&di&k&di&m&di&o&di&q&di&s&di'k&di'v&di'x&di'{&di(T&di(c&di(p&di!X&di&]&di`&di&b&di~O!T1uO~O!W![a!X![a~P#C^Om!nO}!oO!V1{O(W!mO!W'PX!X'PX~P@OO!W,zO!X([a~O!W'VX!X'VX~P!7SO!W,}O!X(ja~O!X2SO~P'_O_%gO#Y2]O'm%gO~O_%gO!b#uO#Y2]O'm%gO~O_%gO!b#uO!m2aO#Y2]O'm%gO(d'gO~O_%gO'm%gO~P!7zO!W$aOp$la~O!T'Oi!W'Oi~P!7zO!W'{O!T(Zi~O!W(SO!T(hi~O!T(ii!W(ii~P!7zO!W(fi!h(fi_(fi'm(fi~P!7zO#Y2cO!W(fi!h(fi_(fi'm(fi~O!W(`O!h(ei~O}%aO!Y%bO!y]O#c2hO#d2gO'v%`O~O}%aO!Y%bO#d2gO'v%`O~Oh2oO!Y'VO%b2nO~Oh2oO!Y'VO%b2nO(P%RO~O#ewaPwaYwa_walwa!fwa!gwa!iwa!mwa#hwa#iwa#jwa#kwa#lwa#mwa#nwa#owa#pwa#rwa#twa#vwa#wwa'mwa(Twa(dwa!hwa!Twa'kwapwa!Ywa%bwa!bwa~P$ tO#e$maP$maY$ma_$mal$ma{$ma!f$ma!g$ma!i$ma!m$ma#h$ma#i$ma#j$ma#k$ma#l$ma#m$ma#n$ma#o$ma#p$ma#r$ma#t$ma#v$ma#w$ma'm$ma(T$ma(d$ma!h$ma!T$ma'k$map$ma!Y$ma%b$ma!b$ma~P$!jO#e$oaP$oaY$oa_$oal$oa{$oa!f$oa!g$oa!i$oa!m$oa#h$oa#i$oa#j$oa#k$oa#l$oa#m$oa#n$oa#o$oa#p$oa#r$oa#t$oa#v$oa#w$oa'm$oa(T$oa(d$oa!h$oa!T$oa'k$oap$oa!Y$oa%b$oa!b$oa~P$#]O#e$}aP$}aY$}a_$}al$}a{$}a!W$}a!f$}a!g$}a!i$}a!m$}a#h$}a#i$}a#j$}a#k$}a#l$}a#m$}a#n$}a#o$}a#p$}a#r$}a#t$}a#v$}a#w$}a'm$}a(T$}a(d$}a!h$}a!T$}a'k$}a#Y$}ap$}a!Y$}a%b$}a!b$}a~P#,sO_#]q!W#]q'm#]q'k#]q!T#]q!h#]qp#]q!Y#]q%b#]q!b#]q~P!7zOe'QX!W'QX~P!'vO!W._Oe(^a~O!V2wO!W'RX!h'RX~P%[O!W.bO!h(_a~O!W.bO!h(_a~P!7zO!T2zO~O#z!ka!X!ka~PJxO#z!ca!W!ca!X!ca~P#C^O#z!oa!X!oa~P!:eO#z!qa!X!qa~P!=OO!Y3^O$VfO$`3_O~O!X3cO~Op3dO~P#,sO_$iq!W$iq'm$iq'k$iq!T$iq!h$iqp$iq!Y$iq%b$iq!b$iq~P!7zO!T3eO~P#,sOz)vO})wO(l){Oh%Yi(k%Yi!W%Yi#Y%Yi~Oe%Yi#z%Yi~P$J]Oz)vO})wOh%[i(k%[i(l%[i!W%[i#Y%[i~Oe%[i#z%[i~P$KOO(d$ZO~P#,sO!V3hO'v%`O!W']X!h']X~O!W/VO!h(qa~O!W/VO!b#uO!h(qa~O!W/VO!b#uO(d'gO!h(qa~Oe$vi!W$vi#Y$vi#z$vi~P!0kO!V3pO'v*XO!T'_X!W'_X~P!1YO!W/_O!T(ra~O!W/_O!T(ra~P#,sO!b#uO#p3xO~Ol3{O!b#uO(d'gO~Oe(Ri!W(Ri~P!0kO#Y4OOe(Ri!W(Ri~P!0kO!h4RO~O_$jq!W$jq'm$jq'k$jq!T$jq!h$jqp$jq!Y$jq%b$jq!b$jq~P!7zO!T4VO~O!W4WO!Y(sX~P#,sO!g#wO~P4XO_$tX!Y$tX%VZX'm$tX!W$tX~P!/bO%V4YO_iXhiXziX}iX!YiX'miX(kiX(liX!WiX~O%V4YO~O`4`O%c4aO'v+bO'xTO'{UO!W'hX!X'hX~O!W0bO!X(za~OY4eO~O^4fO~O_%gO'm%gO~P#,sO!Y$|O~P#,sO!W4nO#Y4pO!X(wX~O!X4qO~Om!nO}4rO!]!xO!^!uO!_!uO!y9rO!}!pO#O!pO#P!pO#Q!pO#R!pO#U4wO#V!yO'w!lO'xTO'{UO(W!mO(c!sO~O!X4vO~P%%QOh4|O!Y0zO%b4{O~Oh4|O!Y0zO%b4{O(P%RO~O`5TO'v#mO'xTO'{UO!W'gX!X'gX~O!W1VO!X(xa~O'xTO'{UO(W5VO~O^5ZO~O#p5^O&S5_O~PMhO!h5`O~P%[O_5bO~O_5bO~P%[O`1mO!X5gO&b1lO~P`O!b5iO~O!b5kO!W(]i!X(]i!b(]i!i(]i(P(]i~O!W#bi!X#bi~P#C^O#Y5lO!W#bi!X#bi~O!W![i!X![i~P#C^O_%gO#Y5uO'm%gO~O_%gO!b#uO#Y5uO'm%gO~O!W(fq!h(fq_(fq'm(fq~P!7zO!W(`O!h(eq~O}%aO!Y%bO#d5|O'v%`O~O!Y'VO%b6PO~Oh6SO!Y'VO%b6PO~O#e%YiP%YiY%Yi_%Yil%Yi{%Yi!f%Yi!g%Yi!i%Yi!m%Yi#h%Yi#i%Yi#j%Yi#k%Yi#l%Yi#m%Yi#n%Yi#o%Yi#p%Yi#r%Yi#t%Yi#v%Yi#w%Yi'm%Yi(T%Yi(d%Yi!h%Yi!T%Yi'k%Yip%Yi!Y%Yi%b%Yi!b%Yi~P$J]O#e%[iP%[iY%[i_%[il%[i{%[i!f%[i!g%[i!i%[i!m%[i#h%[i#i%[i#j%[i#k%[i#l%[i#m%[i#n%[i#o%[i#p%[i#r%[i#t%[i#v%[i#w%[i'm%[i(T%[i(d%[i!h%[i!T%[i'k%[ip%[i!Y%[i%b%[i!b%[i~P$KOO#e$viP$viY$vi_$vil$vi{$vi!W$vi!f$vi!g$vi!i$vi!m$vi#h$vi#i$vi#j$vi#k$vi#l$vi#m$vi#n$vi#o$vi#p$vi#r$vi#t$vi#v$vi#w$vi'm$vi(T$vi(d$vi!h$vi!T$vi'k$vi#Y$vip$vi!Y$vi%b$vi!b$vi~P#,sOe'Qa!W'Qa~P!0kO!W'Ra!h'Ra~P!7zO!W.bO!h(_i~O#z#]i!W#]i!X#]i~P#C^OP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O(TVOY#gil#gi!f#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi#z#gi(d#gi(k#gi(l#gi!W#gi!X#gi~O#h#gi~P%3jO#h9zO~P%3jOP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O(TVOY#gi!f#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi#z#gi(d#gi(k#gi(l#gi!W#gi!X#gi~Ol#gi~P%5uOl9|O~P%5uOP$]Ol9|Oz#yO{#zO}#{O!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O(TVO#r#gi#t#gi#v#gi#w#gi#z#gi(d#gi(k#gi(l#gi!W#gi!X#gi~OY#gi!f#gi#m#gi#n#gi#o#gi#p#gi~P%8QOY:YO!f:OO#m:OO#n:OO#o:XO#p:OO~P%8QOP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO(TVO#t#gi#v#gi#w#gi#z#gi(d#gi(l#gi!W#gi!X#gi~O(k#gi~P%:lO(k#|O~P%:lOP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO#t:RO(TVO(k#|O#v#gi#w#gi#z#gi(d#gi!W#gi!X#gi~O(l#gi~P%<wO(l#}O~P%<wOP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO#t:RO#v:TO(TVO(k#|O(l#}O~O#w#gi#z#gi(d#gi!W#gi!X#gi~P%?SO_#xy!W#xy'm#xy'k#xy!T#xy!h#xyp#xy!Y#xy%b#xy!b#xy~P!7zOh;mOz)vO})wO(k)yO(l){O~OP#giY#gil#gi{#gi!f#gi!g#gi!i#gi!m#gi#h#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi#z#gi(T#gi(d#gi!W#gi!X#gi~P%AzO!g#wOP(SXY(SXh(SXl(SXz(SX{(SX}(SX!f(SX!i(SX!m(SX#h(SX#i(SX#j(SX#k(SX#l(SX#m(SX#n(SX#o(SX#p(SX#r(SX#t(SX#v(SX#w(SX#z(SX(T(SX(d(SX(k(SX(l(SX!W(SX!X(SX~O#z#{i!W#{i!X#{i~P#C^O#z!oi!X!oi~P$$zO!X6`O~O!W'[a!X'[a~P#C^O!b#uO(d'gO!W']a!h']a~O!W/VO!h(qi~O!W/VO!b#uO!h(qi~Oe$vq!W$vq#Y$vq#z$vq~P!0kO!T'_a!W'_a~P#,sO!b6gO~O!W/_O!T(ri~P#,sO!W/_O!T(ri~O!T6kO~O!b#uO#p6pO~Ol6qO!b#uO(d'gO~O!T6sO~Oe$xq!W$xq#Y$xq#z$xq~P!0kO_$jy!W$jy'm$jy'k$jy!T$jy!h$jyp$jy!Y$jy%b$jy!b$jy~P!7zO!b5kO~O!W4WO!Y(sa~O_#]y!W#]y'm#]y'k#]y!T#]y!h#]yp#]y!Y#]y%b#]y!b#]y~P!7zOY6xO~O`6zO'v+bO'xTO'{UO~O!W0bO!X(zi~O^7OO~O(W(tO!W'dX!X'dX~O!W4nO!X(wa~OjkO'v7VO~P.iO!X7YO~P%%QOm!nO}7ZO'xTO'{UO(W!mO(c!sO~O!Y0zO~O!Y0zO%b7]O~Oh7`O!Y0zO%b7]O~OY7eO!W'ga!X'ga~O!W1VO!X(xi~O!h7iO~O!h7jO~O!h7mO~O!h7mO~P%[O_7oO~O!b7pO~O!h7qO~O!W(ii!X(ii~P#C^O_%gO#Y7yO'm%gO~O!W(fy!h(fy_(fy'm(fy~P!7zO!W(`O!h(ey~O!Y'VO%b7|O~O#e$vqP$vqY$vq_$vql$vq{$vq!W$vq!f$vq!g$vq!i$vq!m$vq#h$vq#i$vq#j$vq#k$vq#l$vq#m$vq#n$vq#o$vq#p$vq#r$vq#t$vq#v$vq#w$vq'm$vq(T$vq(d$vq!h$vq!T$vq'k$vq#Y$vqp$vq!Y$vq%b$vq!b$vq~P#,sO#e$xqP$xqY$xq_$xql$xq{$xq!W$xq!f$xq!g$xq!i$xq!m$xq#h$xq#i$xq#j$xq#k$xq#l$xq#m$xq#n$xq#o$xq#p$xq#r$xq#t$xq#v$xq#w$xq'm$xq(T$xq(d$xq!h$xq!T$xq'k$xq#Y$xqp$xq!Y$xq%b$xq!b$xq~P#,sO!W'Ri!h'Ri~P!7zO#z#]q!W#]q!X#]q~P#C^Oz/yO{/yO}/zOPwaYwahwalwa!fwa!gwa!iwa!mwa#hwa#iwa#jwa#kwa#lwa#mwa#nwa#owa#pwa#rwa#twa#vwa#wwa#zwa(Twa(dwa(kwa(lwa!Wwa!Xwa~Oz)vO})wOP$maY$mah$mal$ma{$ma!f$ma!g$ma!i$ma!m$ma#h$ma#i$ma#j$ma#k$ma#l$ma#m$ma#n$ma#o$ma#p$ma#r$ma#t$ma#v$ma#w$ma#z$ma(T$ma(d$ma(k$ma(l$ma!W$ma!X$ma~Oz)vO})wOP$oaY$oah$oal$oa{$oa!f$oa!g$oa!i$oa!m$oa#h$oa#i$oa#j$oa#k$oa#l$oa#m$oa#n$oa#o$oa#p$oa#r$oa#t$oa#v$oa#w$oa#z$oa(T$oa(d$oa(k$oa(l$oa!W$oa!X$oa~OP$}aY$}al$}a{$}a!f$}a!g$}a!i$}a!m$}a#h$}a#i$}a#j$}a#k$}a#l$}a#m$}a#n$}a#o$}a#p$}a#r$}a#t$}a#v$}a#w$}a#z$}a(T$}a(d$}a!W$}a!X$}a~P%AzO#z$iq!W$iq!X$iq~P#C^O#z$jq!W$jq!X$jq~P#C^O!X8WO~O#z8XO~P!0kO!b#uO!W']i!h']i~O!b#uO(d'gO!W']i!h']i~O!W/VO!h(qq~O!T'_i!W'_i~P#,sO!W/_O!T(rq~O!T8_O~P#,sO!T8_O~Oe(Ry!W(Ry~P!0kO!W'ba!Y'ba~P#,sO_%Uq!Y%Uq'm%Uq!W%Uq~P#,sOY8dO~O!W0bO!X(zq~O#Y8hO!W'da!X'da~O!W4nO!X(wi~P#C^OPZXYZXlZXzZX{ZX}ZX!TZX!WZX!fZX!gZX!iZX!mZX#YZX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX(TZX(dZX(kZX(lZX~O!b%SX#p%SX~P&3YO!Y0zO%b8lO~O'xTO'{UO(W8qO~O!W1VO!X(xq~O!h8tO~O!h8uO~O!h8vO~O!h8vO~P%[O#Y8yO!W#by!X#by~O!W#by!X#by~P#C^O!Y'VO%b9OO~O#z#xy!W#xy!X#xy~P#C^OP$viY$vil$vi{$vi!f$vi!g$vi!i$vi!m$vi#h$vi#i$vi#j$vi#k$vi#l$vi#m$vi#n$vi#o$vi#p$vi#r$vi#t$vi#v$vi#w$vi#z$vi(T$vi(d$vi!W$vi!X$vi~P%AzOz)vO})wO(l){OP%YiY%Yih%Yil%Yi{%Yi!f%Yi!g%Yi!i%Yi!m%Yi#h%Yi#i%Yi#j%Yi#k%Yi#l%Yi#m%Yi#n%Yi#o%Yi#p%Yi#r%Yi#t%Yi#v%Yi#w%Yi#z%Yi(T%Yi(d%Yi(k%Yi!W%Yi!X%Yi~Oz)vO})wOP%[iY%[ih%[il%[i{%[i!f%[i!g%[i!i%[i!m%[i#h%[i#i%[i#j%[i#k%[i#l%[i#m%[i#n%[i#o%[i#p%[i#r%[i#t%[i#v%[i#w%[i#z%[i(T%[i(d%[i(k%[i(l%[i!W%[i!X%[i~O#z$jy!W$jy!X$jy~P#C^O#z#]y!W#]y!X#]y~P#C^O!b#uO!W']q!h']q~O!W/VO!h(qy~O!T'_q!W'_q~P#,sO!T9VO~P#,sO!W0bO!X(zy~O!W4nO!X(wq~O!Y0zO%b9^O~O!h9aO~O!Y'VO%b9fO~OP$vqY$vql$vq{$vq!f$vq!g$vq!i$vq!m$vq#h$vq#i$vq#j$vq#k$vq#l$vq#m$vq#n$vq#o$vq#p$vq#r$vq#t$vq#v$vq#w$vq#z$vq(T$vq(d$vq!W$vq!X$vq~P%AzOP$xqY$xql$xq{$xq!f$xq!g$xq!i$xq!m$xq#h$xq#i$xq#j$xq#k$xq#l$xq#m$xq#n$xq#o$xq#p$xq#r$xq#t$xq#v$xq#w$xq#z$xq(T$xq(d$xq!W$xq!X$xq~P%AzOe%^!Z!W%^!Z#Y%^!Z#z%^!Z~P!0kO!W'dq!X'dq~P#C^O!W#b!Z!X#b!Z~P#C^O#e%^!ZP%^!ZY%^!Z_%^!Zl%^!Z{%^!Z!W%^!Z!f%^!Z!g%^!Z!i%^!Z!m%^!Z#h%^!Z#i%^!Z#j%^!Z#k%^!Z#l%^!Z#m%^!Z#n%^!Z#o%^!Z#p%^!Z#r%^!Z#t%^!Z#v%^!Z#w%^!Z'm%^!Z(T%^!Z(d%^!Z!h%^!Z!T%^!Z'k%^!Z#Y%^!Zp%^!Z!Y%^!Z%b%^!Z!b%^!Z~P#,sOP%^!ZY%^!Zl%^!Z{%^!Z!f%^!Z!g%^!Z!i%^!Z!m%^!Z#h%^!Z#i%^!Z#j%^!Z#k%^!Z#l%^!Z#m%^!Z#n%^!Z#o%^!Z#p%^!Z#r%^!Z#t%^!Z#v%^!Z#w%^!Z#z%^!Z(T%^!Z(d%^!Z!W%^!Z!X%^!Z~P%AzOp(XX~P1qO'w!lO~P!*SO!TdX!WdX#YdX~P&3YOPZXYZXlZXzZX{ZX}ZX!WZX!WdX!fZX!gZX!iZX!mZX#YZX#YdX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX(TZX(dZX(kZX(lZX~O!bdX!hZX!hdX(ddX~P&HpOP9qOQ9qOb;bOc!iOjkOl9qOmkOnkOtkOv9qOx9qO}WO!RkO!SkO!YXO!d9tO!iZO!l9qO!m9qO!n9qO!p9uO!r9xO!u!hO$R!kO$VfO'v)UO'xTO'{UO(TVO(c[O(p;`O~O!W:VO!X$la~Oj%SOl$tOm$sOn$sOt%TOv%UOx:]O}${O!Y$|O!d;gO!i$xO#d:cO$R%YO$n:_O$p:aO$s%ZO'v(lO'xTO'{UO(P%RO(T$uO~O#q)]O~P&MfO!XZX!XdX~P&HpO#e9yO~O!b#uO#e9yO~O#Y:ZO~O#p:OO~O#Y:eO!W(iX!X(iX~O#Y:ZO!W(gX!X(gX~O#e:fO~Oe:hO~P!0kO#e:mO~O#e:nO~O!b#uO#e:oO~O!b#uO#e:fO~O#z:pO~P#C^O#e:qO~O#e:rO~O#e:sO~O#e:tO~O#e:uO~O#e:vO~O#z:wO~P!0kO#z:xO~P!0kO$V~!g!}#O#Q#R#U#c#d#o(p$n$p$s%V%a%b%c%j%l%o%p%r%t~'qR$V(p#i!S'o'w#jm#h#klz'p(W'p'v$X$Z$X~",goto:"$'X)OPPPP)PPP)SP)eP*t.xPPPP5`PP5vP;r>yP?^P?^PPP?^PAOP?^P?^P?^PASPPAXPArPFjPPPFnPPPPFnIoPPPIuJpPFnPMOPPPP! ^FnPPPFnPFnP!#lFnP!'Q!(S!(]P!)P!)T!)PPPPPP!,`!(SPP!,|!-vP!0jFnFn!0o!3y!8`!8`!<UPPP!<]FnPPPPPPPPPPP!?jP!@{PPFn!BYPFnPFnFnFnFnPFn!ClPP!FtP!IxP!I|!JW!J[!J[P!FqP!J`!J`P!MdP!MhFnFn!Mn#!q?^P?^P?^?^P##|?^?^#%x?^#(X?^#)}?^?^#*l#,j#,j#,n#,v#,j#-OP#,jP?^#-h?^#.q?^?^5`PPP#/}PPP#0h#0hP#0hP#1O#0hPP#1UP#0{P#0{#1i#0{#2T#2Z5])S#2^)SP#2e#2e#2eP)SP)SP)SP)SPP)SP#2k#2nP#2n)SP#2rP#2uP)SP)SP)SP)SP)SP)S)SPP#2{#3R#3^#3d#3j#3p#3v#4U#4[#4b#4l#4r#4|#5]#5c#6T#6g#6m#6s#7R#7h#8y#9X#9_#9e#9k#9q#9{#:R#:X#:c#:u#:{PPPPPPPPPP#;RPPPPPPP#;v#>}P#@^#@e#@mPPPP#D{#Gr#NZ#N^#Na$ Y$ ]$ `$ g$ oPP$ u$ y$!q$#p$#t$$YPP$$^$$d$$hP$$k$$o$$r$%h$&P$&h$&l$&o$&r$&x$&{$'P$'TR!{RoqOXst!Z#c%f&i&k&l&n,b,g1g1jY!uQ'V-S0z4uQ%lvQ%tyQ%{|Q&a!VS&}!e,zQ']!iS'c!r!xS*_$|*dQ+`%uQ+m%}Q,R&ZQ-Q'UQ-['^Q-d'dQ/p*fQ1U,SR:d9u%OdOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|,_,b,g-W-`-n-t.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2w4r4|5^5_5b5u7Z7`7o7yS#p]9r!r)W$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ*o%VQ+e%wQ,T&^Q,[&fQ.X:[Q0W+WQ0[+YQ0g+fQ1^,YQ2k.UQ4`0bQ5T1VQ6R2oQ6X:]Q6z4aR8P6S&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;ct!nQ!r!u!x!y&}'U'V'c'd'e,z-Q-S-d0z4u4w$^$si#u#w$c$d$x${%W%X%])q)w)z)|)}*U*[*j*k+V+Y+q+t.T._/P/^/_/a/|0q0t0|2n3f3p3x4O4W4Y4{6P6g6p7]7|8X8l9O9^9f:X:Y:^:_:`:a:b:c:i:j:k:l:m:n:q:r:s:t:w:x;`;h;i;l;mQ&O|Q&{!eS'R%b,}Q+e%wQ,T&^Q/{*sQ0g+fQ0l+lQ1],XQ1^,YQ4`0bQ4i0nQ5T1VQ5W1XQ5X1[Q6z4aQ6}4fQ7h5ZQ8g7OR8r7ernOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jR,V&b&v^OPXYstuvwz!Z!`!g!j!o#R#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'X'i'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;b;c[#[WZ#V#Y'O'y!S%cm#g#h#k%^%a(S(^(_(`*z*{*},^,t-r-x-y-z-|1o2g2h5k5|Q%oxQ%syS%x|%}Q&U!TQ'Y!hQ'[!iQ(g#rS*R$x*VS+_%t%uQ+c%wQ+|&XQ,Q&ZS-Z']'^Q.W(hQ/Z*SQ0`+`Q0f+fQ0h+gQ0k+kQ1P+}S1T,R,SQ2X-[Q3g/VQ4_0bQ4c0eQ4h0mQ5S1UQ6d3hQ6y4aQ6|4eQ8c6xR9X8dv$zi#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;i!S%qy!i!t%s%t%u&|'[']'^'b'l*^+_+`,w-Z-[-c/h0`2Q2X2`3zQ+X%oQ+r&RQ+u&SQ,P&ZQ.V(gQ1O+|U1S,Q,R,SQ2p.WQ4}1PS5R1T1UQ7d5S#O;d#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mg;e:X:Y:_:a:c:j:l:n:r:t:xW%Pi%R*l;`S&R!Q&`Q&S!RQ&T!SR+p&P$_%Oi#u#w$c$d$x${%W%X%])q)w)z)|)}*U*[*j*k+V+Y+q+t.T._/P/^/_/a/|0q0t0|2n3f3p3x4O4W4Y4{6P6g6p7]7|8X8l9O9^9f:X:Y:^:_:`:a:b:c:i:j:k:l:m:n:q:r:s:t:w:x;`;h;i;l;mT)r$u)sV*p%V:[:]U'R!e%b,}S(u#y#zQ+j%zS.P(c(dQ0u+vQ4P/yR7S4n&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;c$i$`c#X#d%j%k%m'x(O(j(q(y(z({(|(})O)P)Q)R)S)T)V)Y)^)h+T+i,x-g-l-q-s.^.d.h.j.k.l.{/}1v1y2Z2b2v2{2|2}3O3P3Q3R3S3T3U3V3W3X3[3]3b4T4]5n5t5y6V6W6]6^7U7s7w8Q8U8V8{9Z9b9s;VT#SV#T&}kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ'P!eR1|,zv!nQ!e!r!u!x!y&}'U'V'c'd'e,z-Q-S-d0z4u4wS*^$|*dS/h*_*fQ/q*gQ0w+xQ3z/pR3}/snqOXst!Z#c%f&i&k&l&n,b,g1g1jQ&p!^Q'm!wS(i#t9yQ+]%rQ+z&UQ+{&WQ-X'ZQ-f'fS.](n:fS0O*x:oQ0^+^Q0y+yQ1n,iQ1p,jQ1x,uQ2V-YQ2Y-^S4U0P:uQ4Z0_S4^0a:vQ5m1zQ5q2WQ5v2_Q6w4[Q7t5oQ7u5rQ7x5wR8x7q$d$_c#X#d%k%m'x(O(j(q(y(z({(|(})O)P)Q)R)S)T)V)Y)^)h+T+i,x-g-l-q-s.^.d.h.k.l.{/}1v1y2Z2b2v2{2|2}3O3P3Q3R3S3T3U3V3W3X3[3]3b4T4]5n5t5y6V6W6]6^7U7s7w8Q8U8V8{9Z9b9s;VS(f#o'`U*i$}(m3ZS+S%j.jQ2l0WQ6O2kQ8O6RR9P8P$d$^c#X#d%k%m'x(O(j(q(y(z({(|(})O)P)Q)R)S)T)V)Y)^)h+T+i,x-g-l-q-s.^.d.h.k.l.{/}1v1y2Z2b2v2{2|2}3O3P3Q3R3S3T3U3V3W3X3[3]3b4T4]5n5t5y6V6W6]6^7U7s7w8Q8U8V8{9Z9b9s;VS(e#o'`S(w#z$_S+R%j.jS.Q(d(fQ.m)XQ0T+SR2i.R&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cS#p]9rQ&k!XQ&l!YQ&n![Q&o!]R1f,eQ'W!hQ+U%oQ-V'YS.S(g+XQ2T-UW2m.V.W0V0XQ5p2UU5}2j2l2pS7{6O6QS8}7}8OS9d8|9PQ9l9eR9o9mU!vQ'V-ST4s0z4u!Q_OXZ`st!V!Z#c#g%^%f&`&b&i&k&l&n(`,b,g-y1g1j]!pQ!r'V-S0z4uT#p]9r%Y{OPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yS(u#y#zS.P(c(d!s:|$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cY!tQ'V-S0z4uQ'b!rS'l!u!xS'n!y4wS-c'c'dQ-e'eR2`-dQ'k!tS([#f1aS-b'b'nQ/Y*RQ/f*^Q2a-eQ3l/ZS3u/g/qQ6c3gS6n3{3}Q8Z6dR8b6qQ#vbQ'j!tS(Z#f1aS(]#l*wQ*y%_Q+Z%pQ+a%vU-a'b'k'nQ-u([Q/X*RQ/e*^Q/k*aQ0]+[Q1Q,OS2^-b-eQ2f-}S3k/Y/ZS3t/f/qQ3w/jQ3y/lQ5P1RQ5x2aQ6b3gQ6f3lS6j3u3}Q6o3|Q7b5QS8Y6c6dQ8^6kQ8`6nQ8o7cQ9T8ZQ9U8_Q9W8bQ9`8pQ9h9VQ;P:zQ;[;TR;];UV!vQ'V-S%YaOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yS#vz!j!r:y$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cR;P;b%YbOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yQ%_j!S%py!i!t%s%t%u&|'[']'^'b'l*^+_+`,w-Z-[-c/h0`2Q2X2`3zS%vz!jQ+[%qQ,O&ZW1R,P,Q,R,SU5Q1S1T1US7c5R5SQ8p7d!r:z$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ;T;aR;U;b$|eOPXYstuvw!Z!`!g!o#R#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&i&k&l&n&r&z'X'i'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yY#aWZ#V#Y'y!S%cm#g#h#k%^%a(S(^(_(`*z*{*},^,t-r-x-y-z-|1o2g2h5k5|Q,]&f!p:{$[$m)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cR;O'OS'S!e%bR2O,}%OdOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|,_,b,g-W-`-n-t.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2w4r4|5^5_5b5u7Z7`7o7y!r)W$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ,[&fQ0W+WQ2k.UQ6R2oR8P6S!f$Uc#X%j'x(O(j(q)Q)R)S)T)Y)^+i-g-l-q-s.^.d.{/}2Z2b2v3X4T4]5t5y6V7w8{9s!T:Q)V)h,x.j1v1y2{3T3U3V3W3[3b5n6W6]6^7U7s8Q8U8V9Z9b;V!b$Wc#X%j'x(O(j(q)S)T)Y)^+i-g-l-q-s.^.d.{/}2Z2b2v3X4T4]5t5y6V7w8{9s!P:S)V)h,x.j1v1y2{3V3W3[3b5n6W6]6^7U7s8Q8U8V9Z9b;V!^$[c#X%j'x(O(j(q)Y)^+i-g-l-q-s.^.d.{/}2Z2b2v3X4T4]5t5y6V7w8{9sQ3f/Tz;c)V)h,x.j1v1y2{3[3b5n6W6]6^7U7s8Q8U8V9Z9b;VQ;h;jR;i;k&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cS$nh$oR3_.p'TgOPWXYZhstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m$o%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.p.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cT$jf$pQ$hfS)a$k)eR)m$pT$if$pT)c$k)e'ThOPWXYZhstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m$o%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.p.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cT$nh$oQ$qhR)l$o%YjOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7y!s;a$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;c#clOPXZst!Z!`!o#R#c#n#{$m%f&b&e&f&i&k&l&n&r&z'X(v)j*|+W,_,b,g-W.U.q/z0}1_1`1b1d1g1j1l2o3^4r4|5^5_5b6S7Z7`7ov$}i#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;i#O(m#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mQ*t%ZQ.|)vg3Z:X:Y:_:a:c:j:l:n:r:t:xv$yi#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;iQ*W$zS*a$|*dQ*u%[Q/l*b#O;R#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mf;S:X:Y:_:a:c:j:l:n:r:t:xQ;W;dQ;X;eQ;Y;fR;Z;gv$}i#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;i#O(m#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mg3Z:X:Y:_:a:c:j:l:n:r:t:xnoOXst!Z#c%f&i&k&l&n,b,g1g1jQ*Z${Q,p&uQ,q&wR3o/_$^%Oi#u#w$c$d$x${%W%X%])q)w)z)|)}*U*[*j*k+V+Y+q+t.T._/P/^/_/a/|0q0t0|2n3f3p3x4O4W4Y4{6P6g6p7]7|8X8l9O9^9f:X:Y:^:_:`:a:b:c:i:j:k:l:m:n:q:r:s:t:w:x;`;h;i;l;mQ+s&SQ0s+uQ4l0rR7R4mT*c$|*dS*c$|*dT4t0z4uS/j*`4rT3|/r7ZQ+Z%pQ/k*aQ0]+[Q1Q,OQ5P1RQ7b5QQ8o7cR9`8pn)z$v(o*v/]/t/u2t3m4S6a6r9S;Q;^;_!Y:i(k)[*Q*Y.[.x.}/T/b0U0p0r2s3n3r4k4m6T6U6h6l6t6v8]8a9g;j;k]:j3Y6[8R9Q9R9pp)|$v(o*v/R/]/t/u2t3m4S6a6r9S;Q;^;_![:k(k)[*Q*Y.[.x.}/T/b0U0p0r2q2s3n3r4k4m6T6U6h6l6t6v8]8a9g;j;k_:l3Y6[8R8S9Q9R9prnOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jQ&]!UR,_&frnOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jR&]!UQ+w&TR0o+psnOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jQ0{+|S4z1O1PU7[4x4y4}S8k7^7_S9[8j8mQ9i9]R9n9jQ&d!VR,W&`R5W1XS%x|%}R0h+gQ&i!WR,b&jR,h&oT1h,g1jR,l&pQ,k&pR1q,lQ'p!zR-h'pSsOtQ#cXT%is#cQ!}TR'r!}Q#QUR't#QQ)s$uR.y)sQ#TVR'v#TQ#WWU'|#W'}-oQ'}#XR-o(OQ,{'PR1},{Q.`(oR2u.`Q.c(qS2x.c2yR2y.dQ-S'VR2R-SY!rQ'V-S0z4uR'a!rS#^W%aU(T#^(U-pQ(U#_R-p(PQ-O'SR2P-Ot`OXst!V!Z#c%f&`&b&i&k&l&n,b,g1g1jS#gZ%^U#q`#g-yR-y(`Q(a#iQ-v(]W.O(a-v2d5zQ2d-wR5z2eQ)e$kR.r)eQ$ohR)k$oQ$bcU)Z$b-k:WQ-k9sR:W)hQ/W*RW3i/W3j6e8[U3j/X/Y/ZS6e3k3lR8[6f#o)x$v(k(o)[*Q*Y*q*r*v.Y.Z.[.x.}/R/S/T/]/b/t/u0U0p0r2q2r2s2t3Y3m3n3r4S4k4m6T6U6Y6Z6[6a6h6l6r6t6v8R8S8T8]8a9Q9R9S9g9p;Q;^;_;j;kQ/`*YU3q/`3s6iQ3s/bR6i3rQ*d$|R/n*dQ*m%QR/w*mQ4X0UR6u4XQ+O%dR0S+OQ4o0uS7T4o8iR8i7UQ+y&UR0x+yQ4u0zR7X4uQ1W,TS5U1W7fR7f5WQ0c+cW4b0c4d6{8eQ4d0fQ6{4cR8e6|Q+h%xR0i+hQ1j,gR5f1jYrOXst#cQ&m!ZQ+Q%fQ,a&iQ,c&kQ,d&lQ,f&nQ1e,bS1h,g1jR5e1gQ%hpQ&q!_Q&t!aQ&v!bQ&x!cQ'h!tQ+P%eQ+]%rQ+o&OQ,V&dQ,n&sW-_'b'j'k'nQ-f'fQ/m*cQ0^+^S1Z,W,ZQ1r,mQ1s,pQ1t,qQ2Y-^W2[-a-b-e-gQ4Z0_Q4g0lQ4j0pQ5O1QQ5Y1]Q5d1fU5s2Z2^2aQ5v2_Q6w4[Q7P4iQ7Q4kQ7W4tQ7a5PQ7g5XS7v5t5xQ7x5wQ8f6}Q8n7bQ8s7hQ8z7wQ9Y8gQ9_8oQ9c8{R9k9`Q%ryQ'Z!iQ'f!tU+^%s%t%uQ,u&|U-Y'[']'^S-^'b'lQ/d*^S0_+_+`Q1z,wS2W-Z-[Q2_-cQ3v/hQ4[0`Q5o2QQ5r2XQ5w2`R6m3zS$wi;`R*n%RU%Qi%R;`R/v*lQ$viS(k#u+YQ(o#wS)[$c$dQ*Q$xQ*Y${Q*q%WQ*r%XQ*v%]Q.Y:^Q.Z:`Q.[:bQ.x)qS.})w/PQ/R)zQ/S)|Q/T)}Q/]*UQ/b*[Q/t*jQ/u*kh0U+V.T0|2n4{6P7]7|8l9O9^9fQ0p+qQ0r+tQ2q:iQ2r:kQ2s:mQ2t._S3Y:X:YQ3m/^Q3n/_Q3r/aQ4S/|Q4k0qQ4m0tQ6T:qQ6U:sQ6Y:_Q6Z:aQ6[:cQ6a3fQ6h3pQ6l3xQ6r4OQ6t4WQ6v4YQ8R:nQ8S:jQ8T:lQ8]6gQ8a6pQ9Q:rQ9R:tQ9S8XQ9g:wQ9p:xQ;Q;`Q;^;hQ;_;iQ;j;lR;k;mnpOXst!Z#c%f&i&k&l&n,b,g1g1jQ!fPS#eZ#nQ&s!`U'_!o4r7ZQ'u#RQ(x#{Q)i$mS,Z&b&eQ,`&fQ,m&rQ,r&zQ-U'XQ.f(vQ.v)jQ0Q*|Q0X+WQ1c,_Q2U-WQ2l.UQ3a.qQ4Q/zQ4y0}Q5[1_Q5]1`Q5a1bQ5c1dQ5h1lQ6O2oQ6_3^Q7_4|Q7k5^Q7l5_Q7n5bQ8O6SQ8m7`R8w7o#WcOPXZst!Z!`!o#c#n#{%f&b&e&f&i&k&l&n&r&z'X(v*|+W,_,b,g-W.U/z0}1_1`1b1d1g1j1l2o4r4|5^5_5b6S7Z7`7oQ#XWQ#dYQ%juQ%kvS%mw!gS'x#V'{Q(O#YQ(j#tQ(q#xQ(y$OQ(z$PQ({$QQ(|$RQ(}$SQ)O$TQ)P$UQ)Q$VQ)R$WQ)S$XQ)T$YQ)V$[Q)Y$aQ)^$eW)h$m)j.q3^Q+T%lQ+i%yS,x'O1{Q-g'iS-l'y-nQ-q(RQ-s(YQ.^(nQ.d(rQ.h9qQ.j9tQ.k9uQ.l9xQ.{)uQ/}*xQ1v,sQ1y,vQ2Z-`Q2b-tQ2v.bQ2{9yQ2|9zQ2}9{Q3O9|Q3P9}Q3Q:OQ3R:PQ3S:QQ3T:RQ3U:SQ3V:TQ3W:UQ3X.iQ3[:ZQ3]:dQ3b:VQ4T0PQ4]0aQ5n:eQ5t2]Q5y2cQ6V2wQ6W:fQ6]:hQ6^:oQ7U4pQ7s5lQ7w5uQ8Q:pQ8U:uQ8V:vQ8{7yQ9Z8hQ9b8yQ9s#RR;V;cR#ZWR'Q!eY!tQ'V-S0z4uS&|!e,zQ'b!rS'l!u!xS'n!y4wS,w&}'US-c'c'dQ-e'eQ2Q-QR2`-dR(p#wR(s#xQ!fQT-R'V-S]!qQ!r'V-S0z4uQ#o]R'`9rT#jZ%^S#iZ%^S%dm,^U(]#g#h#kS-w(^(_Q-{(`Q0R*}Q2e-xU2f-y-z-|S5{2g2hR7z5|`#]W#V#Y%a'y(S*z-rr#fZm#g#h#k%^(^(_(`*}-x-y-z-|2g2h5|Q1a,^Q1w,tQ5j1oQ7r5kT:}'O*{T#`W%aS#_W%aS'z#V(SS(P#Y*zS,y'O*{T-m'y-rT'T!e%bQ$kfR)o$pT)d$k)eR3`.pT*T$x*VR*]${Q0V+VQ2j.TQ4x0|Q6Q2nQ7^4{Q7}6PQ8j7]Q8|7|Q9]8lQ9e9OQ9j9^R9m9fnqOXst!Z#c%f&i&k&l&n,b,g1g1jQ&c!VR,V&`tmOXst!U!V!Z#c%f&`&i&k&l&n,b,g1g1jR,^&fT%em,^R0v+vR,U&^Q%||R+n%}R+d%wT&g!W&jT&h!W&jT1i,g1j",nodeNames:" ArithOp ArithOp LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:367,context:LTn,nodeProps:[["group",-26,7,15,17,63,200,204,208,209,211,214,217,227,229,235,237,239,241,244,250,256,258,260,262,264,266,267,"Statement",-32,11,12,26,29,30,36,46,49,50,52,57,65,73,77,79,81,82,104,105,114,115,132,135,137,138,139,140,142,143,163,164,166,"Expression",-23,25,27,31,35,37,39,167,169,171,172,174,175,176,178,179,180,182,183,184,194,196,198,199,"Type",-3,85,97,103,"ClassItem"],["openedBy",32,"InterpolationStart",51,"[",55,"{",70,"(",144,"JSXStartTag",156,"JSXStartTag JSXStartCloseTag"],["closedBy",34,"InterpolationEnd",45,"]",56,"}",71,")",145,"JSXSelfCloseEndTag JSXEndTag",161,"JSXEndTag"]],propSources:[QTn],skippedNodes:[0,3,4,270],repeatNodeCount:33,tokenData:"$Fl(CSR!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#8g!R![#:v![!]#Gv!]!^#IS!^!_#J^!_!`#Nu!`!a$#a!a!b$(n!b!c$,m!c!}Er!}#O$-w#O#P$/R#P#Q$4j#Q#R$5t#R#SEr#S#T$7R#T#o$8]#o#p$<m#p#q$=c#q#r$>s#r#s$@P#s$f%Z$f$g+g$g#BYEr#BY#BZ$AZ#BZ$ISEr$IS$I_$AZ$I_$I|Er$I|$I}$Df$I}$JO$Df$JO$JTEr$JT$JU$AZ$JU$KVEr$KV$KW$AZ$KW&FUEr&FU&FV$AZ&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$AZ?HUOEr(n%d_$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$e&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$e&j'|!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU'|!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$e&j'ypOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU'ypOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z(CS+rq$e&j'yp'|!b'o(;dOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z(CS.ST'z#S$e&j'p(;dO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c(CS.n_$e&j'yp'|!b'p(;dOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`/x`$e&j!m$Ip'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S1V`#r$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S2d_#r$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2b3l_'x$(n$e&j'|!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k*r4r_$e&j'|!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k)`5vX$e&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q)`6jT$`#t$e&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#t6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y#t7bO$`#t#t7eP;=`<%l6y)`7kP;=`<%l5q*r7w]$`#t$e&j'|!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}%W8uZ'|!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p%W9oU$`#t'|!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}%W:UP;=`<%l8p*r:[P;=`<%l4k#%|:hh$e&j'yp'|!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__US$e&j'yp'|!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]US$e&j'|!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXUS$e&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSUSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWUS'|!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]US$e&j'ypOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWUS'ypOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYUS'yp'|!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S#%|C}i$e&j(c!L^'yp'|!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr#%|EoP;=`<%lCr(CSFRk$e&j'yp'|!b(W!LY'v&;d$X#tOY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$e&j'yp'|!b$X#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv(CSJPP;=`<%lEr%#SJ_`$e&j'yp'|!b#j$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SKl_$e&j#|$Id'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%DfLva(l%<v$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SNW`$e&j#v$Id'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2b! c_'{$)`$e&j'ypOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b*Q!!i_$e&j'ypOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b)`!#mX$e&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h#t!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y#t!$oP;=`<%l!$Y)`!$uP;=`<%l!#h*Q!%R]$`#t$e&j'ypOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r$f!&PZ'ypOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z$f!&yU$`#t'ypOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r$f!'`P;=`<%l!%z*Q!'fP;=`<%l!!b(*Q!'t_!i(!b$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'l!)O_!hM|$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h!*[b$e&j'yp'|!b'w#)d#k$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S!+o`$e&j'yp'|!b#h$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&-O!,|`$e&j'yp'|!bl&%`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&C[!.Z_!W&;l$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!/ec$e&j'yp'|!bz'<nOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!0ya$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!2Z_!VMt$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!3eg$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!5Vg$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!6wc$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!8_c$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!9uf$e&j'yp'|!b#i$IdOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpxz!;Zz{#,f{!P!;Z!P!Q#-{!Q!^!;Z!^!_#'Z!_!`#5k!`!a#7Q!a!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(r!;fb$e&j'yp'|!b!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(Q!<w`$e&j'|!b!SSOY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eb!Q!^!<n!^!_!GY!_!}!<n!}#O!Ja#O#P!Dj#P#o!<n#o#p!GY#p;'S!<n;'S;=`!Kj<%lO!<n&n!>Q^$e&j!SSOY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@Y!_!}!=y!}#O!Bw#O#P!Dj#P#o!=y#o#p!@Y#p;'S!=y;'S;=`!E[<%lO!=y&n!?Ta$e&j!SSO!^&c!_#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&cS!@_X!SSOY!@YZ!P!@Y!P!Q!@z!Q!}!@Y!}#O!Ac#O#P!Bb#P;'S!@Y;'S;=`!Bq<%lO!@YS!APU!SS#Z#[!@z#]#^!@z#a#b!@z#g#h!@z#i#j!@z#m#n!@zS!AfVOY!AcZ#O!Ac#O#P!A{#P#Q!@Y#Q;'S!Ac;'S;=`!B[<%lO!AcS!BOSOY!AcZ;'S!Ac;'S;=`!B[<%lO!AcS!B_P;=`<%l!AcS!BeSOY!@YZ;'S!@Y;'S;=`!Bq<%lO!@YS!BtP;=`<%l!@Y&n!B|[$e&jOY!BwYZ&cZ!^!Bw!^!_!Ac!_#O!Bw#O#P!Cr#P#Q!=y#Q#o!Bw#o#p!Ac#p;'S!Bw;'S;=`!Dd<%lO!Bw&n!CwX$e&jOY!BwYZ&cZ!^!Bw!^!_!Ac!_#o!Bw#o#p!Ac#p;'S!Bw;'S;=`!Dd<%lO!Bw&n!DgP;=`<%l!Bw&n!DoX$e&jOY!=yYZ&cZ!^!=y!^!_!@Y!_#o!=y#o#p!@Y#p;'S!=y;'S;=`!E[<%lO!=y&n!E_P;=`<%l!=y(Q!Eki$e&j'|!b!SSOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#Z&}#Z#[!Eb#[#]&}#]#^!Eb#^#a&}#a#b!Eb#b#g&}#g#h!Eb#h#i&}#i#j!Eb#j#m&}#m#n!Eb#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!f!GaZ'|!b!SSOY!GYZw!GYwx!@Yx!P!GY!P!Q!HS!Q!}!GY!}#O!Ic#O#P!Bb#P;'S!GY;'S;=`!JZ<%lO!GY!f!HZb'|!b!SSOY'}Zw'}x#O'}#P#Z'}#Z#[!HS#[#]'}#]#^!HS#^#a'}#a#b!HS#b#g'}#g#h!HS#h#i'}#i#j!HS#j#m'}#m#n!HS#n;'S'};'S;=`(f<%lO'}!f!IhX'|!bOY!IcZw!Icwx!Acx#O!Ic#O#P!A{#P#Q!GY#Q;'S!Ic;'S;=`!JT<%lO!Ic!f!JWP;=`<%l!Ic!f!J^P;=`<%l!GY(Q!Jh^$e&j'|!bOY!JaYZ&cZw!Jawx!Bwx!^!Ja!^!_!Ic!_#O!Ja#O#P!Cr#P#Q!<n#Q#o!Ja#o#p!Ic#p;'S!Ja;'S;=`!Kd<%lO!Ja(Q!KgP;=`<%l!Ja(Q!KmP;=`<%l!<n'`!Ky`$e&j'yp!SSOY!KpYZ&cZr!Kprs!=ys!P!Kp!P!Q!L{!Q!^!Kp!^!_!Ns!_!}!Kp!}#O##z#O#P!Dj#P#o!Kp#o#p!Ns#p;'S!Kp;'S;=`#%T<%lO!Kp'`!MUi$e&j'yp!SSOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#Z(r#Z#[!L{#[#](r#]#^!L{#^#a(r#a#b!L{#b#g(r#g#h!L{#h#i(r#i#j!L{#j#m(r#m#n!L{#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rt!NzZ'yp!SSOY!NsZr!Nsrs!@Ys!P!Ns!P!Q# m!Q!}!Ns!}#O#!|#O#P!Bb#P;'S!Ns;'S;=`##t<%lO!Nst# tb'yp!SSOY)rZr)rs#O)r#P#Z)r#Z#[# m#[#])r#]#^# m#^#a)r#a#b# m#b#g)r#g#h# m#h#i)r#i#j# m#j#m)r#m#n# m#n;'S)r;'S;=`*Z<%lO)rt##RX'ypOY#!|Zr#!|rs!Acs#O#!|#O#P!A{#P#Q!Ns#Q;'S#!|;'S;=`##n<%lO#!|t##qP;=`<%l#!|t##wP;=`<%l!Ns'`#$R^$e&j'ypOY##zYZ&cZr##zrs!Bws!^##z!^!_#!|!_#O##z#O#P!Cr#P#Q!Kp#Q#o##z#o#p#!|#p;'S##z;'S;=`#$}<%lO##z'`#%QP;=`<%l##z'`#%WP;=`<%l!Kp(r#%fk$e&j'yp'|!b!SSOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#Z%Z#Z#[#%Z#[#]%Z#]#^#%Z#^#a%Z#a#b#%Z#b#g%Z#g#h#%Z#h#i%Z#i#j#%Z#j#m%Z#m#n#%Z#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#W#'d]'yp'|!b!SSOY#'ZZr#'Zrs!GYsw#'Zwx!Nsx!P#'Z!P!Q#(]!Q!}#'Z!}#O#)w#O#P!Bb#P;'S#'Z;'S;=`#*w<%lO#'Z#W#(fe'yp'|!b!SSOY*gZr*grs'}sw*gwx)rx#O*g#P#Z*g#Z#[#(]#[#]*g#]#^#(]#^#a*g#a#b#(]#b#g*g#g#h#(]#h#i*g#i#j#(]#j#m*g#m#n#(]#n;'S*g;'S;=`+Z<%lO*g#W#*OZ'yp'|!bOY#)wZr#)wrs!Icsw#)wwx#!|x#O#)w#O#P!A{#P#Q#'Z#Q;'S#)w;'S;=`#*q<%lO#)w#W#*tP;=`<%l#)w#W#*zP;=`<%l#'Z(r#+W`$e&j'yp'|!bOY#*}YZ&cZr#*}rs!Jasw#*}wx##zx!^#*}!^!_#)w!_#O#*}#O#P!Cr#P#Q!;Z#Q#o#*}#o#p#)w#p;'S#*};'S;=`#,Y<%lO#*}(r#,]P;=`<%l#*}(r#,cP;=`<%l!;Z(CS#,sb$e&j'yp'|!b'q(;d!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(CS#.W_$e&j'yp'|!bR(;dOY#-{YZ&cZr#-{rs#/Vsw#-{wx#2gx!^#-{!^!_#4f!_#O#-{#O#P#0X#P#o#-{#o#p#4f#p;'S#-{;'S;=`#5e<%lO#-{(Bb#/`]$e&j'|!bR(;dOY#/VYZ&cZw#/Vwx#0Xx!^#/V!^!_#1j!_#O#/V#O#P#0X#P#o#/V#o#p#1j#p;'S#/V;'S;=`#2a<%lO#/V(AO#0`X$e&jR(;dOY#0XYZ&cZ!^#0X!^!_#0{!_#o#0X#o#p#0{#p;'S#0X;'S;=`#1d<%lO#0X(;d#1QSR(;dOY#0{Z;'S#0{;'S;=`#1^<%lO#0{(;d#1aP;=`<%l#0{(AO#1gP;=`<%l#0X(<v#1qW'|!bR(;dOY#1jZw#1jwx#0{x#O#1j#O#P#0{#P;'S#1j;'S;=`#2Z<%lO#1j(<v#2^P;=`<%l#1j(Bb#2dP;=`<%l#/V(Ap#2p]$e&j'ypR(;dOY#2gYZ&cZr#2grs#0Xs!^#2g!^!_#3i!_#O#2g#O#P#0X#P#o#2g#o#p#3i#p;'S#2g;'S;=`#4`<%lO#2g(<U#3pW'ypR(;dOY#3iZr#3irs#0{s#O#3i#O#P#0{#P;'S#3i;'S;=`#4Y<%lO#3i(<U#4]P;=`<%l#3i(Ap#4cP;=`<%l#2g(=h#4oY'yp'|!bR(;dOY#4fZr#4frs#1jsw#4fwx#3ix#O#4f#O#P#0{#P;'S#4f;'S;=`#5_<%lO#4f(=h#5bP;=`<%l#4f(CS#5hP;=`<%l#-{%#W#5xb$e&j#|$Id'yp'|!b!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z+h#7_b$U#t$e&j'yp'|!b!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z$/l#8rp$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#:v![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#:v#S#U%Z#U#V#>Q#V#X%Z#X#Y!4|#Y#b%Z#b#c#<v#c#d#AY#d#l%Z#l#m#D[#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#;Rk$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#:v![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#:v#S#X%Z#X#Y!4|#Y#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#=R_$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#>Zd$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#?i!R!S#?i!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#?i#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#?tf$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#?i!R!S#?i!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#?i#S#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Acc$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#Bn!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#Bn#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Bye$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#Bn!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#Bn#S#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Deg$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#E|![!^%Z!^!_*g!_!c%Z!c!i#E|!i#O%Z#O#P&c#P#R%Z#R#S#E|#S#T%Z#T#Z#E|#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#FXi$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#E|![!^%Z!^!_*g!_!c%Z!c!i#E|!i#O%Z#O#P&c#P#R%Z#R#S#E|#S#T%Z#T#Z#E|#Z#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#HT_!b$b$e&j#z%<f'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#I___l$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS#Jm^(P!*v!f'.r'yp'|!b$V)d(pSOY*gZr*grs'}sw*gwx)rx!P*g!P!Q#Ki!Q!^*g!^!_#L_!_!`#NP!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#KrX$g&j'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#LhZ#l$Id'yp'|!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#MZ!`#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#MdX#|$Id'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#NYX#m$Id'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Gh$ Qa#Y%?x$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$!V!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#W$!b_#e$Ih$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh$#paeBf#m$Id$b#|$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$$u!`!a$&P!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$%Q_#m$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$&[a#l$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$'a!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$'l`#l$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h$(yc(d$Ip$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P$*U!P!^%Z!^!_*g!_!a%Z!a!b$+`!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+`$*a_{'#p$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$+k`$e&j#w$Id'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&^$,x_!y!Ln$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(@^$.S_}(8n$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/WZ$e&jO!^$/y!^!_$0a!_#i$/y#i#j$0f#j#l$/y#l#m$2X#m#o$/y#o#p$0a#p;'S$/y;'S;=`$4d<%lO$/y(n$0QT]#S$e&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0fO]#S(n$0k[$e&jO!Q&c!Q![$1a![!^&c!_!c&c!c!i$1a!i#T&c#T#Z$1a#Z#o&c#o#p$3w#p;'S&c;'S;=`&w<%lO&c(n$1fZ$e&jO!Q&c!Q![$2X![!^&c!_!c&c!c!i$2X!i#T&c#T#Z$2X#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2^Z$e&jO!Q&c!Q![$3P![!^&c!_!c&c!c!i$3P!i#T&c#T#Z$3P#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3UZ$e&jO!Q&c!Q![$/y![!^&c!_!c&c!c!i$/y!i#T&c#T#Z$/y#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$3zR!Q![$4T!c!i$4T#T#Z$4T#S$4WS!Q![$4T!c!i$4T#T#Z$4T#q#r$0a(n$4gP;=`<%l$/y!2r$4u_!T!+S$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$6P`#t$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&,v$7^_$e&j'yp'|!b(T&%WOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$8lk$e&j'yp'|!b(W!LY'v&;d$Z#tOY%ZYZ&cZr%Zrs&}st%Ztu$8]uw%Zwx(rx}%Z}!O$:a!O!Q%Z!Q![$8]![!^%Z!^!_*g!_!c%Z!c!}$8]!}#O%Z#O#P&c#P#R%Z#R#S$8]#S#T%Z#T#o$8]#o#p*g#p$g%Z$g;'S$8];'S;=`$<g<%lO$8]+d$:lk$e&j'yp'|!b$Z#tOY%ZYZ&cZr%Zrs&}st%Ztu$:auw%Zwx(rx}%Z}!O$:a!O!Q%Z!Q![$:a![!^%Z!^!_*g!_!c%Z!c!}$:a!}#O%Z#O#P&c#P#R%Z#R#S$:a#S#T%Z#T#o$:a#o#p*g#p$g%Z$g;'S$:a;'S;=`$<a<%lO$:a+d$<dP;=`<%l$:a(CS$<jP;=`<%l$8]!5p$<vX!Y!3l'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Df$=na(k%<v$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+`#q;'S%Z;'S;=`+a<%lO%Z%#`$?Q_!X$I`p`$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(r$@[_!nS$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$Al|$e&j'yp'|!b'o(;d(W!LY'v&;d$X#tOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$AZ#BZ$ISEr$IS$I_$AZ$I_$JTEr$JT$JU$AZ$JU$KVEr$KV$KW$AZ$KW&FUEr&FU&FV$AZ&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$AZ?HUOEr(CS$Dwk$e&j'yp'|!b'p(;d(W!LY'v&;d$X#tOY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[FTn,zTn,2,3,4,5,6,7,8,9,10,11,12,13,jTn,new sL("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOr~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!P~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(V~~",141,328),new sL("j~RQYZXz{^~^O's~~aP!P!Qd~iO't~~",25,310)],topRules:{Script:[0,5],SingleExpression:[1,268],SingleClassItem:[2,269]},dialects:{jsx:12842,ts:12844},dynamicPrecedences:{67:1,77:1,79:1,164:1,192:1},specialized:[{term:314,get:e=>BTn[e]||-1},{term:330,get:e=>WTn[e]||-1},{term:68,get:e=>VTn[e]||-1}],tokenPrec:12868}),yfe=[Si("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),Si("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),Si("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Si("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),Si("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),Si(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),Si("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),Si(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),Si(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),Si('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Si('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],hKe=yfe.concat([Si("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),Si("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),Si("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),iEe=new Are,pKe=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function q$(e){return(t,n)=>{let r=t.node.getChild("VariableDefinition");return r&&n(r,e),!0}}const qTn=["FunctionDeclaration"],YTn={FunctionDeclaration:q$("function"),ClassDeclaration:q$("class"),ClassExpression:()=>!0,EnumDeclaration:q$("constant"),TypeAliasDeclaration:q$("type"),NamespaceDeclaration:q$("namespace"),VariableDefinition(e,t){e.matchContext(qTn)||t(e,"variable")},TypeDefinition(e,t){t(e,"type")},__proto__:null};function gKe(e,t){let n=iEe.get(t);if(n)return n;let r=[],i=!0;function o(s,a){let l=e.sliceString(s.from,s.to);r.push({label:l,type:a})}return t.cursor(Dr.IncludeAnonymous).iterate(s=>{if(i)i=!1;else if(s.name){let a=YTn[s.name];if(a&&a(s,o)||pKe.has(s.name))return!1}else if(s.to-s.from>8192){for(let a of gKe(e,s.node))r.push(a);return!1}}),iEe.set(t,r),r}const dF=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,vfe=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName",".","?."];function mKe(e){let t=br(e.state).resolveInner(e.pos,-1);if(vfe.indexOf(t.name)>-1)return null;let n=t.name=="VariableName"||t.to-t.from<20&&dF.test(e.state.sliceDoc(t.from,t.to));if(!n&&!e.explicit)return null;let r=[];for(let i=t;i;i=i.parent)pKe.has(i.name)&&(r=r.concat(gKe(e.state.doc,i)));return{options:r,from:n?t.from:e.pos,validFor:dF}}function iU(e,t,n){var r;let i=[];for(;;){let o=t.firstChild,s;if((o==null?void 0:o.name)=="VariableName")return i.push(e(o)),{path:i.reverse(),name:n};if((o==null?void 0:o.name)=="MemberExpression"&&((r=s=o.lastChild)===null||r===void 0?void 0:r.name)=="PropertyName")i.push(e(s)),t=o;else return null}}function yKe(e){let t=r=>e.state.doc.sliceString(r.from,r.to),n=br(e.state).resolveInner(e.pos,-1);return n.name=="PropertyName"?iU(t,n.parent,t(n)):(n.name=="."||n.name=="?.")&&n.parent.name=="MemberExpression"?iU(t,n.parent,""):vfe.indexOf(n.name)>-1?null:n.name=="VariableName"||n.to-n.from<20&&dF.test(t(n))?{path:[],name:t(n)}:n.name=="MemberExpression"?iU(t,n,""):e.explicit?{path:[],name:""}:null}function XTn(e,t){let n=[],r=new Set;for(let i=0;;i++){for(let s of(Object.getOwnPropertyNames||Object.keys)(e)){if(!/^[a-zA-Z_$\xaa-\uffdc][\w$\xaa-\uffdc]*$/.test(s)||r.has(s))continue;r.add(s);let a;try{a=e[s]}catch{continue}n.push({label:s,type:typeof a=="function"?/^[A-Z]/.test(s)?"class":t?"function":"method":t?"variable":"property",boost:-i})}let o=Object.getPrototypeOf(e);if(!o)return n;e=o}}function HTn(e){let t=new Map;return n=>{let r=yKe(n);if(!r)return null;let i=e;for(let s of r.path)if(i=i[s],!i)return null;let o=t.get(i);return o||t.set(i,o=XTn(i,!r.path.length)),{from:n.pos-r.name.length,options:o,validFor:dF}}}const Du=tb.define({name:"javascript",parser:UTn.configure({props:[eC.add({IfStatement:iI({except:/^\s*({|else\b)/}),TryStatement:iI({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:N5t,SwitchBody:e=>{let t=e.textAfter,n=/^\s*\}/.test(t),r=/^\s*(case|default)\b/.test(t);return e.baseIndent+(n?0:r?1:2)*e.unit},Block:rI({closing:"}"}),ArrowFunction:e=>e.baseIndent+e.unit,"TemplateString BlockComment":()=>null,"Statement Property":iI({except:/^{/}),JSXElement(e){let t=/^\s*<\//.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},JSXEscape(e){let t=/\s*\}/.test(e.textAfter);return e.lineIndent(e.node.from)+(t?0:e.unit)},"JSXOpenTag JSXSelfClosingTag"(e){return e.column(e.node.from)+e.unit}}),R0.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":m2,BlockComment(e){return{from:e.from+2,to:e.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),vKe={test:e=>/^JSX/.test(e.name),facet:B6({commentTokens:{block:{open:"{/*",close:"*/}"}}})},bfe=Du.configure({dialect:"ts"},"typescript"),Ofe=Du.configure({dialect:"jsx",props:[Hre.add(e=>e.isTop?[vKe]:void 0)]}),xfe=Du.configure({dialect:"jsx ts",props:[Hre.add(e=>e.isTop?[vKe]:void 0)]},"typescript");let bKe=e=>({label:e,type:"keyword"});const OKe="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(bKe),ZTn=OKe.concat(["declare","implements","private","protected","public"].map(bKe));function xKe(e={}){let t=e.jsx?e.typescript?xfe:Ofe:e.typescript?bfe:Du,n=e.typescript?hKe.concat(ZTn):yfe.concat(OKe);return new Jy(t,[Du.data.of({autocomplete:n8e(vfe,Ooe(n))}),Du.data.of({autocomplete:mKe}),e.jsx?wKe:[]])}function GTn(e){for(;;){if(e.name=="JSXOpenTag"||e.name=="JSXSelfClosingTag"||e.name=="JSXFragmentTag")return e;if(e.name=="JSXEscape"||!e.parent)return null;e=e.parent}}function oEe(e,t,n=e.length){for(let r=t==null?void 0:t.firstChild;r;r=r.nextSibling)if(r.name=="JSXIdentifier"||r.name=="JSXBuiltin"||r.name=="JSXNamespacedName"||r.name=="JSXMemberExpression")return e.sliceString(r.from,Math.min(r.to,n));return""}const KTn=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),wKe=nt.inputHandler.of((e,t,n,r,i)=>{if((KTn?e.composing:e.compositionStarted)||e.state.readOnly||t!=n||r!=">"&&r!="/"||!Du.isActiveAt(e.state,t,-1))return!1;let o=i(),{state:s}=o,a=s.changeByRange(l=>{var c;let{head:u}=l,f=br(s).resolveInner(u-1,-1),d;if(f.name=="JSXStartTag"&&(f=f.parent),!(s.doc.sliceString(u-1,u)!=r||f.name=="JSXAttributeValue"&&f.to>u)){if(r==">"&&f.name=="JSXFragmentTag")return{range:l,changes:{from:u,insert:"</>"}};if(r=="/"&&f.name=="JSXStartCloseTag"){let h=f.parent,p=h.parent;if(p&&h.from==u-2&&((d=oEe(s.doc,p.firstChild,u))||((c=p.firstChild)===null||c===void 0?void 0:c.name)=="JSXFragmentTag")){let g=`${d}>`;return{range:Ee.cursor(u+g.length,-1),changes:{from:u,insert:g}}}}else if(r==">"){let h=GTn(f);if(h&&!/^\/?>|^<\//.test(s.doc.sliceString(u,u+2))&&(d=oEe(s.doc,h,u)))return{range:l,changes:{from:u,insert:`</${d}>`}}}}return{range:l}});return a.changes.empty?!1:(e.dispatch([o,s.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)});function JTn(e,t){return t||(t={parserOptions:{ecmaVersion:2019,sourceType:"module"},env:{browser:!0,node:!0,es6:!0,es2015:!0,es2017:!0,es2020:!0},rules:{}},e.getRules().forEach((n,r)=>{n.meta.docs.recommended&&(t.rules[r]=2)})),n=>{let{state:r}=n,i=[];for(let{from:o,to:s}of Du.findRegions(r)){let a=r.doc.lineAt(o),l={line:a.number-1,col:o-a.from,pos:o};for(let c of e.verify(r.sliceDoc(o,s),t))i.push(e2n(c,r.doc,l))}return i}}function sEe(e,t,n,r){return n.line(e+r.line).from+t+(e==1?r.col-1:-1)}function e2n(e,t,n){let r=sEe(e.line,e.column,t,n),i={from:r,to:e.endLine!=null&&e.endColumn!=1?sEe(e.endLine,e.endColumn,t,n):r,message:e.message,source:e.ruleId?"eslint:"+e.ruleId:"eslint",severity:e.severity==1?"warning":"error"};if(e.fix){let{range:o,text:s}=e.fix,a=o[0]+n.pos-r,l=o[1]+n.pos-r;i.actions=[{name:"fix",apply(c,u){c.dispatch({changes:{from:u+a,to:u+l,insert:s},scrollIntoView:!0})}}]}return i}const GN=Object.freeze(Object.defineProperty({__proto__:null,autoCloseTags:wKe,completionPath:yKe,esLint:JTn,javascript:xKe,javascriptLanguage:Du,jsxLanguage:Ofe,localCompletionSource:mKe,scopeCompletionSource:HTn,snippets:yfe,tsxLanguage:xfe,typescriptLanguage:bfe,typescriptSnippets:hKe},Symbol.toStringTag,{value:"Module"})),Y$=["_blank","_self","_top","_parent"],oU=["ascii","utf-8","utf-16","latin1","latin1"],sU=["get","post","put","delete"],aU=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],sc=["true","false"],_t={},t2n={a:{attrs:{href:null,ping:null,type:null,media:null,target:Y$,hreflang:null}},abbr:_t,address:_t,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:_t,aside:_t,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:_t,base:{attrs:{href:null,target:Y$}},bdi:_t,bdo:_t,blockquote:{attrs:{cite:null}},body:_t,br:_t,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:aU,formmethod:sU,formnovalidate:["novalidate"],formtarget:Y$,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:_t,center:_t,cite:_t,code:_t,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:_t,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:_t,div:_t,dl:_t,dt:_t,em:_t,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:_t,figure:_t,footer:_t,form:{attrs:{action:null,name:null,"accept-charset":oU,autocomplete:["on","off"],enctype:aU,method:sU,novalidate:["novalidate"],target:Y$}},h1:_t,h2:_t,h3:_t,h4:_t,h5:_t,h6:_t,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:_t,hgroup:_t,hr:_t,html:{attrs:{manifest:null}},i:_t,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:aU,formmethod:sU,formnovalidate:["novalidate"],formtarget:Y$,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:_t,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:_t,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:_t,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:oU,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:_t,noscript:_t,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:_t,param:{attrs:{name:null,value:null}},pre:_t,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:_t,rt:_t,ruby:_t,samp:_t,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:oU}},section:_t,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:_t,source:{attrs:{src:null,type:null,media:null}},span:_t,strong:_t,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:_t,summary:_t,sup:_t,table:_t,tbody:_t,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:_t,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:_t,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:_t,time:{attrs:{datetime:null}},title:_t,tr:_t,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:_t,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:_t},SKe={accesskey:null,class:null,contenteditable:sc,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:sc,autocorrect:sc,autocapitalize:sc,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":sc,"aria-autocomplete":["inline","list","both","none"],"aria-busy":sc,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":sc,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":sc,"aria-hidden":sc,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":sc,"aria-multiselectable":sc,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":sc,"aria-relevant":null,"aria-required":sc,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},_Ke="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(e=>"on"+e);for(let e of _Ke)SKe[e]=null;class xP{constructor(t,n){this.tags=Object.assign(Object.assign({},t2n),t),this.globalAttrs=Object.assign(Object.assign({},SKe),n),this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}xP.default=new xP;function w_(e,t,n=e.length){if(!t)return"";let r=t.firstChild,i=r&&r.getChild("TagName");return i?e.sliceString(i.from,Math.min(i.to,n)):""}function S_(e,t=!1){for(;e;e=e.parent)if(e.name=="Element")if(t)t=!1;else return e;return null}function CKe(e,t,n){let r=n.tags[w_(e,S_(t))];return(r==null?void 0:r.children)||n.allTags}function wfe(e,t){let n=[];for(let r=S_(t);r&&!r.type.isTop;r=S_(r.parent)){let i=w_(e,r);if(i&&r.lastChild.name=="CloseTag")break;i&&n.indexOf(i)<0&&(t.name=="EndTag"||t.from>=r.firstChild.to)&&n.push(i)}return n}const $Ke=/^[:\-\.\w\u00b7-\uffff]*$/;function aEe(e,t,n,r,i){let o=/\s*>/.test(e.sliceDoc(i,i+5))?"":">",s=S_(n,!0);return{from:r,to:i,options:CKe(e.doc,s,t).map(a=>({label:a,type:"type"})).concat(wfe(e.doc,n).map((a,l)=>({label:"/"+a,apply:"/"+a+o,type:"type",boost:99-l}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function lEe(e,t,n,r){let i=/\s*>/.test(e.sliceDoc(r,r+5))?"":">";return{from:n,to:r,options:wfe(e.doc,t).map((o,s)=>({label:o,apply:o+i,type:"type",boost:99-s})),validFor:$Ke}}function n2n(e,t,n,r){let i=[],o=0;for(let s of CKe(e.doc,n,t))i.push({label:"<"+s,type:"type"});for(let s of wfe(e.doc,n))i.push({label:"</"+s+">",type:"type",boost:99-o++});return{from:r,to:r,options:i,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function r2n(e,t,n,r,i){let o=S_(n),s=o?t.tags[w_(e.doc,o)]:null,a=s&&s.attrs?Object.keys(s.attrs):[],l=s&&s.globalAttrs===!1?a:a.length?a.concat(t.globalAttrNames):t.globalAttrNames;return{from:r,to:i,options:l.map(c=>({label:c,type:"property"})),validFor:$Ke}}function i2n(e,t,n,r,i){var o;let s=(o=n.parent)===null||o===void 0?void 0:o.getChild("AttributeName"),a=[],l;if(s){let c=e.sliceDoc(s.from,s.to),u=t.globalAttrs[c];if(!u){let f=S_(n),d=f?t.tags[w_(e.doc,f)]:null;u=(d==null?void 0:d.attrs)&&d.attrs[c]}if(u){let f=e.sliceDoc(r,i).toLowerCase(),d='"',h='"';/^['"]/.test(f)?(l=f[0]=='"'?/^[^"]*$/:/^[^']*$/,d="",h=e.sliceDoc(i,i+1)==f[0]?"":f[0],f=f.slice(1),r++):l=/^[^\s<>='"]*$/;for(let p of u)a.push({label:p,apply:d+p+h,type:"constant"})}}return{from:r,to:i,options:a,validFor:l}}function EKe(e,t){let{state:n,pos:r}=t,i=br(n).resolveInner(r,-1),o=i.resolve(r);for(let s=r,a;o==i&&(a=i.childBefore(s));){let l=a.lastChild;if(!l||!l.type.isError||l.from<l.to)break;o=i=a,s=l.from}return i.name=="TagName"?i.parent&&/CloseTag$/.test(i.parent.name)?lEe(n,i,i.from,r):aEe(n,e,i,i.from,r):i.name=="StartTag"?aEe(n,e,i,r,r):i.name=="StartCloseTag"||i.name=="IncompleteCloseTag"?lEe(n,i,r,r):t.explicit&&(i.name=="OpenTag"||i.name=="SelfClosingTag")||i.name=="AttributeName"?r2n(n,e,i,i.name=="AttributeName"?i.from:r,r):i.name=="Is"||i.name=="AttributeValue"||i.name=="UnquotedAttributeValue"?i2n(n,e,i,i.name=="Is"?r:i.from,r):t.explicit&&(o.name=="Element"||o.name=="Text"||o.name=="Document")?n2n(n,e,i,r):null}function kKe(e){return EKe(xP.default,e)}function TKe(e){let{extraTags:t,extraGlobalAttributes:n}=e,r=n||t?new xP(t,n):xP.default;return i=>EKe(r,i)}const o2n=Du.parser.configure({top:"SingleExpression"}),PKe=[{tag:"script",attrs:e=>e.type=="text/typescript"||e.lang=="ts",parser:bfe.parser},{tag:"script",attrs:e=>e.type=="text/babel"||e.type=="text/jsx",parser:Ofe.parser},{tag:"script",attrs:e=>e.type=="text/typescript-jsx",parser:xfe.parser},{tag:"script",attrs(e){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(e.type)},parser:o2n},{tag:"script",attrs(e){return!e.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(e.type)},parser:Du.parser},{tag:"style",attrs(e){return(!e.lang||e.lang=="css")&&(!e.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(e.type))},parser:OP.parser}],RKe=[{name:"style",parser:OP.parser.configure({top:"Styles"})}].concat(_Ke.map(e=>({name:e,parser:Du.parser}))),Sfe=tb.define({name:"html",parser:Gkn.configure({props:[eC.add({Element(e){let t=/^(\s*)(<\/)?/.exec(e.textAfter);return e.node.to<=e.pos+t[0].length?e.continue():e.lineIndent(e.node.from)+(t[2]?0:e.unit)},"OpenTag CloseTag SelfClosingTag"(e){return e.column(e.node.from)+e.unit},Document(e){if(e.pos+/\s*/.exec(e.textAfter)[0].length<e.node.to)return e.continue();let t=null,n;for(let r=e.node;;){let i=r.lastChild;if(!i||i.name!="Element"||i.to!=r.to)break;t=r=i}return t&&!((n=t.lastChild)&&(n.name=="CloseTag"||n.name=="SelfClosingTag"))?e.lineIndent(t.from)+e.unit:null}}),R0.add({Element(e){let t=e.firstChild,n=e.lastChild;return!t||t.name!="OpenTag"?null:{from:t.to,to:n.name=="CloseTag"?n.from:e.to}}}),Uje.add({"OpenTag CloseTag":e=>e.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-._"}}),Hk=Sfe.configure({wrap:oKe(PKe,RKe)});function AKe(e={}){let t="",n;e.matchClosingTags===!1&&(t="noMatch"),e.selfClosingTags===!0&&(t=(t?t+" ":"")+"selfClosing"),(e.nestedLanguages&&e.nestedLanguages.length||e.nestedAttributes&&e.nestedAttributes.length)&&(n=oKe((e.nestedLanguages||[]).concat(PKe),(e.nestedAttributes||[]).concat(RKe)));let r=n?Sfe.configure({wrap:n,dialect:t}):t?Hk.configure({dialect:t}):Hk;return new Jy(r,[Hk.data.of({autocomplete:TKe(e)}),e.autoCloseTags!==!1?DKe:[],xKe().support,fKe().support])}const cEe=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),DKe=nt.inputHandler.of((e,t,n,r,i)=>{if(e.composing||e.state.readOnly||t!=n||r!=">"&&r!="/"||!Hk.isActiveAt(e.state,t,-1))return!1;let o=i(),{state:s}=o,a=s.changeByRange(l=>{var c,u,f;let d=s.doc.sliceString(l.from-1,l.to)==r,{head:h}=l,p=br(s).resolveInner(h-1,-1),g;if((p.name=="TagName"||p.name=="StartTag")&&(p=p.parent),d&&r==">"&&p.name=="OpenTag"){if(((u=(c=p.parent)===null||c===void 0?void 0:c.lastChild)===null||u===void 0?void 0:u.name)!="CloseTag"&&(g=w_(s.doc,p.parent,h))&&!cEe.has(g)){let y=h+(s.doc.sliceString(h,h+1)===">"?1:0),v=`</${g}>`;return{range:l,changes:{from:h,to:y,insert:v}}}}else if(d&&r=="/"&&p.name=="IncompleteCloseTag"){let y=p.parent;if(p.from==h-2&&((f=y.lastChild)===null||f===void 0?void 0:f.name)!="CloseTag"&&(g=w_(s.doc,y,h))&&!cEe.has(g)){let v=h+(s.doc.sliceString(h,h+1)===">"?1:0),x=`${g}>`;return{range:Ee.cursor(h+x.length,-1),changes:{from:h,to:v,insert:x}}}}return{range:l}});return a.changes.empty?!1:(e.dispatch([o,s.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),s2n=Object.freeze(Object.defineProperty({__proto__:null,autoCloseTags:DKe,html:AKe,htmlCompletionSource:kKe,htmlCompletionSourceWith:TKe,htmlLanguage:Hk,htmlPlain:Sfe},Symbol.toStringTag,{value:"Module"})),NKe=B6({commentTokens:{block:{open:"<!--",close:"-->"}}}),MKe=new Yt,IKe=ekn.configure({props:[R0.add(e=>!e.is("Block")||e.is("Document")||nJ(e)!=null?void 0:(t,n)=>({from:n.doc.lineAt(t.from).to,to:t.to})),MKe.add(nJ),eC.add({Document:()=>null}),Vm.add({Document:NKe})]});function nJ(e){let t=/^(?:ATX|Setext)Heading(\d)$/.exec(e.name);return t?+t[1]:void 0}function a2n(e,t){let n=e;for(;;){let r=n.nextSibling,i;if(!r||(i=nJ(r.type))!=null&&i<=t)break;n=r}return n.to}const l2n=kje.of((e,t,n)=>{for(let r=br(e).resolveInner(n,-1);r&&!(r.from<t);r=r.parent){let i=r.type.prop(MKe);if(i==null)continue;let o=a2n(r,i);if(o>n)return{from:n,to:o}}return null});function _fe(e){return new Cl(NKe,e,[l2n],"markdown")}const LKe=_fe(IKe),c2n=IKe.configure([fkn,hkn,dkn,pkn,{props:[R0.add({Table:(e,t)=>({from:t.doc.lineAt(e.from).to,to:e.to})})]}]),Cfe=_fe(c2n);function u2n(e,t){return n=>{if(n&&e){let r=null;if(n=/\S*/.exec(n)[0],typeof e=="function"?r=e(n):r=Ce.matchLanguageName(e,n,!0),r instanceof Ce)return r.support?r.support.language.parser:nb.getSkippingParser(r.load());if(r)return r.parser}return t?t.parser:null}}class KN{constructor(t,n,r,i,o,s,a){this.node=t,this.from=n,this.to=r,this.spaceBefore=i,this.spaceAfter=o,this.type=s,this.item=a}blank(t,n=!0){let r=this.spaceBefore+(this.node.name=="Blockquote"?">":"");if(t!=null){for(;r.length<t;)r+=" ";return r}else{for(let i=this.to-this.from-r.length-this.spaceAfter.length;i>0;i--)r+=" ";return r+(n?this.spaceAfter:"")}}marker(t,n){let r=this.node.name=="OrderedList"?String(+FKe(this.item,t)[2]+n):"";return this.spaceBefore+r+this.type+this.spaceAfter}}function jKe(e,t){let n=[];for(let i=e;i&&i.name!="Document";i=i.parent)(i.name=="ListItem"||i.name=="Blockquote"||i.name=="FencedCode")&&n.push(i);let r=[];for(let i=n.length-1;i>=0;i--){let o=n[i],s,a=t.lineAt(o.from),l=o.from-a.from;if(o.name=="FencedCode")r.push(new KN(o,l,l,"","","",null));else if(o.name=="Blockquote"&&(s=/^ *>( ?)/.exec(a.text.slice(l))))r.push(new KN(o,l,l+s[0].length,"",s[1],">",null));else if(o.name=="ListItem"&&o.parent.name=="OrderedList"&&(s=/^( *)\d+([.)])( *)/.exec(a.text.slice(l)))){let c=s[3],u=s[0].length;c.length>=4&&(c=c.slice(0,c.length-4),u-=4),r.push(new KN(o.parent,l,l+u,s[1],c,s[2],o))}else if(o.name=="ListItem"&&o.parent.name=="BulletList"&&(s=/^( *)([-+*])( {1,4}\[[ xX]\])?( +)/.exec(a.text.slice(l)))){let c=s[4],u=s[0].length;c.length>4&&(c=c.slice(0,c.length-4),u-=4);let f=s[2];s[3]&&(f+=s[3].replace(/[xX]/," ")),r.push(new KN(o.parent,l,l+u,s[1],c,f,o))}}return r}function FKe(e,t){return/^(\s*)(\d+)(?=[.)])/.exec(t.sliceString(e.from,e.from+10))}function lU(e,t,n,r=0){for(let i=-1,o=e;;){if(o.name=="ListItem"){let a=FKe(o,t),l=+a[2];if(i>=0){if(l!=i+1)return;n.push({from:o.from+a[1].length,to:o.from+a[0].length,insert:String(i+2+r)})}i=l}let s=o.nextSibling;if(!s)break;o=s}}function $fe(e,t){let n=/^[ \t]*/.exec(e)[0].length;if(!n||t.facet(mg)!="	")return e;let r=Kf(e,4,n),i="";for(let o=r;o>0;)o>=4?(i+="	",o-=4):(i+=" ",o--);return i+e.slice(n)}const zKe=({state:e,dispatch:t})=>{let n=br(e),{doc:r}=e,i=null,o=e.changeByRange(s=>{if(!s.empty||!Cfe.isActiveAt(e,s.from))return i={range:s};let a=s.from,l=r.lineAt(a),c=jKe(n.resolveInner(a,-1),r);for(;c.length&&c[c.length-1].from>a-l.from;)c.pop();if(!c.length)return i={range:s};let u=c[c.length-1];if(u.to-u.spaceAfter.length>a-l.from)return i={range:s};let f=a>=u.to-u.spaceAfter.length&&!/\S/.test(l.text.slice(u.to));if(u.item&&f){let y=u.node.firstChild,v=u.node.getChild("ListItem","ListItem");if(y.to>=a||v&&v.to<a||l.from>0&&!/[^\s>]/.test(r.lineAt(l.from-1).text)){let x=c.length>1?c[c.length-2]:null,m,w="";x&&x.item?(m=l.from+x.from,w=x.marker(r,1)):m=l.from+(x?x.to:0);let S=[{from:m,to:a,insert:w}];return u.node.name=="OrderedList"&&lU(u.item,r,S,-2),x&&x.node.name=="OrderedList"&&lU(x.item,r,S),{range:Ee.cursor(m+w.length),changes:S}}else{let x=fEe(c,e,l);return{range:Ee.cursor(a+x.length+1),changes:{from:l.from,insert:x+e.lineBreak}}}}if(u.node.name=="Blockquote"&&f&&l.from){let y=r.lineAt(l.from-1),v=/>\s*$/.exec(y.text);if(v&&v.index==u.from){let x=e.changes([{from:y.from+v.index,to:y.to},{from:l.from+u.from,to:l.to}]);return{range:s.map(x),changes:x}}}let d=[];u.node.name=="OrderedList"&&lU(u.item,r,d);let h=u.item&&u.item.from<l.from,p="";if(!h||/^[\s\d.)\-+*>]*/.exec(l.text)[0].length>=u.to)for(let y=0,v=c.length-1;y<=v;y++)p+=y==v&&!h?c[y].marker(r,1):c[y].blank(y<v?Kf(l.text,4,c[y+1].from)-p.length:null);let g=a;for(;g>l.from&&/\s/.test(l.text.charAt(g-l.from-1));)g--;return p=$fe(p,e),f2n(u.node,e.doc)&&(p=fEe(c,e,l)+e.lineBreak+p),d.push({from:g,to:a,insert:e.lineBreak+p}),{range:Ee.cursor(g+p.length+1),changes:d}});return i?!1:(t(e.update(o,{scrollIntoView:!0,userEvent:"input"})),!0)};function uEe(e){return e.name=="QuoteMark"||e.name=="ListMark"}function f2n(e,t){if(e.name!="OrderedList"&&e.name!="BulletList")return!1;let n=e.firstChild,r=e.getChild("ListItem","ListItem");if(!r)return!1;let i=t.lineAt(n.to),o=t.lineAt(r.from),s=/^[\s>]*$/.test(i.text);return i.number+(s?0:1)<o.number}function fEe(e,t,n){let r="";for(let i=0,o=e.length-2;i<=o;i++)r+=e[i].blank(i<o?Kf(n.text,4,e[i+1].from)-r.length:null,i<o);return $fe(r,t)}function d2n(e,t){let n=e.resolveInner(t,-1),r=t;uEe(n)&&(r=n.from,n=n.parent);for(let i;i=n.childBefore(r);)if(uEe(i))r=i.from;else if(i.name=="OrderedList"||i.name=="BulletList")n=i.lastChild,r=n.to;else break;return n}const QKe=({state:e,dispatch:t})=>{let n=br(e),r=null,i=e.changeByRange(o=>{let s=o.from,{doc:a}=e;if(o.empty&&Cfe.isActiveAt(e,o.from)){let l=a.lineAt(s),c=jKe(d2n(n,s),a);if(c.length){let u=c[c.length-1],f=u.to-u.spaceAfter.length+(u.spaceAfter?1:0);if(s-l.from>f&&!/\S/.test(l.text.slice(f,s-l.from)))return{range:Ee.cursor(l.from+f),changes:{from:l.from+f,to:s}};if(s-l.from==f&&(!u.item||l.from<=u.item.from||!/\S/.test(l.text.slice(0,u.to)))){let d=l.from+u.from;if(u.item&&u.node.from<u.item.from&&/\S/.test(l.text.slice(u.from,u.to))){let h=u.blank(Kf(l.text,4,u.to)-Kf(l.text,4,u.from));return d==l.from&&(h=$fe(h,e)),{range:Ee.cursor(d+h.length),changes:{from:d,to:l.from+u.to,insert:h}}}if(d<s)return{range:Ee.cursor(d),changes:{from:d,to:s}}}}}return r={range:o}});return r?!1:(t(e.update(i,{scrollIntoView:!0,userEvent:"delete"})),!0)},BKe=[{key:"Enter",run:zKe},{key:"Backspace",run:QKe}],rJ=AKe({matchClosingTags:!1});function WKe(e={}){let{codeLanguages:t,defaultCodeLanguage:n,addKeymap:r=!0,base:{parser:i}=LKe,completeHTMLTags:o=!0}=e;if(!(i instanceof n9))throw new RangeError("Base parser provided to `markdown` should be a Markdown parser");let s=e.extensions?[e.extensions]:[],a=[rJ.support],l;n instanceof Jy?(a.push(n.support),l=n.language):n&&(l=n);let c=t||l?u2n(t,l):void 0;s.push(nkn({codeParser:c,htmlParser:rJ.language.parser})),r&&a.push(Kl.high($i.of(BKe)));let u=_fe(i.configure(s));return o&&a.push(u.data.of({autocomplete:h2n})),new Jy(u,a)}function h2n(e){let{state:t,pos:n}=e,r=/<[:\-\.\w\u00b7-\uffff]*$/.exec(t.sliceDoc(n-25,n));if(!r)return null;let i=br(t).resolveInner(n,-1);for(;i&&!i.type.isTop;){if(i.name=="CodeBlock"||i.name=="FencedCode"||i.name=="ProcessingInstructionBlock"||i.name=="CommentBlock"||i.name=="Link"||i.name=="Image")return null;i=i.parent}return{from:n-r[0].length,to:n,options:p2n(),validFor:/^<[:\-\.\w\u00b7-\uffff]*$/}}let cU=null;function p2n(){if(cU)return cU;let e=kKe(new boe(gn.create({extensions:rJ}),0,!0));return cU=e?e.options:[]}const g2n=Object.freeze(Object.defineProperty({__proto__:null,commonmarkLanguage:LKe,deleteMarkupBackward:QKe,insertNewlineContinueMarkup:zKe,markdown:WKe,markdownKeymap:BKe,markdownLanguage:Cfe},Symbol.toStringTag,{value:"Module"}));function Qe(e){return new Jy(tie.define(e))}function im(e){return $e(()=>import("./index-EcmkoEcS.js"),__vite__mapDeps([]),import.meta.url).then(t=>t.sql({dialect:t[e]}))}const m2n=[Ce.of({name:"C",extensions:["c","h","ino"],load(){return $e(()=>import("./index-MJRnrW7s.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.cpp())}}),Ce.of({name:"C++",alias:["cpp"],extensions:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],load(){return $e(()=>import("./index-MJRnrW7s.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.cpp())}}),Ce.of({name:"CQL",alias:["cassandra"],extensions:["cql"],load(){return im("Cassandra")}}),Ce.of({name:"CSS",extensions:["css"],load(){return $e(()=>Promise.resolve().then(()=>_Tn),void 0,import.meta.url).then(e=>e.css())}}),Ce.of({name:"HTML",alias:["xhtml"],extensions:["html","htm","handlebars","hbs"],load(){return $e(()=>Promise.resolve().then(()=>s2n),void 0,import.meta.url).then(e=>e.html())}}),Ce.of({name:"Java",extensions:["java"],load(){return $e(()=>import("./index-FijxVbf-.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.java())}}),Ce.of({name:"JavaScript",alias:["ecmascript","js","node"],extensions:["js","mjs","cjs"],load(){return $e(()=>Promise.resolve().then(()=>GN),void 0,import.meta.url).then(e=>e.javascript())}}),Ce.of({name:"JSON",alias:["json5"],extensions:["json","map"],load(){return $e(()=>import("./index-1ntHIOnw.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.json())}}),Ce.of({name:"JSX",extensions:["jsx"],load(){return $e(()=>Promise.resolve().then(()=>GN),void 0,import.meta.url).then(e=>e.javascript({jsx:!0}))}}),Ce.of({name:"LESS",extensions:["less"],load(){return $e(()=>import("./index-66i53PUW.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.less())}}),Ce.of({name:"Liquid",extensions:["liquid"],load(){return $e(()=>import("./index-KnOz0bCh.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.liquid())}}),Ce.of({name:"MariaDB SQL",load(){return im("MariaSQL")}}),Ce.of({name:"Markdown",extensions:["md","markdown","mkd"],load(){return $e(()=>Promise.resolve().then(()=>g2n),void 0,import.meta.url).then(e=>e.markdown())}}),Ce.of({name:"MS SQL",load(){return im("MSSQL")}}),Ce.of({name:"MySQL",load(){return im("MySQL")}}),Ce.of({name:"PHP",extensions:["php","php3","php4","php5","php7","phtml"],load(){return $e(()=>import("./index-njrmhRPj.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.php())}}),Ce.of({name:"PLSQL",extensions:["pls"],load(){return im("PLSQL")}}),Ce.of({name:"PostgreSQL",load(){return im("PostgreSQL")}}),Ce.of({name:"Python",extensions:["BUILD","bzl","py","pyw"],filename:/^(BUCK|BUILD)$/,load(){return $e(()=>Promise.resolve().then(()=>dWt),void 0,import.meta.url).then(e=>e.python())}}),Ce.of({name:"Rust",extensions:["rs"],load(){return $e(()=>import("./index-iNvYh1US.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.rust())}}),Ce.of({name:"Sass",extensions:["sass"],load(){return $e(()=>import("./index-mrXvaZkp.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.sass({indented:!0}))}}),Ce.of({name:"SCSS",extensions:["scss"],load(){return $e(()=>import("./index-mrXvaZkp.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.sass())}}),Ce.of({name:"SQL",extensions:["sql"],load(){return im("StandardSQL")}}),Ce.of({name:"SQLite",load(){return im("SQLite")}}),Ce.of({name:"TSX",extensions:["tsx"],load(){return $e(()=>Promise.resolve().then(()=>GN),void 0,import.meta.url).then(e=>e.javascript({jsx:!0,typescript:!0}))}}),Ce.of({name:"TypeScript",alias:["ts"],extensions:["ts"],load(){return $e(()=>Promise.resolve().then(()=>GN),void 0,import.meta.url).then(e=>e.javascript({typescript:!0}))}}),Ce.of({name:"WebAssembly",extensions:["wat","wast"],load(){return $e(()=>import("./index-gRcQ3Cgj.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.wast())}}),Ce.of({name:"XML",alias:["rss","wsdl","xsd"],extensions:["xml","xsl","xsd","svg"],load(){return $e(()=>import("./index-Mi27L5xn.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.xml())}}),Ce.of({name:"YAML",alias:["yml"],extensions:["yaml","yml"],load(){return $e(()=>import("./index-Bji8XJKm.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.yaml())}}),Ce.of({name:"APL",extensions:["dyalog","apl"],load(){return $e(()=>import("./apl-NWJ71v8P.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.apl))}}),Ce.of({name:"PGP",alias:["asciiarmor"],extensions:["asc","pgp","sig"],load(){return $e(()=>import("./asciiarmor-b1CB_ZQy.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.asciiArmor))}}),Ce.of({name:"ASN.1",extensions:["asn","asn1"],load(){return $e(()=>import("./asn1-8gHclKtu.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.asn1({})))}}),Ce.of({name:"Asterisk",filename:/^extensions\.conf$/i,load(){return $e(()=>import("./asterisk-ACCUf8tF.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.asterisk))}}),Ce.of({name:"Brainfuck",extensions:["b","bf"],load(){return $e(()=>import("./brainfuck-PKU_UYGU.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.brainfuck))}}),Ce.of({name:"Cobol",extensions:["cob","cpy"],load(){return $e(()=>import("./cobol-33-QaiV4.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.cobol))}}),Ce.of({name:"C#",alias:["csharp","cs"],extensions:["cs"],load(){return $e(()=>import("./clike-mt9ye8fP.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.csharp))}}),Ce.of({name:"Clojure",extensions:["clj","cljc","cljx"],load(){return $e(()=>import("./clojure-plf_rynZ.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.clojure))}}),Ce.of({name:"ClojureScript",extensions:["cljs"],load(){return $e(()=>import("./clojure-plf_rynZ.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.clojure))}}),Ce.of({name:"Closure Stylesheets (GSS)",extensions:["gss"],load(){return $e(()=>import("./css-tpsEXL3H.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.gss))}}),Ce.of({name:"CMake",extensions:["cmake","cmake.in"],filename:/^CMakeLists\.txt$/,load(){return $e(()=>import("./cmake-eS1IfDXW.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.cmake))}}),Ce.of({name:"CoffeeScript",alias:["coffee","coffee-script"],extensions:["coffee"],load(){return $e(()=>import("./coffeescript-VEaTNWO1.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.coffeeScript))}}),Ce.of({name:"Common Lisp",alias:["lisp"],extensions:["cl","lisp","el"],load(){return $e(()=>import("./commonlisp-kJBx8_bc.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.commonLisp))}}),Ce.of({name:"Cypher",extensions:["cyp","cypher"],load(){return $e(()=>import("./cypher-QyyJuGxc.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.cypher))}}),Ce.of({name:"Cython",extensions:["pyx","pxd","pxi"],load(){return $e(()=>import("./python-xljIYvii.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.cython))}}),Ce.of({name:"Crystal",extensions:["cr"],load(){return $e(()=>import("./crystal-dFKz1t2p.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.crystal))}}),Ce.of({name:"D",extensions:["d"],load(){return $e(()=>import("./d-Ux4432M7.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.d))}}),Ce.of({name:"Dart",extensions:["dart"],load(){return $e(()=>import("./clike-mt9ye8fP.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.dart))}}),Ce.of({name:"diff",extensions:["diff","patch"],load(){return $e(()=>import("./diff-W9T6HfPr.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.diff))}}),Ce.of({name:"Dockerfile",filename:/^Dockerfile$/,load(){return $e(()=>import("./dockerfile-lwekK1pc.js"),__vite__mapDeps([27,28]),import.meta.url).then(e=>Qe(e.dockerFile))}}),Ce.of({name:"DTD",extensions:["dtd"],load(){return $e(()=>import("./dtd-wOAoOpgq.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.dtd))}}),Ce.of({name:"Dylan",extensions:["dylan","dyl","intr"],load(){return $e(()=>import("./dylan-NRnXAE2N.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.dylan))}}),Ce.of({name:"EBNF",load(){return $e(()=>import("./ebnf-d73T8eT9.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.ebnf))}}),Ce.of({name:"ECL",extensions:["ecl"],load(){return $e(()=>import("./ecl-Iq2T8Exp.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.ecl))}}),Ce.of({name:"edn",extensions:["edn"],load(){return $e(()=>import("./clojure-plf_rynZ.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.clojure))}}),Ce.of({name:"Eiffel",extensions:["e"],load(){return $e(()=>import("./eiffel-bWq2HPfv.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.eiffel))}}),Ce.of({name:"Elm",extensions:["elm"],load(){return $e(()=>import("./elm-ya_I4TKC.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.elm))}}),Ce.of({name:"Erlang",extensions:["erl"],load(){return $e(()=>import("./erlang-TfXG0eQu.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.erlang))}}),Ce.of({name:"Esper",load(){return $e(()=>import("./sql-3IaSLchm.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.esper))}}),Ce.of({name:"Factor",extensions:["factor"],load(){return $e(()=>import("./factor-n5C-8Rbj.js"),__vite__mapDeps([36,28]),import.meta.url).then(e=>Qe(e.factor))}}),Ce.of({name:"FCL",load(){return $e(()=>import("./fcl-TM4st5N8.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.fcl))}}),Ce.of({name:"Forth",extensions:["forth","fth","4th"],load(){return $e(()=>import("./forth-QMA36C2f.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.forth))}}),Ce.of({name:"Fortran",extensions:["f","for","f77","f90","f95"],load(){return $e(()=>import("./fortran-VJrN18k6.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.fortran))}}),Ce.of({name:"F#",alias:["fsharp"],extensions:["fs"],load(){return $e(()=>import("./mllike-ilm95jrV.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.fSharp))}}),Ce.of({name:"Gas",extensions:["s"],load(){return $e(()=>import("./gas-FGOyvNF7.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.gas))}}),Ce.of({name:"Gherkin",extensions:["feature"],load(){return $e(()=>import("./gherkin-pp3J_uZm.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.gherkin))}}),Ce.of({name:"Go",extensions:["go"],load(){return $e(()=>import("./go-FYuTHF55.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.go))}}),Ce.of({name:"Groovy",extensions:["groovy","gradle"],filename:/^Jenkinsfile$/,load(){return $e(()=>import("./groovy-EIBxbSyw.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.groovy))}}),Ce.of({name:"Haskell",extensions:["hs"],load(){return $e(()=>import("./haskell-Bro2iIMS.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.haskell))}}),Ce.of({name:"Haxe",extensions:["hx"],load(){return $e(()=>import("./haxe-d1iSDE_y.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.haxe))}}),Ce.of({name:"HXML",extensions:["hxml"],load(){return $e(()=>import("./haxe-d1iSDE_y.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.hxml))}}),Ce.of({name:"HTTP",load(){return $e(()=>import("./http-CuvaccQI.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.http))}}),Ce.of({name:"IDL",extensions:["pro"],load(){return $e(()=>import("./idl-q3g1g2-u.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.idl))}}),Ce.of({name:"JSON-LD",alias:["jsonld"],extensions:["jsonld"],load(){return $e(()=>import("./javascript-upQ8KtFH.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.jsonld))}}),Ce.of({name:"Jinja2",extensions:["j2","jinja","jinja2"],load(){return $e(()=>import("./jinja2-cN3oZf3H.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.jinja2))}}),Ce.of({name:"Julia",extensions:["jl"],load(){return $e(()=>import("./julia-VvN2hwtz.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.julia))}}),Ce.of({name:"Kotlin",extensions:["kt","kts"],load(){return $e(()=>import("./clike-mt9ye8fP.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.kotlin))}}),Ce.of({name:"LiveScript",alias:["ls"],extensions:["ls"],load(){return $e(()=>import("./livescript-7ItMEI6r.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.liveScript))}}),Ce.of({name:"Lua",extensions:["lua"],load(){return $e(()=>import("./lua-mz08zoKz.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.lua))}}),Ce.of({name:"mIRC",extensions:["mrc"],load(){return $e(()=>import("./mirc-xT_VZoiu.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.mirc))}}),Ce.of({name:"Mathematica",extensions:["m","nb","wl","wls"],load(){return $e(()=>import("./mathematica-ssx8jSNw.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.mathematica))}}),Ce.of({name:"Modelica",extensions:["mo"],load(){return $e(()=>import("./modelica-Ih1c_U0Z.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.modelica))}}),Ce.of({name:"MUMPS",extensions:["mps"],load(){return $e(()=>import("./mumps-_AJA66o-.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.mumps))}}),Ce.of({name:"Mbox",extensions:["mbox"],load(){return $e(()=>import("./mbox-i42h5yC3.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.mbox))}}),Ce.of({name:"Nginx",filename:/nginx.*\.conf$/i,load(){return $e(()=>import("./nginx-kN-ewIt1.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.nginx))}}),Ce.of({name:"NSIS",extensions:["nsh","nsi"],load(){return $e(()=>import("./nsis-jdviaxxC.js"),__vite__mapDeps([59,28]),import.meta.url).then(e=>Qe(e.nsis))}}),Ce.of({name:"NTriples",extensions:["nt","nq"],load(){return $e(()=>import("./ntriples-I089Btpy.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.ntriples))}}),Ce.of({name:"Objective-C",alias:["objective-c","objc"],extensions:["m"],load(){return $e(()=>import("./clike-mt9ye8fP.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.objectiveC))}}),Ce.of({name:"Objective-C++",alias:["objective-c++","objc++"],extensions:["mm"],load(){return $e(()=>import("./clike-mt9ye8fP.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.objectiveCpp))}}),Ce.of({name:"OCaml",extensions:["ml","mli","mll","mly"],load(){return $e(()=>import("./mllike-ilm95jrV.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.oCaml))}}),Ce.of({name:"Octave",extensions:["m"],load(){return $e(()=>import("./octave-r9zOB_Vn.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.octave))}}),Ce.of({name:"Oz",extensions:["oz"],load(){return $e(()=>import("./oz-YDRr8C9p.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.oz))}}),Ce.of({name:"Pascal",extensions:["p","pas"],load(){return $e(()=>import("./pascal-jv2vrLQY.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.pascal))}}),Ce.of({name:"Perl",extensions:["pl","pm"],load(){return $e(()=>import("./perl-nuTMZjQF.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.perl))}}),Ce.of({name:"Pig",extensions:["pig"],load(){return $e(()=>import("./pig-oLtu5bJ7.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.pig))}}),Ce.of({name:"PowerShell",extensions:["ps1","psd1","psm1"],load(){return $e(()=>import("./powershell-DqDkz_Va.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.powerShell))}}),Ce.of({name:"Properties files",alias:["ini","properties"],extensions:["properties","ini","in"],load(){return $e(()=>import("./properties-sEOi2jVd.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.properties))}}),Ce.of({name:"ProtoBuf",extensions:["proto"],load(){return $e(()=>import("./protobuf-sval7f48.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.protobuf))}}),Ce.of({name:"Puppet",extensions:["pp"],load(){return $e(()=>import("./puppet-hc5qP9oF.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.puppet))}}),Ce.of({name:"Q",extensions:["q"],load(){return $e(()=>import("./q-iLNioecz.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.q))}}),Ce.of({name:"R",alias:["rscript"],extensions:["r","R"],load(){return $e(()=>import("./r-2K9hScqI.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.r))}}),Ce.of({name:"RPM Changes",load(){return $e(()=>import("./rpm-cddeyEgF.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.rpmChanges))}}),Ce.of({name:"RPM Spec",extensions:["spec"],load(){return $e(()=>import("./rpm-cddeyEgF.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.rpmSpec))}}),Ce.of({name:"Ruby",alias:["jruby","macruby","rake","rb","rbx"],extensions:["rb"],filename:/^(Gemfile|Rakefile)$/,load(){return $e(()=>import("./ruby-fz4IzCwP.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.ruby))}}),Ce.of({name:"SAS",extensions:["sas"],load(){return $e(()=>import("./sas-myoI2zC6.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.sas))}}),Ce.of({name:"Scala",extensions:["scala"],load(){return $e(()=>import("./clike-mt9ye8fP.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.scala))}}),Ce.of({name:"Scheme",extensions:["scm","ss"],load(){return $e(()=>import("./scheme-Wu_JkYzm.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.scheme))}}),Ce.of({name:"Shell",alias:["bash","sh","zsh"],extensions:["sh","ksh","bash"],filename:/^PKGBUILD$/,load(){return $e(()=>import("./shell-R8s-uXLG.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.shell))}}),Ce.of({name:"Sieve",extensions:["siv","sieve"],load(){return $e(()=>import("./sieve-BFMRIS71.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.sieve))}}),Ce.of({name:"Smalltalk",extensions:["st"],load(){return $e(()=>import("./smalltalk-QQ4DQgSw.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.smalltalk))}}),Ce.of({name:"Solr",load(){return $e(()=>import("./solr-O4MIKuLG.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.solr))}}),Ce.of({name:"SML",extensions:["sml","sig","fun","smackspec"],load(){return $e(()=>import("./mllike-ilm95jrV.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.sml))}}),Ce.of({name:"SPARQL",alias:["sparul"],extensions:["rq","sparql"],load(){return $e(()=>import("./sparql-BNeMoJj7.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.sparql))}}),Ce.of({name:"Spreadsheet",alias:["excel","formula"],load(){return $e(()=>import("./spreadsheet-8QjSk1AQ.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.spreadsheet))}}),Ce.of({name:"Squirrel",extensions:["nut"],load(){return $e(()=>import("./clike-mt9ye8fP.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.squirrel))}}),Ce.of({name:"Stylus",extensions:["styl"],load(){return $e(()=>import("./stylus-AowBLEsR.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.stylus))}}),Ce.of({name:"Swift",extensions:["swift"],load(){return $e(()=>import("./swift--PB4YP9H.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.swift))}}),Ce.of({name:"sTeX",load(){return $e(()=>import("./stex-cSGW5tcK.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.stex))}}),Ce.of({name:"LaTeX",alias:["tex"],extensions:["text","ltx","tex"],load(){return $e(()=>import("./stex-cSGW5tcK.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.stex))}}),Ce.of({name:"SystemVerilog",extensions:["v","sv","svh"],load(){return $e(()=>import("./verilog-gtvpmGm4.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.verilog))}}),Ce.of({name:"Tcl",extensions:["tcl"],load(){return $e(()=>import("./tcl-IIeu2IgZ.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.tcl))}}),Ce.of({name:"Textile",extensions:["textile"],load(){return $e(()=>import("./textile-TGFROhJu.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.textile))}}),Ce.of({name:"TiddlyWiki",load(){return $e(()=>import("./tiddlywiki-v9VLGu89.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.tiddlyWiki))}}),Ce.of({name:"Tiki wiki",load(){return $e(()=>import("./tiki-xL01oi36.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.tiki))}}),Ce.of({name:"TOML",extensions:["toml"],load(){return $e(()=>import("./toml-KzdM7nz6.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.toml))}}),Ce.of({name:"Troff",extensions:["1","2","3","4","5","6","7","8","9"],load(){return $e(()=>import("./troff-TW67-YrU.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.troff))}}),Ce.of({name:"TTCN",extensions:["ttcn","ttcn3","ttcnpp"],load(){return $e(()=>import("./ttcn-lKwyfmq7.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.ttcn))}}),Ce.of({name:"TTCN_CFG",extensions:["cfg"],load(){return $e(()=>import("./ttcn-cfg-9oMIyPXS.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.ttcnCfg))}}),Ce.of({name:"Turtle",extensions:["ttl"],load(){return $e(()=>import("./turtle-HvFxsMWZ.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.turtle))}}),Ce.of({name:"Web IDL",extensions:["webidl"],load(){return $e(()=>import("./webidl-AOIJrqhM.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.webIDL))}}),Ce.of({name:"VB.NET",extensions:["vb"],load(){return $e(()=>import("./vb-jxJyRQTP.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.vb))}}),Ce.of({name:"VBScript",extensions:["vbs"],load(){return $e(()=>import("./vbscript-9aq5ZLL2.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.vbScript))}}),Ce.of({name:"Velocity",extensions:["vtl"],load(){return $e(()=>import("./velocity-tQduwHMU.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.velocity))}}),Ce.of({name:"Verilog",extensions:["v"],load(){return $e(()=>import("./verilog-gtvpmGm4.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.verilog))}}),Ce.of({name:"VHDL",extensions:["vhd","vhdl"],load(){return $e(()=>import("./vhdl-yDlzwohc.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.vhdl))}}),Ce.of({name:"XQuery",extensions:["xy","xquery"],load(){return $e(()=>import("./xquery-BsqSevUJ.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.xQuery))}}),Ce.of({name:"Yacas",extensions:["ys"],load(){return $e(()=>import("./yacas-DpZwsl3j.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.yacas))}}),Ce.of({name:"Z80",extensions:["z80"],load(){return $e(()=>import("./z80-b6-IzNvM.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.z80))}}),Ce.of({name:"MscGen",extensions:["mscgen","mscin","msc"],load(){return $e(()=>import("./mscgen-n9YzwnbL.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.mscgen))}}),Ce.of({name:"X",extensions:["xu"],load(){return $e(()=>import("./mscgen-n9YzwnbL.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.xu))}}),Ce.of({name:"MsGenny",extensions:["msgenny"],load(){return $e(()=>import("./mscgen-n9YzwnbL.js"),__vite__mapDeps([]),import.meta.url).then(e=>Qe(e.msgenny))}}),Ce.of({name:"Vue",extensions:["vue"],load(){return $e(()=>import("./index-Dh8RGAri.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.vue())}}),Ce.of({name:"Angular Template",load(){return $e(()=>import("./index-9wqn0ISp.js"),__vite__mapDeps([]),import.meta.url).then(e=>e.angular())}})];function dEe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hEe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dEe(Object(n),!0).forEach(function(r){y2n(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dEe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y2n(e,t,n){return t=v2n(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v2n(e){var t=b2n(e,"string");return typeof t=="symbol"?t:String(t)}function b2n(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const O2n=VKe({});function VKe(e){return t.withOptions=n=>VKe(hEe(hEe({},e),n)),t;function t(n,...r){const i=typeof n=="string"?[n]:n.raw,{escapeSpecialCharacters:o=Array.isArray(n)}=e;let s="";for(let c=0;c<i.length;c++){let u=i[c];o&&(u=u.replace(/\\\n[ \t]*/g,"").replace(/\\`/g,"`").replace(/\\\$/g,"$").replace(/\\{/g,"{")),s+=u,c<r.length&&(s+=r[c])}const a=s.split(`
`);let l=null;for(const c of a){const u=c.match(/^(\s+)\S+/);if(u){const f=u[1].length;l?l=Math.min(l,f):l=f}}if(l!==null){const c=l;s=a.map(u=>u[0]===" "||u[0]==="	"?u.slice(c):u).join(`
`)}return s.trim().replace(/\\n/g,`
`)}}const UKe=["","f","r","fr","rf"],x2n=[['"""','"""'],["'''","'''"],['"','"'],["'","'"]],w2n=UKe.flatMap(e=>x2n.map(([t,n])=>[e+t,n])),pEe=w2n.map(([e,t])=>[e,new RegExp(`^mo\\.md\\(\\s*${e}(.*)${t}\\s*\\)$`,"s")]);class S2n{constructor(){be(this,"type","markdown");be(this,"lastQuotePrefix","")}transformIn(t){if(!this.isSupported(t))throw new Error("Not supported");for(const[n,r]of pEe){const i=t.match(r);if(i){const o=i[1].trim(),[s,a]=_2n(n);this.lastQuotePrefix=s;const l=o.replaceAll(`\\${a}`,a),c=t.indexOf(o);return[O2n(l),c]}}return[t,0]}transformOut(t){const n=this.lastQuotePrefix;if(!t.includes(`
`)){const a=t.replaceAll('"','\\"'),l=`mo.md(${n}"`,c='")';return[l+a+c,l.length]}const i=`mo.md(
    ${n}"""
`,o=t.replaceAll('"""','\\"""'),s=`
    """
)`;return[i+C2n(o)+s,i.length+1]}isSupported(t){return t.split(`
`).map(r=>r.startsWith("mo.md(")).filter(Boolean).length>1?!1:pEe.some(([,r])=>r.test(t))}getExtension(){return[WKe({codeLanguages:m2n,extensions:[{wrap:Dre((t,n)=>{const r=n.read(t.from,t.to),i=[],o=/{(.*?)}/g;let s;for(;(s=o.exec(r))!==null;){const a=s.index+1,l=o.lastIndex-1;i.push({from:a,to:l})}return i.length===0?null:{parser:Rw.parser,overlays:i}})}]}),T7({activateOnTyping:!0,override:[$2n]}),Doe().support]}}function _2n(e){const t=[...UKe].sort((n,r)=>r.length-n.length);for(const n of t)if(e.startsWith(n))return[n,e.slice(n.length)];return["",e]}function C2n(e){return e.split(`
`).map(t=>t.trim()===""?t:`    ${t}`).join(`
`)}const $2n=async e=>{var r;if(!e.explicit&&!e.matchBefore(/:\w*$/))return null;const t=await E2n(),n=((r=e.matchBefore(/:\w*$/))==null?void 0:r.text.slice(1))??"";return{from:e.pos-n.length-1,options:t,validFor:/^[\w:]*$/}},E2n=R_t(async()=>{const e=await fetch("https://unpkg.com/emojilib@3.0.11/dist/emoji-en-US.json").then(t=>t.json());return Object.entries(e).map(([t,n])=>({shortcode:n[0],label:n.map(r=>`:${r}`).join(" "),emoji:t,displayLabel:`${t} ${n[0].replaceAll("_"," ")}`,apply:t,type:"emoji"}))}),qKe=mt.define({combine:e=>e[0]}),iJ=new J_,YKe=Vt.define();async function Efe(e,t){const n=wn.mapValues(e,i=>wA(i)),r=await i0t({codes:n,lineLength:Uee().formatting.line_length});for(const[i,o]of wn.entries(r)){const s=n[i],a=e[i];a&&o!==s&&(t({cellId:i,code:o,formattingChange:!0}),D2n(a,o))}}function XKe(e){const t=Kjt(pie());return Efe(t,e)}const __={python:()=>new gWt,markdown:()=>new S2n},uU=[__.python(),__.markdown()],kfe=new J_,HKe=Vt.define(),Lh=qi.define({create(){return __.python()},update(e,t){for(const n of t.effects)if(n.is(HKe))return n.value;return e},provide:e=>Gy.from(e,t=>t.type==="python"?null:T2n)});function k2n(e){const t=(n,r)=>{const i=uU[r%uU.length];return i.isSupported(n)?i:t(n,r+1)};return[$i.of([{key:"F4",preventDefault:!0,run:n=>{const r=n.state.field(Lh),i=uU.findIndex(a=>a.type===r.type),o=n.state.doc.toString(),s=t(o,i+1);return r===s?!1:(ZKe(n,s),!0)}}])]}function ZKe(e,t){const n=e.state.field(Lh),r=e.state.doc.toString(),i=e.state.facet(qKe),[o,s]=n.transformOut(r),[a,l]=t.transformIn(o);let c=e.state.selection.main.head;c+=s,c-=l,c=hie(c,0,a.length),e.dispatch({effects:[HKe.of(t),kfe.reconfigure(t.getExtension(i)),iJ.reconfigure([]),YKe.of(!0)],changes:{from:0,to:e.state.doc.length,insert:a},selection:Ee.cursor(c)}),e.dispatch({effects:[iJ.reconfigure([X6()])]})}function T2n(e){const t=document.createElement("div");return t.textContent=e.state.field(Lh).type,t.style.padding="0.2rem 0.5rem",t.style.display="flex",t.style.justifyContent="flex-end",{dom:t,update(n){t.textContent=n.state.field(Lh).type}}}function P2n(e){return[qKe.of(e),k2n(),kfe.of(__.python().getExtension(e)),Lh]}function R2n(e,t){const n=__[t];ZKe(e,n())}function A2n(e,t){const n=e.state.field(Lh);return kfe.reconfigure(n.getExtension(t))}function wA(e){return e.state.field(Lh).transformOut(e.state.doc.toString())[0]}function D2n(e,t){const n=e.state.field(Lh),[r]=n.transformIn(t);return e.dispatch({changes:{from:0,to:e.state.doc.length,insert:r}}),r}function GKe(e){return[...D0().map(n=>{const r=wA(n);return r===e?null:r}).filter(Boolean).sort((n,r)=>n.startsWith("import")&&!r.startsWith("import")?-1:!n.startsWith("import")&&r.startsWith("import")?1:0),e].join(`
`)}class N2n extends EGe{constructor(){super(...arguments);be(this,"documentVersion",0)}_request(n,r){return this.request(n,r)}isDisabled(){return!ZZe()}async textDocumentDidOpen(n){return this.isDisabled()?n:super.textDocumentDidOpen(n)}async textDocumentCompletion(n){return this.isDisabled()?[]:super.textDocumentCompletion(n)}async textDocumentDidChange(n){return this.isDisabled()?n:super.textDocumentDidChange({...n,contentChanges:[{text:GKe(n.contentChanges[0].text)}],textDocument:nh.VersionedTextDocumentIdentifier.create(n.textDocument.uri,++this.documentVersion)})}textDocumentHover(n){return this.isDisabled()?Promise.resolve({contents:[]}):super.textDocumentHover(n)}signOut(){return this._request("signOut",{})}signInInitiate(){return this._request("signInInitiate",{})}signInConfirm(n){return this._request("signInConfirm",n)}async signedIn(){const{status:n}=await this._request("checkStatus",{});return n==="SignedIn"||n==="AlreadySignedIn"||n==="OK"}acceptCompletion(n){return this._request("notifyAccepted",n)}rejectCompletions(n){return this._request("notifyRejected",n)}async getCompletion(n){if(this.isDisabled())return{completions:[]};const r=this.documentVersion;return this._request("getCompletions",{doc:{...n.doc,version:r}})}}async function M2n(e,t=5){for(let n=0;n<t;n++)try{return await I2n(e)}catch{await new Promise(r=>setTimeout(r,1e3*(n+1)))}throw new Error(`Failed to connect to ${e}`)}async function I2n(e){return new Promise((t,n)=>{const r=new WebSocket(e);r.onopen=()=>{r.close(),t(e)},r.onerror=i=>{r.close(),n(new Error(`Failed to connect to ${e}: ${i.type}`))}})}const zI="/marimo.py",Tfe="copilot",hF=`file://${zI}`,KKe=V4(()=>new L2n);class L2n extends aGe{constructor(){super();be(this,"delegate");this.delegate=void 0}async connect(){return await bCn(),await M2n(gEe(),3),this.delegate||(this.delegate=new qj.WebSocketTransport(gEe())),this.delegate.connect()}close(){var n;(n=this.delegate)==null||n.close()}async sendData(n,r){var i;return(i=this.delegate)==null?void 0:i.sendData(n,r)}}const rw=V4(()=>new N2n({rootUri:hF,documentUri:hF,languageId:Tfe,workspaceFolders:null,transport:KKe()}));function j2n(){return FEn({rootUri:hF,documentUri:hF,workspaceFolders:[],transport:KKe(),client:rw(),languageId:Tfe})}function gEe(){const e=window.location.port+0;return`${window.location.protocol==="https:"?"wss":"ws"}://${window.location.hostname}:${e}/copilot`}const JKe=O.memo(()=>{const[e,t]=Fl(yCn),[n,r]=O.useState(),[i,o]=O.useState(),[s,a]=O.useState(!1);O.useEffect(()=>{const d=rw();d.initializePromise.catch(()=>{t(!1),r("notConnected")}),d.signedIn().then(h=>{t(h),r(h?"signedIn":"signedOut")}).catch(()=>{t(!1),r("notConnected")})},[]);const l=async d=>{d.preventDefault(),a(!0);try{const h=rw(),{verificationUri:p,status:g,userCode:y}=await h.signInInitiate();g==="OK"||g==="AlreadySignedIn"?t(!0):(r("signingIn"),o({url:p,code:y}))}finally{a(!1)}},c=async d=>{if(d.preventDefault(),!i)return;const h=rw();try{a(!0);const{status:p}=await h.signInConfirm({userCode:i.code});p==="OK"||p==="AlreadySignedIn"?(t(!0),r("signedIn")):r("signInFailed")}catch{for(let p=0;p<3;p++)if(await new Promise(y=>setTimeout(y,1e3)),await h.signedIn()){t(!0),r("signedIn");return}r("signInFailed")}finally{a(!1)}},u=async d=>{d.preventDefault();const h=rw();t(!1),r("signedOut"),await h.signOut()};return(()=>{switch(n??(e?"signedIn":"connecting")){case"connecting":return b.jsx(Ua,{className:"font-normal flex",children:"Connecting..."});case"signedOut":return b.jsx(zt,{onClick:l,size:"xs",variant:"link",children:"Sign in to GitHub Copilot"});case"signingIn":return b.jsxs("ol",{className:"ml-4 text-sm list-decimal [&>li]:mt-2",children:[b.jsx("li",{children:b.jsxs("div",{className:"flex items-center",children:["Copy this code:",b.jsx("strong",{className:"ml-2",children:i==null?void 0:i.code}),b.jsx(HP,{className:"ml-2 cursor-pointer opacity-60 hover:opacity-100 h-3 w-3",onClick:()=>{i&&(navigator.clipboard.writeText(i.code),Yr({description:"Copied to clipboard"}))}})]})}),b.jsxs("li",{children:["Enter the code at this link:",b.jsx("a",{href:i==null?void 0:i.url,target:"_blank",rel:"noreferrer",className:Fb({variant:"link",size:"xs"}),children:i==null?void 0:i.url})]}),b.jsxs("li",{children:["Click here when done:",b.jsxs(zt,{size:"xs",onClick:c,className:"ml-1",children:[s&&b.jsx(qT,{className:"h-3 w-3 mr-1 animate-spin"}),"Done"]})]})]});case"signInFailed":return b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsx("div",{className:"text-destructive text-sm",children:"Sign in failed. Please try again."}),s?b.jsx(qT,{className:"h-3 w-3 mr-1 animate-spin"}):b.jsx(zt,{onClick:l,size:"xs",variant:"link",children:"Connect to GitHub Copilot"})]});case"signedIn":return b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs(Ua,{className:"font-normal flex",children:[b.jsx(Bb,{className:"h-4 w-4 mr-1"}),"Connected"]}),b.jsx(zt,{onClick:u,size:"xs",variant:"text",children:"Disconnect"})]});case"notConnected":return b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsxs(Ua,{className:"font-normal flex",children:[b.jsx(Fh,{className:"h-4 w-4 mr-1"}),"Unable to connect"]}),b.jsxs("div",{className:"text-sm",children:["For troubleshooting, see the"," ",b.jsx("a",{className:"hyperlink",href:"https://docs.marimo.io/getting_started/index.html#github-copilot",target:"_blank",rel:"noreferrer",children:"docs"}),"."]})]})}})()});JKe.displayName="CopilotConfig";const eJe=({children:e})=>b.jsx("div",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide  mb-1",children:e}),JN=({children:e})=>b.jsx("div",{className:"text-sm font-semibold underline decoration-solid decoration-gray-400 underline-offset-2 text-muted-foreground uppercase tracking-wide",children:e}),tJe=({children:e})=>b.jsx("p",{className:"text-sm text-muted-foreground",children:e}),F2n=()=>{const[e,t]=_Re(),n=aoe({resolver:loe(wRe),defaultValues:e}),r=async i=>{await c0t({config:i}).then(()=>{t(i)}).catch(()=>{Yr({title:"Failed to save"})})};return b.jsx(w7e,{...n,children:b.jsxs("form",{onChange:n.handleSubmit(r),className:"flex flex-col gap-5",children:[b.jsxs("div",{children:[b.jsx(eJe,{children:"User Config"}),b.jsx(tJe,{children:"Settings applied to all marimo notebooks"})]}),b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsx(JN,{children:"Editor"}),b.jsx("div",{children:b.jsx(_r,{control:n.control,name:"save.autosave",render:({field:i})=>b.jsxs(ri,{className:"flex flex-row items-start space-x-2 space-y-0",children:[b.jsx(ii,{children:b.jsx(Dp,{checked:i.value==="after_delay",onCheckedChange:o=>{i.onChange(o?"after_delay":"off")}})}),b.jsx(dr,{className:"font-normal",children:"Autosave"})]})})}),b.jsx(_r,{control:n.control,name:"save.autosave_delay",render:({field:i})=>b.jsxs(ri,{className:"mb-2",children:[b.jsx(dr,{children:"Autosave delay (seconds)"}),b.jsx(ii,{children:b.jsx("span",{className:"inline-flex mx-2",children:b.jsx(Ns,{type:"number",className:"m-0 w-20 inline-flex",disabled:n.getValues("save.autosave")!=="after_delay",...i,value:i.value/1e3,min:1,onChange:o=>i.onChange(Number.parseInt(o.target.value)*1e3)})})}),b.jsx(No,{})]})}),b.jsx("div",{children:b.jsx(_r,{control:n.control,name:"save.format_on_save",render:({field:i})=>b.jsxs(ri,{className:"flex flex-row items-start space-x-2 space-y-0",children:[b.jsx(ii,{children:b.jsx(Dp,{checked:i.value,onCheckedChange:o=>{i.onChange(o)}})}),b.jsx(dr,{className:"font-normal",children:"Format on save"})]})})}),b.jsx(_r,{control:n.control,name:"formatting.line_length",render:({field:i})=>b.jsxs(ri,{className:"mb-2",children:[b.jsx(dr,{children:"Line length"}),b.jsx(ns,{children:"Maximum line length when formatting code."}),b.jsx(ii,{children:b.jsx("span",{className:"inline-flex mx-2",children:b.jsx(Ns,{type:"number",className:"m-0 w-20 inline-flex",...i,value:i.value,min:1,max:1e3,onChange:o=>i.onChange(o.target.valueAsNumber)})})}),b.jsx(No,{})]})}),b.jsx(_r,{control:n.control,name:"completion.activate_on_typing",render:({field:i})=>b.jsxs("div",{className:"flex flex-col space-y-1",children:[b.jsxs(ri,{className:"flex flex-row items-start space-x-2 space-y-0",children:[b.jsx(ii,{children:b.jsx(Dp,{checked:i.value,onCheckedChange:o=>{i.onChange(!!o)}})}),b.jsx(dr,{className:"font-normal",children:"Autocomplete"})]}),b.jsx(ns,{children:"When unchecked, code completion is still available through a hotkey."})]})}),b.jsx(_r,{control:n.control,name:"keymap.preset",render:({field:i})=>b.jsxs(ri,{children:[b.jsx(dr,{children:"Keymap"}),b.jsx(ii,{children:b.jsx(g1,{onChange:o=>i.onChange(o.target.value),value:i.value,className:"inline-flex mx-2",children:pCn.map(o=>b.jsx("option",{value:o,children:o},o))})}),b.jsx(No,{})]})})]}),b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsx(JN,{children:"Display"}),b.jsx(_r,{control:n.control,name:"display.theme",render:({field:i})=>b.jsxs(ri,{children:[b.jsx(dr,{children:"Theme"}),b.jsx(ii,{children:b.jsx(g1,{onChange:o=>i.onChange(o.target.value),value:i.value,className:"inline-flex mx-2",children:rlt.map(o=>b.jsx("option",{value:o,children:o},o))})}),b.jsx(No,{})]})}),b.jsx(_r,{control:n.control,name:"display.code_editor_font_size",render:({field:i})=>b.jsxs(ri,{className:"mb-2",children:[b.jsx(dr,{children:"Code editor font size"}),b.jsx(ii,{children:b.jsx("span",{className:"inline-flex mx-2",children:b.jsx(Ns,{type:"number",className:"m-0 w-20 inline-flex",...i,value:i.value,min:8,max:20,onChange:o=>i.onChange(o.target.valueAsNumber)})})}),b.jsx(ns,{children:"When unchecked, code completion is still available through a hotkey."}),b.jsx(No,{})]})}),b.jsx(_r,{control:n.control,name:"display.cell_output",render:({field:i})=>b.jsxs(ri,{className:"mb-2",children:[b.jsx(dr,{children:"Cell output area"}),b.jsx(ii,{children:b.jsx(g1,{onChange:o=>i.onChange(o.target.value),value:i.value,className:"inline-flex mx-2",children:["above","below"].map(o=>b.jsx("option",{value:o,children:o},o))})}),b.jsx(No,{}),b.jsx(ns,{children:"Where to display cell's output."})]})})]}),b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsx(JN,{children:"Runtime"}),b.jsx(_r,{control:n.control,name:"runtime.auto_instantiate",render:({field:i})=>b.jsxs(ri,{className:"flex flex-row items-start space-x-2 space-y-0",children:[b.jsx(ii,{children:b.jsx(Dp,{checked:i.value,onCheckedChange:i.onChange})}),b.jsx(dr,{className:"font-normal",children:"Autorun on startup"})]})})]}),b.jsxs("div",{className:"flex flex-col gap-3",children:[b.jsx(JN,{children:"GitHub Copilot"}),b.jsx(_r,{control:n.control,name:"completion.copilot",render:({field:i})=>b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsxs(ri,{className:"flex flex-row items-center space-x-2 space-y-0",children:[b.jsx(ii,{children:b.jsx(Uy,{size:"sm",checked:i.value,onCheckedChange:o=>{i.onChange(!!o)}})}),b.jsx(dr,{className:"font-normal flex",children:"Enable"})]}),i.value&&b.jsx(JKe,{})]})})]})]})})},z2n=()=>{const[e,t]=CRe(),n=aoe({resolver:loe(SRe),defaultValues:e}),r=async i=>{await u0t({config:i}).then(()=>{t(i)}).catch(()=>{t(i),Yr({title:"Failed to save"})})};return O.useEffect(()=>{window.dispatchEvent(new Event("resize"))},[e.width]),b.jsx(w7e,{...n,children:b.jsxs("form",{onChange:n.handleSubmit(r),className:"flex flex-col gap-4",children:[b.jsxs("div",{children:[b.jsx(eJe,{children:"Application Config"}),b.jsx(tJe,{children:"Settings applied to this app"})]}),b.jsx(_r,{control:n.control,name:"width",render:({field:i})=>b.jsxs(ri,{className:"flex flex-row items-center space-x-2 space-y-0",children:[b.jsx(ii,{children:b.jsx(Uy,{checked:i.value==="full",size:"sm",onCheckedChange:o=>{i.onChange(o?"full":"normal")}})}),b.jsx(dr,{className:"font-normal",children:"Full-width"})]})})]})})},Q2n=()=>b.jsxs(qne,{children:[b.jsx(Yne,{asChild:!0,children:b.jsx(Qo,{"aria-label":"Config",shape:"circle",size:"small",className:"h-[27px] w-[27px]",color:"hint-green",children:b.jsx(tn,{content:"Settings",children:b.jsx(F1t,{strokeWidth:1.8})})})}),b.jsxs(E6,{className:"w-80 h-[90vh] overflow-auto",align:"end",side:"bottom",onFocusOutside:e=>e.preventDefault(),children:[b.jsx(z2n,{}),b.jsx("div",{className:"h-px bg-border my-4"}),b.jsx(F2n,{})]})]}),nJe={keyBy(e,t){const n=new Map,r=new Set;for(const i of e){const o=t(i);n.has(o)&&r.add(o),n.set(o,i)}return r.size>0&&console.trace(`Duplicate keys: ${[...r].join(", ")}`),n}};var rJe={exports:{}},SA={},oJ={exports:{}};(function(e,t){(function(n,r){r(t)})(ct,function(n){function r(fe){return function(ue,me,ne,Le,_e,ke,ze){return fe(ue,me,ze)}}function i(fe){return function(ue,me,ne,Le){if(!ue||!me||typeof ue!="object"||typeof me!="object")return fe(ue,me,ne,Le);var _e=Le.get(ue),ke=Le.get(me);if(_e&&ke)return _e===me&&ke===ue;Le.set(ue,me),Le.set(me,ue);var ze=fe(ue,me,ne,Le);return Le.delete(ue),Le.delete(me),ze}}function o(fe,ae){var ue={};for(var me in fe)ue[me]=fe[me];for(var me in ae)ue[me]=ae[me];return ue}function s(fe){return fe.constructor===Object||fe.constructor==null}function a(fe){return typeof fe.then=="function"}function l(fe,ae){return fe===ae||fe!==fe&&ae!==ae}var c="[object Arguments]",u="[object Boolean]",f="[object Date]",d="[object RegExp]",h="[object Map]",p="[object Number]",g="[object Object]",y="[object Set]",v="[object String]",x=Object.prototype.toString;function m(fe){var ae=fe.areArraysEqual,ue=fe.areDatesEqual,me=fe.areMapsEqual,ne=fe.areObjectsEqual,Le=fe.areRegExpsEqual,_e=fe.areSetsEqual,ke=fe.createIsNestedEqual,ze=ke(Je);function Je(Be,K,ge){if(Be===K)return!0;if(!Be||!K||typeof Be!="object"||typeof K!="object")return Be!==Be&&K!==K;if(s(Be)&&s(K))return ne(Be,K,ze,ge);var Oe=Array.isArray(Be),Ve=Array.isArray(K);if(Oe||Ve)return Oe===Ve&&ae(Be,K,ze,ge);var Fe=x.call(Be);return Fe!==x.call(K)?!1:Fe===f?ue(Be,K,ze,ge):Fe===d?Le(Be,K,ze,ge):Fe===h?me(Be,K,ze,ge):Fe===y?_e(Be,K,ze,ge):Fe===g||Fe===c?a(Be)||a(K)?!1:ne(Be,K,ze,ge):Fe===u||Fe===p||Fe===v?l(Be.valueOf(),K.valueOf()):!1}return Je}function w(fe,ae,ue,me){var ne=fe.length;if(ae.length!==ne)return!1;for(;ne-- >0;)if(!ue(fe[ne],ae[ne],ne,ne,fe,ae,me))return!1;return!0}var S=i(w);function C(fe,ae){return l(fe.valueOf(),ae.valueOf())}function $(fe,ae,ue,me){var ne=fe.size===ae.size;if(!ne)return!1;if(!fe.size)return!0;var Le={},_e=0;return fe.forEach(function(ke,ze){if(ne){var Je=!1,Be=0;ae.forEach(function(K,ge){!Je&&!Le[Be]&&(Je=ue(ze,ge,_e,Be,fe,ae,me)&&ue(ke,K,ze,ge,fe,ae,me))&&(Le[Be]=!0),Be++}),_e++,ne=Je}}),ne}var E=i($),R="_owner",N=Object.prototype.hasOwnProperty;function I(fe,ae,ue,me){var ne=Object.keys(fe),Le=ne.length;if(Object.keys(ae).length!==Le)return!1;for(var _e;Le-- >0;){if(_e=ne[Le],_e===R){var ke=!!fe.$$typeof,ze=!!ae.$$typeof;if((ke||ze)&&ke!==ze)return!1}if(!N.call(ae,_e)||!ue(fe[_e],ae[_e],_e,_e,fe,ae,me))return!1}return!0}var j=i(I);function A(fe,ae){return fe.source===ae.source&&fe.flags===ae.flags}function T(fe,ae,ue,me){var ne=fe.size===ae.size;if(!ne)return!1;if(!fe.size)return!0;var Le={};return fe.forEach(function(_e,ke){if(ne){var ze=!1,Je=0;ae.forEach(function(Be,K){!ze&&!Le[Je]&&(ze=ue(_e,Be,ke,K,fe,ae,me))&&(Le[Je]=!0),Je++}),ne=ze}}),ne}var D=i(T),L=Object.freeze({areArraysEqual:w,areDatesEqual:C,areMapsEqual:$,areObjectsEqual:I,areRegExpsEqual:A,areSetsEqual:T,createIsNestedEqual:r}),W=Object.freeze({areArraysEqual:S,areDatesEqual:C,areMapsEqual:E,areObjectsEqual:j,areRegExpsEqual:A,areSetsEqual:D,createIsNestedEqual:r}),V=m(L);function Q(fe,ae){return V(fe,ae,void 0)}var B=m(o(L,{createIsNestedEqual:function(){return l}}));function Y(fe,ae){return B(fe,ae,void 0)}var U=m(W);function q(fe,ae){return U(fe,ae,new WeakMap)}var Z=m(o(W,{createIsNestedEqual:function(){return l}}));function oe(fe,ae){return Z(fe,ae,new WeakMap)}function ce(fe){return m(o(L,fe(L)))}function re(fe){var ae=m(o(W,fe(W)));return function(ue,me,ne){return ne===void 0&&(ne=new WeakMap),ae(ue,me,ne)}}n.circularDeepEqual=q,n.circularShallowEqual=oe,n.createCustomCircularEqual=re,n.createCustomEqual=ce,n.deepEqual=Q,n.sameValueZeroEqual=l,n.shallowEqual=Y,Object.defineProperty(n,"__esModule",{value:!0})})})(oJ,oJ.exports);var Pfe=oJ.exports,sJ={exports:{}};function iJe(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=iJe(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function mEe(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=iJe(e))&&(r&&(r+=" "),r+=t);return r}sJ.exports=mEe,sJ.exports.clsx=mEe;var Rfe=sJ.exports,Sn={},B2n=function(t,n,r){return t===n?!0:t.className===n.className&&r(t.style,n.style)&&t.width===n.width&&t.autoSize===n.autoSize&&t.cols===n.cols&&t.draggableCancel===n.draggableCancel&&t.draggableHandle===n.draggableHandle&&r(t.verticalCompact,n.verticalCompact)&&r(t.compactType,n.compactType)&&r(t.layout,n.layout)&&r(t.margin,n.margin)&&r(t.containerPadding,n.containerPadding)&&t.rowHeight===n.rowHeight&&t.maxRows===n.maxRows&&t.isBounded===n.isBounded&&t.isDraggable===n.isDraggable&&t.isResizable===n.isResizable&&t.allowOverlap===n.allowOverlap&&t.preventCollision===n.preventCollision&&t.useCSSTransforms===n.useCSSTransforms&&t.transformScale===n.transformScale&&t.isDroppable===n.isDroppable&&r(t.resizeHandles,n.resizeHandles)&&r(t.resizeHandle,n.resizeHandle)&&t.onLayoutChange===n.onLayoutChange&&t.onDragStart===n.onDragStart&&t.onDrag===n.onDrag&&t.onDragStop===n.onDragStop&&t.onResizeStart===n.onResizeStart&&t.onResize===n.onResize&&t.onResizeStop===n.onResizeStop&&t.onDrop===n.onDrop&&r(t.droppingItem,n.droppingItem)&&r(t.innerRef,n.innerRef)};Object.defineProperty(Sn,"__esModule",{value:!0});Sn.bottom=Afe;Sn.childrenEqual=U2n;Sn.cloneLayout=oJe;Sn.cloneLayoutItem=T1;Sn.collides=r9;Sn.compact=aJe;Sn.compactItem=lJe;Sn.compactType=oPn;Sn.correctBounds=cJe;Sn.fastPositionEqual=q2n;Sn.fastRGLPropsEqual=void 0;Sn.getAllCollisions=uJe;Sn.getFirstCollision=i1;Sn.getLayoutItem=Dfe;Sn.getStatics=Nfe;Sn.modifyLayout=sJe;Sn.moveElement=VE;Sn.moveElementAwayFromCollision=lJ;Sn.noop=void 0;Sn.perc=X2n;Sn.resizeItemInDirection=ePn;Sn.setTopLeft=nPn;Sn.setTransform=tPn;Sn.sortLayoutItems=zfe;Sn.sortLayoutItemsByColRow=gJe;Sn.sortLayoutItemsByRowCol=pJe;Sn.synchronizeLayoutWithChildren=rPn;Sn.validateLayout=iPn;Sn.withLayoutItem=V2n;var yEe=Pfe,WE=W2n(O);function W2n(e){return e&&e.__esModule?e:{default:e}}function Afe(e){let t=0,n;for(let r=0,i=e.length;r<i;r++)n=e[r].y+e[r].h,n>t&&(t=n);return t}function oJe(e){const t=Array(e.length);for(let n=0,r=e.length;n<r;n++)t[n]=T1(e[n]);return t}function sJe(e,t){const n=Array(e.length);for(let r=0,i=e.length;r<i;r++)t.i===e[r].i?n[r]=t:n[r]=e[r];return n}function V2n(e,t,n){let r=Dfe(e,t);return r?(r=n(T1(r)),e=sJe(e,r),[e,r]):[e,null]}function T1(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:!!e.moved,static:!!e.static,isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,isBounded:e.isBounded}}function U2n(e,t){return(0,yEe.deepEqual)(WE.default.Children.map(e,n=>n==null?void 0:n.key),WE.default.Children.map(t,n=>n==null?void 0:n.key))&&(0,yEe.deepEqual)(WE.default.Children.map(e,n=>n==null?void 0:n.props["data-grid"]),WE.default.Children.map(t,n=>n==null?void 0:n.props["data-grid"]))}Sn.fastRGLPropsEqual=B2n;function q2n(e,t){return e.left===t.left&&e.top===t.top&&e.width===t.width&&e.height===t.height}function r9(e,t){return!(e.i===t.i||e.x+e.w<=t.x||e.x>=t.x+t.w||e.y+e.h<=t.y||e.y>=t.y+t.h)}function aJe(e,t,n,r){const i=Nfe(e),o=zfe(e,t),s=Array(e.length);for(let a=0,l=o.length;a<l;a++){let c=T1(o[a]);c.static||(c=lJe(i,c,t,n,o,r),i.push(c)),s[e.indexOf(o[a])]=c,c.moved=!1}return s}const Y2n={x:"w",y:"h"};function aJ(e,t,n,r){const i=Y2n[r];t[r]+=1;const o=e.map(s=>s.i).indexOf(t.i);for(let s=o+1;s<e.length;s++){const a=e[s];if(!a.static){if(a.y>t.y+t.h)break;r9(t,a)&&aJ(e,a,n+t[i],r)}}t[r]=n}function lJe(e,t,n,r,i,o){const s=n==="vertical",a=n==="horizontal";if(s)for(t.y=Math.min(Afe(e),t.y);t.y>0&&!i1(e,t);)t.y--;else if(a)for(;t.x>0&&!i1(e,t);)t.x--;let l;for(;(l=i1(e,t))&&!(n===null&&o);)if(a?aJ(i,t,l.x+l.w,"x"):aJ(i,t,l.y+l.h,"y"),a&&t.x+t.w>r)for(t.x=r-t.w,t.y++;t.x>0&&!i1(e,t);)t.x--;return t.y=Math.max(t.y,0),t.x=Math.max(t.x,0),t}function cJe(e,t){const n=Nfe(e);for(let r=0,i=e.length;r<i;r++){const o=e[r];if(o.x+o.w>t.cols&&(o.x=t.cols-o.w),o.x<0&&(o.x=0,o.w=t.cols),!o.static)n.push(o);else for(;i1(n,o);)o.y++}return e}function Dfe(e,t){for(let n=0,r=e.length;n<r;n++)if(e[n].i===t)return e[n]}function i1(e,t){for(let n=0,r=e.length;n<r;n++)if(r9(e[n],t))return e[n]}function uJe(e,t){return e.filter(n=>r9(n,t))}function Nfe(e){return e.filter(t=>t.static)}function VE(e,t,n,r,i,o,s,a,l){if(t.static&&t.isDraggable!==!0||t.y===r&&t.x===n)return e;`${t.i}${String(n)}${String(r)}${t.x}${t.y}`;const c=t.x,u=t.y;typeof n=="number"&&(t.x=n),typeof r=="number"&&(t.y=r),t.moved=!0;let f=zfe(e,s);(s==="vertical"&&typeof r=="number"?u>=r:s==="horizontal"&&typeof n=="number"?c>=n:!1)&&(f=f.reverse());const h=uJe(f,t),p=h.length>0;if(p&&l)return oJe(e);if(p&&o)return`${t.i}`,t.x=c,t.y=u,t.moved=!1,e;for(let g=0,y=h.length;g<y;g++){const v=h[g];`${t.i}${t.x}${t.y}${v.i}${v.x}${v.y}`,!v.moved&&(v.static?e=lJ(e,v,t,i,s):e=lJ(e,t,v,i,s))}return e}function lJ(e,t,n,r,i,o){const s=i==="horizontal",a=i==="vertical",l=t.static;if(r){r=!1;const f={x:s?Math.max(t.x-n.w,0):n.x,y:a?Math.max(t.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"},d=i1(e,f),h=d&&d.y+d.h>t.y,p=d&&t.x+t.w>d.x;if(d){if(h&&a)return VE(e,n,void 0,t.y+1,r,l,i);if(h&&i==null)return t.y=n.y,n.y=n.y+n.h,e;if(p&&s)return VE(e,t,n.x,void 0,r,l,i)}else return`${n.i}${f.x}${f.y}`,VE(e,n,s?f.x:void 0,a?f.y:void 0,r,l,i)}const c=s?n.x+1:void 0,u=a?n.y+1:void 0;return c==null&&u==null?e:VE(e,n,s?n.x+1:void 0,a?n.y+1:void 0,r,l,i)}function X2n(e){return e*100+"%"}const fJe=(e,t,n,r)=>e+n>r?t:n,dJe=(e,t,n)=>e<0?t:n,hJe=e=>Math.max(0,e),Mfe=e=>Math.max(0,e),Ife=(e,t,n)=>{let{left:r,height:i,width:o}=t;const s=e.top-(i-e.height);return{left:r,width:o,height:dJe(s,e.height,i),top:Mfe(s)}},Lfe=(e,t,n)=>{let{top:r,left:i,height:o,width:s}=t;return{top:r,height:o,width:fJe(e.left,e.width,s,n),left:hJe(i)}},jfe=(e,t,n)=>{let{top:r,height:i,width:o}=t;const s=e.left-(o-e.width);return{height:i,width:s<0?e.width:fJe(e.left,e.width,o,n),top:Mfe(r),left:hJe(s)}},Ffe=(e,t,n)=>{let{top:r,left:i,height:o,width:s}=t;return{width:s,left:i,height:dJe(r,e.height,o),top:Mfe(r)}},H2n=function(){return Ife(arguments.length<=0?void 0:arguments[0],Lfe(...arguments))},Z2n=function(){return Ife(arguments.length<=0?void 0:arguments[0],jfe(...arguments))},G2n=function(){return Ffe(arguments.length<=0?void 0:arguments[0],Lfe(...arguments))},K2n=function(){return Ffe(arguments.length<=0?void 0:arguments[0],jfe(...arguments))},J2n={n:Ife,ne:H2n,e:Lfe,se:G2n,s:Ffe,sw:K2n,w:jfe,nw:Z2n};function ePn(e,t,n,r){const i=J2n[e];return i?i(t,{...t,...n},r):n}function tPn(e){let{top:t,left:n,width:r,height:i}=e;const o=`translate(${n}px,${t}px)`;return{transform:o,WebkitTransform:o,MozTransform:o,msTransform:o,OTransform:o,width:`${r}px`,height:`${i}px`,position:"absolute"}}function nPn(e){let{top:t,left:n,width:r,height:i}=e;return{top:`${t}px`,left:`${n}px`,width:`${r}px`,height:`${i}px`,position:"absolute"}}function zfe(e,t){return t==="horizontal"?gJe(e):t==="vertical"?pJe(e):e}function pJe(e){return e.slice(0).sort(function(t,n){return t.y>n.y||t.y===n.y&&t.x>n.x?1:t.y===n.y&&t.x===n.x?0:-1})}function gJe(e){return e.slice(0).sort(function(t,n){return t.x>n.x||t.x===n.x&&t.y>n.y?1:-1})}function rPn(e,t,n,r,i){e=e||[];const o=[];WE.default.Children.forEach(t,a=>{if((a==null?void 0:a.key)==null)return;const l=Dfe(e,String(a.key)),c=a.props["data-grid"];l&&c==null?o.push(T1(l)):c?o.push(T1({...c,i:a.key})):o.push(T1({w:1,h:1,x:0,y:Afe(o),i:String(a.key)}))});const s=cJe(o,{cols:n});return i?s:aJe(s,r,n)}function iPn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout";const n=["x","y","w","h"];if(!Array.isArray(e))throw new Error(t+" must be an array!");for(let r=0,i=e.length;r<i;r++){const o=e[r];for(let s=0;s<n.length;s++)if(typeof o[n[s]]!="number")throw new Error("ReactGridLayout: "+t+"["+r+"]."+n[s]+" must be a number!")}}function oPn(e){const{verticalCompact:t,compactType:n}=e||{};return t===!1?null:n}const sPn=()=>{};Sn.noop=sPn;var ip={};Object.defineProperty(ip,"__esModule",{value:!0});ip.calcGridColWidth=i9;ip.calcGridItemPosition=aPn;ip.calcGridItemWHPx=cJ;ip.calcWH=cPn;ip.calcXY=lPn;ip.clamp=o1;function i9(e){const{margin:t,containerPadding:n,containerWidth:r,cols:i}=e;return(r-t[0]*(i-1)-n[0]*2)/i}function cJ(e,t,n){return Number.isFinite(e)?Math.round(t*e+Math.max(0,e-1)*n):e}function aPn(e,t,n,r,i,o){const{margin:s,containerPadding:a,rowHeight:l}=e,c=i9(e),u={};return o&&o.resizing?(u.width=Math.round(o.resizing.width),u.height=Math.round(o.resizing.height)):(u.width=cJ(r,c,s[0]),u.height=cJ(i,l,s[1])),o&&o.dragging?(u.top=Math.round(o.dragging.top),u.left=Math.round(o.dragging.left)):o&&o.resizing&&typeof o.resizing.top=="number"&&typeof o.resizing.left=="number"?(u.top=Math.round(o.resizing.top),u.left=Math.round(o.resizing.left)):(u.top=Math.round((l+s[1])*n+a[1]),u.left=Math.round((c+s[0])*t+a[0])),u}function lPn(e,t,n,r,i){const{margin:o,cols:s,rowHeight:a,maxRows:l}=e,c=i9(e);let u=Math.round((n-o[0])/(c+o[0])),f=Math.round((t-o[1])/(a+o[1]));return u=o1(u,0,s-r),f=o1(f,0,l-i),{x:u,y:f}}function cPn(e,t,n,r,i,o){const{margin:s,maxRows:a,cols:l,rowHeight:c}=e,u=i9(e);let f=Math.round((t+s[0])/(u+s[0])),d=Math.round((n+s[1])/(c+s[1])),h=o1(f,0,l-r),p=o1(d,0,a-i);return["sw","w","nw"].indexOf(o)!==-1&&(h=o1(f,0,l)),["nw","n","ne"].indexOf(o)!==-1&&(p=o1(d,0,a)),{w:h,h:p}}function o1(e,t,n){return Math.max(Math.min(e,n),t)}var o9={},s9={exports:{}},mJe={};const uPn=PP(nht);var Yi={},op={};Object.defineProperty(op,"__esModule",{value:!0});op.dontSetMe=gPn;op.findInArray=fPn;op.int=pPn;op.isFunction=dPn;op.isNum=hPn;function fPn(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function dPn(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function hPn(e){return typeof e=="number"&&!isNaN(e)}function pPn(e){return parseInt(e,10)}function gPn(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}var OO={};Object.defineProperty(OO,"__esModule",{value:!0});OO.browserPrefixToKey=vJe;OO.browserPrefixToStyle=mPn;OO.default=void 0;OO.getPrefix=yJe;var fU=["Moz","Webkit","O","ms"];function yJe(){var e,t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var r=(e=window.document)===null||e===void 0||(t=e.documentElement)===null||t===void 0?void 0:t.style;if(!r||n in r)return"";for(var i=0;i<fU.length;i++)if(vJe(n,fU[i])in r)return fU[i];return""}function vJe(e,t){return t?"".concat(t).concat(yPn(e)):e}function mPn(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e}function yPn(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):e[r]==="-"?n=!0:t+=e[r];return t}var vPn=yJe();OO.default=vPn;function uJ(e){"@babel/helpers - typeof";return uJ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uJ(e)}Object.defineProperty(Yi,"__esModule",{value:!0});Yi.addClassName=SJe;Yi.addEvent=xPn;Yi.addUserSelectStyles=APn;Yi.createCSSTransform=kPn;Yi.createSVGTransform=TPn;Yi.getTouch=PPn;Yi.getTouchIdentifier=RPn;Yi.getTranslation=Qfe;Yi.innerHeight=CPn;Yi.innerWidth=$Pn;Yi.matchesSelector=wJe;Yi.matchesSelectorAndParentsTo=OPn;Yi.offsetXYFromParent=EPn;Yi.outerHeight=SPn;Yi.outerWidth=_Pn;Yi.removeClassName=_Je;Yi.removeEvent=wPn;Yi.removeUserSelectStyles=DPn;var Nc=op,vEe=bPn(OO);function bJe(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(bJe=function(i){return i?n:t})(e)}function bPn(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||uJ(e)!=="object"&&typeof e!="function")return{default:e};var n=bJe(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function bEe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function OJe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bEe(Object(n),!0).forEach(function(r){xJe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bEe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xJe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eM="";function wJe(e,t){return eM||(eM=(0,Nc.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,Nc.isFunction)(e[n])})),(0,Nc.isFunction)(e[eM])?e[eM](t):!1}function OPn(e,t,n){var r=e;do{if(wJe(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function xPn(e,t,n,r){if(e){var i=OJe({capture:!0},r);e.addEventListener?e.addEventListener(t,n,i):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}}function wPn(e,t,n,r){if(e){var i=OJe({capture:!0},r);e.removeEventListener?e.removeEventListener(t,n,i):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}}function SPn(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Nc.int)(n.borderTopWidth),t+=(0,Nc.int)(n.borderBottomWidth),t}function _Pn(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,Nc.int)(n.borderLeftWidth),t+=(0,Nc.int)(n.borderRightWidth),t}function CPn(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Nc.int)(n.paddingTop),t-=(0,Nc.int)(n.paddingBottom),t}function $Pn(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,Nc.int)(n.paddingLeft),t-=(0,Nc.int)(n.paddingRight),t}function EPn(e,t,n){var r=t===t.ownerDocument.body,i=r?{left:0,top:0}:t.getBoundingClientRect(),o=(e.clientX+t.scrollLeft-i.left)/n,s=(e.clientY+t.scrollTop-i.top)/n;return{x:o,y:s}}function kPn(e,t){var n=Qfe(e,t,"px");return xJe({},(0,vEe.browserPrefixToKey)("transform",vEe.default),n)}function TPn(e,t){var n=Qfe(e,t,"");return n}function Qfe(e,t,n){var r=e.x,i=e.y,o="translate(".concat(r).concat(n,",").concat(i).concat(n,")");if(t){var s="".concat(typeof t.x=="string"?t.x:t.x+n),a="".concat(typeof t.y=="string"?t.y:t.y+n);o="translate(".concat(s,", ").concat(a,")")+o}return o}function PPn(e,t){return e.targetTouches&&(0,Nc.findInArray)(e.targetTouches,function(n){return t===n.identifier})||e.changedTouches&&(0,Nc.findInArray)(e.changedTouches,function(n){return t===n.identifier})}function RPn(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function APn(e){if(e){var t=e.getElementById("react-draggable-style-el");t||(t=e.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(t)),e.body&&SJe(e.body,"react-draggable-transparent-selection")}}function DPn(e){if(e)try{if(e.body&&_Je(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function SJe(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function _Je(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var sp={};Object.defineProperty(sp,"__esModule",{value:!0});sp.canDragX=IPn;sp.canDragY=LPn;sp.createCoreData=FPn;sp.createDraggableData=zPn;sp.getBoundPosition=NPn;sp.getControlPosition=jPn;sp.snapToGrid=MPn;var cc=op,iw=Yi;function NPn(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r=typeof r=="string"?r:QPn(r);var i=Bfe(e);if(typeof r=="string"){var o=i.ownerDocument,s=o.defaultView,a;if(r==="parent"?a=i.parentNode:a=o.querySelector(r),!(a instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var l=a,c=s.getComputedStyle(i),u=s.getComputedStyle(l);r={left:-i.offsetLeft+(0,cc.int)(u.paddingLeft)+(0,cc.int)(c.marginLeft),top:-i.offsetTop+(0,cc.int)(u.paddingTop)+(0,cc.int)(c.marginTop),right:(0,iw.innerWidth)(l)-(0,iw.outerWidth)(i)-i.offsetLeft+(0,cc.int)(u.paddingRight)-(0,cc.int)(c.marginRight),bottom:(0,iw.innerHeight)(l)-(0,iw.outerHeight)(i)-i.offsetTop+(0,cc.int)(u.paddingBottom)-(0,cc.int)(c.marginBottom)}}return(0,cc.isNum)(r.right)&&(t=Math.min(t,r.right)),(0,cc.isNum)(r.bottom)&&(n=Math.min(n,r.bottom)),(0,cc.isNum)(r.left)&&(t=Math.max(t,r.left)),(0,cc.isNum)(r.top)&&(n=Math.max(n,r.top)),[t,n]}function MPn(e,t,n){var r=Math.round(t/e[0])*e[0],i=Math.round(n/e[1])*e[1];return[r,i]}function IPn(e){return e.props.axis==="both"||e.props.axis==="x"}function LPn(e){return e.props.axis==="both"||e.props.axis==="y"}function jPn(e,t,n){var r=typeof t=="number"?(0,iw.getTouch)(e,t):null;if(typeof t=="number"&&!r)return null;var i=Bfe(n),o=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,iw.offsetXYFromParent)(r||e,o,n.props.scale)}function FPn(e,t,n){var r=e.state,i=!(0,cc.isNum)(r.lastX),o=Bfe(e);return i?{node:o,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:o,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}}function zPn(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function QPn(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function Bfe(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var a9={},l9={};Object.defineProperty(l9,"__esModule",{value:!0});l9.default=BPn;function BPn(){}function pF(e){"@babel/helpers - typeof";return pF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pF(e)}Object.defineProperty(a9,"__esModule",{value:!0});a9.default=void 0;var dU=VPn(O),ac=Wfe(kg),WPn=Wfe(Io),Hs=Yi,om=sp,hU=op,X$=Wfe(l9);function Wfe(e){return e&&e.__esModule?e:{default:e}}function CJe(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(CJe=function(i){return i?n:t})(e)}function VPn(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||pF(e)!=="object"&&typeof e!="function")return{default:e};var n=CJe(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function OEe(e,t){return XPn(e)||YPn(e,t)||qPn(e,t)||UPn()}function UPn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qPn(e,t){if(e){if(typeof e=="string")return xEe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xEe(e,t)}}function xEe(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function YPn(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function XPn(e){if(Array.isArray(e))return e}function HPn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wEe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ZPn(e,t,n){return t&&wEe(e.prototype,t),n&&wEe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function GPn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fJ(e,t)}function fJ(e,t){return fJ=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},fJ(e,t)}function KPn(e){var t=eRn();return function(){var r=gF(e),i;if(t){var o=gF(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return JPn(this,i)}}function JPn(e,t){if(t&&(pF(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Js(e)}function Js(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eRn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gF(e){return gF=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},gF(e)}function eu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lf={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},sm=lf.mouse,c9=function(e){GPn(n,e);var t=KPn(n);function n(){var r;HPn(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=t.call.apply(t,[this].concat(o)),eu(Js(r),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),eu(Js(r),"mounted",!1),eu(Js(r),"handleDragStart",function(a){if(r.props.onMouseDown(a),!r.props.allowAnyClick&&typeof a.button=="number"&&a.button!==0)return!1;var l=r.findDOMNode();if(!l||!l.ownerDocument||!l.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var c=l.ownerDocument;if(!(r.props.disabled||!(a.target instanceof c.defaultView.Node)||r.props.handle&&!(0,Hs.matchesSelectorAndParentsTo)(a.target,r.props.handle,l)||r.props.cancel&&(0,Hs.matchesSelectorAndParentsTo)(a.target,r.props.cancel,l))){a.type==="touchstart"&&a.preventDefault();var u=(0,Hs.getTouchIdentifier)(a);r.setState({touchIdentifier:u});var f=(0,om.getControlPosition)(a,u,Js(r));if(f!=null){var d=f.x,h=f.y,p=(0,om.createCoreData)(Js(r),d,h);(0,X$.default)("DraggableCore: handleDragStart: %j",p),(0,X$.default)("calling",r.props.onStart);var g=r.props.onStart(a,p);g===!1||r.mounted===!1||(r.props.enableUserSelectHack&&(0,Hs.addUserSelectStyles)(c),r.setState({dragging:!0,lastX:d,lastY:h}),(0,Hs.addEvent)(c,sm.move,r.handleDrag),(0,Hs.addEvent)(c,sm.stop,r.handleDragStop))}}}),eu(Js(r),"handleDrag",function(a){var l=(0,om.getControlPosition)(a,r.state.touchIdentifier,Js(r));if(l!=null){var c=l.x,u=l.y;if(Array.isArray(r.props.grid)){var f=c-r.state.lastX,d=u-r.state.lastY,h=(0,om.snapToGrid)(r.props.grid,f,d),p=OEe(h,2);if(f=p[0],d=p[1],!f&&!d)return;c=r.state.lastX+f,u=r.state.lastY+d}var g=(0,om.createCoreData)(Js(r),c,u);(0,X$.default)("DraggableCore: handleDrag: %j",g);var y=r.props.onDrag(a,g);if(y===!1||r.mounted===!1){try{r.handleDragStop(new MouseEvent("mouseup"))}catch{var v=document.createEvent("MouseEvents");v.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),r.handleDragStop(v)}return}r.setState({lastX:c,lastY:u})}}),eu(Js(r),"handleDragStop",function(a){if(r.state.dragging){var l=(0,om.getControlPosition)(a,r.state.touchIdentifier,Js(r));if(l!=null){var c=l.x,u=l.y;if(Array.isArray(r.props.grid)){var f=c-r.state.lastX||0,d=u-r.state.lastY||0,h=(0,om.snapToGrid)(r.props.grid,f,d),p=OEe(h,2);f=p[0],d=p[1],c=r.state.lastX+f,u=r.state.lastY+d}var g=(0,om.createCoreData)(Js(r),c,u),y=r.props.onStop(a,g);if(y===!1||r.mounted===!1)return!1;var v=r.findDOMNode();v&&r.props.enableUserSelectHack&&(0,Hs.removeUserSelectStyles)(v.ownerDocument),(0,X$.default)("DraggableCore: handleDragStop: %j",g),r.setState({dragging:!1,lastX:NaN,lastY:NaN}),v&&((0,X$.default)("DraggableCore: Removing handlers"),(0,Hs.removeEvent)(v.ownerDocument,sm.move,r.handleDrag),(0,Hs.removeEvent)(v.ownerDocument,sm.stop,r.handleDragStop))}}}),eu(Js(r),"onMouseDown",function(a){return sm=lf.mouse,r.handleDragStart(a)}),eu(Js(r),"onMouseUp",function(a){return sm=lf.mouse,r.handleDragStop(a)}),eu(Js(r),"onTouchStart",function(a){return sm=lf.touch,r.handleDragStart(a)}),eu(Js(r),"onTouchEnd",function(a){return sm=lf.touch,r.handleDragStop(a)}),r}return ZPn(n,[{key:"componentDidMount",value:function(){this.mounted=!0;var i=this.findDOMNode();i&&(0,Hs.addEvent)(i,lf.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.findDOMNode();if(i){var o=i.ownerDocument;(0,Hs.removeEvent)(o,lf.mouse.move,this.handleDrag),(0,Hs.removeEvent)(o,lf.touch.move,this.handleDrag),(0,Hs.removeEvent)(o,lf.mouse.stop,this.handleDragStop),(0,Hs.removeEvent)(o,lf.touch.stop,this.handleDragStop),(0,Hs.removeEvent)(i,lf.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Hs.removeUserSelectStyles)(o)}}},{key:"findDOMNode",value:function(){var i,o,s;return(i=this.props)!==null&&i!==void 0&&i.nodeRef?(o=this.props)===null||o===void 0||(s=o.nodeRef)===null||s===void 0?void 0:s.current:WPn.default.findDOMNode(this)}},{key:"render",value:function(){return dU.cloneElement(dU.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),n}(dU.Component);a9.default=c9;eu(c9,"displayName","DraggableCore");eu(c9,"propTypes",{allowAnyClick:ac.default.bool,disabled:ac.default.bool,enableUserSelectHack:ac.default.bool,offsetParent:function(t,n){if(t[n]&&t[n].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:ac.default.arrayOf(ac.default.number),handle:ac.default.string,cancel:ac.default.string,nodeRef:ac.default.object,onStart:ac.default.func,onDrag:ac.default.func,onStop:ac.default.func,onMouseDown:ac.default.func,scale:ac.default.number,className:hU.dontSetMe,style:hU.dontSetMe,transform:hU.dontSetMe});eu(c9,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){function t(U){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},t(U)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),e.default=void 0;var n=p(O),r=d(kg),i=d(Io),o=d(uPn),s=Yi,a=sp,l=op,c=d(a9),u=d(l9),f=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function d(U){return U&&U.__esModule?U:{default:U}}function h(U){if(typeof WeakMap!="function")return null;var q=new WeakMap,Z=new WeakMap;return(h=function(ce){return ce?Z:q})(U)}function p(U,q){if(!q&&U&&U.__esModule)return U;if(U===null||t(U)!=="object"&&typeof U!="function")return{default:U};var Z=h(q);if(Z&&Z.has(U))return Z.get(U);var oe={},ce=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var re in U)if(re!=="default"&&Object.prototype.hasOwnProperty.call(U,re)){var fe=ce?Object.getOwnPropertyDescriptor(U,re):null;fe&&(fe.get||fe.set)?Object.defineProperty(oe,re,fe):oe[re]=U[re]}return oe.default=U,Z&&Z.set(U,oe),oe}function g(){return g=Object.assign||function(U){for(var q=1;q<arguments.length;q++){var Z=arguments[q];for(var oe in Z)Object.prototype.hasOwnProperty.call(Z,oe)&&(U[oe]=Z[oe])}return U},g.apply(this,arguments)}function y(U,q){if(U==null)return{};var Z=v(U,q),oe,ce;if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(U);for(ce=0;ce<re.length;ce++)oe=re[ce],!(q.indexOf(oe)>=0)&&Object.prototype.propertyIsEnumerable.call(U,oe)&&(Z[oe]=U[oe])}return Z}function v(U,q){if(U==null)return{};var Z={},oe=Object.keys(U),ce,re;for(re=0;re<oe.length;re++)ce=oe[re],!(q.indexOf(ce)>=0)&&(Z[ce]=U[ce]);return Z}function x(U,q){var Z=Object.keys(U);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(U);q&&(oe=oe.filter(function(ce){return Object.getOwnPropertyDescriptor(U,ce).enumerable})),Z.push.apply(Z,oe)}return Z}function m(U){for(var q=1;q<arguments.length;q++){var Z=arguments[q]!=null?arguments[q]:{};q%2?x(Object(Z),!0).forEach(function(oe){B(U,oe,Z[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(Z)):x(Object(Z)).forEach(function(oe){Object.defineProperty(U,oe,Object.getOwnPropertyDescriptor(Z,oe))})}return U}function w(U,q){return R(U)||E(U,q)||C(U,q)||S()}function S(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C(U,q){if(U){if(typeof U=="string")return $(U,q);var Z=Object.prototype.toString.call(U).slice(8,-1);if(Z==="Object"&&U.constructor&&(Z=U.constructor.name),Z==="Map"||Z==="Set")return Array.from(U);if(Z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z))return $(U,q)}}function $(U,q){(q==null||q>U.length)&&(q=U.length);for(var Z=0,oe=new Array(q);Z<q;Z++)oe[Z]=U[Z];return oe}function E(U,q){var Z=U==null?null:typeof Symbol<"u"&&U[Symbol.iterator]||U["@@iterator"];if(Z!=null){var oe=[],ce=!0,re=!1,fe,ae;try{for(Z=Z.call(U);!(ce=(fe=Z.next()).done)&&(oe.push(fe.value),!(q&&oe.length===q));ce=!0);}catch(ue){re=!0,ae=ue}finally{try{!ce&&Z.return!=null&&Z.return()}finally{if(re)throw ae}}return oe}}function R(U){if(Array.isArray(U))return U}function N(U,q){if(!(U instanceof q))throw new TypeError("Cannot call a class as a function")}function I(U,q){for(var Z=0;Z<q.length;Z++){var oe=q[Z];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty(U,oe.key,oe)}}function j(U,q,Z){return q&&I(U.prototype,q),Z&&I(U,Z),Object.defineProperty(U,"prototype",{writable:!1}),U}function A(U,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function");U.prototype=Object.create(q&&q.prototype,{constructor:{value:U,writable:!0,configurable:!0}}),Object.defineProperty(U,"prototype",{writable:!1}),q&&T(U,q)}function T(U,q){return T=Object.setPrototypeOf||function(oe,ce){return oe.__proto__=ce,oe},T(U,q)}function D(U){var q=V();return function(){var oe=Q(U),ce;if(q){var re=Q(this).constructor;ce=Reflect.construct(oe,arguments,re)}else ce=oe.apply(this,arguments);return L(this,ce)}}function L(U,q){if(q&&(t(q)==="object"||typeof q=="function"))return q;if(q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W(U)}function W(U){if(U===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return U}function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Q(U){return Q=Object.setPrototypeOf?Object.getPrototypeOf:function(Z){return Z.__proto__||Object.getPrototypeOf(Z)},Q(U)}function B(U,q,Z){return q in U?Object.defineProperty(U,q,{value:Z,enumerable:!0,configurable:!0,writable:!0}):U[q]=Z,U}var Y=function(U){A(Z,U);var q=D(Z);function Z(oe){var ce;return N(this,Z),ce=q.call(this,oe),B(W(ce),"onDragStart",function(re,fe){(0,u.default)("Draggable: onDragStart: %j",fe);var ae=ce.props.onStart(re,(0,a.createDraggableData)(W(ce),fe));if(ae===!1)return!1;ce.setState({dragging:!0,dragged:!0})}),B(W(ce),"onDrag",function(re,fe){if(!ce.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",fe);var ae=(0,a.createDraggableData)(W(ce),fe),ue={x:ae.x,y:ae.y};if(ce.props.bounds){var me=ue.x,ne=ue.y;ue.x+=ce.state.slackX,ue.y+=ce.state.slackY;var Le=(0,a.getBoundPosition)(W(ce),ue.x,ue.y),_e=w(Le,2),ke=_e[0],ze=_e[1];ue.x=ke,ue.y=ze,ue.slackX=ce.state.slackX+(me-ue.x),ue.slackY=ce.state.slackY+(ne-ue.y),ae.x=ue.x,ae.y=ue.y,ae.deltaX=ue.x-ce.state.x,ae.deltaY=ue.y-ce.state.y}var Je=ce.props.onDrag(re,ae);if(Je===!1)return!1;ce.setState(ue)}),B(W(ce),"onDragStop",function(re,fe){if(!ce.state.dragging)return!1;var ae=ce.props.onStop(re,(0,a.createDraggableData)(W(ce),fe));if(ae===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",fe);var ue={dragging:!1,slackX:0,slackY:0},me=!!ce.props.position;if(me){var ne=ce.props.position,Le=ne.x,_e=ne.y;ue.x=Le,ue.y=_e}ce.setState(ue)}),ce.state={dragging:!1,dragged:!1,x:oe.position?oe.position.x:oe.defaultPosition.x,y:oe.position?oe.position.y:oe.defaultPosition.y,prevPropsPosition:m({},oe.position),slackX:0,slackY:0,isElementSVG:!1},oe.position&&!(oe.onDrag||oe.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),ce}return j(Z,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var ce,re,fe;return(ce=(re=this.props)===null||re===void 0||(fe=re.nodeRef)===null||fe===void 0?void 0:fe.current)!==null&&ce!==void 0?ce:i.default.findDOMNode(this)}},{key:"render",value:function(){var ce,re=this.props;re.axis,re.bounds;var fe=re.children,ae=re.defaultPosition,ue=re.defaultClassName,me=re.defaultClassNameDragging,ne=re.defaultClassNameDragged,Le=re.position,_e=re.positionOffset;re.scale;var ke=y(re,f),ze={},Je=null,Be=!!Le,K=!Be||this.state.dragging,ge=Le||ae,Oe={x:(0,a.canDragX)(this)&&K?this.state.x:ge.x,y:(0,a.canDragY)(this)&&K?this.state.y:ge.y};this.state.isElementSVG?Je=(0,s.createSVGTransform)(Oe,_e):ze=(0,s.createCSSTransform)(Oe,_e);var Ve=(0,o.default)(fe.props.className||"",ue,(ce={},B(ce,me,this.state.dragging),B(ce,ne,this.state.dragged),ce));return n.createElement(c.default,g({},ke,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),n.cloneElement(n.Children.only(fe),{className:Ve,style:m(m({},fe.props.style),ze),transform:Je}))}}],[{key:"getDerivedStateFromProps",value:function(ce,re){var fe=ce.position,ae=re.prevPropsPosition;return fe&&(!ae||fe.x!==ae.x||fe.y!==ae.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:fe,prevPropsPosition:ae}),{x:fe.x,y:fe.y,prevPropsPosition:m({},fe)}):null}}]),Z}(n.Component);e.default=Y,B(Y,"displayName","Draggable"),B(Y,"propTypes",m(m({},c.default.propTypes),{},{axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:l.dontSetMe,style:l.dontSetMe,transform:l.dontSetMe})),B(Y,"defaultProps",m(m({},c.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))})(mJe);var $Je=mJe,EJe=$Je.default,tRn=$Je.DraggableCore;s9.exports=EJe;s9.exports.default=EJe;s9.exports.DraggableCore=tRn;var kJe=s9.exports,u9={exports:{}},_A={},Vfe={};Vfe.__esModule=!0;Vfe.cloneElement=aRn;var nRn=rRn(O);function rRn(e){return e&&e.__esModule?e:{default:e}}function SEe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _Ee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SEe(Object(n),!0).forEach(function(r){iRn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SEe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iRn(e,t,n){return t=oRn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oRn(e){var t=sRn(e,"string");return typeof t=="symbol"?t:String(t)}function sRn(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aRn(e,t){return t.style&&e.props.style&&(t.style=_Ee(_Ee({},e.props.style),t.style)),t.className&&e.props.className&&(t.className=e.props.className+" "+t.className),nRn.default.cloneElement(e,t)}var CA={};CA.__esModule=!0;CA.resizableProps=void 0;var fn=lRn(kg);function lRn(e){return e&&e.__esModule?e:{default:e}}var cRn={axis:fn.default.oneOf(["both","x","y","none"]),className:fn.default.string,children:fn.default.element.isRequired,draggableOpts:fn.default.shape({allowAnyClick:fn.default.bool,cancel:fn.default.string,children:fn.default.node,disabled:fn.default.bool,enableUserSelectHack:fn.default.bool,offsetParent:fn.default.node,grid:fn.default.arrayOf(fn.default.number),handle:fn.default.string,nodeRef:fn.default.object,onStart:fn.default.func,onDrag:fn.default.func,onStop:fn.default.func,onMouseDown:fn.default.func,scale:fn.default.number}),height:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(i.axis==="both"||i.axis==="y"){var o;return(o=fn.default.number).isRequired.apply(o,n)}return fn.default.number.apply(fn.default,n)},handle:fn.default.oneOfType([fn.default.node,fn.default.func]),handleSize:fn.default.arrayOf(fn.default.number),lockAspectRatio:fn.default.bool,maxConstraints:fn.default.arrayOf(fn.default.number),minConstraints:fn.default.arrayOf(fn.default.number),onResizeStop:fn.default.func,onResizeStart:fn.default.func,onResize:fn.default.func,resizeHandles:fn.default.arrayOf(fn.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:fn.default.number,width:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(i.axis==="both"||i.axis==="x"){var o;return(o=fn.default.number).isRequired.apply(o,n)}return fn.default.number.apply(fn.default,n)}};CA.resizableProps=cRn;_A.__esModule=!0;_A.default=void 0;var H$=pRn(O),uRn=kJe,fRn=Vfe,dRn=CA,hRn=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function TJe(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(TJe=function(i){return i?n:t})(e)}function pRn(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=TJe(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function dJ(){return dJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dJ.apply(this,arguments)}function gRn(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function CEe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pU(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CEe(Object(n),!0).forEach(function(r){mRn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CEe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mRn(e,t,n){return t=yRn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yRn(e){var t=vRn(e,"string");return typeof t=="symbol"?t:String(t)}function vRn(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bRn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,hJ(e,t)}function hJ(e,t){return hJ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hJ(e,t)}var Ufe=function(e){bRn(t,e);function t(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o))||this,r.handleRefs={},r.lastHandleRect=null,r.slack=null,r}var n=t.prototype;return n.componentWillUnmount=function(){this.resetData()},n.resetData=function(){this.lastHandleRect=this.slack=null},n.runConstraints=function(i,o){var s=this.props,a=s.minConstraints,l=s.maxConstraints,c=s.lockAspectRatio;if(!a&&!l&&!c)return[i,o];if(c){var u=this.props.width/this.props.height,f=i-this.props.width,d=o-this.props.height;Math.abs(f)>Math.abs(d*u)?o=i/u:i=o*u}var h=i,p=o,g=this.slack||[0,0],y=g[0],v=g[1];return i+=y,o+=v,a&&(i=Math.max(a[0],i),o=Math.max(a[1],o)),l&&(i=Math.min(l[0],i),o=Math.min(l[1],o)),this.slack=[y+(h-i),v+(p-o)],[i,o]},n.resizeHandler=function(i,o){var s=this;return function(a,l){var c=l.node,u=l.deltaX,f=l.deltaY;i==="onResizeStart"&&s.resetData();var d=(s.props.axis==="both"||s.props.axis==="x")&&o!=="n"&&o!=="s",h=(s.props.axis==="both"||s.props.axis==="y")&&o!=="e"&&o!=="w";if(!(!d&&!h)){var p=o[0],g=o[o.length-1],y=c.getBoundingClientRect();if(s.lastHandleRect!=null){if(g==="w"){var v=y.left-s.lastHandleRect.left;u+=v}if(p==="n"){var x=y.top-s.lastHandleRect.top;f+=x}}s.lastHandleRect=y,g==="w"&&(u=-u),p==="n"&&(f=-f);var m=s.props.width+(d?u/s.props.transformScale:0),w=s.props.height+(h?f/s.props.transformScale:0),S=s.runConstraints(m,w);m=S[0],w=S[1];var C=m!==s.props.width||w!==s.props.height,$=typeof s.props[i]=="function"?s.props[i]:null,E=i==="onResize"&&!C;$&&!E&&(a.persist==null||a.persist(),$(a,{node:c,size:{width:m,height:w},handle:o})),i==="onResizeStop"&&s.resetData()}}},n.renderResizeHandle=function(i,o){var s=this.props.handle;if(!s)return H$.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+i,ref:o});if(typeof s=="function")return s(i,o);var a=typeof s.type=="string",l=pU({ref:o},a?{}:{handleAxis:i});return H$.cloneElement(s,l)},n.render=function(){var i=this,o=this.props,s=o.children,a=o.className,l=o.draggableOpts;o.width,o.height,o.handle,o.handleSize,o.lockAspectRatio,o.axis,o.minConstraints,o.maxConstraints,o.onResize,o.onResizeStop,o.onResizeStart;var c=o.resizeHandles;o.transformScale;var u=gRn(o,hRn);return(0,fRn.cloneElement)(s,pU(pU({},u),{},{className:(a?a+" ":"")+"react-resizable",children:[].concat(s.props.children,c.map(function(f){var d,h=(d=i.handleRefs[f])!=null?d:i.handleRefs[f]=H$.createRef();return H$.createElement(uRn.DraggableCore,dJ({},l,{nodeRef:h,key:"resizableHandle-"+f,onStop:i.resizeHandler("onResizeStop",f),onStart:i.resizeHandler("onResizeStart",f),onDrag:i.resizeHandler("onResize",f)}),i.renderResizeHandle(f,h))}))}))},t}(H$.Component);_A.default=Ufe;Ufe.propTypes=dRn.resizableProps;Ufe.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var f9={};f9.__esModule=!0;f9.default=void 0;var gU=_Rn(O),ORn=PJe(kg),xRn=PJe(_A),wRn=CA,SRn=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function PJe(e){return e&&e.__esModule?e:{default:e}}function RJe(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(RJe=function(i){return i?n:t})(e)}function _Rn(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=RJe(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function pJ(){return pJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pJ.apply(this,arguments)}function $Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$Ee(Object(n),!0).forEach(function(r){CRn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$Ee(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CRn(e,t,n){return t=$Rn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $Rn(e){var t=ERn(e,"string");return typeof t=="symbol"?t:String(t)}function ERn(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kRn(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function TRn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,gJ(e,t)}function gJ(e,t){return gJ=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gJ(e,t)}var AJe=function(e){TRn(t,e);function t(){for(var r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return r=e.call.apply(e,[this].concat(o))||this,r.state={width:r.props.width,height:r.props.height,propsWidth:r.props.width,propsHeight:r.props.height},r.onResize=function(a,l){var c=l.size;r.props.onResize?(a.persist==null||a.persist(),r.setState(c,function(){return r.props.onResize&&r.props.onResize(a,l)})):r.setState(c)},r}t.getDerivedStateFromProps=function(i,o){return o.propsWidth!==i.width||o.propsHeight!==i.height?{width:i.width,height:i.height,propsWidth:i.width,propsHeight:i.height}:null};var n=t.prototype;return n.render=function(){var i=this.props,o=i.handle,s=i.handleSize;i.onResize;var a=i.onResizeStart,l=i.onResizeStop,c=i.draggableOpts,u=i.minConstraints,f=i.maxConstraints,d=i.lockAspectRatio,h=i.axis;i.width,i.height;var p=i.resizeHandles,g=i.style,y=i.transformScale,v=kRn(i,SRn);return gU.createElement(xRn.default,{axis:h,draggableOpts:c,handle:o,handleSize:s,height:this.state.height,lockAspectRatio:d,maxConstraints:f,minConstraints:u,onResizeStart:a,onResize:this.onResize,onResizeStop:l,resizeHandles:p,transformScale:y,width:this.state.width},gU.createElement("div",pJ({},v,{style:mF(mF({},g),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},t}(gU.Component);f9.default=AJe;AJe.propTypes=mF(mF({},wRn.resizableProps),{},{children:ORn.default.element});u9.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};u9.exports.Resizable=_A.default;u9.exports.ResizableBox=f9.default;var PRn=u9.exports,ig={};Object.defineProperty(ig,"__esModule",{value:!0});ig.resizeHandleType=ig.resizeHandleAxesType=ig.default=void 0;var hn=DJe(kg),RRn=DJe(O);function DJe(e){return e&&e.__esModule?e:{default:e}}const ARn=ig.resizeHandleAxesType=hn.default.arrayOf(hn.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),DRn=ig.resizeHandleType=hn.default.oneOfType([hn.default.node,hn.default.func]);ig.default={className:hn.default.string,style:hn.default.object,width:hn.default.number,autoSize:hn.default.bool,cols:hn.default.number,draggableCancel:hn.default.string,draggableHandle:hn.default.string,verticalCompact:function(e){e.verticalCompact},compactType:hn.default.oneOf(["vertical","horizontal"]),layout:function(e){var t=e.layout;t!==void 0&&Sn.validateLayout(t,"layout")},margin:hn.default.arrayOf(hn.default.number),containerPadding:hn.default.arrayOf(hn.default.number),rowHeight:hn.default.number,maxRows:hn.default.number,isBounded:hn.default.bool,isDraggable:hn.default.bool,isResizable:hn.default.bool,allowOverlap:hn.default.bool,preventCollision:hn.default.bool,useCSSTransforms:hn.default.bool,transformScale:hn.default.number,isDroppable:hn.default.bool,resizeHandles:ARn,resizeHandle:DRn,onLayoutChange:hn.default.func,onDragStart:hn.default.func,onDrag:hn.default.func,onDragStop:hn.default.func,onResizeStart:hn.default.func,onResize:hn.default.func,onResizeStop:hn.default.func,onDrop:hn.default.func,droppingItem:hn.default.shape({i:hn.default.string.isRequired,w:hn.default.number.isRequired,h:hn.default.number.isRequired}),children:function(e,t){const n=e[t],r={};RRn.default.Children.forEach(n,function(i){if((i==null?void 0:i.key)!=null){if(r[i.key])throw new Error('Duplicate child key "'+i.key+'" found! This will cause problems in ReactGridLayout.');r[i.key]=!0}})},innerRef:hn.default.any};Object.defineProperty(o9,"__esModule",{value:!0});o9.default=void 0;var ox=qfe(O),nr=qfe(kg),NRn=kJe,MRn=PRn,sx=Sn,ys=ip,EEe=ig,IRn=qfe(Rfe);function qfe(e){return e&&e.__esModule?e:{default:e}}function Md(e,t,n){return t=LRn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LRn(e){var t=jRn(e,"string");return typeof t=="symbol"?t:String(t)}function jRn(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Yfe extends ox.default.Component{constructor(){super(...arguments),Md(this,"state",{resizing:null,dragging:null,className:""}),Md(this,"elementRef",ox.default.createRef()),Md(this,"onDragStart",(t,n)=>{let{node:r}=n;const{onDragStart:i,transformScale:o}=this.props;if(!i)return;const s={top:0,left:0},{offsetParent:a}=r;if(!a)return;const l=a.getBoundingClientRect(),c=r.getBoundingClientRect(),u=c.left/o,f=l.left/o,d=c.top/o,h=l.top/o;s.left=u-f+a.scrollLeft,s.top=d-h+a.scrollTop,this.setState({dragging:s});const{x:p,y:g}=(0,ys.calcXY)(this.getPositionParams(),s.top,s.left,this.props.w,this.props.h);return i.call(this,this.props.i,p,g,{e:t,node:r,newPosition:s})}),Md(this,"onDrag",(t,n)=>{let{node:r,deltaX:i,deltaY:o}=n;const{onDrag:s}=this.props;if(!s)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let a=this.state.dragging.top+o,l=this.state.dragging.left+i;const{isBounded:c,i:u,w:f,h:d,containerWidth:h}=this.props,p=this.getPositionParams();if(c){const{offsetParent:m}=r;if(m){const{margin:w,rowHeight:S,containerPadding:C}=this.props,$=m.clientHeight-(0,ys.calcGridItemWHPx)(d,S,w[1]);a=(0,ys.clamp)(a-C[1],0,$);const E=(0,ys.calcGridColWidth)(p),R=h-(0,ys.calcGridItemWHPx)(f,E,w[0]);l=(0,ys.clamp)(l-C[0],0,R)}}const g={top:a,left:l};this.setState({dragging:g});const{containerPadding:y}=this.props,{x:v,y:x}=(0,ys.calcXY)(p,a-y[1],l-y[0],f,d);return s.call(this,u,v,x,{e:t,node:r,newPosition:g})}),Md(this,"onDragStop",(t,n)=>{let{node:r}=n;const{onDragStop:i}=this.props;if(!i)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");const{w:o,h:s,i:a,containerPadding:l}=this.props,{left:c,top:u}=this.state.dragging,f={top:u,left:c};this.setState({dragging:null});const{x:d,y:h}=(0,ys.calcXY)(this.getPositionParams(),u-l[1],c-l[0],o,s);return i.call(this,a,d,h,{e:t,node:r,newPosition:f})}),Md(this,"onResizeStop",(t,n,r)=>this.onResizeHandler(t,n,r,"onResizeStop")),Md(this,"onResizeStart",(t,n,r)=>this.onResizeHandler(t,n,r,"onResizeStart")),Md(this,"onResize",(t,n,r)=>this.onResizeHandler(t,n,r,"onResize"))}shouldComponentUpdate(t,n){if(this.props.children!==t.children||this.props.droppingPosition!==t.droppingPosition)return!0;const r=(0,ys.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),i=(0,ys.calcGridItemPosition)(this.getPositionParams(t),t.x,t.y,t.w,t.h,n);return!(0,sx.fastPositionEqual)(r,i)||this.props.useCSSTransforms!==t.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(t){this.moveDroppingItem(t)}moveDroppingItem(t){const{droppingPosition:n}=this.props;if(!n)return;const r=this.elementRef.current;if(!r)return;const i=t.droppingPosition||{left:0,top:0},{dragging:o}=this.state,s=o&&n.left!==i.left||n.top!==i.top;if(!o)this.onDragStart(n.e,{node:r,deltaX:n.left,deltaY:n.top});else if(s){const a=n.left-o.left,l=n.top-o.top;this.onDrag(n.e,{node:r,deltaX:a,deltaY:l})}}getPositionParams(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:t.cols,containerPadding:t.containerPadding,containerWidth:t.containerWidth,margin:t.margin,maxRows:t.maxRows,rowHeight:t.rowHeight}}createStyle(t){const{usePercentages:n,containerWidth:r,useCSSTransforms:i}=this.props;let o;return i?o=(0,sx.setTransform)(t):(o=(0,sx.setTopLeft)(t),n&&(o.left=(0,sx.perc)(t.left/r),o.width=(0,sx.perc)(t.width/r))),o}mixinDraggable(t,n){return ox.default.createElement(NRn.DraggableCore,{disabled:!n,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},t)}curryResizeHandler(t,n){return(r,i)=>n(r,i,t)}mixinResizable(t,n,r){const{cols:i,minW:o,minH:s,maxW:a,maxH:l,transformScale:c,resizeHandles:u,resizeHandle:f}=this.props,d=this.getPositionParams(),h=(0,ys.calcGridItemPosition)(d,0,0,i,0).width,p=(0,ys.calcGridItemPosition)(d,0,0,o,s),g=(0,ys.calcGridItemPosition)(d,0,0,a,l),y=[p.width,p.height],v=[Math.min(g.width,h),Math.min(g.height,1/0)];return ox.default.createElement(MRn.Resizable,{draggableOpts:{disabled:!r},className:r?void 0:"react-resizable-hide",width:n.width,height:n.height,minConstraints:y,maxConstraints:v,onResizeStop:this.curryResizeHandler(n,this.onResizeStop),onResizeStart:this.curryResizeHandler(n,this.onResizeStart),onResize:this.curryResizeHandler(n,this.onResize),transformScale:c,resizeHandles:u,handle:f},t)}onResizeHandler(t,n,r,i){let{node:o,size:s,handle:a}=n;const l=this.props[i];if(!l)return;const{x:c,y:u,i:f,maxH:d,minH:h,containerWidth:p}=this.props,{minW:g,maxW:y}=this.props;let v=s;o&&(v=(0,sx.resizeItemInDirection)(a,r,s,p),this.setState({resizing:i==="onResizeStop"?null:v}));let{w:x,h:m}=(0,ys.calcWH)(this.getPositionParams(),v.width,v.height,c,u,a);x=(0,ys.clamp)(x,Math.max(g,1),y),m=(0,ys.clamp)(m,h,d),l.call(this,f,x,m,{e:t,node:o,size:v,handle:a})}render(){const{x:t,y:n,w:r,h:i,isDraggable:o,isResizable:s,droppingPosition:a,useCSSTransforms:l}=this.props,c=(0,ys.calcGridItemPosition)(this.getPositionParams(),t,n,r,i,this.state),u=ox.default.Children.only(this.props.children);let f=ox.default.cloneElement(u,{ref:this.elementRef,className:(0,IRn.default)("react-grid-item",u.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":o,"react-draggable-dragging":!!this.state.dragging,dropping:!!a,cssTransforms:l}),style:{...this.props.style,...u.props.style,...this.createStyle(c)}});return f=this.mixinResizable(f,c,s),f=this.mixinDraggable(f,o),f}}o9.default=Yfe;Md(Yfe,"propTypes",{children:nr.default.element,cols:nr.default.number.isRequired,containerWidth:nr.default.number.isRequired,rowHeight:nr.default.number.isRequired,margin:nr.default.array.isRequired,maxRows:nr.default.number.isRequired,containerPadding:nr.default.array.isRequired,x:nr.default.number.isRequired,y:nr.default.number.isRequired,w:nr.default.number.isRequired,h:nr.default.number.isRequired,minW:function(e,t){const n=e[t];if(typeof n!="number")return new Error("minWidth not Number");if(n>e.w||n>e.maxW)return new Error("minWidth larger than item width/maxWidth")},maxW:function(e,t){const n=e[t];if(typeof n!="number")return new Error("maxWidth not Number");if(n<e.w||n<e.minW)return new Error("maxWidth smaller than item width/minWidth")},minH:function(e,t){const n=e[t];if(typeof n!="number")return new Error("minHeight not Number");if(n>e.h||n>e.maxH)return new Error("minHeight larger than item height/maxHeight")},maxH:function(e,t){const n=e[t];if(typeof n!="number")return new Error("maxHeight not Number");if(n<e.h||n<e.minH)return new Error("maxHeight smaller than item height/minHeight")},i:nr.default.string.isRequired,resizeHandles:EEe.resizeHandleAxesType,resizeHandle:EEe.resizeHandleType,onDragStop:nr.default.func,onDragStart:nr.default.func,onDrag:nr.default.func,onResizeStop:nr.default.func,onResizeStart:nr.default.func,onResize:nr.default.func,isDraggable:nr.default.bool.isRequired,isResizable:nr.default.bool.isRequired,isBounded:nr.default.bool.isRequired,static:nr.default.bool,useCSSTransforms:nr.default.bool.isRequired,transformScale:nr.default.number,className:nr.default.string,handle:nr.default.string,cancel:nr.default.string,droppingPosition:nr.default.shape({e:nr.default.object.isRequired,left:nr.default.number.isRequired,top:nr.default.number.isRequired})});Md(Yfe,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1});Object.defineProperty(SA,"__esModule",{value:!0});SA.default=void 0;var hv=BRn(O),mU=Pfe,FRn=Xfe(Rfe),Ht=Sn,zRn=ip,kEe=Xfe(o9),QRn=Xfe(ig);function Xfe(e){return e&&e.__esModule?e:{default:e}}function NJe(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(NJe=function(r){return r?n:t})(e)}function BRn(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=NJe(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function na(e,t,n){return t=WRn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WRn(e){var t=VRn(e,"string");return typeof t=="symbol"?t:String(t)}function VRn(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const TEe="react-grid-layout";let MJe=!1;try{MJe=/firefox/i.test(navigator.userAgent)}catch{}let d9=class extends hv.Component{constructor(){super(...arguments),na(this,"state",{activeDrag:null,layout:(0,Ht.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,Ht.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),na(this,"dragEnterCounter",0),na(this,"onDragStart",(t,n,r,i)=>{let{e:o,node:s}=i;const{layout:a}=this.state,l=(0,Ht.getLayoutItem)(a,t);if(!l)return;const c={w:l.w,h:l.h,x:l.x,y:l.y,placeholder:!0,i:t};return this.setState({oldDragItem:(0,Ht.cloneLayoutItem)(l),oldLayout:a,activeDrag:c}),this.props.onDragStart(a,l,l,null,o,s)}),na(this,"onDrag",(t,n,r,i)=>{let{e:o,node:s}=i;const{oldDragItem:a}=this.state;let{layout:l}=this.state;const{cols:c,allowOverlap:u,preventCollision:f}=this.props,d=(0,Ht.getLayoutItem)(l,t);if(!d)return;const h={w:d.w,h:d.h,x:d.x,y:d.y,placeholder:!0,i:t},p=!0;l=(0,Ht.moveElement)(l,d,n,r,p,f,(0,Ht.compactType)(this.props),c,u),this.props.onDrag(l,a,d,h,o,s),this.setState({layout:u?l:(0,Ht.compact)(l,(0,Ht.compactType)(this.props),c),activeDrag:h})}),na(this,"onDragStop",(t,n,r,i)=>{let{e:o,node:s}=i;if(!this.state.activeDrag)return;const{oldDragItem:a}=this.state;let{layout:l}=this.state;const{cols:c,preventCollision:u,allowOverlap:f}=this.props,d=(0,Ht.getLayoutItem)(l,t);if(!d)return;const h=!0;l=(0,Ht.moveElement)(l,d,n,r,h,u,(0,Ht.compactType)(this.props),c,f);const p=f?l:(0,Ht.compact)(l,(0,Ht.compactType)(this.props),c);this.props.onDragStop(p,a,d,null,o,s);const{oldLayout:g}=this.state;this.setState({activeDrag:null,layout:p,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(p,g)}),na(this,"onResizeStart",(t,n,r,i)=>{let{e:o,node:s}=i;const{layout:a}=this.state,l=(0,Ht.getLayoutItem)(a,t);l&&(this.setState({oldResizeItem:(0,Ht.cloneLayoutItem)(l),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(a,l,l,null,o,s))}),na(this,"onResize",(t,n,r,i)=>{let{e:o,node:s,size:a,handle:l}=i;const{oldResizeItem:c}=this.state,{layout:u}=this.state,{cols:f,preventCollision:d,allowOverlap:h}=this.props;let p=!1,g,y,v;const[x,m]=(0,Ht.withLayoutItem)(u,t,S=>{let C;return y=S.x,v=S.y,["sw","w","nw","n","ne"].indexOf(l)!==-1&&(["sw","nw","w"].indexOf(l)!==-1&&(y=S.x+(S.w-n),n=S.x!==y&&y<0?S.w:n,y=y<0?0:y),["ne","n","nw"].indexOf(l)!==-1&&(v=S.y+(S.h-r),r=S.y!==v&&v<0?S.h:r,v=v<0?0:v),p=!0),d&&!h&&(C=(0,Ht.getAllCollisions)(u,{...S,w:n,h:r,x:y,y:v}).filter(E=>E.i!==S.i).length>0,C&&(v=S.y,r=S.h,y=S.x,n=S.w,p=!1)),S.w=n,S.h=r,S});if(!m)return;g=x,p&&(g=(0,Ht.moveElement)(x,m,y,v,!0,this.props.preventCollision,(0,Ht.compactType)(this.props),f,h));const w={w:m.w,h:m.h,x:m.x,y:m.y,static:!0,i:t};this.props.onResize(g,c,m,w,o,s),this.setState({layout:h?g:(0,Ht.compact)(g,(0,Ht.compactType)(this.props),f),activeDrag:w})}),na(this,"onResizeStop",(t,n,r,i)=>{let{e:o,node:s}=i;const{layout:a,oldResizeItem:l}=this.state,{cols:c,allowOverlap:u}=this.props,f=(0,Ht.getLayoutItem)(a,t),d=u?a:(0,Ht.compact)(a,(0,Ht.compactType)(this.props),c);this.props.onResizeStop(d,l,f,null,o,s);const{oldLayout:h}=this.state;this.setState({activeDrag:null,layout:d,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(d,h)}),na(this,"onDragOver",t=>{var x;if(t.preventDefault(),t.stopPropagation(),MJe&&!((x=t.nativeEvent.target)!=null&&x.classList.contains(TEe)))return!1;const{droppingItem:n,onDropDragOver:r,margin:i,cols:o,rowHeight:s,maxRows:a,width:l,containerPadding:c,transformScale:u}=this.props,f=r==null?void 0:r(t);if(f===!1)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;const d={...n,...f},{layout:h}=this.state,p=t.currentTarget.getBoundingClientRect(),g=t.clientX-p.left,y=t.clientY-p.top,v={left:g/u,top:y/u,e:t};if(this.state.droppingDOMNode){if(this.state.droppingPosition){const{left:m,top:w}=this.state.droppingPosition;(m!=g||w!=y)&&this.setState({droppingPosition:v})}}else{const m={cols:o,margin:i,maxRows:a,rowHeight:s,containerWidth:l,containerPadding:c||i},w=(0,zRn.calcXY)(m,y,g,d.w,d.h);this.setState({droppingDOMNode:hv.createElement("div",{key:d.i}),droppingPosition:v,layout:[...h,{...d,x:w.x,y:w.y,static:!1,isDraggable:!0}]})}}),na(this,"removeDroppingPlaceholder",()=>{const{droppingItem:t,cols:n}=this.props,{layout:r}=this.state,i=(0,Ht.compact)(r.filter(o=>o.i!==t.i),(0,Ht.compactType)(this.props),n,this.props.allowOverlap);this.setState({layout:i,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),na(this,"onDragLeave",t=>{t.preventDefault(),t.stopPropagation(),this.dragEnterCounter--,this.dragEnterCounter===0&&this.removeDroppingPlaceholder()}),na(this,"onDragEnter",t=>{t.preventDefault(),t.stopPropagation(),this.dragEnterCounter++}),na(this,"onDrop",t=>{t.preventDefault(),t.stopPropagation();const{droppingItem:n}=this.props,{layout:r}=this.state,i=r.find(o=>o.i===n.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(r,i,t)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(t,n){let r;return n.activeDrag?null:(!(0,mU.deepEqual)(t.layout,n.propsLayout)||t.compactType!==n.compactType?r=t.layout:(0,Ht.childrenEqual)(t.children,n.children)||(r=n.layout),r?{layout:(0,Ht.synchronizeLayoutWithChildren)(r,t.children,t.cols,(0,Ht.compactType)(t),t.allowOverlap),compactType:t.compactType,children:t.children,propsLayout:t.layout}:null)}shouldComponentUpdate(t,n){return this.props.children!==t.children||!(0,Ht.fastRGLPropsEqual)(this.props,t,mU.deepEqual)||this.state.activeDrag!==n.activeDrag||this.state.mounted!==n.mounted||this.state.droppingPosition!==n.droppingPosition}componentDidUpdate(t,n){if(!this.state.activeDrag){const r=this.state.layout,i=n.layout;this.onLayoutMaybeChanged(r,i)}}containerHeight(){if(!this.props.autoSize)return;const t=(0,Ht.bottom)(this.state.layout),n=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return t*this.props.rowHeight+(t-1)*this.props.margin[1]+n*2+"px"}onLayoutMaybeChanged(t,n){n||(n=this.state.layout),(0,mU.deepEqual)(n,t)||this.props.onLayoutChange(t)}placeholder(){const{activeDrag:t}=this.state;if(!t)return null;const{width:n,cols:r,margin:i,containerPadding:o,rowHeight:s,maxRows:a,useCSSTransforms:l,transformScale:c}=this.props;return hv.createElement(kEe.default,{w:t.w,h:t.h,x:t.x,y:t.y,i:t.i,className:`react-grid-placeholder ${this.state.resizing?"placeholder-resizing":""}`,containerWidth:n,cols:r,margin:i,containerPadding:o||i,maxRows:a,rowHeight:s,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:l,transformScale:c},hv.createElement("div",null))}processGridItem(t,n){if(!t||!t.key)return;const r=(0,Ht.getLayoutItem)(this.state.layout,String(t.key));if(!r)return null;const{width:i,cols:o,margin:s,containerPadding:a,rowHeight:l,maxRows:c,isDraggable:u,isResizable:f,isBounded:d,useCSSTransforms:h,transformScale:p,draggableCancel:g,draggableHandle:y,resizeHandles:v,resizeHandle:x}=this.props,{mounted:m,droppingPosition:w}=this.state,S=typeof r.isDraggable=="boolean"?r.isDraggable:!r.static&&u,C=typeof r.isResizable=="boolean"?r.isResizable:!r.static&&f,$=r.resizeHandles||v,E=S&&d&&r.isBounded!==!1;return hv.createElement(kEe.default,{containerWidth:i,cols:o,margin:s,containerPadding:a||s,maxRows:c,rowHeight:l,cancel:g,handle:y,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:S,isResizable:C,isBounded:E,useCSSTransforms:h&&m,usePercentages:!m,transformScale:p,w:r.w,h:r.h,x:r.x,y:r.y,i:r.i,minH:r.minH,minW:r.minW,maxH:r.maxH,maxW:r.maxW,static:r.static,droppingPosition:n?w:void 0,resizeHandles:$,resizeHandle:x},t)}render(){const{className:t,style:n,isDroppable:r,innerRef:i}=this.props,o=(0,FRn.default)(TEe,t),s={height:this.containerHeight(),...n};return hv.createElement("div",{ref:i,className:o,style:s,onDrop:r?this.onDrop:Ht.noop,onDragLeave:r?this.onDragLeave:Ht.noop,onDragEnter:r?this.onDragEnter:Ht.noop,onDragOver:r?this.onDragOver:Ht.noop},hv.Children.map(this.props.children,a=>this.processGridItem(a)),r&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}};SA.default=d9;na(d9,"displayName","ReactGridLayout");na(d9,"propTypes",QRn.default);na(d9,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:Ht.noop,onDragStart:Ht.noop,onDrag:Ht.noop,onDragStop:Ht.noop,onResizeStart:Ht.noop,onResize:Ht.noop,onResizeStop:Ht.noop,onDrop:Ht.noop,onDropDragOver:Ht.noop});var h9={},xO={};Object.defineProperty(xO,"__esModule",{value:!0});xO.findOrGenerateResponsiveLayout=YRn;xO.getBreakpointFromWidth=URn;xO.getColsFromBreakpoint=qRn;xO.sortBreakpoints=Hfe;var tM=Sn;function URn(e,t){const n=Hfe(e);let r=n[0];for(let i=1,o=n.length;i<o;i++){const s=n[i];t>e[s]&&(r=s)}return r}function qRn(e,t){if(!t[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return t[e]}function YRn(e,t,n,r,i,o){if(e[n])return(0,tM.cloneLayout)(e[n]);let s=e[r];const a=Hfe(t),l=a.slice(a.indexOf(n));for(let c=0,u=l.length;c<u;c++){const f=l[c];if(e[f]){s=e[f];break}}return s=(0,tM.cloneLayout)(s||[]),(0,tM.compact)((0,tM.correctBounds)(s,{cols:i}),o,i)}function Hfe(e){return Object.keys(e).sort(function(n,r){return e[n]-e[r]})}Object.defineProperty(h9,"__esModule",{value:!0});h9.default=void 0;var PEe=HRn(O),fl=IJe(kg),yU=Pfe,Ww=Sn,pv=xO,XRn=IJe(SA);function IJe(e){return e&&e.__esModule?e:{default:e}}function LJe(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(LJe=function(r){return r?n:t})(e)}function HRn(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=LJe(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function mJ(){return mJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mJ.apply(this,arguments)}function yF(e,t,n){return t=ZRn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZRn(e){var t=GRn(e,"string");return typeof t=="symbol"?t:String(t)}function GRn(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const REe=e=>Object.prototype.toString.call(e);function nM(e,t){return e==null?null:Array.isArray(e)?e:e[t]}class Zfe extends PEe.Component{constructor(){super(...arguments),yF(this,"state",this.generateInitialState()),yF(this,"onLayoutChange",t=>{this.props.onLayoutChange(t,{...this.props.layouts,[this.state.breakpoint]:t})})}generateInitialState(){const{width:t,breakpoints:n,layouts:r,cols:i}=this.props,o=(0,pv.getBreakpointFromWidth)(n,t),s=(0,pv.getColsFromBreakpoint)(o,i),a=this.props.verticalCompact===!1?null:this.props.compactType;return{layout:(0,pv.findOrGenerateResponsiveLayout)(r,n,o,o,s,a),breakpoint:o,cols:s}}static getDerivedStateFromProps(t,n){if(!(0,yU.deepEqual)(t.layouts,n.layouts)){const{breakpoint:r,cols:i}=n;return{layout:(0,pv.findOrGenerateResponsiveLayout)(t.layouts,t.breakpoints,r,r,i,t.compactType),layouts:t.layouts}}return null}componentDidUpdate(t){(this.props.width!=t.width||this.props.breakpoint!==t.breakpoint||!(0,yU.deepEqual)(this.props.breakpoints,t.breakpoints)||!(0,yU.deepEqual)(this.props.cols,t.cols))&&this.onWidthChange(t)}onWidthChange(t){const{breakpoints:n,cols:r,layouts:i,compactType:o}=this.props,s=this.props.breakpoint||(0,pv.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),a=this.state.breakpoint,l=(0,pv.getColsFromBreakpoint)(s,r),c={...i};if(a!==s||t.breakpoints!==n||t.cols!==r){a in c||(c[a]=(0,Ww.cloneLayout)(this.state.layout));let d=(0,pv.findOrGenerateResponsiveLayout)(c,n,s,a,l,o);d=(0,Ww.synchronizeLayoutWithChildren)(d,this.props.children,l,o,this.props.allowOverlap),c[s]=d,this.props.onLayoutChange(d,c),this.props.onBreakpointChange(s,l),this.setState({breakpoint:s,layout:d,cols:l})}const u=nM(this.props.margin,s),f=nM(this.props.containerPadding,s);this.props.onWidthChange(this.props.width,u,l,f)}render(){const{breakpoint:t,breakpoints:n,cols:r,layouts:i,margin:o,containerPadding:s,onBreakpointChange:a,onLayoutChange:l,onWidthChange:c,...u}=this.props;return PEe.createElement(XRn.default,mJ({},u,{margin:nM(o,this.state.breakpoint),containerPadding:nM(s,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}h9.default=Zfe;yF(Zfe,"propTypes",{breakpoint:fl.default.string,breakpoints:fl.default.object,allowOverlap:fl.default.bool,cols:fl.default.object,margin:fl.default.oneOfType([fl.default.array,fl.default.object]),containerPadding:fl.default.oneOfType([fl.default.array,fl.default.object]),layouts(e,t){if(REe(e[t])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+REe(e[t]));Object.keys(e[t]).forEach(n=>{if(!(n in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,Ww.validateLayout)(e.layouts[n],"layouts."+n)})},width:fl.default.number.isRequired,onBreakpointChange:fl.default.func,onLayoutChange:fl.default.func,onWidthChange:fl.default.func});yF(Zfe,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:Ww.noop,onLayoutChange:Ww.noop,onWidthChange:Ww.noop});var Gfe={},jJe=function(){if(typeof Map<"u")return Map;function e(t,n){var r=-1;return t.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(n){var r=e(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},t.prototype.set=function(n,r){var i=e(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},t.prototype.delete=function(n){var r=this.__entries__,i=e(r,n);~i&&r.splice(i,1)},t.prototype.has=function(n){return!!~e(this.__entries__,n)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var s=o[i];n.call(r,s[1],s[0])}},t}()}(),yJ=typeof window<"u"&&typeof document<"u"&&window.document===document,vF=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),KRn=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(vF):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),JRn=2;function eAn(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&a()}function s(){KRn(o)}function a(){var l=Date.now();if(n){if(l-i<JRn)return;r=!0}else n=!0,r=!1,setTimeout(s,t);i=l}return a}var tAn=20,nAn=["top","right","bottom","left","width","height","size","weight"],rAn=typeof MutationObserver<"u",iAn=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=eAn(this.refresh.bind(this),tAn)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var n=this.observers_,r=n.indexOf(t);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!yJ||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),rAn?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!yJ||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var n=t.propertyName,r=n===void 0?"":n,i=nAn.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),FJe=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},C_=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||vF},zJe=p9(0,0,0,0);function bF(e){return parseFloat(e)||0}function AEe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(r,i){var o=e["border-"+i+"-width"];return r+bF(o)},0)}function oAn(e){for(var t=["top","right","bottom","left"],n={},r=0,i=t;r<i.length;r++){var o=i[r],s=e["padding-"+o];n[o]=bF(s)}return n}function sAn(e){var t=e.getBBox();return p9(0,0,t.width,t.height)}function aAn(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return zJe;var r=C_(e).getComputedStyle(e),i=oAn(r),o=i.left+i.right,s=i.top+i.bottom,a=bF(r.width),l=bF(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+o)!==t&&(a-=AEe(r,"left","right")+o),Math.round(l+s)!==n&&(l-=AEe(r,"top","bottom")+s)),!cAn(e)){var c=Math.round(a+o)-t,u=Math.round(l+s)-n;Math.abs(c)!==1&&(a-=c),Math.abs(u)!==1&&(l-=u)}return p9(i.left,i.top,a,l)}var lAn=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof C_(e).SVGGraphicsElement}:function(e){return e instanceof C_(e).SVGElement&&typeof e.getBBox=="function"}}();function cAn(e){return e===C_(e).document.documentElement}function uAn(e){return yJ?lAn(e)?sAn(e):aAn(e):zJe}function fAn(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(o.prototype);return FJe(s,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),s}function p9(e,t,n,r){return{x:e,y:t,width:n,height:r}}var dAn=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=p9(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=uAn(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),hAn=function(){function e(t,n){var r=fAn(n);FJe(this,{target:t,contentRect:r})}return e}(),pAn=function(){function e(t,n,r){if(this.activeObservations_=[],this.observations_=new jJe,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=r}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof C_(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new dAn(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof C_(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)&&(n.delete(t),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new hAn(r.target,r.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),QJe=typeof WeakMap<"u"?new WeakMap:new jJe,BJe=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=iAn.getInstance(),r=new pAn(t,n,this);QJe.set(this,r)}return e}();["observe","unobserve","disconnect"].forEach(function(e){BJe.prototype[e]=function(){var t;return(t=QJe.get(this))[e].apply(t,arguments)}});var gAn=function(){return typeof vF.ResizeObserver<"u"?vF.ResizeObserver:BJe}();const mAn=Object.freeze(Object.defineProperty({__proto__:null,default:gAn},Symbol.toStringTag,{value:"Module"})),yAn=PP(mAn);Object.defineProperty(Gfe,"__esModule",{value:!0});Gfe.default=CAn;var rM=xAn(O),vAn=Kfe(kg),bAn=Kfe(yAn),OAn=Kfe(Rfe);function Kfe(e){return e&&e.__esModule?e:{default:e}}function WJe(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(WJe=function(r){return r?n:t})(e)}function xAn(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=WJe(t);if(n&&n.has(e))return n.get(e);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=e[o]}return r.default=e,n&&n.set(e,r),r}function vJ(){return vJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vJ.apply(this,arguments)}function ax(e,t,n){return t=wAn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wAn(e){var t=SAn(e,"string");return typeof t=="symbol"?t:String(t)}function SAn(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}const _An="react-grid-layout";function CAn(e){var t;return t=class extends rM.Component{constructor(){super(...arguments),ax(this,"state",{width:1280}),ax(this,"elementRef",rM.createRef()),ax(this,"mounted",!1),ax(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new bAn.default(i=>{if(this.elementRef.current instanceof HTMLElement){const s=i[0].contentRect.width;this.setState({width:s})}});const r=this.elementRef.current;r instanceof HTMLElement&&this.resizeObserver.observe(r)}componentWillUnmount(){this.mounted=!1;const r=this.elementRef.current;r instanceof HTMLElement&&this.resizeObserver.unobserve(r),this.resizeObserver.disconnect()}render(){const{measureBeforeMount:r,...i}=this.props;return r&&!this.mounted?rM.createElement("div",{className:(0,OAn.default)(this.props.className,_An),style:this.props.style,ref:this.elementRef}):rM.createElement(e,vJ({innerRef:this.elementRef},i,this.state))}},ax(t,"defaultProps",{measureBeforeMount:!1}),ax(t,"propTypes",{measureBeforeMount:vAn.default.bool}),t}(function(e){e.exports=SA.default,e.exports.utils=Sn,e.exports.calculateUtils=ip,e.exports.Responsive=h9.default,e.exports.Responsive.utils=xO,e.exports.WidthProvider=Gfe.default})(rJe);var DEe=rJe.exports;const Jfe=O.memo(({code:e,className:t})=>{const{theme:n}=_0();return b.jsx("div",{className:ve(t,"text-muted-foreground flex flex-col overflow-hidden"),children:b.jsx(C8e,{minHeight:"10px",theme:n==="dark"?"dark":"light",height:"100%",className:"tiny-code",editable:!1,basicSetup:!1,extensions:[Doe(),jQt({syntaxHighlighting:!0,highlightSpecialChars:!1,history:!1,drawSelection:!1,defaultKeymap:!1,historyKeymap:!1})],value:e})})});Jfe.displayName="TinyCode";const $An=10;function EAn(){const[e,t]=O.useState(!1),[n,r]=ie.useState({x:0,y:0}),[i,o]=ie.useState(!1);return{isDragging:e&&i,onDragStart:c=>{t(!0),r({x:c.clientX,y:c.clientY})},onDragMove:c=>{if(e){const u=c.clientX-n.x,f=c.clientY-n.y;o(Math.hypot(u,f)>$An)}},onDragStop:()=>{t(!1),o(!1)}}}function g9(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var kAn=["color"],TAn=O.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=g9(e,kAn);return O.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),O.createElement("path",{d:"M0.25 1C0.25 0.585786 0.585786 0.25 1 0.25H14C14.4142 0.25 14.75 0.585786 14.75 1V14C14.75 14.4142 14.4142 14.75 14 14.75H1C0.585786 14.75 0.25 14.4142 0.25 14V1ZM1.75 1.75V13.25H13.25V1.75H1.75Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}),O.createElement("rect",{x:"7",y:"5",width:"1",height:"1",rx:".5",fill:r}),O.createElement("rect",{x:"7",y:"3",width:"1",height:"1",rx:".5",fill:r}),O.createElement("rect",{x:"7",y:"7",width:"1",height:"1",rx:".5",fill:r}),O.createElement("rect",{x:"5",y:"7",width:"1",height:"1",rx:".5",fill:r}),O.createElement("rect",{x:"3",y:"7",width:"1",height:"1",rx:".5",fill:r}),O.createElement("rect",{x:"9",y:"7",width:"1",height:"1",rx:".5",fill:r}),O.createElement("rect",{x:"11",y:"7",width:"1",height:"1",rx:".5",fill:r}),O.createElement("rect",{x:"7",y:"9",width:"1",height:"1",rx:".5",fill:r}),O.createElement("rect",{x:"7",y:"11",width:"1",height:"1",rx:".5",fill:r}))}),PAn=["color"],RAn=O.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=g9(e,PAn);return O.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),O.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),AAn=["color"],DAn=O.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=g9(e,AAn);return O.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),O.createElement("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),NAn=["color"],MAn=O.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=g9(e,NAn);return O.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:t}),O.createElement("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:r}))});const IAn=DEe.WidthProvider(DEe.Responsive),LAn=[0,0],bJ="grid-drag-handle",jAn=({layout:e,setLayout:t,cells:n,mode:r})=>{const i=r==="read",o=new Set(e.cells.map(w=>w.i)),[s,a]=O.useState(null),[l,c]=O.useState(!1),u=O.useMemo(()=>({lg:e.columns}),[e.columns]);O.useEffect(()=>{const w=document.getElementById("App");return e.bordered?w==null||w.classList.add("grid-bordered"):w==null||w.classList.remove("grid-bordered"),()=>{w==null||w.classList.remove("grid-bordered")}},[e.bordered]);const{isDragging:f,...d}=EAn(),h=!i&&!l,p=nJe.keyBy(e.cells,w=>w.i),g=w=>S=>{const C=new Set(e.scrollableCells);S?C.add(w):C.delete(w),t({...e,scrollableCells:C})},y=w=>S=>{const C=new Map(e.cellSide);S===C.get(w)?C.delete(w):C.set(w,S),t({...e,cellSide:C})},v={};e.maxWidth&&(v.maxWidth=`${e.maxWidth}px`),h&&(v.backgroundImage="repeating-linear-gradient(var(--gray-4) 0 1px, transparent 1px 100%), repeating-linear-gradient(90deg, var(--gray-4) 0 1px, transparent 1px 100%)",v.backgroundSize=`calc((100% / ${e.columns})) ${e.rowHeight}px`);const x=b.jsx(IAn,{breakpoint:"lg",layouts:{lg:e.cells},style:v,cols:u,allowOverlap:!1,className:ve("w-full mx-auto bg-background flex-1 min-h-full",h&&"bg-[var(--slate-2)] border-r",i&&"disable-animation px-4 ",e.bordered&&"border-t border-x rounded-t shadow-sm overflow-hidden",e.bordered&&i&&"pt-4 w-[calc(100%-2rem)]",!e.maxWidth&&"min-w-[800px]"),margin:LAn,isBounded:!1,compactType:null,preventCollision:!0,rowHeight:e.rowHeight,onLayoutChange:w=>t({...e,cells:w}),droppingItem:s?{i:s.i,w:s.w||2,h:s.h||2}:void 0,onDrop:(w,S,C)=>{d.onDragStop(),S&&t({...e,cells:[...w,S]})},onDragStart:(w,S,C,$,E)=>{d.onDragStart(E)},onDrag:(w,S,C,$,E)=>{d.onDragMove(E)},onDragStop:()=>{d.onDragStop()},onResizeStop:()=>{window.dispatchEvent(new Event("resize"))},isDraggable:h,isDroppable:h,isResizable:h,draggableHandle:h?`.${bJ}`:"noop",children:n.filter(w=>o.has(w.id)).map(w=>{const S=p.get(w.id),C=e.scrollableCells.has(w.id)??!1,$=e.cellSide.get(w.id),E=b.jsx(OJ,{code:w.code,mode:r,cellId:w.id,output:w.output,status:w.status,isScrollable:C,side:$,hidden:w.errored||w.interrupted||w.stopped});return h?b.jsx(VJe,{id:w.id,isDragging:f,side:$,setSide:y(w.id),isScrollable:C,setIsScrollable:g(w.id),display:(S==null?void 0:S.y)===0?"bottom":"top",onDelete:()=>{t({...e,cells:e.cells.filter(R=>R.i!==w.id)})},children:E},w.id):b.jsx("div",{children:E},w.id)})});if(i)return x;const m=n.filter(w=>!o.has(w.id));return b.jsxs(b.Fragment,{children:[b.jsx(FAn,{layout:e,setLayout:t,isLocked:l,setIsLocked:c}),b.jsxs("div",{className:ve("relative flex gap-2 px-2 z-10 flex-1"),children:[b.jsx("div",{className:ve("flex-grow overflow-auto transparent-when-disconnected"),children:x}),b.jsxs("div",{className:"flex-none flex flex-col w-[300px] p-2 gap-2 overflow-auto h-full bg-[var(--slate-2)] border-t border-x rounded-t shadow-sm transparent-when-disconnected",children:[b.jsx("div",{className:"text font-bold text-[var(--slate-20)] flex-shrink-0",children:"Outputs"}),m.map(w=>b.jsx("div",{draggable:!0,unselectable:"on","data-cell-id":w.id,onDragStart:S=>{const C=S.currentTarget.offsetHeight;a({i:w.id,w:e.columns/4,h:Math.ceil(C/e.rowHeight)||1}),S.dataTransfer.setData("text/plain","")},className:ve(bJ,"droppable-element bg-background border-border border overflow-hidden p-2 rounded flex-shrink-0"),children:b.jsx(OJ,{code:w.code,className:"select-none pointer-events-none",mode:r,cellId:w.id,output:w.output,isScrollable:!1,status:w.status,hidden:!1})},w.id))]})]})]})},OJ=O.memo(({output:e,cellId:t,status:n,mode:r,code:i,hidden:o,isScrollable:s,side:a,className:l})=>{const c=n==="running"||n==="queued";return(e==null||e.data==="")&&r!=="read"?b.jsx(Jfe,{className:l,code:i}):b.jsx("div",{className:ve(l,"h-full w-full p-2 overflow-x-auto",o&&"invisible",s?"overflow-y-auto":"overflow-y-hidden",a==="top"&&"flex items-start",a==="bottom"&&"flex items-end",a==="left"&&"flex justify-start",a==="right"&&"flex justify-end"),children:b.jsx(b2,{allowExpand:!1,output:e,cellId:t,stale:c})})});OJ.displayName="GridCell";const FAn=({layout:e,setLayout:t,isLocked:n,setIsLocked:r})=>b.jsxs("div",{className:"flex flex-row absolute left-5 top-4 gap-4 w-full justify-end pr-[350px]",children:[b.jsxs("div",{className:"flex flex-row items-center gap-2",children:[b.jsx(Ua,{htmlFor:"columns",children:"Columns"}),b.jsx(Ns,{id:"columns",type:"number",value:e.columns,className:"w-[60px]",placeholder:"# of Columns",min:1,onChange:i=>{t({...e,columns:i.target.valueAsNumber})}})]}),b.jsxs("div",{className:"flex flex-row items-center gap-2",children:[b.jsx(Ua,{htmlFor:"rowHeight",children:"Row Height (px)"}),b.jsx(Ns,{id:"rowHeight",type:"number",value:e.rowHeight,className:"w-[60px]",placeholder:"Row Height (px)",min:1,onChange:i=>{t({...e,rowHeight:i.target.valueAsNumber})}})]}),b.jsxs("div",{className:"flex flex-row items-center gap-2",children:[b.jsx(Ua,{htmlFor:"maxWidth",children:"Max Width (px)"}),b.jsx(Ns,{id:"maxWidth",type:"number",value:e.maxWidth,className:"w-[70px]",step:100,placeholder:"Full",onChange:i=>{t({...e,maxWidth:i.target.value?i.target.valueAsNumber:void 0})}})]}),b.jsxs("div",{className:"flex flex-row items-center gap-2",children:[b.jsxs(Ua,{className:"flex flex-row items-center gap-1",htmlFor:"lock",children:[b.jsx(TAn,{className:"h-3 w-3"}),"Bordered"]}),b.jsx(Uy,{id:"lock",checked:e.bordered,size:"sm",onCheckedChange:i=>{t({...e,bordered:i})}})]}),b.jsxs("div",{className:"flex flex-row items-center gap-2",children:[b.jsxs(Ua,{className:"flex flex-row items-center gap-1",htmlFor:"lock",children:[b.jsx(kNe,{className:"h-3 w-3"}),"Lock Grid"]}),b.jsx(Uy,{id:"lock",checked:n,size:"sm",onCheckedChange:r})]})]}),VJe=ie.forwardRef(({children:e,isDragging:t,className:n,onDelete:r,isScrollable:i,setIsScrollable:o,side:s,setSide:a,display:l,...c},u)=>{const[f,d]=O.useState();return b.jsxs("div",{ref:u,...c,className:ve(n,"relative z-10 hover:z-20","bg-background border-transparent hover:border-[var(--sky-8)] border",f&&"border-[var(--sky-8)] z-20",!f&&"hover-actions-parent",t&&"bg-[var(--slate-2)] border-border z-20"),children:[e,b.jsx(zAn,{onDelete:r,isScrollable:i,setIsScrollable:o,side:s,setSide:a,display:l,setPopoverOpened:d,popoverOpened:f})]})});VJe.displayName="EditableGridCell";const zAn=({display:e,onDelete:t,side:n,setSide:r,isScrollable:i,setIsScrollable:o,popoverOpened:s,setPopoverOpened:a})=>{const l="h-4 w-4 opacity-60 hover:opacity-100",c=n==="left"?SNe:n==="right"?wNe:void 0;return b.jsxs("div",{className:ve("absolute right-0 p-1 bg-[var(--sky-8)] text-white h-6 z-10 flex gap-2",!s&&"hover-action",e==="top"&&"-top-6 rounded-t",e==="bottom"&&"-bottom-6 rounded-b"),children:[b.jsxs(pS,{open:s==="side",onOpenChange:u=>a(u?"side":void 0),children:[b.jsx(gS,{asChild:!0,children:c?b.jsx(c,{className:l}):b.jsx(Avt,{className:l})}),b.jsx(Z1,{side:"bottom",children:wn.entries(QAn).map(([u,f])=>b.jsxs(ah,{onSelect:()=>r(u),children:[b.jsx(f,{className:"h-4 w-3 mr-2"}),b.jsx("span",{className:"flex-1",children:l6(u)}),u===n&&b.jsx(Bb,{className:"h-4 w-4"})]},u))})]}),b.jsxs(pS,{open:s==="scroll",onOpenChange:u=>a(u?"scroll":void 0),children:[b.jsx(gS,{asChild:!0,children:b.jsx(L1t,{className:l})}),b.jsx(Z1,{side:"bottom",children:b.jsxs(ah,{onSelect:()=>o(!i),children:[b.jsx("span",{className:"flex-1",children:"Scrollable"}),b.jsx(Uy,{checked:i,size:"sm",onCheckedChange:o})]})})]}),b.jsx(d1t,{className:ve(bJ,"cursor-move",l)}),b.jsx(Fh,{className:l,onClick:()=>t()})]})},QAn={left:SNe,right:wNe},BAn={type:"grid",name:"Grid",validator:H.object({columns:H.number().min(1),rowHeight:H.number().min(1),maxWidth:H.number().optional(),bordered:H.boolean().optional(),cells:H.array(H.object({position:H.tuple([H.number(),H.number(),H.number(),H.number()]).nullable(),scrollable:H.boolean().optional(),alignment:H.enum(["top","bottom","left","right"]).optional()}))}),deserializeLayout:(e,t)=>{if(e.cells.length===0)return{columns:e.columns,rowHeight:e.rowHeight,scrollableCells:new Set,cellSide:new Map,cells:[]};e.cells.length!==t.length&&Ut.warn("Number of cells in layout does not match number of cells in notebook");const n=new Set,r=new Map,i=e.cells.flatMap((o,s)=>{const a=o.position;if(!a)return[];const l=t[s];return l?(o.scrollable&&n.add(l.id),o.side&&r.set(l.id,o.side),{i:l.id,x:a[0],y:a[1],w:a[2],h:a[3]}):[]});return{columns:e.columns,rowHeight:e.rowHeight,maxWidth:e.maxWidth,bordered:e.bordered,cells:i,cellSide:r,scrollableCells:n}},serializeLayout:(e,t)=>{const n=nJe.keyBy(e.cells,i=>i.i),r=t.map(i=>{const o=n.get(i.id);if(!o)return{position:null};const s={position:[o.x,o.y,o.w,o.h]};return e.scrollableCells.has(i.id)&&(s.scrollable=!0),e.cellSide.has(i.id)&&(s.side=e.cellSide.get(i.id)),s});return{columns:e.columns,rowHeight:e.rowHeight,maxWidth:e.maxWidth,bordered:e.bordered,cells:r}},Component:jAn,getInitialLayout:()=>({columns:24,rowHeight:20,maxWidth:1400,bordered:!0,scrollableCells:new Set,cellSide:new Map,cells:[]})},UJe=({invisible:e,appConfig:t,className:n,children:r})=>b.jsx("div",{className:ve("sm:px-16 md:px-32",n),children:b.jsx("div",{className:ve("m-auto pb-24 sm:pb-12",t.width!=="full"&&"max-w-contentWidth min-w-[400px]",e&&"invisible"),children:r})});function qJe(e,t){const[n,r]=O.useState(!0);return O.useEffect(()=>{const i=Math.max(Math.min((e-1)*15,100),0),o=setTimeout(()=>{r(!1),t!=="read"&&requestAnimationFrame(()=>{WAn()})},i);return()=>clearTimeout(o)},[]),{invisible:n}}function WAn(){const e=D0();e.length>0&&e[0].focus()}const VAn=({cells:e,appConfig:t,mode:n})=>{const{invisible:r}=qJe(e.length,n),[i,o]=O.useState(()=>xh()),s=n==="read"&&e.some(a=>a.code);return b.jsxs(UJe,{invisible:r,appConfig:t,children:[e.map(a=>b.jsx(YJe,{cellId:a.id,output:a.output,status:a.status,code:a.code,config:a.config,stopped:a.stopped,showCode:i&&s,errored:a.errored,mode:n,runStartTimestamp:a.runStartTimestamp,interrupted:a.interrupted},a.id)),s&&b.jsx("div",{className:ve("right-0 top-0 z-10 m-4",xh()?"absolute":"fixed"),children:b.jsxs(zt,{variant:"secondary",onClick:()=>o(a=>!a),"data-testid":"show-code",children:[b.jsx(sne,{className:"w-4 h-4 mr-2"}),i?"Hide code":"Show code"]})})]})},YJe=O.memo(({output:e,cellId:t,status:n,stopped:r,errored:i,config:o,interrupted:s,runStartTimestamp:a,code:l,showCode:c,mode:u})=>{const f=O.useRef(null),d=j3e({status:n,output:e,interrupted:s,runStartTimestamp:a},!1),h=ve("Cell","hover-actions-parent",{published:!c,interactive:u==="edit","has-error":i,stopped:r}),p=Yf.create(t),g=i||s||r;return u==="read"&&c?b.jsxs("div",{tabIndex:-1,id:p,ref:f,className:h,children:[b.jsx(b2,{allowExpand:!0,output:e,className:"output-area",cellId:t,stale:d}),b.jsx("div",{className:"tray",children:b.jsx(Ioe,{initiallyHideCode:o.hide_code,code:l})})]}):g?null:b.jsx("div",{tabIndex:-1,id:p,ref:f,className:h,children:b.jsx(b2,{allowExpand:u==="edit",output:e,className:"output-area",cellId:t,stale:d})})});YJe.displayName="VerticalCell";const UAn={type:"vertical",name:"Vertical",validator:H.any(),Component:VAn,deserializeLayout:e=>e,serializeLayout:e=>e,getInitialLayout:()=>null},ede=[BAn,UAn];function qAn(e,t,n){const r=ede.find(i=>i.type===e);if(r===void 0)throw new Error(`Unknown layout type: ${e}`);return r.deserializeLayout(t,n)}const m9=Nn("vertical"),tde=Nn(void 0);function YAn(){const e=pie(),t=Tn.get(tde),n=Tn.get(m9);if(t===void 0||n==="vertical")return;const r=ede.find(i=>i.type===n);if(r===void 0){Ut.error(`Unknown layout type: ${n}`);return}return{type:n,data:r.serializeLayout(t,jFe(e))}}const XAn={layouts:!1};function HAn(e){var t;return((t=Uee().experimental)==null?void 0:t[e])??XAn[e]}const ZAn=()=>{const[e,t]=Fl(m9),n=["vertical","grid"];return HAn("layouts")?b.jsxs(L0,{value:e,onValueChange:r=>t(r),children:[b.jsx(Ng,{className:"min-w-[110px] border-border bg-background","data-testid":"layout-select",children:b.jsx(hC,{placeholder:"Select a view"})}),b.jsx(Mg,{children:b.jsxs(vg,{children:[b.jsx($7,{children:"View as"}),n.map(r=>b.jsx(Ml,{value:r,children:b.jsxs("div",{className:"flex items-center gap-1.5 leading-5",children:[GAn(r),b.jsx("span",{children:KAn(r)})]})},r))]})})]}):null};function GAn(e){switch(e){case"vertical":return b.jsx(w1t,{className:"h-4 w-4"});case"grid":return b.jsx(f1t,{className:"h-4 w-4"});default:return b.jsx(e6,{className:"h-4 w-4"})}}function KAn(e){switch(e){case"vertical":return"Vertical";case"grid":return"Grid";default:return"Unknown"}}function JAn(){const e=document.querySelector("marimo-mode");if(e===null||!(e instanceof HTMLElement))throw new Error("internal-error: marimo-mode tag not found");const t=e.dataset.mode;switch(t){case"read":return"read";case"edit":return"edit";default:throw new Error(`internal-error: unknown mode ${t}`)}}function eDn(e){return e==="read"?"read":e==="edit"?"present":"edit"}const XJe=JAn();async function tDn(e){const t=Tn.get(QI);if(t.mode==="present"){await e();return}Tn.set(QI,{...t,mode:"present"}),await new Promise(n=>setTimeout(n,100)),await new Promise(n=>requestAnimationFrame(n)),await new Promise(n=>requestAnimationFrame(n)),await e(),Tn.set(QI,{...t,mode:"edit"})}const QI=Nn({mode:XJe,cellAnchor:null});function nDn(e,t){const[n,r]=O.useState(()=>{const o=window.localStorage.getItem(e);return o?JSON.parse(o):t});return[n,o=>{r(o),window.localStorage.setItem(e,JSON.stringify(o))}]}const rDn=3;function iDn(){const[e,t]=nDn("marimo:commands",[]);return{recentCommands:e,addRecentCommand:n=>{const r=oDn([n,...e]);t(r.slice(0,rDn))}}}function oDn(e){return[...new Set(e)]}const HJe=Nn(!1),sDn=()=>{const[e,t]=Fl(HJe),n=E_n(),i=net().filter(f=>!f.hotkey),o=wn.keyBy(i,f=>f.label),{recentCommands:s,addRecentCommand:a}=iDn(),l=new Set(s);ie.useEffect(()=>{const f=d=>{jz(ti.getHotkey("global.commandPalette").key)(d)&&(d.preventDefault(),t(h=>!h))};return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[t]);const c=f=>{const d=n[f];if(!d)return null;const h=ti.getHotkey(f);return b.jsxs(JT,{onSelect:()=>{a(f),t(!1),requestAnimationFrame(()=>{d()})},value:h.name,children:[b.jsx("span",{children:h.name}),b.jsx(Bkt,{children:b.jsx("span",{className:"flex ml-2 gap-1",children:zz(h.key).map(p=>b.jsx(Kue,{children:p},p))})})]},f)},u=(f,d)=>b.jsx(JT,{onSelect:()=>{a(f),t(!1),requestAnimationFrame(()=>{d()})},value:f,children:b.jsx("span",{children:f})},f);return b.jsxs(Qkt,{open:e,onOpenChange:t,children:[b.jsx(C6,{placeholder:"Type to search..."}),b.jsxs(Wne,{children:[b.jsx($6,{children:"No results found."}),s.length>0&&b.jsxs(b.Fragment,{children:[b.jsx(J5,{heading:"Recently Used",children:s.map(f=>{if(T_n(f))return c(f);const d=o[f];return d?u(d.label,d.handle):null})}),b.jsx(Vne,{})]}),b.jsxs(J5,{heading:"Commands",children:[ti.iterate().map(f=>l.has(f)?null:c(f)),i.map(f=>l.has(f.label)?null:u(f.label,f.handle))]})]})]})},aDn=/\/@file\/([^\s/]+)\.([\dA-Za-z]+)/g,rT=class rT{constructor(){be(this,"virtualFiles",new Map);ete(rT.INSTANCE,"VirtualFileTracker")}track(t){const{cell_id:n,output:r}=t;if(r)switch(r.mimetype){case"application/json":case"text/html":{const i=this.virtualFiles.get(n),o=lDn(r.data);i==null||i.forEach(s=>o.add(s)),this.virtualFiles.set(n,o);return}default:return}}removeForCellId(t){this.virtualFiles.delete(t)}};be(rT,"INSTANCE",new rT);let wP=rT;function lDn(e){if(!e)return new Set;const t=new Set,r=(typeof e=="string"?e:JSON.stringify(e)).match(aDn);if(r)for(const i of r)t.add(i);return t}function cDn(e){return new Promise((t,n)=>{const r=new FileReader;r.onload=i=>{var o;t((o=i.target)==null?void 0:o.result)},r.onerror=i=>{n(new Error(`Failed to read blob: ${i.type}`))},r.readAsDataURL(e)})}function ZJe(e){return new Promise((t,n)=>{var r;try{const[i,o]=e.split(",",2),s=(r=/^data:(.+);base64$/.exec(i))==null?void 0:r[1],a=atob(o),l=a.length,c=new Uint8Array(l);for(let f=0;f<l;f++)c[f]=a.charCodeAt(f);const u=new Blob([c],{type:s});t(u)}catch(i){n(uDn(i))}})}function uDn(e){return e instanceof Error?e:new Error(`${e}`)}const fDn={merge(...e){const t=new Set;for(const n of e)for(const r of n)t.add(r);return t}};async function dDn(){const e={},t=fDn.merge(...wP.INSTANCE.virtualFiles.values());for(const n of t)try{const r=await fetch(n);(r.headers.get("Content-Type")??"")||Ut.warn(`Content-Type header missing for virtual file ${n}`);const o=await r.blob(),s=await cDn(o);e[n]={base64:s}}catch(r){Ut.warn(`Error downloading virtual file ${n}`,r)}return e}function hDn(e=BDe()){const t=window.fetch;return window.fetch=async(n,r)=>{const i=n instanceof Request?n.url:n.toString(),o=i.startsWith("/")||i.startsWith("./")?new URL(i,window.location.origin):new URL(i);if(e[o.pathname]){const{base64:s}=e[o.pathname],a=await ZJe(s);return new Response(a)}return t(n,r)},()=>{window.fetch=t}}function pDn(e,t=BDe()){const n=e.http;return e.http=async r=>{if(t[r]){const{base64:i}=t[r];return(await ZJe(i)).text()}return n(r)},()=>{e.http=n}}async function GJe(){const e=pie(),t=Hat(),n=`https://cdn.jsdelivr.net/npm/@marimo-team/frontend@${t}/dist`,r=await mY().catch(o=>{throw Yr({variant:"danger",title:"Error",description:o.message}),o});return mDn({notebookState:e,version:t,assetUrl:n,existingDocument:document,files:await dDn(),code:r.contents})}async function gDn(e){const{filename:t}=e,n=await GJe(),i=(t.split("/").pop()??"notebook.py").split(".").shift()??"app";yre(new Blob([n],{type:"text/html"}),`${i}.html`)}function mDn(e){const{version:t,notebookState:n,assetUrl:r,existingDocument:i,files:o,code:s}=e,a=i.head.cloneNode(!0);a.querySelectorAll("link[as=font]").forEach(y=>y.remove());const l=["marimo-filename","marimo-version","marimo-user-config","marimo-app-config"],c=`
  <!DOCTYPE html>
  <html>
    <head>
      <base href="/">
      ${a.innerHTML}
    </head>

    <body>
      <div id="root"></div>
      <marimo-mode data-mode="read" hidden=""></marimo-mode>
      ${l.map(y=>{const v=i.querySelector(y);if(!v)throw new Error(`Element ${y} not found.`);return v.outerHTML}).join(`
`)}
      <script data-marimo="true">
        window.__MARIMO_STATIC__ = {};
        window.__MARIMO_STATIC__.version = "${t}";
        window.__MARIMO_STATIC__.notebookState = ${JSON.stringify({cellIds:n.cellIds,cellData:wn.mapValues(n.cellData,Dve),cellRuntime:wn.mapValues(n.cellRuntime,Dve)})};
        window.__MARIMO_STATIC__.assetUrl = "${r}";
        window.__MARIMO_STATIC__.files = ${JSON.stringify(o)};
      <\/script>

      <marimo-code hidden="">
        ${encodeURIComponent(s)}
      </marimo-code>
    </body>
  </html>
  `,u=new DOMParser().parseFromString(c,"text/html"),f=i.body,d=y=>{const v=y.cloneNode(!0);v instanceof HTMLElement&&v.setAttribute("crossorigin","anonymous"),u.body.append(y.cloneNode(!0))};return f.querySelectorAll("style[href]").forEach(d),f.querySelectorAll("script[src]").forEach(d),f.querySelectorAll("link[href]").forEach(d),u.querySelectorAll("script").forEach(y=>{const v=y.getAttribute("src");v?(y.setAttribute("src",NEe(v,r)),y.setAttribute("crossorigin","anonymous")):Object.hasOwn(y.dataset,"marimo")||y.remove()}),u.querySelectorAll("link").forEach(y=>{const v=y.getAttribute("href");v?(y.setAttribute("href",NEe(v,r)),y.setAttribute("crossorigin","anonymous")):y.remove()}),u.querySelectorAll("style").forEach(y=>y.remove()),u.head.innerHTML=`
  ${u.head.innerHTML}
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fira+Mono:wght@400;500;700&family=Lora&family=PT+Sans:wght@400;700&display=swap" rel="stylesheet">
  `.trim(),`<!DOCTYPE html>
${u.documentElement.outerHTML}`}function NEe(e,t){if(e.startsWith("./"))return`${t}${e.slice(1)}`;if(e.startsWith("/"))return`${t}${e}`;const n=new URL(e);return n.origin!==window.location.origin?`${t}${n.pathname}`:e}const yDn=Nn(lAe());function KJe(){return Fl(yDn)}const JJe={issuesPage:"https://github.com/marimo-team/marimo/issues"},iM="https://static.marimo.app",vDn=({onClose:e})=>{const[t,n]=O.useState(""),r=O.useRef(Math.random().toString(36).slice(2,6)).current,i=`${t}-${r}`,o=`${iM}/static/${i}`;return b.jsx(P0,{className:"w-fit",children:b.jsxs("form",{onSubmit:async s=>{s.preventDefault(),e();const a=await GJe(),l=Yr({title:"Uploading static notebook...",description:"Please wait."});await fetch(`${iM}/api/static`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({html:a,path:i})}).catch(()=>{l.dismiss(),Yr({title:"Error uploading static page",description:b.jsxs("div",{children:["Please try again later. If the problem persists, please file a bug report on"," ",b.jsx("a",{href:JJe.issuesPage,target:"_blank",rel:"noreferrer",className:"underline",children:"GitHub"}),"."]})})}),l.dismiss(),Yr({title:"Static page uploaded!",description:b.jsxs("div",{children:["The URL has been copied to your clipboard.",b.jsx("br",{}),"You can share it with anyone."]})})},children:[b.jsxs(w6,{children:[b.jsx(qb,{children:"Share static notebook"}),b.jsxs(dS,{children:["You can publish a static, non-interactive version of this notebook to the public web. We will create a link for you that lives on"," ",b.jsx("a",{href:iM,target:"_blank",rel:"noreferrer",children:iM}),"."]})]}),b.jsxs("div",{className:"flex flex-col gap-6 py-4",children:[b.jsx(Ns,{id:"slug",autoFocus:!0,value:t,placeholder:"Notebook slug",onChange:s=>{const a=s.target.value.toLowerCase().replaceAll(/\s/g,"-").replaceAll(/[^\da-z-]/g,"");n(a)},required:!0,autoComplete:"off"}),b.jsxs("div",{className:"font-semibold text-sm text-muted-foreground gap-2 flex flex-col",children:["Anyone will be able to access your notebook at this URL:",b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(bDn,{text:o}),b.jsx("span",{className:"text-primary",children:o})]})]})]}),b.jsxs(tR,{children:[b.jsx(zt,{variant:"secondary",onClick:e,children:"Cancel"}),b.jsx(zt,{"aria-label":"Save",variant:"default",type:"submit",onClick:()=>{navigator.clipboard.writeText(o)},children:"Create"})]})]})})},bDn=e=>{const[t,n]=ie.useState(!1),r=fg.stopPropagation(i=>{i.preventDefault(),navigator.clipboard.writeText(e.text),n(!0),setTimeout(()=>n(!1),2e3)});return b.jsx(tn,{content:"Copied!",open:t,children:b.jsx(zt,{onClick:r,size:"xs",variant:"secondary",children:b.jsx(HP,{size:14,strokeWidth:1.5})})})};function eet(){const{openConfirm:e}=K0();return()=>{e({title:"Restart Kernel",description:"This will restart the Python kernel. You'll lose all data that's in memory.",variant:"destructive",confirmAction:b.jsx(Nne,{onClick:async()=>{await VDe(),window.location.reload()},"aria-label":"Confirm Restart",children:"Restart"})})}}function tet(e){const t=hY.compressToEncodedURIComponent(e),n=new URL("https://marimo.app");return n.searchParams.set("code",t),n.href}function net(){const[e]=KJe(),{openModal:t,closeModal:n}=K0(),r=nC(),{updateCellConfig:i}=Vh(),o=eet(),s=vh(HJe),a=Jjt(r),l=eFt(r);return[{icon:b.jsx(pme,{size:14,strokeWidth:1.5}),label:"Publish as HTML",handle:async()=>{t(b.jsx(vDn,{onClose:n}))}},{icon:b.jsx(pme,{size:14,strokeWidth:1.5}),label:"Share WebAssembly notebook",handle:async()=>{const u=await mY(),f=tet(u.contents);window.navigator.clipboard.writeText(f),Yr({title:"Copied",description:"Link copied to clipboard."})}},{icon:b.jsx(a1t,{size:14,strokeWidth:1.5}),label:"Export as HTML",handle:async()=>{if(!e){Yr({variant:"danger",title:"Error",description:"Notebooks must be named to be exported."});return}await gDn({filename:e})}},{icon:b.jsx(J4,{size:14,strokeWidth:1.5}),label:"Export as PNG",handle:async()=>{await tDn(async()=>{const u=document.getElementById("App");u&&await d3e(u,e||"screenshot.png")})}},{icon:b.jsx(INe,{size:14,strokeWidth:1.5}),label:"Enable all cells",hidden:a.length===0,handle:async()=>{const u=a.map(d=>d.id),f=wn.fromEntries(u.map(d=>[d,{disabled:!1}]));await V1({configs:f}),u.forEach(d=>i({cellId:d,config:{disabled:!1}}))}},{icon:b.jsx(MNe,{size:14,strokeWidth:1.5}),label:"Disable all cells",hidden:l.length===0,handle:async()=>{const u=l.map(d=>d.id),f=wn.fromEntries(u.map(d=>[d,{disabled:!0}]));await V1({configs:f}),u.forEach(d=>i({cellId:d,config:{disabled:!0}}))}},{icon:b.jsx(Zvt,{size:14,strokeWidth:1.5}),label:"Copy code to clipboard",hidden:!e,handle:async()=>{const u=await mY();navigator.clipboard.writeText(u.contents),Yr({title:"Copied",description:"Code copied to clipboard."})}},{icon:b.jsx(e1t,{size:14,strokeWidth:1.5}),label:"Command palette",hotkey:"global.commandPalette",handle:()=>s(u=>!u)},{icon:b.jsx(ine,{size:14,strokeWidth:1.5}),label:"Open documentation",handle:()=>{window.open("https://docs.marimo.io","_blank")}},{icon:b.jsx(A1t,{size:14,strokeWidth:1.5}),label:"Restart kernel",variant:"danger",handle:o}].filter(u=>!u.hidden)}const ODn=()=>{const e=net(),t=b.jsx(Qo,{"aria-label":"Config",shape:"circle",size:"small",className:"h-[27px] w-[27px]","data-testid":"notebook-menu-dropdown",color:"hint-green",children:b.jsx(S1t,{strokeWidth:1.8})});return b.jsxs(pS,{modal:!1,children:[b.jsx(gS,{asChild:!0,children:t}),b.jsx(Z1,{align:"end",className:"no-print w-[220px]",children:e.map(n=>b.jsxs(ah,{variant:n.variant,onSelect:r=>n.handle(r),"data-testid":`notebook-menu-dropdown-${n.label}`,children:[n.icon&&b.jsx("span",{className:"flex-0 mr-2",children:n.icon}),b.jsx("span",{className:"flex-1",children:n.label}),n.hotkey&&Jue(n.hotkey)]},n.label))})]})},la=u3t({findText:"",replaceText:"",caseSensitive:!1,wholeWord:!1,regexp:!1,isOpen:!1,currentView:void 0},(e,t)=>{if(t===void 0)return e;switch(t.type){case"setFind":return{...e,findText:t.find};case"setReplace":return{...e,replaceText:t.replace};case"setCaseSensitive":return{...e,caseSensitive:t.caseSensitive};case"setWholeWord":return{...e,wholeWord:t.wholeWord};case"setRegex":return{...e,regexp:t.regexp};case"setIsOpen":return{...e,isOpen:t.isOpen};case"setCurrentView":return{...e,currentView:{view:t.view,range:t.range}};case"clearCurrentView":return{...e,currentView:void 0}}});function ret(e){if(document.querySelector('[role="dialog"][data-state="open"]'))return!1;if(e){const r=e.state.selection.main,i=e.state.sliceDoc(r.from,r.to);i?(Tn.set(la,{type:"setFind",find:i}),Tn.set(la,{type:"setCurrentView",view:e,range:{from:r.from,to:r.to}})):Tn.set(la,{type:"setCurrentView",view:e,range:{from:0,to:0}})}return Tn.get(la).isOpen?(Tn.set(la,{type:"setIsOpen",isOpen:!1}),requestAnimationFrame(()=>{Tn.set(la,{type:"setIsOpen",isOpen:!0})}),!0):(Tn.set(la,{type:"setIsOpen",isOpen:!0}),!0)}function xDn(){return Tn.get(la).isOpen?(Tn.set(la,{type:"setIsOpen",isOpen:!1}),!0):!1}function OF(e){return Bi("create"in e,'Expected query to have a "create" method'),e}function y9(e){return()=>{const t=Tn.get(la),n=new j0({search:t.findText,caseSensitive:t.caseSensitive,regexp:t.regexp,replace:t.replaceText,wholeWord:t.wholeWord});return n.valid?e({query:OF(n).create(),search:n}):!1}}const iet=e=>y9(({query:t})=>{const n=D0(),r=Tn.get(la).currentView||{view:n[0],range:{from:0,to:0}};let i=r.range.to;e==="prev"&&(n.reverse(),i=r.range.from);let o=n.indexOf(r.view);o<0&&(o=0);const s=[...n,...n].slice(o);for(const a of s){const l=e==="next"?t.nextMatch(a.state,0,i??0):t.prevMatch(a.state,i??a.state.doc.length,a.state.doc.length);if(!l){i=null,a.dispatch({selection:Ee.single(0)});continue}const c=Ee.single(l.from,l.to);return a.dispatch({selection:c,effects:[nt.scrollIntoView(c.main,{y:"center"})],userEvent:"select.search"}),Tn.set(la,{type:"setCurrentView",view:a,range:{from:l.from,to:l.to}}),l}return!1}),xJ=iet("next"),MEe=iet("prev"),wDn=y9(({query:e})=>{var i;const t=D0(),n=[];for(const o of t){if(o.state.readOnly)continue;const s=(i=e.matchAll(o.state,1e9))==null?void 0:i.map(l=>{const{from:c,to:u}=l;return{from:c,to:u,insert:e.getReplacement(l)}});if(!s||s.length===0)continue;const a=o.state.doc.toString();n.push(()=>{o.dispatch({changes:[{from:0,to:o.state.doc.length,insert:a}],userEvent:"input.replace.all"})}),o.dispatch({changes:s,userEvent:"input.replace.all"})}return()=>{for(const o of n)o()}}),SDn=y9(({query:e})=>{const t=D0(),n=Tn.get(la).currentView||{view:t[0],range:{from:0,to:0}};let r=n.range.from,i=t.indexOf(n.view);i<0&&(i=0);const o=[...t,...t].slice(i);for(const s of o){const a=e.nextMatch(s.state,0,r??0);if(!a){r=null,s.dispatch({selection:Ee.single(0)});continue}const l=s.state.toText(e.getReplacement(a));return s.dispatch({changes:[{from:a.from,to:a.to,insert:l}],userEvent:"input.replace"}),xJ()}return!1}),_Dn=y9(({query:e})=>{const t=D0();let n=0;const r=new Map;for(const i of t){const o=e.matchAll(i.state,1e9)||[];for(const s of o){const{from:a,to:l}=s,c=r.get(i)||new Map;c.set(`${a}:${l}`,n++),r.set(i,c)}}return{count:n,position:r}}),rh=typeof document<"u"?ie.useLayoutEffect:()=>{},Pc=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},CDn=e=>e&&"window"in e&&e.window===e?e:Pc(e).defaultView||window;function IEe(e){if($Dn())e.focus({preventScroll:!0});else{let t=EDn(e);e.focus(),kDn(t)}}let oM=null;function $Dn(){if(oM==null){oM=!1;try{var e=document.createElement("div");e.focus({get preventScroll(){return oM=!0,!0}})}catch{}}return oM}function EDn(e){for(var t=e.parentNode,n=[],r=document.scrollingElement||document.documentElement;t instanceof HTMLElement&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}function kDn(e){for(let{element:t,scrollTop:n,scrollLeft:r}of e)t.scrollTop=n,t.scrollLeft=r}function TDn(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function PDn(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function RDn(){return PDn(/^Mac/i)}function ADn(){return TDn(/Android/i)}let Px=new Map,wJ=new Set;function LEe(){if(typeof window>"u")return;let e=n=>{let r=Px.get(n.target);r||(r=new Set,Px.set(n.target,r),n.target.addEventListener("transitioncancel",t)),r.add(n.propertyName)},t=n=>{let r=Px.get(n.target);if(r&&(r.delete(n.propertyName),r.size===0&&(n.target.removeEventListener("transitioncancel",t),Px.delete(n.target)),Px.size===0)){for(let i of wJ)i();wJ.clear()}};document.body.addEventListener("transitionrun",e),document.body.addEventListener("transitionend",t)}typeof document<"u"&&(document.readyState!=="loading"?LEe():document.addEventListener("DOMContentLoaded",LEe));function DDn(e){requestAnimationFrame(()=>{Px.size===0?e():wJ.add(e)})}function NDn(e){return e.mozInputSource===0&&e.isTrusted?!0:ADn()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}const MDn=ie.createContext({register:()=>{}});MDn.displayName="PressResponderContext";let $A=null,IDn=new Set,jEe=!1,Nb=!1,SJ=!1;function nde(e,t){for(let n of IDn)n(e,t)}function LDn(e){return!(e.metaKey||!RDn()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function FEe(e){Nb=!0,LDn(e)&&($A="keyboard",nde("keyboard",e))}function lx(e){$A="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(Nb=!0,nde("pointer",e))}function jDn(e){NDn(e)&&(Nb=!0,$A="virtual")}function FDn(e){e.target===window||e.target===document||(!Nb&&!SJ&&($A="virtual",nde("virtual",e)),Nb=!1,SJ=!1)}function zDn(){Nb=!1,SJ=!0}function zEe(){if(typeof window>"u"||jEe)return;let e=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(){Nb=!0,e.apply(this,arguments)},document.addEventListener("keydown",FEe,!0),document.addEventListener("keyup",FEe,!0),document.addEventListener("click",jDn,!0),window.addEventListener("focus",FDn,!0),window.addEventListener("blur",zDn,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",lx,!0),document.addEventListener("pointermove",lx,!0),document.addEventListener("pointerup",lx,!0)):(document.addEventListener("mousedown",lx,!0),document.addEventListener("mousemove",lx,!0),document.addEventListener("mouseup",lx,!0)),jEe=!0}typeof document<"u"&&(document.readyState!=="loading"?zEe():document.addEventListener("DOMContentLoaded",zEe));function QDn(){return $A}function BDn(e){const t=Pc(e);if(QDn()==="virtual"){let n=t.activeElement;DDn(()=>{t.activeElement===n&&e.isConnected&&IEe(e)})}else IEe(e)}function WDn(e){const t=CDn(e);if(!(e instanceof t.HTMLElement)&&!(e instanceof t.SVGElement))return!1;let{display:n,visibility:r}=e.style,i=n!=="none"&&r!=="hidden"&&r!=="collapse";if(i){const{getComputedStyle:o}=e.ownerDocument.defaultView;let{display:s,visibility:a}=o(e);i=s!=="none"&&a!=="hidden"&&a!=="collapse"}return i}function VDn(e,t){return!e.hasAttribute("hidden")&&(e.nodeName==="DETAILS"&&t&&t.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function oet(e,t){return e.nodeName!=="#comment"&&WDn(e)&&VDn(e,t)&&(!e.parentElement||oet(e.parentElement,e))}const QEe=ie.createContext(null);let oi=null;function UDn(e){let{children:t,contain:n,restoreFocus:r,autoFocus:i}=e,o=O.useRef(null),s=O.useRef(null),a=O.useRef([]),{parentNode:l}=O.useContext(QEe)||{},c=O.useMemo(()=>new CJ({scopeRef:a}),[a]);rh(()=>{let d=l||co.root;if(co.getTreeNode(d.scopeRef)&&oi&&!xF(oi,d.scopeRef)){let h=co.getTreeNode(oi);h&&(d=h)}d.addChild(c),co.addNode(c)},[c,l]),rh(()=>{let d=co.getTreeNode(a);d&&(d.contain=!!n)},[n]),rh(()=>{var d;let h=(d=o.current)===null||d===void 0?void 0:d.nextSibling,p=[];for(;h&&h!==s.current;)p.push(h),h=h.nextSibling;a.current=p},[t]),GDn(a,r,n),HDn(a,n),JDn(a,r,n),ZDn(a,i),O.useEffect(()=>{const d=Pc(a.current?a.current[0]:void 0).activeElement;let h=null;if(ha(d,a.current)){for(let p of co.traverse())p.scopeRef&&ha(d,p.scopeRef.current)&&(h=p);h===co.getTreeNode(a)&&(oi=h.scopeRef)}},[a]),rh(()=>()=>{var d,h,p;let g=(p=(h=co.getTreeNode(a))===null||h===void 0||(d=h.parent)===null||d===void 0?void 0:d.scopeRef)!==null&&p!==void 0?p:null;(a===oi||xF(a,oi))&&(!g||co.getTreeNode(g))&&(oi=g),co.removeTreeNode(a)},[a]);let u=O.useMemo(()=>qDn(a),[]),f=O.useMemo(()=>({focusManager:u,parentNode:c}),[c,u]);return ie.createElement(QEe.Provider,{value:f},ie.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:o}),t,ie.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:s}))}function qDn(e){return{focusNext(t={}){let n=e.current,{from:r,tabbable:i,wrap:o,accept:s}=t,a=r||Pc(n[0]).activeElement,l=n[0].previousElementSibling,c=s1(n),u=ry(c,{tabbable:i,accept:s},n);u.currentNode=ha(a,n)?a:l;let f=u.nextNode();return!f&&o&&(u.currentNode=l,f=u.nextNode()),f&&Qp(f,!0),f},focusPrevious(t={}){let n=e.current,{from:r,tabbable:i,wrap:o,accept:s}=t,a=r||Pc(n[0]).activeElement,l=n[n.length-1].nextElementSibling,c=s1(n),u=ry(c,{tabbable:i,accept:s},n);u.currentNode=ha(a,n)?a:l;let f=u.previousNode();return!f&&o&&(u.currentNode=l,f=u.previousNode()),f&&Qp(f,!0),f},focusFirst(t={}){let n=e.current,{tabbable:r,accept:i}=t,o=s1(n),s=ry(o,{tabbable:r,accept:i},n);s.currentNode=n[0].previousElementSibling;let a=s.nextNode();return a&&Qp(a,!0),a},focusLast(t={}){let n=e.current,{tabbable:r,accept:i}=t,o=s1(n),s=ry(o,{tabbable:r,accept:i},n);s.currentNode=n[n.length-1].nextElementSibling;let a=s.previousNode();return a&&Qp(a,!0),a}}}const rde=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],YDn=rde.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";rde.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const XDn=rde.join(':not([hidden]):not([tabindex="-1"]),');function s1(e){return e[0].parentElement}function UE(e){let t=co.getTreeNode(oi);for(;t&&t.scopeRef!==e;){if(t.contain)return!1;t=t.parent}return!0}function HDn(e,t){let n=O.useRef(),r=O.useRef();rh(()=>{let i=e.current;if(!t){r.current&&(cancelAnimationFrame(r.current),r.current=void 0);return}const o=Pc(i?i[0]:void 0);let s=c=>{if(c.key!=="Tab"||c.altKey||c.ctrlKey||c.metaKey||!UE(e))return;let u=o.activeElement,f=e.current;if(!f||!ha(u,f))return;let d=s1(f),h=ry(d,{tabbable:!0},f);if(!u)return;h.currentNode=u;let p=c.shiftKey?h.previousNode():h.nextNode();p||(h.currentNode=c.shiftKey?f[f.length-1].nextElementSibling:f[0].previousElementSibling,p=c.shiftKey?h.previousNode():h.nextNode()),c.preventDefault(),p&&Qp(p,!0)},a=c=>{(!oi||xF(oi,e))&&ha(c.target,e.current)?(oi=e,n.current=c.target):UE(e)&&!_J(c.target,e)?n.current?n.current.focus():oi&&oi.current&&wF(oi.current):UE(e)&&(n.current=c.target)},l=c=>{r.current&&cancelAnimationFrame(r.current),r.current=requestAnimationFrame(()=>{if(o.activeElement&&UE(e)&&!_J(o.activeElement,e))if(oi=e,o.body.contains(c.target)){var u;n.current=c.target,(u=n.current)===null||u===void 0||u.focus()}else oi.current&&wF(oi.current)})};return o.addEventListener("keydown",s,!1),o.addEventListener("focusin",a,!1),i==null||i.forEach(c=>c.addEventListener("focusin",a,!1)),i==null||i.forEach(c=>c.addEventListener("focusout",l,!1)),()=>{o.removeEventListener("keydown",s,!1),o.removeEventListener("focusin",a,!1),i==null||i.forEach(c=>c.removeEventListener("focusin",a,!1)),i==null||i.forEach(c=>c.removeEventListener("focusout",l,!1))}},[e,t]),rh(()=>()=>{r.current&&cancelAnimationFrame(r.current)},[r])}function set(e){return _J(e)}function ha(e,t){return!e||!t?!1:t.some(n=>n.contains(e))}function _J(e,t=null){if(e instanceof Element&&e.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:n}of co.traverse(co.getTreeNode(t)))if(n&&ha(e,n.current))return!0;return!1}function xF(e,t){var n;let r=(n=co.getTreeNode(t))===null||n===void 0?void 0:n.parent;for(;r;){if(r.scopeRef===e)return!0;r=r.parent}return!1}function Qp(e,t=!1){if(e!=null&&!t)try{BDn(e)}catch{}else if(e!=null)try{e.focus()}catch{}}function wF(e,t=!0){let n=e[0].previousElementSibling,r=s1(e),i=ry(r,{tabbable:t},e);i.currentNode=n;let o=i.nextNode();t&&!o&&(r=s1(e),i=ry(r,{tabbable:!1},e),i.currentNode=n,o=i.nextNode()),Qp(o)}function ZDn(e,t){const n=ie.useRef(t);O.useEffect(()=>{if(n.current){oi=e;const r=Pc(e.current?e.current[0]:void 0);!ha(r.activeElement,oi.current)&&e.current&&wF(e.current)}n.current=!1},[e])}function GDn(e,t,n){rh(()=>{if(t||n)return;let r=e.current;const i=Pc(r?r[0]:void 0);let o=s=>{let a=s.target;ha(a,e.current)?oi=e:set(a)||(oi=null)};return i.addEventListener("focusin",o,!1),r==null||r.forEach(s=>s.addEventListener("focusin",o,!1)),()=>{i.removeEventListener("focusin",o,!1),r==null||r.forEach(s=>s.removeEventListener("focusin",o,!1))}},[e,t,n])}function KDn(e){let t=co.getTreeNode(oi);for(;t&&t.scopeRef!==e;){if(t.nodeToRestore)return!1;t=t.parent}return(t==null?void 0:t.scopeRef)===e}function JDn(e,t,n){const r=O.useRef(typeof document<"u"?Pc(e.current?e.current[0]:void 0).activeElement:null);rh(()=>{let i=e.current;const o=Pc(i?i[0]:void 0);if(!t||n)return;let s=()=>{(!oi||xF(oi,e))&&ha(o.activeElement,e.current)&&(oi=e)};return o.addEventListener("focusin",s,!1),i==null||i.forEach(a=>a.addEventListener("focusin",s,!1)),()=>{o.removeEventListener("focusin",s,!1),i==null||i.forEach(a=>a.removeEventListener("focusin",s,!1))}},[e,n]),rh(()=>{const i=Pc(e.current?e.current[0]:void 0);if(!t)return;let o=s=>{if(s.key!=="Tab"||s.altKey||s.ctrlKey||s.metaKey||!UE(e))return;let a=i.activeElement;if(!ha(a,e.current))return;let l=co.getTreeNode(e);if(!l)return;let c=l.nodeToRestore,u=ry(i.body,{tabbable:!0});u.currentNode=a;let f=s.shiftKey?u.previousNode():u.nextNode();if((!c||!i.body.contains(c)||c===i.body)&&(c=void 0,l.nodeToRestore=void 0),(!f||!ha(f,e.current))&&c){u.currentNode=c;do f=s.shiftKey?u.previousNode():u.nextNode();while(ha(f,e.current));s.preventDefault(),s.stopPropagation(),f?Qp(f,!0):set(c)?Qp(c,!0):a.blur()}};return n||i.addEventListener("keydown",o,!0),()=>{n||i.removeEventListener("keydown",o,!0)}},[e,t,n]),rh(()=>{const i=Pc(e.current?e.current[0]:void 0);if(!t)return;let o=co.getTreeNode(e);if(o){var s;return o.nodeToRestore=(s=r.current)!==null&&s!==void 0?s:void 0,()=>{let a=co.getTreeNode(e);if(!a)return;let l=a.nodeToRestore;if(t&&l&&(ha(i.activeElement,e.current)||i.activeElement===i.body&&KDn(e))){let c=co.clone();requestAnimationFrame(()=>{if(i.activeElement===i.body){let u=c.getTreeNode(e);for(;u;){if(u.nodeToRestore&&u.nodeToRestore.isConnected){Qp(u.nodeToRestore);return}u=u.parent}for(u=c.getTreeNode(e);u;){if(u.scopeRef&&u.scopeRef.current&&co.getTreeNode(u.scopeRef)){wF(u.scopeRef.current,!0);return}u=u.parent}}})}}}},[e,t])}function ry(e,t,n){let r=t!=null&&t.tabbable?XDn:YDn,i=Pc(e).createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(o){var s;return!(t==null||(s=t.from)===null||s===void 0)&&s.contains(o)?NodeFilter.FILTER_REJECT:o.matches(r)&&oet(o)&&(!n||ha(o,n))&&(!(t!=null&&t.accept)||t.accept(o))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return t!=null&&t.from&&(i.currentNode=t.from),i}class ide{get size(){return this.fastMap.size}getTreeNode(t){return this.fastMap.get(t)}addTreeNode(t,n,r){let i=this.fastMap.get(n??null);if(!i)return;let o=new CJ({scopeRef:t});i.addChild(o),o.parent=i,this.fastMap.set(t,o),r&&(o.nodeToRestore=r)}addNode(t){this.fastMap.set(t.scopeRef,t)}removeTreeNode(t){if(t===null)return;let n=this.fastMap.get(t);if(!n)return;let r=n.parent;for(let o of this.traverse())o!==n&&n.nodeToRestore&&o.nodeToRestore&&n.scopeRef&&n.scopeRef.current&&ha(o.nodeToRestore,n.scopeRef.current)&&(o.nodeToRestore=n.nodeToRestore);let i=n.children;r&&(r.removeChild(n),i.size>0&&i.forEach(o=>r&&r.addChild(o))),this.fastMap.delete(n.scopeRef)}*traverse(t=this.root){if(t.scopeRef!=null&&(yield t),t.children.size>0)for(let n of t.children)yield*this.traverse(n)}clone(){var t;let n=new ide;var r;for(let i of this.traverse())n.addTreeNode(i.scopeRef,(r=(t=i.parent)===null||t===void 0?void 0:t.scopeRef)!==null&&r!==void 0?r:null,i.nodeToRestore);return n}constructor(){this.fastMap=new Map,this.root=new CJ({scopeRef:null}),this.fastMap.set(null,this.root)}}class CJ{addChild(t){this.children.add(t),t.parent=this}removeChild(t){this.children.delete(t),t.parent=void 0}constructor(t){this.children=new Set,this.contain=!1,this.scopeRef=t.scopeRef}}let co=new ide;const ode=Vt.define();function eNn(){const e=Tn.get(la),t=D0();for(const n of t)n.state.readOnly||n.dispatch({effects:ode.of(new j0({search:e.findText,caseSensitive:e.caseSensitive,regexp:e.regexp,replace:e.replaceText,wholeWord:e.wholeWord}))})}function BEe(){const e=D0();for(const t of e)t.state.readOnly||t.dispatch({effects:ode.of(new j0({search:""}))})}const BI=qi.define({create(){const e=Tn.get(la),t=new j0({search:e.findText,caseSensitive:e.caseSensitive,regexp:e.regexp,replace:e.replaceText,wholeWord:e.wholeWord});return OF(t).create()},update(e,t){for(const n of t.effects)n.is(ode)&&(e=OF(n.value).create());return e}}),tNn=vt.mark({class:"cm-searchMatch"}),nNn=vt.mark({class:"cm-searchMatch cm-searchMatch-selected"}),rNn=250,iNn=Mr.fromClass(class{constructor(e){be(this,"decorations");this.view=e,this.decorations=this.highlight(e.state.field(BI))}update(e){const t=e.state.field(BI);(t!=e.startState.field(BI)||e.docChanged||e.selectionSet||e.viewportChanged)&&(this.decorations=this.highlight(t))}highlight(e){if(!e.spec.valid)return vt.none;const{view:t}=this,n=new Sh,r=t.visibleRanges,i=r.length;for(let o=0;o<i;o++){let{to:s}=r[o];const{from:a}=r[o];for(;o<i-1&&s>r[o+1].from-2*rNn;)s=r[++o].to;e.highlight(t.state,a,s,(l,c)=>{const u=t.state.selection.ranges.some(f=>f.from==l&&f.to==c);n.add(l,c,u?nNn:tNn)})}return n.finish()}},{decorations:e=>e.decorations}),oNn=nt.baseTheme({"&light .cm-searchMatch":{backgroundColor:"#99ff7780"},"&dark .cm-searchMatch":{backgroundColor:"#22bb0070"},"&light .cm-searchMatch-selected":{backgroundColor:"transparent"},"&dark .cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff88 !important"}});function sNn(e,t){const n=e.state,r=new j0({search:t,caseSensitive:!0,regexp:!1,replace:"",wholeWord:!0}),o=OF(r).create().nextMatch(n,0,0);o&&(e.focus(),e.dispatch({selection:{anchor:o.from,head:o.from}}))}const aNn=()=>{var l;const[e,t]=O.useState(!1),[n,r]=Fl(la),[i,o]=O.useState();if(Fa("cell.findAndReplace",()=>e&&n.isOpen?!1:ret()),O.useEffect(()=>{if(!n.isOpen){BEe();return}if(n.findText===""){o(void 0),BEe();return}const c=_Dn();o(c===!1?void 0:c),eNn()},[n.findText,n.isOpen,n.caseSensitive,n.regexp,n.wholeWord]),!n.isOpen)return null;const s=n.currentView,a=s&&i?(l=i.position.get(s.view))==null?void 0:l.get(`${s.range.from}:${s.range.to}`):void 0;return b.jsx(UDn,{restoreFocus:!0,autoFocus:!0,children:b.jsxs("div",{onFocus:()=>t(!0),onClick:c=>{c.stopPropagation(),c.preventDefault()},onBlur:()=>t(!1),className:"fixed top-0 right-0 w-[500px] flex flex-col bg-[var(--sage-1)] p-4 z-50 mt-2 mr-3 rounded-md shadow-lg border gap-2",onKeyDown:c=>{c.key==="Escape"&&r({type:"setIsOpen",isOpen:!1})},children:[b.jsx("div",{className:"absolute top-0 right-0",children:b.jsx(zt,{onClick:()=>r({type:"setIsOpen",isOpen:!1}),size:"xs",variant:"text",children:b.jsx(Fh,{className:"w-4 h-4"})})}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsxs("div",{className:"flex flex-col flex-2 gap-2 w-[55%]",children:[b.jsx(Ns,{value:n.findText,autoFocus:!0,className:"mr-2 mb-0",placeholder:"Find",onKeyDown:c=>{c.key==="Enter"&&(c.shiftKey?MEe():xJ())},onChange:c=>{r({type:"setFind",find:c.target.value})}}),b.jsx(Ns,{value:n.replaceText,placeholder:"Replace",onChange:c=>{r({type:"setReplace",replace:c.target.value})}})]}),b.jsxs("div",{className:"flex flex-col gap-2",children:[b.jsxs("div",{className:"flex items-center gap-[2px]",children:[b.jsx(tn,{content:"Case Sensitive",children:b.jsx(Pk,{size:"sm",pressed:n.caseSensitive,"data-state":n.caseSensitive?"on":"off",onPressedChange:c=>r({type:"setCaseSensitive",caseSensitive:c}),children:b.jsx(CNe,{className:"w-4 h-4"})})}),b.jsx(tn,{content:"Match Whole Word",children:b.jsx(Pk,{size:"sm",pressed:n.wholeWord,"data-state":n.wholeWord?"on":"off",onPressedChange:c=>r({type:"setWholeWord",wholeWord:c}),children:b.jsx(q1t,{className:"w-4 h-4"})})}),b.jsx(tn,{content:"Use Regular Expression",children:b.jsx(Pk,{size:"sm",pressed:n.regexp,"data-state":n.regexp?"on":"off",onPressedChange:c=>r({type:"setRegex",regexp:c}),children:b.jsx(N1t,{className:"w-4 h-4"})})})]}),b.jsxs("div",{className:"flex items-center gap-[2px]",children:[b.jsx(zt,{size:"xs",variant:"outline",className:"h-6 text-xs",onClick:()=>SDn(),disabled:n.findText===""||n.replaceText==="",children:"Replace Next"}),b.jsx(zt,{size:"xs",variant:"outline",className:"h-6 text-xs",onClick:()=>{const c=wDn();if(!c)return;const{dismiss:u}=Yr({title:"Replaced all occurrences",action:b.jsx(zt,{size:"sm",variant:"outline",onClick:()=>{c(),u()},children:"Undo"})})},disabled:n.findText===""||n.replaceText==="",children:"Replace All"})]})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(tn,{content:"Find Previous",children:b.jsx(zt,{size:"xs",variant:"secondary",onClick:()=>MEe(),children:b.jsx(Lvt,{className:"w-4 h-4"})})}),b.jsx(tn,{content:"Find Next",children:b.jsx(zt,{size:"xs",variant:"secondary",onClick:()=>xJ(),children:b.jsx(jvt,{className:"w-4 h-4"})})}),i!=null&&a==null&&b.jsxs("span",{className:"text-sm",children:[i.count," matches"]}),i!=null&&a!=null&&b.jsxs("span",{className:"text-sm",children:[a+1," of ",i.count]})]})]})})},lNn=200;function aet(e){const[t,n]=O.useState(!1);return O.useEffect(()=>{if(!e)return;n(!1);const r=setTimeout(()=>{n(!0)},lNn);return()=>clearTimeout(r)},[e]),e&&t}const cNn=({filename:e,needsSave:t,onSaveNotebook:n,getCellsAsJSON:r,presenting:i,onTogglePresenting:o,onInterrupt:s,onRun:a,onShutdown:l,closed:c,running:u,needsRun:f,undoAvailable:d,appWidth:h})=>{const{undoDeleteCell:p}=Vh(),g=v=>{v.preventDefault(),v.stopPropagation(),n()};let y=null;return!c&&d&&(y=b.jsx(tn,{content:"Undo cell deletion",children:b.jsx(Qo,{size:"medium",color:"hint-green",shape:"circle",onClick:p,children:b.jsx(W1t,{size:16,strokeWidth:1.5})})})),b.jsxs(b.Fragment,{children:[!i&&b.jsx(aNn,{}),!c&&b.jsxs("div",{className:fNn,children:[i&&b.jsx(ZAn,{}),b.jsx(ODn,{}),b.jsx(Q2n,{}),b.jsx(M_n,{onShutdown:()=>{l(),setTimeout(()=>{window.close()},200)}})]}),b.jsxs("div",{className:ve(hNn,h==="normal"&&"xl:flex-row"),children:[c?b.jsx(L_n,{filename:e,getCellsAsJSON:r,needsSave:t}):b.jsx(tn,{content:Dh("global.save"),children:b.jsx(Qo,{id:"save-button",shape:"rectangle",color:t?"yellow":"hint-green",onClick:g,children:b.jsx(TNe,{strokeWidth:1.5})})}),b.jsx(tn,{content:Dh("global.hideCode"),children:b.jsx(Qo,{id:"preview-button",shape:"rectangle",color:"white",onClick:o,children:i?b.jsx(RNe,{strokeWidth:1.5}):b.jsx(b1t,{strokeWidth:1.5})})}),b.jsx(D_n,{})]}),b.jsxs("div",{className:dNn,children:[y,!c&&b.jsx(uNn,{running:u,needsRun:f,onRun:a,onInterrupt:s})]})]})},uNn=({running:e,needsRun:t,onRun:n,onInterrupt:r})=>aet(e)?b.jsx(tn,{content:Dh("global.interrupt"),children:b.jsx(Qo,{size:"medium",color:"yellow",shape:"circle",onClick:r,children:b.jsx(e6,{strokeWidth:1.5,size:16})})}):t?b.jsx(tn,{content:Dh("global.runStale"),children:b.jsx(Qo,{size:"medium",color:"yellow",shape:"circle",onClick:n,children:b.jsx(YT,{strokeWidth:1.5,size:16})})}):b.jsx(tn,{content:"Nothing to run",children:b.jsx(Qo,{className:"inactive-button",color:"disabled",size:"medium",shape:"circle",children:b.jsx(YT,{strokeWidth:1.5,size:16})})}),fNn="absolute top-3 right-5 m-0 flex items-center space-x-3 min-h-[28px] no-print pointer-events-auto z-30",dNn="absolute bottom-5 right-5 flex items-center space-x-3 no-print pointer-events-auto z-30",hNn="absolute bottom-5 left-4 m-0 flex flex-col-reverse gap-2 items-center no-print pointer-events-auto z-30",WEe={dirname:e=>{const t=e.includes("/")?"/":"\\",n=e.split(t);return n.pop(),n.join(t)},basename:e=>e.split(/[/\\]/).pop()??""},cet=({flexibleWidth:e=!1,resetOnBlur:t=!1,placeholderText:n="",initialValue:r=null,onFocusCallback:i=If.NOOP,onBlurCallback:o=If.NOOP,onChangeCallback:s=If.NOOP,handle:a=O.createRef(),...l})=>{const[c,u]=O.useState(r),[f,d]=O.useState([]),[h,p]=O.useState(null),[g,y]=O.useState(!1);O.useImperativeHandle(a,()=>({get suggestions(){return f}}));const v=O.useRef(null),x=O.useRef(null);O.useEffect(()=>{u(r)},[r]);function m(D){y(!0),i()}async function w(D){y(!1),t&&(D.preventDefault(),u(r)),o()}async function S(D){u(D.target.value),s(D.target.value)}const C=WEe.dirname(c||""),$=WEe.basename(c||""),E=f.filter(D=>D.startsWith($));N0(async()=>{if(!g){p(null),d([]);return}const D=await yY({path:C});p(null);const L=D.files.map(W=>W.path.slice(D.root.length+1));d(L)},[C,g]);function R(D){const L=c===null?"":c,W=f[D].slice($.length);u(`${L+W}/`),v.current!=null&&v.current.focus()}function N(D,L){L.preventDefault(),L.button===0&&!f[D].endsWith(".py")&&R(D)}function I(D){switch(D.key){case"Down":case"ArrowDown":p(L=>L==null?0:(L+1)%f.length),D.preventDefault();break;case"Up":case"ArrowUp":p(L=>L===null||L===0?f.length-1:L-1),D.preventDefault();break;case"Enter":case"ArrowRight":if(h===null)break;D.preventDefault(),D.stopPropagation(),f[h].endsWith(".py")||R(h);break;case"Esc":case"Escape":v.current!==null&&v.current.blur(),D.preventDefault();break}}O.useEffect(()=>{if(h!==null&&x.current!=null){const D=x.current,L=D.parentElement;if(L===null)Ut.error("Expected elem to have parent; elem:",D);else{const W=L.scrollTop,V=[W,W+L.offsetHeight];D.offsetTop<V[0]?x.current.scrollIntoView(!0):D.offsetTop+D.offsetHeight>V[1]&&x.current.scrollIntoView(!1)}}},[h]);const j=E.length===0||v.current==null?null:b.jsx("ul",{className:"autocomplete-list",style:{maxWidth:v.current.offsetWidth,width:v.current.offsetWidth},children:E.map((D,L)=>{const W=D.endsWith(".py"),V=W?"":" ",Q=h===L;return b.jsxs("li",{className:ve({file:W,directory:!W,"active-suggestion":Q}),onMouseDown:B=>N(L,B),ref:Q?x:null,children:[V," ",D]},D)})});let A;e&&(A=Math.min(60,Math.max(n.length,c===null?0:c.length)));const T=!g&&n!==""?n:c===null?"":c;return b.jsxs("div",{className:"DirCompletionInput",children:[b.jsx(DZe,{type:"text",spellCheck:"false",value:T,style:{width:"unset"},autoComplete:"off",ref:v,size:A,onFocus:m,onChange:S,onBlur:w,onKeyDown:I,...l}),j]})},pNn=({filename:e,setFilename:t})=>{const{openAlert:n}=K0(),r=e===null?"untitled marimo app":e,[i,o]=O.useState(!1),[s,a]=O.useState(!1),l=O.useRef(null);function c(){const y=document.getElementById("filename-input");if(y===null)throw new Error("Could not find filename form");const v=y.value;v.length===0||v===".py"?(n(b.jsxs(p6,{children:[b.jsx(g6,{className:"text-destructive",children:"Oops!"}),b.jsx(Dne,{children:"The filename can't be empty. Make sure to enter a non-empty name."})]})),y.blur()):v.endsWith(".py")?t(v).then(()=>{y.blur()}):t(`${v}.py`).then(()=>{y.blur()})}function u(y){y.preventDefault(),c()}function f(y){y.preventDefault(),c()}function d(){o(!0)}function h(){o(!1)}function p(y){const v=l.current;if(v===null)return;const x=y.endsWith(".py")?y:`${y}.py`;x.length>3&&!v.suggestions.includes(x)?a(!0):a(!1)}const g=i?"visible":"hidden";return b.jsx("div",{id:"Filename",children:b.jsxs("form",{id:"filename-form",onSubmit:u,children:[b.jsx("div",{})," ",b.jsxs("div",{style:{position:"relative"},children:[b.jsx(cet,{placeholderText:r,initialValue:e,onChangeCallback:p,onFocusCallback:d,onBlurCallback:h,resetOnBlur:!0,flexibleWidth:!0,handle:l,id:"filename-input",className:e===null?"missing-filename":"filename"}),b.jsx(Qo,{type:"submit",color:s?"green":"gray",onMouseDown:f,style:{marginRight:"0px",padding:"0px",position:"absolute",top:"0.25rem",right:"-44px",width:"30px",height:"30px",visibility:g},children:b.jsx(Bb,{size:16,strokeWidth:1.5})}),b.jsx(Qo,{color:"gray",style:{marginRight:"0px",padding:"0px",position:"absolute",top:"0.25rem",right:"-86px",width:"30px",height:"30px",visibility:g},children:b.jsx(Fh,{size:16,strokeWidth:1.5})})]})]})})};var uo=(e=>(e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED",e))(uo||{}),qE=(e=>(e.KERNEL_DISCONNECTED="KERNEL_DISCONNECTED",e.ALREADY_RUNNING="ALREADY_RUNNING",e.MALFORMED_QUERY="MALFORMED_QUERY",e))(qE||{});const gNn=Nn({state:uo.CONNECTING});(!globalThis.EventTarget||!globalThis.Event)&&console.error(`
  PartySocket requires a global 'EventTarget' class to be available!
  You can polyfill this global by adding this to your code before any partysocket imports: 
  
  \`\`\`
  import 'partysocket/event-target-polyfill';
  \`\`\`
  Please file an issue at https://github.com/partykit/partykit if you're still having trouble.
`);var uet=class extends Event{constructor(t,n){super("error",n);be(this,"message");be(this,"error");this.message=t.message,this.error=t}},fet=class extends Event{constructor(t=1e3,n="",r){super("close",r);be(this,"code");be(this,"reason");be(this,"wasClean",!0);this.code=t,this.reason=n}},vU={Event,ErrorEvent:uet,CloseEvent:fet};function mNn(e,t){if(!e)throw new Error(t)}function yNn(e){return new e.constructor(e.type,e)}function vNn(e){return"data"in e?new MessageEvent(e.type,e):"code"in e||"reason"in e?new fet(e.code||1999,e.reason||"unknown reason",e):"error"in e?new uet(e.error,e):new Event(e.type,e)}var ZTe,bNn=typeof process<"u"&&typeof((ZTe=process.versions)==null?void 0:ZTe.node)<"u"&&typeof document>"u",sM=bNn?vNn:yNn,gv={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+Math.random()*4e3,minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0,startClosed:!1,debug:!1},VEe=!1,ONn=class kv extends EventTarget{constructor(n,r,i={}){super();be(this,"_ws");be(this,"_retryCount",-1);be(this,"_uptimeTimeout");be(this,"_connectTimeout");be(this,"_shouldReconnect",!0);be(this,"_connectLock",!1);be(this,"_binaryType","blob");be(this,"_closeCalled",!1);be(this,"_messageQueue",[]);be(this,"_debugLogger",console.log.bind(console));be(this,"_url");be(this,"_protocols");be(this,"_options");be(this,"onclose",null);be(this,"onerror",null);be(this,"onmessage",null);be(this,"onopen",null);be(this,"_handleOpen",n=>{this._debug("open event");const{minUptime:r=gv.minUptime}=this._options;clearTimeout(this._connectTimeout),this._uptimeTimeout=setTimeout(()=>this._acceptOpen(),r),mNn(this._ws,"WebSocket is not defined"),this._ws.binaryType=this._binaryType,this._messageQueue.forEach(i=>{var o;return(o=this._ws)==null?void 0:o.send(i)}),this._messageQueue=[],this.onopen&&this.onopen(n),this.dispatchEvent(sM(n))});be(this,"_handleMessage",n=>{this._debug("message event"),this.onmessage&&this.onmessage(n),this.dispatchEvent(sM(n))});be(this,"_handleError",n=>{this._debug("error event",n.message),this._disconnect(void 0,n.message==="TIMEOUT"?"timeout":void 0),this.onerror&&this.onerror(n),this._debug("exec error listeners"),this.dispatchEvent(sM(n)),this._connect()});be(this,"_handleClose",n=>{this._debug("close event"),this._clearTimeouts(),this._shouldReconnect&&this._connect(),this.onclose&&this.onclose(n),this.dispatchEvent(sM(n))});this._url=n,this._protocols=r,this._options=i,this._options.startClosed&&(this._shouldReconnect=!1),this._options.debugLogger&&(this._debugLogger=this._options.debugLogger),this._connect()}static get CONNECTING(){return 0}static get OPEN(){return 1}static get CLOSING(){return 2}static get CLOSED(){return 3}get CONNECTING(){return kv.CONNECTING}get OPEN(){return kv.OPEN}get CLOSING(){return kv.CLOSING}get CLOSED(){return kv.CLOSED}get binaryType(){return this._ws?this._ws.binaryType:this._binaryType}set binaryType(n){this._binaryType=n,this._ws&&(this._ws.binaryType=n)}get retryCount(){return Math.max(this._retryCount,0)}get bufferedAmount(){return this._messageQueue.reduce((r,i)=>(typeof i=="string"?r+=i.length:i instanceof Blob?r+=i.size:r+=i.byteLength,r),0)+(this._ws?this._ws.bufferedAmount:0)}get extensions(){return this._ws?this._ws.extensions:""}get protocol(){return this._ws?this._ws.protocol:""}get readyState(){return this._ws?this._ws.readyState:this._options.startClosed?kv.CLOSED:kv.CONNECTING}get url(){return this._ws?this._ws.url:""}get shouldReconnect(){return this._shouldReconnect}close(n=1e3,r){if(this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),!this._ws){this._debug("close enqueued: no ws instance");return}if(this._ws.readyState===this.CLOSED){this._debug("close: already closed");return}this._ws.close(n,r)}reconnect(n,r){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,!this._ws||this._ws.readyState===this.CLOSED?this._connect():(this._disconnect(n,r),this._connect())}send(n){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",n),this._ws.send(n);else{const{maxEnqueuedMessages:r=gv.maxEnqueuedMessages}=this._options;this._messageQueue.length<r&&(this._debug("enqueue",n),this._messageQueue.push(n))}}_debug(...n){this._options.debug&&this._debugLogger("RWS>",...n)}_getNextDelay(){const{reconnectionDelayGrowFactor:n=gv.reconnectionDelayGrowFactor,minReconnectionDelay:r=gv.minReconnectionDelay,maxReconnectionDelay:i=gv.maxReconnectionDelay}=this._options;let o=0;return this._retryCount>0&&(o=r*Math.pow(n,this._retryCount-1),o>i&&(o=i)),this._debug("next delay",o),o}_wait(){return new Promise(n=>{setTimeout(n,this._getNextDelay())})}_getNextProtocols(n){if(!n)return Promise.resolve(null);if(typeof n=="string"||Array.isArray(n))return Promise.resolve(n);if(typeof n=="function"){const r=n();if(!r)return Promise.resolve(null);if(typeof r=="string"||Array.isArray(r))return Promise.resolve(r);if(r.then)return r}throw Error("Invalid protocols")}_getNextUrl(n){if(typeof n=="string")return Promise.resolve(n);if(typeof n=="function"){const r=n();if(typeof r=="string")return Promise.resolve(r);if(r.then)return r}throw Error("Invalid URL")}_connect(){if(this._connectLock||!this._shouldReconnect)return;this._connectLock=!0;const{maxRetries:n=gv.maxRetries,connectionTimeout:r=gv.connectionTimeout}=this._options;if(this._retryCount>=n){this._debug("max retries reached",this._retryCount,">=",n);return}this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),this._wait().then(()=>Promise.all([this._getNextUrl(this._url),this._getNextProtocols(this._protocols||null)])).then(([i,o])=>{if(this._closeCalled){this._connectLock=!1;return}!this._options.WebSocket&&typeof WebSocket>"u"&&!VEe&&(console.error(` No WebSocket implementation available. You should define options.WebSocket. 

For example, if you're using node.js, run \`npm install ws\`, and then in your code:

import PartySocket from 'partysocket';
import WS from 'ws';

const partysocket = new PartySocket({
  host: "127.0.0.1:1999",
  room: "test-room",
  WebSocket: WS
});

`),VEe=!0);const s=this._options.WebSocket||WebSocket;this._debug("connect",{url:i,protocols:o}),this._ws=o?new s(i,o):new s(i),this._ws.binaryType=this._binaryType,this._connectLock=!1,this._addListeners(),this._connectTimeout=setTimeout(()=>this._handleTimeout(),r)}).catch(i=>{this._connectLock=!1,this._handleError(new vU.ErrorEvent(Error(i.message),this))})}_handleTimeout(){this._debug("timeout event"),this._handleError(new vU.ErrorEvent(Error("TIMEOUT"),this))}_disconnect(n=1e3,r){if(this._clearTimeouts(),!!this._ws){this._removeListeners();try{this._ws.close(n,r),this._handleClose(new vU.CloseEvent(n,r,this))}catch{}}}_acceptOpen(){this._debug("accept open"),this._retryCount=0}_removeListeners(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))}_addListeners(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))}_clearTimeouts(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)}};/*!
 * Reconnecting WebSocket
 * by Pedro Ladaria <pedro.ladaria@gmail.com>
 * https://github.com/pladaria/reconnecting-websocket
 * License MIT
 */class xNn{constructor(){be(this,"CONNECTING",WebSocket.CONNECTING);be(this,"OPEN",WebSocket.OPEN);be(this,"CLOSING",WebSocket.CLOSING);be(this,"CLOSED",WebSocket.CLOSED);be(this,"binaryType","blob");be(this,"bufferedAmount",0);be(this,"extensions","");be(this,"protocol","");be(this,"url","");be(this,"onclose",null);be(this,"onerror",null);be(this,"onmessage",null);be(this,"onopen",null);be(this,"readyState",WebSocket.OPEN);be(this,"retryCount",0);be(this,"shouldReconnect",!1)}addEventListener(t,n,r){}removeEventListener(t,n,r){}dispatchEvent(t){return!1}reconnect(t,n){}send(t){}close(){}}function wNn(e){const{onOpen:t,onMessage:n,onClose:r,onError:i,...o}=e,[s]=O.useState(()=>zT()?new Qyt(QT.INSTANCE):e.static?new xNn:new ONn(o.url,void 0,{maxRetries:10,debug:!1}));return O.useEffect(()=>(t&&s.addEventListener("open",t),r&&s.addEventListener("close",r),i&&s.addEventListener("error",i),n&&s.addEventListener("message",n),()=>{zT()||(t&&s.removeEventListener("open",t),r&&s.removeEventListener("close",r),i&&s.removeEventListener("error",i),n&&s.removeEventListener("message",n))}),[]),s}function det(){return{}}const{reducer:SNn,createActions:_Nn}=lR(det,{setVariables:(e,t)=>{const n={...e},r={};for(const i of t)r[i.name]={...n[i.name],...i};return r},addVariables:(e,t)=>{const n={...e};for(const r of t)n[r.name]={...n[r.name],...r};return n},setMetadata:(e,t)=>{const n={...e};for(const{name:r,value:i,dataType:o}of t)n[r]&&(n[r]={...n[r],value:i,dataType:o});return n}}),het=Nn(det()),pet=()=>us(het);function CNn(){const e=vh(het);return O.useMemo(()=>_Nn(n=>{e(r=>SNn(r,n))}),[e])}const{reducer:$Nn,createActions:ENn}=lR(()=>({banners:[]}),{addBanner:(e,t)=>({...e,banners:[...e.banners,t]}),removeBanner:(e,t)=>({...e,banners:e.banners.filter(n=>n.id!==t)}),clearBanners:e=>({...e,banners:[]})}),get=Nn({banners:[]}),kNn=()=>us(get);function met(){const e=vh(get);return O.useMemo(()=>ENn(n=>{e(r=>$Nn(r,n))}),[e])}function TNn(e){const t=O.useRef(!0),{autoInstantiate:n,sessionId:r,setCells:i}=e,{showBoundary:o}=flt(),{handleCellMessage:s}=Vh(),{setVariables:a,setMetadata:l}=CNn(),c=vh(m9),u=vh(tde),[f,d]=Fl(gNn),{addBanner:h}=met(),p=v=>{const x=oAe(v.data);switch(x.op){case"reload":window.location.reload();return;case"kernel-ready":{const{codes:m,names:w,layout:S,configs:C,resumed:$,ui_values:E,cell_ids:R,last_executed_code:N={}}=x.data,I=m.map((T,D)=>{const L=R[D];let W=!1;if(n){const V=N[L];V&&(W=V!==T)}else W=!0;return cE({id:L,code:T,edited:W,name:w[D],lastCodeRun:N[L]??null,config:C[D]})});if(S&&(c(S.type),u(qAn(S.type,S.data,I))),i(I),$){for(const[T,D]of wn.entries(E||{}))Nf.set(T,D);return}const j=[],A=[];Nf.entries.forEach((T,D)=>{j.push(D),A.push(T.value)}),n&&(Va.INSTANCE.registerRunStart(),s0t({objectIds:j,values:A}).catch(T=>{Va.INSTANCE.registerRunEnd(),o(new Error("Failed to instantiate",{cause:T}))}));return}case"completed-run":case"interrupted":x.op==="completed-run"&&Va.INSTANCE.registerRunEnd(),Va.INSTANCE.running()||Va.INSTANCE.flushUpdates();return;case"remove-ui-elements":{const{cell_id:m}=x.data;Nf.removeElementsByCell(m),wP.INSTANCE.removeForCellId(m);return}case"completion-result":Noe.resolve(x.data.completion_id,x.data);return;case"function-call-result":qDe.resolve(x.data.function_call_id,x.data);return;case"cell-op":{const m=x.data;s({cellId:m.cell_id,message:m}),wP.INSTANCE.track(m);return}case"variables":a(x.data.variables.map(m=>({name:m.name,declaredBy:m.declared_by,usedBy:m.used_by})));return;case"variable-values":l(x.data.variables.map(m=>({name:m.name,dataType:m.datatype,value:m.value})));return;case"alert":Yr({title:x.data.title,description:Ha({html:x.data.description}),variant:x.data.variant});return;case"banner":h({...x.data,id:Xte()});return;default:Rg(x)}},g=(v,x)=>{t.current&&(t.current=!1,y.reconnect(v,x))},y=wNn({static:xh(),url:PNn(r),onOpen:()=>{t.current=!0,d({state:uo.OPEN})},onMessage:v=>{try{p(v)}catch(x){Yr({title:"Failed to handle message",description:MMe(x),variant:"danger"})}},onClose:v=>{switch(v.reason){case"MARIMO_ALREADY_CONNECTED":d({state:uo.CLOSED,code:qE.ALREADY_RUNNING,reason:"another browser tab is already connected to the kernel"}),y.close();return;case"MARIMO_WRONG_KERNEL_ID":case"MARIMO_SHUTDOWN":Ut.warn("WebSocket closed",v.reason),d({state:uo.CLOSED,code:qE.KERNEL_DISCONNECTED,reason:"kernel not found"}),y.close();return;case"MARIMO_MALFORMED_QUERY":d({state:uo.CLOSED,code:qE.MALFORMED_QUERY,reason:"the kernel did not recognize a request; please file a bug with marimo"});return;default:d({state:uo.CONNECTING}),g(v.code,v.reason)}},onError:v=>{Ut.warn("WebSocket error",v),d({state:uo.CLOSED,code:qE.KERNEL_DISCONNECTED,reason:"kernel not found"}),g()}});return{connStatus:f}}function PNn(e){return`${window.location.protocol==="https:"?"wss":"ws"}://${window.location.host}/ws?session_id=${e}`}const RNn=e=>b.jsx("div",{id:"Disconnected",children:b.jsx("p",{children:e.reason})});function ANn(e){const{codes:t,cellConfigs:n,config:r,connStatus:i,cellNames:o,needsSave:s,onSave:a}=e,l=O.useRef(null);O.useEffect(()=>(r.save.autosave==="after_delay"&&(l.current!==null&&clearTimeout(l.current),s&&i.state===uo.OPEN&&(l.current=setTimeout(a,r.save.autosave_delay))),()=>{l.current!==null&&clearTimeout(l.current)}),[t,n,o,r.save,i.state,a,s])}const DNn=e=>{let{transform:t}=e;return{...t,x:0}},NNn=({children:e,disabled:t})=>{const n=nC(),{dropCellOver:r}=Vh(),i=IAt(Wye(kre,{activationConstraint:{distance:8}}),Wye($re,{coordinateGetter:aNt})),o=n.cellIds,s=Zn(a=>{const{active:l,over:c}=a;c!==null&&l.id!==c.id&&r({cellId:l.id,overCellId:c.id})});return b.jsx(jDt,{sensors:i,collisionDetection:jAt,modifiers:[DNn],onDragEnd:s,children:b.jsx(GDt,{items:o,disabled:t,strategy:HDt,children:e})})},MNn=ie.memo(NNn);function INn(){return[$i.of([{key:"Escape",preventDefault:!1,run:xDn},{key:ti.getHotkey("cell.selectNextOccurrence").key,preventDefault:!0,run:Z7e},{key:ti.getHotkey("cell.findAndReplace").key,preventDefault:!0,run:ret}]),H7e(),iNn,BI,oNn]}function LNn(e,t,n=window){const r=(t==null?void 0:t.top)??0,i=(t==null?void 0:t.bottom)??0,o=e.getBoundingClientRect();if(o.top<r){n.scrollBy({top:o.top-r,behavior:"smooth"});return}else if(o.bottom>window.innerHeight-i){n.scrollBy({top:o.bottom-window.innerHeight+i,behavior:"smooth"});return}}function UEe(e,t){return e.state.doc.length===0?(e.dispatch({changes:{from:0,to:e.state.doc.length,insert:t}}),e.dispatch({selection:{anchor:e.state.doc.length,head:e.state.doc.length}}),!0):!1}function jNn(e){return[fje(e),$i.of([{key:"ArrowRight",preventDefault:!0,run:t=>UEe(t,e)},{key:"Tab",preventDefault:!0,run:t=>UEe(t,e)}])]}function FNn(e,t){return $i.of([{key:ti.getHotkey("cell.format").key,preventDefault:!0,run:n=>(Efe({[e]:n},t),!0)}])}function zNn(){return nt.updateListener.of(e=>{if(e.heightChanged&&e.docChanged){const t=e.view.dom.getElementsByClassName("cm-activeLine cm-line");if(t.length===1){const n=t[0],r=document.getElementById("App");Bi(r,"App not found"),LNn(n,{top:30,bottom:150},r)}}})}function QNn(e,t){const{onRun:n,deleteCell:r,createAbove:i,createBelow:o,moveUp:s,moveDown:a,focusUp:l,focusDown:c,sendToTop:u,sendToBottom:f,moveToNextCell:d,toggleHideCode:h}=t,p=[{key:ti.getHotkey("cell.run").key,preventDefault:!0,stopPropagation:!0,run:()=>(n(),!0)},{key:ti.getHotkey("cell.runAndNewBelow").key,preventDefault:!0,stopPropagation:!0,run:g=>(n(),g.contentDOM.blur(),d({cellId:e,before:!1}),!0)},{key:ti.getHotkey("cell.runAndNewAbove").key,preventDefault:!0,stopPropagation:!0,run:g=>(n(),g.contentDOM.blur(),d({cellId:e,before:!0}),!0)},{key:ti.getHotkey("cell.delete").key,preventDefault:!0,stopPropagation:!0,run:g=>(g.state.doc.length===0&&r(),!0)},{key:ti.getHotkey("cell.moveDown").key,preventDefault:!0,stopPropagation:!0,run:()=>(a(),!0)},{key:ti.getHotkey("cell.moveUp").key,preventDefault:!0,stopPropagation:!0,run:()=>(s(),!0)},{key:"ArrowUp",preventDefault:!0,stopPropagation:!0,run:g=>kH(g.state)?!1:YZe(g)?(l(),!0):!1},{key:"ArrowDown",preventDefault:!0,stopPropagation:!0,run:g=>kH(g.state)?!1:XZe(g)?(c(),!0):!1},{key:ti.getHotkey("cell.focusDown").key,preventDefault:!0,stopPropagation:!0,run:()=>(c(),!0)},{key:ti.getHotkey("cell.focusUp").key,preventDefault:!0,stopPropagation:!0,run:()=>(l(),!0)},{key:ti.getHotkey("cell.sendToBottom").key,preventDefault:!0,stopPropagation:!0,run:()=>(f({cellId:e}),!0)},{key:ti.getHotkey("cell.sendToTop").key,preventDefault:!0,stopPropagation:!0,run:()=>(u({cellId:e}),!0)},{key:ti.getHotkey("cell.createAbove").key,preventDefault:!0,stopPropagation:!0,run:g=>(g.contentDOM.blur(),i(),!0)},{key:ti.getHotkey("cell.createBelow").key,preventDefault:!0,stopPropagation:!0,run:g=>(g.contentDOM.blur(),o(),!0)},{key:ti.getHotkey("cell.hideCode").key,preventDefault:!0,stopPropagation:!0,run:g=>{var v;const y=h();return iL(g),y?(g.contentDOM.blur(),(v=document.getElementById(Yf.create(e)))==null||v.focus()):g.contentDOM.focus(),!0}}];return[Kl.highest($i.of(p))]}function BNn(e,t){const{updateCellCode:n}=t;return[nt.updateListener.of(i=>{const o=i.transactions.some(s=>s.effects.some(a=>a.is(YKe)));if(i.docChanged){const s=wA(i.view);n({cellId:e,code:s,formattingChange:o})}}),FNn(e,n)]}function WNn(e,t,n=void 0){let r=()=>{};return(...i)=>(r(),new Promise((o,s)=>{const a=setTimeout(()=>o(e(...i)),t);r=()=>{clearTimeout(a),n!==void 0&&s(n)}}))}var VNn=Object.defineProperty,UNn=(e,t,n)=>t in e?VNn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,yet=(e,t,n)=>(UNn(e,typeof t!="symbol"?t+"":t,n),n);const sde=qi.define({create(){return{suggestion:null}},update(e,t){const n=t.effects.find(r=>r.is(vet));return t.state.doc&&n&&t.state.doc==n.value.doc?{suggestion:n.value.text}:{suggestion:null}}}),vet=Vt.define();function qNn(e,t){const n=e.state.selection.main.head,r=[],i=vt.widget({widget:new YNn(t),side:1});return r.push(i.range(n)),vt.set(r)}let YNn=class extends ud{constructor(t){super(),yet(this,"suggestion"),this.suggestion=t}toDOM(){const t=document.createElement("span");return t.style.opacity="0.4",t.className="cm-inline-suggestion",t.textContent=this.suggestion,t}};const XNn=e=>Mr.fromClass(class{async update(t){const n=t.state.doc;if(!t.docChanged)return;const r=await e(t.state);t.view.dispatch({effects:vet.of({text:r,doc:n})})}}),HNn=Mr.fromClass(class{constructor(){yet(this,"decorations"),this.decorations=vt.none}update(e){var t;const n=(t=e.state.field(sde))==null?void 0:t.suggestion;if(!n){this.decorations=vt.none;return}this.decorations=qNn(e.view,n)}},{decorations:e=>e.decorations}),ZNn=Kl.highest($i.of([{key:"Tab",run:e=>{var t;const n=(t=e.state.field(sde))==null?void 0:t.suggestion;return n?(e.dispatch({...GNn(e.state,n,e.state.selection.main.head,e.state.selection.main.head)}),!0):!1}}]));function GNn(e,t,n,r){return{...e.changeByRange(i=>{if(i==e.selection.main)return{changes:{from:n,to:r,insert:t},range:Ee.cursor(n+t.length)};const o=r-n;return!i.empty||o&&e.sliceDoc(i.from-o,i.from)!=e.sliceDoc(n,r)?{range:i}:{changes:{from:i.from-o,to:i.from,insert:t},range:Ee.cursor(i.from-o+t.length)}}),userEvent:"input.complete"}}function KNn(e){const{delay:t=500}=e,n=WNn(e.fetchFn,t);return[sde,XNn(n),HNn,ZNn]}const JNn=()=>[KNn({delay:500,fetchFn:async e=>{if(!ZZe())return"";await new Promise(s=>setTimeout(s,10));const t=e.doc.toString(),n=GKe(t),r=n.split(`
`).length-t.split(`
`).length,i=eMn(e.doc,e.selection.main.head);return i.line+=r,(await rw().getCompletion({doc:{source:n,tabSize:e.tabSize,indentSize:1,insertSpaces:!0,path:zI,version:0,uri:`file://${zI}`,relativePath:zI,languageId:Tfe,position:i}})).completions.map(s=>s.displayText)[0]??""}}),j2n().slice(0,-2)];function eMn(e,t){const n=e.lineAt(t);return{line:n.number-1,character:t-n.from}}function tMn(){return[Xre(async(e,t)=>{const n=await bet(e,t,["tooltip"]);return n===null||n==="cancelled"?null:n},{hideOnChange:!0}),oMn]}async function bet(e,t,n){const r=Yf.findElement(e.dom);if(!r)return Ut.error("Failed to find active cell."),null;const i=Yf.parse(r.id),{startToken:o,endToken:s}=nMn(e.state.doc,t),a=await Noe.request({document:e.state.doc.slice(0,s).toString(),cellId:i});if(!a)return"cancelled";const l=e.state.doc.slice(o,s).toString();return AH.asHoverTooltip({position:s,message:a,exactName:l,excludeTypes:n})??null}function nMn(e,t){let n=t,r=t;for(;n>0;){const i=e.sliceString(n-1,n);if(!/\w/.test(i))break;n--}for(;r<e.length;){const i=e.sliceString(r,r+1);if(!/\w/.test(i))break;r++}return{startToken:n,endToken:r}}function rMn(e){const{head:t}=e.selection.main,n=e.doc.sliceString(t-1,t);return/\w/.test(n)}const iMn=bne(async(e,t)=>{const n=await bet(e,t);n!=="cancelled"&&Tn.set(Moe,{documentation:(n==null?void 0:n.html)??null})},300),oMn=nt.updateListener.of(e=>{if(e.selectionSet&&rMn(e.state)){const t=e.state.selection.main.head;iMn(e.view,t)}}),sMn=({cellId:e,showPlaceholder:t,cellMovementCallbacks:n,cellCodeCallbacks:r,completionConfig:i,keymapConfig:o,theme:s})=>[gCn(o,n),QNn(e,n),BNn(e,r),aMn(i,s),t?Kl.highest(jNn("import marimo as mo")):[]],aMn=(e,t)=>[nt.lineWrapping,Vre(),cje(),uje(),bje(),Ure(),vje(),dje(),e5t({position:"fixed"}),zNn(),t==="dark"?S8e:[],tMn(),JNn(),Fje(),d8e(),Kl.high($i.of(g8e)),Vje(),Eje(),mg.of("    "),U6(Jre,{fallback:!0}),$i.of([...Ije,...b8e]),P2n(e),iJ.of(X6()),gn.allowMultipleSelections.of(!0),INn(),$i.of([{key:"Tab",run:n=>l8e(n)||J6(n),preventDefault:!0}]),$i.of([...lie,MFe])];function Zk(e){const t=e.current;if(t===null)throw new ReferenceError("Attempting to dereference null object.");return t}const lMn=({value:e,onChange:t,placeholder:n})=>{const r=O.useRef(null),i=Oet(e,t);return Hue(()=>{const o=i.onBlur,s=r.current;if(s)return s.addEventListener("blur",o),()=>{s.removeEventListener("blur",o)}}),b.jsx(Ns,{value:i.value,onChange:i.onChange,ref:r,placeholder:n,className:"shadow-none! hover:shadow-none focus:shadow-none focus-visible:shadow-none",onKeyDown:fg.onEnter(fg.stopPropagation())})},cMn=({value:e,cellId:t,className:n})=>{const{updateCellName:r}=Vh(),i=Oet(e,o=>r({cellId:t,name:o}));return e===G1?null:b.jsx(tn,{content:"Click to rename",children:b.jsx("span",{className:ve("outline-none border hover:border-cyan-500/40 focus:border-cyan-500/40",n),contentEditable:!0,suppressContentEditableWarning:!0,onChange:i.onChange,onBlur:i.onBlur,onKeyDown:fg.onEnter(o=>{o.target instanceof HTMLElement&&o.target.blur()}),children:e})})};function Oet(e,t){const[n,r]=O.useState(e),i=o=>{if(o===e)return;if(!o||o===G1){t(o);return}const s=OAt(o,Ujt());t(s)};return{value:n===G1?"":n,onChange:o=>{const s=o.target.value,a=uB(s);r(a)},onBlur:o=>{if(o.target instanceof HTMLInputElement){const s=o.target.value;i(uB(s))}else if(o.target instanceof HTMLSpanElement){const s=o.target.innerText.trim();i(uB(s))}}}}const uMn=new LDe,fMn=e=>{const{consoleOutputs:t,stale:n,cellName:r,cellId:i,onSubmitDebugger:o}=e,s=t.length>0;if(!s&&r===G1)return null;const a=l=>b.jsx("span",{dangerouslySetInnerHTML:{__html:uMn.ansi_to_html(l)}});return b.jsxs("div",{title:n?"This console output is stale":void 0,"data-testid":"console-output-area",className:ve("console-output-area overflow-hidden rounded-b-lg",n&&"marimo-output-stale",s?"p-5":"p-3"),children:[t.map((l,c)=>l.channel==="pdb"?null:l.channel==="stdin"?l.response==null?b.jsxs("div",{className:"flex gap-2 items-center",children:[a(l.data),b.jsx(Ns,{type:"text",autoComplete:"off",autoFocus:!0,className:"m-0",placeholder:"stdin",onKeyDown:u=>{u.key==="Enter"&&!u.shiftKey&&o(u.currentTarget.value,c)}})]},c):b.jsxs("div",{className:"flex gap-2 items-center",children:[a(l.data),b.jsx("span",{className:"text-[var(--sky-11)]",children:l.response})]},c):b.jsx(ie.Fragment,{children:gie({message:l})},c)),b.jsx(cMn,{value:r,cellId:i,className:"bg-[var(--slate-4)] border-[var(--slate-4)] hover:bg-[var(--slate-5)] dark:bg-[var(--sky-5)] dark:border-[var(--sky-5)] dark:bg-[var(--sky-6)] dark:text-[var(--sky-12)] text-[var(--slate-12)] rounded-tl rounded-br-lg absolute right-0 bottom-0 text-xs px-1.5 py-0.5 font-mono"})]})},qEe=({appClosed:e,onClick:t,tooltipContent:n})=>b.jsx(tn,{content:n,usePortal:!1,children:b.jsx(Qo,{onClick:t,className:`ShoulderButton ${e?" inactive-button":""}`,shape:"circle",size:"small",color:"hint-green","data-testid":"create-cell-button",children:b.jsx(lne,{strokeWidth:1.8})})});function dMn(e,t,n,r){return e?"disabled":t&&!n?"yellow":n||r?"disabled":"hint-green"}const hMn=e=>{const{onClick:t,appClosed:n,needsRun:r,status:i,config:o,edited:s}=e,a=i==="stale"||i==="disabled-transitively",l=i==="running"||i==="queued",c=n||l||!o.disabled&&a&&!s,u=dMn(n,r,l,c),d=aet(i==="running");if(o.disabled)return b.jsx(tn,{content:"Add code to notebook",usePortal:!1,children:b.jsx(Qo,{className:ve(!r&&"hover-action",c&&"inactive-button"),onClick:t,color:u,shape:"circle",size:"small","data-testid":"run-button",children:b.jsx(g1t,{strokeWidth:1.8})})});if(!o.disabled&&a&&!s)return b.jsx(tn,{content:"This cell can't be run because it has a disabled ancestor",usePortal:!1,children:b.jsx(Qo,{className:ve(!r&&"hover-action",c&&"inactive-button"),onClick:t,color:u,shape:"circle",size:"small","data-testid":"run-button",children:b.jsx(YT,{strokeWidth:1.8})})});if(d)return b.jsx(tn,{content:Dh("global.interrupt"),usePortal:!1,children:b.jsx(Qo,{className:ve(n&&"inactive-button"),onClick:gY,color:"yellow",shape:"circle",size:"small","data-testid":"run-button",children:b.jsx(e6,{strokeWidth:1.5})})});let h="";return n?h="App disconnected":i==="queued"?h="This cell is already queued to run":h=Dh("cell.run"),b.jsx(tn,{content:h,usePortal:!1,children:b.jsx(Qo,{className:ve(!r&&"hover-action",c&&"inactive-button"),onClick:t,color:u,shape:"circle",size:"small","data-testid":"run-button",children:b.jsx(YT,{strokeWidth:1.8})})})},pMn=e=>{const{status:t,appClosed:n,onClick:r}=e,i=t==="running"||t==="queued";let o=null;return n?o="App disconnected":t==="running"?o="A cell can't be deleted when it's running":t==="queued"?o="A cell can't be deleted when it's queued to run":o="Delete",b.jsx(tn,{content:o,usePortal:!1,children:b.jsx(zt,{variant:"ghost",size:"icon",onClick:r,"data-testid":"delete-button",className:ve("hover:bg-transparent text-destructive/60 hover:text-destructive",{DeleteButton:!0,"inactive-button":n||i,running:i}),style:{boxShadow:"none"},children:b.jsx(t6,{size:14})})})};function gMn(e){const t=O.useRef(e),[n,r]=O.useState(e);return O.useEffect(()=>{const o=setInterval(()=>{r(f3.now().toMilliseconds())},17);return()=>clearInterval(o)}),n-t.current}const Gk=({children:e,layerTop:t=!1})=>{const[n,r]=ie.Children.toArray(e),i=t?"top-[-1px] left-[-1px]":"bottom-[-1px] right-[-1px]";return b.jsxs("div",{className:"multi-icon relative w-fit",children:[n,b.jsx("div",{className:`second-icon absolute ${i} rounded-full`,children:r})]})},mMn=({editing:e,status:t,disabled:n,edited:r,interrupted:i,elapsedTime:o,runStartTimestamp:s})=>{if(!e)return null;if(n&&t==="running")return Ut.error("CellStatusComponent: disabled and running"),null;if(n&&t==="stale")return b.jsx(tn,{content:"This cell is stale, but it's disabled and can't be run",usePortal:!1,children:b.jsx("div",{className:"cell-status-icon cell-status-stale","data-testid":"cell-status","data-status":"stale",children:b.jsxs(Gk,{children:[b.jsx(fD,{className:"h-5 w-5",strokeWidth:1.5}),b.jsx(BM,{className:"h-3 w-3",strokeWidth:2.5})]})})});if(n)return b.jsx(tn,{content:"This cell is disabled",usePortal:!1,children:b.jsx("div",{className:"cell-status-icon cell-status-disabled","data-testid":"cell-status","data-status":"disabled",children:b.jsx(fD,{className:"h-5 w-5",strokeWidth:1.5})})});if(t==="disabled-transitively")return b.jsx(tn,{content:"An ancestor of this cell is disabled, so it can't be run",usePortal:!1,children:b.jsx("div",{className:"cell-status-icon cell-status-stale","data-testid":"cell-status","data-status":"disabled-transitively",children:b.jsxs(Gk,{layerTop:!0,children:[b.jsx(DNe,{className:"h-5 w-5",strokeWidth:1.5}),b.jsx(fD,{className:"h-3 w-3",strokeWidth:2.5})]})})});if(t==="stale")return b.jsx(tn,{content:"This cell is stale, but an ancestor is disabled so it can't be run",usePortal:!1,children:b.jsx("div",{className:"cell-status-icon cell-status-stale","data-testid":"cell-status","data-status":"stale",children:b.jsxs(Gk,{children:[b.jsx(BM,{className:"h-5 w-5",strokeWidth:1}),b.jsx(fD,{className:"h-3 w-3",strokeWidth:2.5})]})})});if(t==="running")return b.jsx(tn,{content:"This cell is running",usePortal:!1,children:b.jsx("div",{className:"cell-status-icon elapsed-time running","data-testid":"cell-status","data-status":"running",children:b.jsx(yMn,{startTime:f3.fromSeconds(s)||f3.now()})})});if(t==="queued")return b.jsx(tn,{content:"This cell is queued to run",usePortal:!1,children:b.jsx("div",{className:"cell-status-icon cell-status-queued","data-testid":"cell-status","data-status":"queued",children:b.jsx(C1t,{className:"h-5 w-5",strokeWidth:1.5})})});if(r||i){const a=$J(o),l=i?"This cell was interrupted when it was last run":"This cell has been modified since it was last run",c=i?`This cell ran for ${a} before being interrupted`:`This cell took ${a} to run`;return b.jsxs("div",{className:"cell-status-icon flex items-center gap-2",children:[b.jsx(tn,{content:l,usePortal:!1,children:b.jsx("div",{className:"cell-status-stale","data-testid":"cell-status","data-status":"outdated",children:b.jsx(BM,{className:"h-5 w-5",strokeWidth:1.5})})}),a&&b.jsx(tn,{content:c,usePortal:!1,children:b.jsx("div",{className:"elapsed-time hover-action","data-testid":"cell-status","data-status":"outdated",children:b.jsx("span",{children:a})})})]})}if(o!==null){const a=$J(o);return b.jsx(tn,{content:`This cell took ${a} to run`,usePortal:!1,children:b.jsx("div",{className:"cell-status-icon elapsed-time hover-action","data-testid":"cell-status","data-status":"idle",children:b.jsx("span",{children:a})})})}return null};function $J(e){if(e===null)return"";if(e>1e3*60){const t=(e/6e4).toFixed(0),n=(e%(1e3*60)/1e3).toFixed(0);return`${t.toString()}m${n.toString()}s`}else return e>1e3?`${(e/1e3).toFixed(2).toString()}s`:`${e.toFixed(0).toString()}ms`}const yMn=e=>{const t=gMn(e.startTime.toMilliseconds());return b.jsx("span",{children:$J(t)})};function vMn(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}const xet=ie.createContext(null),wet=O.memo(()=>O.useContext(xet));wet.displayName="DragHandle";const _et=ie.forwardRef(({cellId:e,...t},n)=>{const{attributes:r,listeners:i,setNodeRef:o,transform:s,transition:a,isDragging:l}=iNt({id:e.toString()}),c={transform:s?o2.Transform.toString({x:0,y:s.y,scaleX:1,scaleY:1}):void 0,transition:a,zIndex:l?2:void 0,position:"relative"},u=vMn(n,o),f=b.jsx("div",{...r,...i,"data-testid":"drag-button",className:"py-[1px] mx-2 cursor-grab opacity-50 hover:opacity-100 hover-action hover:bg-muted rounded border border-transparent hover:border-border active:bg-accent",children:b.jsx(h1t,{strokeWidth:1,size:20})}),d=!!s;return b.jsx("div",{tabIndex:-1,ref:u,...t,className:ve(t.className,d&&"is-moving"),style:c,children:b.jsx(xet.Provider,{value:f,children:t.children})})});_et.displayName="SortableCell";const bMn=O.memo(_et);function OMn(e){const t=document.getElementById(`output-${e}`);t&&(t.classList.add("printing-output"),d3e(t,"result.png").finally(()=>{t.classList.remove("printing-output")}))}function xMn(){const e=nC(),t=Cet();return Zn(()=>t(FFe(e)))}function wMn(e){const t=Cet();return Zn(()=>t([e]))}function Cet(){const e=nC();return Zn(async n=>{if(n.length===0)return;const{cellHandles:r}=e,i=[];for(const o of n){const s=Zk(r[o]);i.push(wA(s.editorView)),s.registerRun()}Va.INSTANCE.registerRunStart(),await UDe(n,i).catch(o=>{Ut.error(o),Va.INSTANCE.registerRunEnd()})})}function $et({cellId:e,config:t,editorView:n,name:r,hasOutput:i,status:o}){const{createNewCell:s,updateCellConfig:a,updateCellCode:l,updateCellName:c,deleteCell:u,moveCell:f,sendToTop:d,sendToBottom:h}=Vh(),p=wMn(e),g=async()=>{const x={disabled:!t.disabled};await V1({configs:{[e]:x}}),a({cellId:e,config:x})},y=async()=>{const x={hide_code:!t.hide_code};await V1({configs:{[e]:x}}),a({cellId:e,config:x}),n&&(x.hide_code?n.contentDOM.blur():n.focus())};return[[{icon:b.jsx(Q1t,{size:13,strokeWidth:1.5}),label:"Name",disableClick:!0,handle:x=>{x==null||x.stopPropagation(),x==null||x.preventDefault()},rightElement:b.jsx(lMn,{placeholder:`cell_${e}`,value:r,onChange:x=>c({cellId:e,name:x})})},{icon:b.jsx(YT,{size:13,strokeWidth:1.5}),label:"Run cell",hotkey:"cell.run",hidden:o==="running"||o==="queued"||o==="disabled-transitively"||t.disabled===!0,handle:()=>p()},{icon:b.jsx(J4,{size:13,strokeWidth:1.5}),label:"Export output as PNG",hidden:!i,handle:()=>OMn(e)},{icon:b.jsx(sne,{size:13,strokeWidth:1.5}),label:"Format cell",hotkey:"cell.format",handle:()=>{n&&Efe({[e]:n},l)}},{icon:t.hide_code?b.jsx(ENe,{size:13,strokeWidth:1.5}):b.jsx(r1t,{size:13,strokeWidth:1.5}),label:t.hide_code===!0?"Show code":"Hide code",handle:y,hotkey:"cell.hideCode"},{icon:t.disabled?b.jsx(INe,{size:13,strokeWidth:1.5}):b.jsx(MNe,{size:13,strokeWidth:1.5}),label:t.disabled===!0?"Enable cell":"Disable cell",rightElement:b.jsx(Uy,{checked:!t.disabled,size:"sm",onCheckedChange:g}),handle:g}],[{icon:b.jsxs(Gk,{children:[b.jsx(hme,{size:13,strokeWidth:1.5}),b.jsx(SY,{size:8,strokeWidth:2})]}),label:"Create cell above",hotkey:"cell.createAbove",handle:()=>s({cellId:e,before:!0})},{icon:b.jsxs(Gk,{children:[b.jsx(hme,{size:13,strokeWidth:1.5}),b.jsx(Vy,{size:8,strokeWidth:2})]}),label:"Create cell below",hotkey:"cell.createBelow",handle:()=>s({cellId:e,before:!1})},{icon:b.jsx(SY,{size:13,strokeWidth:1.5}),label:"Move cell up",hotkey:"cell.moveUp",handle:()=>f({cellId:e,before:!0})},{icon:b.jsx(Vy,{size:13,strokeWidth:1.5}),label:"Move cell down",hotkey:"cell.moveDown",handle:()=>f({cellId:e,before:!1})},{icon:b.jsx(Hvt,{size:13,strokeWidth:1.5}),label:"Send to top",hotkey:"cell.sendToTop",handle:()=>d({cellId:e})},{icon:b.jsx(qvt,{size:13,strokeWidth:1.5}),label:"Send to bottom",hotkey:"cell.sendToBottom",handle:()=>h({cellId:e})}],[{label:"Delete",variant:"danger",icon:b.jsx(t6,{size:13,strokeWidth:1.5}),handle:()=>u({cellId:e})}]].map(x=>x.filter(m=>!m.hidden)).filter(x=>x.length>0)}const SMn=({children:e,...t})=>{const[n,r]=O.useState(!1),i=$et(t);return b.jsxs(qne,{open:n,onOpenChange:r,children:[b.jsxs(nne,{delayDuration:400,disableHoverableContent:!0,children:[!n&&b.jsx(UT,{className:"w-full bg-card",tabIndex:-1,children:b.jsxs("div",{className:"text-foreground-muted flex flex-col text-center",children:[b.jsxs("span",{children:[b.jsx("span",{className:"text-foreground font-semibold",children:"Drag "}),"to move cell"]}),b.jsxs("span",{children:[b.jsx("span",{className:"text-foreground font-semibold",children:"Click "}),"to open menu"]})]})}),b.jsx(rne,{children:b.jsx(Yne,{className:"flex",children:e})})]}),b.jsx(E6,{className:"w-[300px] p-0 pt-1",onOpenAutoFocus:o=>o.preventDefault(),onCloseAutoFocus:o=>o.preventDefault(),children:b.jsxs(_6,{children:[b.jsx(C6,{placeholder:"Search actions...",className:"h-6 m-1",autoFocus:!0}),b.jsx($6,{children:"No results"}),i.map((o,s)=>b.jsxs(O.Fragment,{children:[b.jsx(J5,{children:o.map(a=>b.jsx(JT,{onSelect:()=>{a.handle(),r(!1)},disabled:a.disableClick,variant:a.variant,children:b.jsxs("div",{className:"flex items-center flex-1",children:[a.icon&&b.jsx("div",{className:"mr-2 w-5",children:a.icon}),b.jsx("div",{className:"flex-1",children:a.label}),b.jsxs("div",{className:"flex-shrink-0 text-sm",children:[a.hotkey&&Jue(a.hotkey),a.rightElement]})]})},a.label))},s),s<i.length-1&&b.jsx(Vne,{})]},s))]})})]})},Eet="ContextMenu",[_Mn,SBn]=ro(Eet,[R6]),Ku=R6(),[CMn,ket]=_Mn(Eet),$Mn=e=>{const{__scopeContextMenu:t,children:n,onOpenChange:r,dir:i,modal:o=!0}=e,[s,a]=O.useState(!1),l=Ku(t),c=_a(r),u=O.useCallback(f=>{a(f),c(f)},[c]);return O.createElement(CMn,{scope:t,open:s,onOpenChange:u,modal:o},O.createElement(M5e,le({},l,{dir:i,open:s,onOpenChange:u,modal:o}),n))},EMn="ContextMenuTrigger",kMn=O.forwardRef((e,t)=>{const{__scopeContextMenu:n,disabled:r=!1,...i}=e,o=ket(EMn,n),s=Ku(n),a=O.useRef({x:0,y:0}),l=O.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...a.current})}),c=O.useRef(0),u=O.useCallback(()=>window.clearTimeout(c.current),[]),f=d=>{a.current={x:d.clientX,y:d.clientY},o.onOpenChange(!0)};return O.useEffect(()=>u,[u]),O.useEffect(()=>void(r&&u()),[r,u]),O.createElement(O.Fragment,null,O.createElement(I5e,le({},s,{virtualRef:l})),O.createElement(Ot.span,le({"data-state":o.open?"open":"closed","data-disabled":r?"":void 0},i,{ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:r?e.onContextMenu:qe(e.onContextMenu,d=>{u(),f(d),d.preventDefault()}),onPointerDown:r?e.onPointerDown:qe(e.onPointerDown,aM(d=>{u(),c.current=window.setTimeout(()=>f(d),700)})),onPointerMove:r?e.onPointerMove:qe(e.onPointerMove,aM(u)),onPointerCancel:r?e.onPointerCancel:qe(e.onPointerCancel,aM(u)),onPointerUp:r?e.onPointerUp:qe(e.onPointerUp,aM(u))})))}),TMn=e=>{const{__scopeContextMenu:t,...n}=e,r=Ku(t);return O.createElement(L5e,le({},r,n))},PMn="ContextMenuContent",RMn=O.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=ket(PMn,n),o=Ku(n),s=O.useRef(!1);return O.createElement(j5e,le({},o,r,{ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:a=>{var l;(l=e.onCloseAutoFocus)===null||l===void 0||l.call(e,a),!a.defaultPrevented&&s.current&&a.preventDefault(),s.current=!1},onInteractOutside:a=>{var l;(l=e.onInteractOutside)===null||l===void 0||l.call(e,a),!a.defaultPrevented&&!i.modal&&(s.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))}),AMn=O.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=Ku(n);return O.createElement(F5e,le({},i,r,{ref:t}))}),DMn=O.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=Ku(n);return O.createElement(z5e,le({},i,r,{ref:t}))}),NMn=O.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=Ku(n);return O.createElement(Q5e,le({},i,r,{ref:t}))}),MMn=O.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=Ku(n);return O.createElement(B5e,le({},i,r,{ref:t}))}),IMn=O.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=Ku(n);return O.createElement(W5e,le({},i,r,{ref:t}))}),LMn=O.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=Ku(n);return O.createElement(V5e,le({},i,r,{ref:t}))}),jMn=O.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=Ku(n);return O.createElement(U5e,le({},i,r,{ref:t}))}),FMn=O.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,i=Ku(n);return O.createElement(q5e,le({},i,r,{ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}}))});function aM(e){return t=>t.pointerType!=="mouse"?e(t):void 0}const zMn=$Mn,QMn=kMn,BMn=TMn,Tet=RMn,Pet=AMn,Ret=DMn,Aet=NMn,Det=MMn,Net=IMn,Met=LMn,Iet=jMn,Let=FMn,WMn=zMn,VMn=QMn,UMn=O.forwardRef(({className:e,inset:t,children:n,...r},i)=>b.jsxs(Iet,{ref:i,className:NIe({className:e,inset:t}),...r,children:[n,b.jsx(DAn,{className:"ml-auto h-4 w-4"})]}));UMn.displayName=Iet.displayName;const jet="data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",qMn=O.forwardRef(({className:e,...t},n)=>b.jsx(Let,{ref:n,className:ve(S6({subcontent:!0}),jet,e),...t}));qMn.displayName=Let.displayName;const Fet=O.forwardRef(({className:e,...t},n)=>b.jsx(BMn,{children:b.jsx(Tet,{ref:n,className:ve(S6(),jet,e),...t})}));Fet.displayName=Tet.displayName;const zet=O.forwardRef(({className:e,inset:t,variant:n,...r},i)=>b.jsx(Ret,{ref:i,className:zne({className:e,inset:t,variant:n}),...r}));zet.displayName=Ret.displayName;const YMn=O.forwardRef(({className:e,children:t,checked:n,...r},i)=>b.jsxs(Aet,{ref:i,className:hS({className:e}),checked:n,...r,children:[b.jsx("span",{className:hS(),children:b.jsx(Net,{children:b.jsx(RAn,{className:"h-4 w-4"})})}),t]}));YMn.displayName=Aet.displayName;const XMn=O.forwardRef(({className:e,children:t,...n},r)=>b.jsxs(Det,{ref:r,className:hS({className:e}),...n,children:[b.jsx("span",{className:hS(),children:b.jsx(Net,{children:b.jsx(MAn,{className:"h-4 w-4 fill-current"})})}),t]}));XMn.displayName=Det.displayName;const HMn=O.forwardRef(({className:e,inset:t,...n},r)=>b.jsx(Pet,{ref:r,className:IIe({className:e,inset:t}),...n}));HMn.displayName=Pet.displayName;const Qet=O.forwardRef(({className:e,...t},n)=>b.jsx(Met,{ref:n,className:ve("my-1",Qne({className:e})),...t}));Qet.displayName=Met.displayName;const ZMn=({children:e,...t})=>{const n=$et(t),[r,i]=ie.useState(),o=[{label:"Copy",icon:b.jsx(HP,{size:13,strokeWidth:1.5}),handle:()=>{document.execCommand("copy")}},{label:"Cut",icon:b.jsx(I1t,{size:13,strokeWidth:1.5}),handle:()=>{document.execCommand("cut")}},{label:"Paste",icon:b.jsx(Gvt,{size:13,strokeWidth:1.5}),handle:async()=>{const{editorView:s}=t;if(!s)return;const a=await navigator.clipboard.readText();if(a){const{from:l,to:c}=s.state.selection.main,u=s.state.update({changes:{from:l,to:c,insert:a}});s.dispatch(u)}}},{icon:b.jsx(J4,{size:13,strokeWidth:1.5}),label:"Download image",hidden:!r,handle:()=>{if(r){const s=document.createElement("a");s.download="image.png",s.href=r.src,s.click()}}}];return b.jsxs(WMn,{children:[b.jsx(VMn,{onContextMenu:s=>{s.target instanceof HTMLImageElement?i(s.target):i(void 0)},asChild:!0,children:e}),b.jsx(Fet,{className:"w-[300px]",children:[o,...n].map((s,a)=>b.jsxs(O.Fragment,{children:[s.map(l=>l.hidden?null:b.jsx(zet,{onSelect:c=>{l.handle(c)},variant:l.variant,children:b.jsxs("div",{className:"flex items-center flex-1",children:[l.icon&&b.jsx("div",{className:"mr-2 w-5",children:l.icon}),b.jsx("div",{className:"flex-1",children:l.label}),b.jsxs("div",{className:"flex-shrink-0 text-sm",children:[l.hotkey&&Jue(l.hotkey),l.rightElement]})]})},l.label)),a<s.length-1&&b.jsx(Qet,{})]},a))})]})},GMn=e=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 448 512",...e,children:b.jsx("path",{d:"M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"})}),KMn=e=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 640 512",...e,children:b.jsx("path",{d:"M593.8 59.1H46.2C20.7 59.1 0 79.8 0 105.2v301.5c0 25.5 20.7 46.2 46.2 46.2h547.7c25.5 0 46.2-20.7 46.1-46.1V105.2c0-25.4-20.7-46.1-46.2-46.1zM338.5 360.6H277v-120l-61.5 76.9-61.5-76.9v120H92.3V151.4h61.5l61.5 76.9 61.5-76.9h61.5v209.2zm135.3 3.1L381.5 256H443V151.4h61.5V256H566z"})}),JMn=({editorView:e,canUseMarkdown:t})=>{const[n,r]=O.useState(e.state.field(Lh).type);if(!t&&n!=="markdown")return null;const i=n==="markdown"?"python":"markdown",o=n==="markdown"?GMn:KMn;return b.jsx("div",{className:"absolute top-0 right-5 z-20 hover-action",children:b.jsx(tn,{content:`View as ${l6(i)}`,children:b.jsx(zt,{variant:"text",size:"xs",className:"opacity-80",children:b.jsx(o,{className:"cursor-pointer",fill:"var(--sky-11)",fontSize:20,onClick:()=>{r(i),R2n(e,i)}})})})})},eIn=({theme:e,showPlaceholder:t,allowFocus:n,id:r,code:i,status:o,serializedEditorState:s,mode:a,runCell:l,updateCellCode:c,createNewCell:u,deleteCell:f,focusCell:d,moveCell:h,moveToNextCell:p,updateCellConfig:g,userConfig:y,editorViewRef:v,hidden:x})=>{const[m,w]=O.useState(!1),S=O.useRef(null),C=o==="running"||o==="queued",$=a==="edit",E=a==="read",{sendToTop:R,sendToBottom:N}=Vh(),I=Zn(()=>C?!1:(f({cellId:r}),!0)),j=O.useCallback(()=>u({cellId:r,before:!1}),[r,u]),A=O.useCallback(()=>u({cellId:r,before:!0}),[r,u]),T=O.useCallback(()=>h({cellId:r,before:!1}),[r,h]),D=O.useCallback(()=>h({cellId:r,before:!0}),[r,h]),L=O.useCallback(()=>d({cellId:r,before:!1}),[r,d]),W=O.useCallback(()=>d({cellId:r,before:!0}),[r,d]),V=Zn(()=>{const B={hide_code:!x};return V1({configs:{[r]:B}}),g({cellId:r,config:B}),B.hide_code||!1});O.useEffect(()=>{if(E)return;const B=sMn({cellId:r,showPlaceholder:t,cellCodeCallbacks:{updateCellCode:c},cellMovementCallbacks:{onRun:l,deleteCell:I,createAbove:A,createBelow:j,moveUp:D,moveDown:T,focusUp:W,focusDown:L,sendToTop:R,sendToBottom:N,moveToNextCell:p,toggleHideCode:V},completionConfig:y.completion,keymapConfig:y.keymap,theme:e});B.push(Mr.define(()=>({update(U){const q=U.state.doc.toString();U.state.field(Lh).type!=="markdown"&&w(__.markdown().isSupported(q))}})));let Y;s===null?v.current===null?(v.current=new nt({state:gn.create({doc:i,extensions:B})}),Y=!0):(v.current.dispatch({effects:[Vt.reconfigure.of([B]),A2n(v.current,y.completion)]}),Y=!1):(v.current=new nt({state:gn.fromJSON(s,{doc:i,extensions:B},{history:sFe})}),Y=!0),v.current!==null&&S.current!==null&&S.current.replaceChildren(v.current.dom),Y&&n&&requestAnimationFrame(()=>{var U,q;(U=v.current)==null||U.focus(),(q=v.current)==null||q.dom.scrollIntoView({behavior:"smooth",block:"center"})})},[E,r,y.completion.activate_on_typing,y.keymap,e,t,A,j,W,L,D,T,p,c,I,l,s]),O.useLayoutEffect(()=>{v.current!==null&&$&&S.current!==null&&v.current!==null&&S.current.replaceChildren(v.current.dom)},[$,v]);const Q=async()=>{var B;x&&(await V1({configs:{[r]:{hide_code:!1}}}),g({cellId:r,config:{hide_code:!1}}),(B=v.current)==null||B.focus())};return b.jsxs(b.Fragment,{children:[m&&b.jsx("div",{className:"absolute top-1 right-1",children:b.jsx(JMn,{editorView:Zk(v),canUseMarkdown:m})}),x&&b.jsx(M8e,{onClick:Q}),b.jsx("div",{className:ve("cm",x&&"opacity-20 h-8 overflow-hidden"),ref:S})]})},tIn=O.memo(eIn),nIn=({theme:e,showPlaceholder:t,allowFocus:n,id:r,code:i,output:o,consoleOutputs:s,status:a,runStartTimestamp:l,runElapsedTimeMs:c,edited:u,interrupted:f,errored:d,stopped:h,serializedEditorState:p,mode:g,debuggerActive:y,appClosed:v,showDeleteButton:x,updateCellCode:m,prepareForRun:w,createNewCell:S,deleteCell:C,focusCell:$,moveCell:E,setStdinResponse:R,moveToNextCell:N,updateCellConfig:I,sendToBottom:j,sendToTop:A,userConfig:T,config:D,name:L},W)=>{const V=O.useRef(null),Q=O.useRef(null),B=u||f,Y=a==="running"||a==="queued",U=j3e({status:a,output:o,runStartTimestamp:l,interrupted:f},u),q=(a==="queued"||u||a==="stale")&&!f,Z=g==="edit",oe=O.useCallback(()=>{const ze=wA(Zk(Q));return iL(Zk(Q)),w({cellId:r}),ze},[r,Q,w]);O.useImperativeHandle(W,()=>({get editorView(){return Zk(Q)},registerRun:oe}),[Q,oe]);const ce=Zn(async()=>{if(Y)return;const ze=oe();Va.INSTANCE.registerRunStart(),await UDe([r],[ze]).catch(Je=>{Ut.error("Error running cell",Je),Va.INSTANCE.registerRunEnd()})}),re=O.useCallback(()=>S({cellId:r,before:!1}),[r,S]),fe=O.useCallback(()=>S({cellId:r,before:!0}),[r,S]),ae=O.useCallback(ze=>{V.current!==null&&!V.current.contains(ze.relatedTarget)&&Q.current!==null&&iL(Q.current)},[]),ue=O.useCallback(ze=>{if(!(V.current!==document.activeElement||Q.current===null||kH(Q.current.state)!=="active")){for(const Je of Coe)if(ze.key===Je.key&&Je.run){Je.run(Q.current),ze.preventDefault(),ze.stopPropagation();break}Q.current.focus()}},[V,Q]),me=b.jsx(b2,{allowExpand:Z,output:o,className:"output-area",cellId:r,stale:U}),ne=N_("Cell","hover-actions-parent",{published:!Z,interactive:Z,"needs-run":B,"has-error":d,stopped:h,disabled:D.disabled,stale:a==="stale"||a==="disabled-transitively"}),Le=Yf.create(r);if(R_n(Z?V.current:null,{"cell.run":ce,"cell.runAndNewBelow":()=>{ce(),N({cellId:r,before:!1})},"cell.runAndNewAbove":()=>{ce(),N({cellId:r,before:!0})},"cell.createAbove":fe,"cell.createBelow":re,"cell.moveUp":()=>E({cellId:r,before:!0}),"cell.moveDown":()=>E({cellId:r,before:!1}),"cell.hideCode":()=>{var Je,Be,K;const ze={hide_code:!D.hide_code};V1({configs:{[r]:ze}}),I({cellId:r,config:ze}),ze.hide_code?((Je=Q.current)==null||Je.contentDOM.blur(),(Be=V.current)==null||Be.focus()):(K=Q.current)==null||K.focus()},"cell.focusDown":()=>N({cellId:r,before:!1}),"cell.focusUp":()=>N({cellId:r,before:!0}),"cell.sendToBottom":()=>j({cellId:r}),"cell.sendToTop":()=>A({cellId:r})}),A_n(Z?V.current:null,{ArrowDown:()=>(N({cellId:r,before:!1,noCreate:!0}),!0),ArrowUp:()=>(N({cellId:r,before:!0,noCreate:!0}),!0),...T.keymap.preset==="vim"&&D.hide_code?{j:()=>(N({cellId:r,before:!1,noCreate:!0}),!0),k:()=>(N({cellId:r,before:!0,noCreate:!0}),!0)}:{}}),!Z)return d||f||h?null:b.jsx("div",{tabIndex:-1,id:Le,ref:V,className:ne,children:me});const _e=()=>D.disabled?"This cell is disabled":a==="stale"||a==="disabled-transitively"?"This cell has a disabled ancestor":void 0,ke=!nFt(o);return b.jsx(ZMn,{cellId:r,config:D,status:a,editorView:Q.current,hasOutput:ke,name:L,children:b.jsxs(bMn,{tabIndex:-1,id:Le,ref:V,className:ne,"data-status":a,onBlur:ae,onKeyDown:ue,cellId:r,title:_e(),children:[T.display.cell_output==="above"&&me,b.jsxs("div",{className:"tray",children:[b.jsxs("div",{className:"absolute flex flex-col gap-[2px] justify-center h-full left-[-34px] z-2 hover-action",children:[b.jsx(qEe,{tooltipContent:Dh("cell.createAbove"),appClosed:v,onClick:v?void 0:fe}),b.jsx("div",{className:"flex-1"}),b.jsx(qEe,{tooltipContent:Dh("cell.createBelow"),appClosed:v,onClick:v?void 0:re})]}),b.jsx(tIn,{theme:e,showPlaceholder:t,allowFocus:n,id:r,code:i,status:a,serializedEditorState:p,mode:g,runCell:ce,updateCellCode:m,createNewCell:S,deleteCell:C,focusCell:$,moveCell:E,moveToNextCell:N,updateCellConfig:I,userConfig:T,editorViewRef:Q,hidden:D.hide_code}),b.jsxs("div",{className:"shoulder-right",children:[b.jsx(mMn,{status:a,interrupted:f,editing:Z,edited:u,disabled:D.disabled??!1,elapsedTime:c,runStartTimestamp:l}),b.jsxs("div",{className:"flex align-bottom",children:[b.jsx(hMn,{edited:u,onClick:v?If.NOOP:ce,appClosed:v,status:a,config:D,needsRun:B}),b.jsx(SMn,{cellId:r,status:a,editorView:Q.current,name:L,config:D,hasOutput:ke,children:b.jsx(wet,{})})]})]}),b.jsx("div",{className:"shoulder-bottom hover-action",children:x?b.jsx(pMn,{appClosed:v,status:a,onClick:()=>{!Y&&!v&&C({cellId:r})}}):null})]}),T.display.cell_output==="below"&&me,b.jsx(fMn,{consoleOutputs:s,stale:q,cellName:L,onSubmitDebugger:(ze,Je)=>{R({cellId:r,response:ze,outputIndex:Je}),r0t({text:ze})},cellId:r,debuggerActive:y})]})})},rIn=O.memo(O.forwardRef(nIn));function Bet(){return{selectedPanel:"variables",isOpen:!1,panelLocation:"left"}}const{reducer:iIn,createActions:oIn}=lR(Bet,{openApplication:(e,t)=>({...e,selectedPanel:t,isOpen:e.isOpen?e.selectedPanel!==t:!0}),openPanel:e=>({...e,isOpen:!0}),closePanel:e=>({...e,isOpen:!1}),togglePanel:e=>({...e,isOpen:!e.isOpen}),setIsOpen:(e,t)=>({...e,isOpen:t}),changePanelLocation:(e,t)=>({...e,panelLocation:t})}),Wet=Nn(Bet()),Vet=()=>{const e=us(Wet);return e.isOpen?e:{...e,selectedPanel:void 0}};function ade(){const e=vh(Wet);return O.useMemo(()=>oIn(n=>{e(r=>iIn(r,n))}),[e])}const sIn=e=>{const{banners:t}=kNn(),{removeBanner:n}=met();return t.length===0?null:b.jsx("div",{className:"flex flex-col gap-4 mb-5",children:t.map(r=>b.jsxs(y6,{kind:r.variant||"info",className:"flex flex-col rounded p-3",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsxs("span",{className:"font-bold text-lg flex items-center mb-2",children:[b.jsx(xNe,{className:"w-5 h-5 inline-block mr-2"}),r.title]}),b.jsx(zt,{variant:"text",size:"icon",onClick:()=>n(r.id),children:b.jsx(Fh,{className:"w-5 h-5"})})]}),b.jsxs("div",{className:"flex justify-between items-end",children:[b.jsx("span",{children:Ha({html:r.description})}),r.action==="restart"&&b.jsx(aIn,{})]})]},r.id))})},aIn=()=>{const e=eet();return b.jsxs(zt,{variant:"link",size:"sm",onClick:e,children:[b.jsx(M1t,{className:"w-4 h-4 mr-2"}),"Restart"]})},lIn=({notebook:e,mode:t,userConfig:n,appConfig:r,connStatus:i})=>{const{updateCellCode:o,prepareForRun:s,deleteCell:a,moveCell:l,moveToNextCell:c,updateCellConfig:u,focusCell:f,createNewCell:d,focusBottomCell:h,focusTopCell:p,scrollToTarget:g,foldAll:y,unfoldAll:v,sendToBottom:x,sendToTop:m,setStdinResponse:w}=Vh(),{theme:S}=_0(),{togglePanel:C}=ade(),{invisible:$}=qJe(e.cellIds.length,t);Fa("global.focusTop",p),Fa("global.focusBottom",h),Fa("global.toggleSidebar",C),Fa("global.foldCode",y),Fa("global.unfoldCode",v),Fa("global.formatAll",()=>{XKe(o)}),Fa("cell.hideCode",If.NOOP),Fa("cell.format",If.NOOP);const E=Zn(N=>{a0t(N.cellId),a(N)});O.useEffect(()=>{e.scrollKey!==null&&g()},[e.cellIds,e.scrollKey,g]);const R=zFe(e);return b.jsxs(UJe,{className:"pb-[40vh]",invisible:$,appConfig:r,children:[b.jsx(sIn,{}),R.map(N=>b.jsx(rIn,{theme:S,showPlaceholder:R.length===1,allowFocus:!$,id:N.id,code:N.code,output:N.output,consoleOutputs:N.consoleOutputs,status:N.status,updateCellCode:o,prepareForRun:s,edited:N.edited,interrupted:N.interrupted,errored:N.errored,stopped:N.stopped,runStartTimestamp:N.runStartTimestamp,runElapsedTimeMs:N.runElapsedTimeMs,serializedEditorState:N.serializedEditorState,showDeleteButton:R.length>1&&!N.config.hide_code,createNewCell:d,deleteCell:E,focusCell:f,moveToNextCell:c,setStdinResponse:w,updateCellConfig:u,moveCell:l,mode:t,appClosed:i.state!==uo.OPEN,ref:e.cellHandles[N.id],sendToBottom:x,sendToTop:m,userConfig:n,debuggerActive:N.debuggerActive,config:N.config,name:N.name},N.id.toString()))]})},Uet=O.memo(({appConfig:e,mode:t,children:n})=>{const r=nC(),[i,o]=Fl(tde),[s]=Fl(m9);if(t==="edit")return n;const a=ede.find(f=>f.type===s);if(!a)return n;const l=zFe(r),c=a.Component;return b.jsx(c,{appConfig:e,mode:t,cells:l,layout:i||a.getInitialLayout(l),setLayout:o})});Uet.displayName="CellsRenderer";const YEe=({userConfig:e,appConfig:t})=>{const n=nC(),{setCells:r,updateCellCode:i}=Vh(),[o,s]=Fl(QI),[a,l]=KJe(),[c,u]=O.useState(),{openModal:f,closeModal:d,openAlert:h}=K0(),p=o.mode==="edit",g=o.mode==="present",y=o.mode==="read",v=Hjt(n);function x(){h("Failed to save notebook: not connected to a kernel.")}O.useEffect(()=>(Va.INSTANCE.start(),()=>{Va.INSTANCE.stop()}),[]);const{connStatus:m}=TNn({autoInstantiate:e.runtime.auto_instantiate||o.mode==="read",setCells:B=>{r(B);const Y=B.map(Z=>Z.name),U=B.map(Z=>Z.code),q=B.map(Z=>Z.config);u({names:Y,codes:U,configs:q})},sessionId:WDe()}),w=Zn(B=>m.state!==uo.OPEN?(x(),Promise.resolve(null)):t0t(B).then(()=>(l(B),B)).catch(Y=>(h(Y.message),null))),S=jFe(n),C=S.map(B=>B.id),$=S.map(B=>B.code),E=S.map(B=>B.name),R=S.map(B=>B.config),N=Zjt(n,c),I=Zn((B,Y)=>{if($.length!==0&&!y){if(m.state!==uo.OPEN){x();return}Ut.log("saving to ",B),n0t({cellIds:C,codes:$,names:E,filename:B,configs:R,layout:YAn()}).then(()=>{Y&&(Yr({title:"Notebook saved"}),e.save.format_on_save&&XKe(i)),u({names:E,codes:$,configs:R})}).catch(U=>{h(U.message)})}}),j=Zn((B=!1)=>{a!==null&&m.state===uo.OPEN&&I(a,B)}),A=Zn(()=>{j(!0),a===null&&m.state!==uo.CLOSED&&f(b.jsx(dIn,{onClose:d,onSubmitSaveDialog:T}))});ANn({onSave:j,needsSave:N,codes:$,cellConfigs:R,cellNames:E,connStatus:m,config:e}),Fz(window,"beforeunload",B=>{if(!xh()&&N)return B.preventDefault(),B.returnValue="You have unsaved changes. Are you sure you want to quit?"});const T=B=>{const Y=new FormData(B.currentTarget).get("SaveDialogInput");if(typeof Y!="string"){alert("Filename cannot be empty");return}if(Y.length===0||Y===".py"){alert("Filename cannot be empty");return}const U=Y.endsWith(".py")?Y:`${Y}.py`;w(U).then(q=>{q!==null&&I(q,!0)})},D=xMn(),L=O.useCallback(()=>{const B=document.getElementsByClassName("output-area"),Y=window.innerHeight||document.documentElement.clientHeight;let U=null;for(const q of Array.from(B)){const Z=q.getBoundingClientRect();if(Z.top>=0&&Z.top<=Y||Z.bottom>=0&&Z.bottom<=Y){U=Yf.parse(q.parentNode.id);break}}s(q=>({mode:eDn(q.mode),cellAnchor:U})),requestAnimationFrame(()=>{var q;U!==null&&((q=document.getElementById(Yf.create(U)))==null||q.scrollIntoView())})},[s]);Fa("global.runStale",()=>{D()}),Fa("global.save",A),Fa("global.interrupt",()=>{gY()}),Fa("global.hideCode",()=>{y||L()});const W=Zn(()=>JSON.stringify({filename:a,cells:S.map(B=>({name:B.name,code:B.code}))},null,2)),V=b.jsx(lIn,{notebook:n,connStatus:m,mode:o.mode,userConfig:e,appConfig:t}),Q=b.jsxs(b.Fragment,{children:[m.state===uo.OPEN&&v&&b.jsx(uIn,{}),m.state===uo.CLOSED&&b.jsx(fIn,{}),m.state===uo.CLOSED&&b.jsx(cIn,{})]});return b.jsxs(b.Fragment,{children:[Q,b.jsxs("div",{id:"App",className:ve(m.state===uo.CLOSED&&"disconnected","bg-background w-full h-full text-textColor","flex flex-col overflow-y-auto overflow-x-hidden",t.width==="full"&&"config-width-full"),children:[b.jsxs("div",{className:ve((p||g)&&"pt-4 sm:pt-12 pb-2 mb-4",y&&"sm:pt-8"),children:[p&&b.jsx("div",{id:"Welcome",children:b.jsx(pNn,{filename:a,setFilename:w})}),m.state===uo.CLOSED&&b.jsx(RNn,{reason:m.reason})]}),S.length>0&&b.jsx(Uet,{appConfig:t,mode:o.mode,children:b.jsx(MNn,{disabled:!p,children:V})})]}),(p||g)&&b.jsx(cNn,{filename:a,needsSave:N,onSaveNotebook:A,getCellsAsJSON:W,presenting:g,onTogglePresenting:L,onInterrupt:gY,onShutdown:o0t,onRun:D,closed:m.state===uo.CLOSED,running:v,needsRun:Gjt(n),undoAvailable:n.history.length>0,appWidth:t.width})]})},qet="absolute top-3 left-4 m-0 flex items-center space-x-3 min-h-[28px] no-print pointer-events-auto z-30",cIn=()=>b.jsx(tn,{content:"App disconnected",children:b.jsx("div",{className:qet,children:b.jsx(V1t,{className:"closed-app-icon"})})}),uIn=()=>b.jsx("div",{className:qet,"data-testid":"loading-indicator",title:"Marimo is busy computing. Hang tight!",children:b.jsx(y1t,{className:"running-app-icon",size:30,strokeWidth:1})}),fIn=()=>b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"noise"}),b.jsx("div",{className:"disconnected-gradient"})]}),dIn=e=>{const{onClose:t,onSubmitSaveDialog:n}=e,r="Cancel";return b.jsx(P0,{className:"w-fit",children:b.jsxs("form",{onSubmit:i=>{i.preventDefault(),n(i),t()},onKeyDown:i=>{var o;i.key==="Escape"?t():i.key==="Enter"&&((o=document.activeElement)==null?void 0:o.ariaLabel)!==r&&(n(i),t())},children:[b.jsx(qb,{className:"text-accent mb-6",children:"Save?"}),b.jsxs("div",{className:"flex items-center gap-5 mb-6 ml-4 mr-16",children:[b.jsx(Ua,{className:"text-md text-muted-foreground",children:"Save as"}),b.jsx(cet,{name:"SaveDialogInput",className:"missing-filename"})]}),b.jsxs(tR,{children:[b.jsx(zt,{"aria-label":r,variant:"secondary",onClick:t,children:"Cancel"}),b.jsx(zt,{"aria-label":"Save",variant:"default",type:"submit",children:"Save"})]})]})})},Yet="ToastProvider",[lde,hIn,pIn]=I_("Toast"),[Xet,_Bn]=ro("Toast",[pIn]),[gIn,v9]=Xet(Yet),Het=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=e,[a,l]=O.useState(null),[c,u]=O.useState(0),f=O.useRef(!1),d=O.useRef(!1);return O.createElement(lde.Provider,{scope:t},O.createElement(gIn,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:O.useCallback(()=>u(h=>h+1),[]),onToastRemove:O.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:d},s))};Het.propTypes={label(e){if(e.label&&typeof e.label=="string"&&!e.label.trim()){const t=`Invalid prop \`label\` supplied to \`${Yet}\`. Expected non-empty \`string\`.`;return new Error(t)}return null}};const mIn="ToastViewport",yIn=["F8"],EJ="toast.viewportPause",kJ="toast.viewportResume",vIn=O.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=yIn,label:i="Notifications ({hotkey})",...o}=e,s=v9(mIn,n),a=hIn(n),l=O.useRef(null),c=O.useRef(null),u=O.useRef(null),f=O.useRef(null),d=Xt(t,f,s.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=s.toastCount>0;O.useEffect(()=>{const y=v=>{var x;r.every(w=>v[w]||v.code===w)&&((x=f.current)===null||x===void 0||x.focus())};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[r]),O.useEffect(()=>{const y=l.current,v=f.current;if(p&&y&&v){const x=()=>{if(!s.isClosePausedRef.current){const C=new CustomEvent(EJ);v.dispatchEvent(C),s.isClosePausedRef.current=!0}},m=()=>{if(s.isClosePausedRef.current){const C=new CustomEvent(kJ);v.dispatchEvent(C),s.isClosePausedRef.current=!1}},w=C=>{!y.contains(C.relatedTarget)&&m()},S=()=>{y.contains(document.activeElement)||m()};return y.addEventListener("focusin",x),y.addEventListener("focusout",w),y.addEventListener("pointermove",x),y.addEventListener("pointerleave",S),window.addEventListener("blur",x),window.addEventListener("focus",m),()=>{y.removeEventListener("focusin",x),y.removeEventListener("focusout",w),y.removeEventListener("pointermove",x),y.removeEventListener("pointerleave",S),window.removeEventListener("blur",x),window.removeEventListener("focus",m)}}},[p,s.isClosePausedRef]);const g=O.useCallback(({tabbingDirection:y})=>{const x=a().map(m=>{const w=m.ref.current,S=[w,...NIn(w)];return y==="forwards"?S:S.reverse()});return(y==="forwards"?x.reverse():x).flat()},[a]);return O.useEffect(()=>{const y=f.current;if(y){const v=x=>{const m=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!m){const E=document.activeElement,R=x.shiftKey;if(x.target===y&&R){var S;(S=c.current)===null||S===void 0||S.focus();return}const j=g({tabbingDirection:R?"backwards":"forwards"}),A=j.findIndex(T=>T===E);if(bU(j.slice(A+1)))x.preventDefault();else{var C,$;R?(C=c.current)===null||C===void 0||C.focus():($=u.current)===null||$===void 0||$.focus()}}};return y.addEventListener("keydown",v),()=>y.removeEventListener("keydown",v)}},[a,g]),O.createElement($0t,{ref:l,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:p?void 0:"none"}},p&&O.createElement(XEe,{ref:c,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"forwards"});bU(y)}}),O.createElement(lde.Slot,{scope:n},O.createElement(Ot.ol,le({tabIndex:-1},o,{ref:d}))),p&&O.createElement(XEe,{ref:u,onFocusFromOutsideViewport:()=>{const y=g({tabbingDirection:"backwards"});bU(y)}}))}),bIn="ToastFocusProxy",XEe=O.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,o=v9(bIn,n);return O.createElement(Z4,le({"aria-hidden":!0,tabIndex:0},i,{ref:t,style:{position:"fixed"},onFocus:s=>{var a;const l=s.relatedTarget;!((a=o.viewport)!==null&&a!==void 0&&a.contains(l))&&r()}}))}),b9="Toast",OIn="toast.swipeStart",xIn="toast.swipeMove",wIn="toast.swipeCancel",SIn="toast.swipeEnd",_In=O.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...s}=e,[a=!0,l]=Vo({prop:r,defaultProp:i,onChange:o});return O.createElement(zs,{present:n||a},O.createElement(Zet,le({open:a},s,{ref:t,onClose:()=>l(!1),onPause:_a(e.onPause),onResume:_a(e.onResume),onSwipeStart:qe(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:qe(e.onSwipeMove,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:qe(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:qe(e.onSwipeEnd,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})))}),[CIn,$In]=Xet(b9,{onClose(){}}),Zet=O.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:d,onSwipeEnd:h,...p}=e,g=v9(b9,n),[y,v]=O.useState(null),x=Xt(t,T=>v(T)),m=O.useRef(null),w=O.useRef(null),S=i||g.duration,C=O.useRef(0),$=O.useRef(S),E=O.useRef(0),{onToastAdd:R,onToastRemove:N}=g,I=_a(()=>{var T;(y==null?void 0:y.contains(document.activeElement))&&((T=g.viewport)===null||T===void 0||T.focus()),s()}),j=O.useCallback(T=>{!T||T===1/0||(window.clearTimeout(E.current),C.current=new Date().getTime(),E.current=window.setTimeout(I,T))},[I]);O.useEffect(()=>{const T=g.viewport;if(T){const D=()=>{j($.current),c==null||c()},L=()=>{const W=new Date().getTime()-C.current;$.current=$.current-W,window.clearTimeout(E.current),l==null||l()};return T.addEventListener(EJ,L),T.addEventListener(kJ,D),()=>{T.removeEventListener(EJ,L),T.removeEventListener(kJ,D)}}},[g.viewport,S,l,c,j]),O.useEffect(()=>{o&&!g.isClosePausedRef.current&&j(S)},[o,S,g.isClosePausedRef,j]),O.useEffect(()=>(R(),()=>N()),[R,N]);const A=O.useMemo(()=>y?ett(y):null,[y]);return g.viewport?O.createElement(O.Fragment,null,A&&O.createElement(EIn,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0},A),O.createElement(CIn,{scope:n,onClose:I},Io.createPortal(O.createElement(lde.ItemSlot,{scope:n},O.createElement(C0t,{asChild:!0,onEscapeKeyDown:qe(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||I(),g.isFocusedToastEscapeKeyDownRef.current=!1})},O.createElement(Ot.li,le({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection},p,{ref:x,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:qe(e.onKeyDown,T=>{T.key==="Escape"&&(a==null||a(T.nativeEvent),T.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:qe(e.onPointerDown,T=>{T.button===0&&(m.current={x:T.clientX,y:T.clientY})}),onPointerMove:qe(e.onPointerMove,T=>{if(!m.current)return;const D=T.clientX-m.current.x,L=T.clientY-m.current.y,W=!!w.current,V=["left","right"].includes(g.swipeDirection),Q=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,B=V?Q(0,D):0,Y=V?0:Q(0,L),U=T.pointerType==="touch"?10:2,q={x:B,y:Y},Z={originalEvent:T,delta:q};W?(w.current=q,lM(xIn,f,Z,{discrete:!1})):HEe(q,g.swipeDirection,U)?(w.current=q,lM(OIn,u,Z,{discrete:!1}),T.target.setPointerCapture(T.pointerId)):(Math.abs(D)>U||Math.abs(L)>U)&&(m.current=null)}),onPointerUp:qe(e.onPointerUp,T=>{const D=w.current,L=T.target;if(L.hasPointerCapture(T.pointerId)&&L.releasePointerCapture(T.pointerId),w.current=null,m.current=null,D){const W=T.currentTarget,V={originalEvent:T,delta:D};HEe(D,g.swipeDirection,g.swipeThreshold)?lM(SIn,h,V,{discrete:!0}):lM(wIn,d,V,{discrete:!0}),W.addEventListener("click",Q=>Q.preventDefault(),{once:!0})}})})))),g.viewport))):null});Zet.propTypes={type(e){if(e.type&&!["foreground","background"].includes(e.type)){const t=`Invalid prop \`type\` supplied to \`${b9}\`. Expected \`foreground | background\`.`;return new Error(t)}return null}};const EIn=e=>{const{__scopeToast:t,children:n,...r}=e,i=v9(b9,t),[o,s]=O.useState(!1),[a,l]=O.useState(!1);return AIn(()=>s(!0)),O.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:O.createElement(z_,{asChild:!0},O.createElement(Z4,r,o&&O.createElement(O.Fragment,null,i.label," ",n)))},kIn=O.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return O.createElement(Ot.div,le({},r,{ref:t}))}),TIn=O.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return O.createElement(Ot.div,le({},r,{ref:t}))}),PIn="ToastAction",Get=O.forwardRef((e,t)=>{const{altText:n,...r}=e;return n?O.createElement(Jet,{altText:n,asChild:!0},O.createElement(Ket,le({},r,{ref:t}))):null});Get.propTypes={altText(e){return e.altText?null:new Error(`Missing prop \`altText\` expected on \`${PIn}\``)}};const RIn="ToastClose",Ket=O.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=$In(RIn,n);return O.createElement(Jet,{asChild:!0},O.createElement(Ot.button,le({type:"button"},r,{ref:t,onClick:qe(e.onClick,i.onClose)})))}),Jet=O.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return O.createElement(Ot.div,le({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0},i,{ref:t}))});function ett(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),DIn(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const s=r.dataset.radixToastAnnounceAlt;s&&t.push(s)}else t.push(...ett(r))}}),t}function lM(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?tte(i,o):i.dispatchEvent(o)}const HEe=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),o=r>i;return t==="left"||t==="right"?o&&r>n:!o&&i>n};function AIn(e=()=>{}){const t=_a(e);Ca(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function DIn(e){return e.nodeType===e.ELEMENT_NODE}function NIn(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function bU(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}const MIn=Het,ttt=vIn,ntt=_In,rtt=kIn,itt=TIn,ott=Get,stt=Ket,IIn=MIn,att=O.forwardRef(({className:e,...t},n)=>b.jsx(ttt,{ref:n,className:ve("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));att.displayName=ttt.displayName;const LIn=Oo("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",danger:"group destructive text-error border-destructive bg-[var(--red-1)] shadow-smError"}},defaultVariants:{variant:"default"}}),ltt=O.forwardRef(({className:e,variant:t,...n},r)=>b.jsx(ntt,{ref:r,className:ve(LIn({variant:t}),e),...n}));ltt.displayName=ntt.displayName;const jIn=O.forwardRef(({className:e,...t},n)=>b.jsx(ott,{ref:n,className:ve("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));jIn.displayName=ott.displayName;const ctt=O.forwardRef(({className:e,...t},n)=>b.jsx(stt,{ref:n,className:ve("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-500 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:b.jsx(Fh,{className:"h-4 w-4"})}));ctt.displayName=stt.displayName;const utt=O.forwardRef(({className:e,...t},n)=>b.jsx(rtt,{ref:n,className:ve("text-sm font-semibold",e),...t}));utt.displayName=rtt.displayName;const ftt=O.forwardRef(({className:e,...t},n)=>b.jsx(itt,{ref:n,className:ve("text-sm opacity-90",e),...t}));ftt.displayName=itt.displayName;const ZEe=()=>{const{toasts:e}=Gyt();return b.jsxs(IIn,{children:[e.map(function({id:t,title:n,description:r,action:i,...o}){return b.jsxs(ltt,{...o,children:[b.jsxs("div",{className:"grid gap-1",children:[n&&b.jsx(utt,{children:n}),r&&b.jsx(ftt,{children:r})]}),i,b.jsx(ctt,{})]},t)}),b.jsx(att,{})]})};var Hi=function(){return Hi=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Hi.apply(this,arguments)};var dtt={exports:{}},Z$={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GEe;function FIn(){if(GEe)return Z$;GEe=1;var e=ie,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(a,l,c){var u,f={},d=null,h=null;c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),l.ref!==void 0&&(h=l.ref);for(u in l)r.call(l,u)&&!o.hasOwnProperty(u)&&(f[u]=l[u]);if(a&&a.defaultProps)for(u in l=a.defaultProps,l)f[u]===void 0&&(f[u]=l[u]);return{$$typeof:t,type:a,key:d,ref:h,props:f,_owner:i.current}}return Z$.Fragment=n,Z$.jsx=s,Z$.jsxs=s,Z$}dtt.exports=FIn();var htt=dtt.exports;function zIn(e){return e.mode==="multiple"}function QIn(e){return e.mode==="range"}function BIn(e){return e.mode==="single"}var WIn={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function VIn(e,t){return Zb(e,"LLLL y",t)}function UIn(e,t){return Zb(e,"d",t)}function qIn(e,t){return Zb(e,"LLLL",t)}function YIn(e){return"".concat(e)}function XIn(e,t){return Zb(e,"cccccc",t)}function HIn(e,t){return Zb(e,"yyyy",t)}var ZIn=Object.freeze({__proto__:null,formatCaption:VIn,formatDay:UIn,formatMonthCaption:qIn,formatWeekNumber:YIn,formatWeekdayName:XIn,formatYearCaption:HIn}),GIn=function(e,t,n){return Zb(e,"do MMMM (EEEE)",n)},KIn=function(){return"Month: "},JIn=function(){return"Go to next month"},e5n=function(){return"Go to previous month"},t5n=function(e,t){return Zb(e,"cccc",t)},n5n=function(e){return"Week n. ".concat(e)},r5n=function(){return"Year: "},i5n=Object.freeze({__proto__:null,labelDay:GIn,labelMonthDropdown:KIn,labelNext:JIn,labelPrevious:e5n,labelWeekNumber:n5n,labelWeekday:t5n,labelYearDropdown:r5n});function o5n(){var e="buttons",t=WIn,n=eFe,r={},i={},o=1,s={},a=new Date;return{captionLayout:e,classNames:t,formatters:ZIn,labels:i5n,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:o,styles:s,today:a,mode:"default"}}function s5n(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,i=e.toMonth,o=e.fromDate,s=e.toDate;return r?o=P3t(r):t&&(o=new Date(t,0,1)),i?s=T3t(i):n&&(s=new Date(n,11,31)),{fromDate:o?_3(o):void 0,toDate:s?_3(s):void 0}}var ptt=O.createContext(void 0);function a5n(e){var t,n=e.initialProps,r=o5n(),i=s5n(n),o=i.fromDate,s=i.toDate,a=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;a!=="buttons"&&(!o||!s)&&(a="buttons");var l;(BIn(n)||zIn(n)||QIn(n))&&(l=n.onSelect);var c=Hi(Hi(Hi({},r),n),{captionLayout:a,classNames:Hi(Hi({},r.classNames),n.classNames),components:Hi({},n.components),formatters:Hi(Hi({},r.formatters),n.formatters),fromDate:o,labels:Hi(Hi({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Hi(Hi({},r.modifiers),n.modifiers),modifiersClassNames:Hi(Hi({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:Hi(Hi({},r.styles),n.styles),toDate:s});return htt.jsx(ptt.Provider,{value:c,children:e.children})}function l5n(){var e=O.useContext(ptt);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}O.createContext(void 0);O.forwardRef(function(e,t){var n=l5n(),r=n.classNames,i=n.styles,o=[r.button_reset,r.button];e.className&&o.push(e.className);var s=o.join(" "),a=Hi(Hi({},i.button_reset),i.button);return e.style&&Object.assign(a,e.style),htt.jsx("button",Hi({},e,{ref:t,type:"button",className:s,style:a}))});O.createContext(void 0);O.createContext(void 0);var jh;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(jh||(jh={}));jh.Selected;jh.Disabled;jh.Hidden;jh.Today;jh.RangeEnd;jh.RangeMiddle;jh.RangeStart;jh.Outside;O.createContext(void 0);O.createContext(void 0);O.createContext(void 0);const{createElement:$_,createContext:c5n,createRef:CBn,forwardRef:gtt,useCallback:lc,useContext:mtt,useEffect:P1,useImperativeHandle:ytt,useLayoutEffect:u5n,useMemo:f5n,useRef:mc,useState:Kk}=Xw,KEe=Xw.useId,O9=c5n(null);O9.displayName="PanelGroupContext";const Vw=u5n,d5n=typeof KEe=="function"?KEe:()=>null;let h5n=0;function cde(e=null){const t=d5n(),n=mc(e||t||null);return n.current===null&&(n.current=""+h5n++),e??n.current}function vtt({children:e,className:t="",collapsedSize:n,collapsible:r,defaultSize:i,forwardedRef:o,id:s,maxSize:a,minSize:l,onCollapse:c,onExpand:u,onResize:f,order:d,style:h,tagName:p="div",...g}){const y=mtt(O9);if(y===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:v,expandPanel:x,getPanelSize:m,getPanelStyle:w,groupId:S,isPanelCollapsed:C,reevaluatePanelConstraints:$,registerPanel:E,resizePanel:R,unregisterPanel:N}=y,I=cde(s),j=mc({callbacks:{onCollapse:c,onExpand:u,onResize:f},constraints:{collapsedSize:n,collapsible:r,defaultSize:i,maxSize:a,minSize:l},id:I,idIsFromProps:s!==void 0,order:d});mc({didLogMissingDefaultSizeWarning:!1}),Vw(()=>{const{callbacks:T,constraints:D}=j.current,L={...D};j.current.id=I,j.current.idIsFromProps=s!==void 0,j.current.order=d,T.onCollapse=c,T.onExpand=u,T.onResize=f,D.collapsedSize=n,D.collapsible=r,D.defaultSize=i,D.maxSize=a,D.minSize=l,(L.collapsedSize!==D.collapsedSize||L.collapsible!==D.collapsible||L.maxSize!==D.maxSize||L.minSize!==D.minSize)&&$(j.current,L)}),Vw(()=>{const T=j.current;return E(T),()=>{N(T)}},[d,I,E,N]),ytt(o,()=>({collapse:()=>{v(j.current)},expand:()=>{x(j.current)},getId(){return I},getSize(){return m(j.current)},isCollapsed(){return C(j.current)},isExpanded(){return!C(j.current)},resize:T=>{R(j.current,T)}}),[v,x,m,C,I,R]);const A=w(j.current,i);return $_(p,{...g,children:e,className:t,style:{...A,...h},"data-panel":"","data-panel-id":I,"data-panel-group-id":S,"data-panel-collapsible":void 0,"data-panel-size":void 0})}const TJ=gtt((e,t)=>$_(vtt,{...e,forwardedRef:t}));vtt.displayName="Panel";TJ.displayName="forwardRef(Panel)";let PJ=null,a1=null;function p5n(e,t){if(t){const n=(t&wtt)!==0,r=(t&Stt)!==0,i=(t&_tt)!==0,o=(t&Ctt)!==0;if(n)return i?"se-resize":o?"ne-resize":"e-resize";if(r)return i?"sw-resize":o?"nw-resize":"w-resize";if(i)return"s-resize";if(o)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function g5n(){a1!==null&&(document.head.removeChild(a1),PJ=null,a1=null)}function OU(e,t){const n=p5n(e,t);PJ!==n&&(PJ=n,a1===null&&(a1=document.createElement("style"),document.head.appendChild(a1)),a1.innerHTML=`*{cursor: ${n}!important;}`)}function btt(e){return e.type==="keydown"}function Ott(e){return e.type.startsWith("mouse")}function xtt(e){return e.type.startsWith("touch")}function x9(e){if(Ott(e))return{x:e.pageX,y:e.pageY};if(xtt(e)){const t=e.touches[0];if(t&&t.pageX&&t.pageY)return{x:t.pageX,y:t.pageY}}return{x:1/0,y:1/0}}function m5n(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}const wtt=1,Stt=2,_tt=4,Ctt=8,y5n=m5n()==="coarse";let _g=[],EA=!1,Mm=new Map,w9=new Map;const SF=new Set;function $tt(e,t,n,r,i){var o;const{ownerDocument:s}=t,a={direction:n,element:t,hitAreaMargins:r,setResizeHandlerState:i},l=(o=Mm.get(s))!==null&&o!==void 0?o:0;return Mm.set(s,l+1),SF.add(a),_F(),function(){var u;w9.delete(e),SF.delete(a);const f=(u=Mm.get(s))!==null&&u!==void 0?u:1;Mm.set(s,f-1),_F(),f===1&&Mm.delete(s)}}function cM(e){const{x:t,y:n}=x9(e);EA=!0,ude({x:t,y:n}),_F(),_g.length>0&&(fde("down",e),e.preventDefault())}function am(e){const{x:t,y:n}=x9(e);EA?(_g.forEach(r=>{const{setResizeHandlerState:i}=r;i("move","drag",e)}),RJ()):(ude({x:t,y:n}),fde("move",e),RJ()),_g.length>0&&e.preventDefault()}function lm(e){const{x:t,y:n}=x9(e);w9.clear(),EA=!1,_g.length>0&&e.preventDefault(),ude({x:t,y:n}),fde("up",e),RJ(),_F()}function ude({x:e,y:t}){_g.splice(0),SF.forEach(n=>{const{element:r,hitAreaMargins:i}=n,{bottom:o,left:s,right:a,top:l}=r.getBoundingClientRect(),c=y5n?i.coarse:i.fine;e>=s-c&&e<=a+c&&t>=l-c&&t<=o+c&&_g.push(n)})}function xU(e,t){w9.set(e,t)}function RJ(){let e=!1,t=!1;_g.forEach(r=>{const{direction:i}=r;i==="horizontal"?e=!0:t=!0});let n=0;w9.forEach(r=>{n|=r}),e&&t?OU("intersection",n):e?OU("horizontal",n):t?OU("vertical",n):g5n()}function _F(){Mm.forEach((e,t)=>{const{body:n}=t;n.removeEventListener("contextmenu",lm),n.removeEventListener("mousedown",cM),n.removeEventListener("mouseleave",am),n.removeEventListener("mousemove",am),n.removeEventListener("touchmove",am),n.removeEventListener("touchstart",cM)}),window.removeEventListener("mouseup",lm),window.removeEventListener("touchcancel",lm),window.removeEventListener("touchend",lm),$tt.length>0&&(EA?(_g.length>0&&Mm.forEach((e,t)=>{const{body:n}=t;e>0&&(n.addEventListener("contextmenu",lm),n.addEventListener("mouseleave",am),n.addEventListener("mousemove",am),n.addEventListener("touchmove",am,{passive:!1}))}),window.addEventListener("mouseup",lm),window.addEventListener("touchcancel",lm),window.addEventListener("touchend",lm)):Mm.forEach((e,t)=>{const{body:n}=t;e>0&&(n.addEventListener("mousedown",cM),n.addEventListener("mousemove",am),n.addEventListener("touchmove",am,{passive:!1}),n.addEventListener("touchstart",cM))}))}function fde(e,t){SF.forEach(n=>{const{setResizeHandlerState:r}=n;_g.includes(n)?EA?r(e,"drag",t):r(e,"hover",t):r(e,"inactive",t)})}function On(e,t="Assertion failed!"){if(!e)throw console.error(t),Error(t)}const Ett=10;function SP(e,t,n=Ett){e=parseFloat(e.toFixed(n)),t=parseFloat(t.toFixed(n));const r=e-t;return r===0?0:r>0?1:-1}function fc(e,t,n){return SP(e,t,n)===0}function ow({panelConstraints:e,panelIndex:t,size:n}){const r=e[t];On(r!=null);let{collapsedSize:i=0,collapsible:o,maxSize:s=100,minSize:a=0}=r;if(SP(n,a)<0)if(o){const l=(i+a)/2;SP(n,l)<0?n=i:n=a}else n=a;return n=Math.min(s,n),n=parseFloat(n.toFixed(Ett)),n}function YE({delta:e,layout:t,panelConstraints:n,pivotIndices:r,trigger:i}){if(fc(e,0))return t;const o=[...t],[s,a]=r;On(s!=null),On(a!=null);let l=0;if(i==="keyboard"){{const u=e<0?a:s,f=n[u];if(On(f),f.collapsible){const d=t[u];On(d!=null);const h=n[u];On(h);const{collapsedSize:p=0,minSize:g=0}=h;if(fc(d,p)){const y=g-d;SP(y,Math.abs(e))>0&&(e=e<0?0-y:y)}}}{const u=e<0?s:a,f=n[u];On(f);const{collapsible:d}=f;if(d){const h=t[u];On(h!=null);const p=n[u];On(p);const{collapsedSize:g=0,minSize:y=0}=p;if(fc(h,y)){const v=h-g;SP(v,Math.abs(e))>0&&(e=e<0?0-v:v)}}}}{const u=e<0?1:-1;let f=e<0?a:s,d=0;for(;;){const p=t[f];On(p!=null);const y=ow({panelConstraints:n,panelIndex:f,size:100})-p;if(d+=y,f+=u,f<0||f>=n.length)break}const h=Math.min(Math.abs(e),Math.abs(d));e=e<0?0-h:h}{let f=e<0?s:a;for(;f>=0&&f<n.length;){const d=Math.abs(e)-Math.abs(l),h=t[f];On(h!=null);const p=h-d,g=ow({panelConstraints:n,panelIndex:f,size:p});if(!fc(h,g)&&(l+=h-g,o[f]=g,l.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?f--:f++}}if(fc(l,0))return t;{const u=e<0?a:s,f=t[u];On(f!=null);const d=f+l,h=ow({panelConstraints:n,panelIndex:u,size:d});if(o[u]=h,!fc(h,d)){let p=d-h,y=e<0?a:s;for(;y>=0&&y<n.length;){const v=o[y];On(v!=null);const x=v+p,m=ow({panelConstraints:n,panelIndex:y,size:x});if(fc(v,m)||(p-=m-v,o[y]=m),fc(p,0))break;e>0?y--:y++}}}const c=o.reduce((u,f)=>f+u,0);return fc(c,100)?o:t}function v5n({layout:e,panelsArray:t,pivotIndices:n}){let r=0,i=100,o=0,s=0;const a=n[0];On(a!=null),t.forEach((f,d)=>{const{constraints:h}=f,{maxSize:p=100,minSize:g=0}=h;d===a?(r=g,i=p):(o+=g,s+=p)});const l=Math.min(i,100-o),c=Math.max(r,100-s),u=e[a];return{valueMax:l,valueMin:c,valueNow:u}}function _P(e,t=document){return Array.from(t.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${e}"]`))}function ktt(e,t,n=document){const i=_P(e,n).findIndex(o=>o.getAttribute("data-panel-resize-handle-id")===t);return i??null}function Ttt(e,t,n){const r=ktt(e,t,n);return r!=null?[r,r+1]:[-1,-1]}function Ptt(e,t=document){var n;if(t instanceof HTMLElement&&(t==null||(n=t.dataset)===null||n===void 0?void 0:n.panelGroupId)==e)return t;const r=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return r||null}function S9(e,t=document){const n=t.querySelector(`[data-panel-resize-handle-id="${e}"]`);return n||null}function b5n(e,t,n,r=document){var i,o,s,a;const l=S9(t,r),c=_P(e,r),u=l?c.indexOf(l):-1,f=(i=(o=n[u])===null||o===void 0?void 0:o.id)!==null&&i!==void 0?i:null,d=(s=(a=n[u+1])===null||a===void 0?void 0:a.id)!==null&&s!==void 0?s:null;return[f,d]}function O5n({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:r,panelDataArray:i,panelGroupElement:o,setLayout:s}){mc({didWarnAboutMissingResizeHandle:!1}),Vw(()=>{if(!o)return;const a=_P(n,o);for(let l=0;l<i.length-1;l++){const{valueMax:c,valueMin:u,valueNow:f}=v5n({layout:r,panelsArray:i,pivotIndices:[l,l+1]}),d=a[l];if(d!=null){const h=i[l];On(h),d.setAttribute("aria-controls",h.id),d.setAttribute("aria-valuemax",""+Math.round(c)),d.setAttribute("aria-valuemin",""+Math.round(u)),d.setAttribute("aria-valuenow",f!=null?""+Math.round(f):"")}}return()=>{a.forEach((l,c)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[n,r,i,o]),P1(()=>{if(!o)return;const a=t.current;On(a);const{panelDataArray:l}=a,c=Ptt(n,o);On(c!=null,`No group found for id "${n}"`);const u=_P(n,o);On(u);const f=u.map(d=>{const h=d.getAttribute("data-panel-resize-handle-id");On(h);const[p,g]=b5n(n,h,l,o);if(p==null||g==null)return()=>{};const y=v=>{if(!v.defaultPrevented)switch(v.key){case"Enter":{v.preventDefault();const x=l.findIndex(m=>m.id===p);if(x>=0){const m=l[x];On(m);const w=r[x],{collapsedSize:S=0,collapsible:C,minSize:$=0}=m.constraints;if(w!=null&&C){const E=YE({delta:fc(w,S)?$-S:S-w,layout:r,panelConstraints:l.map(R=>R.constraints),pivotIndices:Ttt(n,h,o),trigger:"keyboard"});r!==E&&s(E)}}break}}};return d.addEventListener("keydown",y),()=>{d.removeEventListener("keydown",y)}});return()=>{f.forEach(d=>d())}},[o,e,t,n,r,i,s])}function JEe(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Rtt(e,t){const n=e==="horizontal",{x:r,y:i}=x9(t);return n?r:i}function x5n(e,t,n,r,i){const o=n==="horizontal",s=S9(t,i);On(s);const a=s.getAttribute("data-panel-group-id");On(a);let{initialCursorPosition:l}=r;const c=Rtt(n,e),u=Ptt(a,i);On(u);const f=u.getBoundingClientRect(),d=o?f.width:f.height;return(c-l)/d*100}function w5n(e,t,n,r,i,o){if(btt(e)){const s=n==="horizontal";let a=0;e.shiftKey?a=100:i!=null?a=i:a=10;let l=0;switch(e.key){case"ArrowDown":l=s?0:a;break;case"ArrowLeft":l=s?-a:0;break;case"ArrowRight":l=s?a:0;break;case"ArrowUp":l=s?0:-a;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return r==null?0:x5n(e,t,n,r,o)}function S5n({panelDataArray:e}){const t=Array(e.length),n=e.map(o=>o.constraints);let r=0,i=100;for(let o=0;o<e.length;o++){const s=n[o];On(s);const{defaultSize:a}=s;a!=null&&(r++,t[o]=a,i-=a)}for(let o=0;o<e.length;o++){const s=n[o];On(s);const{defaultSize:a}=s;if(a!=null)continue;const l=e.length-r,c=i/l;r++,t[o]=c,i-=c}return t}function cx(e,t,n){t.forEach((r,i)=>{const o=e[i];On(o);const{callbacks:s,constraints:a,id:l}=o,{collapsedSize:c=0,collapsible:u}=a,f=n[l];if(f==null||r!==f){n[l]=r;const{onCollapse:d,onExpand:h,onResize:p}=s;p&&p(r,f),u&&(d||h)&&(h&&(f==null||f===c)&&r!==c&&h(),d&&(f==null||f!==c)&&r===c&&d())}})}function uM(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function _5n({defaultSize:e,dragState:t,layout:n,panelData:r,panelIndex:i,precision:o=3}){const s=n[i];let a;return s==null?a=e??"1":r.length===1?a="1":a=s.toPrecision(o),{flexBasis:0,flexGrow:a,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function C5n(e,t=10){let n=null;return(...i)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...i)},t)}}function eke(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function Att(e){return`react-resizable-panels:${e}`}function Dtt(e){return e.map(t=>{const{constraints:n,id:r,idIsFromProps:i,order:o}=t;return i?r:o?`${o}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function Ntt(e,t){try{const n=Att(e),r=t.getItem(n);if(r){const i=JSON.parse(r);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function $5n(e,t,n){var r,i;const o=(r=Ntt(e,n))!==null&&r!==void 0?r:{},s=Dtt(t);return(i=o[s])!==null&&i!==void 0?i:null}function E5n(e,t,n,r,i){var o;const s=Att(e),a=Dtt(t),l=(o=Ntt(e,i))!==null&&o!==void 0?o:{};l[a]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{i.setItem(s,JSON.stringify(l))}catch(c){console.error(c)}}function tke({layout:e,panelConstraints:t}){const n=[...e],r=n.reduce((o,s)=>o+s,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(o=>`${o}%`).join(", ")}`);if(!fc(r,100))for(let o=0;o<t.length;o++){const s=n[o];On(s!=null);const a=100/r*s;n[o]=a}let i=0;for(let o=0;o<t.length;o++){const s=n[o];On(s!=null);const a=ow({panelConstraints:t,panelIndex:o,size:s});s!=a&&(i+=s-a,n[o]=a)}if(!fc(i,0))for(let o=0;o<t.length;o++){const s=n[o];On(s!=null);const a=s+i,l=ow({panelConstraints:t,panelIndex:o,size:a});if(s!==l&&(i-=l-s,n[o]=l,fc(i,0)))break}return n}const k5n=100,XE={getItem:e=>(eke(XE),XE.getItem(e)),setItem:(e,t)=>{eke(XE),XE.setItem(e,t)}},nke={};function Mtt({autoSaveId:e=null,children:t,className:n="",direction:r,forwardedRef:i,id:o=null,onLayout:s=null,keyboardResizeBy:a=null,storage:l=XE,style:c,tagName:u="div",...f}){const d=cde(o),h=mc(null),[p,g]=Kk(null),[y,v]=Kk([]),x=mc({}),m=mc(new Map),w=mc(0),S=mc({autoSaveId:e,direction:r,dragState:p,id:d,keyboardResizeBy:a,onLayout:s,storage:l}),C=mc({layout:y,panelDataArray:[],panelDataArrayChanged:!1});mc({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),ytt(i,()=>({getId:()=>S.current.id,getLayout:()=>{const{layout:U}=C.current;return U},setLayout:U=>{const{onLayout:q}=S.current,{layout:Z,panelDataArray:oe}=C.current,ce=tke({layout:U,panelConstraints:oe.map(re=>re.constraints)});JEe(Z,ce)||(v(ce),C.current.layout=ce,q&&q(ce),cx(oe,ce,x.current))}}),[]),Vw(()=>{S.current.autoSaveId=e,S.current.direction=r,S.current.dragState=p,S.current.id=d,S.current.onLayout=s,S.current.storage=l}),O5n({committedValuesRef:S,eagerValuesRef:C,groupId:d,layout:y,panelDataArray:C.current.panelDataArray,setLayout:v,panelGroupElement:h.current}),P1(()=>{const{panelDataArray:U}=C.current;if(e){if(y.length===0||y.length!==U.length)return;let q=nke[e];q==null&&(q=C5n(E5n,k5n),nke[e]=q);const Z=[...U],oe=new Map(m.current);q(e,Z,oe,y,l)}},[e,y,l]),P1(()=>{});const $=lc(U=>{const{onLayout:q}=S.current,{layout:Z,panelDataArray:oe}=C.current;if(U.constraints.collapsible){const ce=oe.map(ue=>ue.constraints),{collapsedSize:re=0,panelSize:fe,pivotIndices:ae}=mv(oe,U,Z);if(On(fe!=null),fe!==re){m.current.set(U.id,fe);const me=Rx(oe,U)===oe.length-1?fe-re:re-fe,ne=YE({delta:me,layout:Z,panelConstraints:ce,pivotIndices:ae,trigger:"imperative-api"});uM(Z,ne)||(v(ne),C.current.layout=ne,q&&q(ne),cx(oe,ne,x.current))}}},[]),E=lc(U=>{const{onLayout:q}=S.current,{layout:Z,panelDataArray:oe}=C.current;if(U.constraints.collapsible){const ce=oe.map(me=>me.constraints),{collapsedSize:re=0,panelSize:fe,minSize:ae=0,pivotIndices:ue}=mv(oe,U,Z);if(fe===re){const me=m.current.get(U.id),ne=me!=null&&me>=ae?me:ae,_e=Rx(oe,U)===oe.length-1?fe-ne:ne-fe,ke=YE({delta:_e,layout:Z,panelConstraints:ce,pivotIndices:ue,trigger:"imperative-api"});uM(Z,ke)||(v(ke),C.current.layout=ke,q&&q(ke),cx(oe,ke,x.current))}}},[]),R=lc(U=>{const{layout:q,panelDataArray:Z}=C.current,{panelSize:oe}=mv(Z,U,q);return On(oe!=null),oe},[]),N=lc((U,q)=>{const{panelDataArray:Z}=C.current,oe=Rx(Z,U);return _5n({defaultSize:q,dragState:p,layout:y,panelData:Z,panelIndex:oe})},[p,y]),I=lc(U=>{const{layout:q,panelDataArray:Z}=C.current,{collapsedSize:oe=0,collapsible:ce,panelSize:re}=mv(Z,U,q);return ce===!0&&re===oe},[]),j=lc(U=>{const{layout:q,panelDataArray:Z}=C.current,{collapsedSize:oe=0,collapsible:ce,panelSize:re}=mv(Z,U,q);return On(re!=null),!ce||re>oe},[]),A=lc(U=>{const{panelDataArray:q}=C.current;q.push(U),q.sort((Z,oe)=>{const ce=Z.order,re=oe.order;return ce==null&&re==null?0:ce==null?-1:re==null?1:ce-re}),C.current.panelDataArrayChanged=!0},[]);Vw(()=>{if(C.current.panelDataArrayChanged){C.current.panelDataArrayChanged=!1;const{autoSaveId:U,onLayout:q,storage:Z}=S.current,{layout:oe,panelDataArray:ce}=C.current;let re=null;if(U){const ae=$5n(U,ce,Z);ae&&(m.current=new Map(Object.entries(ae.expandToSizes)),re=ae.layout)}re==null&&(re=S5n({panelDataArray:ce}));const fe=tke({layout:re,panelConstraints:ce.map(ae=>ae.constraints)});JEe(oe,fe)||(v(fe),C.current.layout=fe,q&&q(fe),cx(ce,fe,x.current))}}),Vw(()=>{const U=C.current;return()=>{U.layout=[]}},[]);const T=lc(U=>function(Z){Z.preventDefault();const oe=h.current;if(!oe)return()=>null;const{direction:ce,dragState:re,id:fe,keyboardResizeBy:ae,onLayout:ue}=S.current,{layout:me,panelDataArray:ne}=C.current,{initialLayout:Le}=re??{},_e=Ttt(fe,U,oe);let ke=w5n(Z,U,ce,re,ae,oe);if(ke===0)return;const ze=ce==="horizontal";document.dir==="rtl"&&ze&&(ke=-ke);const Je=ne.map(ge=>ge.constraints),Be=YE({delta:ke,layout:Le??me,panelConstraints:Je,pivotIndices:_e,trigger:btt(Z)?"keyboard":"mouse-or-touch"}),K=!uM(me,Be);(Ott(Z)||xtt(Z))&&w.current!=ke&&(w.current=ke,K?xU(U,0):ze?xU(U,ke<0?wtt:Stt):xU(U,ke<0?_tt:Ctt)),K&&(v(Be),C.current.layout=Be,ue&&ue(Be),cx(ne,Be,x.current))},[]),D=lc((U,q)=>{const{onLayout:Z}=S.current,{layout:oe,panelDataArray:ce}=C.current,re=ce.map(Le=>Le.constraints),{panelSize:fe,pivotIndices:ae}=mv(ce,U,oe);On(fe!=null);const me=Rx(ce,U)===ce.length-1?fe-q:q-fe,ne=YE({delta:me,layout:oe,panelConstraints:re,pivotIndices:ae,trigger:"imperative-api"});uM(oe,ne)||(v(ne),C.current.layout=ne,Z&&Z(ne),cx(ce,ne,x.current))},[]),L=lc((U,q)=>{const{layout:Z,panelDataArray:oe}=C.current,{collapsedSize:ce=0,collapsible:re}=q,{collapsedSize:fe=0,collapsible:ae,maxSize:ue=100,minSize:me=0}=U.constraints,{panelSize:ne}=mv(oe,U,Z);On(ne!=null),re&&ae&&ne===ce?ce!==fe&&D(U,fe):ne<me?D(U,me):ne>ue&&D(U,ue)},[D]),W=lc((U,q)=>{const{direction:Z}=S.current,{layout:oe}=C.current;if(!h.current)return;const ce=S9(U,h.current);On(ce);const re=Rtt(Z,q);g({dragHandleId:U,dragHandleRect:ce.getBoundingClientRect(),initialCursorPosition:re,initialLayout:oe})},[]),V=lc(()=>{g(null)},[]),Q=lc(U=>{const{panelDataArray:q}=C.current,Z=Rx(q,U);Z>=0&&(q.splice(Z,1),delete x.current[U.id],C.current.panelDataArrayChanged=!0)},[]),B=f5n(()=>({collapsePanel:$,direction:r,dragState:p,expandPanel:E,getPanelSize:R,getPanelStyle:N,groupId:d,isPanelCollapsed:I,isPanelExpanded:j,reevaluatePanelConstraints:L,registerPanel:A,registerResizeHandle:T,resizePanel:D,startDragging:W,stopDragging:V,unregisterPanel:Q,panelGroupElement:h.current}),[$,p,r,E,R,N,d,I,j,L,A,T,D,W,V,Q]),Y={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return $_(O9.Provider,{value:B},$_(u,{...f,children:t,className:n,style:{...Y,...c},ref:h,"data-panel-group":"","data-panel-group-direction":r,"data-panel-group-id":d}))}const Itt=gtt((e,t)=>$_(Mtt,{...e,forwardedRef:t}));Mtt.displayName="PanelGroup";Itt.displayName="forwardRef(PanelGroup)";function Rx(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function mv(e,t,n){const r=Rx(e,t),o=r===e.length-1?[r-1,r]:[r,r+1],s=n[r];return{...t.constraints,panelSize:s,pivotIndices:o}}function T5n({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:r}){P1(()=>{if(e||n==null||r==null)return;const i=S9(t,r);if(i==null)return;const o=s=>{if(!s.defaultPrevented)switch(s.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{s.preventDefault(),n(s);break}case"F6":{s.preventDefault();const a=i.getAttribute("data-panel-group-id");On(a);const l=_P(a,r),c=ktt(a,t,r);On(c!==null);const u=s.shiftKey?c>0?c-1:l.length-1:c+1<l.length?c+1:0;l[u].focus();break}}};return i.addEventListener("keydown",o),()=>{i.removeEventListener("keydown",o)}},[r,e,t,n])}function Ltt({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:r,id:i,onDragging:o,style:s={},tabIndex:a=0,tagName:l="div",...c}){const u=mc(null),f=mc({onDragging:o});P1(()=>{f.current.onDragging=o});const d=mtt(O9);if(d===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:h,groupId:p,registerResizeHandle:g,startDragging:y,stopDragging:v,panelGroupElement:x}=d,m=cde(i),[w,S]=Kk("inactive"),[C,$]=Kk(!1),[E,R]=Kk(null);return P1(()=>{if(n)R(null);else{const I=g(m);R(()=>I)}},[n,m,g]),P1(()=>{var I,j;if(n||E==null)return;const A=u.current;On(A);const T=(D,L,W)=>{switch(S(L),D){case"down":{y(m,W);const{onDragging:V}=f.current;V&&V(!0);break}case"up":{v();const{onDragging:V}=f.current;V&&V(!1);break}}switch(L){case"drag":{E(W);break}}};return $tt(m,A,h,{coarse:(I=r==null?void 0:r.coarse)!==null&&I!==void 0?I:15,fine:(j=r==null?void 0:r.fine)!==null&&j!==void 0?j:5},T)},[h,n,r,g,m,E,y,v]),T5n({disabled:n,handleId:m,resizeHandler:E,panelGroupElement:x}),$_(l,{...c,children:e,className:t,onBlur:()=>$(!1),onFocus:()=>$(!0),ref:u,role:"separator",style:{...{touchAction:"none",userSelect:"none"},...s},tabIndex:a,"data-panel-group-direction":h,"data-panel-group-id":p,"data-resize-handle":"","data-resize-handle-active":w==="drag"?"pointer":C?"keyboard":void 0,"data-resize-handle-state":w,"data-panel-resize-handle-enabled":!n,"data-panel-resize-handle-id":m})}Ltt.displayName="PanelResizeHandle";const P5n=({children:e})=>{const{openModal:t,closeModal:n}=K0();return b.jsx(qf,{onClick:()=>t(b.jsx(A5n,{onClose:n})),children:e})},R5n={"":1,"":2,"":3,"":4,"":5},A5n=({onClose:e})=>b.jsx(P0,{className:"w-fit",children:b.jsxs("form",{onSubmit:async t=>{t.preventDefault();const n=new FormData(t.target),r=n.get("rating"),i=n.get("message");fetch("https://marimo.io/api/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rating:r,message:i})}),e(),Yr({title:"Feedback sent!",description:"Thank you for your feedback!"})},children:[b.jsxs(w6,{children:[b.jsx(qb,{children:"Send Feedback"}),b.jsxs(dS,{children:["Let us know what you think about marimo! If you have a bug that you would like to report, please use the"," ",b.jsx("a",{href:JJe.issuesPage,target:"_blank",rel:"noreferrer",className:"underline",children:"GitHub issue tracker"}),"."]}),b.jsx(dS,{children:"Your feedback is anonymous and will help us improve marimo. Thank you!"})]}),b.jsxs("div",{className:"flex flex-col gap-6 py-4",children:[b.jsx("div",{className:"flex gap-5 justify-center",children:Object.entries(R5n).map(([t,n])=>b.jsxs("label",{className:"flex flex-col items-center select-none",children:[b.jsx("input",{type:"radio",className:"peer hidden",name:"rating",value:n,"aria-label":t},t),b.jsx("span",{className:"text-4xl peer-checked:opacity-100 opacity-40 cursor-pointer",children:t})]},t))}),b.jsx(T6,{id:"message",name:"message",autoFocus:!0,placeholder:"Your feedback",rows:5,required:!0,autoComplete:"off"})]}),b.jsxs(tR,{children:[b.jsx(zt,{variant:"secondary",onClick:e,children:"Cancel"}),b.jsx(zt,{"aria-label":"Save",variant:"default",type:"submit",children:"Send"})]})]})}),D5n=()=>{const{selectedPanel:e}=Vet(),{openApplication:t}=ade(),n=us(zjt);return b.jsxs("footer",{className:"h-10 py-2 bg-background flex items-center text-muted-foreground text-md px-4 border-t border-border select-none no-print text-sm shadow-[0_0_4px_1px_rgba(0,0,0,0.1)] z-50",children:[b.jsxs(cm,{tooltip:"View errors",selected:e==="errors",onClick:()=>t("errors"),children:[b.jsx(NNe,{className:ve("h-5 w-5 mr-1",{"text-destructive":n>0})}),b.jsx("span",{className:"font-mono mt-[0.125rem]",children:n})]}),b.jsx(cm,{tooltip:"View files",selected:e==="files",onClick:()=>t("files"),children:b.jsx(l1t,{className:ve("h-5 w-5")})}),b.jsx(cm,{tooltip:"Explore variables",selected:e==="variables",onClick:()=>t("variables"),children:b.jsx(K4,{className:ve("h-5 w-5 ")})}),b.jsx(cm,{tooltip:"Explore dependencies",selected:e==="dependencies",onClick:()=>t("dependencies"),children:b.jsx(k1t,{className:ve("h-5 w-5")})}),b.jsx(cm,{tooltip:"View outline",selected:e==="outline",onClick:()=>t("outline"),children:b.jsx(PNe,{className:ve("h-5 w-5")})}),b.jsx(cm,{tooltip:"View documentation",selected:e==="documentation",onClick:()=>t("documentation"),children:b.jsx(ine,{className:ve("h-5 w-5")})}),b.jsx(cm,{tooltip:"Notebook logs",selected:e==="logs",onClick:()=>t("logs"),children:b.jsx(ane,{className:ve("h-5 w-5")})}),b.jsx(P5n,{children:b.jsx(cm,{tooltip:"Send feedback!",selected:!1,children:b.jsx(_1t,{className:"h-5 w-5"})})}),b.jsx("div",{className:"mx-auto"})]})},cm=({children:e,tooltip:t,selected:n,className:r,...i})=>b.jsx(tn,{content:t,side:"top",children:b.jsx("div",{className:ve("h-full flex items-center p-2 text-sm mx-[1px] shadow-inset font-mono cursor-pointer rounded",!n&&"hover:bg-[var(--sage-3)]",n&&"bg-[var(--sage-4)]",r),...i,children:e})}),rke=H.record(H.tuple([H.number(),H.number()]));let G$=null;function N5n(e){return{getItem(t){if(!G$)return G$??null;if(e==="left")return G$;try{const n=rke.parse(JSON.parse(G$));return JSON.stringify(wn.mapValues(n,r=>r.reverse()))}catch{return null}},setItem(t,n){if(e!=="left")try{const r=rke.parse(JSON.parse(n));n=JSON.stringify(wn.mapValues(r,i=>i.reverse()))}catch{return null}G$=n||null}}}const M5n=()=>{const e=Wjt();return e.length===0?b.jsxs("div",{className:"mx-6 my-6 flex flex-row gap-2 items-center rounded-lg",children:[b.jsx(T1t,{className:"text-accent-foreground"}),b.jsxs("span",{className:"mt-[0.25rem] text-accent-foreground",children:[" ","No errors!"," "]})]}):b.jsx("div",{className:"flex flex-col overflow-auto",children:e.map(t=>b.jsxs("div",{children:[b.jsx("div",{className:"text-xs font-mono font-semibold bg-muted border-y px-2 py-1",children:b.jsx(dm,{cellId:t.cellId})}),b.jsx("div",{className:"px-2",children:b.jsx(QFe,{errors:t.output.data},t.cellId)},t.cellId)]},t.cellId))})},I5n=()=>{const e=us(Fjt);if(e.items.length===0)return b.jsxs("div",{className:"mx-6 my-6 flex flex-row gap-2 items-center rounded-lg",children:[b.jsx(PNe,{className:"text-muted-foreground"}),b.jsx("span",{className:"mt-[0.25rem] text-muted-foreground",children:"No outline"})]});const t=(r,i)=>{const s=document.querySelectorAll(`[id="${CSS.escape(r)}"]`)[i];s&&(s.scrollIntoView({behavior:"smooth",block:"start"}),s.classList.add("outline-item-highlight"),setTimeout(()=>{s.classList.remove("outline-item-highlight")},3e3))},n=new Map;return b.jsx("div",{className:"flex flex-col overflow-auto py-4 pl-2",children:e.items.map(r=>{const i=n.get(r.id)??0;return n.set(r.id,i+1),b.jsx("div",{className:ve("px-2 py-1 cursor-pointer hover:bg-accent/50 hover:text-accent-foreground rounded-l",r.level===1&&"font-semibold",r.level===2&&"ml-3",r.level===3&&"ml-6",r.level===4&&"ml-9"),onClick:()=>t(r.id,i),children:r.name},r.id)})})};function Ju(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Ju(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}const{useDebugValue:L5n}=ie,{useSyncExternalStoreWithSelector:j5n}=cDe,F5n=e=>e;function jtt(e,t=F5n,n){const r=j5n(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return L5n(r),r}const ike=(e,t)=>{const n=kte(e),r=(i,o=t)=>jtt(n,i,o);return Object.assign(r,n),r},z5n=(e,t)=>e?ike(e,t):ike;function Xl(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}var AJ="http://www.w3.org/1999/xhtml";const oke={svg:"http://www.w3.org/2000/svg",xhtml:AJ,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function _9(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),oke.hasOwnProperty(t)?{space:oke[t],local:e}:e}function Q5n(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===AJ&&t.documentElement.namespaceURI===AJ?t.createElement(e):t.createElementNS(n,e)}}function B5n(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ftt(e){var t=_9(e);return(t.local?B5n:Q5n)(t)}function W5n(){}function dde(e){return e==null?W5n:function(){return this.querySelector(e)}}function V5n(e){typeof e!="function"&&(e=dde(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),l,c,u=0;u<s;++u)(l=o[u])&&(c=e.call(l,l.__data__,u,o))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new Wc(r,this._parents)}function U5n(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function q5n(){return[]}function ztt(e){return e==null?q5n:function(){return this.querySelectorAll(e)}}function Y5n(e){return function(){return U5n(e.apply(this,arguments))}}function X5n(e){typeof e=="function"?e=Y5n(e):e=ztt(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&(r.push(e.call(l,l.__data__,c,s)),i.push(l));return new Wc(r,i)}function Qtt(e){return function(){return this.matches(e)}}function Btt(e){return function(t){return t.matches(e)}}var H5n=Array.prototype.find;function Z5n(e){return function(){return H5n.call(this.children,e)}}function G5n(){return this.firstElementChild}function K5n(e){return this.select(e==null?G5n:Z5n(typeof e=="function"?e:Btt(e)))}var J5n=Array.prototype.filter;function e3n(){return Array.from(this.children)}function t3n(e){return function(){return J5n.call(this.children,e)}}function n3n(e){return this.selectAll(e==null?e3n:t3n(typeof e=="function"?e:Btt(e)))}function r3n(e){typeof e!="function"&&(e=Qtt(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new Wc(r,this._parents)}function Wtt(e){return new Array(e.length)}function i3n(){return new Wc(this._enter||this._groups.map(Wtt),this._parents)}function CF(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}CF.prototype={constructor:CF,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function o3n(e){return function(){return e}}function s3n(e,t,n,r,i,o){for(var s=0,a,l=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new CF(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function a3n(e,t,n,r,i,o,s){var a,l,c=new Map,u=t.length,f=o.length,d=new Array(u),h;for(a=0;a<u;++a)(l=t[a])&&(d[a]=h=s.call(l,l.__data__,a,t)+"",c.has(h)?i[a]=l:c.set(h,l));for(a=0;a<f;++a)h=s.call(e,o[a],a,o)+"",(l=c.get(h))?(r[a]=l,l.__data__=o[a],c.delete(h)):n[a]=new CF(e,o[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(d[a])===l&&(i[a]=l)}function l3n(e){return e.__data__}function c3n(e,t){if(!arguments.length)return Array.from(this,l3n);var n=t?a3n:s3n,r=this._parents,i=this._groups;typeof e!="function"&&(e=o3n(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],f=i[c],d=f.length,h=u3n(e.call(u,u&&u.__data__,c,r)),p=h.length,g=a[c]=new Array(p),y=s[c]=new Array(p),v=l[c]=new Array(d);n(u,f,g,y,v,h,t);for(var x=0,m=0,w,S;x<p;++x)if(w=g[x]){for(x>=m&&(m=x+1);!(S=y[m])&&++m<p;);w._next=S||null}}return s=new Wc(s,r),s._enter=a,s._exit=l,s}function u3n(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function f3n(){return new Wc(this._exit||this._groups.map(Wtt),this._parents)}function d3n(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function h3n(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var c=n[l],u=r[l],f=c.length,d=a[l]=new Array(f),h,p=0;p<f;++p)(h=c[p]||u[p])&&(d[p]=h);for(;l<i;++l)a[l]=n[l];return new Wc(a,this._parents)}function p3n(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function g3n(e){e||(e=m3n);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),c,u=0;u<a;++u)(c=s[u])&&(l[u]=c);l.sort(t)}return new Wc(i,this._parents).order()}function m3n(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function y3n(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function v3n(){return Array.from(this)}function b3n(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function O3n(){let e=0;for(const t of this)++e;return e}function x3n(){return!this.node()}function w3n(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function S3n(e){return function(){this.removeAttribute(e)}}function _3n(e){return function(){this.removeAttributeNS(e.space,e.local)}}function C3n(e,t){return function(){this.setAttribute(e,t)}}function $3n(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function E3n(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function k3n(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function T3n(e,t){var n=_9(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?_3n:S3n:typeof t=="function"?n.local?k3n:E3n:n.local?$3n:C3n)(n,t))}function Vtt(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function P3n(e){return function(){this.style.removeProperty(e)}}function R3n(e,t,n){return function(){this.style.setProperty(e,t,n)}}function A3n(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function D3n(e,t,n){return arguments.length>1?this.each((t==null?P3n:typeof t=="function"?A3n:R3n)(e,t,n??"")):E_(this.node(),e)}function E_(e,t){return e.style.getPropertyValue(t)||Vtt(e).getComputedStyle(e,null).getPropertyValue(t)}function N3n(e){return function(){delete this[e]}}function M3n(e,t){return function(){this[e]=t}}function I3n(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function L3n(e,t){return arguments.length>1?this.each((t==null?N3n:typeof t=="function"?I3n:M3n)(e,t)):this.node()[e]}function Utt(e){return e.trim().split(/^|\s+/)}function hde(e){return e.classList||new qtt(e)}function qtt(e){this._node=e,this._names=Utt(e.getAttribute("class")||"")}qtt.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Ytt(e,t){for(var n=hde(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Xtt(e,t){for(var n=hde(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function j3n(e){return function(){Ytt(this,e)}}function F3n(e){return function(){Xtt(this,e)}}function z3n(e,t){return function(){(t.apply(this,arguments)?Ytt:Xtt)(this,e)}}function Q3n(e,t){var n=Utt(e+"");if(arguments.length<2){for(var r=hde(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?z3n:t?j3n:F3n)(n,t))}function B3n(){this.textContent=""}function W3n(e){return function(){this.textContent=e}}function V3n(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function U3n(e){return arguments.length?this.each(e==null?B3n:(typeof e=="function"?V3n:W3n)(e)):this.node().textContent}function q3n(){this.innerHTML=""}function Y3n(e){return function(){this.innerHTML=e}}function X3n(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function H3n(e){return arguments.length?this.each(e==null?q3n:(typeof e=="function"?X3n:Y3n)(e)):this.node().innerHTML}function Z3n(){this.nextSibling&&this.parentNode.appendChild(this)}function G3n(){return this.each(Z3n)}function K3n(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function J3n(){return this.each(K3n)}function eLn(e){var t=typeof e=="function"?e:Ftt(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function tLn(){return null}function nLn(e,t){var n=typeof e=="function"?e:Ftt(e),r=t==null?tLn:typeof t=="function"?t:dde(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function rLn(){var e=this.parentNode;e&&e.removeChild(this)}function iLn(){return this.each(rLn)}function oLn(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function sLn(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function aLn(e){return this.select(e?sLn:oLn)}function lLn(e){return arguments.length?this.property("__data__",e):this.node().__data__}function cLn(e){return function(t){e.call(this,t,this.__data__)}}function uLn(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function fLn(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function dLn(e,t,n){return function(){var r=this.__on,i,o=cLn(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function hLn(e,t,n){var r=uLn(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(i=0,u=a[l];i<o;++i)if((s=r[i]).type===u.type&&s.name===u.name)return u.value}return}for(a=t?dLn:fLn,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function Htt(e,t,n){var r=Vtt(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function pLn(e,t){return function(){return Htt(this,e,t)}}function gLn(e,t){return function(){return Htt(this,e,t.apply(this,arguments))}}function mLn(e,t){return this.each((typeof t=="function"?gLn:pLn)(e,t))}function*yLn(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var Ztt=[null];function Wc(e,t){this._groups=e,this._parents=t}function kA(){return new Wc([[document.documentElement]],Ztt)}function vLn(){return this}Wc.prototype=kA.prototype={constructor:Wc,select:V5n,selectAll:X5n,selectChild:K5n,selectChildren:n3n,filter:r3n,data:c3n,enter:i3n,exit:f3n,join:d3n,merge:h3n,selection:vLn,order:p3n,sort:g3n,call:y3n,nodes:v3n,node:b3n,size:O3n,empty:x3n,each:w3n,attr:T3n,style:D3n,property:L3n,classed:Q3n,text:U3n,html:H3n,raise:G3n,lower:J3n,append:eLn,insert:nLn,remove:iLn,clone:aLn,datum:lLn,on:hLn,dispatch:mLn,[Symbol.iterator]:yLn};function Sf(e){return typeof e=="string"?new Wc([[document.querySelector(e)]],[document.documentElement]):new Wc([[e]],Ztt)}function bLn(e){let t;for(;t=e.sourceEvent;)e=t;return e}function jd(e,t){if(e=bLn(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const OLn={passive:!1},CP={capture:!0,passive:!1};function wU(e){e.stopImmediatePropagation()}function Uw(e){e.preventDefault(),e.stopImmediatePropagation()}function Gtt(e){var t=e.document.documentElement,n=Sf(e).on("dragstart.drag",Uw,CP);"onselectstart"in t?n.on("selectstart.drag",Uw,CP):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Ktt(e,t){var n=e.document.documentElement,r=Sf(e).on("dragstart.drag",null);t&&(r.on("click.drag",Uw,CP),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const fM=e=>()=>e;function DJ(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}DJ.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function xLn(e){return!e.ctrlKey&&!e.button}function wLn(){return this.parentNode}function SLn(e,t){return t??{x:e.x,y:e.y}}function _Ln(){return navigator.maxTouchPoints||"ontouchstart"in this}function CLn(){var e=xLn,t=wLn,n=SLn,r=_Ln,i={},o=KR("start","drag","end"),s=0,a,l,c,u,f=0;function d(w){w.on("mousedown.drag",h).filter(r).on("touchstart.drag",y).on("touchmove.drag",v,OLn).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(w,S){if(!(u||!e.call(this,w,S))){var C=m(this,t.call(this,w,S),w,S,"mouse");C&&(Sf(w.view).on("mousemove.drag",p,CP).on("mouseup.drag",g,CP),Gtt(w.view),wU(w),c=!1,a=w.clientX,l=w.clientY,C("start",w))}}function p(w){if(Uw(w),!c){var S=w.clientX-a,C=w.clientY-l;c=S*S+C*C>f}i.mouse("drag",w)}function g(w){Sf(w.view).on("mousemove.drag mouseup.drag",null),Ktt(w.view,c),Uw(w),i.mouse("end",w)}function y(w,S){if(e.call(this,w,S)){var C=w.changedTouches,$=t.call(this,w,S),E=C.length,R,N;for(R=0;R<E;++R)(N=m(this,$,w,S,C[R].identifier,C[R]))&&(wU(w),N("start",w,C[R]))}}function v(w){var S=w.changedTouches,C=S.length,$,E;for($=0;$<C;++$)(E=i[S[$].identifier])&&(Uw(w),E("drag",w,S[$]))}function x(w){var S=w.changedTouches,C=S.length,$,E;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),$=0;$<C;++$)(E=i[S[$].identifier])&&(wU(w),E("end",w,S[$]))}function m(w,S,C,$,E,R){var N=o.copy(),I=jd(R||C,S),j,A,T;if((T=n.call(w,new DJ("beforestart",{sourceEvent:C,target:d,identifier:E,active:s,x:I[0],y:I[1],dx:0,dy:0,dispatch:N}),$))!=null)return j=T.x-I[0]||0,A=T.y-I[1]||0,function D(L,W,V){var Q=I,B;switch(L){case"start":i[E]=D,B=s++;break;case"end":delete i[E],--s;case"drag":I=jd(V||W,S),B=s;break}N.call(L,w,new DJ(L,{sourceEvent:W,subject:T,target:d,identifier:E,active:B,x:I[0]+j,y:I[1]+A,dx:I[0]-Q[0],dy:I[1]-Q[1],dispatch:N}),$)}}return d.filter=function(w){return arguments.length?(e=typeof w=="function"?w:fM(!!w),d):e},d.container=function(w){return arguments.length?(t=typeof w=="function"?w:fM(w),d):t},d.subject=function(w){return arguments.length?(n=typeof w=="function"?w:fM(w),d):n},d.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:fM(!!w),d):r},d.on=function(){var w=o.on.apply(o,arguments);return w===o?d:w},d.clickDistance=function(w){return arguments.length?(f=(w=+w)*w,d):Math.sqrt(f)},d}var $Ln=KR("start","end","cancel","interrupt"),ELn=[],Jtt=0,ske=1,NJ=2,WI=3,ake=4,MJ=5,VI=6;function C9(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;kLn(e,n,{name:t,index:r,group:i,on:$Ln,tween:ELn,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Jtt})}function pde(e,t){var n=Od(e,t);if(n.state>Jtt)throw new Error("too late; already scheduled");return n}function ap(e,t){var n=Od(e,t);if(n.state>WI)throw new Error("too late; already running");return n}function Od(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function kLn(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Mle(o,0,n.time);function o(c){n.state=ske,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var u,f,d,h;if(n.state!==ske)return l();for(u in r)if(h=r[u],h.name===n.name){if(h.state===WI)return Fxe(s);h.state===ake?(h.state=VI,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[u]):+u<t&&(h.state=VI,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[u])}if(Fxe(function(){n.state===WI&&(n.state=ake,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=NJ,n.on.call("start",e,e.__data__,n.index,n.group),n.state===NJ){for(n.state=WI,i=new Array(d=n.tween.length),u=0,f=-1;u<d;++u)(h=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=h);i.length=f+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=MJ,1),f=-1,d=i.length;++f<d;)i[f].call(e,u);n.state===MJ&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=VI,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function UI(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>NJ&&r.state<MJ,r.state=VI,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function TLn(e){return this.each(function(){UI(this,e)})}function PLn(e,t){var n,r;return function(){var i=ap(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function RLn(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=ap(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=a;break}l===c&&i.push(a)}o.tween=i}}function ALn(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Od(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?PLn:RLn)(n,e,t))}function gde(e,t,n){var r=e._id;return e.each(function(){var i=ap(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Od(i,r).value[t]}}function ent(e,t){var n;return(typeof t=="number"?cu:t instanceof pb?F2:(n=pb(t))?(t=n,F2):lae)(e,t)}function DLn(e){return function(){this.removeAttribute(e)}}function NLn(e){return function(){this.removeAttributeNS(e.space,e.local)}}function MLn(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function ILn(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function LLn(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function jLn(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function FLn(e,t){var n=_9(e),r=n==="transform"?uBe:ent;return this.attrTween(e,typeof t=="function"?(n.local?jLn:LLn)(n,r,gde(this,"attr."+e,t)):t==null?(n.local?NLn:DLn)(n):(n.local?ILn:MLn)(n,r,t))}function zLn(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function QLn(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function BLn(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&QLn(e,o)),n}return i._value=t,i}function WLn(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&zLn(e,o)),n}return i._value=t,i}function VLn(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=_9(e);return this.tween(n,(r.local?BLn:WLn)(r,t))}function ULn(e,t){return function(){pde(this,e).delay=+t.apply(this,arguments)}}function qLn(e,t){return t=+t,function(){pde(this,e).delay=t}}function YLn(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ULn:qLn)(t,e)):Od(this.node(),t).delay}function XLn(e,t){return function(){ap(this,e).duration=+t.apply(this,arguments)}}function HLn(e,t){return t=+t,function(){ap(this,e).duration=t}}function ZLn(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?XLn:HLn)(t,e)):Od(this.node(),t).duration}function GLn(e,t){if(typeof t!="function")throw new Error;return function(){ap(this,e).ease=t}}function KLn(e){var t=this._id;return arguments.length?this.each(GLn(t,e)):Od(this.node(),t).ease}function JLn(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;ap(this,e).ease=n}}function ejn(e){if(typeof e!="function")throw new Error;return this.each(JLn(this._id,e))}function tjn(e){typeof e!="function"&&(e=Qtt(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new Cg(r,this._parents,this._name,this._id)}function njn(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=t[a],c=n[a],u=l.length,f=s[a]=new Array(u),d,h=0;h<u;++h)(d=l[h]||c[h])&&(f[h]=d);for(;a<r;++a)s[a]=t[a];return new Cg(s,this._parents,this._name,this._id)}function rjn(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function ijn(e,t,n){var r,i,o=rjn(t)?pde:ap;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function ojn(e,t){var n=this._id;return arguments.length<2?Od(this.node(),n).on.on(e):this.each(ijn(n,e,t))}function sjn(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function ajn(){return this.on("end.remove",sjn(this._id))}function ljn(e){var t=this._name,n=this._id;typeof e!="function"&&(e=dde(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,c=o[s]=new Array(l),u,f,d=0;d<l;++d)(u=a[d])&&(f=e.call(u,u.__data__,d,a))&&("__data__"in u&&(f.__data__=u.__data__),c[d]=f,C9(c[d],t,n,d,c,Od(u,n)));return new Cg(o,this._parents,t,n)}function cjn(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ztt(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],c=l.length,u,f=0;f<c;++f)if(u=l[f]){for(var d=e.call(u,u.__data__,f,l),h,p=Od(u,n),g=0,y=d.length;g<y;++g)(h=d[g])&&C9(h,t,n,g,d,p);o.push(d),s.push(u)}return new Cg(o,s,t,n)}var ujn=kA.prototype.constructor;function fjn(){return new ujn(this._groups,this._parents)}function djn(e,t){var n,r,i;return function(){var o=E_(this,e),s=(this.style.removeProperty(e),E_(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function tnt(e){return function(){this.style.removeProperty(e)}}function hjn(e,t,n){var r,i=n+"",o;return function(){var s=E_(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function pjn(e,t,n){var r,i,o;return function(){var s=E_(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),E_(this,e))),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}function gjn(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var l=ap(this,e),c=l.on,u=l.value[o]==null?a||(a=tnt(t)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(s,i=u),l.on=r}}function mjn(e,t,n){var r=(e+="")=="transform"?cBe:ent;return t==null?this.styleTween(e,djn(e,r)).on("end.style."+e,tnt(e)):typeof t=="function"?this.styleTween(e,pjn(e,r,gde(this,"style."+e,t))).each(gjn(this._id,e)):this.styleTween(e,hjn(e,r,t),n).on("end.style."+e,null)}function yjn(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function vjn(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&yjn(e,s,n)),r}return o._value=t,o}function bjn(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,vjn(e,t,n??""))}function Ojn(e){return function(){this.textContent=e}}function xjn(e){return function(){var t=e(this);this.textContent=t??""}}function wjn(e){return this.tween("text",typeof e=="function"?xjn(gde(this,"text",e)):Ojn(e==null?"":e+""))}function Sjn(e){return function(t){this.textContent=e.call(this,t)}}function _jn(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Sjn(i)),t}return r._value=e,r}function Cjn(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,_jn(e))}function $jn(){for(var e=this._name,t=this._id,n=nnt(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,c=0;c<a;++c)if(l=s[c]){var u=Od(l,t);C9(l,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Cg(r,this._parents,e,n)}function Ejn(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var c=ap(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),i===0&&o()})}var kjn=0;function Cg(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function nnt(){return++kjn}var gp=kA.prototype;Cg.prototype={constructor:Cg,select:ljn,selectAll:cjn,selectChild:gp.selectChild,selectChildren:gp.selectChildren,filter:tjn,merge:njn,selection:fjn,transition:$jn,call:gp.call,nodes:gp.nodes,node:gp.node,size:gp.size,empty:gp.empty,each:gp.each,on:ojn,attr:FLn,attrTween:VLn,style:mjn,styleTween:bjn,text:wjn,textTween:Cjn,remove:ajn,tween:ALn,delay:YLn,duration:ZLn,ease:KLn,easeVarying:ejn,end:Ejn,[Symbol.iterator]:gp[Symbol.iterator]};function Tjn(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Pjn={time:null,delay:0,duration:250,ease:Tjn};function Rjn(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Ajn(e){var t,n;e instanceof Cg?(t=e._id,e=e._name):(t=nnt(),(n=Pjn).time=D8(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&C9(l,e,t,c,s,n||Rjn(l,t));return new Cg(r,this._parents,e,t)}kA.prototype.interrupt=TLn;kA.prototype.transition=Ajn;const dM=e=>()=>e;function Djn(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Bp(e,t,n){this.k=e,this.x=t,this.y=n}Bp.prototype={constructor:Bp,scale:function(e){return e===1?this:new Bp(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Bp(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var My=new Bp(1,0,0);Bp.prototype;function SU(e){e.stopImmediatePropagation()}function K$(e){e.preventDefault(),e.stopImmediatePropagation()}function Njn(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Mjn(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function lke(){return this.__zoom||My}function Ijn(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Ljn(){return navigator.maxTouchPoints||"ontouchstart"in this}function jjn(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function Fjn(){var e=Njn,t=Mjn,n=jjn,r=Ijn,i=Ljn,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,l=fBe,c=KR("start","zoom","end"),u,f,d,h=500,p=150,g=0,y=10;function v(T){T.property("__zoom",lke).on("wheel.zoom",E,{passive:!1}).on("mousedown.zoom",R).on("dblclick.zoom",N).filter(i).on("touchstart.zoom",I).on("touchmove.zoom",j).on("touchend.zoom touchcancel.zoom",A).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(T,D,L,W){var V=T.selection?T.selection():T;V.property("__zoom",lke),T!==V?S(T,D,L,W):V.interrupt().each(function(){C(this,arguments).event(W).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},v.scaleBy=function(T,D,L,W){v.scaleTo(T,function(){var V=this.__zoom.k,Q=typeof D=="function"?D.apply(this,arguments):D;return V*Q},L,W)},v.scaleTo=function(T,D,L,W){v.transform(T,function(){var V=t.apply(this,arguments),Q=this.__zoom,B=L==null?w(V):typeof L=="function"?L.apply(this,arguments):L,Y=Q.invert(B),U=typeof D=="function"?D.apply(this,arguments):D;return n(m(x(Q,U),B,Y),V,s)},L,W)},v.translateBy=function(T,D,L,W){v.transform(T,function(){return n(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof L=="function"?L.apply(this,arguments):L),t.apply(this,arguments),s)},null,W)},v.translateTo=function(T,D,L,W,V){v.transform(T,function(){var Q=t.apply(this,arguments),B=this.__zoom,Y=W==null?w(Q):typeof W=="function"?W.apply(this,arguments):W;return n(My.translate(Y[0],Y[1]).scale(B.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof L=="function"?-L.apply(this,arguments):-L),Q,s)},W,V)};function x(T,D){return D=Math.max(o[0],Math.min(o[1],D)),D===T.k?T:new Bp(D,T.x,T.y)}function m(T,D,L){var W=D[0]-L[0]*T.k,V=D[1]-L[1]*T.k;return W===T.x&&V===T.y?T:new Bp(T.k,W,V)}function w(T){return[(+T[0][0]+ +T[1][0])/2,(+T[0][1]+ +T[1][1])/2]}function S(T,D,L,W){T.on("start.zoom",function(){C(this,arguments).event(W).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(W).end()}).tween("zoom",function(){var V=this,Q=arguments,B=C(V,Q).event(W),Y=t.apply(V,Q),U=L==null?w(Y):typeof L=="function"?L.apply(V,Q):L,q=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),Z=V.__zoom,oe=typeof D=="function"?D.apply(V,Q):D,ce=l(Z.invert(U).concat(q/Z.k),oe.invert(U).concat(q/oe.k));return function(re){if(re===1)re=oe;else{var fe=ce(re),ae=q/fe[2];re=new Bp(ae,U[0]-fe[0]*ae,U[1]-fe[1]*ae)}B.zoom(null,re)}})}function C(T,D,L){return!L&&T.__zooming||new $(T,D)}function $(T,D){this.that=T,this.args=D,this.active=0,this.sourceEvent=null,this.extent=t.apply(T,D),this.taps=0}$.prototype={event:function(T){return T&&(this.sourceEvent=T),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(T,D){return this.mouse&&T!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&T!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&T!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(T){var D=Sf(this.that).datum();c.call(T,this.that,new Djn(T,{sourceEvent:this.sourceEvent,target:v,type:T,transform:this.that.__zoom,dispatch:c}),D)}};function E(T,...D){if(!e.apply(this,arguments))return;var L=C(this,D).event(T),W=this.__zoom,V=Math.max(o[0],Math.min(o[1],W.k*Math.pow(2,r.apply(this,arguments)))),Q=jd(T);if(L.wheel)(L.mouse[0][0]!==Q[0]||L.mouse[0][1]!==Q[1])&&(L.mouse[1]=W.invert(L.mouse[0]=Q)),clearTimeout(L.wheel);else{if(W.k===V)return;L.mouse=[Q,W.invert(Q)],UI(this),L.start()}K$(T),L.wheel=setTimeout(B,p),L.zoom("mouse",n(m(x(W,V),L.mouse[0],L.mouse[1]),L.extent,s));function B(){L.wheel=null,L.end()}}function R(T,...D){if(d||!e.apply(this,arguments))return;var L=T.currentTarget,W=C(this,D,!0).event(T),V=Sf(T.view).on("mousemove.zoom",U,!0).on("mouseup.zoom",q,!0),Q=jd(T,L),B=T.clientX,Y=T.clientY;Gtt(T.view),SU(T),W.mouse=[Q,this.__zoom.invert(Q)],UI(this),W.start();function U(Z){if(K$(Z),!W.moved){var oe=Z.clientX-B,ce=Z.clientY-Y;W.moved=oe*oe+ce*ce>g}W.event(Z).zoom("mouse",n(m(W.that.__zoom,W.mouse[0]=jd(Z,L),W.mouse[1]),W.extent,s))}function q(Z){V.on("mousemove.zoom mouseup.zoom",null),Ktt(Z.view,W.moved),K$(Z),W.event(Z).end()}}function N(T,...D){if(e.apply(this,arguments)){var L=this.__zoom,W=jd(T.changedTouches?T.changedTouches[0]:T,this),V=L.invert(W),Q=L.k*(T.shiftKey?.5:2),B=n(m(x(L,Q),W,V),t.apply(this,D),s);K$(T),a>0?Sf(this).transition().duration(a).call(S,B,W,T):Sf(this).call(v.transform,B,W,T)}}function I(T,...D){if(e.apply(this,arguments)){var L=T.touches,W=L.length,V=C(this,D,T.changedTouches.length===W).event(T),Q,B,Y,U;for(SU(T),B=0;B<W;++B)Y=L[B],U=jd(Y,this),U=[U,this.__zoom.invert(U),Y.identifier],V.touch0?!V.touch1&&V.touch0[2]!==U[2]&&(V.touch1=U,V.taps=0):(V.touch0=U,Q=!0,V.taps=1+!!u);u&&(u=clearTimeout(u)),Q&&(V.taps<2&&(f=U[0],u=setTimeout(function(){u=null},h)),UI(this),V.start())}}function j(T,...D){if(this.__zooming){var L=C(this,D).event(T),W=T.changedTouches,V=W.length,Q,B,Y,U;for(K$(T),Q=0;Q<V;++Q)B=W[Q],Y=jd(B,this),L.touch0&&L.touch0[2]===B.identifier?L.touch0[0]=Y:L.touch1&&L.touch1[2]===B.identifier&&(L.touch1[0]=Y);if(B=L.that.__zoom,L.touch1){var q=L.touch0[0],Z=L.touch0[1],oe=L.touch1[0],ce=L.touch1[1],re=(re=oe[0]-q[0])*re+(re=oe[1]-q[1])*re,fe=(fe=ce[0]-Z[0])*fe+(fe=ce[1]-Z[1])*fe;B=x(B,Math.sqrt(re/fe)),Y=[(q[0]+oe[0])/2,(q[1]+oe[1])/2],U=[(Z[0]+ce[0])/2,(Z[1]+ce[1])/2]}else if(L.touch0)Y=L.touch0[0],U=L.touch0[1];else return;L.zoom("touch",n(m(B,Y,U),L.extent,s))}}function A(T,...D){if(this.__zooming){var L=C(this,D).event(T),W=T.changedTouches,V=W.length,Q,B;for(SU(T),d&&clearTimeout(d),d=setTimeout(function(){d=null},h),Q=0;Q<V;++Q)B=W[Q],L.touch0&&L.touch0[2]===B.identifier?delete L.touch0:L.touch1&&L.touch1[2]===B.identifier&&delete L.touch1;if(L.touch1&&!L.touch0&&(L.touch0=L.touch1,delete L.touch1),L.touch0)L.touch0[1]=this.__zoom.invert(L.touch0[0]);else if(L.end(),L.taps===2&&(B=jd(B,this),Math.hypot(f[0]-B[0],f[1]-B[1])<y)){var Y=Sf(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return v.wheelDelta=function(T){return arguments.length?(r=typeof T=="function"?T:dM(+T),v):r},v.filter=function(T){return arguments.length?(e=typeof T=="function"?T:dM(!!T),v):e},v.touchable=function(T){return arguments.length?(i=typeof T=="function"?T:dM(!!T),v):i},v.extent=function(T){return arguments.length?(t=typeof T=="function"?T:dM([[+T[0][0],+T[0][1]],[+T[1][0],+T[1][1]]]),v):t},v.scaleExtent=function(T){return arguments.length?(o[0]=+T[0],o[1]=+T[1],v):[o[0],o[1]]},v.translateExtent=function(T){return arguments.length?(s[0][0]=+T[0][0],s[1][0]=+T[1][0],s[0][1]=+T[0][1],s[1][1]=+T[1][1],v):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},v.constrain=function(T){return arguments.length?(n=T,v):n},v.duration=function(T){return arguments.length?(a=+T,v):a},v.interpolate=function(T){return arguments.length?(l=T,v):l},v.on=function(){var T=c.on.apply(c,arguments);return T===c?v:T},v.clickDistance=function(T){return arguments.length?(g=(T=+T)*T,v):Math.sqrt(g)},v.tapDistance=function(T){return arguments.length?(y=+T,v):y},v}const $9=O.createContext(null),zjn=$9.Provider,$g={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},rnt=$g.error001();function Ti(e,t){const n=O.useContext($9);if(n===null)throw new Error(rnt);return jtt(n,e,t)}const Bs=()=>{const e=O.useContext($9);if(e===null)throw new Error(rnt);return O.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},Qjn=e=>e.userSelectionActive?"none":"all";function Bjn({position:e,children:t,className:n,style:r,...i}){const o=Ti(Qjn),s=`${e}`.split("-");return ie.createElement("div",{className:Ju(["react-flow__panel",n,...s]),style:{...r,pointerEvents:o},...i},t)}function Wjn({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:ie.createElement(Bjn,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},ie.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const Vjn=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:o={},labelBgPadding:s=[2,4],labelBgBorderRadius:a=2,children:l,className:c,...u})=>{const f=O.useRef(null),[d,h]=O.useState({x:0,y:0,width:0,height:0}),p=Ju(["react-flow__edge-textwrapper",c]);return O.useEffect(()=>{if(f.current){const g=f.current.getBBox();h({x:g.x,y:g.y,width:g.width,height:g.height})}},[n]),typeof n>"u"||!n?null:ie.createElement("g",{transform:`translate(${e-d.width/2} ${t-d.height/2})`,className:p,visibility:d.width?"visible":"hidden",...u},i&&ie.createElement("rect",{width:d.width+2*s[0],x:-s[0],y:-s[1],height:d.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:a,ry:a}),ie.createElement("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:f,style:r},n),l)};var Ujn=O.memo(Vjn);const mde=e=>({width:e.offsetWidth,height:e.offsetHeight}),k_=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),yde=(e={x:0,y:0},t)=>({x:k_(e.x,t[0][0],t[1][0]),y:k_(e.y,t[0][1],t[1][1])}),cke=(e,t,n)=>e<t?k_(Math.abs(e-t),1,50)/50:e>n?-k_(Math.abs(e-n),1,50)/50:0,int=(e,t)=>{const n=cke(e.x,35,t.width-35)*20,r=cke(e.y,35,t.height-35)*20;return[n,r]},ont=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},qjn=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),vde=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Yjn=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),uke=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),IJ=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},Xjn=e=>_u(e.width)&&_u(e.height)&&_u(e.x)&&_u(e.y),_u=e=>!isNaN(e)&&isFinite(e),Wo=Symbol.for("internals"),snt=["Enter"," ","Escape"],Hjn=(e,t)=>{},Zjn=e=>"nativeEvent"in e;function LJ(e){var i,o;const t=Zjn(e)?e.nativeEvent:e,n=((o=(i=t.composedPath)==null?void 0:i.call(t))==null?void 0:o[0])||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n==null?void 0:n.nodeName)||(n==null?void 0:n.hasAttribute("contenteditable"))||!!(n!=null&&n.closest(".nokey"))}const ant=e=>"clientX"in e,Iy=(e,t)=>{var o,s;const n=ant(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((t==null?void 0:t.left)??0),y:i-((t==null?void 0:t.top)??0)}},$F=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0},TA=({id:e,path:t,labelX:n,labelY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:f,markerStart:d,interactionWidth:h=20})=>ie.createElement(ie.Fragment,null,ie.createElement("path",{id:e,style:u,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:f,markerStart:d}),h&&ie.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),i&&_u(n)&&_u(r)?ie.createElement(Ujn,{x:n,y:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c}):null);TA.displayName="BaseEdge";function J$(e,t,n){return n===void 0?n:r=>{const i=t().edges.find(o=>o.id===e);i&&n(r,{...i})}}function lnt({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,s=Math.abs(r-t)/2,a=r<t?r+s:r-s;return[o,a,i,s]}function cnt({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:a}){const l=e*.125+i*.375+s*.375+n*.125,c=t*.125+o*.375+a*.375+r*.125,u=Math.abs(l-e),f=Math.abs(c-t);return[l,c,u,f]}var Mb;(function(e){e.Strict="strict",e.Loose="loose"})(Mb||(Mb={}));var iy;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(iy||(iy={}));var $P;(function(e){e.Partial="partial",e.Full="full"})($P||($P={}));var Im;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Im||(Im={}));var EP;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(EP||(EP={}));var $t;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})($t||($t={}));function fke({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===$t.Left||e===$t.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function unt({sourceX:e,sourceY:t,sourcePosition:n=$t.Bottom,targetX:r,targetY:i,targetPosition:o=$t.Top}){const[s,a]=fke({pos:n,x1:e,y1:t,x2:r,y2:i}),[l,c]=fke({pos:o,x1:r,y1:i,x2:e,y2:t}),[u,f,d,h]=cnt({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:a,targetControlX:l,targetControlY:c});return[`M${e},${t} C${s},${a} ${l},${c} ${r},${i}`,u,f,d,h]}const bde=O.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=$t.Bottom,targetPosition:o=$t.Top,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:p,interactionWidth:g})=>{const[y,v,x]=unt({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o});return ie.createElement(TA,{path:y,labelX:v,labelY:x,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:p,interactionWidth:g})});bde.displayName="SimpleBezierEdge";const dke={[$t.Left]:{x:-1,y:0},[$t.Right]:{x:1,y:0},[$t.Top]:{x:0,y:-1},[$t.Bottom]:{x:0,y:1}},Gjn=({source:e,sourcePosition:t=$t.Bottom,target:n})=>t===$t.Left||t===$t.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},hke=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Kjn({source:e,sourcePosition:t=$t.Bottom,target:n,targetPosition:r=$t.Top,center:i,offset:o}){const s=dke[t],a=dke[r],l={x:e.x+s.x*o,y:e.y+s.y*o},c={x:n.x+a.x*o,y:n.y+a.y*o},u=Gjn({source:l,sourcePosition:t,target:c}),f=u.x!==0?"x":"y",d=u[f];let h=[],p,g;const y={x:0,y:0},v={x:0,y:0},[x,m,w,S]=lnt({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[f]*a[f]===-1){p=i.x||x,g=i.y||m;const $=[{x:p,y:l.y},{x:p,y:c.y}],E=[{x:l.x,y:g},{x:c.x,y:g}];s[f]===d?h=f==="x"?$:E:h=f==="x"?E:$}else{const $=[{x:l.x,y:c.y}],E=[{x:c.x,y:l.y}];if(f==="x"?h=s.x===d?E:$:h=s.y===d?$:E,t===r){const A=Math.abs(e[f]-n[f]);if(A<=o){const T=Math.min(o-1,o-A);s[f]===d?y[f]=(l[f]>e[f]?-1:1)*T:v[f]=(c[f]>n[f]?-1:1)*T}}if(t!==r){const A=f==="x"?"y":"x",T=s[f]===a[A],D=l[A]>c[A],L=l[A]<c[A];(s[f]===1&&(!T&&D||T&&L)||s[f]!==1&&(!T&&L||T&&D))&&(h=f==="x"?$:E)}const R={x:l.x+y.x,y:l.y+y.y},N={x:c.x+v.x,y:c.y+v.y},I=Math.max(Math.abs(R.x-h[0].x),Math.abs(N.x-h[0].x)),j=Math.max(Math.abs(R.y-h[0].y),Math.abs(N.y-h[0].y));I>=j?(p=(R.x+N.x)/2,g=h[0].y):(p=h[0].x,g=(R.y+N.y)/2)}return[[e,{x:l.x+y.x,y:l.y+y.y},...h,{x:c.x+v.x,y:c.y+v.y},n],p,g,w,S]}function Jjn(e,t,n,r){const i=Math.min(hke(e,t)/2,hke(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return`L${o} ${s}`;if(e.y===s){const c=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return`L ${o+i*c},${s}Q ${o},${s} ${o},${s+i*u}`}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return`L ${o},${s+i*l}Q ${o},${s} ${o+i*a},${s}`}function jJ({sourceX:e,sourceY:t,sourcePosition:n=$t.Bottom,targetX:r,targetY:i,targetPosition:o=$t.Top,borderRadius:s=5,centerX:a,centerY:l,offset:c=20}){const[u,f,d,h,p]=Kjn({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:a,y:l},offset:c});return[u.reduce((y,v,x)=>{let m="";return x>0&&x<u.length-1?m=Jjn(u[x-1],v,u[x+1],s):m=`${x===0?"M":"L"}${v.x} ${v.y}`,y+=m,y},""),f,d,h,p]}const E9=O.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:u,sourcePosition:f=$t.Bottom,targetPosition:d=$t.Top,markerEnd:h,markerStart:p,pathOptions:g,interactionWidth:y})=>{const[v,x,m]=jJ({sourceX:e,sourceY:t,sourcePosition:f,targetX:n,targetY:r,targetPosition:d,borderRadius:g==null?void 0:g.borderRadius,offset:g==null?void 0:g.offset});return ie.createElement(TA,{path:v,labelX:x,labelY:m,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:h,markerStart:p,interactionWidth:y})});E9.displayName="SmoothStepEdge";const Ode=O.memo(e=>{var t;return ie.createElement(E9,{...e,pathOptions:O.useMemo(()=>{var n;return{borderRadius:0,offset:(n=e.pathOptions)==null?void 0:n.offset}},[(t=e.pathOptions)==null?void 0:t.offset])})});Ode.displayName="StepEdge";function eFn({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,s,a]=lnt({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,s,a]}const xde=O.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:f,markerStart:d,interactionWidth:h})=>{const[p,g,y]=eFn({sourceX:e,sourceY:t,targetX:n,targetY:r});return ie.createElement(TA,{path:p,labelX:g,labelY:y,label:i,labelStyle:o,labelShowBg:s,labelBgStyle:a,labelBgPadding:l,labelBgBorderRadius:c,style:u,markerEnd:f,markerStart:d,interactionWidth:h})});xde.displayName="StraightEdge";function hM(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function pke({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case $t.Left:return[t-hM(t-r,o),n];case $t.Right:return[t+hM(r-t,o),n];case $t.Top:return[t,n-hM(n-i,o)];case $t.Bottom:return[t,n+hM(i-n,o)]}}function fnt({sourceX:e,sourceY:t,sourcePosition:n=$t.Bottom,targetX:r,targetY:i,targetPosition:o=$t.Top,curvature:s=.25}){const[a,l]=pke({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[c,u]=pke({pos:o,x1:r,y1:i,x2:e,y2:t,c:s}),[f,d,h,p]=cnt({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:u});return[`M${e},${t} C${a},${l} ${c},${u} ${r},${i}`,f,d,h,p]}const EF=O.memo(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=$t.Bottom,targetPosition:o=$t.Top,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:p,pathOptions:g,interactionWidth:y})=>{const[v,x,m]=fnt({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o,curvature:g==null?void 0:g.curvature});return ie.createElement(TA,{path:v,labelX:x,labelY:m,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:d,markerEnd:h,markerStart:p,interactionWidth:y})});EF.displayName="BezierEdge";const wde=O.createContext(null),tFn=wde.Provider;wde.Consumer;const nFn=()=>O.useContext(wde),rFn=e=>"id"in e&&"source"in e&&"target"in e,iFn=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,FJ=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,oFn=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),sFn=(e,t)=>{if(!e.source||!e.target)return t;let n;return rFn(e)?n={...e}:n={...e,id:iFn(e)},oFn(n,t)?t:t.concat(n)},zJ=({x:e,y:t},[n,r,i],o,[s,a])=>{const l={x:(e-n)/i,y:(t-r)/i};return o?{x:s*Math.round(l.x/s),y:a*Math.round(l.y/a)}:l},dnt=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),qw=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},Sde=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const{x:o,y:s}=qw(i,t).positionAbsolute;return qjn(r,vde({x:o,y:s,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Yjn(n)},hnt=(e,t,[n,r,i]=[0,0,1],o=!1,s=!1,a=[0,0])=>{const l={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},c=[];return e.forEach(u=>{const{width:f,height:d,selectable:h=!0,hidden:p=!1}=u;if(s&&!h||p)return!1;const{positionAbsolute:g}=qw(u,a),y={x:g.x,y:g.y,width:f||0,height:d||0},v=IJ(l,y),x=typeof f>"u"||typeof d>"u"||f===null||d===null,m=o&&v>0,w=(f||0)*(d||0);(x||m||v>=w||u.dragging)&&c.push(u)}),c},pnt=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},gnt=(e,t,n,r,i,o=.1)=>{const s=t/(e.width*(1+o)),a=n/(e.height*(1+o)),l=Math.min(s,a),c=k_(l,r,i),u=e.x+e.width/2,f=e.y+e.height/2,d=t/2-u*c,h=n/2-f*c;return{x:d,y:h,zoom:c}},Tv=(e,t=0)=>e.transition().duration(t);function gke(e,t,n,r){return(t[n]||[]).reduce((i,o)=>{var s,a;return`${e.id}-${o.id}-${n}`!==r&&i.push({id:o.id||null,type:n,nodeId:e.id,x:(((s=e.positionAbsolute)==null?void 0:s.x)??0)+o.x+o.width/2,y:(((a=e.positionAbsolute)==null?void 0:a.y)??0)+o.y+o.height/2}),i},[])}function aFn(e,t,n,r,i,o){const{x:s,y:a}=Iy(e),c=t.elementsFromPoint(s,a).find(p=>p.classList.contains("react-flow__handle"));if(c){const p=c.getAttribute("data-nodeid");if(p){const g=_de(void 0,c),y=c.getAttribute("data-handleid"),v=o({nodeId:p,id:y,type:g});if(v){const x=i.find(m=>m.nodeId===p&&m.type===g&&m.id===y);return{handle:{id:y,type:g,nodeId:p,x:(x==null?void 0:x.x)||n.x,y:(x==null?void 0:x.y)||n.y},validHandleResult:v}}}}let u=[],f=1/0;if(i.forEach(p=>{const g=Math.sqrt((p.x-n.x)**2+(p.y-n.y)**2);if(g<=r){const y=o(p);g<=f&&(g<f?u=[{handle:p,validHandleResult:y}]:g===f&&u.push({handle:p,validHandleResult:y}),f=g)}}),!u.length)return{handle:null,validHandleResult:mnt()};if(u.length===1)return u[0];const d=u.some(({validHandleResult:p})=>p.isValid),h=u.some(({handle:p})=>p.type==="target");return u.find(({handle:p,validHandleResult:g})=>h?p.type==="target":d?g.isValid:!0)||u[0]}const lFn={source:null,target:null,sourceHandle:null,targetHandle:null},mnt=()=>({handleDomNode:null,isValid:!1,connection:lFn,endHandle:null});function ynt(e,t,n,r,i,o,s){const a=i==="target",l=s.querySelector(`.react-flow__handle[data-id="${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`),c={...mnt(),handleDomNode:l};if(l){const u=_de(void 0,l),f=l.getAttribute("data-nodeid"),d=l.getAttribute("data-handleid"),h=l.classList.contains("connectable"),p=l.classList.contains("connectableend"),g={source:a?f:n,sourceHandle:a?d:r,target:a?n:f,targetHandle:a?r:d};c.connection=g,h&&p&&(t===Mb.Strict?a&&u==="source"||!a&&u==="target":f!==n||d!==r)&&(c.endHandle={nodeId:f,handleId:d,type:u},c.isValid=o(g))}return c}function cFn({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((i,o)=>{if(o[Wo]){const{handleBounds:s}=o[Wo];let a=[],l=[];s&&(a=gke(o,s,"source",`${t}-${n}-${r}`),l=gke(o,s,"target",`${t}-${n}-${r}`)),i.push(...a,...l)}return i},[])}function _de(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function _U(e){e==null||e.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function uFn(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function vnt({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:o,setState:s,isValidConnection:a,edgeUpdaterType:l,onEdgeUpdateEnd:c}){const u=ont(e.target),{connectionMode:f,domNode:d,autoPanOnConnect:h,connectionRadius:p,onConnectStart:g,panBy:y,getNodes:v,cancelConnection:x}=o();let m=0,w;const{x:S,y:C}=Iy(e),$=u==null?void 0:u.elementFromPoint(S,C),E=_de(l,$),R=d==null?void 0:d.getBoundingClientRect();if(!R||!E)return;let N,I=Iy(e,R),j=!1,A=null,T=!1,D=null;const L=cFn({nodes:v(),nodeId:n,handleId:t,handleType:E}),W=()=>{if(!h)return;const[B,Y]=int(I,R);y({x:B,y:Y}),m=requestAnimationFrame(W)};s({connectionPosition:I,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:E,connectionStartHandle:{nodeId:n,handleId:t,type:E},connectionEndHandle:null}),g==null||g(e,{nodeId:n,handleId:t,handleType:E});function V(B){const{transform:Y}=o();I=Iy(B,R);const{handle:U,validHandleResult:q}=aFn(B,u,zJ(I,Y,!1,[1,1]),p,L,Z=>ynt(Z,f,n,t,i?"target":"source",a,u));if(w=U,j||(W(),j=!0),D=q.handleDomNode,A=q.connection,T=q.isValid,s({connectionPosition:w&&T?dnt({x:w.x,y:w.y},Y):I,connectionStatus:uFn(!!w,T),connectionEndHandle:q.endHandle}),!w&&!T&&!D)return _U(N);A.source!==A.target&&D&&(_U(N),N=D,D.classList.add("connecting","react-flow__handle-connecting"),D.classList.toggle("valid",T),D.classList.toggle("react-flow__handle-valid",T))}function Q(B){var Y,U;(w||D)&&A&&T&&(r==null||r(A)),(U=(Y=o()).onConnectEnd)==null||U.call(Y,B),l&&(c==null||c(B)),_U(N),x(),cancelAnimationFrame(m),j=!1,T=!1,A=null,D=null,u.removeEventListener("mousemove",V),u.removeEventListener("mouseup",Q),u.removeEventListener("touchmove",V),u.removeEventListener("touchend",Q)}u.addEventListener("mousemove",V),u.addEventListener("mouseup",Q),u.addEventListener("touchmove",V),u.addEventListener("touchend",Q)}const mke=()=>!0,fFn=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),dFn=(e,t,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:o,connectionClickStartHandle:s}=r;return{connecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.handleId)===t&&(i==null?void 0:i.type)===n||(o==null?void 0:o.nodeId)===e&&(o==null?void 0:o.handleId)===t&&(o==null?void 0:o.type)===n,clickConnecting:(s==null?void 0:s.nodeId)===e&&(s==null?void 0:s.handleId)===t&&(s==null?void 0:s.type)===n}},bnt=O.forwardRef(({type:e="source",position:t=$t.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:s,onConnect:a,children:l,className:c,onMouseDown:u,onTouchStart:f,...d},h)=>{var R,N;const p=s||null,g=e==="target",y=Bs(),v=nFn(),{connectOnClick:x,noPanClassName:m}=Ti(fFn,Xl),{connecting:w,clickConnecting:S}=Ti(dFn(v,p,e),Xl);v||(N=(R=y.getState()).onError)==null||N.call(R,"010",$g.error010());const C=I=>{const{defaultEdgeOptions:j,onConnect:A,hasDefaultEdges:T}=y.getState(),D={...j,...I};if(T){const{edges:L,setEdges:W}=y.getState();W(sFn(D,L))}A==null||A(D),a==null||a(D)},$=I=>{if(!v)return;const j=ant(I);i&&(j&&I.button===0||!j)&&vnt({event:I,handleId:p,nodeId:v,onConnect:C,isTarget:g,getState:y.getState,setState:y.setState,isValidConnection:n||y.getState().isValidConnection||mke}),j?u==null||u(I):f==null||f(I)},E=I=>{const{onClickConnectStart:j,onClickConnectEnd:A,connectionClickStartHandle:T,connectionMode:D,isValidConnection:L}=y.getState();if(!v||!T&&!i)return;if(!T){j==null||j(I,{nodeId:v,handleId:p,handleType:e}),y.setState({connectionClickStartHandle:{nodeId:v,type:e,handleId:p}});return}const W=ont(I.target),V=n||L||mke,{connection:Q,isValid:B}=ynt({nodeId:v,id:p,type:e},D,T.nodeId,T.handleId||null,T.type,V,W);B&&C(Q),A==null||A(I),y.setState({connectionClickStartHandle:null})};return ie.createElement("div",{"data-handleid":p,"data-nodeid":v,"data-handlepos":t,"data-id":`${v}-${p}-${e}`,className:Ju(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",m,c,{source:!g,target:g,connectable:r,connectablestart:i,connectableend:o,connecting:S,connectionindicator:r&&(i&&!w||o&&w)}]),onMouseDown:$,onTouchStart:$,onClick:x?E:void 0,ref:h,...d},l)});bnt.displayName="Handle";var oy=O.memo(bnt);const Ont=({data:e,isConnectable:t,targetPosition:n=$t.Top,sourcePosition:r=$t.Bottom})=>ie.createElement(ie.Fragment,null,ie.createElement(oy,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,ie.createElement(oy,{type:"source",position:r,isConnectable:t}));Ont.displayName="DefaultNode";var QJ=O.memo(Ont);const xnt=({data:e,isConnectable:t,sourcePosition:n=$t.Bottom})=>ie.createElement(ie.Fragment,null,e==null?void 0:e.label,ie.createElement(oy,{type:"source",position:n,isConnectable:t}));xnt.displayName="InputNode";var wnt=O.memo(xnt);const Snt=({data:e,isConnectable:t,targetPosition:n=$t.Top})=>ie.createElement(ie.Fragment,null,ie.createElement(oy,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label);Snt.displayName="OutputNode";var _nt=O.memo(Snt);const Cde=()=>null;Cde.displayName="GroupNode";const hFn=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected)}),pM=e=>e.id;function pFn(e,t){return Xl(e.selectedNodes.map(pM),t.selectedNodes.map(pM))&&Xl(e.selectedEdges.map(pM),t.selectedEdges.map(pM))}const Cnt=O.memo(({onSelectionChange:e})=>{const t=Bs(),{selectedNodes:n,selectedEdges:r}=Ti(hFn,pFn);return O.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChange.forEach(o=>o(i))},[n,r,e]),null});Cnt.displayName="SelectionListener";const gFn=e=>!!e.onSelectionChange;function mFn({onSelectionChange:e}){const t=Ti(gFn);return e||t?ie.createElement(Cnt,{onSelectionChange:e}):null}const yFn=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function ux(e,t){O.useEffect(()=>{typeof e<"u"&&t(e)},[e])}function bn(e,t,n){O.useEffect(()=>{typeof t<"u"&&n({[e]:t})},[t])}const vFn=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:o,onConnectEnd:s,onClickConnectStart:a,onClickConnectEnd:l,nodesDraggable:c,nodesConnectable:u,nodesFocusable:f,edgesFocusable:d,edgesUpdatable:h,elevateNodesOnSelect:p,minZoom:g,maxZoom:y,nodeExtent:v,onNodesChange:x,onEdgesChange:m,elementsSelectable:w,connectionMode:S,snapGrid:C,snapToGrid:$,translateExtent:E,connectOnClick:R,defaultEdgeOptions:N,fitView:I,fitViewOptions:j,onNodesDelete:A,onEdgesDelete:T,onNodeDrag:D,onNodeDragStart:L,onNodeDragStop:W,onSelectionDrag:V,onSelectionDragStart:Q,onSelectionDragStop:B,noPanClassName:Y,nodeOrigin:U,rfId:q,autoPanOnConnect:Z,autoPanOnNodeDrag:oe,onError:ce,connectionRadius:re,isValidConnection:fe,nodeDragThreshold:ae})=>{const{setNodes:ue,setEdges:me,setDefaultNodesAndEdges:ne,setMinZoom:Le,setMaxZoom:_e,setTranslateExtent:ke,setNodeExtent:ze,reset:Je}=Ti(yFn,Xl),Be=Bs();return O.useEffect(()=>{const K=r==null?void 0:r.map(ge=>({...ge,...N}));return ne(n,K),()=>{Je()}},[]),bn("defaultEdgeOptions",N,Be.setState),bn("connectionMode",S,Be.setState),bn("onConnect",i,Be.setState),bn("onConnectStart",o,Be.setState),bn("onConnectEnd",s,Be.setState),bn("onClickConnectStart",a,Be.setState),bn("onClickConnectEnd",l,Be.setState),bn("nodesDraggable",c,Be.setState),bn("nodesConnectable",u,Be.setState),bn("nodesFocusable",f,Be.setState),bn("edgesFocusable",d,Be.setState),bn("edgesUpdatable",h,Be.setState),bn("elementsSelectable",w,Be.setState),bn("elevateNodesOnSelect",p,Be.setState),bn("snapToGrid",$,Be.setState),bn("snapGrid",C,Be.setState),bn("onNodesChange",x,Be.setState),bn("onEdgesChange",m,Be.setState),bn("connectOnClick",R,Be.setState),bn("fitViewOnInit",I,Be.setState),bn("fitViewOnInitOptions",j,Be.setState),bn("onNodesDelete",A,Be.setState),bn("onEdgesDelete",T,Be.setState),bn("onNodeDrag",D,Be.setState),bn("onNodeDragStart",L,Be.setState),bn("onNodeDragStop",W,Be.setState),bn("onSelectionDrag",V,Be.setState),bn("onSelectionDragStart",Q,Be.setState),bn("onSelectionDragStop",B,Be.setState),bn("noPanClassName",Y,Be.setState),bn("nodeOrigin",U,Be.setState),bn("rfId",q,Be.setState),bn("autoPanOnConnect",Z,Be.setState),bn("autoPanOnNodeDrag",oe,Be.setState),bn("onError",ce,Be.setState),bn("connectionRadius",re,Be.setState),bn("isValidConnection",fe,Be.setState),bn("nodeDragThreshold",ae,Be.setState),ux(e,ue),ux(t,me),ux(g,Le),ux(y,_e),ux(E,ke),ux(v,ze),null},yke={display:"none"},bFn={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},$nt="react-flow__node-desc",Ent="react-flow__edge-desc",OFn="react-flow__aria-live",xFn=e=>e.ariaLiveMessage;function wFn({rfId:e}){const t=Ti(xFn);return ie.createElement("div",{id:`${OFn}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:bFn},t)}function SFn({rfId:e,disableKeyboardA11y:t}){return ie.createElement(ie.Fragment,null,ie.createElement("div",{id:`${$nt}-${e}`,style:yke},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),ie.createElement("div",{id:`${Ent}-${e}`,style:yke},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&ie.createElement(wFn,{rfId:e}))}var kP=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=O.useState(!1),i=O.useRef(!1),o=O.useRef(new Set([])),[s,a]=O.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.split("+")),u=c.reduce((f,d)=>f.concat(...d),[]);return[c,u]}return[[],[]]},[e]);return O.useEffect(()=>{const l=typeof document<"u"?document:null,c=(t==null?void 0:t.target)||l;if(e!==null){const u=h=>{if(i.current=h.ctrlKey||h.metaKey||h.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&LJ(h))return!1;const g=bke(h.code,a);o.current.add(h[g]),vke(s,o.current,!1)&&(h.preventDefault(),r(!0))},f=h=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&LJ(h))return!1;const g=bke(h.code,a);vke(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(h[g]),h.key==="Meta"&&o.current.clear(),i.current=!1},d=()=>{o.current.clear(),r(!1)};return c==null||c.addEventListener("keydown",u),c==null||c.addEventListener("keyup",f),window.addEventListener("blur",d),()=>{c==null||c.removeEventListener("keydown",u),c==null||c.removeEventListener("keyup",f),window.removeEventListener("blur",d)}}},[e,r]),n};function vke(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function bke(e,t){return t.includes(e)?"code":"key"}function knt(e,t,n,r){var s,a;if(!e.parentNode)return n;const i=t.get(e.parentNode),o=qw(i,r);return knt(i,t,{x:(n.x??0)+o.x,y:(n.y??0)+o.y,z:(((s=i[Wo])==null?void 0:s.z)??0)>(n.z??0)?((a=i[Wo])==null?void 0:a.z)??0:n.z??0},r)}function Tnt(e,t,n){e.forEach(r=>{var i;if(r.parentNode&&!e.has(r.parentNode))throw new Error(`Parent node ${r.parentNode} not found`);if(r.parentNode||n!=null&&n[r.id]){const{x:o,y:s,z:a}=knt(r,e,{...r.position,z:((i=r[Wo])==null?void 0:i.z)??0},t);r.positionAbsolute={x:o,y:s},r[Wo].z=a,n!=null&&n[r.id]&&(r[Wo].isParent=!0)}})}function CU(e,t,n,r){const i=new Map,o={},s=r?1e3:0;return e.forEach(a=>{var f;const l=(_u(a.zIndex)?a.zIndex:0)+(a.selected?s:0),c=t.get(a.id),u={width:c==null?void 0:c.width,height:c==null?void 0:c.height,...a,positionAbsolute:{x:a.position.x,y:a.position.y}};a.parentNode&&(u.parentNode=a.parentNode,o[a.parentNode]=!0),Object.defineProperty(u,Wo,{enumerable:!1,value:{handleBounds:(f=c==null?void 0:c[Wo])==null?void 0:f.handleBounds,z:l}}),i.set(a.id,u)}),Tnt(i,n,o),i}function Pnt(e,t={}){const{getNodes:n,width:r,height:i,minZoom:o,maxZoom:s,d3Zoom:a,d3Selection:l,fitViewOnInitDone:c,fitViewOnInit:u,nodeOrigin:f}=e(),d=t.initial&&!c&&u;if(a&&l&&(d||!t.initial)){const p=n().filter(y=>{var x;const v=t.includeHiddenNodes?y.width&&y.height:!y.hidden;return(x=t.nodes)!=null&&x.length?v&&t.nodes.some(m=>m.id===y.id):v}),g=p.every(y=>y.width&&y.height);if(p.length>0&&g){const y=Sde(p,f),{x:v,y:x,zoom:m}=gnt(y,r,i,t.minZoom??o,t.maxZoom??s,t.padding??.1),w=My.translate(v,x).scale(m);return typeof t.duration=="number"&&t.duration>0?a.transform(Tv(l,t.duration),w):a.transform(l,w),!0}}return!1}function _Fn(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[Wo]:r[Wo],selected:n.selected})}),new Map(t)}function CFn(e,t){return t.map(n=>{const r=e.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function gM({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:i,edges:o,onNodesChange:s,onEdgesChange:a,hasDefaultNodes:l,hasDefaultEdges:c}=n();e!=null&&e.length&&(l&&r({nodeInternals:_Fn(e,i)}),s==null||s(e)),t!=null&&t.length&&(c&&r({edges:CFn(t,o)}),a==null||a(t))}const fx=()=>{},$Fn={zoomIn:fx,zoomOut:fx,zoomTo:fx,getZoom:()=>1,setViewport:fx,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:fx,fitBounds:fx,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},EFn=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),kFn=()=>{const e=Bs(),{d3Zoom:t,d3Selection:n}=Ti(EFn,Xl);return O.useMemo(()=>n&&t?{zoomIn:i=>t.scaleBy(Tv(n,i==null?void 0:i.duration),1.2),zoomOut:i=>t.scaleBy(Tv(n,i==null?void 0:i.duration),1/1.2),zoomTo:(i,o)=>t.scaleTo(Tv(n,o==null?void 0:o.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,o)=>{const[s,a,l]=e.getState().transform,c=My.translate(i.x??s,i.y??a).scale(i.zoom??l);t.transform(Tv(n,o==null?void 0:o.duration),c)},getViewport:()=>{const[i,o,s]=e.getState().transform;return{x:i,y:o,zoom:s}},fitView:i=>Pnt(e.getState,i),setCenter:(i,o,s)=>{const{width:a,height:l,maxZoom:c}=e.getState(),u=typeof(s==null?void 0:s.zoom)<"u"?s.zoom:c,f=a/2-i*u,d=l/2-o*u,h=My.translate(f,d).scale(u);t.transform(Tv(n,s==null?void 0:s.duration),h)},fitBounds:(i,o)=>{const{width:s,height:a,minZoom:l,maxZoom:c}=e.getState(),{x:u,y:f,zoom:d}=gnt(i,s,a,l,c,(o==null?void 0:o.padding)??.1),h=My.translate(u,f).scale(d);t.transform(Tv(n,o==null?void 0:o.duration),h)},project:i=>{const{transform:o,snapToGrid:s,snapGrid:a}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),zJ(i,o,s,a)},screenToFlowPosition:i=>{const{transform:o,snapToGrid:s,snapGrid:a,domNode:l}=e.getState();if(!l)return i;const{x:c,y:u}=l.getBoundingClientRect(),f={x:i.x-c,y:i.y-u};return zJ(f,o,s,a)},flowToScreenPosition:i=>{const{transform:o,domNode:s}=e.getState();if(!s)return i;const{x:a,y:l}=s.getBoundingClientRect(),c=dnt(i,o);return{x:c.x+a,y:c.y+l}},viewportInitialized:!0}:$Fn,[t,n])};function $de(){const e=kFn(),t=Bs(),n=O.useCallback(()=>t.getState().getNodes().map(g=>({...g})),[]),r=O.useCallback(g=>t.getState().nodeInternals.get(g),[]),i=O.useCallback(()=>{const{edges:g=[]}=t.getState();return g.map(y=>({...y}))},[]),o=O.useCallback(g=>{const{edges:y=[]}=t.getState();return y.find(v=>v.id===g)},[]),s=O.useCallback(g=>{const{getNodes:y,setNodes:v,hasDefaultNodes:x,onNodesChange:m}=t.getState(),w=y(),S=typeof g=="function"?g(w):g;if(x)v(S);else if(m){const C=S.length===0?w.map($=>({type:"remove",id:$.id})):S.map($=>({item:$,type:"reset"}));m(C)}},[]),a=O.useCallback(g=>{const{edges:y=[],setEdges:v,hasDefaultEdges:x,onEdgesChange:m}=t.getState(),w=typeof g=="function"?g(y):g;if(x)v(w);else if(m){const S=w.length===0?y.map(C=>({type:"remove",id:C.id})):w.map(C=>({item:C,type:"reset"}));m(S)}},[]),l=O.useCallback(g=>{const y=Array.isArray(g)?g:[g],{getNodes:v,setNodes:x,hasDefaultNodes:m,onNodesChange:w}=t.getState();if(m){const C=[...v(),...y];x(C)}else if(w){const S=y.map(C=>({item:C,type:"add"}));w(S)}},[]),c=O.useCallback(g=>{const y=Array.isArray(g)?g:[g],{edges:v=[],setEdges:x,hasDefaultEdges:m,onEdgesChange:w}=t.getState();if(m)x([...v,...y]);else if(w){const S=y.map(C=>({item:C,type:"add"}));w(S)}},[]),u=O.useCallback(()=>{const{getNodes:g,edges:y=[],transform:v}=t.getState(),[x,m,w]=v;return{nodes:g().map(S=>({...S})),edges:y.map(S=>({...S})),viewport:{x,y:m,zoom:w}}},[]),f=O.useCallback(({nodes:g,edges:y})=>{const{nodeInternals:v,getNodes:x,edges:m,hasDefaultNodes:w,hasDefaultEdges:S,onNodesDelete:C,onEdgesDelete:$,onNodesChange:E,onEdgesChange:R}=t.getState(),N=(g||[]).map(D=>D.id),I=(y||[]).map(D=>D.id),j=x().reduce((D,L)=>{const W=!N.includes(L.id)&&L.parentNode&&D.find(Q=>Q.id===L.parentNode);return(typeof L.deletable=="boolean"?L.deletable:!0)&&(N.includes(L.id)||W)&&D.push(L),D},[]),A=m.filter(D=>typeof D.deletable=="boolean"?D.deletable:!0),T=A.filter(D=>I.includes(D.id));if(j||T){const D=pnt(j,A),L=[...T,...D],W=L.reduce((V,Q)=>(V.includes(Q.id)||V.push(Q.id),V),[]);if((S||w)&&(S&&t.setState({edges:m.filter(V=>!W.includes(V.id))}),w&&(j.forEach(V=>{v.delete(V.id)}),t.setState({nodeInternals:new Map(v)}))),W.length>0&&($==null||$(L),R&&R(W.map(V=>({id:V,type:"remove"})))),j.length>0&&(C==null||C(j),E)){const V=j.map(Q=>({id:Q.id,type:"remove"}));E(V)}}},[]),d=O.useCallback(g=>{const y=Xjn(g),v=y?null:t.getState().nodeInternals.get(g.id);return!y&&!v?[null,null,y]:[y?g:uke(v),v,y]},[]),h=O.useCallback((g,y=!0,v)=>{const[x,m,w]=d(g);return x?(v||t.getState().getNodes()).filter(S=>{if(!w&&(S.id===m.id||!S.positionAbsolute))return!1;const C=uke(S),$=IJ(C,x);return y&&$>0||$>=x.width*x.height}):[]},[]),p=O.useCallback((g,y,v=!0)=>{const[x]=d(g);if(!x)return!1;const m=IJ(x,y);return v&&m>0||m>=x.width*x.height},[]);return O.useMemo(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:o,setNodes:s,setEdges:a,addNodes:l,addEdges:c,toObject:u,deleteElements:f,getIntersectingNodes:h,isNodeIntersecting:p}),[e,n,r,i,o,s,a,l,c,u,f,h,p])}const TFn={actInsideInputWithModifier:!1};var PFn=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=Bs(),{deleteElements:r}=$de(),i=kP(e,TFn),o=kP(t);O.useEffect(()=>{if(i){const{edges:s,getNodes:a}=n.getState(),l=a().filter(u=>u.selected),c=s.filter(u=>u.selected);r({nodes:l,edges:c}),n.setState({nodesSelectionActive:!1})}},[i]),O.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])};function RFn(e){const t=Bs();O.useEffect(()=>{let n;const r=()=>{var o,s;if(!e.current)return;const i=mde(e.current);(i.height===0||i.width===0)&&((s=(o=t.getState()).onError)==null||s.call(o,"004",$g.error004())),t.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const Ede={position:"absolute",width:"100%",height:"100%",top:0,left:0},AFn=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,mM=e=>({x:e.x,y:e.y,zoom:e.k}),dx=(e,t)=>e.target.closest(`.${t}`),Oke=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),xke=e=>{const t=e.ctrlKey&&$F()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},DFn=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),NFn=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:o=!0,panOnScroll:s=!1,panOnScrollSpeed:a=.5,panOnScrollMode:l=iy.Free,zoomOnDoubleClick:c=!0,elementsSelectable:u,panOnDrag:f=!0,defaultViewport:d,translateExtent:h,minZoom:p,maxZoom:g,zoomActivationKeyCode:y,preventScrolling:v=!0,children:x,noWheelClassName:m,noPanClassName:w})=>{const S=O.useRef(),C=Bs(),$=O.useRef(!1),E=O.useRef(!1),R=O.useRef(null),N=O.useRef({x:0,y:0,zoom:0}),{d3Zoom:I,d3Selection:j,d3ZoomHandler:A,userSelectionActive:T}=Ti(DFn,Xl),D=kP(y),L=O.useRef(0),W=O.useRef(!1),V=O.useRef();return RFn(R),O.useEffect(()=>{if(R.current){const Q=R.current.getBoundingClientRect(),B=Fjn().scaleExtent([p,g]).translateExtent(h),Y=Sf(R.current).call(B),U=My.translate(d.x,d.y).scale(k_(d.zoom,p,g)),q=[[0,0],[Q.width,Q.height]],Z=B.constrain()(U,q,h);B.transform(Y,Z),B.wheelDelta(xke),C.setState({d3Zoom:B,d3Selection:Y,d3ZoomHandler:Y.on("wheel.zoom"),transform:[Z.x,Z.y,Z.k],domNode:R.current.closest(".react-flow")})}},[]),O.useEffect(()=>{j&&I&&(s&&!D&&!T?j.on("wheel.zoom",Q=>{if(dx(Q,m))return!1;Q.preventDefault(),Q.stopImmediatePropagation();const B=j.property("__zoom").k||1,Y=$F();if(Q.ctrlKey&&o&&Y){const ae=jd(Q),ue=xke(Q),me=B*Math.pow(2,ue);I.scaleTo(j,me,ae,Q);return}const U=Q.deltaMode===1?20:1;let q=l===iy.Vertical?0:Q.deltaX*U,Z=l===iy.Horizontal?0:Q.deltaY*U;!Y&&Q.shiftKey&&l!==iy.Vertical&&(q=Q.deltaY*U,Z=0),I.translateBy(j,-(q/B)*a,-(Z/B)*a,{internal:!0});const oe=mM(j.property("__zoom")),{onViewportChangeStart:ce,onViewportChange:re,onViewportChangeEnd:fe}=C.getState();clearTimeout(V.current),W.current||(W.current=!0,t==null||t(Q,oe),ce==null||ce(oe)),W.current&&(e==null||e(Q,oe),re==null||re(oe),V.current=setTimeout(()=>{n==null||n(Q,oe),fe==null||fe(oe),W.current=!1},150))},{passive:!1}):typeof A<"u"&&j.on("wheel.zoom",function(Q,B){if(!v||dx(Q,m))return null;Q.preventDefault(),A.call(this,Q,B)},{passive:!1}))},[T,s,l,j,I,A,D,o,v,m,t,e,n]),O.useEffect(()=>{I&&I.on("start",Q=>{var U,q;if(!Q.sourceEvent||Q.sourceEvent.internal)return null;L.current=(U=Q.sourceEvent)==null?void 0:U.button;const{onViewportChangeStart:B}=C.getState(),Y=mM(Q.transform);$.current=!0,N.current=Y,((q=Q.sourceEvent)==null?void 0:q.type)==="mousedown"&&C.setState({paneDragging:!0}),B==null||B(Y),t==null||t(Q.sourceEvent,Y)})},[I,t]),O.useEffect(()=>{I&&(T&&!$.current?I.on("zoom",null):T||I.on("zoom",Q=>{var Y;const{onViewportChange:B}=C.getState();if(C.setState({transform:[Q.transform.x,Q.transform.y,Q.transform.k]}),E.current=!!(r&&Oke(f,L.current??0)),(e||B)&&!((Y=Q.sourceEvent)!=null&&Y.internal)){const U=mM(Q.transform);B==null||B(U),e==null||e(Q.sourceEvent,U)}}))},[T,I,e,f,r]),O.useEffect(()=>{I&&I.on("end",Q=>{if(!Q.sourceEvent||Q.sourceEvent.internal)return null;const{onViewportChangeEnd:B}=C.getState();if($.current=!1,C.setState({paneDragging:!1}),r&&Oke(f,L.current??0)&&!E.current&&r(Q.sourceEvent),E.current=!1,(n||B)&&AFn(N.current,Q.transform)){const Y=mM(Q.transform);N.current=Y,clearTimeout(S.current),S.current=setTimeout(()=>{B==null||B(Y),n==null||n(Q.sourceEvent,Y)},s?150:0)}})},[I,s,f,n,r]),O.useEffect(()=>{I&&I.filter(Q=>{const B=D||i,Y=o&&Q.ctrlKey;if((f===!0||Array.isArray(f)&&f.includes(1))&&Q.button===1&&Q.type==="mousedown"&&(dx(Q,"react-flow__node")||dx(Q,"react-flow__edge")))return!0;if(!f&&!B&&!s&&!c&&!o||T||!c&&Q.type==="dblclick"||dx(Q,m)&&Q.type==="wheel"||dx(Q,w)&&(Q.type!=="wheel"||s&&Q.type==="wheel"&&!D)||!o&&Q.ctrlKey&&Q.type==="wheel"||!B&&!s&&!Y&&Q.type==="wheel"||!f&&(Q.type==="mousedown"||Q.type==="touchstart")||Array.isArray(f)&&!f.includes(Q.button)&&(Q.type==="mousedown"||Q.type==="touchstart"))return!1;const U=Array.isArray(f)&&f.includes(Q.button)||!Q.button||Q.button<=1;return(!Q.ctrlKey||Q.type==="wheel")&&U})},[T,I,i,o,s,c,f,u,D]),ie.createElement("div",{className:"react-flow__renderer",ref:R,style:Ede},x)},MFn=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function IFn(){const{userSelectionActive:e,userSelectionRect:t}=Ti(MFn,Xl);return e&&t?ie.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function wke(e,t){const n=e.find(r=>r.id===t.parentNode);if(n){const r=t.position.x+t.width-n.width,i=t.position.y+t.height-n.height;if(r>0||i>0||t.position.x<0||t.position.y<0){if(n.style={...n.style},n.style.width=n.style.width??n.width,n.style.height=n.style.height??n.height,r>0&&(n.style.width+=r),i>0&&(n.style.height+=i),t.position.x<0){const o=Math.abs(t.position.x);n.position.x=n.position.x-o,n.style.width+=o,t.position.x=0}if(t.position.y<0){const o=Math.abs(t.position.y);n.position.y=n.position.y-o,n.style.height+=o,t.position.y=0}n.width=n.style.width,n.height=n.style.height}}}function Rnt(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,i)=>{const o=e.filter(a=>a.id===i.id);if(o.length===0)return r.push(i),r;const s={...i};for(const a of o)if(a)switch(a.type){case"select":{s.selected=a.selected;break}case"position":{typeof a.position<"u"&&(s.position=a.position),typeof a.positionAbsolute<"u"&&(s.positionAbsolute=a.positionAbsolute),typeof a.dragging<"u"&&(s.dragging=a.dragging),s.expandParent&&wke(r,s);break}case"dimensions":{typeof a.dimensions<"u"&&(s.width=a.dimensions.width,s.height=a.dimensions.height),typeof a.updateStyle<"u"&&(s.style={...s.style||{},...a.dimensions}),typeof a.resizing=="boolean"&&(s.resizing=a.resizing),s.expandParent&&wke(r,s);break}case"remove":return r}return r.push(s),r},n)}function Ant(e,t){return Rnt(e,t)}function LFn(e,t){return Rnt(e,t)}const Em=(e,t)=>({id:e,type:"select",selected:t});function sw(e,t){return e.reduce((n,r)=>{const i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(Em(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(Em(r.id,!1))),n},[])}const $U=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},jFn=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),Dnt=O.memo(({isSelecting:e,selectionMode:t=$P.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:o,onPaneContextMenu:s,onPaneScroll:a,onPaneMouseEnter:l,onPaneMouseMove:c,onPaneMouseLeave:u,children:f})=>{const d=O.useRef(null),h=Bs(),p=O.useRef(0),g=O.useRef(0),y=O.useRef(),{userSelectionActive:v,elementsSelectable:x,dragging:m}=Ti(jFn,Xl),w=()=>{h.setState({userSelectionActive:!1,userSelectionRect:null}),p.current=0,g.current=0},S=A=>{o==null||o(A),h.getState().resetSelectedElements(),h.setState({nodesSelectionActive:!1})},C=A=>{if(Array.isArray(n)&&(n!=null&&n.includes(2))){A.preventDefault();return}s==null||s(A)},$=a?A=>a(A):void 0,E=A=>{const{resetSelectedElements:T,domNode:D}=h.getState();if(y.current=D==null?void 0:D.getBoundingClientRect(),!x||!e||A.button!==0||A.target!==d.current||!y.current)return;const{x:L,y:W}=Iy(A,y.current);T(),h.setState({userSelectionRect:{width:0,height:0,startX:L,startY:W,x:L,y:W}}),r==null||r(A)},R=A=>{const{userSelectionRect:T,nodeInternals:D,edges:L,transform:W,onNodesChange:V,onEdgesChange:Q,nodeOrigin:B,getNodes:Y}=h.getState();if(!e||!y.current||!T)return;h.setState({userSelectionActive:!0,nodesSelectionActive:!1});const U=Iy(A,y.current),q=T.startX??0,Z=T.startY??0,oe={...T,x:U.x<q?U.x:q,y:U.y<Z?U.y:Z,width:Math.abs(U.x-q),height:Math.abs(U.y-Z)},ce=Y(),re=hnt(D,oe,W,t===$P.Partial,!0,B),fe=pnt(re,L).map(ue=>ue.id),ae=re.map(ue=>ue.id);if(p.current!==ae.length){p.current=ae.length;const ue=sw(ce,ae);ue.length&&(V==null||V(ue))}if(g.current!==fe.length){g.current=fe.length;const ue=sw(L,fe);ue.length&&(Q==null||Q(ue))}h.setState({userSelectionRect:oe})},N=A=>{if(A.button!==0)return;const{userSelectionRect:T}=h.getState();!v&&T&&A.target===d.current&&(S==null||S(A)),h.setState({nodesSelectionActive:p.current>0}),w(),i==null||i(A)},I=A=>{v&&(h.setState({nodesSelectionActive:p.current>0}),i==null||i(A)),w()},j=x&&(e||v);return ie.createElement("div",{className:Ju(["react-flow__pane",{dragging:m,selection:e}]),onClick:j?void 0:$U(S,d),onContextMenu:$U(C,d),onWheel:$U($,d),onMouseEnter:j?void 0:l,onMouseDown:j?E:void 0,onMouseMove:j?R:c,onMouseUp:j?N:void 0,onMouseLeave:j?I:u,ref:d,style:Ede},f,ie.createElement(IFn,null))});Dnt.displayName="Pane";function Nnt(e,t){if(!e.parentNode)return!1;const n=t.get(e.parentNode);return n?n.selected?!0:Nnt(n,t):!1}function Ske(e,t,n){let r=e;do{if(r!=null&&r.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function FFn(e,t,n,r){return Array.from(e.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||!Nnt(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>{var o,s;return{id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(((o=i.positionAbsolute)==null?void 0:o.x)??0),y:n.y-(((s=i.positionAbsolute)==null?void 0:s.y)??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode,width:i.width,height:i.height,expandParent:i.expandParent}})}function zFn(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function Mnt(e,t,n,r,i=[0,0],o){const s=zFn(e,e.extent||r);let a=s;if(e.extent==="parent"&&!e.expandParent)if(e.parentNode&&e.width&&e.height){const u=n.get(e.parentNode),{x:f,y:d}=qw(u,i).positionAbsolute;a=u&&_u(f)&&_u(d)&&_u(u.width)&&_u(u.height)?[[f+e.width*i[0],d+e.height*i[1]],[f+u.width-e.width+e.width*i[0],d+u.height-e.height+e.height*i[1]]]:a}else o==null||o("005",$g.error005()),a=s;else if(e.extent&&e.parentNode&&e.extent!=="parent"){const u=n.get(e.parentNode),{x:f,y:d}=qw(u,i).positionAbsolute;a=[[e.extent[0][0]+f,e.extent[0][1]+d],[e.extent[1][0]+f,e.extent[1][1]+d]]}let l={x:0,y:0};if(e.parentNode){const u=n.get(e.parentNode);l=qw(u,i).positionAbsolute}const c=a&&a!=="parent"?yde(t,a):t;return{position:{x:c.x-l.x,y:c.y-l.y},positionAbsolute:c}}function EU({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?r.find(i=>i.id===e):r[0],r]}const _ke=(e,t,n,r)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const o=Array.from(i),s=t.getBoundingClientRect(),a={x:s.width*r[0],y:s.height*r[1]};return o.map(l=>{const c=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),position:l.getAttribute("data-handlepos"),x:(c.left-s.left-a.x)/n,y:(c.top-s.top-a.y)/n,...mde(l)}})};function eE(e,t,n){return n===void 0?n:r=>{const i=t().nodeInternals.get(e);i&&n(r,{...i})}}function BJ({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:s,nodeInternals:a,onError:l}=t.getState(),c=a.get(e);if(!c){l==null||l("012",$g.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&s)&&(o({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var u;return(u=r==null?void 0:r.current)==null?void 0:u.blur()})):i([e])}function QFn(){const e=Bs();return O.useCallback(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:o}=e.getState(),s=n.touches?n.touches[0].clientX:n.clientX,a=n.touches?n.touches[0].clientY:n.clientY,l={x:(s-r[0])/r[2],y:(a-r[1])/r[2]};return{xSnapped:o?i[0]*Math.round(l.x/i[0]):l.x,ySnapped:o?i[1]*Math.round(l.y/i[1]):l.y,...l}},[])}function kU(e){return(t,n,r)=>e==null?void 0:e(t,r)}function Int({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,selectNodesOnDrag:s}){const a=Bs(),[l,c]=O.useState(!1),u=O.useRef([]),f=O.useRef({x:null,y:null}),d=O.useRef(0),h=O.useRef(null),p=O.useRef({x:0,y:0}),g=O.useRef(null),y=O.useRef(!1),v=O.useRef(!1),x=QFn();return O.useEffect(()=>{if(e!=null&&e.current){const m=Sf(e.current),w=({x:$,y:E})=>{const{nodeInternals:R,onNodeDrag:N,onSelectionDrag:I,updateNodePositions:j,nodeExtent:A,snapGrid:T,snapToGrid:D,nodeOrigin:L,onError:W}=a.getState();f.current={x:$,y:E};let V=!1,Q={x:0,y:0,x2:0,y2:0};if(u.current.length>1&&A){const Y=Sde(u.current,L);Q=vde(Y)}if(u.current=u.current.map(Y=>{const U={x:$-Y.distance.x,y:E-Y.distance.y};D&&(U.x=T[0]*Math.round(U.x/T[0]),U.y=T[1]*Math.round(U.y/T[1]));const q=[[A[0][0],A[0][1]],[A[1][0],A[1][1]]];u.current.length>1&&A&&!Y.extent&&(q[0][0]=Y.positionAbsolute.x-Q.x+A[0][0],q[1][0]=Y.positionAbsolute.x+(Y.width??0)-Q.x2+A[1][0],q[0][1]=Y.positionAbsolute.y-Q.y+A[0][1],q[1][1]=Y.positionAbsolute.y+(Y.height??0)-Q.y2+A[1][1]);const Z=Mnt(Y,U,R,q,L,W);return V=V||Y.position.x!==Z.position.x||Y.position.y!==Z.position.y,Y.position=Z.position,Y.positionAbsolute=Z.positionAbsolute,Y}),!V)return;j(u.current,!0,!0),c(!0);const B=i?N:kU(I);if(B&&g.current){const[Y,U]=EU({nodeId:i,dragItems:u.current,nodeInternals:R});B(g.current,Y,U)}},S=()=>{if(!h.current)return;const[$,E]=int(p.current,h.current);if($!==0||E!==0){const{transform:R,panBy:N}=a.getState();f.current.x=(f.current.x??0)-$/R[2],f.current.y=(f.current.y??0)-E/R[2],N({x:$,y:E})&&w(f.current)}d.current=requestAnimationFrame(S)},C=$=>{var L;const{nodeInternals:E,multiSelectionActive:R,nodesDraggable:N,unselectNodesAndEdges:I,onNodeDragStart:j,onSelectionDragStart:A}=a.getState();v.current=!0;const T=i?j:kU(A);(!s||!o)&&!R&&i&&((L=E.get(i))!=null&&L.selected||I()),i&&o&&s&&BJ({id:i,store:a,nodeRef:e});const D=x($);if(f.current=D,u.current=FFn(E,N,D,i),T&&u.current){const[W,V]=EU({nodeId:i,dragItems:u.current,nodeInternals:E});T($.sourceEvent,W,V)}};if(t)m.on(".drag",null);else{const $=CLn().on("start",E=>{const{domNode:R,nodeDragThreshold:N}=a.getState();N===0&&C(E);const I=x(E);f.current=I,h.current=(R==null?void 0:R.getBoundingClientRect())||null,p.current=Iy(E.sourceEvent,h.current)}).on("drag",E=>{var j,A;const R=x(E),{autoPanOnNodeDrag:N,nodeDragThreshold:I}=a.getState();if(!y.current&&v.current&&N&&(y.current=!0,S()),!v.current){const T=R.xSnapped-(((j=f==null?void 0:f.current)==null?void 0:j.x)??0),D=R.ySnapped-(((A=f==null?void 0:f.current)==null?void 0:A.y)??0);Math.sqrt(T*T+D*D)>I&&C(E)}(f.current.x!==R.xSnapped||f.current.y!==R.ySnapped)&&u.current&&v.current&&(g.current=E.sourceEvent,p.current=Iy(E.sourceEvent,h.current),w(R))}).on("end",E=>{if(v.current&&(c(!1),y.current=!1,v.current=!1,cancelAnimationFrame(d.current),u.current)){const{updateNodePositions:R,nodeInternals:N,onNodeDragStop:I,onSelectionDragStop:j}=a.getState(),A=i?I:kU(j);if(R(u.current,!1,!1),A){const[T,D]=EU({nodeId:i,dragItems:u.current,nodeInternals:N});A(E.sourceEvent,T,D)}}}).filter(E=>{const R=E.target;return!E.button&&(!n||!Ske(R,`.${n}`,e))&&(!r||Ske(R,r,e))});return m.call($),()=>{m.on(".drag",null)}}}},[e,t,n,r,o,a,i,s,x]),l}function Lnt(){const e=Bs();return O.useCallback(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:o,getNodes:s,snapToGrid:a,snapGrid:l,onError:c,nodesDraggable:u}=e.getState(),f=s().filter(x=>x.selected&&(x.draggable||u&&typeof x.draggable>"u")),d=a?l[0]:5,h=a?l[1]:5,p=n.isShiftPressed?4:1,g=n.x*d*p,y=n.y*h*p,v=f.map(x=>{if(x.positionAbsolute){const m={x:x.positionAbsolute.x+g,y:x.positionAbsolute.y+y};a&&(m.x=l[0]*Math.round(m.x/l[0]),m.y=l[1]*Math.round(m.y/l[1]));const{positionAbsolute:w,position:S}=Mnt(x,m,r,i,void 0,c);x.position=S,x.positionAbsolute=w}return x});o(v,!0,!1)},[])}const Yw={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var tE=e=>{const t=({id:n,type:r,data:i,xPos:o,yPos:s,xPosOrigin:a,yPosOrigin:l,selected:c,onClick:u,onMouseEnter:f,onMouseMove:d,onMouseLeave:h,onContextMenu:p,onDoubleClick:g,style:y,className:v,isDraggable:x,isSelectable:m,isConnectable:w,isFocusable:S,selectNodesOnDrag:C,sourcePosition:$,targetPosition:E,hidden:R,resizeObserver:N,dragHandle:I,zIndex:j,isParent:A,noDragClassName:T,noPanClassName:D,initialized:L,disableKeyboardA11y:W,ariaLabel:V,rfId:Q})=>{const B=Bs(),Y=O.useRef(null),U=O.useRef($),q=O.useRef(E),Z=O.useRef(r),oe=m||x||u||f||d||h,ce=Lnt(),re=eE(n,B.getState,f),fe=eE(n,B.getState,d),ae=eE(n,B.getState,h),ue=eE(n,B.getState,p),me=eE(n,B.getState,g),ne=ke=>{const{nodeDragThreshold:ze}=B.getState();if(m&&(!C||!x||ze>0)&&BJ({id:n,store:B,nodeRef:Y}),u){const Je=B.getState().nodeInternals.get(n);Je&&u(ke,{...Je})}},Le=ke=>{if(!LJ(ke))if(snt.includes(ke.key)&&m){const ze=ke.key==="Escape";BJ({id:n,store:B,unselect:ze,nodeRef:Y})}else!W&&x&&c&&Object.prototype.hasOwnProperty.call(Yw,ke.key)&&(B.setState({ariaLiveMessage:`Moved selected node ${ke.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~s}`}),ce({x:Yw[ke.key].x,y:Yw[ke.key].y,isShiftPressed:ke.shiftKey}))};O.useEffect(()=>{if(Y.current&&!R){const ke=Y.current;return N==null||N.observe(ke),()=>N==null?void 0:N.unobserve(ke)}},[R]),O.useEffect(()=>{const ke=Z.current!==r,ze=U.current!==$,Je=q.current!==E;Y.current&&(ke||ze||Je)&&(ke&&(Z.current=r),ze&&(U.current=$),Je&&(q.current=E),B.getState().updateNodeDimensions([{id:n,nodeElement:Y.current,forceUpdate:!0}]))},[n,r,$,E]);const _e=Int({nodeRef:Y,disabled:R||!x,noDragClassName:T,handleSelector:I,nodeId:n,isSelectable:m,selectNodesOnDrag:C});return R?null:ie.createElement("div",{className:Ju(["react-flow__node",`react-flow__node-${r}`,{[D]:x},v,{selected:c,selectable:m,parent:A,dragging:_e}]),ref:Y,style:{zIndex:j,transform:`translate(${a}px,${l}px)`,pointerEvents:oe?"all":"none",visibility:L?"visible":"hidden",...y},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:re,onMouseMove:fe,onMouseLeave:ae,onContextMenu:ue,onClick:ne,onDoubleClick:me,onKeyDown:S?Le:void 0,tabIndex:S?0:void 0,role:S?"button":void 0,"aria-describedby":W?void 0:`${$nt}-${Q}`,"aria-label":V},ie.createElement(tFn,{value:n},ie.createElement(e,{id:n,data:i,type:r,xPos:o,yPos:s,selected:c,isConnectable:w,sourcePosition:$,targetPosition:E,dragging:_e,dragHandle:I,zIndex:j})))};return t.displayName="NodeWrapper",O.memo(t)};const BFn=e=>{const t=e.getNodes().filter(n=>n.selected);return{...Sde(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function WFn({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=Bs(),{width:i,height:o,x:s,y:a,transformString:l,userSelectionActive:c}=Ti(BFn,Xl),u=Lnt(),f=O.useRef(null);if(O.useEffect(()=>{var p;n||(p=f.current)==null||p.focus({preventScroll:!0})},[n]),Int({nodeRef:f}),c||!i||!o)return null;const d=e?p=>{const g=r.getState().getNodes().filter(y=>y.selected);e(p,g)}:void 0,h=p=>{Object.prototype.hasOwnProperty.call(Yw,p.key)&&u({x:Yw[p.key].x,y:Yw[p.key].y,isShiftPressed:p.shiftKey})};return ie.createElement("div",{className:Ju(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l}},ie.createElement("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:i,height:o,top:a,left:s}}))}var VFn=O.memo(WFn);const UFn=e=>e.nodesSelectionActive,jnt=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,deleteKeyCode:a,onMove:l,onMoveStart:c,onMoveEnd:u,selectionKeyCode:f,selectionOnDrag:d,selectionMode:h,onSelectionStart:p,onSelectionEnd:g,multiSelectionKeyCode:y,panActivationKeyCode:v,zoomActivationKeyCode:x,elementsSelectable:m,zoomOnScroll:w,zoomOnPinch:S,panOnScroll:C,panOnScrollSpeed:$,panOnScrollMode:E,zoomOnDoubleClick:R,panOnDrag:N,defaultViewport:I,translateExtent:j,minZoom:A,maxZoom:T,preventScrolling:D,onSelectionContextMenu:L,noWheelClassName:W,noPanClassName:V,disableKeyboardA11y:Q})=>{const B=Ti(UFn),Y=kP(f),U=kP(v),q=U||N,Z=U||C,oe=Y||d&&q!==!0;return PFn({deleteKeyCode:a,multiSelectionKeyCode:y}),ie.createElement(NFn,{onMove:l,onMoveStart:c,onMoveEnd:u,onPaneContextMenu:o,elementsSelectable:m,zoomOnScroll:w,zoomOnPinch:S,panOnScroll:Z,panOnScrollSpeed:$,panOnScrollMode:E,zoomOnDoubleClick:R,panOnDrag:!Y&&q,defaultViewport:I,translateExtent:j,minZoom:A,maxZoom:T,zoomActivationKeyCode:x,preventScrolling:D,noWheelClassName:W,noPanClassName:V},ie.createElement(Dnt,{onSelectionStart:p,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:q,isSelecting:!!oe,selectionMode:h},e,B&&ie.createElement(VFn,{onSelectionContextMenu:L,noPanClassName:V,disableKeyboardA11y:Q})))};jnt.displayName="FlowRenderer";var qFn=O.memo(jnt);function YFn(e){return Ti(O.useCallback(n=>e?hnt(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function XFn(e){const t={input:tE(e.input||wnt),default:tE(e.default||QJ),output:tE(e.output||_nt),group:tE(e.group||Cde)},n={},r=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,o)=>(i[o]=tE(e[o]||QJ),i),n);return{...t,...r}}const HFn=({x:e,y:t,width:n,height:r,origin:i})=>!n||!r?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]},ZFn=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Fnt=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:o,onError:s}=Ti(ZFn,Xl),a=YFn(e.onlyRenderVisibleElements),l=O.useRef(),c=O.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const u=new ResizeObserver(f=>{const d=f.map(h=>({id:h.target.getAttribute("data-id"),nodeElement:h.target,forceUpdate:!0}));o(d)});return l.current=u,u},[]);return O.useEffect(()=>()=>{var u;(u=l==null?void 0:l.current)==null||u.disconnect()},[]),ie.createElement("div",{className:"react-flow__nodes",style:Ede},a.map(u=>{var S,C;let f=u.type||"default";e.nodeTypes[f]||(s==null||s("003",$g.error003(f)),f="default");const d=e.nodeTypes[f]||e.nodeTypes.default,h=!!(u.draggable||t&&typeof u.draggable>"u"),p=!!(u.selectable||i&&typeof u.selectable>"u"),g=!!(u.connectable||n&&typeof u.connectable>"u"),y=!!(u.focusable||r&&typeof u.focusable>"u"),v=e.nodeExtent?yde(u.positionAbsolute,e.nodeExtent):u.positionAbsolute,x=(v==null?void 0:v.x)??0,m=(v==null?void 0:v.y)??0,w=HFn({x,y:m,width:u.width??0,height:u.height??0,origin:e.nodeOrigin});return ie.createElement(d,{key:u.id,id:u.id,className:u.className,style:u.style,type:f,data:u.data,sourcePosition:u.sourcePosition||$t.Bottom,targetPosition:u.targetPosition||$t.Top,hidden:u.hidden,xPos:x,yPos:m,xPosOrigin:w.x,yPosOrigin:w.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!u.selected,isDraggable:h,isSelectable:p,isConnectable:g,isFocusable:y,resizeObserver:c,dragHandle:u.dragHandle,zIndex:((S=u[Wo])==null?void 0:S.z)??0,isParent:!!((C=u[Wo])!=null&&C.isParent),noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!u.width&&!!u.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:u.ariaLabel})}))};Fnt.displayName="NodeRenderer";var GFn=O.memo(Fnt);const KFn=(e,t,n)=>n===$t.Left?e-t:n===$t.Right?e+t:e,JFn=(e,t,n)=>n===$t.Top?e-t:n===$t.Bottom?e+t:e,Cke="react-flow__edgeupdater",$ke=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:s,type:a})=>ie.createElement("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:s,className:Ju([Cke,`${Cke}-${a}`]),cx:KFn(t,r,e),cy:JFn(n,r,e),r,stroke:"transparent",fill:"transparent"}),e4n=()=>!0;var hx=e=>{const t=({id:n,className:r,type:i,data:o,onClick:s,onEdgeDoubleClick:a,selected:l,animated:c,label:u,labelStyle:f,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:y,source:v,target:x,sourceX:m,sourceY:w,targetX:S,targetY:C,sourcePosition:$,targetPosition:E,elementsSelectable:R,hidden:N,sourceHandleId:I,targetHandleId:j,onContextMenu:A,onMouseEnter:T,onMouseMove:D,onMouseLeave:L,edgeUpdaterRadius:W,onEdgeUpdate:V,onEdgeUpdateStart:Q,onEdgeUpdateEnd:B,markerEnd:Y,markerStart:U,rfId:q,ariaLabel:Z,isFocusable:oe,isUpdatable:ce,pathOptions:re,interactionWidth:fe})=>{const ae=O.useRef(null),[ue,me]=O.useState(!1),[ne,Le]=O.useState(!1),_e=Bs(),ke=O.useMemo(()=>`url(#${FJ(U,q)})`,[U,q]),ze=O.useMemo(()=>`url(#${FJ(Y,q)})`,[Y,q]);if(N)return null;const Je=on=>{var Qt;const{edges:At,addSelectedEdges:Hr,unselectNodesAndEdges:bi,multiSelectionActive:Zr}=_e.getState(),Ir=At.find(ar=>ar.id===n);Ir&&(R&&(_e.setState({nodesSelectionActive:!1}),Ir.selected&&Zr?(bi({nodes:[],edges:[Ir]}),(Qt=ae.current)==null||Qt.blur()):Hr([n])),s&&s(on,Ir))},Be=J$(n,_e.getState,a),K=J$(n,_e.getState,A),ge=J$(n,_e.getState,T),Oe=J$(n,_e.getState,D),Ve=J$(n,_e.getState,L),Fe=(on,At)=>{if(on.button!==0)return;const{edges:Hr,isValidConnection:bi}=_e.getState(),Zr=At?x:v,Ir=(At?j:I)||null,Qt=At?"target":"source",ar=bi||e4n,_n=At,wr=Hr.find(Kt=>Kt.id===n);Le(!0),Q==null||Q(on,wr,Qt);const wo=Kt=>{Le(!1),B==null||B(Kt,wr,Qt)};vnt({event:on,handleId:Ir,nodeId:Zr,onConnect:Kt=>V==null?void 0:V(wr,Kt),isTarget:_n,getState:_e.getState,setState:_e.setState,isValidConnection:ar,edgeUpdaterType:Qt,onEdgeUpdateEnd:wo})},ye=on=>Fe(on,!0),Ne=on=>Fe(on,!1),ft=()=>me(!0),ht=()=>me(!1),pt=!R&&!s,Mt=on=>{var At;if(snt.includes(on.key)&&R){const{unselectNodesAndEdges:Hr,addSelectedEdges:bi,edges:Zr}=_e.getState();on.key==="Escape"?((At=ae.current)==null||At.blur(),Hr({edges:[Zr.find(Qt=>Qt.id===n)]})):bi([n])}};return ie.createElement("g",{className:Ju(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:l,animated:c,inactive:pt,updating:ue}]),onClick:Je,onDoubleClick:Be,onContextMenu:K,onMouseEnter:ge,onMouseMove:Oe,onMouseLeave:Ve,onKeyDown:oe?Mt:void 0,tabIndex:oe?0:void 0,role:oe?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":Z===null?void 0:Z||`Edge from ${v} to ${x}`,"aria-describedby":oe?`${Ent}-${q}`:void 0,ref:ae},!ne&&ie.createElement(e,{id:n,source:v,target:x,selected:l,animated:c,label:u,labelStyle:f,labelShowBg:d,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,data:o,style:y,sourceX:m,sourceY:w,targetX:S,targetY:C,sourcePosition:$,targetPosition:E,sourceHandleId:I,targetHandleId:j,markerStart:ke,markerEnd:ze,pathOptions:re,interactionWidth:fe}),ce&&ie.createElement(ie.Fragment,null,(ce==="source"||ce===!0)&&ie.createElement($ke,{position:$,centerX:m,centerY:w,radius:W,onMouseDown:ye,onMouseEnter:ft,onMouseOut:ht,type:"source"}),(ce==="target"||ce===!0)&&ie.createElement($ke,{position:E,centerX:S,centerY:C,radius:W,onMouseDown:Ne,onMouseEnter:ft,onMouseOut:ht,type:"target"})))};return t.displayName="EdgeWrapper",O.memo(t)};function t4n(e){const t={default:hx(e.default||EF),straight:hx(e.bezier||xde),step:hx(e.step||Ode),smoothstep:hx(e.step||E9),simplebezier:hx(e.simplebezier||bde)},n={},r=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,o)=>(i[o]=hx(e[o]||EF),i),n);return{...t,...r}}function Eke(e,t,n=null){const r=((n==null?void 0:n.x)||0)+t.x,i=((n==null?void 0:n.y)||0)+t.y,o=(n==null?void 0:n.width)||t.width,s=(n==null?void 0:n.height)||t.height;switch(e){case $t.Top:return{x:r+o/2,y:i};case $t.Right:return{x:r+o,y:i+s/2};case $t.Bottom:return{x:r+o/2,y:i+s};case $t.Left:return{x:r,y:i+s/2}}}function kke(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const n4n=(e,t,n,r,i,o)=>{const s=Eke(n,e,t),a=Eke(o,r,i);return{sourceX:s.x,sourceY:s.y,targetX:a.x,targetY:a.y}};function r4n({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:o,width:s,height:a,transform:l}){const c={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+o)};c.x===c.x2&&(c.x2+=1),c.y===c.y2&&(c.y2+=1);const u=vde({x:(0-l[0])/l[2],y:(0-l[1])/l[2],width:s/l[2],height:a/l[2]}),f=Math.max(0,Math.min(u.x2,c.x2)-Math.max(u.x,c.x)),d=Math.max(0,Math.min(u.y2,c.y2)-Math.max(u.y,c.y));return Math.ceil(f*d)>0}function Tke(e){var r,i,o,s,a;const t=((r=e==null?void 0:e[Wo])==null?void 0:r.handleBounds)||null,n=t&&(e==null?void 0:e.width)&&(e==null?void 0:e.height)&&typeof((i=e==null?void 0:e.positionAbsolute)==null?void 0:i.x)<"u"&&typeof((o=e==null?void 0:e.positionAbsolute)==null?void 0:o.y)<"u";return[{x:((s=e==null?void 0:e.positionAbsolute)==null?void 0:s.x)||0,y:((a=e==null?void 0:e.positionAbsolute)==null?void 0:a.y)||0,width:(e==null?void 0:e.width)||0,height:(e==null?void 0:e.height)||0},t,!!n]}const i4n=[{level:0,isMaxLevel:!0,edges:[]}];function o4n(e,t,n=!1){let r=-1;const i=e.reduce((s,a)=>{var u,f;const l=_u(a.zIndex);let c=l?a.zIndex:0;if(n){const d=t.get(a.target),h=t.get(a.source),p=a.selected||(d==null?void 0:d.selected)||(h==null?void 0:h.selected),g=Math.max(((u=h==null?void 0:h[Wo])==null?void 0:u.z)||0,((f=d==null?void 0:d[Wo])==null?void 0:f.z)||0,1e3);c=(l?a.zIndex:0)+(p?g:0)}return s[c]?s[c].push(a):s[c]=[a],r=c>r?c:r,s},{}),o=Object.entries(i).map(([s,a])=>{const l=+s;return{edges:a,level:l,isMaxLevel:l===r}});return o.length===0?i4n:o}function s4n(e,t,n){const r=Ti(O.useCallback(i=>e?i.edges.filter(o=>{const s=t.get(o.source),a=t.get(o.target);return(s==null?void 0:s.width)&&(s==null?void 0:s.height)&&(a==null?void 0:a.width)&&(a==null?void 0:a.height)&&r4n({sourcePos:s.positionAbsolute||{x:0,y:0},targetPos:a.positionAbsolute||{x:0,y:0},sourceWidth:s.width,sourceHeight:s.height,targetWidth:a.width,targetHeight:a.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return o4n(r,t,n)}const a4n=({color:e="none",strokeWidth:t=1})=>ie.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),l4n=({color:e="none",strokeWidth:t=1})=>ie.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Pke={[EP.Arrow]:a4n,[EP.ArrowClosed]:l4n};function c4n(e){const t=Bs();return O.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(Pke,e)?Pke[e]:((o=(i=t.getState()).onError)==null||o.call(i,"009",$g.error009(e)),null)},[e])}const u4n=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:a="auto-start-reverse"})=>{const l=c4n(t);return l?ie.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:a,refX:"0",refY:"0"},ie.createElement(l,{color:n,strokeWidth:s})):null},f4n=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((i,o)=>([o.markerStart,o.markerEnd].forEach(s=>{if(s&&typeof s=="object"){const a=FJ(s,t);r.includes(a)||(i.push({id:a,color:s.color||e,...s}),r.push(a))}}),i),[]).sort((i,o)=>i.id.localeCompare(o.id))},znt=({defaultColor:e,rfId:t})=>{const n=Ti(O.useCallback(f4n({defaultColor:e,rfId:t}),[e,t]),(r,i)=>!(r.length!==i.length||r.some((o,s)=>o.id!==i[s].id)));return ie.createElement("defs",null,n.map(r=>ie.createElement(u4n,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};znt.displayName="MarkerDefinitions";var d4n=O.memo(znt);const h4n=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Qnt=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:o,onEdgeUpdate:s,onEdgeContextMenu:a,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:u,onEdgeClick:f,edgeUpdaterRadius:d,onEdgeDoubleClick:h,onEdgeUpdateStart:p,onEdgeUpdateEnd:g,children:y})=>{const{edgesFocusable:v,edgesUpdatable:x,elementsSelectable:m,width:w,height:S,connectionMode:C,nodeInternals:$,onError:E}=Ti(h4n,Xl),R=s4n(t,$,n);return w?ie.createElement(ie.Fragment,null,R.map(({level:N,edges:I,isMaxLevel:j})=>ie.createElement("svg",{key:N,style:{zIndex:N},width:w,height:S,className:"react-flow__edges react-flow__container"},j&&ie.createElement(d4n,{defaultColor:e,rfId:r}),ie.createElement("g",null,I.map(A=>{const[T,D,L]=Tke($.get(A.source)),[W,V,Q]=Tke($.get(A.target));if(!L||!Q)return null;let B=A.type||"default";i[B]||(E==null||E("011",$g.error011(B)),B="default");const Y=i[B]||i.default,U=C===Mb.Strict?V.target:(V.target??[]).concat(V.source??[]),q=kke(D.source,A.sourceHandle),Z=kke(U,A.targetHandle),oe=(q==null?void 0:q.position)||$t.Bottom,ce=(Z==null?void 0:Z.position)||$t.Top,re=!!(A.focusable||v&&typeof A.focusable>"u"),fe=typeof s<"u"&&(A.updatable||x&&typeof A.updatable>"u");if(!q||!Z)return E==null||E("008",$g.error008(q,A)),null;const{sourceX:ae,sourceY:ue,targetX:me,targetY:ne}=n4n(T,q,oe,W,Z,ce);return ie.createElement(Y,{key:A.id,id:A.id,className:Ju([A.className,o]),type:B,data:A.data,selected:!!A.selected,animated:!!A.animated,hidden:!!A.hidden,label:A.label,labelStyle:A.labelStyle,labelShowBg:A.labelShowBg,labelBgStyle:A.labelBgStyle,labelBgPadding:A.labelBgPadding,labelBgBorderRadius:A.labelBgBorderRadius,style:A.style,source:A.source,target:A.target,sourceHandleId:A.sourceHandle,targetHandleId:A.targetHandle,markerEnd:A.markerEnd,markerStart:A.markerStart,sourceX:ae,sourceY:ue,targetX:me,targetY:ne,sourcePosition:oe,targetPosition:ce,elementsSelectable:m,onEdgeUpdate:s,onContextMenu:a,onMouseEnter:l,onMouseMove:c,onMouseLeave:u,onClick:f,edgeUpdaterRadius:d,onEdgeDoubleClick:h,onEdgeUpdateStart:p,onEdgeUpdateEnd:g,rfId:r,ariaLabel:A.ariaLabel,isFocusable:re,isUpdatable:fe,pathOptions:"pathOptions"in A?A.pathOptions:void 0,interactionWidth:A.interactionWidth})})))),y):null};Qnt.displayName="EdgeRenderer";var p4n=O.memo(Qnt);const g4n=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function m4n({children:e}){const t=Ti(g4n);return ie.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function y4n(e){const t=$de(),n=O.useRef(!1);O.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const v4n={[$t.Left]:$t.Right,[$t.Right]:$t.Left,[$t.Top]:$t.Bottom,[$t.Bottom]:$t.Top},Bnt=({nodeId:e,handleType:t,style:n,type:r=Im.Bezier,CustomComponent:i,connectionStatus:o})=>{var C,$,E;const{fromNode:s,handleId:a,toX:l,toY:c,connectionMode:u}=Ti(O.useCallback(R=>({fromNode:R.nodeInternals.get(e),handleId:R.connectionHandleId,toX:(R.connectionPosition.x-R.transform[0])/R.transform[2],toY:(R.connectionPosition.y-R.transform[1])/R.transform[2],connectionMode:R.connectionMode}),[e]),Xl),f=(C=s==null?void 0:s[Wo])==null?void 0:C.handleBounds;let d=f==null?void 0:f[t];if(u===Mb.Loose&&(d=d||(f==null?void 0:f[t==="source"?"target":"source"])),!s||!d)return null;const h=a?d.find(R=>R.id===a):d[0],p=h?h.x+h.width/2:(s.width??0)/2,g=h?h.y+h.height/2:s.height??0,y=((($=s.positionAbsolute)==null?void 0:$.x)??0)+p,v=(((E=s.positionAbsolute)==null?void 0:E.y)??0)+g,x=h==null?void 0:h.position,m=x?v4n[x]:null;if(!x||!m)return null;if(i)return ie.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:s,fromHandle:h,fromX:y,fromY:v,toX:l,toY:c,fromPosition:x,toPosition:m,connectionStatus:o});let w="";const S={sourceX:y,sourceY:v,sourcePosition:x,targetX:l,targetY:c,targetPosition:m};return r===Im.Bezier?[w]=fnt(S):r===Im.Step?[w]=jJ({...S,borderRadius:0}):r===Im.SmoothStep?[w]=jJ(S):r===Im.SimpleBezier?[w]=unt(S):w=`M${y},${v} ${l},${c}`,ie.createElement("path",{d:w,fill:"none",className:"react-flow__connection-path",style:n})};Bnt.displayName="ConnectionLine";const b4n=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function O4n({containerStyle:e,style:t,type:n,component:r}){const{nodeId:i,handleType:o,nodesConnectable:s,width:a,height:l,connectionStatus:c}=Ti(b4n,Xl);return!(i&&o&&a&&s)?null:ie.createElement("svg",{style:e,width:a,height:l,className:"react-flow__edges react-flow__connectionline react-flow__container"},ie.createElement("g",{className:Ju(["react-flow__connection",c])},ie.createElement(Bnt,{nodeId:i,handleType:o,style:t,type:n,CustomComponent:r,connectionStatus:c})))}function Rke(e,t){return O.useRef(null),Bs(),O.useMemo(()=>t(e),[e])}const Wnt=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:o,onNodeClick:s,onEdgeClick:a,onNodeDoubleClick:l,onEdgeDoubleClick:c,onNodeMouseEnter:u,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:h,onSelectionContextMenu:p,onSelectionStart:g,onSelectionEnd:y,connectionLineType:v,connectionLineStyle:x,connectionLineComponent:m,connectionLineContainerStyle:w,selectionKeyCode:S,selectionOnDrag:C,selectionMode:$,multiSelectionKeyCode:E,panActivationKeyCode:R,zoomActivationKeyCode:N,deleteKeyCode:I,onlyRenderVisibleElements:j,elementsSelectable:A,selectNodesOnDrag:T,defaultViewport:D,translateExtent:L,minZoom:W,maxZoom:V,preventScrolling:Q,defaultMarkerColor:B,zoomOnScroll:Y,zoomOnPinch:U,panOnScroll:q,panOnScrollSpeed:Z,panOnScrollMode:oe,zoomOnDoubleClick:ce,panOnDrag:re,onPaneClick:fe,onPaneMouseEnter:ae,onPaneMouseMove:ue,onPaneMouseLeave:me,onPaneScroll:ne,onPaneContextMenu:Le,onEdgeUpdate:_e,onEdgeContextMenu:ke,onEdgeMouseEnter:ze,onEdgeMouseMove:Je,onEdgeMouseLeave:Be,edgeUpdaterRadius:K,onEdgeUpdateStart:ge,onEdgeUpdateEnd:Oe,noDragClassName:Ve,noWheelClassName:Fe,noPanClassName:ye,elevateEdgesOnSelect:Ne,disableKeyboardA11y:ft,nodeOrigin:ht,nodeExtent:pt,rfId:Mt})=>{const on=Rke(e,XFn),At=Rke(t,t4n);return y4n(o),ie.createElement(qFn,{onPaneClick:fe,onPaneMouseEnter:ae,onPaneMouseMove:ue,onPaneMouseLeave:me,onPaneContextMenu:Le,onPaneScroll:ne,deleteKeyCode:I,selectionKeyCode:S,selectionOnDrag:C,selectionMode:$,onSelectionStart:g,onSelectionEnd:y,multiSelectionKeyCode:E,panActivationKeyCode:R,zoomActivationKeyCode:N,elementsSelectable:A,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:Y,zoomOnPinch:U,zoomOnDoubleClick:ce,panOnScroll:q,panOnScrollSpeed:Z,panOnScrollMode:oe,panOnDrag:re,defaultViewport:D,translateExtent:L,minZoom:W,maxZoom:V,onSelectionContextMenu:p,preventScrolling:Q,noDragClassName:Ve,noWheelClassName:Fe,noPanClassName:ye,disableKeyboardA11y:ft},ie.createElement(m4n,null,ie.createElement(p4n,{edgeTypes:At,onEdgeClick:a,onEdgeDoubleClick:c,onEdgeUpdate:_e,onlyRenderVisibleElements:j,onEdgeContextMenu:ke,onEdgeMouseEnter:ze,onEdgeMouseMove:Je,onEdgeMouseLeave:Be,onEdgeUpdateStart:ge,onEdgeUpdateEnd:Oe,edgeUpdaterRadius:K,defaultMarkerColor:B,noPanClassName:ye,elevateEdgesOnSelect:!!Ne,disableKeyboardA11y:ft,rfId:Mt},ie.createElement(O4n,{style:x,type:v,component:m,containerStyle:w})),ie.createElement("div",{className:"react-flow__edgelabel-renderer"}),ie.createElement(GFn,{nodeTypes:on,onNodeClick:s,onNodeDoubleClick:l,onNodeMouseEnter:u,onNodeMouseMove:f,onNodeMouseLeave:d,onNodeContextMenu:h,selectNodesOnDrag:T,onlyRenderVisibleElements:j,noPanClassName:ye,noDragClassName:Ve,disableKeyboardA11y:ft,nodeOrigin:ht,nodeExtent:pt,rfId:Mt})))};Wnt.displayName="GraphView";var x4n=O.memo(Wnt);const WJ=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],um={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:WJ,nodeExtent:WJ,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:Mb.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:Hjn,isValidConnection:void 0},w4n=()=>z5n((e,t)=>({...um,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:o}=t();e({nodeInternals:CU(n,r,i,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",o=typeof r<"u",s=i?CU(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:s,edges:o?r:[],hasDefaultNodes:i,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:o,fitViewOnInitDone:s,fitViewOnInitOptions:a,domNode:l,nodeOrigin:c}=t(),u=l==null?void 0:l.querySelector(".react-flow__viewport");if(!u)return;const f=window.getComputedStyle(u),{m22:d}=new window.DOMMatrixReadOnly(f.transform),h=n.reduce((g,y)=>{const v=i.get(y.id);if(v){const x=mde(y.nodeElement);!!(x.width&&x.height&&(v.width!==x.width||v.height!==x.height||y.forceUpdate))&&(i.set(v.id,{...v,[Wo]:{...v[Wo],handleBounds:{source:_ke(".source",y.nodeElement,d,c),target:_ke(".target",y.nodeElement,d,c)}},...x}),g.push({id:v.id,type:"dimensions",dimensions:x}))}return g},[]);Tnt(i,c);const p=s||o&&!s&&Pnt(t,{initial:!0,...a});e({nodeInternals:new Map(i),fitViewOnInitDone:p}),(h==null?void 0:h.length)>0&&(r==null||r(h))},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:o}=t(),s=n.map(a=>{const l={id:a.id,type:"position",dragging:i};return r&&(l.positionAbsolute=a.positionAbsolute,l.position=a.position),l});o(s)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:o,nodeOrigin:s,getNodes:a,elevateNodesOnSelect:l}=t();if(n!=null&&n.length){if(o){const c=Ant(n,a()),u=CU(c,i,s,l);e({nodeInternals:u})}r==null||r(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let s,a=null;r?s=n.map(l=>Em(l,!0)):(s=sw(o(),n),a=sw(i,[])),gM({changedNodes:s,changedEdges:a,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let s,a=null;r?s=n.map(l=>Em(l,!0)):(s=sw(i,n),a=sw(o(),[])),gM({changedNodes:a,changedEdges:s,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:o}=t(),s=n||o(),a=r||i,l=s.map(u=>(u.selected=!1,Em(u.id,!1))),c=a.map(u=>Em(u.id,!1));gM({changedNodes:l,changedEdges:c,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=t();r==null||r.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=t();r==null||r.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{var r;(r=t().d3Zoom)==null||r.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),o=r().filter(a=>a.selected).map(a=>Em(a.id,!1)),s=n.filter(a=>a.selected).map(a=>Em(a.id,!1));gM({changedNodes:o,changedEdges:s,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(i=>{i.positionAbsolute=yde(i.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:o,d3Zoom:s,d3Selection:a,translateExtent:l}=t();if(!s||!a||!n.x&&!n.y)return!1;const c=My.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),u=[[0,0],[i,o]],f=s==null?void 0:s.constrain()(c,u,l);return s.transform(a,f),r[0]!==f.x||r[1]!==f.y||r[2]!==f.k},cancelConnection:()=>e({connectionNodeId:um.connectionNodeId,connectionHandleId:um.connectionHandleId,connectionHandleType:um.connectionHandleType,connectionStatus:um.connectionStatus,connectionStartHandle:um.connectionStartHandle,connectionEndHandle:um.connectionEndHandle}),reset:()=>e({...um})}),Object.is),kde=({children:e})=>{const t=O.useRef(null);return t.current||(t.current=w4n()),ie.createElement(zjn,{value:t.current},e)};kde.displayName="ReactFlowProvider";const Vnt=({children:e})=>O.useContext($9)?ie.createElement(ie.Fragment,null,e):ie.createElement(kde,null,e);Vnt.displayName="ReactFlowWrapper";const S4n={input:wnt,default:QJ,output:_nt,group:Cde},_4n={default:EF,straight:xde,step:Ode,smoothstep:E9,simplebezier:bde},C4n=[0,0],$4n=[15,15],E4n={x:0,y:0,zoom:1},k4n={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Unt=O.forwardRef(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o=S4n,edgeTypes:s=_4n,onNodeClick:a,onEdgeClick:l,onInit:c,onMove:u,onMoveStart:f,onMoveEnd:d,onConnect:h,onConnectStart:p,onConnectEnd:g,onClickConnectStart:y,onClickConnectEnd:v,onNodeMouseEnter:x,onNodeMouseMove:m,onNodeMouseLeave:w,onNodeContextMenu:S,onNodeDoubleClick:C,onNodeDragStart:$,onNodeDrag:E,onNodeDragStop:R,onNodesDelete:N,onEdgesDelete:I,onSelectionChange:j,onSelectionDragStart:A,onSelectionDrag:T,onSelectionDragStop:D,onSelectionContextMenu:L,onSelectionStart:W,onSelectionEnd:V,connectionMode:Q=Mb.Strict,connectionLineType:B=Im.Bezier,connectionLineStyle:Y,connectionLineComponent:U,connectionLineContainerStyle:q,deleteKeyCode:Z="Backspace",selectionKeyCode:oe="Shift",selectionOnDrag:ce=!1,selectionMode:re=$P.Full,panActivationKeyCode:fe="Space",multiSelectionKeyCode:ae=$F()?"Meta":"Control",zoomActivationKeyCode:ue=$F()?"Meta":"Control",snapToGrid:me=!1,snapGrid:ne=$4n,onlyRenderVisibleElements:Le=!1,selectNodesOnDrag:_e=!0,nodesDraggable:ke,nodesConnectable:ze,nodesFocusable:Je,nodeOrigin:Be=C4n,edgesFocusable:K,edgesUpdatable:ge,elementsSelectable:Oe,defaultViewport:Ve=E4n,minZoom:Fe=.5,maxZoom:ye=2,translateExtent:Ne=WJ,preventScrolling:ft=!0,nodeExtent:ht,defaultMarkerColor:pt="#b1b1b7",zoomOnScroll:Mt=!0,zoomOnPinch:on=!0,panOnScroll:At=!1,panOnScrollSpeed:Hr=.5,panOnScrollMode:bi=iy.Free,zoomOnDoubleClick:Zr=!0,panOnDrag:Ir=!0,onPaneClick:Qt,onPaneMouseEnter:ar,onPaneMouseMove:_n,onPaneMouseLeave:wr,onPaneScroll:wo,onPaneContextMenu:Dn,children:Kt,onEdgeUpdate:ui,onEdgeContextMenu:io,onEdgeDoubleClick:Xi,onEdgeMouseEnter:Oi,onEdgeMouseMove:oo,onEdgeMouseLeave:so,onEdgeUpdateStart:fi,onEdgeUpdateEnd:Pa,edgeUpdaterRadius:ul=10,onNodesChange:Ri,onEdgesChange:Ws,noDragClassName:te="nodrag",noWheelClassName:dn="nowheel",noPanClassName:qn="nopan",fitView:Dt=!1,fitViewOptions:se,connectOnClick:Ie=!0,attributionPosition:it,proOptions:bt,defaultEdgeOptions:lr,elevateNodesOnSelect:er=!0,elevateEdgesOnSelect:tr=!1,disableKeyboardA11y:Lr=!1,autoPanOnConnect:vn=!0,autoPanOnNodeDrag:Tr=!0,connectionRadius:Ln=20,isValidConnection:Gr,onError:So,style:Ai,id:SO,nodeDragThreshold:RA,...AA},N9)=>{const _O=SO||"1";return ie.createElement("div",{...AA,style:{...Ai,...k4n},ref:N9,className:Ju(["react-flow",i]),"data-testid":"rf__wrapper",id:SO},ie.createElement(Vnt,null,ie.createElement(x4n,{onInit:c,onMove:u,onMoveStart:f,onMoveEnd:d,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:x,onNodeMouseMove:m,onNodeMouseLeave:w,onNodeContextMenu:S,onNodeDoubleClick:C,nodeTypes:o,edgeTypes:s,connectionLineType:B,connectionLineStyle:Y,connectionLineComponent:U,connectionLineContainerStyle:q,selectionKeyCode:oe,selectionOnDrag:ce,selectionMode:re,deleteKeyCode:Z,multiSelectionKeyCode:ae,panActivationKeyCode:fe,zoomActivationKeyCode:ue,onlyRenderVisibleElements:Le,selectNodesOnDrag:_e,defaultViewport:Ve,translateExtent:Ne,minZoom:Fe,maxZoom:ye,preventScrolling:ft,zoomOnScroll:Mt,zoomOnPinch:on,zoomOnDoubleClick:Zr,panOnScroll:At,panOnScrollSpeed:Hr,panOnScrollMode:bi,panOnDrag:Ir,onPaneClick:Qt,onPaneMouseEnter:ar,onPaneMouseMove:_n,onPaneMouseLeave:wr,onPaneScroll:wo,onPaneContextMenu:Dn,onSelectionContextMenu:L,onSelectionStart:W,onSelectionEnd:V,onEdgeUpdate:ui,onEdgeContextMenu:io,onEdgeDoubleClick:Xi,onEdgeMouseEnter:Oi,onEdgeMouseMove:oo,onEdgeMouseLeave:so,onEdgeUpdateStart:fi,onEdgeUpdateEnd:Pa,edgeUpdaterRadius:ul,defaultMarkerColor:pt,noDragClassName:te,noWheelClassName:dn,noPanClassName:qn,elevateEdgesOnSelect:tr,rfId:_O,disableKeyboardA11y:Lr,nodeOrigin:Be,nodeExtent:ht}),ie.createElement(vFn,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:p,onConnectEnd:g,onClickConnectStart:y,onClickConnectEnd:v,nodesDraggable:ke,nodesConnectable:ze,nodesFocusable:Je,edgesFocusable:K,edgesUpdatable:ge,elementsSelectable:Oe,elevateNodesOnSelect:er,minZoom:Fe,maxZoom:ye,nodeExtent:ht,onNodesChange:Ri,onEdgesChange:Ws,snapToGrid:me,snapGrid:ne,connectionMode:Q,translateExtent:Ne,connectOnClick:Ie,defaultEdgeOptions:lr,fitView:Dt,fitViewOptions:se,onNodesDelete:N,onEdgesDelete:I,onNodeDragStart:$,onNodeDrag:E,onNodeDragStop:R,onSelectionDrag:T,onSelectionDragStart:A,onSelectionDragStop:D,noPanClassName:qn,nodeOrigin:Be,rfId:_O,autoPanOnConnect:vn,autoPanOnNodeDrag:Tr,onError:So,connectionRadius:Ln,isValidConnection:Gr,nodeDragThreshold:RA}),ie.createElement(mFn,{onSelectionChange:j}),Kt,ie.createElement(Wjn,{proOptions:bt,position:it}),ie.createElement(SFn,{rfId:_O,disableKeyboardA11y:Lr})))});Unt.displayName="ReactFlow";function qnt(e){return t=>{const[n,r]=O.useState(t),i=O.useCallback(o=>r(s=>e(o,s)),[]);return[n,r,i]}}const T4n=qnt(Ant),P4n=qnt(LFn);function Ynt(e){return Math.min(e*11+35,200)}function Ake(e,t,n){return{type:"smoothstep",pathOptions:{offset:20,borderRadius:100},data:{direction:n},markerEnd:{type:EP.Arrow},id:`${e}-${t}-${n}`,source:e,sourceHandle:n,targetHandle:n,target:t}}function R4n(e,t,n){const r=Tn.get(t).code.trim().split(`
`).length,i=Ynt(r);return{id:e,data:{atom:t},width:250,type:"custom",height:i,position:{x:0,y:n+20}}}function Dke(e,t,n){let r=0;const i=[],o=[];let s=0;for(const a of e){const l=R4n(a,t[s],r);i.push(l),r=l.position.y+(l.height||0),s++}for(const a of Object.values(n)){const{declaredBy:l,usedBy:c}=a;for(const u of l)for(const f of c)o.push(Ake(u,f,"inputs"),Ake(u,f,"outputs"))}return{nodes:i,edges:o}}function A4n(e){return Math.min(Math.max(e-50*2,100),400)}const Xnt=O.memo(e=>{const{data:t,selected:n,id:r}=e,i=us(t.atom),o=e7().indexOf(r),l=n?"var(--gray-9)":"var(--gray-3)",c=Ti(({width:f})=>f),u=i.code.split(`
`).length;return b.jsxs("div",{children:[b.jsx(oy,{type:"target",id:"inputs",position:$t.Left,style:{background:l}}),b.jsx(oy,{type:"source",id:"inputs",position:$t.Left,style:{background:l}}),b.jsxs("div",{className:ve("flex flex-col bg-card border border-input/50 rounded-md mx-[2px] overflow-hidden",n&&"border-primary"),style:{height:Ynt(u),width:A4n(c)},children:[b.jsx("div",{className:"text-muted-foreground font-semibold text-xs py-1 px-2 bg-muted border-b",children:p3e(i.name,o)}),b.jsx(Jfe,{code:i.code})]}),b.jsx(oy,{type:"source",id:"outputs",position:$t.Right,style:{background:l}}),b.jsx(oy,{type:"target",id:"outputs",position:$t.Right,style:{background:l}})]})});Xnt.displayName="CustomNode";const D4n={custom:Xnt},N4n=e=>b.jsx(kde,{children:b.jsx(M4n,{...e})}),M4n=({cellIds:e,variables:t,cellAtoms:n})=>{const{nodes:r,edges:i}=Dke(e,n,t),[o,s]=P4n([]),[a,l]=T4n(r),[c,u]=O.useState(i),[f,d]=O.useState();O.useEffect(()=>{const{nodes:x,edges:m}=Dke(e,n,t);l(x),u(m),s([])},[e,l,t,n,u,s]),O.useEffect(()=>{if(f){const x=c.filter(m=>{const{source:w,target:S,data:C}=m;return w===f&&C.direction==="outputs"||S===f&&C.direction==="inputs"});s(x)}},[f,s,c]);const h=$de(),[p,g]=Ti(({width:x,height:m})=>[x,m]),y=U_t(()=>{h.fitView({duration:100})},100);O.useEffect(()=>{y()},[p,g,y]);const v=I4n(a,g);return b.jsx(Unt,{nodes:a,edges:o,nodeTypes:D4n,translateExtent:v,onNodeClick:(x,m)=>{const w=m.id;w!==f&&(d(w),s([]))},snapToGrid:!0,fitView:!0,elementsSelectable:!0,minZoom:1,maxZoom:1,draggable:!1,panOnScrollMode:iy.Vertical,zoomOnDoubleClick:!1,nodesDraggable:!1,nodesConnectable:!1,nodesFocusable:!1,edgesFocusable:!1,selectNodesOnDrag:!1,panOnDrag:!1,preventScrolling:!1,zoomOnPinch:!1,panOnScroll:!0,autoPanOnNodeDrag:!1,autoPanOnConnect:!1})};function I4n(e,t){return O.useMemo(()=>{const r=e.reduce((o,{position:s})=>Math.min(o,s.y-t/2-10),Number.POSITIVE_INFINITY),i=e.reduce((o,{position:s})=>Math.max(o,s.y+t/2+10),Number.NEGATIVE_INFINITY);return[[Number.NEGATIVE_INFINITY,r],[Number.POSITIVE_INFINITY,i]]},[e,t])}const L4n=()=>{const e=pet(),t=e7(),[n]=Yjt();return b.jsx("div",{className:ve("w-full h-full flex-1 mx-auto -mb-4 relative"),children:b.jsx(N4n,{cellAtoms:n,variables:e,cellIds:t})})};const l1={name:"name",type:"type-value",defs:"defs-refs"},j4n=[{id:l1.name,accessorFn:e=>[e.name,e.declaredBy],enableSorting:!0,sortingFn:"alphanumeric",header:({column:e})=>b.jsx(yk,{header:"Name",column:e}),cell:({getValue:e})=>{const[t,n]=e();return b.jsx("div",{className:"max-w-[130px]",children:b.jsx(Xne,{title:t,variant:n.length>1?"destructive":"outline",className:"rounded-sm text-ellipsis block overflow-hidden max-w-fit cursor-pointer font-medium",onClick:()=>{navigator.clipboard.writeText(t),Yr({title:"Copied to clipboard"})},children:t})})}},{id:l1.type,accessorFn:e=>[e.dataType,e.value],enableSorting:!0,sortingFn:"alphanumeric",header:({column:e})=>b.jsx(yk,{header:b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsx("span",{children:"Type"}),b.jsx("span",{children:"Value"})]}),column:e}),cell:({getValue:e})=>{const[t,n]=e();return b.jsxs("div",{className:"max-w-[150px]",children:[b.jsx("div",{className:"text-ellipsis overflow-hidden whitespace-nowrap text-muted-foreground font-mono text-xs",children:t}),b.jsx("div",{className:"text-ellipsis overflow-hidden whitespace-nowrap",title:n,children:n})]})}},{id:l1.defs,accessorFn:e=>[e.declaredBy,e.usedBy,e.name],enableSorting:!0,sortingFn:"basic",header:({column:e})=>b.jsx(yk,{header:b.jsxs("div",{className:"flex flex-col gap-1",children:[b.jsx("span",{children:"Declared By"}),b.jsx("span",{children:"Used By"})]}),column:e}),cell:({getValue:e})=>{const[t,n,r]=e(),i=o=>{const s=Xjt(o);s&&sNn(s,r)};return b.jsxs("div",{className:"flex flex-col gap-1 py-1",children:[b.jsxs("div",{className:"flex flex-row overflow-auto gap-2 items-center",children:[b.jsx("span",{title:"Declared by",children:b.jsx(n1t,{className:"w-3.5 h-3.5 text-muted-foreground"})}),t.length===1?b.jsx($k,{variant:"focus",cellId:t[0],onClick:()=>i(t[0])}):b.jsx("div",{className:"text-destructive flex flex-row gap-2",children:t.slice(0,3).map((o,s)=>b.jsxs("span",{className:"flex",children:[b.jsx($k,{variant:"focus",cellId:o,className:"whitespace-nowrap text-destructive",onClick:()=>i(o)},o),s<t.length-1&&", "]},o))})]}),b.jsxs("div",{className:"flex flex-row overflow-auto gap-2 items-baseline",children:[b.jsx("span",{title:"Used by",children:b.jsx(DNe,{className:"w-3.5 h-3.5 text-muted-foreground"})}),n.slice(0,3).map((o,s)=>b.jsxs("span",{className:"flex",children:[b.jsx($k,{variant:"focus",cellId:o,className:"whitespace-nowrap",onClick:()=>i(o)},o),s<n.length-1&&", "]},o)),n.length>3&&b.jsxs("div",{className:"whitespace-nowrap text-muted-foreground text-xs",children:["+",n.length-3," more"]})]})]})}}];function F4n(e,t,n){t||(t={id:l1.defs,desc:!1});let r=[];switch(t.id){case l1.name:r=jQ(e,i=>i.name);break;case l1.type:r=jQ(e,i=>i.dataType);break;case l1.defs:r=jQ(e,i=>n.get(i.declaredBy[0]));break}return t.desc?r.reverse():r}const Hnt=O.memo(({className:e,cellIds:t,variables:n})=>{const[r,i]=ie.useState([]),o=O.useMemo(()=>{const a=new Map;return t.forEach((l,c)=>a.set(l,c)),F4n(Object.values(n),r[0],a)},[n,r,t]),s=_5e({data:o,columns:j4n,getCoreRowModel:w5e(),manualSorting:!0,onSortingChange:i,getSortedRowModel:S5e(),state:{sorting:r}});return b.jsxs(ire,{className:ve("w-full overflow-hidden text-sm flex-1",e),children:[b.jsx(ore,{children:b.jsx(Ow,{className:"whitespace-nowrap text-xs",children:s.getFlatHeaders().map(a=>b.jsx(are,{children:n3(a.column.columnDef.header,a.getContext())},a.id))})}),b.jsx(sre,{children:s.getRowModel().rows.map(a=>b.jsx(Ow,{className:"hover:bg-accent",children:a.getVisibleCells().map(l=>b.jsx(r3,{children:n3(l.column.columnDef.cell,l.getContext())},l.id))},a.id))})]})});Hnt.displayName="VariableTable";const z4n=()=>{const e=pet(),t=e7();return b.jsx(Hnt,{className:"flex-1",cellIds:t,variables:e})},Q4n=()=>{const e=Vjt(),{clearLogs:t}=Vh();return e.length===0?b.jsxs("div",{className:"mx-6 my-6 flex flex-row gap-2 items-center rounded-lg",children:[b.jsx(ane,{className:"text-muted-foreground"}),b.jsx("span",{className:"mt-[0.25rem] text-muted-foreground",children:"No logs"})]}):b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"flex flex-row justify-end px-2 py-1",children:b.jsx("button",{className:"text-xs font-semibold text-accent-foreground",onClick:t,children:"Clear"})}),b.jsx("div",{className:"overflow-auto flex-1",children:b.jsx(B4n,{logs:e,className:"min-w-[300px]"})})]})},B4n=({logs:e,className:t})=>{const n="opacity-70 group-hover:bg-[var(--gray-3)] group-hover:opacity-100";return b.jsx("div",{className:ve("flex flex-col",t),children:b.jsx("pre",{className:"grid text-xs font-mono gap-1 whitespace-break-spaces font-semibold align-left",children:b.jsx("div",{className:"grid grid-cols-[30px,1fr]",style:{whiteSpace:"pre-wrap"},children:e.map((r,i)=>b.jsxs("div",{className:"contents group",children:[b.jsx("span",{className:ve(n,"text-right col-span-1 py-1 pr-1"),children:i+1}),b.jsx("span",{className:ve(n,"px-2 flex gap-x-1.5 py-1 flex-wrap"),children:W4n(r)})]},i))})})})};function W4n(e){const t=rFe(e.timestamp),n=V4n[e.level],r=e.level.toUpperCase();return b.jsxs(b.Fragment,{children:[b.jsxs("span",{className:"flex-shrink-0 text-[var(--gray-10)]",children:["[",t,"]"]}),b.jsx("span",{className:ve("flex-shrink-0",n),children:r}),b.jsxs("span",{className:"flex-shrink-0 text-[var(--gray-10)]",children:["(",b.jsx($k,{cellId:e.cellId}),")"]}),e.message]})}const V4n={stdout:"text-[var(--grass-9)]",stderr:"text-[var(--red-9)]"},U4n=()=>{const{documentation:e}=us(Moe);return e?b.jsx("div",{className:"p-3 overflow-y-auto overflow-x-hidden h-full docs-documentation flex flex-col gap-4",children:Ha({html:e})}):b.jsxs("div",{className:"mx-6 my-6 flex flex-row gap-2 items-center rounded-lg",children:[b.jsx(ine,{className:"text-accent-foreground"}),b.jsx("span",{className:"mt-[0.25rem] text-accent-foreground",children:"No documentation"})]})};function q4n(e,t){var n=O.useRef(null),r=O.useRef(null);r.current=t;var i=O.useRef(null);O.useEffect(function(){o()});var o=O.useCallback(function(){var s=i.current,a=r.current,l=s||(a?a instanceof Element?a:a.current:null);n.current&&n.current.element===l&&n.current.subscriber===e||(n.current&&n.current.cleanup&&n.current.cleanup(),n.current={element:l,subscriber:e,cleanup:l?e(l):void 0})},[e]);return O.useEffect(function(){return function(){n.current&&n.current.cleanup&&(n.current.cleanup(),n.current=null)}},[]),O.useCallback(function(s){i.current=s,o()},[o])}function Nke(e,t,n){return e[t]?e[t][0]?e[t][0][n]:e[t][n]:t==="contentBoxSize"?e.contentRect[n==="inlineSize"?"width":"height"]:void 0}function Y4n(e){e===void 0&&(e={});var t=e.onResize,n=O.useRef(void 0);n.current=t;var r=e.round||Math.round,i=O.useRef(),o=O.useState({width:void 0,height:void 0}),s=o[0],a=o[1],l=O.useRef(!1);O.useEffect(function(){return l.current=!1,function(){l.current=!0}},[]);var c=O.useRef({width:void 0,height:void 0}),u=q4n(O.useCallback(function(f){return(!i.current||i.current.box!==e.box||i.current.round!==r)&&(i.current={box:e.box,round:r,instance:new ResizeObserver(function(d){var h=d[0],p=e.box==="border-box"?"borderBoxSize":e.box==="device-pixel-content-box"?"devicePixelContentBoxSize":"contentBoxSize",g=Nke(h,p,"inlineSize"),y=Nke(h,p,"blockSize"),v=g?r(g):void 0,x=y?r(y):void 0;if(c.current.width!==v||c.current.height!==x){var m={width:v,height:x};c.current.width=v,c.current.height=x,n.current?n.current(m):l.current||a(m)}})}),i.current.instance.observe(f,{box:e.box}),function(){i.current&&i.current.instance.unobserve(f)}},[e.box,r]),e.ref);return O.useMemo(function(){return{ref:u,width:s.width,height:s.height}},[u,s.width,s.height])}const Znt=O.createContext(null);function Xc(){const e=O.useContext(Znt);if(e===null)throw new Error("No Tree Api Provided");return e}const Gnt=O.createContext(null);function X4n(){const e=O.useContext(Gnt);if(e===null)throw new Error("Provide a NodesContext");return e}const Knt=O.createContext(null);function H4n(){const e=O.useContext(Knt);if(e===null)throw new Error("Provide a DnDContext");return e}const Jnt=O.createContext(0);function ert(){O.useContext(Jnt)}function qI(e,t,n){return Math.max(Math.min(e,n),t)}function trt(e){return e&&e.isLeaf}function nrt(e){return e&&e.isInternal&&!e.isOpen}function rrt(e){var t;return e&&e.isOpen&&!(!((t=e.children)===null||t===void 0)&&t.length)}const irt=(e,t)=>{let n=e;for(;n;){if(n.id===t.id)return!0;n=n.parent}return!1},ort=e=>{if(!e.parent)throw Error("Node does not have a parent");return e.parent.children.findIndex(t=>t.id===e.id)};function Z4n(){}function Tde(e,t){if(!e)return null;if(e.id===t)return e;if(e.children)for(let n of e.children){const r=Tde(n,t);if(r)return r}return null}function kF(e,t){if(t(e),e.children)for(let n of e.children)kF(n,t)}function srt(e){const t=lrt(e);let n;for(let r=0;r<t.length;++r)if(t[r]===e){n=G4n(t,r);break}n==null||n.focus()}function art(e){const t=lrt(e);let n;for(let r=0;r<t.length;++r)if(t[r]===e){n=K4n(t,r);break}n==null||n.focus()}function G4n(e,t){return t+1<e.length?e[t+1]:e[0]}function K4n(e,t){return t-1>=0?e[t-1]:e[e.length-1]}function lrt(e){return Array.from(document.querySelectorAll('button:not([disabled]), [href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"]):not([disabled]), details:not([disabled]), summary:not(:disabled)')).filter(t=>t===e||!e.contains(t))}function HE(e,t){return typeof t=="boolean"?t:typeof t=="string"?e[t]:t(e)}function crt(e){return e===null?null:Vv(e)}function Vv(e){return typeof e=="string"?e:e.id}function J4n(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function urt(e,...t){if(e)return e(...t)}function frt(e){return new Promise((t,n)=>{let r=0;function i(){r+=1,r===100&&n(),e()?t():setTimeout(i,10)}i()})}function drt(e){var t,n;const r=e.focusedNode;return r?r.isOpen?0:r.parent?r.childIndex+1:0:(n=(t=e.root.children)===null||t===void 0?void 0:t.length)!==null&&n!==void 0?n:0}function hrt(e){const t=e.focusedNode;return t?t.isOpen?t.id:t.parent&&!t.parent.isRoot?t.parent.id:null:null}const e6n=Object.freeze(Object.defineProperty({__proto__:null,access:HE,bound:qI,dfs:Tde,focusNextElement:srt,focusPrevElement:art,getInsertIndex:drt,getInsertParentId:hrt,identify:Vv,identifyNull:crt,indexOf:ort,isClosed:nrt,isDescendant:irt,isItem:trt,isOpenWithEmptyChildren:rrt,mergeRefs:J4n,noop:Z4n,safeRun:urt,waitFor:frt,walk:kF},Symbol.toStringTag,{value:"Module"})),t6n={display:"flex",alignItems:"center",zIndex:1},n6n={flex:1,height:"2px",background:"#4B91E2",borderRadius:"1px"},r6n={width:"4px",height:"4px",boxShadow:"0 0 0 3px #4B91E2",borderRadius:"50%"},i6n=ie.memo(function({top:t,left:n,indent:r}){const i={position:"absolute",pointerEvents:"none",top:t-2+"px",left:n+"px",right:r+"px"};return b.jsxs("div",{style:Object.assign(Object.assign({},t6n),i),children:[b.jsx("div",{style:Object.assign({},r6n)}),b.jsx("div",{style:Object.assign({},n6n)})]})});function o6n({node:e,attrs:t,innerRef:n,children:r}){return b.jsx("div",Object.assign({},t,{ref:n,onFocus:i=>i.stopPropagation(),onClick:e.handleClick,children:r}))}function s6n(e){return b.jsxs("div",{ref:e.dragHandle,style:e.style,children:[b.jsx("span",{onClick:t=>{t.stopPropagation(),e.node.toggle()},children:e.node.isLeaf?"":e.node.isOpen?"":""})," ",e.node.isEditing?b.jsx(l6n,Object.assign({},e)):b.jsx(a6n,Object.assign({},e))]})}function a6n(e){return b.jsx(b.Fragment,{children:b.jsx("span",{children:e.node.data.name})})}function l6n({node:e}){const t=O.useRef();return O.useEffect(()=>{var n,r;(n=t.current)===null||n===void 0||n.focus(),(r=t.current)===null||r===void 0||r.select()},[]),b.jsx("input",{ref:t,defaultValue:e.data.name,onBlur:()=>e.reset(),onKeyDown:n=>{var r;n.key==="Escape"&&e.reset(),n.key==="Enter"&&e.submit(((r=t.current)===null||r===void 0?void 0:r.value)||"")}})}function TU(e){return{type:"EDIT",id:e}}function c6n(e={id:null},t){return t.type==="EDIT"?Object.assign(Object.assign({},e),{id:t.id}):e}function px(e){return{type:"FOCUS",id:e}}function u6n(){return{type:"TREE_BLUR"}}function f6n(e={id:null,treeFocused:!1},t){return t.type==="FOCUS"?Object.assign(Object.assign({},e),{id:t.id,treeFocused:!0}):t.type==="TREE_BLUR"?Object.assign(Object.assign({},e),{treeFocused:!1}):e}class TF{constructor(t){this.handleClick=n=>{n.metaKey&&!this.tree.props.disableMultiSelection?this.isSelected?this.deselect():this.selectMulti():n.shiftKey&&!this.tree.props.disableMultiSelection?this.selectContiguous():(this.select(),this.activate())},this.tree=t.tree,this.id=t.id,this.data=t.data,this.level=t.level,this.children=t.children,this.parent=t.parent,this.isDraggable=t.isDraggable,this.rowIndex=t.rowIndex}get isRoot(){return this.id===TP}get isLeaf(){return!Array.isArray(this.children)}get isInternal(){return!this.isLeaf}get isOpen(){return this.isLeaf?!1:this.tree.isOpen(this.id)}get isClosed(){return this.isLeaf?!1:!this.tree.isOpen(this.id)}get isEditable(){return this.tree.isEditable(this.data)}get isEditing(){return this.tree.editingId===this.id}get isSelected(){return this.tree.isSelected(this.id)}get isOnlySelection(){return this.isSelected&&this.tree.hasOneSelection}get isSelectedStart(){var t;return this.isSelected&&!(!((t=this.prev)===null||t===void 0)&&t.isSelected)}get isSelectedEnd(){var t;return this.isSelected&&!(!((t=this.next)===null||t===void 0)&&t.isSelected)}get isFocused(){return this.tree.isFocused(this.id)}get isDragging(){return this.tree.isDragging(this.id)}get willReceiveDrop(){return this.tree.willReceiveDrop(this.id)}get state(){return{isClosed:this.isClosed,isDragging:this.isDragging,isEditing:this.isEditing,isFocused:this.isFocused,isInternal:this.isInternal,isLeaf:this.isLeaf,isOpen:this.isOpen,isSelected:this.isSelected,isSelectedEnd:this.isSelectedEnd,isSelectedStart:this.isSelectedStart,willReceiveDrop:this.willReceiveDrop}}get childIndex(){return this.parent&&this.parent.children?this.parent.children.findIndex(t=>t.id===this.id):-1}get next(){return this.rowIndex===null?null:this.tree.at(this.rowIndex+1)}get prev(){return this.rowIndex===null?null:this.tree.at(this.rowIndex-1)}get nextSibling(){var t,n;const r=this.childIndex;return(n=(t=this.parent)===null||t===void 0?void 0:t.children[r+1])!==null&&n!==void 0?n:null}isAncestorOf(t){if(!t)return!1;let n=t;for(;n;){if(n.id===this.id)return!0;n=n.parent}return!1}select(){this.tree.select(this)}deselect(){this.tree.deselect(this)}selectMulti(){this.tree.selectMulti(this)}selectContiguous(){this.tree.selectContiguous(this)}activate(){this.tree.activate(this)}focus(){this.tree.focus(this)}toggle(){this.tree.toggle(this)}open(){this.tree.open(this)}openParents(){this.tree.openParents(this)}close(){this.tree.close(this)}submit(t){this.tree.submit(this,t)}reset(){this.tree.reset()}clone(){return new TF(Object.assign({},this))}edit(){return this.tree.edit(this)}}const TP="__REACT_ARBORIST_INTERNAL_ROOT__";function Mke(e){var t;function n(o,s,a){const l=e.accessId(o),c=new TF({tree:e,data:o,level:s,parent:a,id:l,children:null,isDraggable:e.isDraggable(o),rowIndex:null}),u=e.accessChildren(o);return u&&(c.children=u.map(f=>n(f,s+1,c))),c}const r=new TF({tree:e,id:TP,data:{id:TP},level:-1,parent:null,children:null,isDraggable:!0,rowIndex:null}),i=(t=e.props.data)!==null&&t!==void 0?t:[];return r.children=i.map(o=>n(o,0,r)),r}const VJ={open(e,t){return{type:"VISIBILITY_OPEN",id:e,filtered:t}},close(e,t){return{type:"VISIBILITY_CLOSE",id:e,filtered:t}},toggle(e,t){return{type:"VISIBILITY_TOGGLE",id:e,filtered:t}},clear(e){return{type:"VISIBILITY_CLEAR",filtered:e}}};function Ike(e={},t){if(t.type==="VISIBILITY_OPEN")return Object.assign(Object.assign({},e),{[t.id]:!0});if(t.type==="VISIBILITY_CLOSE")return Object.assign(Object.assign({},e),{[t.id]:!1});if(t.type==="VISIBILITY_TOGGLE"){const n=e[t.id];return Object.assign(Object.assign({},e),{[t.id]:!n})}else return t.type==="VISIBILITY_CLEAR"?{}:e}function d6n(e={filtered:{},unfiltered:{}},t){return t.type.startsWith("VISIBILITY")?t.filtered?Object.assign(Object.assign({},e),{filtered:Ike(e.filtered,t)}):Object.assign(Object.assign({},e),{unfiltered:Ike(e.unfiltered,t)}):e}const T_=e=>{var t;return{nodes:{open:{filtered:{},unfiltered:(t=e==null?void 0:e.initialOpenState)!==null&&t!==void 0?t:{}},focus:{id:null,treeFocused:!1},edit:{id:null},drag:{id:null,selectedIds:[],destinationParentId:null,destinationIndex:null},selection:{ids:new Set,anchor:null,mostRecent:null}},dnd:{cursor:{type:"none"},dragId:null,dragIds:[],parentId:null,index:-1}}},rf={clear:()=>({type:"SELECTION_CLEAR"}),only:e=>({type:"SELECTION_ONLY",id:Vv(e)}),add:e=>({type:"SELECTION_ADD",ids:(Array.isArray(e)?e:[e]).map(Vv)}),remove:e=>({type:"SELECTION_REMOVE",ids:(Array.isArray(e)?e:[e]).map(Vv)}),set:e=>Object.assign({type:"SELECTION_SET"},e),mostRecent:e=>({type:"SELECTION_MOST_RECENT",id:e===null?null:Vv(e)}),anchor:e=>({type:"SELECTION_ANCHOR",id:e===null?null:Vv(e)})};function h6n(e=T_().nodes.selection,t){const n=e.ids;switch(t.type){case"SELECTION_CLEAR":return Object.assign(Object.assign({},e),{ids:new Set});case"SELECTION_ONLY":return Object.assign(Object.assign({},e),{ids:new Set([t.id])});case"SELECTION_ADD":return t.ids.length===0?e:(t.ids.forEach(r=>n.add(r)),Object.assign(Object.assign({},e),{ids:new Set(n)}));case"SELECTION_REMOVE":return t.ids.length===0?e:(t.ids.forEach(r=>n.delete(r)),Object.assign(Object.assign({},e),{ids:new Set(n)}));case"SELECTION_SET":return Object.assign(Object.assign({},e),{ids:t.ids,mostRecent:t.mostRecent,anchor:t.anchor});case"SELECTION_MOST_RECENT":return Object.assign(Object.assign({},e),{mostRecent:t.id});case"SELECTION_ANCHOR":return Object.assign(Object.assign({},e),{anchor:t.id});default:return e}}const P_={cursor(e){return{type:"DND_CURSOR",cursor:e}},dragStart(e,t){return{type:"DND_DRAG_START",id:e,dragIds:t}},dragEnd(){return{type:"DND_DRAG_END"}},hovering(e,t){return{type:"DND_HOVERING",parentId:e,index:t}}};function p6n(e=T_().dnd,t){switch(t.type){case"DND_CURSOR":return Object.assign(Object.assign({},e),{cursor:t.cursor});case"DND_DRAG_START":return Object.assign(Object.assign({},e),{dragId:t.id,dragIds:t.dragIds});case"DND_DRAG_END":return T_().dnd;case"DND_HOVERING":return Object.assign(Object.assign({},e),{parentId:t.parentId,index:t.index});default:return e}}const g6n={position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,width:"100%",height:"100%"},m6n=e=>{if(!e)return{display:"none"};const{x:t,y:n}=e;return{transform:`translate(${t}px, ${n}px)`}},y6n=e=>{if(!e)return{display:"none"};const{x:t,y:n}=e;return{transform:`translate(${t+10}px, ${n+10}px)`}};function prt({offset:e,mouse:t,id:n,dragIds:r,isDragging:i}){return b.jsxs(v6n,{isDragging:i,children:[b.jsx(b6n,{offset:e,children:b.jsx(x6n,{id:n,dragIds:r})}),b.jsx(O6n,{mouse:t,count:r.length})]})}const v6n=O.memo(function(t){return t.isDragging?b.jsx("div",{style:g6n,children:t.children}):null});function b6n(e){return b.jsx("div",{className:"row preview",style:m6n(e.offset),children:e.children})}function O6n(e){const{count:t,mouse:n}=e;return t>1?b.jsx("div",{className:"selected-count",style:y6n(n),children:t}):null}const x6n=O.memo(function(t){const n=Xc(),r=n.get(t.id);return r?b.jsx(n.renderNode,{preview:!0,node:r,style:{paddingLeft:r.level*n.indent,opacity:.2,background:"transparent"},tree:n}):null});var Lke=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function w6n(e,t){return!!(e===t||Lke(e)&&Lke(t))}function S6n(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!w6n(e[n],t[n]))return!1;return!0}function PU(e,t){t===void 0&&(t=S6n);var n,r=[],i,o=!1;function s(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return o&&n===this&&t(a,r)||(i=e.apply(this,a),o=!0,n=this,r=a),i}return s}var _6n=typeof performance=="object"&&typeof performance.now=="function",jke=_6n?function(){return performance.now()}:function(){return Date.now()};function Fke(e){cancelAnimationFrame(e.id)}function C6n(e,t){var n=jke();function r(){jke()-n>=t?e.call(null):i.id=requestAnimationFrame(r)}var i={id:requestAnimationFrame(r)};return i}var RU=-1;function zke(e){if(e===void 0&&(e=!1),RU===-1||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),RU=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return RU}var gx=null;function Qke(e){if(e===void 0&&(e=!1),gx===null||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?gx="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?gx="negative":gx="positive-ascending"),document.body.removeChild(t),gx}return gx}var $6n=150,E6n=function(t,n){return t};function k6n(e){var t,n=e.getItemOffset,r=e.getEstimatedTotalSize,i=e.getItemSize,o=e.getOffsetForIndexAndAlignment,s=e.getStartIndexForOffset,a=e.getStopIndexForStartIndex,l=e.initInstanceProps,c=e.shouldResetStyleCacheOnItemSizeChange,u=e.validateProps;return t=function(f){hpt(d,f);function d(p){var g;return g=f.call(this,p)||this,g._instanceProps=l(g.props,yge(g)),g._outerRef=void 0,g._resetIsScrollingTimeoutId=null,g.state={instance:yge(g),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof g.props.initialScrollOffset=="number"?g.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},g._callOnItemsRendered=void 0,g._callOnItemsRendered=PU(function(y,v,x,m){return g.props.onItemsRendered({overscanStartIndex:y,overscanStopIndex:v,visibleStartIndex:x,visibleStopIndex:m})}),g._callOnScroll=void 0,g._callOnScroll=PU(function(y,v,x){return g.props.onScroll({scrollDirection:y,scrollOffset:v,scrollUpdateWasRequested:x})}),g._getItemStyle=void 0,g._getItemStyle=function(y){var v=g.props,x=v.direction,m=v.itemSize,w=v.layout,S=g._getItemStyleCache(c&&m,c&&w,c&&x),C;if(S.hasOwnProperty(y))C=S[y];else{var $=n(g.props,y,g._instanceProps),E=i(g.props,y,g._instanceProps),R=x==="horizontal"||w==="horizontal",N=x==="rtl",I=R?$:0;S[y]=C={position:"absolute",left:N?void 0:I,right:N?I:void 0,top:R?0:$,height:R?"100%":E,width:R?E:"100%"}}return C},g._getItemStyleCache=void 0,g._getItemStyleCache=PU(function(y,v,x){return{}}),g._onScrollHorizontal=function(y){var v=y.currentTarget,x=v.clientWidth,m=v.scrollLeft,w=v.scrollWidth;g.setState(function(S){if(S.scrollOffset===m)return null;var C=g.props.direction,$=m;if(C==="rtl")switch(Qke()){case"negative":$=-m;break;case"positive-descending":$=w-x-m;break}return $=Math.max(0,Math.min($,w-x)),{isScrolling:!0,scrollDirection:S.scrollOffset<$?"forward":"backward",scrollOffset:$,scrollUpdateWasRequested:!1}},g._resetIsScrollingDebounced)},g._onScrollVertical=function(y){var v=y.currentTarget,x=v.clientHeight,m=v.scrollHeight,w=v.scrollTop;g.setState(function(S){if(S.scrollOffset===w)return null;var C=Math.max(0,Math.min(w,m-x));return{isScrolling:!0,scrollDirection:S.scrollOffset<C?"forward":"backward",scrollOffset:C,scrollUpdateWasRequested:!1}},g._resetIsScrollingDebounced)},g._outerRefSetter=function(y){var v=g.props.outerRef;g._outerRef=y,typeof v=="function"?v(y):v!=null&&typeof v=="object"&&v.hasOwnProperty("current")&&(v.current=y)},g._resetIsScrollingDebounced=function(){g._resetIsScrollingTimeoutId!==null&&Fke(g._resetIsScrollingTimeoutId),g._resetIsScrollingTimeoutId=C6n(g._resetIsScrolling,$6n)},g._resetIsScrolling=function(){g._resetIsScrollingTimeoutId=null,g.setState({isScrolling:!1},function(){g._getItemStyleCache(-1,null)})},g}d.getDerivedStateFromProps=function(g,y){return T6n(g,y),u(g),null};var h=d.prototype;return h.scrollTo=function(g){g=Math.max(0,g),this.setState(function(y){return y.scrollOffset===g?null:{scrollDirection:y.scrollOffset<g?"forward":"backward",scrollOffset:g,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},h.scrollToItem=function(g,y){y===void 0&&(y="auto");var v=this.props,x=v.itemCount,m=v.layout,w=this.state.scrollOffset;g=Math.max(0,Math.min(g,x-1));var S=0;if(this._outerRef){var C=this._outerRef;m==="vertical"?S=C.scrollWidth>C.clientWidth?zke():0:S=C.scrollHeight>C.clientHeight?zke():0}this.scrollTo(o(this.props,g,y,w,this._instanceProps,S))},h.componentDidMount=function(){var g=this.props,y=g.direction,v=g.initialScrollOffset,x=g.layout;if(typeof v=="number"&&this._outerRef!=null){var m=this._outerRef;y==="horizontal"||x==="horizontal"?m.scrollLeft=v:m.scrollTop=v}this._callPropsCallbacks()},h.componentDidUpdate=function(){var g=this.props,y=g.direction,v=g.layout,x=this.state,m=x.scrollOffset,w=x.scrollUpdateWasRequested;if(w&&this._outerRef!=null){var S=this._outerRef;if(y==="horizontal"||v==="horizontal")if(y==="rtl")switch(Qke()){case"negative":S.scrollLeft=-m;break;case"positive-ascending":S.scrollLeft=m;break;default:var C=S.clientWidth,$=S.scrollWidth;S.scrollLeft=$-C-m;break}else S.scrollLeft=m;else S.scrollTop=m}this._callPropsCallbacks()},h.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&Fke(this._resetIsScrollingTimeoutId)},h.render=function(){var g=this.props,y=g.children,v=g.className,x=g.direction,m=g.height,w=g.innerRef,S=g.innerElementType,C=g.innerTagName,$=g.itemCount,E=g.itemData,R=g.itemKey,N=R===void 0?E6n:R,I=g.layout,j=g.outerElementType,A=g.outerTagName,T=g.style,D=g.useIsScrolling,L=g.width,W=this.state.isScrolling,V=x==="horizontal"||I==="horizontal",Q=V?this._onScrollHorizontal:this._onScrollVertical,B=this._getRangeToRender(),Y=B[0],U=B[1],q=[];if($>0)for(var Z=Y;Z<=U;Z++)q.push(O.createElement(y,{data:E,key:N(Z,E),index:Z,isScrolling:D?W:void 0,style:this._getItemStyle(Z)}));var oe=r(this.props,this._instanceProps);return O.createElement(j||A||"div",{className:v,onScroll:Q,ref:this._outerRefSetter,style:le({position:"relative",height:m,width:L,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:x},T)},O.createElement(S||C||"div",{children:q,ref:w,style:{height:V?"100%":oe,pointerEvents:W?"none":void 0,width:V?oe:"100%"}}))},h._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var g=this.props.itemCount;if(g>0){var y=this._getRangeToRender(),v=y[0],x=y[1],m=y[2],w=y[3];this._callOnItemsRendered(v,x,m,w)}}if(typeof this.props.onScroll=="function"){var S=this.state,C=S.scrollDirection,$=S.scrollOffset,E=S.scrollUpdateWasRequested;this._callOnScroll(C,$,E)}},h._getRangeToRender=function(){var g=this.props,y=g.itemCount,v=g.overscanCount,x=this.state,m=x.isScrolling,w=x.scrollDirection,S=x.scrollOffset;if(y===0)return[0,0,0,0];var C=s(this.props,S,this._instanceProps),$=a(this.props,C,S,this._instanceProps),E=!m||w==="backward"?Math.max(1,v):1,R=!m||w==="forward"?Math.max(1,v):1;return[Math.max(0,C-E),Math.max(0,Math.min(y-1,$+R)),C,$]},d}(O.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var T6n=function(t,n){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,n.instance},P6n=k6n({getItemOffset:function(t,n){var r=t.itemSize;return n*r},getItemSize:function(t,n){var r=t.itemSize;return r},getEstimatedTotalSize:function(t){var n=t.itemCount,r=t.itemSize;return r*n},getOffsetForIndexAndAlignment:function(t,n,r,i,o,s){var a=t.direction,l=t.height,c=t.itemCount,u=t.itemSize,f=t.layout,d=t.width,h=a==="horizontal"||f==="horizontal",p=h?d:l,g=Math.max(0,c*u-p),y=Math.min(g,n*u),v=Math.max(0,n*u-p+u+s);switch(r==="smart"&&(i>=v-p&&i<=y+p?r="auto":r="center"),r){case"start":return y;case"end":return v;case"center":{var x=Math.round(v+(y-v)/2);return x<Math.ceil(p/2)?0:x>g+Math.floor(p/2)?g:x}case"auto":default:return i>=v&&i<=y?i:i<v?v:y}},getStartIndexForOffset:function(t,n){var r=t.itemCount,i=t.itemSize;return Math.max(0,Math.min(r-1,Math.floor(n/i)))},getStopIndexForStartIndex:function(t,n,r){var i=t.direction,o=t.height,s=t.itemCount,a=t.itemSize,l=t.layout,c=t.width,u=i==="horizontal"||l==="horizontal",f=n*a,d=u?c:o,h=Math.ceil((d+r-f)/a);return Math.max(0,Math.min(s-1,n+h-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){t.itemSize}});function R6n(){var e,t;const n=Xc(),i=H4n().cursor;if(!i||i.type!=="line")return null;const o=n.indent,s=n.rowHeight*i.index+((t=(e=n.props.padding)!==null&&e!==void 0?e:n.props.paddingTop)!==null&&t!==void 0?t:0),a=o*i.level,l=n.renderCursor;return b.jsx(l,{top:s,left:a,indent:o})}var A6n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const D6n=O.forwardRef(function(t,n){const{children:r}=t,i=A6n(t,["children"]),o=Xc();return b.jsxs("div",Object.assign({ref:n},i,{onClick:s=>{s.currentTarget===s.target&&o.deselectAll()},children:[b.jsx(N6n,{}),r]}))}),N6n=()=>{const e=Xc();return b.jsx("div",{style:{height:e.visibleNodes.length*e.rowHeight,width:"100%",position:"absolute",left:"0",right:"0"},children:b.jsx(R6n,{})})};var M6n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const I6n=O.forwardRef(function(t,n){var r,i,o,s,{style:a}=t,l=M6n(t,["style"]);const c=Xc(),u=(i=(r=c.props.padding)!==null&&r!==void 0?r:c.props.paddingTop)!==null&&i!==void 0?i:0,f=(s=(o=c.props.padding)!==null&&o!==void 0?o:c.props.paddingBottom)!==null&&s!==void 0?s:0;return b.jsx("div",Object.assign({ref:n,style:Object.assign(Object.assign({},a),{height:`${parseFloat(a.height)+u+f}px`})},l))});var grt=O.createContext({dragDropManager:void 0}),fu;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(fu||(fu={}));function nn(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!e){var o;if(t===void 0)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;o=new Error(t.replace(/%s/g,function(){return r[s++]})),o.name="Invariant Violation"}throw o.framesToPop=1,o}}var Pde="dnd-core/INIT_COORDS",k9="dnd-core/BEGIN_DRAG",Rde="dnd-core/PUBLISH_DRAG_SOURCE",T9="dnd-core/HOVER",P9="dnd-core/DROP",R9="dnd-core/END_DRAG";function Bke(e,t){return{type:Pde,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}function YI(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?YI=function(n){return typeof n}:YI=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},YI(e)}function L6n(e,t,n){return t.split(".").reduce(function(r,i){return r&&r[i]?r[i]:n||null},e)}function j6n(e,t){return e.filter(function(n){return n!==t})}function mrt(e){return YI(e)==="object"}function F6n(e,t){var n=new Map,r=function(s){n.set(s,n.has(s)?n.get(s)+1:1)};e.forEach(r),t.forEach(r);var i=[];return n.forEach(function(o,s){o===1&&i.push(s)}),i}function z6n(e,t){return e.filter(function(n){return t.indexOf(n)>-1})}var Q6n={type:Pde,payload:{clientOffset:null,sourceClientOffset:null}};function B6n(e){return function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{publishSource:!0},i=r.publishSource,o=i===void 0?!0:i,s=r.clientOffset,a=r.getSourceClientOffset,l=e.getMonitor(),c=e.getRegistry();e.dispatch(Bke(s)),W6n(n,l,c);var u=q6n(n,l);if(u===null){e.dispatch(Q6n);return}var f=null;if(s){if(!a)throw new Error("getSourceClientOffset must be defined");V6n(a),f=a(u)}e.dispatch(Bke(s,f));var d=c.getSource(u),h=d.beginDrag(l,u);if(h!=null){U6n(h),c.pinSource(u);var p=c.getSourceType(u);return{type:k9,payload:{itemType:p,item:h,sourceId:u,clientOffset:s||null,sourceClientOffset:f||null,isSourcePublic:!!o}}}}}function W6n(e,t,n){nn(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(r){nn(n.getSource(r),"Expected sourceIds to be registered.")})}function V6n(e){nn(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function U6n(e){nn(mrt(e),"Item must be an object.")}function q6n(e,t){for(var n=null,r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function Y6n(e){return function(){var n=e.getMonitor();if(n.isDragging())return{type:Rde}}}function UJ(e,t){return t===null?e===null:Array.isArray(e)?e.some(function(n){return n===t}):e===t}function X6n(e){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.clientOffset;H6n(n);var o=n.slice(0),s=e.getMonitor(),a=e.getRegistry();Z6n(o,s,a);var l=s.getItemType();return G6n(o,a,l),K6n(o,s,a),{type:T9,payload:{targetIds:o,clientOffset:i||null}}}}function H6n(e){nn(Array.isArray(e),"Expected targetIds to be an array.")}function Z6n(e,t,n){nn(t.isDragging(),"Cannot call hover while not dragging."),nn(!t.didDrop(),"Cannot call hover after drop.");for(var r=0;r<e.length;r++){var i=e[r];nn(e.lastIndexOf(i)===r,"Expected targetIds to be unique in the passed array.");var o=n.getTarget(i);nn(o,"Expected targetIds to be registered.")}}function G6n(e,t,n){for(var r=e.length-1;r>=0;r--){var i=e[r],o=t.getTargetType(i);UJ(o,n)||e.splice(r,1)}}function K6n(e,t,n){e.forEach(function(r){var i=n.getTarget(r);i.hover(t,r)})}function Wke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vke(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wke(Object(n),!0).forEach(function(r){J6n(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wke(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function J6n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e7n(e){return function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.getMonitor(),i=e.getRegistry();t7n(r);var o=i7n(r);o.forEach(function(s,a){var l=n7n(s,a,i,r),c={type:P9,payload:{dropResult:Vke(Vke({},n),l)}};e.dispatch(c)})}}function t7n(e){nn(e.isDragging(),"Cannot call drop while not dragging."),nn(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function n7n(e,t,n,r){var i=n.getTarget(e),o=i?i.drop(r,e):void 0;return r7n(o),typeof o>"u"&&(o=t===0?{}:r.getDropResult()),o}function r7n(e){nn(typeof e>"u"||mrt(e),"Drop result must either be an object or undefined.")}function i7n(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function o7n(e){return function(){var n=e.getMonitor(),r=e.getRegistry();s7n(n);var i=n.getSourceId();if(i!=null){var o=r.getSource(i,!0);o.endDrag(n,i),r.unpinSource()}return{type:R9}}}function s7n(e){nn(e.isDragging(),"Cannot call endDrag while not dragging.")}function a7n(e){return{beginDrag:B6n(e),publishDragSource:Y6n(e),hover:X6n(e),drop:e7n(e),endDrag:o7n(e)}}function l7n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c7n(e,t,n){return t&&Uke(e.prototype,t),n&&Uke(e,n),e}function nE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u7n=function(){function e(t,n){var r=this;l7n(this,e),nE(this,"store",void 0),nE(this,"monitor",void 0),nE(this,"backend",void 0),nE(this,"isSetUp",!1),nE(this,"handleRefCountChange",function(){var i=r.store.getState().refCount>0;r.backend&&(i&&!r.isSetUp?(r.backend.setup(),r.isSetUp=!0):!i&&r.isSetUp&&(r.backend.teardown(),r.isSetUp=!1))}),this.store=t,this.monitor=n,t.subscribe(this.handleRefCountChange)}return c7n(e,[{key:"receiveBackend",value:function(n){this.backend=n}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var n=this,r=this.store.dispatch;function i(s){return function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=s.apply(n,l);typeof u<"u"&&r(u)}}var o=a7n(this);return Object.keys(o).reduce(function(s,a){var l=o[a];return s[a]=i(l),s},{})}},{key:"dispatch",value:function(n){this.store.dispatch(n)}}]),e}();function Gc(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var qke=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),AU=function(){return Math.random().toString(36).substring(7).split("").join(".")},Yke={INIT:"@@redux/INIT"+AU(),REPLACE:"@@redux/REPLACE"+AU(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+AU()}};function f7n(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function yrt(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Gc(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Gc(1));return n(yrt)(e,t)}if(typeof e!="function")throw new Error(Gc(2));var i=e,o=t,s=[],a=s,l=!1;function c(){a===s&&(a=s.slice())}function u(){if(l)throw new Error(Gc(3));return o}function f(g){if(typeof g!="function")throw new Error(Gc(4));if(l)throw new Error(Gc(5));var y=!0;return c(),a.push(g),function(){if(y){if(l)throw new Error(Gc(6));y=!1,c();var x=a.indexOf(g);a.splice(x,1),s=null}}}function d(g){if(!f7n(g))throw new Error(Gc(7));if(typeof g.type>"u")throw new Error(Gc(8));if(l)throw new Error(Gc(9));try{l=!0,o=i(o,g)}finally{l=!1}for(var y=s=a,v=0;v<y.length;v++){var x=y[v];x()}return g}function h(g){if(typeof g!="function")throw new Error(Gc(10));i=g,d({type:Yke.REPLACE})}function p(){var g,y=f;return g={subscribe:function(x){if(typeof x!="object"||x===null)throw new Error(Gc(11));function m(){x.next&&x.next(u())}m();var w=y(m);return{unsubscribe:w}}},g[qke]=function(){return this},g}return d({type:Yke.INIT}),r={dispatch:d,subscribe:f,getState:u,replaceReducer:h},r[qke]=p,r}var d7n=function(t,n){return t===n};function h7n(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function p7n(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:d7n;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function Xke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hke(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xke(Object(n),!0).forEach(function(r){g7n(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xke(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g7n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zke={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function m7n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Zke,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case Pde:case k9:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case T9:return h7n(e.clientOffset,n.clientOffset)?e:Hke(Hke({},e),{},{clientOffset:n.clientOffset});case R9:case P9:return Zke;default:return e}}var Ade="dnd-core/ADD_SOURCE",Dde="dnd-core/ADD_TARGET",Nde="dnd-core/REMOVE_SOURCE",A9="dnd-core/REMOVE_TARGET";function y7n(e){return{type:Ade,payload:{sourceId:e}}}function v7n(e){return{type:Dde,payload:{targetId:e}}}function b7n(e){return{type:Nde,payload:{sourceId:e}}}function O7n(e){return{type:A9,payload:{targetId:e}}}function Gke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gke(Object(n),!0).forEach(function(r){x7n(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gke(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x7n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w7n={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function S7n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w7n,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case k9:return Kc(Kc({},e),{},{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case Rde:return Kc(Kc({},e),{},{isSourcePublic:!0});case T9:return Kc(Kc({},e),{},{targetIds:n.targetIds});case A9:return e.targetIds.indexOf(n.targetId)===-1?e:Kc(Kc({},e),{},{targetIds:j6n(e.targetIds,n.targetId)});case P9:return Kc(Kc({},e),{},{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case R9:return Kc(Kc({},e),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function _7n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ade:case Dde:return e+1;case Nde:case A9:return e-1;default:return e}}var PF=[],Mde=[];PF.__IS_NONE__=!0;Mde.__IS_ALL__=!0;function C7n(e,t){if(e===PF)return!1;if(e===Mde||typeof t>"u")return!0;var n=z6n(t,e);return n.length>0}function $7n(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case T9:break;case Ade:case Dde:case A9:case Nde:return PF;case k9:case Rde:case R9:case P9:default:return Mde}var t=e.payload,n=t.targetIds,r=n===void 0?[]:n,i=t.prevTargetIds,o=i===void 0?[]:i,s=F6n(r,o),a=s.length>0||!p7n(r,o);if(!a)return PF;var l=o[o.length-1],c=r[r.length-1];return l!==c&&(l&&s.push(l),c&&s.push(c)),s}function E7n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e+1}function Kke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jke(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kke(Object(n),!0).forEach(function(r){k7n(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kke(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function k7n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T7n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:$7n(e.dirtyHandlerIds,{type:t.type,payload:Jke(Jke({},t.payload),{},{prevTargetIds:L6n(e,"dragOperation.targetIds",[])})}),dragOffset:m7n(e.dragOffset,t),refCount:_7n(e.refCount,t),dragOperation:S7n(e.dragOperation,t),stateId:E7n(e.stateId)}}function P7n(e,t){return{x:e.x+t.x,y:e.y+t.y}}function vrt(e,t){return{x:e.x-t.x,y:e.y-t.y}}function R7n(e){var t=e.clientOffset,n=e.initialClientOffset,r=e.initialSourceClientOffset;return!t||!n||!r?null:vrt(P7n(t,r),n)}function A7n(e){var t=e.clientOffset,n=e.initialClientOffset;return!t||!n?null:vrt(t,n)}function D7n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eTe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N7n(e,t,n){return t&&eTe(e.prototype,t),n&&eTe(e,n),e}function tTe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M7n=function(){function e(t,n){D7n(this,e),tTe(this,"store",void 0),tTe(this,"registry",void 0),this.store=t,this.registry=n}return N7n(e,[{key:"subscribeToStateChange",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{handlerIds:void 0},o=i.handlerIds;nn(typeof n=="function","listener must be a function."),nn(typeof o>"u"||Array.isArray(o),"handlerIds, when specified, must be an array of strings.");var s=this.store.getState().stateId,a=function(){var c=r.store.getState(),u=c.stateId;try{var f=u===s||u===s+1&&!C7n(c.dirtyHandlerIds,o);f||n()}finally{s=u}};return this.store.subscribe(a)}},{key:"subscribeToOffsetChange",value:function(n){var r=this;nn(typeof n=="function","listener must be a function.");var i=this.store.getState().dragOffset,o=function(){var a=r.store.getState().dragOffset;a!==i&&(i=a,n())};return this.store.subscribe(o)}},{key:"canDragSource",value:function(n){if(!n)return!1;var r=this.registry.getSource(n);return nn(r,"Expected to find a valid source. sourceId=".concat(n)),this.isDragging()?!1:r.canDrag(this,n)}},{key:"canDropOnTarget",value:function(n){if(!n)return!1;var r=this.registry.getTarget(n);if(nn(r,"Expected to find a valid target. targetId=".concat(n)),!this.isDragging()||this.didDrop())return!1;var i=this.registry.getTargetType(n),o=this.getItemType();return UJ(i,o)&&r.canDrop(this,n)}},{key:"isDragging",value:function(){return!!this.getItemType()}},{key:"isDraggingSource",value:function(n){if(!n)return!1;var r=this.registry.getSource(n,!0);if(nn(r,"Expected to find a valid source. sourceId=".concat(n)),!this.isDragging()||!this.isSourcePublic())return!1;var i=this.registry.getSourceType(n),o=this.getItemType();return i!==o?!1:r.isDragging(this,n)}},{key:"isOverTarget",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shallow:!1};if(!n)return!1;var i=r.shallow;if(!this.isDragging())return!1;var o=this.registry.getTargetType(n),s=this.getItemType();if(s&&!UJ(o,s))return!1;var a=this.getTargetIds();if(!a.length)return!1;var l=a.indexOf(n);return i?l===a.length-1:l>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return!!this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return R7n(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return A7n(this.store.getState().dragOffset)}}]),e}(),I7n=0;function L7n(){return I7n++}function XI(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?XI=function(n){return typeof n}:XI=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},XI(e)}function j7n(e){nn(typeof e.canDrag=="function","Expected canDrag to be a function."),nn(typeof e.beginDrag=="function","Expected beginDrag to be a function."),nn(typeof e.endDrag=="function","Expected endDrag to be a function.")}function F7n(e){nn(typeof e.canDrop=="function","Expected canDrop to be a function."),nn(typeof e.hover=="function","Expected hover to be a function."),nn(typeof e.drop=="function","Expected beginDrag to be a function.")}function qJ(e,t){if(t&&Array.isArray(e)){e.forEach(function(n){return qJ(n,!1)});return}nn(typeof e=="string"||XI(e)==="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}const nTe=typeof global<"u"?global:self,brt=nTe.MutationObserver||nTe.WebKitMutationObserver;function Ort(e){return function(){const n=setTimeout(i,0),r=setInterval(i,50);function i(){clearTimeout(n),clearInterval(r),e()}}}function z7n(e){let t=1;const n=new brt(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}const Q7n=typeof brt=="function"?z7n:Ort;class B7n{enqueueTask(t){const{queue:n,requestFlush:r}=this;n.length||(r(),this.flushing=!0),n[n.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const n=this.index;if(this.index++,t[n].call(),this.index>this.capacity){for(let r=0,i=t.length-this.index;r<i;r++)t[r]=t[r+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=Q7n(this.flush),this.requestErrorThrow=Ort(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class W7n{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,n){this.onError=t,this.release=n,this.task=null}}class V7n{create(t){const n=this.freeTasks,r=n.length?n.pop():new W7n(this.onError,i=>n[n.length]=i);return r.task=t,r}constructor(t){this.onError=t,this.freeTasks=[]}}const xrt=new B7n,U7n=new V7n(xrt.registerPendingError);function q7n(e){xrt.enqueueTask(U7n.create(e))}function Y7n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rTe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X7n(e,t,n){return t&&rTe(e.prototype,t),n&&rTe(e,n),e}function mx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H7n(e,t){return J7n(e)||K7n(e,t)||G7n(e,t)||Z7n()}function Z7n(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G7n(e,t){if(e){if(typeof e=="string")return iTe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iTe(e,t)}}function iTe(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function K7n(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function J7n(e){if(Array.isArray(e))return e}function e8n(e){var t=L7n().toString();switch(e){case fu.SOURCE:return"S".concat(t);case fu.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}function oTe(e){switch(e[0]){case"S":return fu.SOURCE;case"T":return fu.TARGET;default:nn(!1,"Cannot parse handler ID: ".concat(e))}}function sTe(e,t){var n=e.entries(),r=!1;do{var i=n.next(),o=i.done,s=H7n(i.value,2),a=s[1];if(a===t)return!0;r=!!o}while(!r);return!1}var t8n=function(){function e(t){Y7n(this,e),mx(this,"types",new Map),mx(this,"dragSources",new Map),mx(this,"dropTargets",new Map),mx(this,"pinnedSourceId",null),mx(this,"pinnedSource",null),mx(this,"store",void 0),this.store=t}return X7n(e,[{key:"addSource",value:function(n,r){qJ(n),j7n(r);var i=this.addHandler(fu.SOURCE,n,r);return this.store.dispatch(y7n(i)),i}},{key:"addTarget",value:function(n,r){qJ(n,!0),F7n(r);var i=this.addHandler(fu.TARGET,n,r);return this.store.dispatch(v7n(i)),i}},{key:"containsHandler",value:function(n){return sTe(this.dragSources,n)||sTe(this.dropTargets,n)}},{key:"getSource",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;nn(this.isSourceId(n),"Expected a valid source ID.");var i=r&&n===this.pinnedSourceId,o=i?this.pinnedSource:this.dragSources.get(n);return o}},{key:"getTarget",value:function(n){return nn(this.isTargetId(n),"Expected a valid target ID."),this.dropTargets.get(n)}},{key:"getSourceType",value:function(n){return nn(this.isSourceId(n),"Expected a valid source ID."),this.types.get(n)}},{key:"getTargetType",value:function(n){return nn(this.isTargetId(n),"Expected a valid target ID."),this.types.get(n)}},{key:"isSourceId",value:function(n){var r=oTe(n);return r===fu.SOURCE}},{key:"isTargetId",value:function(n){var r=oTe(n);return r===fu.TARGET}},{key:"removeSource",value:function(n){var r=this;nn(this.getSource(n),"Expected an existing source."),this.store.dispatch(b7n(n)),q7n(function(){r.dragSources.delete(n),r.types.delete(n)})}},{key:"removeTarget",value:function(n){nn(this.getTarget(n),"Expected an existing target."),this.store.dispatch(O7n(n)),this.dropTargets.delete(n),this.types.delete(n)}},{key:"pinSource",value:function(n){var r=this.getSource(n);nn(r,"Expected an existing source."),this.pinnedSourceId=n,this.pinnedSource=r}},{key:"unpinSource",value:function(){nn(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(n,r,i){var o=e8n(n);return this.types.set(o,r),n===fu.SOURCE?this.dragSources.set(o,i):n===fu.TARGET&&this.dropTargets.set(o,i),o}}]),e}();function n8n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=r8n(r),o=new M7n(i,new t8n(i)),s=new u7n(i,o),a=e(s,t,n);return s.receiveBackend(a),s}function r8n(e){var t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return yrt(T7n,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}var i8n=["children"];function o8n(e,t){return c8n(e)||l8n(e,t)||a8n(e,t)||s8n()}function s8n(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a8n(e,t){if(e){if(typeof e=="string")return aTe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aTe(e,t)}}function aTe(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l8n(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function c8n(e){if(Array.isArray(e))return e}function u8n(e,t){if(e==null)return{};var n=f8n(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function f8n(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var lTe=0,HI=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),d8n=O.memo(function(t){var n=t.children,r=u8n(t,i8n),i=h8n(r),o=o8n(i,2),s=o[0],a=o[1];return O.useEffect(function(){if(a){var l=wrt();return++lTe,function(){--lTe===0&&(l[HI]=null)}}},[]),b.jsx(grt.Provider,Object.assign({value:s},{children:n}),void 0)});function h8n(e){if("manager"in e){var t={dragDropManager:e.manager};return[t,!1]}var n=p8n(e.backend,e.context,e.options,e.debugMode),r=!e.context;return[n,r]}function p8n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wrt(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=t;return i[HI]||(i[HI]={dragDropManager:n8n(e,t,n,r)}),i[HI]}function wrt(){return typeof global<"u"?global:window}function g8n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cTe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m8n(e,t,n){return t&&cTe(e.prototype,t),n&&cTe(e,n),e}function uTe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var DU=!1,NU=!1,y8n=function(){function e(t){g8n(this,e),uTe(this,"internalMonitor",void 0),uTe(this,"sourceId",null),this.internalMonitor=t.getMonitor()}return m8n(e,[{key:"receiveHandlerId",value:function(n){this.sourceId=n}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){nn(!DU,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return DU=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{DU=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;nn(!NU,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return NU=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{NU=!1}}},{key:"subscribeToStateChange",value:function(n,r){return this.internalMonitor.subscribeToStateChange(n,r)}},{key:"isDraggingSource",value:function(n){return this.internalMonitor.isDraggingSource(n)}},{key:"isOverTarget",value:function(n,r){return this.internalMonitor.isOverTarget(n,r)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(n){return this.internalMonitor.subscribeToOffsetChange(n)}},{key:"canDragSource",value:function(n){return this.internalMonitor.canDragSource(n)}},{key:"canDropOnTarget",value:function(n){return this.internalMonitor.canDropOnTarget(n)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}();function v8n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fTe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b8n(e,t,n){return t&&fTe(e.prototype,t),n&&fTe(e,n),e}function dTe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var MU=!1,O8n=function(){function e(t){v8n(this,e),dTe(this,"internalMonitor",void 0),dTe(this,"targetId",null),this.internalMonitor=t.getMonitor()}return b8n(e,[{key:"receiveHandlerId",value:function(n){this.targetId=n}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(n,r){return this.internalMonitor.subscribeToStateChange(n,r)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;nn(!MU,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return MU=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{MU=!1}}},{key:"isOver",value:function(n){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,n):!1}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}();function x8n(e){if(typeof e.type!="string"){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function w8n(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!O.isValidElement(t)){var r=t;return e(r,n),r}var i=t;x8n(i);var o=n?function(s){return e(s,n)}:e;return S8n(i,o)}}function Srt(e){var t={};return Object.keys(e).forEach(function(n){var r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{var i=w8n(r);t[n]=function(){return i}}}),t}function hTe(e,t){typeof e=="function"?e(t):e.current=t}function S8n(e,t){var n=e.ref;return nn(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?O.cloneElement(e,{ref:function(i){hTe(n,i),hTe(t,i)}}):O.cloneElement(e,{ref:t})}function ZI(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ZI=function(n){return typeof n}:ZI=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ZI(e)}function YJ(e){return e!==null&&ZI(e)==="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function XJ(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(i!==void 0)return!!i;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!a(c))return!1;var u=e[c],f=t[c];if(i=n?n.call(r,u,f,c):void 0,i===!1||i===void 0&&u!==f)return!1}return!0}function _8n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pTe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C8n(e,t,n){return t&&pTe(e.prototype,t),n&&pTe(e,n),e}function Zs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $8n=function(){function e(t){var n=this;_8n(this,e),Zs(this,"hooks",Srt({dragSource:function(i,o){n.clearDragSource(),n.dragSourceOptions=o||null,YJ(i)?n.dragSourceRef=i:n.dragSourceNode=i,n.reconnectDragSource()},dragPreview:function(i,o){n.clearDragPreview(),n.dragPreviewOptions=o||null,YJ(i)?n.dragPreviewRef=i:n.dragPreviewNode=i,n.reconnectDragPreview()}})),Zs(this,"handlerId",null),Zs(this,"dragSourceRef",null),Zs(this,"dragSourceNode",void 0),Zs(this,"dragSourceOptionsInternal",null),Zs(this,"dragSourceUnsubscribe",void 0),Zs(this,"dragPreviewRef",null),Zs(this,"dragPreviewNode",void 0),Zs(this,"dragPreviewOptionsInternal",null),Zs(this,"dragPreviewUnsubscribe",void 0),Zs(this,"lastConnectedHandlerId",null),Zs(this,"lastConnectedDragSource",null),Zs(this,"lastConnectedDragSourceOptions",null),Zs(this,"lastConnectedDragPreview",null),Zs(this,"lastConnectedDragPreviewOptions",null),Zs(this,"backend",void 0),this.backend=t}return C8n(e,[{key:"receiveHandlerId",value:function(n){this.handlerId!==n&&(this.handlerId=n,this.reconnect())}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(n){this.dragSourceOptionsInternal=n}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(n){this.dragPreviewOptionsInternal=n}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var n=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();if(r&&this.disconnectDragSource(),!!this.handlerId){if(!n){this.lastConnectedDragSource=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=n,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,n,this.dragSourceOptions))}}},{key:"reconnectDragPreview",value:function(){var n=this.dragPreview,r=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!XJ(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!XJ(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}}]),e}();function E8n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gTe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k8n(e,t,n){return t&&gTe(e.prototype,t),n&&gTe(e,n),e}function Pd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T8n=function(){function e(t){var n=this;E8n(this,e),Pd(this,"hooks",Srt({dropTarget:function(i,o){n.clearDropTarget(),n.dropTargetOptions=o,YJ(i)?n.dropTargetRef=i:n.dropTargetNode=i,n.reconnect()}})),Pd(this,"handlerId",null),Pd(this,"dropTargetRef",null),Pd(this,"dropTargetNode",void 0),Pd(this,"dropTargetOptionsInternal",null),Pd(this,"unsubscribeDropTarget",void 0),Pd(this,"lastConnectedHandlerId",null),Pd(this,"lastConnectedDropTarget",null),Pd(this,"lastConnectedDropTargetOptions",null),Pd(this,"backend",void 0),this.backend=t}return k8n(e,[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"reconnect",value:function(){var n=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();n&&this.disconnectDropTarget();var r=this.dropTarget;if(this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}},{key:"receiveHandlerId",value:function(n){n!==this.handlerId&&(this.handlerId=n,this.reconnect())}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(n){this.dropTargetOptionsInternal=n}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!XJ(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}}]),e}();function P8n(e,t,n){var r=n.getRegistry(),i=r.addTarget(e,t);return[i,function(){return r.removeTarget(i)}]}function R8n(e,t,n){var r=n.getRegistry(),i=r.addSource(e,t);return[i,function(){return r.removeSource(i)}]}var Ib=typeof window<"u"?O.useLayoutEffect:O.useEffect;function GI(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?GI=function(n){return typeof n}:GI=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},GI(e)}function A8n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mTe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D8n(e,t,n){return t&&mTe(e.prototype,t),n&&mTe(e,n),e}function IU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N8n=function(){function e(t,n,r){A8n(this,e),IU(this,"spec",void 0),IU(this,"monitor",void 0),IU(this,"connector",void 0),this.spec=t,this.monitor=n,this.connector=r}return D8n(e,[{key:"beginDrag",value:function(){var n,r=this.spec,i=this.monitor,o=null;return GI(r.item)==="object"?o=r.item:typeof r.item=="function"?o=r.item(i):o={},(n=o)!==null&&n!==void 0?n:null}},{key:"canDrag",value:function(){var n=this.spec,r=this.monitor;return typeof n.canDrag=="boolean"?n.canDrag:typeof n.canDrag=="function"?n.canDrag(r):!0}},{key:"isDragging",value:function(n,r){var i=this.spec,o=this.monitor,s=i.isDragging;return s?s(o):r===n.getSourceId()}},{key:"endDrag",value:function(){var n=this.spec,r=this.monitor,i=this.connector,o=n.end;o&&o(r.getItem(),r),i.reconnect()}}]),e}();function M8n(e,t,n){var r=O.useMemo(function(){return new N8n(e,t,n)},[t,n]);return O.useEffect(function(){r.spec=e},[e]),r}function wO(){var e=O.useContext(grt),t=e.dragDropManager;return nn(t!=null,"Expected drag drop context"),t}function I8n(e){return O.useMemo(function(){var t=e.type;return nn(t!=null,"spec.type must be defined"),t},[e])}function L8n(e,t){return Q8n(e)||z8n(e,t)||F8n(e,t)||j8n()}function j8n(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F8n(e,t){if(e){if(typeof e=="string")return yTe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yTe(e,t)}}function yTe(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function z8n(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function Q8n(e){if(Array.isArray(e))return e}function B8n(e,t,n){var r=wO(),i=M8n(e,t,n),o=I8n(e);Ib(function(){if(o!=null){var a=R8n(o,i,r),l=L8n(a,2),c=l[0],u=l[1];return t.receiveHandlerId(c),n.receiveHandlerId(c),u}},[r,t,n,i,o])}function W8n(e){return Y8n(e)||q8n(e)||U8n(e)||V8n()}function V8n(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U8n(e,t){if(e){if(typeof e=="string")return HJ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HJ(e,t)}}function q8n(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Y8n(e){if(Array.isArray(e))return HJ(e)}function HJ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _rt(e,t){var n=W8n(t||[]);return t==null&&typeof e!="function"&&n.push(e),O.useMemo(function(){return typeof e=="function"?e():e},n)}function X8n(){var e=wO();return O.useMemo(function(){return new y8n(e)},[e])}function H8n(e,t){var n=wO(),r=O.useMemo(function(){return new $8n(n.getBackend())},[n]);return Ib(function(){return r.dragSourceOptions=e||null,r.reconnect(),function(){return r.disconnectDragSource()}},[r,e]),Ib(function(){return r.dragPreviewOptions=t||null,r.reconnect(),function(){return r.disconnectDragPreview()}},[r,t]),r}function Z8n(e,t){return ezn(e)||J8n(e,t)||K8n(e,t)||G8n()}function G8n(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K8n(e,t){if(e){if(typeof e=="string")return vTe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vTe(e,t)}}function vTe(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function J8n(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function ezn(e){if(Array.isArray(e))return e}function Crt(e,t,n){var r=O.useState(function(){return t(e)}),i=Z8n(r,2),o=i[0],s=i[1],a=O.useCallback(function(){var l=t(e);xZe(o,l)||(s(l),n&&n())},[o,e,n]);return Ib(a),[o,a]}function tzn(e,t){return ozn(e)||izn(e,t)||rzn(e,t)||nzn()}function nzn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rzn(e,t){if(e){if(typeof e=="string")return bTe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bTe(e,t)}}function bTe(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function izn(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function ozn(e){if(Array.isArray(e))return e}function szn(e,t,n){var r=Crt(e,t,n),i=tzn(r,2),o=i[0],s=i[1];return Ib(function(){var l=e.getHandlerId();if(l!=null)return e.subscribeToStateChange(s,{handlerIds:[l]})},[e,s]),o}function $rt(e,t,n){return szn(t,e||function(){return{}},function(){return n.reconnect()})}function azn(e){return O.useMemo(function(){return e.hooks.dragSource()},[e])}function lzn(e){return O.useMemo(function(){return e.hooks.dragPreview()},[e])}function czn(e,t){var n=_rt(e,t);nn(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");var r=X8n(),i=H8n(n.options,n.previewOptions);return B8n(n,r,i),[$rt(n.collect,r,i),azn(i),lzn(i)]}function uzn(e){var t=e.accept;return O.useMemo(function(){return nn(e.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]},[t])}function fzn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OTe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dzn(e,t,n){return t&&OTe(e.prototype,t),n&&OTe(e,n),e}function xTe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hzn=function(){function e(t,n){fzn(this,e),xTe(this,"spec",void 0),xTe(this,"monitor",void 0),this.spec=t,this.monitor=n}return dzn(e,[{key:"canDrop",value:function(){var n=this.spec,r=this.monitor;return n.canDrop?n.canDrop(r.getItem(),r):!0}},{key:"hover",value:function(){var n=this.spec,r=this.monitor;n.hover&&n.hover(r.getItem(),r)}},{key:"drop",value:function(){var n=this.spec,r=this.monitor;if(n.drop)return n.drop(r.getItem(),r)}}]),e}();function pzn(e,t){var n=O.useMemo(function(){return new hzn(e,t)},[t]);return O.useEffect(function(){n.spec=e},[e]),n}function gzn(e,t){return bzn(e)||vzn(e,t)||yzn(e,t)||mzn()}function mzn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yzn(e,t){if(e){if(typeof e=="string")return wTe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wTe(e,t)}}function wTe(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vzn(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function bzn(e){if(Array.isArray(e))return e}function Ozn(e,t,n){var r=wO(),i=pzn(e,t),o=uzn(e);Ib(function(){var a=P8n(o,i,r),l=gzn(a,2),c=l[0],u=l[1];return t.receiveHandlerId(c),n.receiveHandlerId(c),u},[r,t,i,n,o.map(function(s){return s.toString()}).join("|")])}function xzn(){var e=wO();return O.useMemo(function(){return new O8n(e)},[e])}function wzn(e){var t=wO(),n=O.useMemo(function(){return new T8n(t.getBackend())},[t]);return Ib(function(){return n.dropTargetOptions=e||null,n.reconnect(),function(){return n.disconnectDropTarget()}},[e]),n}function Szn(e){return O.useMemo(function(){return e.hooks.dropTarget()},[e])}function Ert(e,t){var n=_rt(e,t),r=xzn(),i=wzn(n.options);return Ozn(n,r,i),[$rt(n.collect,r,i),Szn(i)]}function _zn(e,t){return kzn(e)||Ezn(e,t)||$zn(e,t)||Czn()}function Czn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $zn(e,t){if(e){if(typeof e=="string")return STe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return STe(e,t)}}function STe(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ezn(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(e);!(i=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function kzn(e){if(Array.isArray(e))return e}function Tzn(e){var t=wO(),n=t.getMonitor(),r=Crt(n,e),i=_zn(r,2),o=i[0],s=i[1];return O.useEffect(function(){return n.subscribeToOffsetChange(s)}),O.useEffect(function(){return n.subscribeToStateChange(s)}),o}function krt(e){var t=null,n=function(){return t==null&&(t=e()),t};return n}function Pzn(e,t){return e.filter(function(n){return n!==t})}function Rzn(e,t){var n=new Set,r=function(s){return n.add(s)};e.forEach(r),t.forEach(r);var i=[];return n.forEach(function(o){return i.push(o)}),i}function Azn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dzn(e,t,n){return t&&_Te(e.prototype,t),n&&_Te(e,n),e}function CTe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Nzn=function(){function e(t){Azn(this,e),CTe(this,"entered",[]),CTe(this,"isNodeInDocument",void 0),this.isNodeInDocument=t}return Dzn(e,[{key:"enter",value:function(n){var r=this,i=this.entered.length,o=function(a){return r.isNodeInDocument(a)&&(!a.contains||a.contains(n))};return this.entered=Rzn(this.entered.filter(o),[n]),i===0&&this.entered.length>0}},{key:"leave",value:function(n){var r=this.entered.length;return this.entered=Pzn(this.entered.filter(this.isNodeInDocument),n),r>0&&this.entered.length===0}},{key:"reset",value:function(){this.entered=[]}}]),e}(),Mzn=krt(function(){return/firefox/i.test(navigator.userAgent)}),Trt=krt(function(){return!!window.safari});function Izn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lzn(e,t,n){return t&&$Te(e.prototype,t),n&&$Te(e,n),e}function rE(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ETe=function(){function e(t,n){Izn(this,e),rE(this,"xs",void 0),rE(this,"ys",void 0),rE(this,"c1s",void 0),rE(this,"c2s",void 0),rE(this,"c3s",void 0);for(var r=t.length,i=[],o=0;o<r;o++)i.push(o);i.sort(function(E,R){return t[E]<t[R]?-1:1});for(var s=[],a=[],l,c,u=0;u<r-1;u++)l=t[u+1]-t[u],c=n[u+1]-n[u],s.push(l),a.push(c/l);for(var f=[a[0]],d=0;d<s.length-1;d++){var h=a[d],p=a[d+1];if(h*p<=0)f.push(0);else{l=s[d];var g=s[d+1],y=l+g;f.push(3*y/((y+g)/h+(y+l)/p))}}f.push(a[a.length-1]);for(var v=[],x=[],m,w=0;w<f.length-1;w++){m=a[w];var S=f[w],C=1/s[w],$=S+f[w+1]-m-m;v.push((m-S-$)*C),x.push($*C*C)}this.xs=t,this.ys=n,this.c1s=f,this.c2s=v,this.c3s=x}return Lzn(e,[{key:"interpolate",value:function(n){var r=this.xs,i=this.ys,o=this.c1s,s=this.c2s,a=this.c3s,l=r.length-1;if(n===r[l])return i[l];for(var c=0,u=a.length-1,f;c<=u;){f=Math.floor(.5*(c+u));var d=r[f];if(d<n)c=f+1;else if(d>n)u=f-1;else return i[f]}l=Math.max(0,u);var h=n-r[l],p=h*h;return i[l]+o[l]*h+s[l]*p+a[l]*h*p}}]),e}(),jzn=1;function Prt(e){var t=e.nodeType===jzn?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top,i=n.left;return{x:i,y:r}}function yM(e){return{x:e.clientX,y:e.clientY}}function Fzn(e){var t;return e.nodeName==="IMG"&&(Mzn()||!((t=document.documentElement)!==null&&t!==void 0&&t.contains(e)))}function zzn(e,t,n,r){var i=e?t.width:n,o=e?t.height:r;return Trt()&&e&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}function Qzn(e,t,n,r,i){var o=Fzn(t),s=o?e:t,a=Prt(s),l={x:n.x-a.x,y:n.y-a.y},c=e.offsetWidth,u=e.offsetHeight,f=r.anchorX,d=r.anchorY,h=zzn(o,t,c,u),p=h.dragPreviewWidth,g=h.dragPreviewHeight,y=function(){var $=new ETe([0,.5,1],[l.y,l.y/u*g,l.y+g-u]),E=$.interpolate(d);return Trt()&&o&&(E+=(window.devicePixelRatio-1)*g),E},v=function(){var $=new ETe([0,.5,1],[l.x,l.x/c*p,l.x+p-c]);return $.interpolate(f)},x=i.offsetX,m=i.offsetY,w=x===0||x,S=m===0||m;return{x:w?x:v(),y:S?m:y()}}var Rrt="__NATIVE_FILE__",Art="__NATIVE_URL__",Drt="__NATIVE_TEXT__",Nrt="__NATIVE_HTML__";const kTe=Object.freeze(Object.defineProperty({__proto__:null,FILE:Rrt,HTML:Nrt,TEXT:Drt,URL:Art},Symbol.toStringTag,{value:"Module"}));function LU(e,t,n){var r=t.reduce(function(i,o){return i||e.getData(o)},"");return r??n}var yx;function vM(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ZJ=(yx={},vM(yx,Rrt,{exposeProperties:{files:function(t){return Array.prototype.slice.call(t.files)},items:function(t){return t.items},dataTransfer:function(t){return t}},matchesTypes:["Files"]}),vM(yx,Nrt,{exposeProperties:{html:function(t,n){return LU(t,n,"")},dataTransfer:function(t){return t}},matchesTypes:["Html","text/html"]}),vM(yx,Art,{exposeProperties:{urls:function(t,n){return LU(t,n,"").split(`
`)},dataTransfer:function(t){return t}},matchesTypes:["Url","text/uri-list"]}),vM(yx,Drt,{exposeProperties:{text:function(t,n){return LU(t,n,"")},dataTransfer:function(t){return t}},matchesTypes:["Text","text/plain"]}),yx);function Bzn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TTe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wzn(e,t,n){return t&&TTe(e.prototype,t),n&&TTe(e,n),e}function PTe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vzn=function(){function e(t){Bzn(this,e),PTe(this,"item",void 0),PTe(this,"config",void 0),this.config=t,this.item={},this.initializeExposedProperties()}return Wzn(e,[{key:"initializeExposedProperties",value:function(){var n=this;Object.keys(this.config.exposeProperties).forEach(function(r){Object.defineProperty(n.item,r,{configurable:!0,enumerable:!0,get:function(){return console.warn(`Browser doesn't allow reading "`.concat(r,'" until the drop event.')),null}})})}},{key:"loadDataTransfer",value:function(n){var r=this;if(n){var i={};Object.keys(this.config.exposeProperties).forEach(function(o){i[o]={value:r.config.exposeProperties[o](n,r.config.matchesTypes),configurable:!0,enumerable:!0}}),Object.defineProperties(this.item,i)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(n,r){return r===n.getSourceId()}},{key:"endDrag",value:function(){}}]),e}();function Uzn(e,t){var n=new Vzn(ZJ[e]);return n.loadDataTransfer(t),n}function jU(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(ZJ).filter(function(n){var r=ZJ[n].matchesTypes;return r.some(function(i){return t.indexOf(i)>-1})})[0]||null}function qzn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RTe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yzn(e,t,n){return t&&RTe(e.prototype,t),n&&RTe(e,n),e}function FU(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xzn=function(){function e(t,n){qzn(this,e),FU(this,"ownerDocument",null),FU(this,"globalContext",void 0),FU(this,"optionsArgs",void 0),this.globalContext=t,this.optionsArgs=n}return Yzn(e,[{key:"window",get:function(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}},{key:"document",get:function(){var n;return(n=this.globalContext)!==null&&n!==void 0&&n.document?this.globalContext.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var n;return((n=this.optionsArgs)===null||n===void 0?void 0:n.rootElement)||this.window}}]),e}();function ATe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function DTe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ATe(Object(n),!0).forEach(function(r){Cn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ATe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hzn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NTe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zzn(e,t,n){return t&&NTe(e.prototype,t),n&&NTe(e,n),e}function Cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gzn=function(){function e(t,n,r){var i=this;Hzn(this,e),Cn(this,"options",void 0),Cn(this,"actions",void 0),Cn(this,"monitor",void 0),Cn(this,"registry",void 0),Cn(this,"enterLeaveCounter",void 0),Cn(this,"sourcePreviewNodes",new Map),Cn(this,"sourcePreviewNodeOptions",new Map),Cn(this,"sourceNodes",new Map),Cn(this,"sourceNodeOptions",new Map),Cn(this,"dragStartSourceIds",null),Cn(this,"dropTargetIds",[]),Cn(this,"dragEnterTargetIds",[]),Cn(this,"currentNativeSource",null),Cn(this,"currentNativeHandle",null),Cn(this,"currentDragSourceNode",null),Cn(this,"altKeyPressed",!1),Cn(this,"mouseMoveTimeoutTimer",null),Cn(this,"asyncEndDragFrameId",null),Cn(this,"dragOverTargetIds",null),Cn(this,"lastClientOffset",null),Cn(this,"hoverRafId",null),Cn(this,"getSourceClientOffset",function(o){var s=i.sourceNodes.get(o);return s&&Prt(s)||null}),Cn(this,"endDragNativeItem",function(){i.isDraggingNativeItem()&&(i.actions.endDrag(),i.currentNativeHandle&&i.registry.removeSource(i.currentNativeHandle),i.currentNativeHandle=null,i.currentNativeSource=null)}),Cn(this,"isNodeInDocument",function(o){return!!(o&&i.document&&i.document.body&&i.document.body.contains(o))}),Cn(this,"endDragIfSourceWasRemovedFromDOM",function(){var o=i.currentDragSourceNode;o==null||i.isNodeInDocument(o)||i.clearCurrentDragSourceNode()&&i.monitor.isDragging()&&i.actions.endDrag()}),Cn(this,"handleTopDragStartCapture",function(){i.clearCurrentDragSourceNode(),i.dragStartSourceIds=[]}),Cn(this,"handleTopDragStart",function(o){if(!o.defaultPrevented){var s=i.dragStartSourceIds;i.dragStartSourceIds=null;var a=yM(o);i.monitor.isDragging()&&i.actions.endDrag(),i.actions.beginDrag(s||[],{publishSource:!1,getSourceClientOffset:i.getSourceClientOffset,clientOffset:a});var l=o.dataTransfer,c=jU(l);if(i.monitor.isDragging()){if(l&&typeof l.setDragImage=="function"){var u=i.monitor.getSourceId(),f=i.sourceNodes.get(u),d=i.sourcePreviewNodes.get(u)||f;if(d){var h=i.getCurrentSourcePreviewNodeOptions(),p=h.anchorX,g=h.anchorY,y=h.offsetX,v=h.offsetY,x={anchorX:p,anchorY:g},m={offsetX:y,offsetY:v},w=Qzn(f,d,a,x,m);l.setDragImage(d,w.x,w.y)}}try{l==null||l.setData("application/json",{})}catch{}i.setCurrentDragSourceNode(o.target);var S=i.getCurrentSourcePreviewNodeOptions(),C=S.captureDraggingState;C?i.actions.publishDragSource():setTimeout(function(){return i.actions.publishDragSource()},0)}else if(c)i.beginDragNativeItem(c);else{if(l&&!l.types&&(o.target&&!o.target.hasAttribute||!o.target.hasAttribute("draggable")))return;o.preventDefault()}}}),Cn(this,"handleTopDragEndCapture",function(){i.clearCurrentDragSourceNode()&&i.monitor.isDragging()&&i.actions.endDrag()}),Cn(this,"handleTopDragEnterCapture",function(o){i.dragEnterTargetIds=[];var s=i.enterLeaveCounter.enter(o.target);if(!(!s||i.monitor.isDragging())){var a=o.dataTransfer,l=jU(a);l&&i.beginDragNativeItem(l,a)}}),Cn(this,"handleTopDragEnter",function(o){var s=i.dragEnterTargetIds;if(i.dragEnterTargetIds=[],!!i.monitor.isDragging()){i.altKeyPressed=o.altKey,s.length>0&&i.actions.hover(s,{clientOffset:yM(o)});var a=s.some(function(l){return i.monitor.canDropOnTarget(l)});a&&(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=i.getCurrentDropEffect()))}}),Cn(this,"handleTopDragOverCapture",function(){i.dragOverTargetIds=[]}),Cn(this,"handleTopDragOver",function(o){var s=i.dragOverTargetIds;if(i.dragOverTargetIds=[],!i.monitor.isDragging()){o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none");return}i.altKeyPressed=o.altKey,i.lastClientOffset=yM(o),i.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(i.hoverRafId=requestAnimationFrame(function(){i.monitor.isDragging()&&i.actions.hover(s||[],{clientOffset:i.lastClientOffset}),i.hoverRafId=null}));var a=(s||[]).some(function(l){return i.monitor.canDropOnTarget(l)});a?(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=i.getCurrentDropEffect())):i.isDraggingNativeItem()?o.preventDefault():(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none"))}),Cn(this,"handleTopDragLeaveCapture",function(o){i.isDraggingNativeItem()&&o.preventDefault();var s=i.enterLeaveCounter.leave(o.target);s&&i.isDraggingNativeItem()&&setTimeout(function(){return i.endDragNativeItem()},0)}),Cn(this,"handleTopDropCapture",function(o){if(i.dropTargetIds=[],i.isDraggingNativeItem()){var s;o.preventDefault(),(s=i.currentNativeSource)===null||s===void 0||s.loadDataTransfer(o.dataTransfer)}else jU(o.dataTransfer)&&o.preventDefault();i.enterLeaveCounter.reset()}),Cn(this,"handleTopDrop",function(o){var s=i.dropTargetIds;i.dropTargetIds=[],i.actions.hover(s,{clientOffset:yM(o)}),i.actions.drop({dropEffect:i.getCurrentDropEffect()}),i.isDraggingNativeItem()?i.endDragNativeItem():i.monitor.isDragging()&&i.actions.endDrag()}),Cn(this,"handleSelectStart",function(o){var s=o.target;typeof s.dragDrop=="function"&&(s.tagName==="INPUT"||s.tagName==="SELECT"||s.tagName==="TEXTAREA"||s.isContentEditable||(o.preventDefault(),s.dragDrop()))}),this.options=new Xzn(n,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new Nzn(this.isNodeInDocument)}return Zzn(e,[{key:"profile",value:function(){var n,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((n=this.dragStartSourceIds)===null||n===void 0?void 0:n.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}},{key:"rootElement",get:function(){return this.options.rootElement}},{key:"setup",value:function(){var n=this.rootElement;if(n!==void 0){if(n.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");n.__isReactDndBackendSetUp=!0,this.addEventListeners(n)}}},{key:"teardown",value:function(){var n=this.rootElement;if(n!==void 0&&(n.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}},{key:"connectDragPreview",value:function(n,r,i){var o=this;return this.sourcePreviewNodeOptions.set(n,i),this.sourcePreviewNodes.set(n,r),function(){o.sourcePreviewNodes.delete(n),o.sourcePreviewNodeOptions.delete(n)}}},{key:"connectDragSource",value:function(n,r,i){var o=this;this.sourceNodes.set(n,r),this.sourceNodeOptions.set(n,i);var s=function(c){return o.handleDragStart(c,n)},a=function(c){return o.handleSelectStart(c)};return r.setAttribute("draggable","true"),r.addEventListener("dragstart",s),r.addEventListener("selectstart",a),function(){o.sourceNodes.delete(n),o.sourceNodeOptions.delete(n),r.removeEventListener("dragstart",s),r.removeEventListener("selectstart",a),r.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(n,r){var i=this,o=function(c){return i.handleDragEnter(c,n)},s=function(c){return i.handleDragOver(c,n)},a=function(c){return i.handleDrop(c,n)};return r.addEventListener("dragenter",o),r.addEventListener("dragover",s),r.addEventListener("drop",a),function(){r.removeEventListener("dragenter",o),r.removeEventListener("dragover",s),r.removeEventListener("drop",a)}}},{key:"addEventListeners",value:function(n){n.addEventListener&&(n.addEventListener("dragstart",this.handleTopDragStart),n.addEventListener("dragstart",this.handleTopDragStartCapture,!0),n.addEventListener("dragend",this.handleTopDragEndCapture,!0),n.addEventListener("dragenter",this.handleTopDragEnter),n.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),n.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),n.addEventListener("dragover",this.handleTopDragOver),n.addEventListener("dragover",this.handleTopDragOverCapture,!0),n.addEventListener("drop",this.handleTopDrop),n.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(n){n.removeEventListener&&(n.removeEventListener("dragstart",this.handleTopDragStart),n.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),n.removeEventListener("dragend",this.handleTopDragEndCapture,!0),n.removeEventListener("dragenter",this.handleTopDragEnter),n.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),n.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),n.removeEventListener("dragover",this.handleTopDragOver),n.removeEventListener("dragover",this.handleTopDragOverCapture,!0),n.removeEventListener("drop",this.handleTopDrop),n.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var n=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(n);return DTe({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var n=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(n);return DTe({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}},{key:"isDraggingNativeItem",value:function(){var n=this.monitor.getItemType();return Object.keys(kTe).some(function(r){return kTe[r]===n})}},{key:"beginDragNativeItem",value:function(n,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=Uzn(n,r),this.currentNativeHandle=this.registry.addSource(n,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(n){var r=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=n;var i=1e3;this.mouseMoveTimeoutTimer=setTimeout(function(){var o;return(o=r.rootElement)===null||o===void 0?void 0:o.addEventListener("mousemove",r.endDragIfSourceWasRemovedFromDOM,!0)},i)}},{key:"clearCurrentDragSourceNode",value:function(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var n;(n=this.window)===null||n===void 0||n.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}},{key:"handleDragStart",value:function(n,r){n.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}},{key:"handleDragEnter",value:function(n,r){this.dragEnterTargetIds.unshift(r)}},{key:"handleDragOver",value:function(n,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}},{key:"handleDrop",value:function(n,r){this.dropTargetIds.unshift(r)}}]),e}(),bM;function Kzn(){return bM||(bM=new Image,bM.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),bM}var Jzn=function(t,n,r){return new Gzn(t,n,r)};function e9n(e){const t=Xc(),n=t.selectedIds,[r,i,o]=czn(()=>({canDrag:()=>e.isDraggable,type:"NODE",item:()=>{const s=t.isSelected(e.id)?Array.from(n):[e.id];return t.dispatch(P_.dragStart(e.id,s)),{id:e.id}},end:()=>{t.hideCursor();let{parentId:s,index:a,dragIds:l}=t.state.dnd;t.canDrop()&&(urt(t.props.onMove,{dragIds:l,parentId:s===TP?null:s,index:a===null?0:a,dragNodes:t.dragNodes,parentNode:t.get(s)}),t.open(s)),t.dispatch(P_.dragEnd())}}),[n,e]);return O.useEffect(()=>{o(Kzn())},[o]),i}function t9n(e,t){const n=e.getBoundingClientRect(),r=t.x-Math.round(n.x),i=t.y-Math.round(n.y),o=n.height,s=i<o/2,a=!s,l=o/4,c=i>l&&i<o-l;return{x:r,inTopHalf:s,inBottomHalf:a,inMiddle:c,atTop:!c&&s,atBottom:!c&&a}}function n9n(e,t,n,r){return e?e.isInternal?r.atTop?[t,e]:r.inMiddle?[e,e]:[e,n]:r.inTopHalf?[t,e]:[e,n]:[t,null]}function OM(e,t){return{parentId:e||null,index:t}}function vx(e,t){return{type:"line",index:e,level:t}}function r9n(e){return{type:"highlight",id:e}}function zU(e,t){var n;let r=e;for(;r.parent&&r.level>t;)r=r.parent;const i=((n=r.parent)===null||n===void 0?void 0:n.id)||null,o=ort(r)+1;return{parentId:i,index:o}}function Mrt(e){var t;const n=t9n(e.element,e.offset),r=e.indent,i=Math.round(Math.max(0,n.x-r)/r),{node:o,nextNode:s,prevNode:a}=e,[l,c]=n9n(o,a,s,n);if(o&&o.isInternal&&n.inMiddle)return{drop:OM(o.id,null),cursor:r9n(o.id)};if(!l)return{drop:OM((t=c==null?void 0:c.parent)===null||t===void 0?void 0:t.id,0),cursor:vx(0,0)};if(trt(l)){const u=qI(i,(c==null?void 0:c.level)||0,l.level);return{drop:zU(l,u),cursor:vx(l.rowIndex+1,u)}}if(nrt(l)){const u=qI(i,(c==null?void 0:c.level)||0,l.level);return{drop:zU(l,u),cursor:vx(l.rowIndex+1,u)}}if(rrt(l)){const u=qI(i,0,l.level+1);return u>l.level?{drop:OM(l.id,0),cursor:vx(l.rowIndex+1,u)}:{drop:zU(l,u),cursor:vx(l.rowIndex+1,u)}}return{drop:OM(l==null?void 0:l.id,0),cursor:vx(l.rowIndex+1,l.level+1)}}function i9n(e,t){const n=Xc(),[r,i]=Ert(()=>({accept:"NODE",canDrop:()=>n.canDrop(),hover:(o,s)=>{const a=s.getClientOffset();if(!e.current||!a)return;const{cursor:l,drop:c}=Mrt({element:e.current,offset:a,indent:n.indent,node:t,prevNode:t.prev,nextNode:t.next});c&&n.dispatch(P_.hovering(c.parentId,c.index)),s.canDrop()?l&&n.showCursor(l):n.hideCursor()},drop:(o,s)=>{if(!s.canDrop())return null}}),[t,e.current,n.props]);return i}function o9n(e){const t=Xc(),n=t.at(e);if(!n)throw new Error(`Could not find node for index: ${e}`);return O.useMemo(()=>{const r=n.clone();return t.visibleNodes[e]=r,r},[...Object.values(n.state),n])}const s9n=ie.memo(function({index:t,style:n}){ert(),X4n();const r=Xc(),i=o9n(t),o=O.useRef(null),s=e9n(i),a=i9n(o,i),l=O.useCallback(g=>{o.current=g,a(g)},[a]),c=r.indent*i.level,u=O.useMemo(()=>({paddingLeft:c}),[c]),f=O.useMemo(()=>{var g,y;return Object.assign(Object.assign({},n),{top:parseFloat(n.top)+((y=(g=r.props.padding)!==null&&g!==void 0?g:r.props.paddingTop)!==null&&y!==void 0?y:0)})},[n,r.props.padding,r.props.paddingTop]),d={role:"treeitem","aria-level":i.level+1,"aria-selected":i.isSelected,style:f,tabIndex:-1,className:r.props.rowClassName};O.useEffect(()=>{var g;!i.isEditing&&i.isFocused&&((g=o.current)===null||g===void 0||g.focus({preventScroll:!0}))},[i.isEditing,i.isFocused,o.current]);const h=r.renderNode,p=r.renderRow;return b.jsx(p,{node:i,innerRef:l,attrs:d,children:b.jsx(h,{node:i,tree:r,style:u,dragHandle:s})})});let QU="",MTe=null;function Irt(){ert();const e=Xc();return b.jsx("div",{role:"tree",style:{height:e.height,width:e.width,minHeight:0,minWidth:0},onContextMenu:e.props.onContextMenu,onClick:e.props.onClick,tabIndex:0,onFocus:t=>{t.currentTarget.contains(t.relatedTarget)||e.onFocus()},onBlur:t=>{t.currentTarget.contains(t.relatedTarget)||e.onBlur()},onKeyDown:t=>{var n;if(e.isEditing)return;if(t.key==="Backspace"){if(!e.props.onDelete)return;const i=Array.from(e.selectedIds);if(i.length>1){let o=e.mostRecentNode;for(;o&&o.isSelected;)o=o.nextSibling;o||(o=e.lastNode),e.focus(o,{scroll:!1}),e.delete(Array.from(i))}else{const o=e.focusedNode;if(o){const s=o.nextSibling,a=o.parent;e.focus(s||a,{scroll:!1}),e.delete(o)}}return}if(t.key==="Tab"&&!t.shiftKey){t.preventDefault(),srt(t.currentTarget);return}if(t.key==="Tab"&&t.shiftKey){t.preventDefault(),art(t.currentTarget);return}if(t.key==="ArrowDown"){t.preventDefault();const i=e.nextNode;if(t.metaKey){e.select(e.focusedNode),e.activate(e.focusedNode);return}else if(!t.shiftKey||e.props.disableMultiSelection){e.focus(i);return}else{if(!i)return;const o=e.focusedNode;o?o.isSelected?e.selectContiguous(i):e.selectMulti(i):e.focus(e.firstNode);return}}if(t.key==="ArrowUp"){t.preventDefault();const i=e.prevNode;if(!t.shiftKey||e.props.disableMultiSelection){e.focus(i);return}else{if(!i)return;const o=e.focusedNode;o?o.isSelected?e.selectContiguous(i):e.selectMulti(i):e.focus(e.lastNode);return}}if(t.key==="ArrowRight"){const i=e.focusedNode;if(!i)return;i.isInternal&&i.isOpen?e.focus(e.nextNode):i.isInternal&&e.open(i.id);return}if(t.key==="ArrowLeft"){const i=e.focusedNode;if(!i||i.isRoot)return;i.isInternal&&i.isOpen?e.close(i.id):!((n=i.parent)===null||n===void 0)&&n.isRoot||e.focus(i.parent);return}if(t.key==="a"&&t.metaKey&&!e.props.disableMultiSelection){t.preventDefault(),e.selectAll();return}if(t.key==="a"&&!t.metaKey&&e.props.onCreate){e.createLeaf();return}if(t.key==="A"&&!t.metaKey){if(!e.props.onCreate)return;e.createInternal();return}if(t.key==="Home"){t.preventDefault(),e.focus(e.firstNode);return}if(t.key==="End"){t.preventDefault(),e.focus(e.lastNode);return}if(t.key==="Enter"){const i=e.focusedNode;if(!i||!i.isEditable||!e.props.onRename)return;setTimeout(()=>{i&&e.edit(i)});return}if(t.key===" "){t.preventDefault();const i=e.focusedNode;if(!i)return;i.isLeaf?(i.select(),i.activate()):i.toggle();return}if(t.key==="*"){const i=e.focusedNode;if(!i)return;e.openSiblings(i);return}if(t.key==="PageUp"){t.preventDefault(),e.pageUp();return}t.key==="PageDown"&&(t.preventDefault(),e.pageDown()),clearTimeout(MTe),QU+=t.key,MTe=setTimeout(()=>{QU=""},600);const r=e.visibleNodes.find(i=>{const o=i.data.name;return typeof o=="string"?o.toLowerCase().startsWith(QU):!1});r&&e.focus(r.id)},children:b.jsx(P6n,{className:e.props.className,outerRef:e.listEl,itemCount:e.visibleNodes.length,height:e.height,width:e.width,itemSize:e.rowHeight,overscanCount:e.overscanCount,itemKey:t=>{var n;return((n=e.visibleNodes[t])===null||n===void 0?void 0:n.id)||t},outerElementType:D6n,innerElementType:I6n,onScroll:e.props.onScroll,onItemsRendered:e.onItemsRendered.bind(e),ref:e.list,children:s9n})})}function ITe(e){return e.isFiltered?l9n(e.root,e.isMatch.bind(e)):a9n(e.root)}function a9n(e){const t=[];function n(r){var i;r.level>=0&&t.push(r),r.isOpen&&((i=r.children)===null||i===void 0||i.forEach(n))}return n(e),t.forEach(Lrt),t}function l9n(e,t){const n={},r=[];function i(s){if(!s.isRoot&&t(s)){n[s.id]=!0;let l=s.parent;for(;l;)n[l.id]=!0,l=l.parent}if(s.children)for(let l of s.children)i(l)}function o(s){var a;s.level>=0&&n[s.id]&&r.push(s),s.isOpen&&((a=s.children)===null||a===void 0||a.forEach(o))}return i(e),o(e),r.forEach(Lrt),r}function Lrt(e,t){e.rowIndex=t}const LTe=e=>e.reduce((t,n,r)=>(t[n.id]=r,t),{});var BU=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{c(r.next(u))}catch(f){s(f)}}function l(u){try{c(r.throw(u))}catch(f){s(f)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const{safeRun:vs,identify:mp,identifyNull:of}=e6n;class Jk{constructor(t,n,r,i){this.store=t,this.props=n,this.list=r,this.listEl=i,this.visibleStartIndex=0,this.visibleStopIndex=0,this.root=Mke(this),this.visibleNodes=ITe(this),this.idToIndex=LTe(this.visibleNodes)}update(t){this.props=t,this.root=Mke(this),this.visibleNodes=ITe(this),this.idToIndex=LTe(this.visibleNodes)}dispatch(t){return this.store.dispatch(t)}get state(){return this.store.getState()}get openState(){return this.state.nodes.open.unfiltered}get width(){var t;return(t=this.props.width)!==null&&t!==void 0?t:300}get height(){var t;return(t=this.props.height)!==null&&t!==void 0?t:500}get indent(){var t;return(t=this.props.indent)!==null&&t!==void 0?t:24}get rowHeight(){var t;return(t=this.props.rowHeight)!==null&&t!==void 0?t:24}get overscanCount(){var t;return(t=this.props.overscanCount)!==null&&t!==void 0?t:1}get searchTerm(){return(this.props.searchTerm||"").trim()}get matchFn(){var t;const n=(t=this.props.searchMatch)!==null&&t!==void 0?t:(r,i)=>JSON.stringify(Object.values(r.data)).toLocaleLowerCase().includes(i.toLocaleLowerCase());return r=>n(r,this.searchTerm)}accessChildren(t){var n;const r=this.props.childrenAccessor||"children";return(n=HE(t,r))!==null&&n!==void 0?n:null}accessId(t){const n=this.props.idAccessor||"id",r=HE(t,n);if(!r)throw new Error("Data must contain an 'id' property or props.idAccessor must return a string");return r}get firstNode(){var t;return(t=this.visibleNodes[0])!==null&&t!==void 0?t:null}get lastNode(){var t;return(t=this.visibleNodes[this.visibleNodes.length-1])!==null&&t!==void 0?t:null}get focusedNode(){var t;return(t=this.get(this.state.nodes.focus.id))!==null&&t!==void 0?t:null}get mostRecentNode(){var t;return(t=this.get(this.state.nodes.selection.mostRecent))!==null&&t!==void 0?t:null}get nextNode(){const t=this.indexOf(this.focusedNode);return t===null?null:this.at(t+1)}get prevNode(){const t=this.indexOf(this.focusedNode);return t===null?null:this.at(t-1)}get(t){return t&&t in this.idToIndex&&this.visibleNodes[this.idToIndex[t]]||null}at(t){return this.visibleNodes[t]||null}nodesBetween(t,n){var r;if(t===null||n===null)return[];const i=(r=this.indexOf(t))!==null&&r!==void 0?r:0,o=this.indexOf(n);if(o===null)return[];const s=Math.min(i,o),a=Math.max(i,o);return this.visibleNodes.slice(s,a+1)}indexOf(t){const n=crt(t);return n?this.idToIndex[n]:null}get editingId(){return this.state.nodes.edit.id}createInternal(){return this.create({type:"internal"})}createLeaf(){return this.create({type:"leaf"})}create(t={}){var n,r;return BU(this,void 0,void 0,function*(){const i=t.parentId===void 0?hrt(this):t.parentId,o=(n=t.index)!==null&&n!==void 0?n:drt(this),s=(r=t.type)!==null&&r!==void 0?r:"leaf",a=yield vs(this.props.onCreate,{type:s,parentId:i,index:o,parentNode:this.get(i)});a&&(this.focus(a),setTimeout(()=>{this.edit(a).then(()=>{this.select(a),this.activate(a)})}))})}delete(t){return BU(this,void 0,void 0,function*(){if(!t)return;const r=(Array.isArray(t)?t:[t]).map(mp),i=r.map(o=>this.get(o)).filter(o=>!!o);yield vs(this.props.onDelete,{nodes:i,ids:r})})}edit(t){const n=mp(t);return this.resolveEdit({cancelled:!0}),this.scrollTo(n),this.dispatch(TU(n)),new Promise(r=>{Jk.editPromise=r})}submit(t,n){return BU(this,void 0,void 0,function*(){if(!t)return;const r=mp(t);yield vs(this.props.onRename,{id:r,name:n,node:this.get(r)}),this.dispatch(TU(null)),this.resolveEdit({cancelled:!1,value:n}),setTimeout(()=>this.onFocus())})}reset(){this.dispatch(TU(null)),this.resolveEdit({cancelled:!0}),setTimeout(()=>this.onFocus())}activate(t){const n=this.get(of(t));n&&vs(this.props.onActivate,n)}resolveEdit(t){const n=Jk.editPromise;n&&n(t),Jk.editPromise=null}get selectedIds(){return this.state.nodes.selection.ids}get selectedNodes(){let t=[];for(let n of Array.from(this.selectedIds)){const r=this.get(n);r&&t.push(r)}return t}focus(t,n={}){t&&(this.props.selectionFollowsFocus?this.select(t):(this.dispatch(px(mp(t))),n.scroll!==!1&&this.scrollTo(t),this.focusedNode&&vs(this.props.onFocus,this.focusedNode)))}pageUp(){var t,n;const r=this.visibleStartIndex,o=this.visibleStopIndex-r;let s=(n=(t=this.focusedNode)===null||t===void 0?void 0:t.rowIndex)!==null&&n!==void 0?n:0;s>r?s=r:s=Math.max(r-o,0),this.focus(this.at(s))}pageDown(){var t,n;const r=this.visibleStartIndex,i=this.visibleStopIndex,o=i-r;let s=(n=(t=this.focusedNode)===null||t===void 0?void 0:t.rowIndex)!==null&&n!==void 0?n:0;s<i?s=i:s=Math.min(s+o,this.visibleNodes.length-1),this.focus(this.at(s))}select(t,n={}){if(!t)return;const r=n.focus!==!1,i=mp(t);r&&this.dispatch(px(i)),this.dispatch(rf.only(i)),this.dispatch(rf.anchor(i)),this.dispatch(rf.mostRecent(i)),this.scrollTo(i,n.align),this.focusedNode&&r&&vs(this.props.onFocus,this.focusedNode),vs(this.props.onSelect,this.selectedNodes)}deselect(t){if(!t)return;const n=mp(t);this.dispatch(rf.remove(n))}selectMulti(t){const n=this.get(of(t));n&&(this.dispatch(px(n.id)),this.dispatch(rf.add(n.id)),this.dispatch(rf.anchor(n.id)),this.dispatch(rf.mostRecent(n.id)),this.scrollTo(n),this.focusedNode&&vs(this.props.onFocus,this.focusedNode),vs(this.props.onSelect,this.selectedNodes))}selectContiguous(t){if(!t)return;const n=mp(t),{anchor:r,mostRecent:i}=this.state.nodes.selection;this.dispatch(px(n)),this.dispatch(rf.remove(this.nodesBetween(r,i))),this.dispatch(rf.add(this.nodesBetween(r,of(n)))),this.dispatch(rf.mostRecent(n)),this.scrollTo(n),this.focusedNode&&vs(this.props.onFocus,this.focusedNode),vs(this.props.onSelect,this.selectedNodes)}deselectAll(){this.setSelection({ids:[],anchor:null,mostRecent:null}),vs(this.props.onSelect,this.selectedNodes)}selectAll(){var t;this.setSelection({ids:Object.keys(this.idToIndex),anchor:this.firstNode,mostRecent:this.lastNode}),this.dispatch(px((t=this.lastNode)===null||t===void 0?void 0:t.id)),this.focusedNode&&vs(this.props.onFocus,this.focusedNode),vs(this.props.onSelect,this.selectedNodes)}setSelection(t){var n;const r=new Set((n=t.ids)===null||n===void 0?void 0:n.map(mp)),i=of(t.anchor),o=of(t.mostRecent);this.dispatch(rf.set({ids:r,anchor:i,mostRecent:o})),vs(this.props.onSelect,this.selectedNodes)}get cursorParentId(){const{cursor:t}=this.state.dnd;switch(t.type){case"highlight":return t.id;default:return null}}get cursorOverFolder(){return this.state.dnd.cursor.type==="highlight"}get dragNodes(){return this.state.dnd.dragIds.map(t=>this.get(t)).filter(t=>!!t)}get dragNode(){return this.get(this.state.nodes.drag.id)}get dragDestinationParent(){return this.get(this.state.nodes.drag.destinationParentId)}get dragDestinationIndex(){return this.state.nodes.drag.destinationIndex}canDrop(){var t;if(this.isFiltered)return!1;const n=(t=this.get(this.state.dnd.parentId))!==null&&t!==void 0?t:this.root,r=this.dragNodes,i=this.props.disableDrop;for(const o of r)if(!o||!n||o.isInternal&&irt(n,o))return!1;return typeof i=="function"?!i({parentNode:n,dragNodes:this.dragNodes,index:this.state.dnd.index||0}):typeof i=="string"?!n.data[i]:typeof i=="boolean"?!i:!0}hideCursor(){this.dispatch(P_.cursor({type:"none"}))}showCursor(t){this.dispatch(P_.cursor(t))}open(t){const n=of(t);n&&(this.isOpen(n)||(this.dispatch(VJ.open(n,this.isFiltered)),vs(this.props.onToggle,n)))}close(t){const n=of(t);n&&this.isOpen(n)&&(this.dispatch(VJ.close(n,this.isFiltered)),vs(this.props.onToggle,n))}toggle(t){const n=of(t);if(n)return this.isOpen(n)?this.close(n):this.open(n)}openParents(t){const n=of(t);if(!n)return;const r=Tde(this.root,n);let i=r==null?void 0:r.parent;for(;i;)this.open(i.id),i=i.parent}openSiblings(t){const n=t.parent;if(!n)this.toggle(t.id);else if(n.children){const r=t.isOpen;for(let i of n.children)i.isInternal&&(r?this.close(i.id):this.open(i.id));this.scrollTo(this.focusedNode)}}openAll(){kF(this.root,t=>{t.isInternal&&t.open()})}closeAll(){kF(this.root,t=>{t.isInternal&&t.close()})}scrollTo(t,n="smart"){if(!t)return;const r=mp(t);return this.openParents(r),frt(()=>r in this.idToIndex).then(()=>{var i;const o=this.idToIndex[r];o!==void 0&&((i=this.list.current)===null||i===void 0||i.scrollToItem(o,n))}).catch(()=>{})}get isEditing(){return this.state.nodes.edit.id!==null}get isFiltered(){var t;return!!(!((t=this.props.searchTerm)===null||t===void 0)&&t.trim())}get hasFocus(){return this.state.nodes.focus.treeFocused}get hasNoSelection(){return this.state.nodes.selection.ids.size===0}get hasOneSelection(){return this.state.nodes.selection.ids.size===1}get hasMultipleSelections(){return this.state.nodes.selection.ids.size>1}isSelected(t){return t?this.state.nodes.selection.ids.has(t):!1}isOpen(t){var n,r,i;if(!t)return!1;if(t===TP)return!0;const o=(n=this.props.openByDefault)!==null&&n!==void 0?n:!0;return this.isFiltered?(r=this.state.nodes.open.filtered[t])!==null&&r!==void 0?r:!0:(i=this.state.nodes.open.unfiltered[t])!==null&&i!==void 0?i:o}isEditable(t){var n;const r=this.props.disableEdit||(()=>!1);return(n=!HE(t,r))!==null&&n!==void 0?n:!0}isDraggable(t){var n;const r=this.props.disableDrag||(()=>!1);return(n=!HE(t,r))!==null&&n!==void 0?n:!0}isDragging(t){const n=of(t);return n?this.state.nodes.drag.id===n:!1}isFocused(t){return this.hasFocus&&this.state.nodes.focus.id===t}isMatch(t){return this.matchFn(t)}willReceiveDrop(t){const n=of(t);if(!n)return!1;const{destinationParentId:r,destinationIndex:i}=this.state.nodes.drag;return n===r&&i===null}onFocus(){const t=this.focusedNode||this.firstNode;t&&this.dispatch(px(t.id))}onBlur(){this.dispatch(u6n())}onItemsRendered(t){this.visibleStartIndex=t.visibleStartIndex,this.visibleStopIndex=t.visibleStopIndex}get renderContainer(){return this.props.renderContainer||Irt}get renderRow(){return this.props.renderRow||o6n}get renderNode(){return this.props.children||s6n}get renderDragPreview(){return this.props.renderDragPreview||prt}get renderCursor(){return this.props.renderCursor||i6n}}function ra(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var c9n=typeof Symbol=="function"&&Symbol.observable||"@@observable",jTe=c9n,WU=()=>Math.random().toString(36).substring(7).split("").join("."),u9n={INIT:`@@redux/INIT${WU()}`,REPLACE:`@@redux/REPLACE${WU()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${WU()}`},RF=u9n;function f9n(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function jrt(e,t,n){if(typeof e!="function")throw new Error(ra(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ra(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ra(1));return n(jrt)(e,t)}let r=e,i=t,o=new Map,s=o,a=0,l=!1;function c(){s===o&&(s=new Map,o.forEach((y,v)=>{s.set(v,y)}))}function u(){if(l)throw new Error(ra(3));return i}function f(y){if(typeof y!="function")throw new Error(ra(4));if(l)throw new Error(ra(5));let v=!0;c();const x=a++;return s.set(x,y),function(){if(v){if(l)throw new Error(ra(6));v=!1,c(),s.delete(x),o=null}}}function d(y){if(!f9n(y))throw new Error(ra(7));if(typeof y.type>"u")throw new Error(ra(8));if(typeof y.type!="string")throw new Error(ra(17));if(l)throw new Error(ra(9));try{l=!0,i=r(i,y)}finally{l=!1}return(o=s).forEach(x=>{x()}),y}function h(y){if(typeof y!="function")throw new Error(ra(10));r=y,d({type:RF.REPLACE})}function p(){const y=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(ra(11));function x(){const w=v;w.next&&w.next(u())}return x(),{unsubscribe:y(x)}},[jTe](){return this}}}return d({type:RF.INIT}),{dispatch:d,subscribe:f,getState:u,replaceReducer:h,[jTe]:p}}function d9n(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:RF.INIT})>"u")throw new Error(ra(12));if(typeof n(void 0,{type:RF.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ra(13))})}function FTe(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const s=t[o];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{d9n(n)}catch(o){i=o}return function(s={},a){if(i)throw i;let l=!1;const c={};for(let u=0;u<r.length;u++){const f=r[u],d=n[f],h=s[f],p=d(h,a);if(typeof p>"u")throw a&&a.type,new Error(ra(14));c[f]=p,l=l||p!==h}return l=l||r.length!==Object.keys(s).length,l?c:s}}function h9n(e=T_().nodes.drag,t){switch(t.type){case"DND_DRAG_START":return Object.assign(Object.assign({},e),{id:t.id,selectedIds:t.dragIds});case"DND_DRAG_END":return Object.assign(Object.assign({},e),{id:null,destinationParentId:null,destinationIndex:null,selectedIds:[]});case"DND_HOVERING":return t.parentId!==e.destinationParentId||t.index!=e.destinationIndex?Object.assign(Object.assign({},e),{destinationParentId:t.parentId,destinationIndex:t.index}):e;default:return e}}const p9n=FTe({nodes:FTe({focus:f6n,edit:c6n,open:d6n,selection:h6n,drag:h9n}),dnd:p6n}),g9n=T_();function m9n({treeProps:e,imperativeHandle:t,children:n}){const r=O.useRef(null),i=O.useRef(null),o=O.useRef(jrt(p9n,T_(e))),s=lDe.useSyncExternalStore(o.current.subscribe,o.current.getState,()=>g9n),a=O.useMemo(()=>new Jk(o.current,e,r,i),[]),l=O.useRef(0);return O.useMemo(()=>{l.current+=1,a.update(e)},[...Object.values(e),s.nodes.open]),O.useImperativeHandle(t,()=>a),O.useEffect(()=>{a.props.selection?a.select(a.props.selection,{focus:!1}):a.deselectAll()},[a.props.selection]),O.useEffect(()=>{a.props.searchTerm||o.current.dispatch(VJ.clear(!0))},[a.props.searchTerm]),b.jsx(Znt.Provider,{value:a,children:b.jsx(Jnt.Provider,{value:l.current,children:b.jsx(Gnt.Provider,{value:s.nodes,children:b.jsx(Knt.Provider,{value:s.dnd,children:b.jsx(d8n,Object.assign({backend:Jzn,options:{rootElement:a.props.dndRootElement||void 0}},e.dndManager&&{manager:e.dndManager},{children:n}))})})})})}function y9n(){const e=Xc(),[,t]=Ert(()=>({accept:"NODE",canDrop:(n,r)=>r.isOver({shallow:!0})?e.canDrop():!1,hover:(n,r)=>{if(!r.isOver({shallow:!0}))return;const i=r.getClientOffset();if(!e.listEl.current||!i)return;const{cursor:o,drop:s}=Mrt({element:e.listEl.current,offset:i,indent:e.indent,node:null,prevNode:e.visibleNodes[e.visibleNodes.length-1],nextNode:null});s&&e.dispatch(P_.hovering(s.parentId,s.index)),r.canDrop()?o&&e.showCursor(o):e.hideCursor()}}),[e]);t(e.listEl)}function v9n(e){return y9n(),e.children}function b9n(){const t=Xc().props.renderContainer||Irt;return b.jsx(b.Fragment,{children:b.jsx(t,{})})}function O9n(){const e=Xc(),{offset:t,mouse:n,item:r,isDragging:i}=Tzn(s=>({offset:s.getSourceClientOffset(),mouse:s.getClientOffset(),item:s.getItem(),isDragging:s.isDragging()})),o=e.props.renderDragPreview||prt;return b.jsx(o,{offset:t,mouse:n,id:(r==null?void 0:r.id)||null,dragIds:(r==null?void 0:r.dragIds)||[],isDragging:i})}class AF{constructor(t){this.root=x9n(t)}get data(){var t,n;return(n=(t=this.root.children)===null||t===void 0?void 0:t.map(r=>r.data))!==null&&n!==void 0?n:[]}create(t){const n=t.parentId?this.find(t.parentId):this.root;if(!n)return null;n.addChild(t.data,t.index)}move(t){const n=this.find(t.id),r=t.parentId?this.find(t.parentId):this.root;!n||!r||(r.addChild(n.data,t.index),n.drop())}update(t){const n=this.find(t.id);n&&n.update(t.changes)}drop(t){const n=this.find(t.id);n&&n.drop()}find(t,n=this.root){if(!n)return null;if(n.id===t)return n;if(n.children){for(let r of n.children){const i=this.find(t,r);if(i)return i}return null}return null}}function x9n(e){const t=new Frt({id:"ROOT"},null);return t.children=e.map(n=>Ide(n,t)),t}function Ide(e,t){const n=new Frt(e,t);return e.children&&(n.children=e.children.map(r=>Ide(r,n))),n}class Frt{constructor(t,n){this.data=t,this.parent=n,this.id=t.id}hasParent(){return!!this.parent}get childIndex(){return this.hasParent()?this.parent.children.indexOf(this):-1}addChild(t,n){var r,i;const o=Ide(t,this);this.children=(r=this.children)!==null&&r!==void 0?r:[],this.children.splice(n,0,o),this.data.children=(i=this.data.children)!==null&&i!==void 0?i:[],this.data.children.splice(n,0,t)}removeChild(t){var n,r;(n=this.children)===null||n===void 0||n.splice(t,1),(r=this.data.children)===null||r===void 0||r.splice(t,1)}update(t){if(this.hasParent()){const n=this.childIndex;this.parent.addChild(Object.assign(Object.assign({},this.data),t),n),this.drop()}}drop(){this.hasParent()&&this.parent.removeChild(this.childIndex)}}let w9n=0;function S9n(e){const[t,n]=O.useState(e),r=O.useMemo(()=>new AF(t),[t]);return[t,{onMove:c=>{for(const u of c.dragIds)r.move({id:u,parentId:c.parentId,index:c.index});n(r.data)},onRename:({name:c,id:u})=>{r.update({id:u,changes:{name:c}}),n(r.data)},onCreate:({parentId:c,index:u,type:f})=>{const d={id:`simple-tree-id-${w9n++}`,name:""};return f==="internal"&&(d.children=[]),r.create({parentId:c,index:u,data:d}),n(r.data),d},onDelete:c=>{c.ids.forEach(u=>r.drop({id:u})),n(r.data)}}]}function _9n(e){if(e.initialData&&e.data)throw new Error("React Arborist Tree => Provide either a data or initialData prop, but not both.");if(e.initialData&&(e.onCreate||e.onDelete||e.onMove||e.onRename))throw new Error(`React Arborist Tree => You passed the initialData prop along with a data handler.
Use the data prop if you want to provide your own handlers.`);if(e.initialData){const[t,n]=S9n(e.initialData);return Object.assign(Object.assign(Object.assign({},e),n),{data:t})}else return e}function C9n(e,t){const n=_9n(e);return b.jsxs(m9n,{treeProps:n,imperativeHandle:t,children:[b.jsx(v9n,{children:b.jsx(b9n,{})}),b.jsx(O9n,{})]})}const $9n=O.forwardRef(C9n);function E9n(e){const t=e.split(".").pop();if(t===void 0)return"unknown";switch(t.toLowerCase()){case"py":return"python";case"txt":case"md":return"text";case"png":case"jpg":case"jpeg":case"gif":return"image";case"csv":return"data";case"json":return"json";case"js":case"ts":case"tsx":case"html":case"css":case"toml":case"yaml":case"yml":return"code";default:return"unknown"}}const k9n={directory:c1t,python:dme,json:i1t,code:dme,text:ane,image:J4,data:t1t,unknown:o1t},yv="    ",zTe={directory:e=>`os.listdir("${e}")`,python:e=>`with open("${e}", "r") as _f:
${yv}...
`,json:e=>`with open("${e}", "r") as _f:
${yv}_data = json.load(_f)
`,code:e=>`with open("${e}", "r") as _f:
${yv}...
`,text:e=>`with open("${e}", "r") as _f:
${yv}...
`,image:e=>`with open("${e}", "rb") as _f:
${yv}...
`,data:e=>`with open("${e}", "r") as _f:
${yv}...
`,unknown:e=>`with open("${e}", "r") as _f:
${yv}...
`},T9n=Nn(new AF([])),P9n=Nn({}),R9n=({height:e})=>{const[t,n]=Fl(T9n),[r,i]=Fl(P9n);Hue(()=>{t.data.length>0||yY({path:void 0}).then(s=>{n(new AF(s.files))})});const o=document.getElementById("noop-dnd-container");return o?b.jsxs(b.Fragment,{children:[b.jsx($9n,{width:"100%",height:e,className:"h-full",data:t.data,dndRootElement:o,initialOpenState:r,openByDefault:!1,onToggle:s=>{const a=t.find(s);a&&a.data.isDirectory&&(a.children&&a.children.length>0||yY({path:s}).then(l=>{t.update({id:s,changes:{children:l.files}}),n(new AF(t.data));const c=r[s]??!1;i({...r,[s]:!c})}))},padding:15,rowHeight:30,indent:A9n,overscanCount:1e3,disableMultiSelection:!0,disableDrag:!0,disableDrop:!0,disableEdit:!0,children:D9n}),b.jsx("div",{id:"noop-dnd-container"})]}):null},A9n=15,D9n=({node:e,style:t})=>{const n=e.data.isDirectory?"directory":E9n(e.data.name),r=k9n[n],{openConfirm:i}=K0();return b.jsxs("div",{style:t,className:"flex items-center cursor-pointer ml-2 text-muted-foreground whitespace-nowrap",onClick:o=>{e.data.isDirectory&&(e.toggle(),o.stopPropagation())},children:[b.jsx(N9n,{node:e}),b.jsxs("span",{className:"flex items-center gap-2 px-2 py-1 cursor-pointer hover:bg-accent/50 hover:text-accent-foreground rounded-l flex-1",draggable:!0,onDragStart:o=>{const{path:s}=e.data,a=zTe[n](s);o.dataTransfer.setData("text/plain",a),o.stopPropagation()},onClick:()=>{if(e.data.isDirectory)return;Yr({title:"Copied to clipboard",description:"Code to open the file has been copied to your clipboard. You can also drag and drop this file into the editor"});const{path:o}=e.data,s=zTe[n](o);navigator.clipboard.writeText(s)},children:[b.jsx(r,{className:"w-5 h-5 flex-shrink-0",strokeWidth:1.5}),b.jsx("span",{className:"flex-1",children:e.data.name}),e.data.isMarimoFile?b.jsx(tn,{content:"Open file",children:b.jsx(R1t,{strokeWidth:1.5,onClick:async o=>{o.stopPropagation(),i({title:"Open notebook",description:"This will close the current notebook and open the selected notebook. You'll lose all data that's in memory.",confirmAction:b.jsx(m6,{onClick:async()=>{await d0t({path:e.data.path}),await VDe(),window.location.reload()},"aria-label":"Confirm",children:"Open"})})}})}):null]})]})},N9n=({node:e})=>e.data.isDirectory?e.isOpen?b.jsx(Vy,{className:"w-5 h-5 flex-shrink-0"}):b.jsx(one,{className:"w-5 h-5 flex-shrink-0"}):b.jsx("span",{className:"w-5 h-5 flex-shrink-0"}),M9n=e=>{const{ref:t,height:n=1}=Y4n();return b.jsxs("div",{ref:t,className:"h-full",children:[b.jsx("div",{id:"noop-dnd-container"}),b.jsx(R9n,{height:n})]})},I9n=({children:e})=>{const{isOpen:t,selectedPanel:n}=Vet(),{setIsOpen:r}=ade(),i=ie.useRef(null),o="left";O.useEffect(()=>{if(!i.current)return;const u=i.current.isCollapsed();t&&u&&i.current.expand(),!t&&!u&&i.current.collapse(),requestAnimationFrame(()=>{requestAnimationFrame(()=>{window.dispatchEvent(new Event("resize"))})})},[t]);const s=b.jsx(TJ,{id:"app",className:"relative h-full",children:e},`app-${o}`),a=b.jsx(Ltt,{onDragging:u=>{u||window.dispatchEvent(new Event("resize"))},className:ve("border-border no-print z-10",t?"resize-handle":"resize-handle-collapsed","vertical")}),l=b.jsxs("div",{className:"flex flex-col h-full flex-1 overflow-hidden mr-[-4px]",children:[b.jsxs("div",{className:"p-3 border-b flex justify-between items-center",children:[b.jsx("div",{className:"text-sm text-[var(--slate-11)] uppercase tracking-wide font-semibold flex-1",children:n}),b.jsx(zt,{className:"m-0",size:"xs",variant:"text",onClick:()=>r(!1),children:b.jsx(Fh,{className:"w-4 h-4"})})]}),n==="files"&&b.jsx(M9n,{}),n==="errors"&&b.jsx(M5n,{}),n==="variables"&&b.jsx(z4n,{}),n==="dependencies"&&b.jsx(L4n,{}),n==="outline"&&b.jsx(I5n,{}),n==="documentation"&&b.jsx(U4n,{}),n==="logs"&&b.jsx(Q4n,{})]}),c=b.jsx(TJ,{ref:i,id:"helper",collapsedSize:0,collapsible:!0,className:ve("bg-white dark:bg-[var(--slate-1)] rounded-lg no-print shadow-mdNeutral",t&&"m-4"),minSize:10,defaultSize:0,maxSize:45,onResize:(u,f)=>{var d;f===0&&u===10&&((d=i.current)==null||d.resize(30))},onCollapse:()=>r(!1),onExpand:()=>r(!0),children:b.jsxs("span",{className:"flex flex-row h-full",children:[l," ",a]})},`helper-${o}`);return b.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden absolute inset-0",children:[b.jsxs(Itt,{autoSaveId:"marimo:chrome",direction:"horizontal",storage:N5n(o),children:[c,s]},o),b.jsx(D5n,{})]})},L9n=()=>xh()?b.jsxs("div",{className:"px-4 py-2 bg-[var(--sky-2)] border-b border-[var(--sky-7)] text-md text-[var(--sky-11)] font-semibold flex justify-between items-center gap-4",children:[b.jsxs("span",{children:["This is a static Python notebook built using"," ",b.jsx("a",{href:"https://github.com/marimo-team/marimo",target:"_blank",className:"underline",children:"marimo"}),".",b.jsx("br",{}),"Some interactive features may not work, see ways to run or edit this."]}),b.jsx("span",{className:"flex-shrink-0",children:b.jsx(j9n,{})})]}):null,j9n=()=>{let e=lAe()||"notebook.py";const t=e.lastIndexOf("/");t!==-1&&(e=e.slice(t+1));const n=window.location.href,r=Jat(),i=tet(r);return b.jsxs(x6,{children:[b.jsx(DIe,{asChild:!0,children:b.jsx(zt,{variant:"secondary",children:"Run or edit this notebook"})}),b.jsxs(P0,{children:[b.jsxs(w6,{children:[b.jsx(qb,{children:e}),b.jsxs(dS,{className:"pt-4 text-md text-left",children:["This is a static notebook built using"," ",b.jsx("a",{href:"https://github.com/marimo-team/marimo",target:"_blank",className:"text-link hover:underline",children:"marimo"}),". marimo is an open-source next-generation Python notebook.",b.jsx("hr",{className:"my-3"}),"In order to edit this notebook, you will need to download the code locally, install marimo, and run the following in your terminal:",b.jsxs("div",{className:"font-mono text-sm bg-[var(--sky-2)] rounded-md my-3 p-2 border border-[var(--sky-7)]",children:["pip install marimo",b.jsx("br",{}),"marimo edit ",e]}),!n.endsWith(".html")&&b.jsxs(b.Fragment,{children:["or",b.jsxs("div",{className:"font-mono text-sm bg-[var(--sky-2)] rounded-md my-3 p-2 border border-[var(--sky-7)] break-all",children:["marimo edit ",window.location.href]})]}),b.jsx("hr",{className:"my-3"}),"You may also be able to run this notebook entirely in the browser via WebAssembly at:"," ",b.jsxs("a",{href:i,target:"_blank",className:"text-link hover:underline",children:[i.slice(0,40),"..."]}),b.jsx("br",{}),b.jsxs("div",{className:"text-sm text-muted-foreground pt-2",children:[b.jsx("strong",{children:"Note:"})," This feature is experimental and may not work for all notebooks. Additionally, some dependencies may not be available in the browser."]})]})]}),b.jsxs("div",{className:"flex gap-4 flex-wrap",children:[b.jsxs(zt,{variant:"secondary",onClick:()=>{window.navigator.clipboard.writeText(r),Yr({title:"Copied to clipboard"})},children:[b.jsx(HP,{className:"w-4 h-4 mr-1"}),"Copy code"]}),b.jsxs(zt,{variant:"secondary",onClick:()=>{yre(new Blob([r],{type:"text/plain"}),e)},children:[b.jsx($Ne,{className:"w-4 h-4 mr-1"}),"Download code"]})]})]})]})},F9n=()=>b.jsxs("div",{className:"flex flex-col h-full flex-1 items-center justify-center p-4",children:[b.jsx(qT,{className:"size-20 animate-spin text-primary",strokeWidth:1}),b.jsx("div",{className:"mt-2 text-muted-foreground font-semibold text-lg",children:"Initializing..."})]}),zrt=O.memo(()=>{const[e]=_Re(),[t]=CRe();O.useEffect(()=>{__n()},[]);const n=XJe==="read"?b.jsxs(b.Fragment,{children:[b.jsx(L9n,{}),b.jsx(YEe,{userConfig:e,appConfig:t}),b.jsx(ZEe,{})]}):b.jsxs(I9n,{children:[b.jsx(YEe,{userConfig:e,appConfig:t}),b.jsx(ZEe,{}),b.jsx(sDn,{})]});return b.jsx(Xee,{children:b.jsx(Q_,{children:b.jsx(a5n,{initialProps:{},children:b.jsx(Q9n,{children:b.jsx(N_n,{children:b.jsx(alt,{variables:{"--marimo-code-editor-font-size":z9n(e.display.code_editor_font_size)},children:n})})})})})})});zrt.displayName="MarimoApp";function z9n(e){return`${e/16}rem`}const Q9n=({children:e})=>{if(!zT())return e;const{loading:t}=N0(async()=>(await QT.INSTANCE.initialized.promise,!0),[]);return t?b.jsx(F9n,{}):e};var Lm,eT,Qrt,DF,Brt=-1,PA=function(e){addEventListener("pageshow",function(t){t.persisted&&(Brt=t.timeStamp,e(t))},!0)},Wrt=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},Lde=function(){var e=Wrt();return e&&e.activationStart||0},b0=function(e,t){var n=Wrt(),r="navigate";return Brt>=0?r="back-forward-cache":n&&(document.prerendering||Lde()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t===void 0?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},D9=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver(function(i){Promise.resolve().then(function(){t(i.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},O0=function(e,t,n,r){var i,o;return function(s){t.value>=0&&(s||r)&&((o=t.value-(i||0))||i===void 0)&&(i=t.value,t.delta=o,t.rating=function(a,l){return a>l[1]?"poor":a>l[0]?"needs-improvement":"good"}(t.value,n),e(t))}},jde=function(e){requestAnimationFrame(function(){return requestAnimationFrame(function(){return e()})})},Fde=function(e){var t=function(n){n.type!=="pagehide"&&document.visibilityState!=="hidden"||e(n)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},zde=function(e){var t=!1;return function(n){t||(e(n),t=!0)}},aw=-1,QTe=function(){return document.visibilityState!=="hidden"||document.prerendering?1/0:0},NF=function(e){document.visibilityState==="hidden"&&aw>-1&&(aw=e.type==="visibilitychange"?e.timeStamp:0,B9n())},BTe=function(){addEventListener("visibilitychange",NF,!0),addEventListener("prerenderingchange",NF,!0)},B9n=function(){removeEventListener("visibilitychange",NF,!0),removeEventListener("prerenderingchange",NF,!0)},Qde=function(){return aw<0&&(aw=QTe(),BTe(),PA(function(){setTimeout(function(){aw=QTe(),BTe()},0)})),{get firstHiddenTime(){return aw}}},Bde=function(e){document.prerendering?addEventListener("prerenderingchange",function(){return e()},!0):e()},WTe=[1800,3e3],W9n=function(e,t){t=t||{},Bde(function(){var n,r=Qde(),i=b0("FCP"),o=D9("paint",function(s){s.forEach(function(a){a.name==="first-contentful-paint"&&(o.disconnect(),a.startTime<r.firstHiddenTime&&(i.value=Math.max(a.startTime-Lde(),0),i.entries.push(a),n(!0)))})});o&&(n=O0(e,i,WTe,t.reportAllChanges),PA(function(s){i=b0("FCP"),n=O0(e,i,WTe,t.reportAllChanges),jde(function(){i.value=performance.now()-s.timeStamp,n(!0)})}))})},VTe=[.1,.25],V9n=function(e,t){t=t||{},W9n(zde(function(){var n,r=b0("CLS",0),i=0,o=[],s=function(l){l.forEach(function(c){if(!c.hadRecentInput){var u=o[0],f=o[o.length-1];i&&c.startTime-f.startTime<1e3&&c.startTime-u.startTime<5e3?(i+=c.value,o.push(c)):(i=c.value,o=[c])}}),i>r.value&&(r.value=i,r.entries=o,n())},a=D9("layout-shift",s);a&&(n=O0(e,r,VTe,t.reportAllChanges),Fde(function(){s(a.takeRecords()),n(!0)}),PA(function(){i=0,r=b0("CLS",0),n=O0(e,r,VTe,t.reportAllChanges),jde(function(){return n()})}),setTimeout(n,0))}))},ZE={passive:!0,capture:!0},U9n=new Date,UTe=function(e,t){Lm||(Lm=t,eT=e,Qrt=new Date,Urt(removeEventListener),Vrt())},Vrt=function(){if(eT>=0&&eT<Qrt-U9n){var e={entryType:"first-input",name:Lm.type,target:Lm.target,cancelable:Lm.cancelable,startTime:Lm.timeStamp,processingStart:Lm.timeStamp+eT};DF.forEach(function(t){t(e)}),DF=[]}},q9n=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;e.type=="pointerdown"?function(n,r){var i=function(){UTe(n,r),s()},o=function(){s()},s=function(){removeEventListener("pointerup",i,ZE),removeEventListener("pointercancel",o,ZE)};addEventListener("pointerup",i,ZE),addEventListener("pointercancel",o,ZE)}(t,e):UTe(t,e)}},Urt=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach(function(t){return e(t,q9n,ZE)})},qTe=[100,300],Y9n=function(e,t){t=t||{},Bde(function(){var n,r=Qde(),i=b0("FID"),o=function(l){l.startTime<r.firstHiddenTime&&(i.value=l.processingStart-l.startTime,i.entries.push(l),n(!0))},s=function(l){l.forEach(o)},a=D9("first-input",s);n=O0(e,i,qTe,t.reportAllChanges),a&&Fde(zde(function(){s(a.takeRecords()),a.disconnect()})),a&&PA(function(){var l;i=b0("FID"),n=O0(e,i,qTe,t.reportAllChanges),DF=[],eT=-1,Lm=null,Urt(addEventListener),l=o,DF.push(l),Vrt()})})},YTe=[2500,4e3],VU={},X9n=function(e,t){t=t||{},Bde(function(){var n,r=Qde(),i=b0("LCP"),o=function(l){var c=l[l.length-1];c&&c.startTime<r.firstHiddenTime&&(i.value=Math.max(c.startTime-Lde(),0),i.entries=[c],n())},s=D9("largest-contentful-paint",o);if(s){n=O0(e,i,YTe,t.reportAllChanges);var a=zde(function(){VU[i.id]||(o(s.takeRecords()),s.disconnect(),VU[i.id]=!0,n(!0))});["keydown","click"].forEach(function(l){addEventListener(l,function(){return setTimeout(a,0)},!0)}),Fde(a),PA(function(l){i=b0("LCP"),n=O0(e,i,YTe,t.reportAllChanges),jde(function(){i.value=performance.now()-l.timeStamp,VU[i.id]=!0,n(!0)})})}})};function H9n(){Ut.log("Reporting vitals");const e=t=>{const n=t.rating==="good"?"green":t.rating==="needs-improvement"?"orange":"red";Ut.log(`%c [Metric ${t.name}] ${t.value}`,`background:${n}; color:white; padding:2px 0; border-radius:2px`)};V9n(e),Y9n(e),X9n(e)}const Z9n=typeof window<"u"&&window.parent!==window;function G9n(){Z9n&&(Ut.log("Registering VS Code bindings"),J9n(),K9n(),eQn(),tQn())}function K9n(){window.addEventListener("copy",()=>{var t;const e=((t=window.getSelection())==null?void 0:t.toString())??"";R1({command:"copy",text:e})}),window.addEventListener("cut",()=>{var t;const e=((t=window.getSelection())==null?void 0:t.toString())??"";document.execCommand("insertText",!1,""),R1({command:"cut",text:e})}),window.addEventListener("message",e=>{const t=e.data;switch(t.command){case"paste":document.execCommand("insertText",!1,t.text);return}})}function J9n(){document.addEventListener("keydown",e=>{var t,n;if((e.ctrlKey||e.metaKey)&&e.key==="c"){const r=((t=window.getSelection())==null?void 0:t.toString())??"";R1({command:"copy",text:r});return}if((e.ctrlKey||e.metaKey)&&e.key==="x"){const r=((n=window.getSelection())==null?void 0:n.toString())??"";document.execCommand("insertText",!1,""),R1({command:"cut",text:r});return}if((e.ctrlKey||e.metaKey)&&e.key==="v"){R1({command:"paste"});return}})}function eQn(){document.addEventListener("click",e=>{const t=e.target;if(t.tagName!=="A")return;const n=t.getAttribute("href");n&&(n.startsWith("http://")||n.startsWith("https://"))&&(e.preventDefault(),R1({command:"external_link",url:n}))})}function tQn(){document.addEventListener("contextmenu",e=>{e.preventDefault(),R1({command:"context_menu"})})}function R1(e){var t;(t=window.parent)==null||t.postMessage(e,"*")}G9n();xh()&&(hDn(),pDn(v6e));const XTe=KI.createRoot(document.getElementById("root"));try{XTe.render(b.jsx(hRe,{store:Tn,children:b.jsx($Re,{children:b.jsx(zrt,{})})}))}catch(e){const t=()=>{throw e};XTe.render(b.jsx(Xee,{children:b.jsx(t,{})}))}finally{H9n()}export{GOt as $,kKe as A,UTn as B,koe as C,AKe as D,tc as E,Doe as F,WKe as G,Cfe as H,m2n as I,Ut as J,b as K,ub as L,dIe as M,Yt as N,C8e as O,q1 as P,wme as Q,ie as R,tie as S,gf as T,une as U,SZe as V,aOt as W,_me as X,uOt as Y,r6 as Z,ZOt as _,F_e as a,WM as a$,cS as a0,B_ as a1,zh as a2,Wme as a3,Hf as a4,EY as a5,qNe as a6,dne as a7,QNe as a8,O_t as a9,Oft as aA,$e as aB,_0 as aC,N0 as aD,N5t as aE,cKe as aF,Uje as aG,sL as aH,TQe as aI,ZNe as aJ,Kbt as aK,sOt as aL,hne as aM,ySt as aN,hSt as aO,HNe as aP,vSt as aQ,wh as aR,kme as aS,VNe as aT,Ime as aU,n6 as aV,__t as aW,dSt as aX,y_t as aY,wbt as aZ,Jbt as a_,Yp as aa,Bme as ab,nxt as ac,ct as ad,gne as ae,Sf as af,gw as ag,vft as ah,jZt as ai,FZt as aj,zZt as ak,QZt as al,WZt as am,VZt as an,BZt as ao,qZt as ap,YZt as aq,UZt as ar,Kse as as,XZt as at,HZt as au,ZZt as av,GZt as aw,KZt as ax,eGt as ay,JZt as az,tb as b,P_t as b0,x_t as b1,c_t as b2,uS as b3,YNe as b4,a6 as b5,cne as b6,mne as b7,u_t as b8,xbt as b9,JFt as bA,aC as bB,fr as bC,SQe as bD,CQe as bE,MZt as bF,rae as bG,Yh as bH,Cc as bI,mwt as ba,B_t as bb,s6 as bc,Ybt as bd,LQ as be,jQ as bf,Wc as bg,Ztt as bh,U5n as bi,KGt as bj,sH as bk,m1 as bl,yBe as bm,AGt as bn,Nie as bo,O2 as bp,Gp as bq,a7 as br,o7 as bs,Ip as bt,wS as bu,N3 as bv,ZFt as bw,GFt as bx,SS as by,KFt as bz,Dre as c,Jy as d,Ce as e,R0 as f,Uu as g,m2 as h,n8e as i,Ooe as j,eC as k,rI as l,iI as m,Si as n,bfe as o,kg as p,Du as q,O as r,Hb as s,G as t,OP as u,xKe as v,fKe as w,nt as x,br as y,Ee as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["./any-language-editor-PV96cQ9t.js","./index-66i53PUW.js","./index-mrXvaZkp.js","./index-1ntHIOnw.js","./index-Mi27L5xn.js","./index-EcmkoEcS.js","./index-FijxVbf-.js","./index-iNvYh1US.js","./index-MJRnrW7s.js","./index-njrmhRPj.js","./index-KnOz0bCh.js","./index-gRcQ3Cgj.js","./index-Dh8RGAri.js","./index-9wqn0ISp.js","./apl-NWJ71v8P.js","./asciiarmor-b1CB_ZQy.js","./asterisk-ACCUf8tF.js","./brainfuck-PKU_UYGU.js","./clike-mt9ye8fP.js","./cmake-eS1IfDXW.js","./cobol-33-QaiV4.js","./coffeescript-VEaTNWO1.js","./commonlisp-kJBx8_bc.js","./crystal-dFKz1t2p.js","./cypher-QyyJuGxc.js","./d-Ux4432M7.js","./diff-W9T6HfPr.js","./dockerfile-lwekK1pc.js","./simple-mode-C4imR_6Q.js","./dtd-wOAoOpgq.js","./dylan-NRnXAE2N.js","./ebnf-d73T8eT9.js","./ecl-Iq2T8Exp.js","./eiffel-bWq2HPfv.js","./elm-ya_I4TKC.js","./erlang-TfXG0eQu.js","./factor-n5C-8Rbj.js","./fcl-TM4st5N8.js","./forth-QMA36C2f.js","./fortran-VJrN18k6.js","./gas-FGOyvNF7.js","./gherkin-pp3J_uZm.js","./go-FYuTHF55.js","./groovy-EIBxbSyw.js","./haskell-Bro2iIMS.js","./haxe-d1iSDE_y.js","./http-CuvaccQI.js","./idl-q3g1g2-u.js","./jinja2-cN3oZf3H.js","./julia-VvN2hwtz.js","./livescript-7ItMEI6r.js","./lua-mz08zoKz.js","./mathematica-ssx8jSNw.js","./mbox-i42h5yC3.js","./mirc-xT_VZoiu.js","./modelica-Ih1c_U0Z.js","./mscgen-n9YzwnbL.js","./mumps-_AJA66o-.js","./nginx-kN-ewIt1.js","./nsis-jdviaxxC.js","./ntriples-I089Btpy.js","./octave-r9zOB_Vn.js","./oz-YDRr8C9p.js","./pascal-jv2vrLQY.js","./perl-nuTMZjQF.js","./pig-oLtu5bJ7.js","./powershell-DqDkz_Va.js","./properties-sEOi2jVd.js","./protobuf-sval7f48.js","./puppet-hc5qP9oF.js","./q-iLNioecz.js","./r-2K9hScqI.js","./ruby-fz4IzCwP.js","./sas-myoI2zC6.js","./scheme-Wu_JkYzm.js","./shell-R8s-uXLG.js","./sieve-BFMRIS71.js","./smalltalk-QQ4DQgSw.js","./solr-O4MIKuLG.js","./sparql-BNeMoJj7.js","./spreadsheet-8QjSk1AQ.js","./stex-cSGW5tcK.js","./stylus-AowBLEsR.js","./swift--PB4YP9H.js","./tcl-IIeu2IgZ.js","./textile-TGFROhJu.js","./tiddlywiki-v9VLGu89.js","./tiki-xL01oi36.js","./toml-KzdM7nz6.js","./troff-TW67-YrU.js","./ttcn-lKwyfmq7.js","./turtle-HvFxsMWZ.js","./vb-jxJyRQTP.js","./vbscript-9aq5ZLL2.js","./velocity-tQduwHMU.js","./verilog-gtvpmGm4.js","./vhdl-yDlzwohc.js","./webidl-AOIJrqhM.js","./xquery-BsqSevUJ.js","./yacas-DpZwsl3j.js","./z80-b6-IzNvM.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
